"use strict";(self.webpackChunkinternals_explorer=self.webpackChunkinternals_explorer||[]).push([[8953],{71451:Xe=>{Xe.exports=function(we){var e=[];return e.toString=function(){return this.map(function(P){var r=we(P);return P[2]?"@media ".concat(P[2]," {").concat(r,"}"):r}).join("")},e.i=function(f,P,r){"string"==typeof f&&(f=[[null,f,""]]);var y={};if(r)for(var v=0;v<this.length;v++){var S=this[v][0];null!=S&&(y[S]=!0)}for(var T=0;T<f.length;T++){var E=[].concat(f[T]);r&&y[E[0]]||(P&&(E[2]=E[2]?"".concat(P," and ").concat(E[2]):P),e.push(E))}},e}},20569:Xe=>{Xe.exports=function(we,e){return e||(e={}),"string"!=typeof(we=we&&we.__esModule?we.default:we)?we:(/^['"].*['"]$/.test(we)&&(we=we.slice(1,-1)),e.hash&&(we+=e.hash),/["'() \t\n]/.test(we)||e.needQuotes?'"'.concat(we.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):we)}},8673:(Xe,we,e)=>{e.r(we),e.d(we,{CancellationTokenSource:()=>nh,Emitter:()=>oh,KeyCode:()=>sh,KeyMod:()=>rh,MarkerSeverity:()=>hh,MarkerTag:()=>uh,Position:()=>ah,Range:()=>lh,Selection:()=>dh,SelectionDirection:()=>ch,Token:()=>fh,Uri:()=>gh,default:()=>Ef,editor:()=>mh,languages:()=>ph});var f={};e.r(f),e.d(f,{CancellationTokenSource:()=>nh,Emitter:()=>oh,KeyCode:()=>sh,KeyMod:()=>rh,MarkerSeverity:()=>hh,MarkerTag:()=>uh,Position:()=>ah,Range:()=>lh,Selection:()=>dh,SelectionDirection:()=>ch,Token:()=>fh,Uri:()=>gh,editor:()=>mh,languages:()=>ph}),e(38811),e(17129),e(92987),e(40972),e(99931),e(74658),e(81715),e(96999),e(96127),e(83402),e(67120),e(12816),e(14864),e(89609),e(48940),e(49469),e(32498),e(49375),e(60209),e(48943),e(84488),e(50984),e(65391),e(88516),e(96788),e(30015),e(35307),e(45916),e(51879),e(60676),e(5711),e(77132),e(81123),e(21841),e(67494),e(90178),e(31710),e(72905),e(95242),e(78892),e(57084),e(77215),e(87178),e(76348),e(63340),e(18228),e(3081),e(77351),e(7411),e(13933),e(87814),e(50286),e(15513),e(50539),e(63618),e(19257),e(44104),e(63697),e(31726),e(79834),e(41364);var Q=e(36413),le=e(93663),Fe=e(93379),He=e.n(Fe),Je=e(7795),ot=e.n(Je),lt=e(90569),mt=e.n(lt),ft=e(3565),Lt=e.n(ft),Tt=e(19216),Mt=e.n(Tt),Ut=e(44589),At=e.n(Ut),It=e(70643),it={};it.styleTagTransform=At(),it.setAttributes=Lt(),it.insert=mt().bind(null,"head"),it.domAPI=ot(),it.insertStyleElement=Mt(),He()(It.Z,it);var Ee=e(78694),Te=e(16055),Ae=e(15850),ht=e(50030),yt=e(51617),Dt=e(81149),Ot=e(25349),gt=e(50144),Rt=e(24470),Zt=e(81814),Ci=e(58459),ci=e(99002),Mi=e(74315),Gi=e(41204),Zi=e(52209),St=e(11714);class ut extends St.Q8{constructor(n,s,C){super(n,C.keepIdleModels||!1,C.label,s),this._foreignModuleId=C.moduleId,this._foreignModuleCreateData=C.createData||null,this._foreignModuleHost=C.host||null,this._foreignProxy=null}fhr(n,s){if(!this._foreignModuleHost||"function"!=typeof this._foreignModuleHost[n])return Promise.reject(new Error("Missing method "+n+" or missing main thread foreign host."));try{return Promise.resolve(this._foreignModuleHost[n].apply(this._foreignModuleHost,s))}catch(C){return Promise.reject(C)}}_getForeignProxy(){return this._foreignProxy||(this._foreignProxy=this._getProxy().then(n=>{const s=this._foreignModuleHost?(0,Zi.$E)(this._foreignModuleHost):[];return n.loadForeignModule(this._foreignModuleId,this._foreignModuleCreateData,s).then(C=>{this._foreignModuleCreateData=null;const H=(Oe,ze)=>n.fmr(Oe,ze),X=(Oe,ze)=>function(){const Qe=Array.prototype.slice.call(arguments,0);return ze(Oe,Qe)},me={};for(const Oe of C)me[Oe]=X(Oe,H);return me})})),this._foreignProxy}getProxy(){return this._getForeignProxy()}withSyncedResources(n){return this._withSyncedResources(n).then(s=>this.getProxy())}}var pt=e(15437),Ne=e(75578),je=e(39424),et=e(82911),wt=e(56970);function xt(de){return!function Bt(de){return Array.isArray(de)}(de)}function Qt(de){return"string"==typeof de}function ai(de){return!Qt(de)}function gi(de){return!de}function di(de,n){return de.ignoreCase&&n?n.toLowerCase():n}function Ei(de){return de.replace(/[&<>'"_]/g,"-")}function Ki(de,n){console.log(`${de.languageId}: ${n}`)}function zi(de,n){return new Error(`${de.languageId}: ${n}`)}function qi(de,n,s,C,H){let me=null;return n.replace(/\$((\$)|(#)|(\d\d?)|[sS](\d\d?)|@(\w+))/g,function(Oe,ze,Qe,tt,_t,jt,Xt,Di,xi){return gi(Qe)?gi(tt)?!gi(_t)&&_t<C.length?di(de,C[_t]):!gi(Xt)&&de&&"string"==typeof de[Xt]?de[Xt]:(null===me&&(me=H.split("."),me.unshift(H)),!gi(jt)&&jt<me.length?di(de,me[jt]):""):di(de,s):"$"})}function fn(de,n){let s=n;for(;s&&s.length>0;){const C=de.tokenizer[s];if(C)return C;const H=s.lastIndexOf(".");s=H<0?null:s.substr(0,H)}return null}var ui,xn=e(47358);class Nt{static create(n,s){return this._INSTANCE.create(n,s)}constructor(n){this._maxCacheDepth=n,this._entries=Object.create(null)}create(n,s){if(null!==n&&n.depth>=this._maxCacheDepth)return new Wt(n,s);let C=Wt.getStackElementId(n);C.length>0&&(C+="|"),C+=s;let H=this._entries[C];return H||(H=new Wt(n,s),this._entries[C]=H,H)}}Nt._INSTANCE=new Nt(5);class Wt{constructor(n,s){this.parent=n,this.state=s,this.depth=(this.parent?this.parent.depth:0)+1}static getStackElementId(n){let s="";for(;null!==n;)s.length>0&&(s+="|"),s+=n.state,n=n.parent;return s}static _equals(n,s){for(;null!==n&&null!==s;){if(n===s)return!0;if(n.state!==s.state)return!1;n=n.parent,s=s.parent}return null===n&&null===s}equals(n){return Wt._equals(this,n)}push(n){return Nt.create(this,n)}pop(){return this.parent}popall(){let n=this;for(;n.parent;)n=n.parent;return n}switchTo(n){return Nt.create(this.parent,n)}}class li{constructor(n,s){this.languageId=n,this.state=s}equals(n){return this.languageId===n.languageId&&this.state.equals(n.state)}clone(){return this.state.clone()===this.state?this:new li(this.languageId,this.state)}}class Yt{static create(n,s){return this._INSTANCE.create(n,s)}constructor(n){this._maxCacheDepth=n,this._entries=Object.create(null)}create(n,s){if(null!==s)return new bi(n,s);if(null!==n&&n.depth>=this._maxCacheDepth)return new bi(n,s);const C=Wt.getStackElementId(n);let H=this._entries[C];return H||(H=new bi(n,null),this._entries[C]=H,H)}}Yt._INSTANCE=new Yt(5);class bi{constructor(n,s){this.stack=n,this.embeddedLanguageData=s}clone(){return(this.embeddedLanguageData?this.embeddedLanguageData.clone():null)===this.embeddedLanguageData?this:Yt.create(this.stack,this.embeddedLanguageData)}equals(n){return!!(n instanceof bi&&this.stack.equals(n.stack))&&(null===this.embeddedLanguageData&&null===n.embeddedLanguageData||null!==this.embeddedLanguageData&&null!==n.embeddedLanguageData&&this.embeddedLanguageData.equals(n.embeddedLanguageData))}}class Fi{constructor(){this._tokens=[],this._languageId=null,this._lastTokenType=null,this._lastTokenLanguage=null}enterLanguage(n){this._languageId=n}emit(n,s){this._lastTokenType===s&&this._lastTokenLanguage===this._languageId||(this._lastTokenType=s,this._lastTokenLanguage=this._languageId,this._tokens.push(new Zt.WU(n,s,this._languageId)))}nestedLanguageTokenize(n,s,C,H){const X=C.languageId,me=C.state,Oe=Zt.RW.get(X);if(!Oe)return this.enterLanguage(X),this.emit(H,""),me;const ze=Oe.tokenize(n,s,me);if(0!==H)for(const Qe of ze.tokens)this._tokens.push(new Zt.WU(Qe.offset+H,Qe.type,Qe.language));else this._tokens=this._tokens.concat(ze.tokens);return this._lastTokenType=null,this._lastTokenLanguage=null,this._languageId=null,ze.endState}finalize(n){return new Zt.hG(this._tokens,n)}}class Yi{constructor(n,s){this._languageService=n,this._theme=s,this._prependTokens=null,this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0}enterLanguage(n){this._currentLanguageId=this._languageService.languageIdCodec.encodeLanguageId(n)}emit(n,s){const C=1024|this._theme.match(this._currentLanguageId,s);this._lastTokenMetadata!==C&&(this._lastTokenMetadata=C,this._tokens.push(n),this._tokens.push(C))}static _merge(n,s,C){const H=null!==n?n.length:0,X=s.length,me=null!==C?C.length:0;if(0===H&&0===X&&0===me)return new Uint32Array(0);if(0===H&&0===X)return C;if(0===X&&0===me)return n;const Oe=new Uint32Array(H+X+me);null!==n&&Oe.set(n);for(let ze=0;ze<X;ze++)Oe[H+ze]=s[ze];return null!==C&&Oe.set(C,H+X),Oe}nestedLanguageTokenize(n,s,C,H){const X=C.languageId,me=C.state,Oe=Zt.RW.get(X);if(!Oe)return this.enterLanguage(X),this.emit(H,""),me;const ze=Oe.tokenizeEncoded(n,s,me);if(0!==H)for(let Qe=0,tt=ze.tokens.length;Qe<tt;Qe+=2)ze.tokens[Qe]+=H;return this._prependTokens=Yi._merge(this._prependTokens,this._tokens,ze.tokens),this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0,ze.endState}finalize(n){return new Zt.DI(Yi._merge(this._prependTokens,this._tokens,null),n)}}let Qi=ui=class{constructor(n,s,C,H,X){this._configurationService=X,this._languageService=n,this._standaloneThemeService=s,this._languageId=C,this._lexer=H,this._embeddedLanguages=Object.create(null),this.embeddedLoaded=Promise.resolve(void 0);let me=!1;this._tokenizationRegistryListener=Zt.RW.onDidChange(Oe=>{if(me)return;let ze=!1;for(let Qe=0,tt=Oe.changedLanguages.length;Qe<tt;Qe++)if(this._embeddedLanguages[Oe.changedLanguages[Qe]]){ze=!0;break}ze&&(me=!0,Zt.RW.handleChange([this._languageId]),me=!1)}),this._maxTokenizationLineLength=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:this._languageId}),this._configurationService.onDidChangeConfiguration(Oe=>{Oe.affectsConfiguration("editor.maxTokenizationLineLength")&&(this._maxTokenizationLineLength=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:this._languageId}))})}dispose(){this._tokenizationRegistryListener.dispose()}getLoadStatus(){const n=[];for(const s in this._embeddedLanguages){const C=Zt.RW.get(s);if(C){if(C instanceof ui){const H=C.getLoadStatus();!1===H.loaded&&n.push(H.promise)}}else Zt.RW.isResolved(s)||n.push(Zt.RW.getOrCreate(s))}return 0===n.length?{loaded:!0}:{loaded:!1,promise:Promise.all(n).then(s=>{})}}getInitialState(){const n=Nt.create(null,this._lexer.start);return Yt.create(n,null)}tokenize(n,s,C){if(n.length>=this._maxTokenizationLineLength)return(0,ci.Ri)(this._languageId,C);const H=new Fi,X=this._tokenize(n,s,C,H);return H.finalize(X)}tokenizeEncoded(n,s,C){if(n.length>=this._maxTokenizationLineLength)return(0,ci.Dy)(this._languageService.languageIdCodec.encodeLanguageId(this._languageId),C);const H=new Yi(this._languageService,this._standaloneThemeService.getColorTheme().tokenTheme),X=this._tokenize(n,s,C,H);return H.finalize(X)}_tokenize(n,s,C,H){return C.embeddedLanguageData?this._nestedTokenize(n,s,C,0,H):this._myTokenize(n,s,C,0,H)}_findLeavingNestedLanguageOffset(n,s){let C=this._lexer.tokenizer[s.stack.state];if(!C&&(C=fn(this._lexer,s.stack.state),!C))throw zi(this._lexer,"tokenizer state is not defined: "+s.stack.state);let H=-1,X=!1;for(const me of C){if(!ai(me.action)||"@pop"!==me.action.nextEmbedded)continue;X=!0;let Oe=me.regex;const ze=me.regex.source;if("^(?:"===ze.substr(0,4)&&")"===ze.substr(ze.length-1,1)){const tt=(Oe.ignoreCase?"i":"")+(Oe.unicode?"u":"");Oe=new RegExp(ze.substr(4,ze.length-5),tt)}const Qe=n.search(Oe);-1===Qe||0!==Qe&&me.matchOnlyAtLineStart||(-1===H||Qe<H)&&(H=Qe)}if(!X)throw zi(this._lexer,'no rule containing nextEmbedded: "@pop" in tokenizer embedded state: '+s.stack.state);return H}_nestedTokenize(n,s,C,H,X){const me=this._findLeavingNestedLanguageOffset(n,C);if(-1===me){const Qe=X.nestedLanguageTokenize(n,s,C.embeddedLanguageData,H);return Yt.create(C.stack,new li(C.embeddedLanguageData.languageId,Qe))}const Oe=n.substring(0,me);Oe.length>0&&X.nestedLanguageTokenize(Oe,!1,C.embeddedLanguageData,H);const ze=n.substring(me);return this._myTokenize(ze,s,C,H+me,X)}_safeRuleName(n){return n?n.name:"(unknown)"}_myTokenize(n,s,C,H,X){X.enterLanguage(this._languageId);const me=n.length,Oe=s&&this._lexer.includeLF?n+"\n":n,ze=Oe.length;let Qe=C.embeddedLanguageData,tt=C.stack,_t=0,jt=null,Xt=!0;for(;Xt||_t<ze;){const Di=_t,xi=tt.depth,Oi=jt?jt.groups.length:0,Ui=tt.state;let an=null,pn=null,Ri=null,Sn=null,Yn=null;if(jt){an=jt.matches;const Hn=jt.groups.shift();pn=Hn.matched,Ri=Hn.action,Sn=jt.rule,0===jt.groups.length&&(jt=null)}else{if(!Xt&&_t>=ze)break;Xt=!1;let Hn=this._lexer.tokenizer[Ui];if(!Hn&&(Hn=fn(this._lexer,Ui),!Hn))throw zi(this._lexer,"tokenizer state is not defined: "+Ui);const oo=Oe.substr(_t);for(const Jn of Hn)if((0===_t||!Jn.matchOnlyAtLineStart)&&(an=oo.match(Jn.regex),an)){pn=an[0],Ri=Jn.action;break}}if(an||(an=[""],pn=""),Ri||(_t<ze&&(an=[Oe.charAt(_t)],pn=an[0]),Ri=this._lexer.defaultToken),null===pn)break;for(_t+=pn.length;xt(Ri)&&ai(Ri)&&Ri.test;)Ri=Ri.test(pn,an,Ui,_t===ze);let zn=null;if("string"==typeof Ri||Array.isArray(Ri))zn=Ri;else if(Ri.group)zn=Ri.group;else if(null!=Ri.token){if(zn=Ri.tokenSubst?qi(this._lexer,Ri.token,pn,an,Ui):Ri.token,Ri.nextEmbedded)if("@pop"===Ri.nextEmbedded){if(!Qe)throw zi(this._lexer,"cannot pop embedded language if not inside one");Qe=null}else{if(Qe)throw zi(this._lexer,"cannot enter embedded language from within an embedded language");Yn=qi(this._lexer,Ri.nextEmbedded,pn,an,Ui)}if(Ri.goBack&&(_t=Math.max(0,_t-Ri.goBack)),Ri.switchTo&&"string"==typeof Ri.switchTo){let Hn=qi(this._lexer,Ri.switchTo,pn,an,Ui);if("@"===Hn[0]&&(Hn=Hn.substr(1)),!fn(this._lexer,Hn))throw zi(this._lexer,"trying to switch to a state '"+Hn+"' that is undefined in rule: "+this._safeRuleName(Sn));tt=tt.switchTo(Hn)}else{if(Ri.transform&&"function"==typeof Ri.transform)throw zi(this._lexer,"action.transform not supported");if(Ri.next)if("@push"===Ri.next){if(tt.depth>=this._lexer.maxStack)throw zi(this._lexer,"maximum tokenizer stack size reached: ["+tt.state+","+tt.parent.state+",...]");tt=tt.push(Ui)}else if("@pop"===Ri.next){if(tt.depth<=1)throw zi(this._lexer,"trying to pop an empty stack in rule: "+this._safeRuleName(Sn));tt=tt.pop()}else if("@popall"===Ri.next)tt=tt.popall();else{let Hn=qi(this._lexer,Ri.next,pn,an,Ui);if("@"===Hn[0]&&(Hn=Hn.substr(1)),!fn(this._lexer,Hn))throw zi(this._lexer,"trying to set a next state '"+Hn+"' that is undefined in rule: "+this._safeRuleName(Sn));tt=tt.push(Hn)}}Ri.log&&"string"==typeof Ri.log&&Ki(this._lexer,this._lexer.languageId+": "+qi(this._lexer,Ri.log,pn,an,Ui))}if(null===zn)throw zi(this._lexer,"lexer rule has no well-defined action in rule: "+this._safeRuleName(Sn));const to=Hn=>{const oo=this._languageService.getLanguageIdByLanguageName(Hn)||this._languageService.getLanguageIdByMimeType(Hn)||Hn,Jn=this._getNestedEmbeddedLanguageData(oo);if(_t<ze){const Lo=n.substr(_t);return this._nestedTokenize(Lo,s,Yt.create(tt,Jn),H+_t,X)}return Yt.create(tt,Jn)};if(Array.isArray(zn)){if(jt&&jt.groups.length>0)throw zi(this._lexer,"groups cannot be nested: "+this._safeRuleName(Sn));if(an.length!==zn.length+1)throw zi(this._lexer,"matched number of groups does not match the number of actions in rule: "+this._safeRuleName(Sn));let Hn=0;for(let oo=1;oo<an.length;oo++)Hn+=an[oo].length;if(Hn!==pn.length)throw zi(this._lexer,"with groups, all characters should be matched in consecutive groups in rule: "+this._safeRuleName(Sn));jt={rule:Sn,matches:an,groups:[]};for(let oo=0;oo<zn.length;oo++)jt.groups[oo]={action:zn[oo],matched:an[oo+1]};_t-=pn.length}else{{if("@rematch"===zn&&(_t-=pn.length,pn="",an=null,zn="",null!==Yn))return to(Yn);if(0===pn.length){if(0===ze||xi!==tt.depth||Ui!==tt.state||(jt?jt.groups.length:0)!==Oi)continue;throw zi(this._lexer,"no progress in tokenizer in rule: "+this._safeRuleName(Sn))}let Hn=null;if(Qt(zn)&&0===zn.indexOf("@brackets")){const oo=zn.substr(9),Jn=cn(this._lexer,pn);if(!Jn)throw zi(this._lexer,"@brackets token returned but no bracket defined as: "+pn);Hn=Ei(Jn.token+oo)}else Hn=Ei(""===zn?"":zn+this._lexer.tokenPostfix);Di<me&&X.emit(Di+H,Hn)}if(null!==Yn)return to(Yn)}}return Yt.create(tt,Qe)}_getNestedEmbeddedLanguageData(n){if(!this._languageService.isRegisteredLanguageId(n))return new li(n,ci.TJ);n!==this._languageId&&(this._languageService.requestBasicLanguageFeatures(n),Zt.RW.getOrCreate(n),this._embeddedLanguages[n]=!0);const s=Zt.RW.get(n);return new li(n,s?s.getInitialState():ci.TJ)}};var n;function cn(de,n){if(!n)return null;n=di(de,n);const s=de.brackets;for(const C of s){if(C.open===n)return{token:C.token,bracketType:1};if(C.close===n)return{token:C.token,bracketType:-1}}return null}Qi=ui=function(de,n,s,C){var me,H=arguments.length,X=H<3?n:null===C?C=Object.getOwnPropertyDescriptor(n,s):C;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)X=Reflect.decorate(de,n,s,C);else for(var Oe=de.length-1;Oe>=0;Oe--)(me=de[Oe])&&(X=(H<3?me(X):H>3?me(n,s,X):me(n,s))||X);return H>3&&X&&Object.defineProperty(n,s,X),X}([(4,n=xn.Ui,function(s,C){n(s,C,4)})],Qi);const Dn=(0,Ne.Z)("standaloneColorizer",{createHTML:de=>de});class Pn{static colorizeElement(n,s,C,H){const X=(H=H||{}).theme||"vs",me=H.mimeType||C.getAttribute("lang")||C.getAttribute("data-lang");if(!me)return console.error("Mode not detected"),Promise.resolve();const Oe=s.getLanguageIdByMimeType(me)||me;n.setTheme(X);const ze=C.firstChild?C.firstChild.nodeValue:"";return C.className+=" "+X,this.colorize(s,ze||"",Oe,H).then(tt=>{var _t;const jt=null!==(_t=Dn?.createHTML(tt))&&void 0!==_t?_t:tt;C.innerHTML=jt},tt=>console.error(tt))}static colorize(n,s,C,H){return function(de,n,s,C){return new(s||(s=Promise))(function(X,me){function Oe(tt){try{Qe(C.next(tt))}catch(_t){me(_t)}}function ze(tt){try{Qe(C.throw(tt))}catch(_t){me(_t)}}function Qe(tt){tt.done?X(tt.value):function H(X){return X instanceof s?X:new s(function(me){me(X)})}(tt.value).then(Oe,ze)}Qe((C=C.apply(de,n||[])).next())})}(this,void 0,void 0,function*(){const X=n.languageIdCodec;let me=4;H&&"number"==typeof H.tabSize&&(me=H.tabSize),Te.uS(s)&&(s=s.substr(1));const Oe=Te.uq(s);if(!n.isRegisteredLanguageId(C))return Xn(Oe,me,X);const ze=yield Zt.RW.getOrCreate(C);return ze?function vn(de,n,s,C){return new Promise((H,X)=>{const me=()=>{const Oe=function Wn(de,n,s,C){let H=[],X=s.getInitialState();for(let me=0,Oe=de.length;me<Oe;me++){const ze=de[me],Qe=s.tokenizeEncoded(ze,!0,X);je.A.convertToEndOffset(Qe.tokens,ze.length);const tt=new je.A(Qe.tokens,ze,C),_t=wt.wA.isBasicASCII(ze,!0),jt=wt.wA.containsRTL(ze,_t,!0),Xt=(0,et.tF)(new et.IJ(!1,!0,ze,!1,_t,jt,0,tt.inflate(),[],n,0,0,0,0,-1,"none",!1,!1,null));H=H.concat(Xt.html),H.push("<br/>"),X=Qe.endState}return H.join("")}(de,n,s,C);if(s instanceof Qi){const ze=s.getLoadStatus();if(!1===ze.loaded)return void ze.promise.then(me,X)}H(Oe)};me()})}(Oe,me,ze,X):Xn(Oe,me,X)})}static colorizeLine(n,s,C,H,X=4){const me=wt.wA.isBasicASCII(n,s),Oe=wt.wA.containsRTL(n,me,C);return(0,et.tF)(new et.IJ(!1,!0,n,!1,me,Oe,0,H,[],X,0,0,0,0,-1,"none",!1,!1,null)).html}static colorizeModelLine(n,s,C=4){const H=n.getLineContent(s);n.tokenization.forceTokenization(s);const me=n.tokenization.getLineTokens(s).inflate();return this.colorizeLine(H,n.mightContainNonBasicASCII(),n.mightContainRTL(),me,C)}}function Xn(de,n,s){let C=[];const X=new Uint32Array(2);X[0]=0,X[1]=33587200;for(let me=0,Oe=de.length;me<Oe;me++){const ze=de[me];X[0]=ze.length;const Qe=new je.A(X,ze,s),tt=wt.wA.isBasicASCII(ze,!0),_t=wt.wA.containsRTL(ze,tt,!0),jt=(0,et.tF)(new et.IJ(!1,!0,ze,!1,tt,_t,0,Qe,[],n,0,0,0,0,-1,"none",!1,!1,null));C=C.concat(jt.html),C.push("<br/>")}return C.join("")}var eo=e(41539),wn=e(84109),Un=e(75079),po=e(52816),Jt=e(20274),qn=e(42685),gn=e(58178),Gn=e(86211),Qn=e(23527);let he=class extends Ee.JT{constructor(n){super(),this._themeService=n,this._onWillCreateCodeEditor=this._register(new gn.Q5),this._onCodeEditorAdd=this._register(new gn.Q5),this.onCodeEditorAdd=this._onCodeEditorAdd.event,this._onCodeEditorRemove=this._register(new gn.Q5),this.onCodeEditorRemove=this._onCodeEditorRemove.event,this._onWillCreateDiffEditor=this._register(new gn.Q5),this._onDiffEditorAdd=this._register(new gn.Q5),this.onDiffEditorAdd=this._onDiffEditorAdd.event,this._onDiffEditorRemove=this._register(new gn.Q5),this.onDiffEditorRemove=this._onDiffEditorRemove.event,this._decorationOptionProviders=new Map,this._codeEditorOpenHandlers=new Gn.S,this._modelProperties=new Map,this._codeEditors=Object.create(null),this._diffEditors=Object.create(null),this._globalStyleSheet=null}willCreateCodeEditor(){this._onWillCreateCodeEditor.fire()}addCodeEditor(n){this._codeEditors[n.getId()]=n,this._onCodeEditorAdd.fire(n)}removeCodeEditor(n){delete this._codeEditors[n.getId()]&&this._onCodeEditorRemove.fire(n)}listCodeEditors(){return Object.keys(this._codeEditors).map(n=>this._codeEditors[n])}willCreateDiffEditor(){this._onWillCreateDiffEditor.fire()}addDiffEditor(n){this._diffEditors[n.getId()]=n,this._onDiffEditorAdd.fire(n)}removeDiffEditor(n){delete this._diffEditors[n.getId()]&&this._onDiffEditorRemove.fire(n)}listDiffEditors(){return Object.keys(this._diffEditors).map(n=>this._diffEditors[n])}getFocusedCodeEditor(){let n=null;const s=this.listCodeEditors();for(const C of s){if(C.hasTextFocus())return C;C.hasWidgetFocus()&&(n=C)}return n}removeDecorationType(n){const s=this._decorationOptionProviders.get(n);s&&(s.refCount--,s.refCount<=0&&(this._decorationOptionProviders.delete(n),s.dispose(),this.listCodeEditors().forEach(C=>C.removeDecorationsByType(n))))}setModelProperty(n,s,C){const H=n.toString();let X;this._modelProperties.has(H)?X=this._modelProperties.get(H):(X=new Map,this._modelProperties.set(H,X)),X.set(s,C)}getModelProperty(n,s){const C=n.toString();if(this._modelProperties.has(C))return this._modelProperties.get(C).get(s)}openCodeEditor(n,s,C){return function(de,n,s,C){return new(s||(s=Promise))(function(X,me){function Oe(tt){try{Qe(C.next(tt))}catch(_t){me(_t)}}function ze(tt){try{Qe(C.throw(tt))}catch(_t){me(_t)}}function Qe(tt){tt.done?X(tt.value):function H(X){return X instanceof s?X:new s(function(me){me(X)})}(tt.value).then(Oe,ze)}Qe((C=C.apply(de,n||[])).next())})}(this,void 0,void 0,function*(){for(const H of this._codeEditorOpenHandlers){const X=yield H(n,s,C);if(null!==X)return X}return null})}registerCodeEditorOpenHandler(n){const s=this._codeEditorOpenHandlers.unshift(n);return(0,Ee.OF)(s)}};he=function(de,n,s,C){var me,H=arguments.length,X=H<3?n:null===C?C=Object.getOwnPropertyDescriptor(n,s):C;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)X=Reflect.decorate(de,n,s,C);else for(var Oe=de.length-1;Oe>=0;Oe--)(me=de[Oe])&&(X=(H<3?me(X):H>3?me(n,s,X):me(n,s))||X);return H>3&&X&&Object.defineProperty(n,s,X),X}([function(de,n){return function(s,C){n(s,C,0)}}(0,Qn.XE)],he);var Ke=e(66221),Ye=e(67755),zt=function(de,n){return function(s,C){n(s,C,de)}};let mi=class extends he{constructor(n,s){super(s),this.onCodeEditorAdd(()=>this._checkContextKey()),this.onCodeEditorRemove(()=>this._checkContextKey()),this._editorIsOpen=n.createKey("editorIsOpen",!1),this._activeCodeEditor=null,this.registerCodeEditorOpenHandler((C,H,X)=>function(de,n,s,C){return new(s||(s=Promise))(function(X,me){function Oe(tt){try{Qe(C.next(tt))}catch(_t){me(_t)}}function ze(tt){try{Qe(C.throw(tt))}catch(_t){me(_t)}}function Qe(tt){tt.done?X(tt.value):function H(X){return X instanceof s?X:new s(function(me){me(X)})}(tt.value).then(Oe,ze)}Qe((C=C.apply(de,n||[])).next())})}(this,void 0,void 0,function*(){return H?this.doOpenEditor(H,C):null}))}_checkContextKey(){let n=!1;for(const s of this.listCodeEditors())if(!s.isSimpleWidget){n=!0;break}this._editorIsOpen.set(n)}setActiveCodeEditor(n){this._activeCodeEditor=n}getActiveCodeEditor(){return this._activeCodeEditor}doOpenEditor(n,s){if(!this.findModel(n,s.resource)){if(s.resource){const X=s.resource.scheme;if(X===qn.lg.http||X===qn.lg.https)return(0,Jt.V3)(s.resource.toString()),n}return null}const H=s.options?s.options.selection:null;if(H)if("number"==typeof H.endLineNumber&&"number"==typeof H.endColumn)n.setSelection(H),n.revealRangeInCenter(H,1);else{const X={lineNumber:H.startLineNumber,column:H.startColumn};n.setPosition(X),n.revealPositionInCenter(X,1)}return n}findModel(n,s){const C=n.getModel();return C&&C.uri.toString()!==s.toString()?null:C}};mi=function(de,n,s,C){var me,H=arguments.length,X=H<3?n:null===C?C=Object.getOwnPropertyDescriptor(n,s):C;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)X=Reflect.decorate(de,n,s,C);else for(var Oe=de.length-1;Oe>=0;Oe--)(me=de[Oe])&&(X=(H<3?me(X):H>3?me(n,s,X):me(n,s))||X);return H>3&&X&&Object.defineProperty(n,s,X),X}([zt(0,Ke.i6),zt(1,Qn.XE)],mi),(0,Ye.z)(yt.$,mi,0);var qt=e(12065);const oi=(0,qt.yh)("layoutService");var Ai=function(de,n,s,C){var me,H=arguments.length,X=H<3?n:null===C?C=Object.getOwnPropertyDescriptor(n,s):C;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)X=Reflect.decorate(de,n,s,C);else for(var Oe=de.length-1;Oe>=0;Oe--)(me=de[Oe])&&(X=(H<3?me(X):H>3?me(n,s,X):me(n,s))||X);return H>3&&X&&Object.defineProperty(n,s,X),X},Wi=function(de,n){return function(s,C){n(s,C,de)}};let $i=class{get dimension(){return this._dimension||(this._dimension=Jt.D6(window.document.body)),this._dimension}get hasContainer(){return!1}get container(){throw new Error("ILayoutService.container is not available in the standalone editor!")}focus(){var n;null===(n=this._codeEditorService.getFocusedCodeEditor())||void 0===n||n.focus()}constructor(n){this._codeEditorService=n,this.onDidLayout=gn.ju.None,this.offset={top:0,quickPickTop:0}}};$i=Ai([Wi(0,yt.$)],$i);let fi=class extends $i{get hasContainer(){return!1}get container(){return this._container}constructor(n,s){super(s),this._container=n}};fi=Ai([Wi(1,yt.$)],fi),(0,Ye.z)(oi,$i,1);var $t=e(17967),Ii=e(17130),si=e(37190),nn=e(35153),en=e(22438),yn=e(26093),ro=function(de,n){return function(s,C){n(s,C,de)}},ao=function(de,n,s,C){return new(s||(s=Promise))(function(X,me){function Oe(tt){try{Qe(C.next(tt))}catch(_t){me(_t)}}function ze(tt){try{Qe(C.throw(tt))}catch(_t){me(_t)}}function Qe(tt){tt.done?X(tt.value):function H(X){return X instanceof s?X:new s(function(me){me(X)})}(tt.value).then(Oe,ze)}Qe((C=C.apply(de,n||[])).next())})};function wo(de){return de.scheme===qn.lg.file?de.fsPath:de.path}let vs=0;class Ft{constructor(n,s,C,H,X,me,Oe){this.id=++vs,this.type=0,this.actual=n,this.label=n.label,this.confirmBeforeUndo=n.confirmBeforeUndo||!1,this.resourceLabel=s,this.strResource=C,this.resourceLabels=[this.resourceLabel],this.strResources=[this.strResource],this.groupId=H,this.groupOrder=X,this.sourceId=me,this.sourceOrder=Oe,this.isValid=!0}setValid(n){this.isValid=n}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.isValid?"  VALID":"INVALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class M{constructor(n,s){this.resourceLabel=n,this.reason=s}}class q{constructor(){this.elements=new Map}createMessage(){const n=[],s=[];for(const[,H]of this.elements)(0===H.reason?n:s).push(H.resourceLabel);const C=[];return n.length>0&&C.push(si.NC({key:"externalRemoval",comment:["{0} is a list of filenames"]},"The following files have been closed and modified on disk: {0}.",n.join(", "))),s.length>0&&C.push(si.NC({key:"noParallelUniverses",comment:["{0} is a list of filenames"]},"The following files have been modified in an incompatible way: {0}.",s.join(", "))),C.join("\n")}get size(){return this.elements.size}has(n){return this.elements.has(n)}set(n,s){this.elements.set(n,s)}delete(n){return this.elements.delete(n)}}class ce{constructor(n,s,C,H,X,me,Oe){this.id=++vs,this.type=1,this.actual=n,this.label=n.label,this.confirmBeforeUndo=n.confirmBeforeUndo||!1,this.resourceLabels=s,this.strResources=C,this.groupId=H,this.groupOrder=X,this.sourceId=me,this.sourceOrder=Oe,this.removedResources=null,this.invalidatedResources=null}canSplit(){return"function"==typeof this.actual.split}removeResource(n,s,C){this.removedResources||(this.removedResources=new q),this.removedResources.has(s)||this.removedResources.set(s,new M(n,C))}setValid(n,s,C){C?this.invalidatedResources&&(this.invalidatedResources.delete(s),0===this.invalidatedResources.size&&(this.invalidatedResources=null)):(this.invalidatedResources||(this.invalidatedResources=new q),this.invalidatedResources.has(s)||this.invalidatedResources.set(s,new M(n,0)))}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.invalidatedResources?"INVALID":"  VALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class Ue{constructor(n,s){this.resourceLabel=n,this.strResource=s,this._past=[],this._future=[],this.locked=!1,this.versionId=1}dispose(){for(const n of this._past)1===n.type&&n.removeResource(this.resourceLabel,this.strResource,0);for(const n of this._future)1===n.type&&n.removeResource(this.resourceLabel,this.strResource,0);this.versionId++}toString(){const n=[];n.push(`* ${this.strResource}:`);for(let s=0;s<this._past.length;s++)n.push(`   * [UNDO] ${this._past[s]}`);for(let s=this._future.length-1;s>=0;s--)n.push(`   * [REDO] ${this._future[s]}`);return n.join("\n")}flushAllElements(){this._past=[],this._future=[],this.versionId++}_setElementValidFlag(n,s){1===n.type?n.setValid(this.resourceLabel,this.strResource,s):n.setValid(s)}setElementsValidFlag(n,s){for(const C of this._past)s(C.actual)&&this._setElementValidFlag(C,n);for(const C of this._future)s(C.actual)&&this._setElementValidFlag(C,n)}pushElement(n){for(const s of this._future)1===s.type&&s.removeResource(this.resourceLabel,this.strResource,1);this._future=[],this._past.push(n),this.versionId++}createSnapshot(n){const s=[];for(let C=0,H=this._past.length;C<H;C++)s.push(this._past[C].id);for(let C=this._future.length-1;C>=0;C--)s.push(this._future[C].id);return new yn.YO(n,s)}restoreSnapshot(n){const s=n.elements.length;let C=!0,H=0,X=-1;for(let Oe=0,ze=this._past.length;Oe<ze;Oe++,H++){const Qe=this._past[Oe];C&&(H>=s||Qe.id!==n.elements[H])&&(C=!1,X=0),!C&&1===Qe.type&&Qe.removeResource(this.resourceLabel,this.strResource,0)}let me=-1;for(let Oe=this._future.length-1;Oe>=0;Oe--,H++){const ze=this._future[Oe];C&&(H>=s||ze.id!==n.elements[H])&&(C=!1,me=Oe),!C&&1===ze.type&&ze.removeResource(this.resourceLabel,this.strResource,0)}-1!==X&&(this._past=this._past.slice(0,X)),-1!==me&&(this._future=this._future.slice(me+1)),this.versionId++}getElements(){const n=[],s=[];for(const C of this._past)n.push(C.actual);for(const C of this._future)s.push(C.actual);return{past:n,future:s}}getClosestPastElement(){return 0===this._past.length?null:this._past[this._past.length-1]}getSecondClosestPastElement(){return this._past.length<2?null:this._past[this._past.length-2]}getClosestFutureElement(){return 0===this._future.length?null:this._future[this._future.length-1]}hasPastElements(){return this._past.length>0}hasFutureElements(){return this._future.length>0}splitPastWorkspaceElement(n,s){for(let C=this._past.length-1;C>=0;C--)if(this._past[C]===n){s.has(this.strResource)?this._past[C]=s.get(this.strResource):this._past.splice(C,1);break}this.versionId++}splitFutureWorkspaceElement(n,s){for(let C=this._future.length-1;C>=0;C--)if(this._future[C]===n){s.has(this.strResource)?this._future[C]=s.get(this.strResource):this._future.splice(C,1);break}this.versionId++}moveBackward(n){this._past.pop(),this._future.push(n),this.versionId++}moveForward(n){this._future.pop(),this._past.push(n),this.versionId++}}class $e{constructor(n){this.editStacks=n,this._versionIds=[];for(let s=0,C=this.editStacks.length;s<C;s++)this._versionIds[s]=this.editStacks[s].versionId}isValid(){for(let n=0,s=this.editStacks.length;n<s;n++)if(this._versionIds[n]!==this.editStacks[n].versionId)return!1;return!0}}const ct=new Ue("","");ct.locked=!0;let Et=class{constructor(n,s){this._dialogService=n,this._notificationService=s,this._editStacks=new Map,this._uriComparisonKeyComputers=[]}getUriComparisonKey(n){for(const s of this._uriComparisonKeyComputers)if(s[0]===n.scheme)return s[1].getComparisonKey(n);return n.toString()}_print(n){console.log("------------------------------------"),console.log(`AFTER ${n}: `);const s=[];for(const C of this._editStacks)s.push(C[1].toString());console.log(s.join("\n"))}pushElement(n,s=yn.Xt.None,C=yn.gJ.None){if(0===n.type){const H=wo(n.resource),X=this.getUriComparisonKey(n.resource);this._pushElement(new Ft(n,H,X,s.id,s.nextOrder(),C.id,C.nextOrder()))}else{const H=new Set,X=[],me=[];for(const Oe of n.resources){const ze=wo(Oe),Qe=this.getUriComparisonKey(Oe);H.has(Qe)||(H.add(Qe),X.push(ze),me.push(Qe))}this._pushElement(1===X.length?new Ft(n,X[0],me[0],s.id,s.nextOrder(),C.id,C.nextOrder()):new ce(n,X,me,s.id,s.nextOrder(),C.id,C.nextOrder()))}}_pushElement(n){for(let s=0,C=n.strResources.length;s<C;s++){const H=n.resourceLabels[s],X=n.strResources[s];let me;this._editStacks.has(X)?me=this._editStacks.get(X):(me=new Ue(H,X),this._editStacks.set(X,me)),me.pushElement(n)}}getLastElement(n){const s=this.getUriComparisonKey(n);if(this._editStacks.has(s)){const C=this._editStacks.get(s);if(C.hasFutureElements())return null;const H=C.getClosestPastElement();return H?H.actual:null}return null}_splitPastWorkspaceElement(n,s){const C=n.actual.split(),H=new Map;for(const X of C){const me=wo(X.resource),Oe=this.getUriComparisonKey(X.resource),ze=new Ft(X,me,Oe,0,0,0,0);H.set(ze.strResource,ze)}for(const X of n.strResources)s&&s.has(X)||this._editStacks.get(X).splitPastWorkspaceElement(n,H)}_splitFutureWorkspaceElement(n,s){const C=n.actual.split(),H=new Map;for(const X of C){const me=wo(X.resource),Oe=this.getUriComparisonKey(X.resource),ze=new Ft(X,me,Oe,0,0,0,0);H.set(ze.strResource,ze)}for(const X of n.strResources)s&&s.has(X)||this._editStacks.get(X).splitFutureWorkspaceElement(n,H)}removeElements(n){const s="string"==typeof n?n:this.getUriComparisonKey(n);this._editStacks.has(s)&&(this._editStacks.get(s).dispose(),this._editStacks.delete(s))}setElementsValidFlag(n,s,C){const H=this.getUriComparisonKey(n);this._editStacks.has(H)&&this._editStacks.get(H).setElementsValidFlag(s,C)}createSnapshot(n){const s=this.getUriComparisonKey(n);return this._editStacks.has(s)?this._editStacks.get(s).createSnapshot(n):new yn.YO(n,[])}restoreSnapshot(n){const s=this.getUriComparisonKey(n.resource);if(this._editStacks.has(s)){const C=this._editStacks.get(s);C.restoreSnapshot(n),!C.hasPastElements()&&!C.hasFutureElements()&&(C.dispose(),this._editStacks.delete(s))}}getElements(n){const s=this.getUriComparisonKey(n);return this._editStacks.has(s)?this._editStacks.get(s).getElements():{past:[],future:[]}}_findClosestUndoElementWithSource(n){if(!n)return[null,null];let s=null,C=null;for(const[H,X]of this._editStacks){const me=X.getClosestPastElement();me&&me.sourceId===n&&(!s||me.sourceOrder>s.sourceOrder)&&(s=me,C=H)}return[s,C]}canUndo(n){if(n instanceof yn.gJ){const[,C]=this._findClosestUndoElementWithSource(n.id);return!!C}const s=this.getUriComparisonKey(n);return!!this._editStacks.has(s)&&this._editStacks.get(s).hasPastElements()}_onError(n,s){(0,$t.dL)(n);for(const C of s.strResources)this.removeElements(C);this._notificationService.error(n)}_acquireLocks(n){for(const s of n.editStacks)if(s.locked)throw new Error("Cannot acquire edit stack lock");for(const s of n.editStacks)s.locked=!0;return()=>{for(const s of n.editStacks)s.locked=!1}}_safeInvokeWithLocks(n,s,C,H,X){const me=this._acquireLocks(C);let Oe;try{Oe=s()}catch(ze){return me(),H.dispose(),this._onError(ze,n)}return Oe?Oe.then(()=>(me(),H.dispose(),X()),ze=>(me(),H.dispose(),this._onError(ze,n))):(me(),H.dispose(),X())}_invokeWorkspacePrepare(n){return ao(this,void 0,void 0,function*(){if(typeof n.actual.prepareUndoRedo>"u")return Ee.JT.None;const s=n.actual.prepareUndoRedo();return typeof s>"u"?Ee.JT.None:s})}_invokeResourcePrepare(n,s){if(1!==n.actual.type||typeof n.actual.prepareUndoRedo>"u")return s(Ee.JT.None);const C=n.actual.prepareUndoRedo();return C?(0,Ee.Wf)(C)?s(C):C.then(H=>s(H)):s(Ee.JT.None)}_getAffectedEditStacks(n){const s=[];for(const C of n.strResources)s.push(this._editStacks.get(C)||ct);return new $e(s)}_tryToSplitAndUndo(n,s,C,H){if(s.canSplit())return this._splitPastWorkspaceElement(s,C),this._notificationService.warn(H),new kt(this._undo(n,0,!0));for(const X of s.strResources)this.removeElements(X);return this._notificationService.warn(H),new kt}_checkWorkspaceUndo(n,s,C,H){if(s.removedResources)return this._tryToSplitAndUndo(n,s,s.removedResources,si.NC({key:"cannotWorkspaceUndo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not undo '{0}' across all files. {1}",s.label,s.removedResources.createMessage()));if(H&&s.invalidatedResources)return this._tryToSplitAndUndo(n,s,s.invalidatedResources,si.NC({key:"cannotWorkspaceUndo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not undo '{0}' across all files. {1}",s.label,s.invalidatedResources.createMessage()));const X=[];for(const Oe of C.editStacks)Oe.getClosestPastElement()!==s&&X.push(Oe.resourceLabel);if(X.length>0)return this._tryToSplitAndUndo(n,s,null,si.NC({key:"cannotWorkspaceUndoDueToChanges",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because changes were made to {1}",s.label,X.join(", ")));const me=[];for(const Oe of C.editStacks)Oe.locked&&me.push(Oe.resourceLabel);return me.length>0?this._tryToSplitAndUndo(n,s,null,si.NC({key:"cannotWorkspaceUndoDueToInProgressUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because there is already an undo or redo operation running on {1}",s.label,me.join(", "))):C.isValid()?null:this._tryToSplitAndUndo(n,s,null,si.NC({key:"cannotWorkspaceUndoDueToInMeantimeUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because an undo or redo operation occurred in the meantime",s.label))}_workspaceUndo(n,s,C){const H=this._getAffectedEditStacks(s),X=this._checkWorkspaceUndo(n,s,H,!1);return X?X.returnValue:this._confirmAndExecuteWorkspaceUndo(n,s,H,C)}_isPartOfUndoGroup(n){if(!n.groupId)return!1;for(const[,s]of this._editStacks){const C=s.getClosestPastElement();if(C){if(C===n){const H=s.getSecondClosestPastElement();if(H&&H.groupId===n.groupId)return!0}if(C.groupId===n.groupId)return!0}}return!1}_confirmAndExecuteWorkspaceUndo(n,s,C,H){return ao(this,void 0,void 0,function*(){if(s.canSplit()&&!this._isPartOfUndoGroup(s)){let Oe;(tt=Oe||(Oe={}))[tt.All=0]="All",tt[tt.This=1]="This",tt[tt.Cancel=2]="Cancel";const{result:ze}=yield this._dialogService.prompt({type:Ii.Z.Info,message:si.NC("confirmWorkspace","Would you like to undo '{0}' across all files?",s.label),buttons:[{label:si.NC({key:"ok",comment:["{0} denotes a number that is > 1, && denotes a mnemonic"]},"&&Undo in {0} Files",C.editStacks.length),run:()=>Oe.All},{label:si.NC({key:"nok",comment:["&& denotes a mnemonic"]},"Undo this &&File"),run:()=>Oe.This}],cancelButton:{run:()=>Oe.Cancel}});if(ze===Oe.Cancel)return;if(ze===Oe.This)return this._splitPastWorkspaceElement(s,null),this._undo(n,0,!0);const Qe=this._checkWorkspaceUndo(n,s,C,!1);if(Qe)return Qe.returnValue;H=!0}var tt;let X;try{X=yield this._invokeWorkspacePrepare(s)}catch(Oe){return this._onError(Oe,s)}const me=this._checkWorkspaceUndo(n,s,C,!0);if(me)return X.dispose(),me.returnValue;for(const Oe of C.editStacks)Oe.moveBackward(s);return this._safeInvokeWithLocks(s,()=>s.actual.undo(),C,X,()=>this._continueUndoInGroup(s.groupId,H))})}_resourceUndo(n,s,C){if(s.isValid){if(!n.locked)return this._invokeResourcePrepare(s,H=>(n.moveBackward(s),this._safeInvokeWithLocks(s,()=>s.actual.undo(),new $e([n]),H,()=>this._continueUndoInGroup(s.groupId,C))));{const H=si.NC({key:"cannotResourceUndoDueToInProgressUndoRedo",comment:["{0} is a label for an operation."]},"Could not undo '{0}' because there is already an undo or redo operation running.",s.label);this._notificationService.warn(H)}}else n.flushAllElements()}_findClosestUndoElementInGroup(n){if(!n)return[null,null];let s=null,C=null;for(const[H,X]of this._editStacks){const me=X.getClosestPastElement();me&&me.groupId===n&&(!s||me.groupOrder>s.groupOrder)&&(s=me,C=H)}return[s,C]}_continueUndoInGroup(n,s){if(!n)return;const[,C]=this._findClosestUndoElementInGroup(n);return C?this._undo(C,0,s):void 0}undo(n){if(n instanceof yn.gJ){const[,s]=this._findClosestUndoElementWithSource(n.id);return s?this._undo(s,n.id,!1):void 0}return this._undo("string"==typeof n?n:this.getUriComparisonKey(n),0,!1)}_undo(n,s=0,C){if(!this._editStacks.has(n))return;const H=this._editStacks.get(n),X=H.getClosestPastElement();if(X){if(X.groupId){const[Oe,ze]=this._findClosestUndoElementInGroup(X.groupId);if(X!==Oe&&ze)return this._undo(ze,s,C)}if((X.sourceId!==s||X.confirmBeforeUndo)&&!C)return this._confirmAndContinueUndo(n,s,X);try{return 1===X.type?this._workspaceUndo(n,X,C):this._resourceUndo(H,X,C)}finally{}}}_confirmAndContinueUndo(n,s,C){return ao(this,void 0,void 0,function*(){if((yield this._dialogService.confirm({message:si.NC("confirmDifferentSource","Would you like to undo '{0}'?",C.label),primaryButton:si.NC({key:"confirmDifferentSource.yes",comment:["&& denotes a mnemonic"]},"&&Yes"),cancelButton:si.NC("confirmDifferentSource.no","No")})).confirmed)return this._undo(n,s,!0)})}_findClosestRedoElementWithSource(n){if(!n)return[null,null];let s=null,C=null;for(const[H,X]of this._editStacks){const me=X.getClosestFutureElement();me&&me.sourceId===n&&(!s||me.sourceOrder<s.sourceOrder)&&(s=me,C=H)}return[s,C]}canRedo(n){if(n instanceof yn.gJ){const[,C]=this._findClosestRedoElementWithSource(n.id);return!!C}const s=this.getUriComparisonKey(n);return!!this._editStacks.has(s)&&this._editStacks.get(s).hasFutureElements()}_tryToSplitAndRedo(n,s,C,H){if(s.canSplit())return this._splitFutureWorkspaceElement(s,C),this._notificationService.warn(H),new kt(this._redo(n));for(const X of s.strResources)this.removeElements(X);return this._notificationService.warn(H),new kt}_checkWorkspaceRedo(n,s,C,H){if(s.removedResources)return this._tryToSplitAndRedo(n,s,s.removedResources,si.NC({key:"cannotWorkspaceRedo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not redo '{0}' across all files. {1}",s.label,s.removedResources.createMessage()));if(H&&s.invalidatedResources)return this._tryToSplitAndRedo(n,s,s.invalidatedResources,si.NC({key:"cannotWorkspaceRedo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not redo '{0}' across all files. {1}",s.label,s.invalidatedResources.createMessage()));const X=[];for(const Oe of C.editStacks)Oe.getClosestFutureElement()!==s&&X.push(Oe.resourceLabel);if(X.length>0)return this._tryToSplitAndRedo(n,s,null,si.NC({key:"cannotWorkspaceRedoDueToChanges",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because changes were made to {1}",s.label,X.join(", ")));const me=[];for(const Oe of C.editStacks)Oe.locked&&me.push(Oe.resourceLabel);return me.length>0?this._tryToSplitAndRedo(n,s,null,si.NC({key:"cannotWorkspaceRedoDueToInProgressUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because there is already an undo or redo operation running on {1}",s.label,me.join(", "))):C.isValid()?null:this._tryToSplitAndRedo(n,s,null,si.NC({key:"cannotWorkspaceRedoDueToInMeantimeUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because an undo or redo operation occurred in the meantime",s.label))}_workspaceRedo(n,s){const C=this._getAffectedEditStacks(s),H=this._checkWorkspaceRedo(n,s,C,!1);return H?H.returnValue:this._executeWorkspaceRedo(n,s,C)}_executeWorkspaceRedo(n,s,C){return ao(this,void 0,void 0,function*(){let H;try{H=yield this._invokeWorkspacePrepare(s)}catch(me){return this._onError(me,s)}const X=this._checkWorkspaceRedo(n,s,C,!0);if(X)return H.dispose(),X.returnValue;for(const me of C.editStacks)me.moveForward(s);return this._safeInvokeWithLocks(s,()=>s.actual.redo(),C,H,()=>this._continueRedoInGroup(s.groupId))})}_resourceRedo(n,s){if(s.isValid){if(!n.locked)return this._invokeResourcePrepare(s,C=>(n.moveForward(s),this._safeInvokeWithLocks(s,()=>s.actual.redo(),new $e([n]),C,()=>this._continueRedoInGroup(s.groupId))));{const C=si.NC({key:"cannotResourceRedoDueToInProgressUndoRedo",comment:["{0} is a label for an operation."]},"Could not redo '{0}' because there is already an undo or redo operation running.",s.label);this._notificationService.warn(C)}}else n.flushAllElements()}_findClosestRedoElementInGroup(n){if(!n)return[null,null];let s=null,C=null;for(const[H,X]of this._editStacks){const me=X.getClosestFutureElement();me&&me.groupId===n&&(!s||me.groupOrder<s.groupOrder)&&(s=me,C=H)}return[s,C]}_continueRedoInGroup(n){if(!n)return;const[,s]=this._findClosestRedoElementInGroup(n);return s?this._redo(s):void 0}redo(n){if(n instanceof yn.gJ){const[,s]=this._findClosestRedoElementWithSource(n.id);return s?this._redo(s):void 0}return this._redo("string"==typeof n?n:this.getUriComparisonKey(n))}_redo(n){if(!this._editStacks.has(n))return;const s=this._editStacks.get(n),C=s.getClosestFutureElement();if(C){if(C.groupId){const[H,X]=this._findClosestRedoElementInGroup(C.groupId);if(C!==H&&X)return this._redo(X)}try{return 1===C.type?this._workspaceRedo(n,C):this._resourceRedo(s,C)}finally{}}}};Et=function(de,n,s,C){var me,H=arguments.length,X=H<3?n:null===C?C=Object.getOwnPropertyDescriptor(n,s):C;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)X=Reflect.decorate(de,n,s,C);else for(var Oe=de.length-1;Oe>=0;Oe--)(me=de[Oe])&&(X=(H<3?me(X):H>3?me(n,s,X):me(n,s))||X);return H>3&&X&&Object.defineProperty(n,s,X),X}([ro(0,nn.S),ro(1,en.lT)],Et);class kt{constructor(n){this.returnValue=n}}(0,Ye.z)(yn.tJ,Et,1),e(31663);var hi=e(22468),ii=e(73784),Si=e(26056),Bi=function(de,n){return function(s,C){n(s,C,de)}};let ji=class extends Ee.JT{constructor(n,s,C){super(),this._themeService=n,this._logService=s,this._languageService=C,this._caches=new WeakMap,this._register(this._themeService.onDidColorThemeChange(()=>{this._caches=new WeakMap}))}getStyling(n){return this._caches.has(n)||this._caches.set(n,new ii.$(n.getLegend(),this._themeService,this._languageService,this._logService)),this._caches.get(n)}};ji=function(de,n,s,C){var me,H=arguments.length,X=H<3?n:null===C?C=Object.getOwnPropertyDescriptor(n,s):C;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)X=Reflect.decorate(de,n,s,C);else for(var Oe=de.length-1;Oe>=0;Oe--)(me=de[Oe])&&(X=(H<3?me(X):H>3?me(n,s,X):me(n,s))||X);return H>3&&X&&Object.defineProperty(n,s,X),X}([Bi(0,Qn.XE),Bi(1,hi.VZ),Bi(2,Mi.O)],ji),(0,Ye.z)(Si.s,ji,1);var Hi=e(85328),Cn=e(20226),Ln=e(38164),kn=e(52356),Kn=e(88593),Gt=function(de,n,s,C){return new(s||(s=Promise))(function(X,me){function Oe(tt){try{Qe(C.next(tt))}catch(_t){me(_t)}}function ze(tt){try{Qe(C.throw(tt))}catch(_t){me(_t)}}function Qe(tt){tt.done?X(tt.value):function H(X){return X instanceof s?X:new s(function(me){me(X)})}(tt.value).then(Oe,ze)}Qe((C=C.apply(de,n||[])).next())})};const re="**",We="/",rt="[/\\\\]",Pt="[^/\\\\]",Kt=/\//g;function ti(de,n){switch(de){case 0:return"";case 1:return`${Pt}*?`;default:return`(?:${rt}|${Pt}+${rt}${n?`|${rt}${Pt}+`:""})*?`}}function yi(de,n){if(!de)return[];const s=[];let C=!1,H=!1,X="";for(const me of de){switch(me){case n:if(!C&&!H){s.push(X),X="";continue}break;case"{":C=!0;break;case"}":C=!1;break;case"[":H=!0;break;case"]":H=!1}X+=me}return X&&s.push(X),s}function Li(de){if(!de)return"";let n="";const s=yi(de,We);if(s.every(C=>C===re))n=".*";else{let C=!1;s.forEach((H,X)=>{if(H===re){if(C)return;n+=ti(2,X===s.length-1)}else{let me=!1,Oe="",ze=!1,Qe="";for(const tt of H)if("}"!==tt&&me)Oe+=tt;else if(!ze||"]"===tt&&Qe)switch(tt){case"{":me=!0;continue;case"[":ze=!0;continue;case"}":{const jt=`(?:${yi(Oe,",").map(Xt=>Li(Xt)).join("|")})`;n+=jt,me=!1,Oe="";break}case"]":n+="["+Qe+"]",ze=!1,Qe="";break;case"?":n+=Pt;continue;case"*":n+=ti(1);continue;default:n+=(0,Te.ec)(tt)}else{let _t;_t="-"===tt?tt:"^"!==tt&&"!"!==tt||Qe?tt===We?"":(0,Te.ec)(tt):"^",Qe+=_t}X<s.length-1&&(s[X+1]!==re||X+2<s.length)&&(n+=rt)}C=H===re})}return n}const sn=/^\*\*\/\*\.[\w\.-]+$/,on=/^\*\*\/([\w\.-]+)\/?$/,rn=/^{\*\*\/\*?[\w\.-]+\/?(,\*\*\/\*?[\w\.-]+\/?)*}$/,ln=/^{\*\*\/\*?[\w\.-]+(\/(\*\*)?)?(,\*\*\/\*?[\w\.-]+(\/(\*\*)?)?)*}$/,_n=/^\*\*((\/[\w\.-]+)+)\/?$/,Xi=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,tn=new Ln.z6(1e4),Rn=function(){return!1},io=function(){return null};function is(de,n){if(!de)return io;let s;s="string"!=typeof de?de.pattern:de,s=s.trim();const C=`${s}_${!!n.trimForExclusions}`;let X,H=tn.get(C);return H||(H=sn.test(s)?function $o(de,n){return function(s,C){return"string"==typeof s&&s.endsWith(de)?n:null}}(s.substr(4),s):(X=on.exec(Qo(s,n)))?function xs(de,n){const s=`/${de}`,C=`\\${de}`,H=function(me,Oe){return"string"!=typeof me?null:Oe?Oe===de?n:null:me===de||me.endsWith(s)||me.endsWith(C)?n:null},X=[de];return H.basenames=X,H.patterns=[n],H.allBasenames=X,H}(X[1],s):(n.trimForExclusions?ln:rn).test(s)?function fo(de,n){const s=zs(de.slice(1,-1).split(",").map(Oe=>is(Oe,n)).filter(Oe=>Oe!==io),de),C=s.length;if(!C)return io;if(1===C)return s[0];const H=function(Oe,ze){for(let Qe=0,tt=s.length;Qe<tt;Qe++)if(s[Qe](Oe,ze))return de;return null},X=s.find(Oe=>!!Oe.allBasenames);X&&(H.allBasenames=X.allBasenames);const me=s.reduce((Oe,ze)=>ze.allPaths?Oe.concat(ze.allPaths):Oe,[]);return me.length&&(H.allPaths=me),H}(s,n):(X=_n.exec(Qo(s,n)))?Eo(X[1].substr(1),s,!0):(X=Xi.exec(Qo(s,n)))?Eo(X[1],s,!1):function Go(de){try{const n=new RegExp(`^${Li(de)}$`);return function(s){return n.lastIndex=0,"string"==typeof s&&n.test(s)?de:null}}catch{return io}}(s),tn.set(C,H)),function Mo(de,n){if("string"==typeof n)return de;const s=function(C,H){return(0,Cn.KM)(C,n.base,!Kn.IJ)?de((0,Te.j3)(C.substr(n.base.length),kn.ir),H):null};return s.allBasenames=de.allBasenames,s.allPaths=de.allPaths,s.basenames=de.basenames,s.patterns=de.patterns,s}(H,de)}function Qo(de,n){return n.trimForExclusions&&de.endsWith("/**")?de.substr(0,de.length-2):de}function Eo(de,n,s){const C=kn.ir===kn.KR.sep,H=C?de:de.replace(Kt,kn.ir),X=kn.ir+H,me=kn.KR.sep+de;let Oe;return Oe=s?function(ze,Qe){return"string"!=typeof ze||ze!==H&&!ze.endsWith(X)&&(C||ze!==de&&!ze.endsWith(me))?null:n}:function(ze,Qe){return"string"!=typeof ze||ze!==H&&(C||ze!==de)?null:n},Oe.allPaths=[(s?"*/":"./")+de],Oe}function Ar(de,n={}){if(!de)return Rn;if("string"==typeof de||function Rr(de){return!!de&&"string"==typeof de.base&&"string"==typeof de.pattern}(de)){const s=is(de,n);if(s===io)return Rn;const C=function(H,X){return!!s(H,X)};return s.allBasenames&&(C.allBasenames=s.allBasenames),s.allPaths&&(C.allPaths=s.allPaths),C}return function Us(de,n){const s=zs(Object.getOwnPropertyNames(de).map(Oe=>function ya(de,n,s){if(!1===n)return io;const C=is(de,s);if(C===io)return io;if("boolean"==typeof n)return C;if(n){const H=n.when;if("string"==typeof H){const X=(me,Oe,ze,Qe)=>{if(!Qe||!C(me,Oe))return null;const _t=Qe(H.replace("$(basename)",()=>ze));return(0,Hi.J8)(_t)?_t.then(jt=>jt?de:null):_t?de:null};return X.requiresSiblings=!0,X}}return C}(Oe,de[Oe],n)).filter(Oe=>Oe!==io)),C=s.length;if(!C)return io;if(!s.some(Oe=>!!Oe.requiresSiblings)){if(1===C)return s[0];const Oe=function(tt,_t){let jt;for(let Xt=0,Di=s.length;Xt<Di;Xt++){const xi=s[Xt](tt,_t);if("string"==typeof xi)return xi;(0,Hi.J8)(xi)&&(jt||(jt=[]),jt.push(xi))}return jt?(()=>Gt(this,void 0,void 0,function*(){for(const Xt of jt){const Di=yield Xt;if("string"==typeof Di)return Di}return null}))():null},ze=s.find(tt=>!!tt.allBasenames);ze&&(Oe.allBasenames=ze.allBasenames);const Qe=s.reduce((tt,_t)=>_t.allPaths?tt.concat(_t.allPaths):tt,[]);return Qe.length&&(Oe.allPaths=Qe),Oe}const H=function(Oe,ze,Qe){let tt,_t;for(let jt=0,Xt=s.length;jt<Xt;jt++){const Di=s[jt];Di.requiresSiblings&&Qe&&(ze||(ze=(0,kn.EZ)(Oe)),tt||(tt=ze.substr(0,ze.length-(0,kn.DZ)(Oe).length)));const xi=Di(Oe,ze,tt,Qe);if("string"==typeof xi)return xi;(0,Hi.J8)(xi)&&(_t||(_t=[]),_t.push(xi))}return _t?(()=>Gt(this,void 0,void 0,function*(){for(const jt of _t){const Xt=yield jt;if("string"==typeof Xt)return Xt}return null}))():null},X=s.find(Oe=>!!Oe.allBasenames);X&&(H.allBasenames=X.allBasenames);const me=s.reduce((Oe,ze)=>ze.allPaths?Oe.concat(ze.allPaths):Oe,[]);return me.length&&(H.allPaths=me),H}(de,n)}function zs(de,n){const s=de.filter(Oe=>!!Oe.basenames);if(s.length<2)return de;const C=s.reduce((Oe,ze)=>{const Qe=ze.basenames;return Qe?Oe.concat(Qe):Oe},[]);let H;if(n){H=[];for(let Oe=0,ze=C.length;Oe<ze;Oe++)H.push(n)}else H=s.reduce((Oe,ze)=>{const Qe=ze.patterns;return Qe?Oe.concat(Qe):Oe},[]);const X=function(Oe,ze){if("string"!=typeof Oe)return null;if(!ze){let tt;for(tt=Oe.length;tt>0;tt--){const _t=Oe.charCodeAt(tt-1);if(47===_t||92===_t)break}ze=Oe.substr(tt)}const Qe=C.indexOf(ze);return-1!==Qe?H[Qe]:null};X.basenames=C,X.patterns=H,X.allBasenames=C;const me=de.filter(Oe=>!Oe.basenames);return me.push(X),me}function jr(de,n,s,C,H,X){if(Array.isArray(de)){let me=0;for(const Oe of de){const ze=jr(Oe,n,s,C,H,X);if(10===ze)return ze;ze>me&&(me=ze)}return me}if("string"==typeof de)return C?"*"===de?5:de===s?10:0:0;if(de){const{language:me,pattern:Oe,scheme:ze,hasAccessToAllModels:Qe,notebookType:tt}=de;if(!C&&!Qe)return 0;tt&&H&&(n=H);let _t=0;if(ze)if(ze===n.scheme)_t=10;else{if("*"!==ze)return 0;_t=5}if(me)if(me===s)_t=10;else{if("*"!==me)return 0;_t=Math.max(_t,5)}if(tt)if(tt===X)_t=10;else{if("*"!==tt||void 0===X)return 0;_t=Math.max(_t,5)}if(Oe){let jt;if(jt="string"==typeof Oe?Oe:Object.assign(Object.assign({},Oe),{base:(0,kn.Fv)(Oe.base)}),jt!==n.fsPath&&!function ks(de,n,s){return!(!de||"string"!=typeof n)&&Ar(de)(n,void 0,s)}(jt,n.fsPath))return 0;_t=10}return _t}return 0}function nr(de){return"string"!=typeof de&&(Array.isArray(de)?de.every(nr):!!de.exclusive)}class Bs{constructor(n,s,C,H){this.uri=n,this.languageId=s,this.notebookUri=C,this.notebookType=H}equals(n){var s,C;return this.notebookType===n.notebookType&&this.languageId===n.languageId&&this.uri.toString()===n.uri.toString()&&(null===(s=this.notebookUri)||void 0===s?void 0:s.toString())===(null===(C=n.notebookUri)||void 0===C?void 0:C.toString())}}class Co{constructor(n){this._notebookInfoResolver=n,this._clock=0,this._entries=[],this._onDidChange=new gn.Q5,this.onDidChange=this._onDidChange.event}register(n,s){let C={selector:n,provider:s,_score:-1,_time:this._clock++};return this._entries.push(C),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),(0,Ee.OF)(()=>{if(C){const H=this._entries.indexOf(C);H>=0&&(this._entries.splice(H,1),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),C=void 0)}})}has(n){return this.all(n).length>0}all(n){if(!n)return[];this._updateScores(n);const s=[];for(const C of this._entries)C._score>0&&s.push(C.provider);return s}ordered(n){const s=[];return this._orderedForEach(n,C=>s.push(C.provider)),s}orderedGroups(n){const s=[];let C,H;return this._orderedForEach(n,X=>{C&&H===X._score?C.push(X.provider):(H=X._score,C=[X.provider],s.push(C))}),s}_orderedForEach(n,s){this._updateScores(n);for(const C of this._entries)C._score>0&&s(C)}_updateScores(n){var s,C;const H=null===(s=this._notebookInfoResolver)||void 0===s?void 0:s.call(this,n.uri),X=H?new Bs(n.uri,n.getLanguageId(),H.uri,H.type):new Bs(n.uri,n.getLanguageId(),void 0,void 0);if(null===(C=this._lastCandidate)||void 0===C||!C.equals(X)){this._lastCandidate=X;for(const me of this._entries)if(me._score=jr(me.selector,X.uri,X.languageId,(0,Rt.pt)(n),X.notebookUri,X.notebookType),nr(me.selector)&&me._score>0){for(const Oe of this._entries)Oe._score=0;me._score=1e3;break}this._entries.sort(Co._compareByScoreAndTime)}}static _compareByScoreAndTime(n,s){return n._score<s._score?1:n._score>s._score?-1:or(n.selector)&&!or(s.selector)?1:!or(n.selector)&&or(s.selector)?-1:n._time<s._time?1:n._time>s._time?-1:0}}function or(de){return"string"!=typeof de&&(Array.isArray(de)?de.some(or):!!de.isBuiltin)}var _o=e(55763);(0,Ye.z)(_o.p,class ll{constructor(){this.referenceProvider=new Co(this._score.bind(this)),this.renameProvider=new Co(this._score.bind(this)),this.codeActionProvider=new Co(this._score.bind(this)),this.definitionProvider=new Co(this._score.bind(this)),this.typeDefinitionProvider=new Co(this._score.bind(this)),this.declarationProvider=new Co(this._score.bind(this)),this.implementationProvider=new Co(this._score.bind(this)),this.documentSymbolProvider=new Co(this._score.bind(this)),this.inlayHintsProvider=new Co(this._score.bind(this)),this.colorProvider=new Co(this._score.bind(this)),this.codeLensProvider=new Co(this._score.bind(this)),this.documentFormattingEditProvider=new Co(this._score.bind(this)),this.documentRangeFormattingEditProvider=new Co(this._score.bind(this)),this.onTypeFormattingEditProvider=new Co(this._score.bind(this)),this.signatureHelpProvider=new Co(this._score.bind(this)),this.hoverProvider=new Co(this._score.bind(this)),this.documentHighlightProvider=new Co(this._score.bind(this)),this.selectionRangeProvider=new Co(this._score.bind(this)),this.foldingRangeProvider=new Co(this._score.bind(this)),this.linkProvider=new Co(this._score.bind(this)),this.inlineCompletionsProvider=new Co(this._score.bind(this)),this.completionProvider=new Co(this._score.bind(this)),this.linkedEditingRangeProvider=new Co(this._score.bind(this)),this.documentRangeSemanticTokensProvider=new Co(this._score.bind(this)),this.documentSemanticTokensProvider=new Co(this._score.bind(this)),this.documentOnDropEditProvider=new Co(this._score.bind(this)),this.documentPasteEditProvider=new Co(this._score.bind(this))}_score(n){var s;return null===(s=this._notebookTypeResolver)||void 0===s?void 0:s.call(this,n)}},1);var rs=e(89271),js=e(88565),Kr=e(97361),sr=e(41079),Ks=e(20158),_s=e(68678),Ho=e(96726),Sa=e(56230),ns=e(75782),ho=e(11813),hn=e(31738),Fs=e(91402),gs=e(92891),ws=e(81834);function Po(de){return Object.isFrozen(de)?de:Zi._A(de)}class Ao{constructor(n={},s=[],C=[],H){this._contents=n,this._keys=s,this._overrides=C,this.raw=H,this.overrideConfigurations=new Map}get rawConfiguration(){var n;if(!this._rawConfiguration)if(null!==(n=this.raw)&&void 0!==n&&n.length){const s=this.raw.map(C=>{if(C instanceof Ao)return C;const H=new wa("");return H.parseRaw(C),H.configurationModel});this._rawConfiguration=s.reduce((C,H)=>H===C?H:C.merge(H),s[0])}else this._rawConfiguration=this;return this._rawConfiguration}get contents(){return this._contents}get overrides(){return this._overrides}get keys(){return this._keys}isEmpty(){return 0===this._keys.length&&0===Object.keys(this._contents).length&&0===this._overrides.length}getValue(n){return n?(0,xn.Mt)(this.contents,n):this.contents}inspect(n,s){const C=this.rawConfiguration.getValue(n);return{value:C,override:s?this.rawConfiguration.getOverrideValue(n,s):void 0,merged:s?this.rawConfiguration.override(s).getValue(n):C}}getOverrideValue(n,s){const C=this.getContentsForOverrideIdentifer(s);return C?n?(0,xn.Mt)(C,n):C:void 0}override(n){let s=this.overrideConfigurations.get(n);return s||(s=this.createOverrideConfigurationModel(n),this.overrideConfigurations.set(n,s)),s}merge(...n){var s,C;const H=Zi.I8(this.contents),X=Zi.I8(this.overrides),me=[...this.keys],Oe=null!==(s=this.raw)&&void 0!==s&&s.length?[...this.raw]:[this];for(const ze of n)if(Oe.push(...null!==(C=ze.raw)&&void 0!==C&&C.length?ze.raw:[ze]),!ze.isEmpty()){this.mergeContents(H,ze.contents);for(const Qe of ze.overrides){const[tt]=X.filter(_t=>hn.fS(_t.identifiers,Qe.identifiers));tt?(this.mergeContents(tt.contents,Qe.contents),tt.keys.push(...Qe.keys),tt.keys=hn.EB(tt.keys)):X.push(Zi.I8(Qe))}for(const Qe of ze.keys)-1===me.indexOf(Qe)&&me.push(Qe)}return new Ao(H,me,X,Oe.every(ze=>ze instanceof Ao)?void 0:Oe)}createOverrideConfigurationModel(n){const s=this.getContentsForOverrideIdentifer(n);if(!s||"object"!=typeof s||!Object.keys(s).length)return this;const C={};for(const H of hn.EB([...Object.keys(this.contents),...Object.keys(s)])){let X=this.contents[H];const me=s[H];me&&("object"==typeof X&&"object"==typeof me?(X=Zi.I8(X),this.mergeContents(X,me)):X=me),C[H]=X}return new Ao(C,this.keys,this.overrides)}mergeContents(n,s){for(const C of Object.keys(s))C in n&&Fs.Kn(n[C])&&Fs.Kn(s[C])?this.mergeContents(n[C],s[C]):n[C]=Zi.I8(s[C])}getContentsForOverrideIdentifer(n){let s=null,C=null;const H=X=>{X&&(C?this.mergeContents(C,X):C=Zi.I8(X))};for(const X of this.overrides)1===X.identifiers.length&&X.identifiers[0]===n?s=X.contents:X.identifiers.includes(n)&&H(X.contents);return H(s),C}toJSON(){return{contents:this.contents,overrides:this.overrides,keys:this.keys}}addValue(n,s){this.updateValue(n,s,!0)}setValue(n,s){this.updateValue(n,s,!1)}removeValue(n){const s=this.keys.indexOf(n);-1!==s&&(this.keys.splice(s,1),(0,xn.xL)(this.contents,n),gs.eU.test(n)&&this.overrides.splice(this.overrides.findIndex(C=>hn.fS(C.identifiers,(0,gs.ny)(n))),1))}updateValue(n,s,C){(0,xn.KV)(this.contents,n,s,H=>console.error(H)),(C=C||-1===this.keys.indexOf(n))&&this.keys.push(n),gs.eU.test(n)&&this.overrides.push({identifiers:(0,gs.ny)(n),keys:Object.keys(this.contents[n]),contents:(0,xn.Od)(this.contents[n],H=>console.error(H))})}}class wa{constructor(n){this._name=n,this._raw=null,this._configurationModel=null,this._restrictedConfigurations=[]}get configurationModel(){return this._configurationModel||new Ao}parseRaw(n,s){this._raw=n;const{contents:C,keys:H,overrides:X,restricted:me,hasExcludedProperties:Oe}=this.doParseRaw(n,s);this._configurationModel=new Ao(C,H,X,Oe?[n]:void 0),this._restrictedConfigurations=me||[]}doParseRaw(n,s){const C=ws.B.as(gs.IP.Configuration).getConfigurationProperties(),H=this.filter(n,C,!0,s);return{contents:(0,xn.Od)(n=H.raw,ze=>console.error(`Conflict in settings file ${this._name}: ${ze}`)),keys:Object.keys(n),overrides:this.toOverrides(n,ze=>console.error(`Conflict in settings file ${this._name}: ${ze}`)),restricted:H.restricted,hasExcludedProperties:H.hasExcludedProperties}}filter(n,s,C,H){var X,me,Oe;let ze=!1;if(!(H?.scopes||H?.skipRestricted||null!==(X=H?.exclude)&&void 0!==X&&X.length))return{raw:n,restricted:[],hasExcludedProperties:ze};const Qe={},tt=[];for(const _t in n)if(gs.eU.test(_t)&&C){const jt=this.filter(n[_t],s,!1,H);Qe[_t]=jt.raw,ze=ze||jt.hasExcludedProperties,tt.push(...jt.restricted)}else{const jt=s[_t],Xt=jt?typeof jt.scope<"u"?jt.scope:3:void 0;jt?.restricted&&tt.push(_t),null!==(me=H.exclude)&&void 0!==me&&me.includes(_t)||(null===(Oe=H.include)||void 0===Oe||!Oe.includes(_t))&&(void 0!==Xt&&void 0!==H.scopes&&!H.scopes.includes(Xt)||H.skipRestricted&&jt?.restricted)?ze=!0:Qe[_t]=n[_t]}return{raw:Qe,restricted:tt,hasExcludedProperties:ze}}toOverrides(n,s){const C=[];for(const H of Object.keys(n))if(gs.eU.test(H)){const X={};for(const me in n[H])X[me]=n[H][me];C.push({identifiers:(0,gs.ny)(H),keys:Object.keys(X),contents:(0,xn.Od)(X,s)})}return C}}class $r{constructor(n,s,C,H,X,me,Oe,ze,Qe,tt,_t,jt,Xt){this.key=n,this.overrides=s,this._value=C,this.overrideIdentifiers=H,this.defaultConfiguration=X,this.policyConfiguration=me,this.applicationConfiguration=Oe,this.userConfiguration=ze,this.localUserConfiguration=Qe,this.remoteUserConfiguration=tt,this.workspaceConfiguration=_t,this.folderConfigurationModel=jt,this.memoryConfigurationModel=Xt}inspect(n,s,C){const H=n.inspect(s,C);return{get value(){return Po(H.value)},get override(){return Po(H.override)},get merged(){return Po(H.merged)}}}get userInspectValue(){return this._userInspectValue||(this._userInspectValue=this.inspect(this.userConfiguration,this.key,this.overrides.overrideIdentifier)),this._userInspectValue}get user(){return void 0!==this.userInspectValue.value||void 0!==this.userInspectValue.override?{value:this.userInspectValue.value,override:this.userInspectValue.override}:void 0}}class $n{constructor(n,s,C,H,X=new Ao,me=new Ao,Oe=new Ln.Y9,ze=new Ao,Qe=new Ln.Y9){this._defaultConfiguration=n,this._policyConfiguration=s,this._applicationConfiguration=C,this._localUserConfiguration=H,this._remoteUserConfiguration=X,this._workspaceConfiguration=me,this._folderConfigurations=Oe,this._memoryConfiguration=ze,this._memoryConfigurationByResource=Qe,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations=new Ln.Y9,this._userConfiguration=null}getValue(n,s,C){return this.getConsolidatedConfigurationModel(n,s,C).getValue(n)}updateValue(n,s,C={}){let H;C.resource?(H=this._memoryConfigurationByResource.get(C.resource),H||(H=new Ao,this._memoryConfigurationByResource.set(C.resource,H))):H=this._memoryConfiguration,void 0===s?H.removeValue(n):H.setValue(n,s),C.resource||(this._workspaceConsolidatedConfiguration=null)}inspect(n,s,C){const H=this.getConsolidatedConfigurationModel(n,s,C),X=this.getFolderConfigurationModelForResource(s.resource,C),me=s.resource&&this._memoryConfigurationByResource.get(s.resource)||this._memoryConfiguration,Oe=new Set;for(const ze of H.overrides)for(const Qe of ze.identifiers)void 0!==H.getOverrideValue(n,Qe)&&Oe.add(Qe);return new $r(n,s,H.getValue(n),Oe.size?[...Oe]:void 0,this._defaultConfiguration,this._policyConfiguration.isEmpty()?void 0:this._policyConfiguration,this.applicationConfiguration.isEmpty()?void 0:this.applicationConfiguration,this.userConfiguration,this.localUserConfiguration,this.remoteUserConfiguration,C?this._workspaceConfiguration:void 0,X||void 0,me)}get applicationConfiguration(){return this._applicationConfiguration}get userConfiguration(){return this._userConfiguration||(this._userConfiguration=this._remoteUserConfiguration.isEmpty()?this._localUserConfiguration:this._localUserConfiguration.merge(this._remoteUserConfiguration)),this._userConfiguration}get localUserConfiguration(){return this._localUserConfiguration}get remoteUserConfiguration(){return this._remoteUserConfiguration}getConsolidatedConfigurationModel(n,s,C){let H=this.getConsolidatedConfigurationModelForResource(s,C);return s.overrideIdentifier&&(H=H.override(s.overrideIdentifier)),!this._policyConfiguration.isEmpty()&&void 0!==this._policyConfiguration.getValue(n)&&(H=H.merge(this._policyConfiguration)),H}getConsolidatedConfigurationModelForResource({resource:n},s){let C=this.getWorkspaceConsolidatedConfiguration();if(s&&n){const H=s.getFolder(n);H&&(C=this.getFolderConsolidatedConfiguration(H.uri)||C);const X=this._memoryConfigurationByResource.get(n);X&&(C=C.merge(X))}return C}getWorkspaceConsolidatedConfiguration(){return this._workspaceConsolidatedConfiguration||(this._workspaceConsolidatedConfiguration=this._defaultConfiguration.merge(this.applicationConfiguration,this.userConfiguration,this._workspaceConfiguration,this._memoryConfiguration)),this._workspaceConsolidatedConfiguration}getFolderConsolidatedConfiguration(n){let s=this._foldersConsolidatedConfigurations.get(n);if(!s){const C=this.getWorkspaceConsolidatedConfiguration(),H=this._folderConfigurations.get(n);H?(s=C.merge(H),this._foldersConsolidatedConfigurations.set(n,s)):s=C}return s}getFolderConfigurationModelForResource(n,s){if(s&&n){const C=s.getFolder(n);if(C)return this._folderConfigurations.get(C.uri)}}toData(){return{defaults:{contents:this._defaultConfiguration.contents,overrides:this._defaultConfiguration.overrides,keys:this._defaultConfiguration.keys},policy:{contents:this._policyConfiguration.contents,overrides:this._policyConfiguration.overrides,keys:this._policyConfiguration.keys},application:{contents:this.applicationConfiguration.contents,overrides:this.applicationConfiguration.overrides,keys:this.applicationConfiguration.keys},user:{contents:this.userConfiguration.contents,overrides:this.userConfiguration.overrides,keys:this.userConfiguration.keys},workspace:{contents:this._workspaceConfiguration.contents,overrides:this._workspaceConfiguration.overrides,keys:this._workspaceConfiguration.keys},folders:[...this._folderConfigurations.keys()].reduce((n,s)=>{const{contents:C,overrides:H,keys:X}=this._folderConfigurations.get(s);return n.push([s,{contents:C,overrides:H,keys:X}]),n},[])}}static parse(n){const s=this.parseConfigurationModel(n.defaults),C=this.parseConfigurationModel(n.policy),H=this.parseConfigurationModel(n.application),X=this.parseConfigurationModel(n.user),me=this.parseConfigurationModel(n.workspace),Oe=n.folders.reduce((ze,Qe)=>(ze.set(Ae.o.revive(Qe[0]),this.parseConfigurationModel(Qe[1])),ze),new Ln.Y9);return new $n(s,C,H,X,new Ao,me,Oe,new Ao,new Ln.Y9)}static parseConfigurationModel(n){return new Ao(n.contents,n.keys,n.overrides)}}class no{constructor(n,s,C,H){this.change=n,this.previous=s,this.currentConfiguraiton=C,this.currentWorkspace=H,this._marker="\n",this._markerCode1=this._marker.charCodeAt(0),this._markerCode2=".".charCodeAt(0),this.affectedKeys=new Set,this._previousConfiguration=void 0;for(const X of n.keys)this.affectedKeys.add(X);for(const[,X]of n.overrides)for(const me of X)this.affectedKeys.add(me);this._affectsConfigStr=this._marker;for(const X of this.affectedKeys)this._affectsConfigStr+=X+this._marker}get previousConfiguration(){return!this._previousConfiguration&&this.previous&&(this._previousConfiguration=$n.parse(this.previous.data)),this._previousConfiguration}affectsConfiguration(n,s){var C;const H=this._marker+n,X=this._affectsConfigStr.indexOf(H);if(X<0)return!1;const me=X+H.length;if(me>=this._affectsConfigStr.length)return!1;const Oe=this._affectsConfigStr.charCodeAt(me);if(Oe!==this._markerCode1&&Oe!==this._markerCode2)return!1;if(s){const ze=this.previousConfiguration?this.previousConfiguration.getValue(n,s,null===(C=this.previous)||void 0===C?void 0:C.workspace):void 0,Qe=this.currentConfiguraiton.getValue(n,s,this.currentWorkspace);return!Zi.fS(ze,Qe)}return!0}}var Do=e(77872);const xo={kind:0},Uo={kind:1};class Io{constructor(n,s,C){var H;this._log=C,this._defaultKeybindings=n,this._defaultBoundCommands=new Map;for(const X of n){const me=X.command;me&&"-"!==me.charAt(0)&&this._defaultBoundCommands.set(me,!0)}this._map=new Map,this._lookupMap=new Map,this._keybindings=Io.handleRemovals([].concat(n).concat(s));for(let X=0,me=this._keybindings.length;X<me;X++){const Oe=this._keybindings[X];if(0===Oe.chords.length)continue;const ze=null===(H=Oe.when)||void 0===H?void 0:H.substituteConstants();ze&&0===ze.type||this._addKeyPress(Oe.chords[0],Oe)}}static _isTargetedForRemoval(n,s,C){if(s)for(let H=0;H<s.length;H++)if(s[H]!==n.chords[H])return!1;return!(C&&1!==C.type&&(!n.when||!(0,Ke.Fb)(C,n.when)))}static handleRemovals(n){const s=new Map;for(let H=0,X=n.length;H<X;H++){const me=n[H];if(me.command&&"-"===me.command.charAt(0)){const Oe=me.command.substring(1);s.has(Oe)?s.get(Oe).push(me):s.set(Oe,[me])}}if(0===s.size)return n;const C=[];for(let H=0,X=n.length;H<X;H++){const me=n[H];if(!me.command||0===me.command.length){C.push(me);continue}if("-"===me.command.charAt(0))continue;const Oe=s.get(me.command);if(!Oe||!me.isDefault){C.push(me);continue}let ze=!1;for(const Qe of Oe)if(this._isTargetedForRemoval(me,Qe.chords,Qe.when)){ze=!0;break}ze||C.push(me)}return C}_addKeyPress(n,s){const C=this._map.get(n);if(typeof C>"u")return this._map.set(n,[s]),void this._addToLookupMap(s);for(let H=C.length-1;H>=0;H--){const X=C[H];if(X.command===s.command)continue;let me=!0;for(let Oe=1;Oe<X.chords.length&&Oe<s.chords.length;Oe++)if(X.chords[Oe]!==s.chords[Oe]){me=!1;break}me&&Io.whenIsEntirelyIncluded(X.when,s.when)&&this._removeFromLookupMap(X)}C.push(s),this._addToLookupMap(s)}_addToLookupMap(n){if(!n.command)return;let s=this._lookupMap.get(n.command);typeof s>"u"?(s=[n],this._lookupMap.set(n.command,s)):s.push(n)}_removeFromLookupMap(n){if(!n.command)return;const s=this._lookupMap.get(n.command);if(!(typeof s>"u"))for(let C=0,H=s.length;C<H;C++)if(s[C]===n)return void s.splice(C,1)}static whenIsEntirelyIncluded(n,s){return!s||1===s.type||!(!n||1===n.type)&&(0,Ke.K8)(n,s)}getKeybindings(){return this._keybindings}lookupPrimaryKeybinding(n,s){const C=this._lookupMap.get(n);if(typeof C>"u"||0===C.length)return null;if(1===C.length)return C[0];for(let H=C.length-1;H>=0;H--){const X=C[H];if(s.contextMatchesRules(X.when))return X}return C[C.length-1]}resolve(n,s,C){const H=[...s,C];this._log(`| Resolving ${H}`);const X=this._map.get(H[0]);if(void 0===X)return this._log("\\ No keybinding entries."),xo;let me=null;if(H.length<2)me=X;else{me=[];for(let ze=0,Qe=X.length;ze<Qe;ze++){const tt=X[ze];if(H.length>tt.chords.length)continue;let _t=!0;for(let jt=1;jt<H.length;jt++)if(tt.chords[jt]!==H[jt]){_t=!1;break}_t&&me.push(tt)}}const Oe=this._findCommand(n,me);return Oe?H.length<Oe.chords.length?(this._log(`\\ From ${me.length} keybinding entries, awaiting ${Oe.chords.length-H.length} more chord(s), when: ${fs(Oe.when)}, source: ${Kl(Oe)}.`),Uo):(this._log(`\\ From ${me.length} keybinding entries, matched ${Oe.command}, when: ${fs(Oe.when)}, source: ${Kl(Oe)}.`),function Yo(de,n,s){return{kind:2,commandId:de,commandArgs:n,isBubble:s}}(Oe.command,Oe.commandArgs,Oe.bubble)):(this._log(`\\ From ${me.length} keybinding entries, no when clauses matched the context.`),xo)}_findCommand(n,s){for(let C=s.length-1;C>=0;C--){const H=s[C];if(Io._contextMatchesRules(n,H.when))return H}return null}static _contextMatchesRules(n,s){return!s||s.evaluate(n)}}function fs(de){return de?`${de.serialize()}`:"no when condition"}function Kl(de){return de.extensionId?de.isBuiltinExtension?`built-in extension ${de.extensionId}`:`user extension ${de.extensionId}`:de.isDefault?"built-in":"user"}const dl=/^(cursor|delete|undo|redo|tab|editor\.action\.clipboard)/;class cl extends Ee.JT{get onDidUpdateKeybindings(){return this._onDidUpdateKeybindings?this._onDidUpdateKeybindings.event:gn.ju.None}get inChordMode(){return this._currentChords.length>0}constructor(n,s,C,H,X){super(),this._contextKeyService=n,this._commandService=s,this._telemetryService=C,this._notificationService=H,this._logService=X,this._onDidUpdateKeybindings=this._register(new gn.Q5),this._currentChords=[],this._currentChordChecker=new Hi.zh,this._currentChordStatusMessage=null,this._ignoreSingleModifiers=rr.EMPTY,this._currentSingleModifier=null,this._currentSingleModifierClearTimeout=new Hi._F,this._logging=!1}dispose(){super.dispose()}_log(n){this._logging&&this._logService.info(`[KeybindingService]: ${n}`)}getKeybindings(){return this._getResolver().getKeybindings()}lookupKeybinding(n,s){const C=this._getResolver().lookupPrimaryKeybinding(n,s||this._contextKeyService);if(C)return C.resolvedKeybinding}dispatchEvent(n,s){return this._dispatch(n,s)}softDispatch(n,s){this._log("/ Soft dispatching keyboard event");const C=this.resolveKeyboardEvent(n);if(C.hasMultipleChords())return console.warn("keyboard event should not be mapped to multiple chords"),xo;const[H]=C.getDispatchChords();if(null===H)return this._log("\\ Keyboard event cannot be dispatched"),xo;const X=this._contextKeyService.getContext(s),me=this._currentChords.map(({keypress:Oe})=>Oe);return this._getResolver().resolve(X,me,H)}_scheduleLeaveChordMode(){const n=Date.now();this._currentChordChecker.cancelAndSet(()=>{this._documentHasFocus()?Date.now()-n>5e3&&this._leaveChordMode():this._leaveChordMode()},500)}_expectAnotherChord(n,s){switch(this._currentChords.push({keypress:n,label:s}),this._currentChords.length){case 0:throw(0,$t.L6)("impossible");case 1:this._currentChordStatusMessage=this._notificationService.status(si.NC("first.chord","({0}) was pressed. Waiting for second key of chord...",s));break;default:{const C=this._currentChords.map(({label:H})=>H).join(", ");this._currentChordStatusMessage=this._notificationService.status(si.NC("next.chord","({0}) was pressed. Waiting for next key of chord...",C))}}this._scheduleLeaveChordMode(),Do.F.enabled&&Do.F.disable()}_leaveChordMode(){this._currentChordStatusMessage&&(this._currentChordStatusMessage.dispose(),this._currentChordStatusMessage=null),this._currentChordChecker.cancel(),this._currentChords=[],Do.F.enable()}_dispatch(n,s){return this._doDispatch(this.resolveKeyboardEvent(n),s,!1)}_singleModifierDispatch(n,s){const C=this.resolveKeyboardEvent(n),[H]=C.getSingleModifierDispatchChords();if(H)return this._ignoreSingleModifiers.has(H)?(this._log(`+ Ignoring single modifier ${H} due to it being pressed together with other keys.`),this._ignoreSingleModifiers=rr.EMPTY,this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1):(this._ignoreSingleModifiers=rr.EMPTY,null===this._currentSingleModifier?(this._log(`+ Storing single modifier for possible chord ${H}.`),this._currentSingleModifier=H,this._currentSingleModifierClearTimeout.cancelAndSet(()=>{this._log("+ Clearing single modifier due to 300ms elapsed."),this._currentSingleModifier=null},300),!1):H===this._currentSingleModifier?(this._log(`/ Dispatching single modifier chord ${H} ${H}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,this._doDispatch(C,s,!0)):(this._log(`+ Clearing single modifier due to modifier mismatch: ${this._currentSingleModifier} ${H}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1));const[X]=C.getChords();return this._ignoreSingleModifiers=new rr(X),null!==this._currentSingleModifier&&this._log("+ Clearing single modifier due to other key up."),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1}_doDispatch(n,s,C=!1){var H;let X=!1;if(n.hasMultipleChords())return console.warn("Unexpected keyboard event mapped to multiple chords"),!1;let me=null,Oe=null;if(C){const[_t]=n.getSingleModifierDispatchChords();me=_t,Oe=_t?[_t]:[]}else[me]=n.getDispatchChords(),Oe=this._currentChords.map(({keypress:_t})=>_t);if(null===me)return this._log("\\ Keyboard event cannot be dispatched in keydown phase."),X;const ze=this._contextKeyService.getContext(s),Qe=n.getLabel(),tt=this._getResolver().resolve(ze,Oe,me);switch(tt.kind){case 0:if(this._logService.trace("KeybindingService#dispatch",Qe,"[ No matching keybinding ]"),this.inChordMode){const _t=this._currentChords.map(({label:jt})=>jt).join(", ");this._log(`+ Leaving multi-chord mode: Nothing bound to "${_t}, ${Qe}".`),this._notificationService.status(si.NC("missing.chord","The key combination ({0}, {1}) is not a command.",_t,Qe),{hideAfter:1e4}),this._leaveChordMode(),X=!0}return X;case 1:return this._logService.trace("KeybindingService#dispatch",Qe,"[ Several keybindings match - more chords needed ]"),X=!0,this._expectAnotherChord(me,Qe),this._log(1===this._currentChords.length?"+ Entering multi-chord mode...":"+ Continuing multi-chord mode..."),X;case 2:if(this._logService.trace("KeybindingService#dispatch",Qe,`[ Will dispatch command ${tt.commandId} ]`),null===tt.commandId||""===tt.commandId){if(this.inChordMode){const _t=this._currentChords.map(({label:jt})=>jt).join(", ");this._log(`+ Leaving chord mode: Nothing bound to "${_t}, ${Qe}".`),this._notificationService.status(si.NC("missing.chord","The key combination ({0}, {1}) is not a command.",_t,Qe),{hideAfter:1e4}),this._leaveChordMode(),X=!0}}else this.inChordMode&&this._leaveChordMode(),tt.isBubble||(X=!0),this._log(`+ Invoking command ${tt.commandId}.`),typeof tt.commandArgs>"u"?this._commandService.executeCommand(tt.commandId).then(void 0,_t=>this._notificationService.warn(_t)):this._commandService.executeCommand(tt.commandId,tt.commandArgs).then(void 0,_t=>this._notificationService.warn(_t)),dl.test(tt.commandId)||this._telemetryService.publicLog2("workbenchActionExecuted",{id:tt.commandId,from:"keybinding",detail:null!==(H=n.getUserSettingsLabel())&&void 0!==H?H:void 0});return X}}mightProducePrintableCharacter(n){return!n.ctrlKey&&!n.metaKey&&(n.keyCode>=31&&n.keyCode<=56||n.keyCode>=21&&n.keyCode<=30)}}class rr{constructor(n){this._ctrlKey=!!n&&n.ctrlKey,this._shiftKey=!!n&&n.shiftKey,this._altKey=!!n&&n.altKey,this._metaKey=!!n&&n.metaKey}has(n){switch(n){case"ctrl":return this._ctrlKey;case"shift":return this._shiftKey;case"alt":return this._altKey;case"meta":return this._metaKey}}}rr.EMPTY=new rr(null);var Ls=e(21536),$l=e(31498);class hl{constructor(n,s,C,H,X,me,Oe){this._resolvedKeybindingItemBrand=void 0,this.resolvedKeybinding=n,this.chords=n?La(n.getDispatchChords()):[],n&&0===this.chords.length&&(this.chords=La(n.getSingleModifierDispatchChords())),this.bubble=!!s&&94===s.charCodeAt(0),this.command=this.bubble?s.substr(1):s,this.commandArgs=C,this.when=H,this.isDefault=X,this.extensionId=me,this.isBuiltinExtension=Oe}}function La(de){const n=[];for(let s=0,C=de.length;s<C;s++){const H=de[s];if(!H)return[];n.push(H)}return n}var ar=e(48994),Gr=e(9467);class Zr extends js.f1{constructor(n,s){if(super(),0===s.length)throw(0,$t.b1)("chords");this._os=n,this._chords=s}getLabel(){return Gr.xo.toLabel(this._os,this._chords,n=>this._getLabel(n))}getAriaLabel(){return Gr.X4.toLabel(this._os,this._chords,n=>this._getAriaLabel(n))}getElectronAccelerator(){return this._chords.length>1||this._chords[0].isDuplicateModifierCase()?null:Gr.jC.toLabel(this._os,this._chords,n=>this._getElectronAccelerator(n))}getUserSettingsLabel(){return Gr.r6.toLabel(this._os,this._chords,n=>this._getUserSettingsLabel(n))}hasMultipleChords(){return this._chords.length>1}getChords(){return this._chords.map(n=>this._getChord(n))}_getChord(n){return new js.aZ(n.ctrlKey,n.shiftKey,n.altKey,n.metaKey,this._getLabel(n),this._getAriaLabel(n))}getDispatchChords(){return this._chords.map(n=>this._getChordDispatch(n))}getSingleModifierDispatchChords(){return this._chords.map(n=>this._getSingleModifierChordDispatch(n))}}class Es extends Zr{constructor(n,s){super(s,n)}_keyCodeToUILabel(n){if(2===this._os)switch(n){case 15:return"\u2190";case 16:return"\u2191";case 17:return"\u2192";case 18:return"\u2193"}return ar.kL.toString(n)}_getLabel(n){return n.isDuplicateModifierCase()?"":this._keyCodeToUILabel(n.keyCode)}_getAriaLabel(n){return n.isDuplicateModifierCase()?"":ar.kL.toString(n.keyCode)}_getElectronAccelerator(n){return ar.kL.toElectronAccelerator(n.keyCode)}_getUserSettingsLabel(n){if(n.isDuplicateModifierCase())return"";const s=ar.kL.toUserSettingsUS(n.keyCode);return s&&s.toLowerCase()}_getChordDispatch(n){return Es.getDispatchStr(n)}static getDispatchStr(n){if(n.isModifierKey())return null;let s="";return n.ctrlKey&&(s+="ctrl+"),n.shiftKey&&(s+="shift+"),n.altKey&&(s+="alt+"),n.metaKey&&(s+="meta+"),s+=ar.kL.toString(n.keyCode),s}_getSingleModifierChordDispatch(n){return 5!==n.keyCode||n.shiftKey||n.altKey||n.metaKey?4!==n.keyCode||n.ctrlKey||n.altKey||n.metaKey?6!==n.keyCode||n.ctrlKey||n.shiftKey||n.metaKey?57!==n.keyCode||n.ctrlKey||n.shiftKey||n.altKey?null:"meta":"alt":"shift":"ctrl"}static _scanCodeToKeyCode(n){const s=ar.Vd[n];if(-1!==s)return s;switch(n){case 10:return 31;case 11:return 32;case 12:return 33;case 13:return 34;case 14:return 35;case 15:return 36;case 16:return 37;case 17:return 38;case 18:return 39;case 19:return 40;case 20:return 41;case 21:return 42;case 22:return 43;case 23:return 44;case 24:return 45;case 25:return 46;case 26:return 47;case 27:return 48;case 28:return 49;case 29:return 50;case 30:return 51;case 31:return 52;case 32:return 53;case 33:return 54;case 34:return 55;case 35:return 56;case 36:return 22;case 37:return 23;case 38:return 24;case 39:return 25;case 40:return 26;case 41:return 27;case 42:return 28;case 43:return 29;case 44:return 30;case 45:return 21;case 51:return 88;case 52:return 86;case 53:return 92;case 54:return 94;case 55:return 93;case 56:return 0;case 57:return 85;case 58:return 95;case 59:return 91;case 60:return 87;case 61:return 89;case 62:return 90;case 106:return 97}return 0}static _toKeyCodeChord(n){if(!n)return null;if(n instanceof js.$M)return n;const s=this._scanCodeToKeyCode(n.scanCode);return 0===s?null:new js.$M(n.ctrlKey,n.shiftKey,n.altKey,n.metaKey,s)}static resolveKeybinding(n,s){const C=La(n.chords.map(H=>this._toKeyCodeChord(H)));return C.length>0?[new Es(C,s)]:[]}}var sc=e(89165),Qr=e(51367),Yr=e(58942),Ea=e(45615),lr=e(44356),Is=e(9001),rc=e(98044),dr=e(76485),Gl=e(50042),ul=e(23137),Pr=e(16328),$s={};$s.styleTagTransform=At(),$s.setAttributes=Lt(),$s.insert=mt().bind(null,"head"),$s.domAPI=ot(),$s.insertStyleElement=Mt(),He()(Pr.Z,$s);var Gs=function(de){return de[de.AVOID=0]="AVOID",de[de.ALIGN=1]="ALIGN",de}(Gs||{});function cr(de,n,s){const C=s.mode===Gs.ALIGN?s.offset:s.offset+s.size,H=s.mode===Gs.ALIGN?s.offset+s.size:s.offset;return 0===s.position?n<=de-C?C:n<=H?H-n:Math.max(de-n,0):n<=H?H-n:n<=de-C?C:0}let Zl=(()=>{class de extends Ee.JT{constructor(s,C){super(),this.container=null,this.delegate=null,this.toDisposeOnClean=Ee.JT.None,this.toDisposeOnSetContainer=Ee.JT.None,this.shadowRoot=null,this.shadowRootHostElement=null,this.view=Jt.$(".context-view"),this.useFixedPosition=!1,this.useShadowDOM=!1,Jt.Cp(this.view),this.setContainer(s,C),this._register((0,Ee.OF)(()=>this.setContainer(null,1)))}setContainer(s,C){var H;if(this.container&&(this.toDisposeOnSetContainer.dispose(),this.shadowRoot?(this.shadowRoot.removeChild(this.view),this.shadowRoot=null,null===(H=this.shadowRootHostElement)||void 0===H||H.remove(),this.shadowRootHostElement=null):this.container.removeChild(this.view),this.container=null),s){if(this.container=s,this.useFixedPosition=1!==C,this.useShadowDOM=3===C,this.useShadowDOM){this.shadowRootHostElement=Jt.$(".shadow-root-host"),this.container.appendChild(this.shadowRootHostElement),this.shadowRoot=this.shadowRootHostElement.attachShadow({mode:"open"});const me=document.createElement("style");me.textContent=vo,this.shadowRoot.appendChild(me),this.shadowRoot.appendChild(this.view),this.shadowRoot.appendChild(Jt.$("slot"))}else this.container.appendChild(this.view);const X=new Ee.SL;de.BUBBLE_UP_EVENTS.forEach(me=>{X.add(Jt.mu(this.container,me,Oe=>{this.onDOMEvent(Oe,!1)}))}),de.BUBBLE_DOWN_EVENTS.forEach(me=>{X.add(Jt.mu(this.container,me,Oe=>{this.onDOMEvent(Oe,!0)},!0))}),this.toDisposeOnSetContainer=X}}show(s){var C,H;this.isVisible()&&this.hide(),Jt.PO(this.view),this.view.className="context-view",this.view.style.top="0px",this.view.style.left="0px",this.view.style.zIndex="2575",this.view.style.position=this.useFixedPosition?"fixed":"absolute",Jt.$Z(this.view),this.toDisposeOnClean=s.render(this.view)||Ee.JT.None,this.delegate=s,this.doLayout(),null===(H=(C=this.delegate).focus)||void 0===H||H.call(C)}getViewElement(){return this.view}layout(){if(this.isVisible()){if(!(!1!==this.delegate.canRelayout||Kn.gn&&Gl.D.pointerEvents))return void this.hide();this.delegate.layout&&this.delegate.layout(),this.doLayout()}}doLayout(){if(!this.isVisible())return;const s=this.delegate.getAnchor();let C;if(Jt.Re(s)){const jt=Jt.i(s),Xt=Jt.I8(s);C={top:jt.top*Xt,left:jt.left*Xt,width:jt.width*Xt,height:jt.height*Xt}}else C=function Da(de){return!!de&&"number"==typeof de.x&&"number"==typeof de.y}(s)?{top:s.y,left:s.x,width:s.width||1,height:s.height||2}:{top:s.posy,left:s.posx,width:2,height:2};const H=Jt.w(this.view),X=Jt.wn(this.view),me=this.delegate.anchorPosition||0,Oe=this.delegate.anchorAlignment||0;let Qe,tt;if(0===(this.delegate.anchorAxisAlignment||0)){const jt={offset:C.top-window.pageYOffset,size:C.height,position:0===me?0:1},Xt={offset:C.left,size:C.width,position:0===Oe?0:1,mode:Gs.ALIGN};Qe=cr(window.innerHeight,X,jt)+window.pageYOffset,ul.e.intersects({start:Qe,end:Qe+X},{start:jt.offset,end:jt.offset+jt.size})&&(Xt.mode=Gs.AVOID),tt=cr(window.innerWidth,H,Xt)}else{const jt={offset:C.left,size:C.width,position:0===Oe?0:1},Xt={offset:C.top,size:C.height,position:0===me?0:1,mode:Gs.ALIGN};tt=cr(window.innerWidth,H,jt),ul.e.intersects({start:tt,end:tt+H},{start:jt.offset,end:jt.offset+jt.size})&&(Xt.mode=Gs.AVOID),Qe=cr(window.innerHeight,X,Xt)+window.pageYOffset}this.view.classList.remove("top","bottom","left","right"),this.view.classList.add(0===me?"bottom":"top"),this.view.classList.add(0===Oe?"left":"right"),this.view.classList.toggle("fixed",this.useFixedPosition);const _t=Jt.i(this.container);this.view.style.top=Qe-(this.useFixedPosition?Jt.i(this.view).top:_t.top)+"px",this.view.style.left=tt-(this.useFixedPosition?Jt.i(this.view).left:_t.left)+"px",this.view.style.width="initial"}hide(s){const C=this.delegate;this.delegate=null,C?.onHide&&C.onHide(s),this.toDisposeOnClean.dispose(),Jt.Cp(this.view)}isVisible(){return!!this.delegate}onDOMEvent(s,C){this.delegate&&(this.delegate.onDOMEvent?this.delegate.onDOMEvent(s,document.activeElement):C&&!Jt.jg(s.target,this.container)&&this.hide())}dispose(){this.hide(),super.dispose()}}return de.BUBBLE_UP_EVENTS=["click","keydown","focus","blur"],de.BUBBLE_DOWN_EVENTS=["click"],de})();const vo='\n\t:host {\n\t\tall: initial; /* 1st rule so subsequent properties are reset. */\n\t}\n\n\t.codicon[class*=\'codicon-\'] {\n\t\tfont: normal normal normal 16px/1 codicon;\n\t\tdisplay: inline-block;\n\t\ttext-decoration: none;\n\t\ttext-rendering: auto;\n\t\ttext-align: center;\n\t\t-webkit-font-smoothing: antialiased;\n\t\t-moz-osx-font-smoothing: grayscale;\n\t\tuser-select: none;\n\t\t-webkit-user-select: none;\n\t\t-ms-user-select: none;\n\t}\n\n\t:host {\n\t\tfont-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "HelveticaNeue-Light", system-ui, "Ubuntu", "Droid Sans", sans-serif;\n\t}\n\n\t:host-context(.mac) { font-family: -apple-system, BlinkMacSystemFont, sans-serif; }\n\t:host-context(.mac:lang(zh-Hans)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang SC", "Hiragino Sans GB", sans-serif; }\n\t:host-context(.mac:lang(zh-Hant)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang TC", sans-serif; }\n\t:host-context(.mac:lang(ja)) { font-family: -apple-system, BlinkMacSystemFont, "Hiragino Kaku Gothic Pro", sans-serif; }\n\t:host-context(.mac:lang(ko)) { font-family: -apple-system, BlinkMacSystemFont, "Nanum Gothic", "Apple SD Gothic Neo", "AppleGothic", sans-serif; }\n\n\t:host-context(.windows) { font-family: "Segoe WPC", "Segoe UI", sans-serif; }\n\t:host-context(.windows:lang(zh-Hans)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft YaHei", sans-serif; }\n\t:host-context(.windows:lang(zh-Hant)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft Jhenghei", sans-serif; }\n\t:host-context(.windows:lang(ja)) { font-family: "Segoe WPC", "Segoe UI", "Yu Gothic UI", "Meiryo UI", sans-serif; }\n\t:host-context(.windows:lang(ko)) { font-family: "Segoe WPC", "Segoe UI", "Malgun Gothic", "Dotom", sans-serif; }\n\n\t:host-context(.linux) { font-family: system-ui, "Ubuntu", "Droid Sans", sans-serif; }\n\t:host-context(.linux:lang(zh-Hans)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans SC", "Source Han Sans CN", "Source Han Sans", sans-serif; }\n\t:host-context(.linux:lang(zh-Hant)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans TC", "Source Han Sans TW", "Source Han Sans", sans-serif; }\n\t:host-context(.linux:lang(ja)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans J", "Source Han Sans JP", "Source Han Sans", sans-serif; }\n\t:host-context(.linux:lang(ko)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans K", "Source Han Sans JR", "Source Han Sans", "UnDotum", "FBaekmuk Gulim", sans-serif; }\n';let hr=class extends Ee.JT{constructor(n){super(),this.layoutService=n,this.currentViewDisposable=Ee.JT.None,this.container=n.hasContainer?n.container:null,this.contextView=this._register(new Zl(this.container,1)),this.layout(),this._register(n.onDidLayout(()=>this.layout()))}setContainer(n,s){this.contextView.setContainer(n,s||1)}showContextView(n,s,C){s?(s!==this.container||this.shadowRoot!==C)&&(this.container=s,this.setContainer(s,C?3:2)):this.layoutService.hasContainer&&this.container!==this.layoutService.container&&(this.container=this.layoutService.container,this.setContainer(this.container,1)),this.shadowRoot=C,this.contextView.show(n);const H=(0,Ee.OF)(()=>{this.currentViewDisposable===H&&this.hideContextView()});return this.currentViewDisposable=H,H}getContextViewElement(){return this.contextView.getViewElement()}layout(){this.contextView.layout()}hideContextView(n){this.contextView.hide(n)}};hr=function(de,n,s,C){var me,H=arguments.length,X=H<3?n:null===C?C=Object.getOwnPropertyDescriptor(n,s):C;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)X=Reflect.decorate(de,n,s,C);else for(var Oe=de.length-1;Oe>=0;Oe--)(me=de[Oe])&&(X=(H<3?me(X):H>3?me(n,s,X):me(n,s))||X);return H>3&&X&&Object.defineProperty(n,s,X),X}([function(de,n){return function(s,C){n(s,C,0)}}(0,oi)],hr);var ur=e(90361),as=e(81007);let gr=[],Ts=[],Cs=[];function Xr(de,n=!1){!function Ql(de,n,s){const C=function Yl(de,n){return{id:de.id,mime:de.mime,filename:de.filename,extension:de.extension,filepattern:de.filepattern,firstline:de.firstline,userConfigured:n,filenameLowercase:de.filename?de.filename.toLowerCase():void 0,extensionLowercase:de.extension?de.extension.toLowerCase():void 0,filepatternLowercase:de.filepattern?Ar(de.filepattern.toLowerCase()):void 0,filepatternOnPath:!!de.filepattern&&de.filepattern.indexOf(kn.KR.sep)>=0}}(de,n);gr.push(C),C.userConfigured?Cs.push(C):Ts.push(C),s&&!C.userConfigured&&gr.forEach(H=>{H.mime===C.mime||H.userConfigured||(C.extension&&H.extension===C.extension&&console.warn(`Overwriting extension <<${C.extension}>> to now point to mime <<${C.mime}>>`),C.filename&&H.filename===C.filename&&console.warn(`Overwriting filename <<${C.filename}>> to now point to mime <<${C.mime}>>`),C.filepattern&&H.filepattern===C.filepattern&&console.warn(`Overwriting filepattern <<${C.filepattern}>> to now point to mime <<${C.mime}>>`),C.firstline&&H.firstline===C.firstline&&console.warn(`Overwriting firstline <<${C.firstline}>> to now point to mime <<${C.mime}>>`))})}(de,!1,n)}function fl(de,n,s){var C;let H,X,me;for(let Oe=s.length-1;Oe>=0;Oe--){const ze=s[Oe];if(n===ze.filenameLowercase){H=ze;break}ze.filepattern&&(!X||ze.filepattern.length>X.filepattern.length)&&null!==(C=ze.filepatternLowercase)&&void 0!==C&&C.call(ze,ze.filepatternOnPath?de:n)&&(X=ze),ze.extension&&(!me||ze.extension.length>me.extension.length)&&n.endsWith(ze.extensionLowercase)&&(me=ze)}return H||X||me||void 0}const Zs=Object.prototype.hasOwnProperty,xa="vs.editor.nullLanguage";class Ia{constructor(){this._languageIdToLanguage=[],this._languageToLanguageId=new Map,this._register(xa,0),this._register(as.bd,1),this._nextLanguageId=2}_register(n,s){this._languageIdToLanguage[s]=n,this._languageToLanguageId.set(n,s)}register(n){if(this._languageToLanguageId.has(n))return;const s=this._nextLanguageId++;this._register(n,s)}encodeLanguageId(n){return this._languageToLanguageId.get(n)||0}decodeLanguageId(n){return this._languageIdToLanguage[n]||xa}}let Ta=(()=>{class de extends Ee.JT{constructor(s=!0,C=!1){super(),this._onDidChange=this._register(new gn.Q5),this.onDidChange=this._onDidChange.event,de.instanceCount++,this._warnOnOverwrite=C,this.languageIdCodec=new Ia,this._dynamicLanguages=[],this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},s&&(this._initializeFromRegistry(),this._register(as.dQ.onDidChangeLanguages(H=>{this._initializeFromRegistry()})))}dispose(){de.instanceCount--,super.dispose()}_initializeFromRegistry(){this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},function Xl(){gr=gr.filter(de=>de.userConfigured),Ts=[]}();const s=[].concat(as.dQ.getLanguages()).concat(this._dynamicLanguages);this._registerLanguages(s)}_registerLanguages(s){for(const C of s)this._registerLanguage(C);this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Object.keys(this._languages).forEach(C=>{const H=this._languages[C];H.name&&(this._nameMap[H.name]=H.identifier),H.aliases.forEach(X=>{this._lowercaseNameMap[X.toLowerCase()]=H.identifier}),H.mimetypes.forEach(X=>{this._mimeTypesMap[X]=H.identifier})}),ws.B.as(gs.IP.Configuration).registerOverrideIdentifiers(this.getRegisteredLanguageIds()),this._onDidChange.fire()}_registerLanguage(s){const C=s.id;let H;Zs.call(this._languages,C)?H=this._languages[C]:(this.languageIdCodec.register(C),H={identifier:C,name:null,mimetypes:[],aliases:[],extensions:[],filenames:[],configurationFiles:[],icons:[]},this._languages[C]=H),this._mergeLanguage(H,s)}_mergeLanguage(s,C){const H=C.id;let X=null;if(Array.isArray(C.mimetypes)&&C.mimetypes.length>0&&(s.mimetypes.push(...C.mimetypes),X=C.mimetypes[0]),X||(X=`text/x-${H}`,s.mimetypes.push(X)),Array.isArray(C.extensions)){s.extensions=C.configuration?C.extensions.concat(s.extensions):s.extensions.concat(C.extensions);for(const ze of C.extensions)Xr({id:H,mime:X,extension:ze},this._warnOnOverwrite)}if(Array.isArray(C.filenames))for(const ze of C.filenames)Xr({id:H,mime:X,filename:ze},this._warnOnOverwrite),s.filenames.push(ze);if(Array.isArray(C.filenamePatterns))for(const ze of C.filenamePatterns)Xr({id:H,mime:X,filepattern:ze},this._warnOnOverwrite);if("string"==typeof C.firstLine&&C.firstLine.length>0){let ze=C.firstLine;"^"!==ze.charAt(0)&&(ze="^"+ze);try{const Qe=new RegExp(ze);(0,Te.IO)(Qe)||Xr({id:H,mime:X,firstline:Qe},this._warnOnOverwrite)}catch(Qe){console.warn(`[${C.id}]: Invalid regular expression \`${ze}\`: `,Qe)}}s.aliases.push(H);let me=null;if(typeof C.aliases<"u"&&Array.isArray(C.aliases)&&(me=0===C.aliases.length?[null]:C.aliases),null!==me)for(const ze of me)!ze||0===ze.length||s.aliases.push(ze);const Oe=null!==me&&me.length>0;Oe&&null===me[0]||(Oe||!s.name)&&(s.name=(Oe?me[0]:null)||H),C.configuration&&s.configurationFiles.push(C.configuration),C.icon&&s.icons.push(C.icon)}isRegisteredLanguageId(s){return!!s&&Zs.call(this._languages,s)}getRegisteredLanguageIds(){return Object.keys(this._languages)}getLanguageIdByLanguageName(s){const C=s.toLowerCase();return Zs.call(this._lowercaseNameMap,C)?this._lowercaseNameMap[C]:null}getLanguageIdByMimeType(s){return s&&Zs.call(this._mimeTypesMap,s)?this._mimeTypesMap[s]:null}guessLanguageIdByFilepathOrFirstLine(s,C){return s||C?function fr(de,n){return function Jr(de,n){let s;if(de)switch(de.scheme){case qn.lg.file:s=de.fsPath;break;case qn.lg.data:s=Is.Vb.parseMetaData(de).get(Is.Vb.META_DATA_LABEL);break;case qn.lg.vscodeNotebookCell:s=void 0;break;default:s=de.path}if(!s)return[{id:"unknown",mime:ur.v.unknown}];s=s.toLowerCase();const C=(0,kn.EZ)(s),H=fl(s,C,Cs);if(H)return[H,{id:as.bd,mime:ur.v.text}];const X=fl(s,C,Ts);if(X)return[X,{id:as.bd,mime:ur.v.text}];if(n){const me=function Jl(de){if((0,Te.uS)(de)&&(de=de.substr(1)),de.length>0)for(let n=gr.length-1;n>=0;n--){const s=gr[n];if(!s.firstline)continue;const C=de.match(s.firstline);if(C&&C.length>0)return s}}(n);if(me)return[me,{id:as.bd,mime:ur.v.text}]}return[{id:"unknown",mime:ur.v.unknown}]}(de,n).map(s=>s.id)}(s,C):[]}}return de.instanceCount=0,de})(),qr=(()=>{class de extends Ee.JT{constructor(s=!1){super(),this._onDidRequestBasicLanguageFeatures=this._register(new gn.Q5),this.onDidRequestBasicLanguageFeatures=this._onDidRequestBasicLanguageFeatures.event,this._onDidRequestRichLanguageFeatures=this._register(new gn.Q5),this.onDidRequestRichLanguageFeatures=this._onDidRequestRichLanguageFeatures.event,this._onDidChange=this._register(new gn.Q5({leakWarningThreshold:200})),this.onDidChange=this._onDidChange.event,this._requestedBasicLanguages=new Set,this._requestedRichLanguages=new Set,de.instanceCount++,this._registry=this._register(new Ta(!0,s)),this.languageIdCodec=this._registry.languageIdCodec,this._register(this._registry.onDidChange(()=>this._onDidChange.fire()))}dispose(){de.instanceCount--,super.dispose()}isRegisteredLanguageId(s){return this._registry.isRegisteredLanguageId(s)}getLanguageIdByLanguageName(s){return this._registry.getLanguageIdByLanguageName(s)}getLanguageIdByMimeType(s){return this._registry.getLanguageIdByMimeType(s)}guessLanguageIdByFilepathOrFirstLine(s,C){const H=this._registry.guessLanguageIdByFilepathOrFirstLine(s,C);return(0,hn.Xh)(H,null)}createById(s){return new ml(this.onDidChange,()=>this._createAndGetLanguageIdentifier(s))}createByFilepathOrFirstLine(s,C){return new ml(this.onDidChange,()=>{const H=this.guessLanguageIdByFilepathOrFirstLine(s,C);return this._createAndGetLanguageIdentifier(H)})}_createAndGetLanguageIdentifier(s){return(!s||!this.isRegisteredLanguageId(s))&&(s=as.bd),s}requestBasicLanguageFeatures(s){this._requestedBasicLanguages.has(s)||(this._requestedBasicLanguages.add(s),this._onDidRequestBasicLanguageFeatures.fire(s))}requestRichLanguageFeatures(s){this._requestedRichLanguages.has(s)||(this._requestedRichLanguages.add(s),this.requestBasicLanguageFeatures(s),Zt.RW.getOrCreate(s),this._onDidRequestRichLanguageFeatures.fire(s))}}return de.instanceCount=0,de})();class ml{constructor(n,s){this._onDidChangeLanguages=n,this._selector=s,this._listener=null,this._emitter=null,this.languageId=this._selector()}_dispose(){this._listener&&(this._listener.dispose(),this._listener=null),this._emitter&&(this._emitter.dispose(),this._emitter=null)}get onDidChange(){return this._listener||(this._listener=this._onDidChangeLanguages(()=>this._evaluate())),this._emitter||(this._emitter=new gn.Q5({onDidRemoveLastListener:()=>{this._dispose()}})),this._emitter.event}_evaluate(){var n;const s=this._selector();s!==this.languageId&&(this.languageId=s,null===(n=this._emitter)||void 0===n||n.fire(this.languageId))}}var zo=e(54457),ql=e(65227),Bo=e(63032),Na=e(20940),Ma=e(47492),mr=e(54796),Ws=e(26775),ea=e(42243),ta=e(8286),jo=e(27222),ls=e(35053),ds=e(53385);const Aa=/\(&([^\s&])\)|(^|[^&])&([^\s&])/,Ra=/(&amp;)?(&amp;)([^\s&])/g;var Pa=function(de){return de[de.Right=0]="Right",de[de.Left=1]="Left",de}(Pa||{});class pr extends Ws.o{constructor(n,s,C,H){n.classList.add("monaco-menu-container"),n.setAttribute("role","presentation");const X=document.createElement("div");X.classList.add("monaco-menu"),X.setAttribute("role","presentation"),super(X,{orientation:1,actionViewItemProvider:ze=>this.doGetActionViewItem(ze,C,me),context:C.context,actionRunner:C.actionRunner,ariaLabel:C.ariaLabel,ariaRole:"menu",focusOnlyEnabledItems:!0,triggerKeys:{keys:[3,...Kn.dz||Kn.IJ?[10]:[]],keyDown:!0}}),this.menuStyles=H,this.menuElement=X,this.actionsList.tabIndex=0,this.menuDisposables=this._register(new Ee.SL),this.initializeOrUpdateStyleSheet(n,H),this._register(mr.o.addTarget(X)),(0,Jt.nm)(X,Jt.tw.KEY_DOWN,ze=>{new rs.y(ze).equals(2)&&ze.preventDefault()}),C.enableMnemonics&&this.menuDisposables.add((0,Jt.nm)(X,Jt.tw.KEY_DOWN,ze=>{const Qe=ze.key.toLocaleLowerCase();if(this.mnemonics.has(Qe)){Jt.zB.stop(ze,!0);const tt=this.mnemonics.get(Qe);if(1===tt.length&&(tt[0]instanceof vl&&tt[0].container&&this.focusItemByElement(tt[0].container),tt[0].onClick(ze)),tt.length>1){const _t=tt.shift();_t&&_t.container&&(this.focusItemByElement(_t.container),tt.push(_t)),this.mnemonics.set(Qe,tt)}}})),Kn.IJ&&this._register((0,Jt.nm)(X,Jt.tw.KEY_DOWN,ze=>{const Qe=new rs.y(ze);Qe.equals(14)||Qe.equals(11)?(this.focusedItem=this.viewItems.length-1,this.focusNext(),Jt.zB.stop(ze,!0)):(Qe.equals(13)||Qe.equals(12))&&(this.focusedItem=0,this.focusPrevious(),Jt.zB.stop(ze,!0))})),this._register((0,Jt.nm)(this.domNode,Jt.tw.MOUSE_OUT,ze=>{(0,Jt.jg)(ze.relatedTarget,this.domNode)||(this.focusedItem=void 0,this.updateFocus(),ze.stopPropagation())})),this._register((0,Jt.nm)(this.actionsList,Jt.tw.MOUSE_OVER,ze=>{let Qe=ze.target;if(Qe&&(0,Jt.jg)(Qe,this.actionsList)&&Qe!==this.actionsList){for(;Qe.parentElement!==this.actionsList&&null!==Qe.parentElement;)Qe=Qe.parentElement;if(Qe.classList.contains("action-item")){const tt=this.focusedItem;this.setFocusedItem(Qe),tt!==this.focusedItem&&this.updateFocus()}}})),this._register(mr.o.addTarget(this.actionsList)),this._register((0,Jt.nm)(this.actionsList,mr.t.Tap,ze=>{let Qe=ze.initialTarget;if(Qe&&(0,Jt.jg)(Qe,this.actionsList)&&Qe!==this.actionsList){for(;Qe.parentElement!==this.actionsList&&null!==Qe.parentElement;)Qe=Qe.parentElement;if(Qe.classList.contains("action-item")){const tt=this.focusedItem;this.setFocusedItem(Qe),tt!==this.focusedItem&&this.updateFocus()}}}));const me={parent:this};this.mnemonics=new Map,this.scrollableElement=this._register(new ta.s$(X,{alwaysConsumeMouseWheel:!0,horizontal:2,vertical:3,verticalScrollbarSize:7,handleMouseWheel:!0,useShadows:!0}));const Oe=this.scrollableElement.getDomNode();Oe.style.position="",this.styleScrollElement(Oe,H),this._register((0,Jt.nm)(X,mr.t.Change,ze=>{Jt.zB.stop(ze,!0);const Qe=this.scrollableElement.getScrollPosition().scrollTop;this.scrollableElement.setScrollPosition({scrollTop:Qe-ze.translationY})})),this._register((0,Jt.nm)(Oe,Jt.tw.MOUSE_UP,ze=>{ze.preventDefault()})),X.style.maxHeight=`${Math.max(10,window.innerHeight-n.getBoundingClientRect().top-35)}px`,s=s.filter(ze=>{var Qe;return null===(Qe=C.submenuIds)||void 0===Qe||!Qe.has(ze.id)||(console.warn(`Found submenu cycle: ${ze.id}`),!1)}),this.push(s,{icon:!0,label:!0,isMenu:!0}),n.appendChild(this.scrollableElement.getDomNode()),this.scrollableElement.scanDomNode(),this.viewItems.filter(ze=>!(ze instanceof _l)).forEach((ze,Qe,tt)=>{ze.updatePositionInSet(Qe+1,tt.length)})}initializeOrUpdateStyleSheet(n,s){this.styleSheet||((0,Jt.OO)(n)?this.styleSheet=(0,Jt.dS)(n):(pr.globalStyleSheet||(pr.globalStyleSheet=(0,Jt.dS)()),this.styleSheet=pr.globalStyleSheet)),this.styleSheet.textContent=function Cl(de,n){let s=`\n.monaco-menu {\n\tfont-size: 13px;\n\tborder-radius: 5px;\n\tmin-width: 160px;\n}\n\n${vr(jo.l.menuSelection)}\n${vr(jo.l.menuSubmenu)}\n\n.monaco-menu .monaco-action-bar {\n\ttext-align: right;\n\toverflow: hidden;\n\twhite-space: nowrap;\n}\n\n.monaco-menu .monaco-action-bar .actions-container {\n\tdisplay: flex;\n\tmargin: 0 auto;\n\tpadding: 0;\n\twidth: 100%;\n\tjustify-content: flex-end;\n}\n\n.monaco-menu .monaco-action-bar.vertical .actions-container {\n\tdisplay: inline-block;\n}\n\n.monaco-menu .monaco-action-bar.reverse .actions-container {\n\tflex-direction: row-reverse;\n}\n\n.monaco-menu .monaco-action-bar .action-item {\n\tcursor: pointer;\n\tdisplay: inline-block;\n\ttransition: transform 50ms ease;\n\tposition: relative;  /* DO NOT REMOVE - this is the key to preventing the ghosting icon bug in Chrome 42 */\n}\n\n.monaco-menu .monaco-action-bar .action-item.disabled {\n\tcursor: default;\n}\n\n.monaco-menu .monaco-action-bar.animated .action-item.active {\n\ttransform: scale(1.272019649, 1.272019649); /* 1.272019649 = \u221a\u03c6 */\n}\n\n.monaco-menu .monaco-action-bar .action-item .icon,\n.monaco-menu .monaco-action-bar .action-item .codicon {\n\tdisplay: inline-block;\n}\n\n.monaco-menu .monaco-action-bar .action-item .codicon {\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.monaco-menu .monaco-action-bar .action-label {\n\tfont-size: 11px;\n\tmargin-right: 4px;\n}\n\n.monaco-menu .monaco-action-bar .action-item.disabled .action-label,\n.monaco-menu .monaco-action-bar .action-item.disabled .action-label:hover {\n\tcolor: var(--vscode-disabledForeground);\n}\n\n/* Vertical actions */\n\n.monaco-menu .monaco-action-bar.vertical {\n\ttext-align: left;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item {\n\tdisplay: block;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\tdisplay: block;\n\tborder-bottom: 1px solid var(--vscode-menu-separatorBackground);\n\tpadding-top: 1px;\n\tpadding: 30px;\n}\n\n.monaco-menu .secondary-actions .monaco-action-bar .action-label {\n\tmargin-left: 6px;\n}\n\n/* Action Items */\n.monaco-menu .monaco-action-bar .action-item.select-container {\n\toverflow: hidden; /* somehow the dropdown overflows its container, we prevent it here to not push */\n\tflex: 1;\n\tmax-width: 170px;\n\tmin-width: 60px;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tmargin-right: 10px;\n}\n\n.monaco-menu .monaco-action-bar.vertical {\n\tmargin-left: 0;\n\toverflow: visible;\n}\n\n.monaco-menu .monaco-action-bar.vertical .actions-container {\n\tdisplay: block;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item {\n\tpadding: 0;\n\ttransform: none;\n\tdisplay: flex;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item.active {\n\ttransform: none;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-menu-item {\n\tflex: 1 1 auto;\n\tdisplay: flex;\n\theight: 2em;\n\talign-items: center;\n\tposition: relative;\n\tmargin: 0 4px;\n\tborder-radius: 4px;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-menu-item:hover .keybinding,\n.monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .keybinding {\n\topacity: unset;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label {\n\tflex: 1 1 auto;\n\ttext-decoration: none;\n\tpadding: 0 1em;\n\tbackground: none;\n\tfont-size: 12px;\n\tline-height: 1;\n}\n\n.monaco-menu .monaco-action-bar.vertical .keybinding,\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\tdisplay: inline-block;\n\tflex: 2 1 auto;\n\tpadding: 0 1em;\n\ttext-align: right;\n\tfont-size: 12px;\n\tline-height: 1;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\theight: 100%;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon {\n\tfont-size: 16px !important;\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon::before {\n\tmargin-left: auto;\n\tmargin-right: -20px;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item.disabled .keybinding,\n.monaco-menu .monaco-action-bar.vertical .action-item.disabled .submenu-indicator {\n\topacity: 0.4;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator) {\n\tdisplay: inline-block;\n\tbox-sizing: border-box;\n\tmargin: 0;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item {\n\tposition: static;\n\toverflow: visible;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item .monaco-submenu {\n\tposition: absolute;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\twidth: 100%;\n\theight: 0px !important;\n\topacity: 1;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator.text {\n\tpadding: 0.7em 1em 0.1em 1em;\n\tfont-weight: bold;\n\topacity: 1;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label:hover {\n\tcolor: inherit;\n}\n\n.monaco-menu .monaco-action-bar.vertical .menu-item-check {\n\tposition: absolute;\n\tvisibility: hidden;\n\twidth: 1em;\n\theight: 100%;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-menu-item.checked .menu-item-check {\n\tvisibility: visible;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n\n/* Context Menu */\n\n.context-view.monaco-menu-container {\n\toutline: 0;\n\tborder: none;\n\tanimation: fadeIn 0.083s linear;\n\t-webkit-app-region: no-drag;\n}\n\n.context-view.monaco-menu-container :focus,\n.context-view.monaco-menu-container .monaco-action-bar.vertical:focus,\n.context-view.monaco-menu-container .monaco-action-bar.vertical :focus {\n\toutline: 0;\n}\n\n.hc-black .context-view.monaco-menu-container,\n.hc-light .context-view.monaco-menu-container,\n:host-context(.hc-black) .context-view.monaco-menu-container,\n:host-context(.hc-light) .context-view.monaco-menu-container {\n\tbox-shadow: none;\n}\n\n.hc-black .monaco-menu .monaco-action-bar.vertical .action-item.focused,\n.hc-light .monaco-menu .monaco-action-bar.vertical .action-item.focused,\n:host-context(.hc-black) .monaco-menu .monaco-action-bar.vertical .action-item.focused,\n:host-context(.hc-light) .monaco-menu .monaco-action-bar.vertical .action-item.focused {\n\tbackground: none;\n}\n\n/* Vertical Action Bar Styles */\n\n.monaco-menu .monaco-action-bar.vertical {\n\tpadding: 4px 0;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-menu-item {\n\theight: 2em;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator),\n.monaco-menu .monaco-action-bar.vertical .keybinding {\n\tfont-size: inherit;\n\tpadding: 0 2em;\n}\n\n.monaco-menu .monaco-action-bar.vertical .menu-item-check {\n\tfont-size: inherit;\n\twidth: 2em;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\tfont-size: inherit;\n\tmargin: 5px 0 !important;\n\tpadding: 0;\n\tborder-radius: 0;\n}\n\n.linux .monaco-menu .monaco-action-bar.vertical .action-label.separator,\n:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .action-label.separator {\n\tmargin-left: 0;\n\tmargin-right: 0;\n}\n\n.monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\tfont-size: 60%;\n\tpadding: 0 1.8em;\n}\n\n.linux .monaco-menu .monaco-action-bar.vertical .submenu-indicator,\n:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .submenu-indicator {\n\theight: 100%;\n\tmask-size: 10px 10px;\n\t-webkit-mask-size: 10px 10px;\n}\n\n.monaco-menu .action-item {\n\tcursor: default;\n}`;if(n){s+="\n\t\t\t/* Arrows */\n\t\t\t.monaco-scrollable-element > .scrollbar > .scra {\n\t\t\t\tcursor: pointer;\n\t\t\t\tfont-size: 11px !important;\n\t\t\t}\n\n\t\t\t.monaco-scrollable-element > .visible {\n\t\t\t\topacity: 1;\n\n\t\t\t\t/* Background rule added for IE9 - to allow clicks on dom node */\n\t\t\t\tbackground:rgba(0,0,0,0);\n\n\t\t\t\ttransition: opacity 100ms linear;\n\t\t\t}\n\t\t\t.monaco-scrollable-element > .invisible {\n\t\t\t\topacity: 0;\n\t\t\t\tpointer-events: none;\n\t\t\t}\n\t\t\t.monaco-scrollable-element > .invisible.fade {\n\t\t\t\ttransition: opacity 800ms linear;\n\t\t\t}\n\n\t\t\t/* Scrollable Content Inset Shadow */\n\t\t\t.monaco-scrollable-element > .shadow {\n\t\t\t\tposition: absolute;\n\t\t\t\tdisplay: none;\n\t\t\t}\n\t\t\t.monaco-scrollable-element > .shadow.top {\n\t\t\t\tdisplay: block;\n\t\t\t\ttop: 0;\n\t\t\t\tleft: 3px;\n\t\t\t\theight: 3px;\n\t\t\t\twidth: 100%;\n\t\t\t}\n\t\t\t.monaco-scrollable-element > .shadow.left {\n\t\t\t\tdisplay: block;\n\t\t\t\ttop: 3px;\n\t\t\t\tleft: 0;\n\t\t\t\theight: 100%;\n\t\t\t\twidth: 3px;\n\t\t\t}\n\t\t\t.monaco-scrollable-element > .shadow.top-left-corner {\n\t\t\t\tdisplay: block;\n\t\t\t\ttop: 0;\n\t\t\t\tleft: 0;\n\t\t\t\theight: 3px;\n\t\t\t\twidth: 3px;\n\t\t\t}\n\t\t";const C=de.scrollbarShadow;C&&(s+=`\n\t\t\t\t.monaco-scrollable-element > .shadow.top {\n\t\t\t\t\tbox-shadow: ${C} 0 6px 6px -6px inset;\n\t\t\t\t}\n\n\t\t\t\t.monaco-scrollable-element > .shadow.left {\n\t\t\t\t\tbox-shadow: ${C} 6px 0 6px -6px inset;\n\t\t\t\t}\n\n\t\t\t\t.monaco-scrollable-element > .shadow.top.left {\n\t\t\t\t\tbox-shadow: ${C} 6px 6px 6px -6px inset;\n\t\t\t\t}\n\t\t\t`);const H=de.scrollbarSliderBackground;H&&(s+=`\n\t\t\t\t.monaco-scrollable-element > .scrollbar > .slider {\n\t\t\t\t\tbackground: ${H};\n\t\t\t\t}\n\t\t\t`);const X=de.scrollbarSliderHoverBackground;X&&(s+=`\n\t\t\t\t.monaco-scrollable-element > .scrollbar > .slider:hover {\n\t\t\t\t\tbackground: ${X};\n\t\t\t\t}\n\t\t\t`);const me=de.scrollbarSliderActiveBackground;me&&(s+=`\n\t\t\t\t.monaco-scrollable-element > .scrollbar > .slider.active {\n\t\t\t\t\tbackground: ${me};\n\t\t\t\t}\n\t\t\t`)}return s}(s,(0,Jt.OO)(n))}styleScrollElement(n,s){var C,H;const X=null!==(C=s.foregroundColor)&&void 0!==C?C:"",me=null!==(H=s.backgroundColor)&&void 0!==H?H:"",Qe=s.shadowColor?`0 2px 8px ${s.shadowColor}`:"";n.style.outline=s.borderColor?`1px solid ${s.borderColor}`:"",n.style.borderRadius="5px",n.style.color=X,n.style.backgroundColor=me,n.style.boxShadow=Qe}getContainer(){return this.scrollableElement.getDomNode()}get onScroll(){return this.scrollableElement.onScroll}focusItemByElement(n){const s=this.focusedItem;this.setFocusedItem(n),s!==this.focusedItem&&this.updateFocus()}setFocusedItem(n){for(let s=0;s<this.actionsList.children.length;s++)if(n===this.actionsList.children[s]){this.focusedItem=s;break}}updateFocus(n){super.updateFocus(n,!0,!0),typeof this.focusedItem<"u"&&this.scrollableElement.setScrollPosition({scrollTop:Math.round(this.menuElement.scrollTop)})}doGetActionViewItem(n,s,C){if(n instanceof zo.Z0)return new _l(s.context,n,{icon:!0},this.menuStyles);if(n instanceof zo.wY){const H=new vl(n,n.actions,C,Object.assign(Object.assign({},s),{submenuIds:new Set([...s.submenuIds||[],n.id])}),this.menuStyles);if(s.enableMnemonics){const X=H.getMnemonic();if(X&&H.isEnabled()){let me=[];this.mnemonics.has(X)&&(me=this.mnemonics.get(X)),me.push(H),this.mnemonics.set(X,me)}}return H}{const H={enableMnemonics:s.enableMnemonics,useEventAsContext:s.useEventAsContext};if(s.getKeyBinding){const me=s.getKeyBinding(n);if(me){const Oe=me.getLabel();Oe&&(H.keybinding=Oe)}}const X=new pl(s.context,n,H,this.menuStyles);if(s.enableMnemonics){const me=X.getMnemonic();if(me&&X.isEnabled()){let Oe=[];this.mnemonics.has(me)&&(Oe=this.mnemonics.get(me)),Oe.push(X),this.mnemonics.set(me,Oe)}}return X}}}class pl extends ea.YH{constructor(n,s,C,H){if(C.isMenu=!0,super(s,s,C),this.menuStyle=H,this.options=C,this.options.icon=void 0!==C.icon&&C.icon,this.options.label=void 0===C.label||C.label,this.cssClass="",this.options.label&&C.enableMnemonics){const X=this.action.label;if(X){const me=Aa.exec(X);me&&(this.mnemonic=(me[1]?me[1]:me[3]).toLocaleLowerCase())}}this.runOnceToEnableMouseUp=new Hi.pY(()=>{this.element&&(this._register((0,Jt.nm)(this.element,Jt.tw.MOUSE_UP,X=>{if(Jt.zB.stop(X,!0),Ma.vU){if(new Na.n(X).rightButton)return;this.onClick(X)}else setTimeout(()=>{this.onClick(X)},0)})),this._register((0,Jt.nm)(this.element,Jt.tw.CONTEXT_MENU,X=>{Jt.zB.stop(X,!0)})))},100),this._register(this.runOnceToEnableMouseUp)}render(n){super.render(n),this.element&&(this.container=n,this.item=(0,Jt.R3)(this.element,(0,Jt.$)("a.action-menu-item")),this._action.id===zo.Z0.ID?this.item.setAttribute("role","presentation"):(this.item.setAttribute("role","menuitem"),this.mnemonic&&this.item.setAttribute("aria-keyshortcuts",`${this.mnemonic}`)),this.check=(0,Jt.R3)(this.item,(0,Jt.$)("span.menu-item-check"+ls.k.asCSSSelector(jo.l.menuSelection))),this.check.setAttribute("role","none"),this.label=(0,Jt.R3)(this.item,(0,Jt.$)("span.action-label")),this.options.label&&this.options.keybinding&&((0,Jt.R3)(this.item,(0,Jt.$)("span.keybinding")).textContent=this.options.keybinding),this.runOnceToEnableMouseUp.schedule(),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked(),this.applyStyle())}blur(){super.blur(),this.applyStyle()}focus(){var n;super.focus(),null===(n=this.item)||void 0===n||n.focus(),this.applyStyle()}updatePositionInSet(n,s){this.item&&(this.item.setAttribute("aria-posinset",`${n}`),this.item.setAttribute("aria-setsize",`${s}`))}updateLabel(){var n;if(this.label&&this.options.label){(0,Jt.PO)(this.label);let s=(0,ds.x$)(this.action.label);if(s){const C=function ed(de){const n=Aa,s=n.exec(de);if(!s)return de;return de.replace(n,!s[1]?"$2$3":"").trim()}(s);this.options.enableMnemonics||(s=C),this.label.setAttribute("aria-label",C.replace(/&&/g,"&"));const H=Aa.exec(s);if(H){s=Te.YU(s),Ra.lastIndex=0;let X=Ra.exec(s);for(;X&&X[1];)X=Ra.exec(s);const me=Oe=>Oe.replace(/&amp;&amp;/g,"&amp;");X?this.label.append(Te.j3(me(s.substr(0,X.index))," "),(0,Jt.$)("u",{"aria-hidden":"true"},X[3]),Te.oL(me(s.substr(X.index+X[0].length))," ")):this.label.innerText=me(s).trim(),null===(n=this.item)||void 0===n||n.setAttribute("aria-keyshortcuts",(H[1]?H[1]:H[3]).toLocaleLowerCase())}else this.label.innerText=s.replace(/&&/g,"&").trim()}}}updateTooltip(){}updateClass(){this.cssClass&&this.item&&this.item.classList.remove(...this.cssClass.split(" ")),this.options.icon&&this.label?(this.cssClass=this.action.class||"",this.label.classList.add("icon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" ")),this.updateEnabled()):this.label&&this.label.classList.remove("icon")}updateEnabled(){this.action.enabled?(this.element&&(this.element.classList.remove("disabled"),this.element.removeAttribute("aria-disabled")),this.item&&(this.item.classList.remove("disabled"),this.item.removeAttribute("aria-disabled"),this.item.tabIndex=0)):(this.element&&(this.element.classList.add("disabled"),this.element.setAttribute("aria-disabled","true")),this.item&&(this.item.classList.add("disabled"),this.item.setAttribute("aria-disabled","true")))}updateChecked(){if(!this.item)return;const n=this.action.checked;this.item.classList.toggle("checked",!!n),void 0!==n?(this.item.setAttribute("role","menuitemcheckbox"),this.item.setAttribute("aria-checked",n?"true":"false")):(this.item.setAttribute("role","menuitem"),this.item.setAttribute("aria-checked",""))}getMnemonic(){return this.mnemonic}applyStyle(){const n=this.element&&this.element.classList.contains("focused"),s=n&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor,C=n&&this.menuStyle.selectionBackgroundColor?this.menuStyle.selectionBackgroundColor:void 0,H=n&&this.menuStyle.selectionBorderColor?`1px solid ${this.menuStyle.selectionBorderColor}`:"",X=n&&this.menuStyle.selectionBorderColor?"-1px":"";this.item&&(this.item.style.color=s??"",this.item.style.backgroundColor=C??"",this.item.style.outline=H,this.item.style.outlineOffset=X),this.check&&(this.check.style.color=s??"")}}class vl extends pl{constructor(n,s,C,H,X){super(n,n,H,X),this.submenuActions=s,this.parentData=C,this.submenuOptions=H,this.mysubmenu=null,this.submenuDisposables=this._register(new Ee.SL),this.mouseOver=!1,this.expandDirection=H&&void 0!==H.expandDirection?H.expandDirection:Pa.Right,this.showScheduler=new Hi.pY(()=>{this.mouseOver&&(this.cleanupExistingSubmenu(!1),this.createSubmenu(!1))},250),this.hideScheduler=new Hi.pY(()=>{this.element&&!(0,Jt.jg)((0,Jt.vY)(),this.element)&&this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))},750)}render(n){super.render(n),this.element&&(this.item&&(this.item.classList.add("monaco-submenu-item"),this.item.tabIndex=0,this.item.setAttribute("aria-haspopup","true"),this.updateAriaExpanded("false"),this.submenuIndicator=(0,Jt.R3)(this.item,(0,Jt.$)("span.submenu-indicator"+ls.k.asCSSSelector(jo.l.menuSubmenu))),this.submenuIndicator.setAttribute("aria-hidden","true")),this._register((0,Jt.nm)(this.element,Jt.tw.KEY_UP,s=>{const C=new rs.y(s);(C.equals(17)||C.equals(3))&&(Jt.zB.stop(s,!0),this.createSubmenu(!0))})),this._register((0,Jt.nm)(this.element,Jt.tw.KEY_DOWN,s=>{const C=new rs.y(s);(0,Jt.vY)()===this.item&&(C.equals(17)||C.equals(3))&&Jt.zB.stop(s,!0)})),this._register((0,Jt.nm)(this.element,Jt.tw.MOUSE_OVER,s=>{this.mouseOver||(this.mouseOver=!0,this.showScheduler.schedule())})),this._register((0,Jt.nm)(this.element,Jt.tw.MOUSE_LEAVE,s=>{this.mouseOver=!1})),this._register((0,Jt.nm)(this.element,Jt.tw.FOCUS_OUT,s=>{this.element&&!(0,Jt.jg)((0,Jt.vY)(),this.element)&&this.hideScheduler.schedule()})),this._register(this.parentData.parent.onScroll(()=>{this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))})))}updateEnabled(){}onClick(n){Jt.zB.stop(n,!0),this.cleanupExistingSubmenu(!1),this.createSubmenu(!0)}cleanupExistingSubmenu(n){if(this.parentData.submenu&&(n||this.parentData.submenu!==this.mysubmenu)){try{this.parentData.submenu.dispose()}catch{}this.parentData.submenu=void 0,this.updateAriaExpanded("false"),this.submenuContainer&&(this.submenuDisposables.clear(),this.submenuContainer=void 0)}}calculateSubmenuMenuLayout(n,s,C,H){const X={top:0,left:0};return X.left=cr(n.width,s.width,{position:H===Pa.Right?0:1,offset:C.left,size:C.width}),X.left>=C.left&&X.left<C.left+C.width&&(C.left+10+s.width<=n.width&&(X.left=C.left+10),C.top+=10,C.height=0),X.top=cr(n.height,s.height,{position:0,offset:C.top,size:0}),X.top+s.height===C.top&&X.top+C.height+s.height<=n.height&&(X.top+=C.height),X}createSubmenu(n=!0){if(this.element)if(this.parentData.submenu)this.parentData.submenu.focus(!1);else{this.updateAriaExpanded("true"),this.submenuContainer=(0,Jt.R3)(this.element,(0,Jt.$)("div.monaco-submenu")),this.submenuContainer.classList.add("menubar-menu-items-holder","context-view");const s=getComputedStyle(this.parentData.parent.domNode),C=parseFloat(s.paddingTop||"0")||0;this.submenuContainer.style.zIndex="1",this.submenuContainer.style.position="fixed",this.submenuContainer.style.top="0",this.submenuContainer.style.left="0",this.parentData.submenu=new pr(this.submenuContainer,this.submenuActions.length?this.submenuActions:[new zo.eZ],this.submenuOptions,this.menuStyle);const H=this.element.getBoundingClientRect(),X={top:H.top-C,left:H.left,height:H.height+2*C,width:H.width},me=this.submenuContainer.getBoundingClientRect(),{top:Oe,left:ze}=this.calculateSubmenuMenuLayout(new Jt.Ro(window.innerWidth,window.innerHeight),Jt.Ro.lift(me),X,this.expandDirection);this.submenuContainer.style.left=ze-me.left+"px",this.submenuContainer.style.top=Oe-me.top+"px",this.submenuDisposables.add((0,Jt.nm)(this.submenuContainer,Jt.tw.KEY_UP,Qe=>{new rs.y(Qe).equals(15)&&(Jt.zB.stop(Qe,!0),this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0))})),this.submenuDisposables.add((0,Jt.nm)(this.submenuContainer,Jt.tw.KEY_DOWN,Qe=>{new rs.y(Qe).equals(15)&&Jt.zB.stop(Qe,!0)})),this.submenuDisposables.add(this.parentData.submenu.onDidCancel(()=>{this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0)})),this.parentData.submenu.focus(n),this.mysubmenu=this.parentData.submenu}}updateAriaExpanded(n){var s;this.item&&(null===(s=this.item)||void 0===s||s.setAttribute("aria-expanded",n))}applyStyle(){super.applyStyle();const s=this.element&&this.element.classList.contains("focused")&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor;this.submenuIndicator&&(this.submenuIndicator.style.color=s??"")}dispose(){super.dispose(),this.hideScheduler.dispose(),this.mysubmenu&&(this.mysubmenu.dispose(),this.mysubmenu=null),this.submenuContainer&&(this.submenuContainer=void 0)}}class _l extends ea.gU{constructor(n,s,C,H){super(n,s,C),this.menuStyles=H}render(n){super.render(n),this.label&&(this.label.style.borderBottomColor=this.menuStyles.separatorColor?`${this.menuStyles.separatorColor}`:"")}}function vr(de){const n=(0,jo.u)()[de.id];return`.codicon-${de.id}:before { content: '\\${n.toString(16)}'; }`}var Vs=e(36547);class td{constructor(n,s,C,H){this.contextViewService=n,this.telemetryService=s,this.notificationService=C,this.keybindingService=H,this.focusToReturn=null,this.lastContainer=null,this.block=null,this.blockDisposable=null,this.options={blockMouse:!0}}configure(n){this.options=n}showContextMenu(n){const s=n.getActions();if(!s.length)return;let C;this.focusToReturn=document.activeElement;const H=(0,Jt.Re)(n.domForShadowRoot)?n.domForShadowRoot:void 0;this.contextViewService.showContextView({getAnchor:()=>n.getAnchor(),canRelayout:!1,anchorAlignment:n.anchorAlignment,anchorAxisAlignment:n.anchorAxisAlignment,render:X=>{var me;this.lastContainer=X;const Oe=n.getMenuClassName?n.getMenuClassName():"";Oe&&(X.className+=" "+Oe),this.options.blockMouse&&(this.block=X.appendChild((0,Jt.$)(".context-view-block")),this.block.style.position="fixed",this.block.style.cursor="initial",this.block.style.left="0",this.block.style.top="0",this.block.style.width="100%",this.block.style.height="100%",this.block.style.zIndex="-1",null===(me=this.blockDisposable)||void 0===me||me.dispose(),this.blockDisposable=(0,Jt.nm)(this.block,Jt.tw.MOUSE_DOWN,tt=>tt.stopPropagation()));const ze=new Ee.SL,Qe=n.actionRunner||new zo.Wi;return Qe.onWillRun(tt=>this.onActionRun(tt,!n.skipTelemetry),this,ze),Qe.onDidRun(this.onDidActionRun,this,ze),C=new pr(X,s,{actionViewItemProvider:n.getActionViewItem,context:n.getActionsContext?n.getActionsContext():null,actionRunner:Qe,getKeyBinding:n.getKeyBinding?n.getKeyBinding:tt=>this.keybindingService.lookupKeybinding(tt.id)},Vs.ZR),C.onDidCancel(()=>this.contextViewService.hideContextView(!0),null,ze),C.onDidBlur(()=>this.contextViewService.hideContextView(!0),null,ze),ze.add((0,Jt.nm)(window,Jt.tw.BLUR,()=>this.contextViewService.hideContextView(!0))),ze.add((0,Jt.nm)(window,Jt.tw.MOUSE_DOWN,tt=>{if(tt.defaultPrevented)return;const _t=new Na.n(tt);let jt=_t.target;if(!_t.rightButton){for(;jt;){if(jt===X)return;jt=jt.parentElement}this.contextViewService.hideContextView(!0)}})),(0,Ee.F8)(ze,C)},focus:()=>{C?.focus(!!n.autoSelectFirstItem)},onHide:X=>{var me,Oe,ze;null===(me=n.onHide)||void 0===me||me.call(n,!!X),this.block&&(this.block.remove(),this.block=null),null===(Oe=this.blockDisposable)||void 0===Oe||Oe.dispose(),this.blockDisposable=null,this.lastContainer&&((0,Jt.vY)()===this.lastContainer||(0,Jt.jg)((0,Jt.vY)(),this.lastContainer))&&(null===(ze=this.focusToReturn)||void 0===ze||ze.focus()),this.lastContainer=null}},H,!!H)}onActionRun(n,s){s&&this.telemetryService.publicLog2("workbenchActionExecuted",{id:n.action.id,from:"contextMenu"}),this.contextViewService.hideContextView(!1)}onDidActionRun(n){n.error&&!(0,$t.n2)(n.error)&&this.notificationService.error(n.error)}}var _r=function(de,n){return function(s,C){n(s,C,de)}};let Oa=class extends Ee.JT{get contextMenuHandler(){return this._contextMenuHandler||(this._contextMenuHandler=new td(this.contextViewService,this.telemetryService,this.notificationService,this.keybindingService)),this._contextMenuHandler}constructor(n,s,C,H,X,me){super(),this.telemetryService=n,this.notificationService=s,this.contextViewService=C,this.keybindingService=H,this.menuService=X,this.contextKeyService=me,this._contextMenuHandler=void 0,this._onDidShowContextMenu=this._store.add(new gn.Q5),this._onDidHideContextMenu=this._store.add(new gn.Q5)}configure(n){this.contextMenuHandler.configure(n)}showContextMenu(n){n=ka.transform(n,this.menuService,this.contextKeyService),this.contextMenuHandler.showContextMenu(Object.assign(Object.assign({},n),{onHide:s=>{var C;null===(C=n.onHide)||void 0===C||C.call(n,s),this._onDidHideContextMenu.fire()}})),Jt._q.getInstance().resetKeyStatus(),this._onDidShowContextMenu.fire()}};var ka;Oa=function(de,n,s,C){var me,H=arguments.length,X=H<3?n:null===C?C=Object.getOwnPropertyDescriptor(n,s):C;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)X=Reflect.decorate(de,n,s,C);else for(var Oe=de.length-1;Oe>=0;Oe--)(me=de[Oe])&&(X=(H<3?me(X):H>3?me(n,s,X):me(n,s))||X);return H>3&&X&&Object.defineProperty(n,s,X),X}([_r(0,Yr.b),_r(1,en.lT),_r(2,dr.u),_r(3,Ls.d),_r(4,Bo.co),_r(5,Ke.i6)],Oa),function(de){de.transform=function s(C,H,X){if(!function n(C){return C&&C.menuId instanceof Bo.eH}(C))return C;const{menuId:me,menuActionOptions:Oe,contextKeyService:ze}=C;return Object.assign(Object.assign({},C),{getActions:()=>{const Qe=[];if(me){const tt=H.createMenu(me,ze??X);(0,ql.LJ)(tt,Oe,Qe),tt.dispose()}return C.getActions?zo.Z0.join(C.getActions(),Qe):Qe}})}}(ka||(ka={}));var Ns=e(87618),bl=e(57117),Ba=function(de){return de[de.API=0]="API",de[de.USER=1]="USER",de}(Ba||{}),Qs=e(6628),Ys=function(de,n,s,C){var me,H=arguments.length,X=H<3?n:null===C?C=Object.getOwnPropertyDescriptor(n,s):C;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)X=Reflect.decorate(de,n,s,C);else for(var Oe=de.length-1;Oe>=0;Oe--)(me=de[Oe])&&(X=(H<3?me(X):H>3?me(n,s,X):me(n,s))||X);return H>3&&X&&Object.defineProperty(n,s,X),X},ia=function(de,n){return function(s,C){n(s,C,de)}},Xs=function(de,n,s,C){return new(s||(s=Promise))(function(X,me){function Oe(tt){try{Qe(C.next(tt))}catch(_t){me(_t)}}function ze(tt){try{Qe(C.throw(tt))}catch(_t){me(_t)}}function Qe(tt){tt.done?X(tt.value):function H(X){return X instanceof s?X:new s(function(me){me(X)})}(tt.value).then(Oe,ze)}Qe((C=C.apply(de,n||[])).next())})};let Fa=class{constructor(n){this._commandService=n}open(n,s){return Xs(this,void 0,void 0,function*(){if(!(0,Qs.xn)(n,qn.lg.command))return!1;if(!s?.allowCommands||("string"==typeof n&&(n=Ae.o.parse(n)),Array.isArray(s.allowCommands)&&!s.allowCommands.includes(n.path)))return!0;let C=[];try{C=(0,bl.Qc)(decodeURIComponent(n.query))}catch{try{C=(0,bl.Qc)(n.query)}catch{}}return Array.isArray(C)||(C=[C]),yield this._commandService.executeCommand(n.path,...C),!0})}};Fa=Ys([ia(0,ho.H)],Fa);let Wa=class{constructor(n){this._editorService=n}open(n,s){return Xs(this,void 0,void 0,function*(){"string"==typeof n&&(n=Ae.o.parse(n));const{selection:C,uri:H}=(0,Qs.xI)(n);return(n=H).scheme===qn.lg.file&&(n=(0,Is.AH)(n)),yield this._editorService.openCodeEditor({resource:n,options:Object.assign({selection:C,source:s?.fromUserGesture?Ba.USER:Ba.API},s?.editorOptions)},this._editorService.getFocusedCodeEditor(),s?.openToSide),!0})}};Wa=Ys([ia(0,yt.$)],Wa);let kr=class{constructor(n,s){this._openers=new Gn.S,this._validators=new Gn.S,this._resolvers=new Gn.S,this._resolvedUriTargets=new Ln.Y9(C=>C.with({path:null,fragment:null,query:null}).toString()),this._externalOpeners=new Gn.S,this._defaultExternalOpener={openExternal:C=>Xs(this,void 0,void 0,function*(){return(0,Qs.Gs)(C,qn.lg.http,qn.lg.https)?Jt.V3(C):window.location.href=C,!0})},this._openers.push({open:(C,H)=>Xs(this,void 0,void 0,function*(){return!(!H?.openExternal&&!(0,Qs.Gs)(C,qn.lg.mailto,qn.lg.http,qn.lg.https,qn.lg.vsls)||(yield this._doOpenExternal(C,H),0))})}),this._openers.push(new Fa(s)),this._openers.push(new Wa(n))}registerOpener(n){return{dispose:this._openers.unshift(n)}}open(n,s){var C;return Xs(this,void 0,void 0,function*(){const H="string"==typeof n?Ae.o.parse(n):n,X=null!==(C=this._resolvedUriTargets.get(H))&&void 0!==C?C:n;for(const me of this._validators)if(!(yield me.shouldOpen(X,s)))return!1;for(const me of this._openers)if(yield me.open(n,s))return!0;return!1})}resolveExternalUri(n,s){return Xs(this,void 0,void 0,function*(){for(const C of this._resolvers)try{const H=yield C.resolveExternalUri(n,s);if(H)return this._resolvedUriTargets.has(H.resolved)||this._resolvedUriTargets.set(H.resolved,n),H}catch{}throw new Error("Could not resolve external URI: "+n.toString())})}_doOpenExternal(n,s){return Xs(this,void 0,void 0,function*(){const C="string"==typeof n?Ae.o.parse(n):n;let H,X;try{H=(yield this.resolveExternalUri(C,s)).resolved}catch{H=C}if(X="string"==typeof n&&C.toString()===H.toString()?n:encodeURI(H.toString(!0)),s?.allowContributedOpeners){const me="string"==typeof s?.allowContributedOpeners?s?.allowContributedOpeners:void 0;for(const Oe of this._externalOpeners)if(yield Oe.openExternal(X,{sourceUri:C,preferredOpenerId:me},Ns.T.None))return!0}return this._defaultExternalOpener.openExternal(X,{sourceUri:C},Ns.T.None)})}dispose(){this._validators.clear()}};kr=Ys([ia(0,yt.$),ia(1,ho.H)],kr);var id=e(57205),Fo=e(17259),Cr=e(2857),mo=e(99745),Sl=function(de,n){return function(s,C){n(s,C,de)}};class nd extends Ee.JT{constructor(n){super(),this.model=n,this._markersData=new Map,this._register((0,Ee.OF)(()=>{this.model.deltaDecorations([...this._markersData.keys()],[]),this._markersData.clear()}))}update(n,s){const C=[...this._markersData.keys()];this._markersData.clear();const H=this.model.deltaDecorations(C,s);for(let X=0;X<H.length;X++)this._markersData.set(H[X],n[X]);return 0!==C.length||0!==H.length}getMarker(n){return this._markersData.get(n.id)}}let Va=class extends Ee.JT{constructor(n,s){super(),this._markerService=s,this._onDidChangeMarker=this._register(new gn.Q5),this._markerDecorations=new Ln.Y9,n.getModels().forEach(C=>this._onModelAdded(C)),this._register(n.onModelAdded(this._onModelAdded,this)),this._register(n.onModelRemoved(this._onModelRemoved,this)),this._register(this._markerService.onMarkerChanged(this._handleMarkerChange,this))}dispose(){super.dispose(),this._markerDecorations.forEach(n=>n.dispose()),this._markerDecorations.clear()}getMarker(n,s){const C=this._markerDecorations.get(n);return C&&C.getMarker(s)||null}_handleMarkerChange(n){n.forEach(s=>{const C=this._markerDecorations.get(s);C&&this._updateDecorations(C)})}_onModelAdded(n){const s=new nd(n);this._markerDecorations.set(n.uri,s),this._updateDecorations(s)}_onModelRemoved(n){var s;const C=this._markerDecorations.get(n.uri);C&&(C.dispose(),this._markerDecorations.delete(n.uri)),(n.uri.scheme===qn.lg.inMemory||n.uri.scheme===qn.lg.internal||n.uri.scheme===qn.lg.vscode)&&(null===(s=this._markerService)||void 0===s||s.read({resource:n.uri}).map(H=>H.owner).forEach(H=>this._markerService.remove(H,[n.uri])))}_updateDecorations(n){const s=this._markerService.read({resource:n.model.uri,take:500}),C=s.map(H=>({range:this._createDecorationRange(n.model,H),options:this._createDecorationOption(H)}));n.update(s,C)&&this._onDidChangeMarker.fire(n.model)}_createDecorationRange(n,s){let C=Ho.e.lift(s);if(s.severity===Fo.ZL.Hint&&!this._hasMarkerTag(s,1)&&!this._hasMarkerTag(s,2)&&(C=C.setEndPosition(C.startLineNumber,C.startColumn+2)),C=n.validateRange(C),C.isEmpty()){const H=n.getLineLastNonWhitespaceColumn(C.startLineNumber)||n.getLineMaxColumn(C.startLineNumber);if(1===H||C.endColumn>=H)return C;const X=n.getWordAtPosition(C.getStartPosition());X&&(C=new Ho.e(C.startLineNumber,X.startColumn,C.endLineNumber,X.endColumn))}else if(s.endColumn===Number.MAX_VALUE&&1===s.startColumn&&C.startLineNumber===C.endLineNumber){const H=n.getLineFirstNonWhitespaceColumn(s.startLineNumber);H<C.endColumn&&(C=new Ho.e(C.startLineNumber,H,C.endLineNumber,C.endColumn),s.startColumn=H)}return C}_createDecorationOption(n){let s,C,H,X,me;switch(n.severity){case Fo.ZL.Hint:s=this._hasMarkerTag(n,2)?void 0:this._hasMarkerTag(n,1)?"squiggly-unnecessary":"squiggly-hint",H=0;break;case Fo.ZL.Warning:s="squiggly-warning",C=(0,Qn.EN)(Cr.Re),H=20,me={color:(0,Qn.EN)(mo.Ivo),position:Rt.F5.Inline};break;case Fo.ZL.Info:s="squiggly-info",C=(0,Qn.EN)(Cr.eS),H=10;break;default:s="squiggly-error",C=(0,Qn.EN)(Cr.lK),H=30,me={color:(0,Qn.EN)(mo.Gj_),position:Rt.F5.Inline}}return n.tags&&(-1!==n.tags.indexOf(1)&&(X="squiggly-inline-unnecessary"),-1!==n.tags.indexOf(2)&&(X="squiggly-inline-deprecated")),{description:"marker-decoration",stickiness:1,className:s,showIfCollapsed:!0,overviewRuler:{color:C,position:Rt.sh.Right},minimap:me,zIndex:H,inlineClassName:X}}_hasMarkerTag(n,s){return!!n.tags&&n.tags.indexOf(s)>=0}};Va=function(de,n,s,C){var me,H=arguments.length,X=H<3?n:null===C?C=Object.getOwnPropertyDescriptor(n,s):C;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)X=Reflect.decorate(de,n,s,C);else for(var Oe=de.length-1;Oe>=0;Oe--)(me=de[Oe])&&(X=(H<3?me(X):H>3?me(n,s,X):me(n,s))||X);return H>3&&X&&Object.defineProperty(n,s,X),X}([Sl(0,Gi.q),Sl(1,Fo.lT)],Va);var yr,od=e(73079),cs=e(54267),Js=e(30304),sd=e(27388),br=e(77545),Br=function(de,n){return function(s,C){n(s,C,de)}};function Ms(de){return de.toString()}function wl(de){const n=new sd.yP,s=de.createSnapshot();let C;for(;C=s.read();)n.update(C);return n.digest()}class ad{constructor(n,s,C){this.model=n,this._modelEventListeners=new Ee.SL,this.model=n,this._modelEventListeners.add(n.onWillDispose(()=>s(n))),this._modelEventListeners.add(n.onDidChangeLanguage(H=>C(n,H)))}dispose(){this._modelEventListeners.dispose()}}const ld=Kn.IJ||Kn.dz?1:2;class Ll{constructor(n,s,C,H,X,me,Oe,ze){this.uri=n,this.initialUndoRedoSnapshot=s,this.time=C,this.sharesUndoRedoStack=H,this.heapSize=X,this.sha1=me,this.versionId=Oe,this.alternativeVersionId=ze}}let Fr=yr=class extends Ee.JT{constructor(n,s,C,H,X){super(),this._configurationService=n,this._resourcePropertiesService=s,this._undoRedoService=C,this._languageService=H,this._languageConfigurationService=X,this._onModelAdded=this._register(new gn.Q5),this.onModelAdded=this._onModelAdded.event,this._onModelRemoved=this._register(new gn.Q5),this.onModelRemoved=this._onModelRemoved.event,this._onModelModeChanged=this._register(new gn.Q5),this.onModelLanguageChanged=this._onModelModeChanged.event,this._modelCreationOptionsByLanguageAndResource=Object.create(null),this._models={},this._disposedModels=new Map,this._disposedModelsHeapSize=0,this._register(this._configurationService.onDidChangeConfiguration(me=>this._updateModelOptions(me))),this._updateModelOptions(void 0)}static _readModelOptions(n,s){var C;let H=Js.D.tabSize;if(n.editor&&typeof n.editor.tabSize<"u"){const Xt=parseInt(n.editor.tabSize,10);isNaN(Xt)||(H=Xt),H<1&&(H=1)}let X="tabSize";if(n.editor&&typeof n.editor.indentSize<"u"&&"tabSize"!==n.editor.indentSize){const Xt=parseInt(n.editor.indentSize,10);isNaN(Xt)||(X=Math.max(Xt,1))}let me=Js.D.insertSpaces;n.editor&&typeof n.editor.insertSpaces<"u"&&(me="false"!==n.editor.insertSpaces&&!!n.editor.insertSpaces);let Oe=ld;const ze=n.eol;"\r\n"===ze?Oe=2:"\n"===ze&&(Oe=1);let Qe=Js.D.trimAutoWhitespace;n.editor&&typeof n.editor.trimAutoWhitespace<"u"&&(Qe="false"!==n.editor.trimAutoWhitespace&&!!n.editor.trimAutoWhitespace);let tt=Js.D.detectIndentation;n.editor&&typeof n.editor.detectIndentation<"u"&&(tt="false"!==n.editor.detectIndentation&&!!n.editor.detectIndentation);let _t=Js.D.largeFileOptimizations;n.editor&&typeof n.editor.largeFileOptimizations<"u"&&(_t="false"!==n.editor.largeFileOptimizations&&!!n.editor.largeFileOptimizations);let jt=Js.D.bracketPairColorizationOptions;return!(null===(C=n.editor)||void 0===C)&&C.bracketPairColorization&&"object"==typeof n.editor.bracketPairColorization&&(jt={enabled:!!n.editor.bracketPairColorization.enabled,independentColorPoolPerBracketType:!!n.editor.bracketPairColorization.independentColorPoolPerBracketType}),{isForSimpleWidget:s,tabSize:H,indentSize:X,insertSpaces:me,detectIndentation:tt,defaultEOL:Oe,trimAutoWhitespace:Qe,largeFileOptimizations:_t,bracketPairColorizationOptions:jt}}_getEOL(n,s){if(n)return this._resourcePropertiesService.getEOL(n,s);const C=this._configurationService.getValue("files.eol",{overrideIdentifier:s});return C&&"string"==typeof C&&"auto"!==C?C:3===Kn.OS||2===Kn.OS?"\n":"\r\n"}_shouldRestoreUndoStack(){const n=this._configurationService.getValue("files.restoreUndoStack");return"boolean"!=typeof n||n}getCreationOptions(n,s,C){const H="string"==typeof n?n:n.languageId;let X=this._modelCreationOptionsByLanguageAndResource[H+s];if(!X){const me=this._configurationService.getValue("editor",{overrideIdentifier:H,resource:s}),Oe=this._getEOL(s,H);X=yr._readModelOptions({editor:me,eol:Oe},C),this._modelCreationOptionsByLanguageAndResource[H+s]=X}return X}_updateModelOptions(n){const s=this._modelCreationOptionsByLanguageAndResource;this._modelCreationOptionsByLanguageAndResource=Object.create(null);const C=Object.keys(this._models);for(let H=0,X=C.length;H<X;H++){const Oe=this._models[C[H]],ze=Oe.model.getLanguageId(),Qe=Oe.model.uri;if(n&&!n.affectsConfiguration("editor",{overrideIdentifier:ze,resource:Qe})&&!n.affectsConfiguration("files.eol",{overrideIdentifier:ze,resource:Qe}))continue;const tt=s[ze+Qe],_t=this.getCreationOptions(ze,Qe,Oe.model.isForSimpleWidget);yr._setModelOptionsForModel(Oe.model,_t,tt)}}static _setModelOptionsForModel(n,s,C){C&&C.defaultEOL!==s.defaultEOL&&1===n.getLineCount()&&n.setEOL(1===s.defaultEOL?0:1),(!C||C.detectIndentation!==s.detectIndentation||C.insertSpaces!==s.insertSpaces||C.tabSize!==s.tabSize||C.indentSize!==s.indentSize||C.trimAutoWhitespace!==s.trimAutoWhitespace||!(0,Zi.fS)(C.bracketPairColorizationOptions,s.bracketPairColorizationOptions))&&(s.detectIndentation?(n.detectIndentation(s.insertSpaces,s.tabSize),n.updateOptions({trimAutoWhitespace:s.trimAutoWhitespace,bracketColorizationOptions:s.bracketPairColorizationOptions})):n.updateOptions({insertSpaces:s.insertSpaces,tabSize:s.tabSize,indentSize:s.indentSize,trimAutoWhitespace:s.trimAutoWhitespace,bracketColorizationOptions:s.bracketPairColorizationOptions}))}_insertDisposedModel(n){this._disposedModels.set(Ms(n.uri),n),this._disposedModelsHeapSize+=n.heapSize}_removeDisposedModel(n){const s=this._disposedModels.get(Ms(n));return s&&(this._disposedModelsHeapSize-=s.heapSize),this._disposedModels.delete(Ms(n)),s}_ensureDisposedModelsHeapSize(n){if(this._disposedModelsHeapSize>n){const s=[];for(this._disposedModels.forEach(C=>{C.sharesUndoRedoStack||s.push(C)}),s.sort((C,H)=>C.time-H.time);s.length>0&&this._disposedModelsHeapSize>n;){const C=s.shift();this._removeDisposedModel(C.uri),null!==C.initialUndoRedoSnapshot&&this._undoRedoService.restoreSnapshot(C.initialUndoRedoSnapshot)}}}_createModelData(n,s,C,H){const X=this.getCreationOptions(s,C,H),me=new cs.yO(n,s,X,C,this._undoRedoService,this._languageService,this._languageConfigurationService);if(C&&this._disposedModels.has(Ms(C))){const Qe=this._removeDisposedModel(C),tt=this._undoRedoService.getElements(C),_t=wl(me)===Qe.sha1;if(_t||Qe.sharesUndoRedoStack){for(const jt of tt.past)(0,br.e9)(jt)&&jt.matchesResource(C)&&jt.setModel(me);for(const jt of tt.future)(0,br.e9)(jt)&&jt.matchesResource(C)&&jt.setModel(me);this._undoRedoService.setElementsValidFlag(C,!0,jt=>(0,br.e9)(jt)&&jt.matchesResource(C)),_t&&(me._overwriteVersionId(Qe.versionId),me._overwriteAlternativeVersionId(Qe.alternativeVersionId),me._overwriteInitialUndoRedoSnapshot(Qe.initialUndoRedoSnapshot))}else null!==Qe.initialUndoRedoSnapshot&&this._undoRedoService.restoreSnapshot(Qe.initialUndoRedoSnapshot)}const Oe=Ms(me.uri);if(this._models[Oe])throw new Error("ModelService: Cannot add model because it already exists!");const ze=new ad(me,Qe=>this._onWillDispose(Qe),(Qe,tt)=>this._onDidChangeLanguage(Qe,tt));return this._models[Oe]=ze,ze}createModel(n,s,C,H=!1){let X;return X=this._createModelData(n,s||as.bd,C,H),this._onModelAdded.fire(X.model),X.model}getModels(){const n=[],s=Object.keys(this._models);for(let C=0,H=s.length;C<H;C++)n.push(this._models[s[C]].model);return n}getModel(n){const s=Ms(n),C=this._models[s];return C?C.model:null}_schemaShouldMaintainUndoRedoElements(n){return n.scheme===qn.lg.file||n.scheme===qn.lg.vscodeRemote||n.scheme===qn.lg.vscodeUserData||n.scheme===qn.lg.vscodeNotebookCell||"fake-fs"===n.scheme}_onWillDispose(n){const s=Ms(n.uri),C=this._models[s],H=this._undoRedoService.getUriComparisonKey(n.uri)!==n.uri.toString();let X=!1,me=0;if(H||this._shouldRestoreUndoStack()&&this._schemaShouldMaintainUndoRedoElements(n.uri)){const ze=this._undoRedoService.getElements(n.uri);if(ze.past.length>0||ze.future.length>0){for(const Qe of ze.past)(0,br.e9)(Qe)&&Qe.matchesResource(n.uri)&&(X=!0,me+=Qe.heapSize(n.uri),Qe.setModel(n.uri));for(const Qe of ze.future)(0,br.e9)(Qe)&&Qe.matchesResource(n.uri)&&(X=!0,me+=Qe.heapSize(n.uri),Qe.setModel(n.uri))}}const Oe=yr.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK;if(X)if(!H&&me>Oe){const ze=C.model.getInitialUndoRedoSnapshot();null!==ze&&this._undoRedoService.restoreSnapshot(ze)}else this._ensureDisposedModelsHeapSize(Oe-me),this._undoRedoService.setElementsValidFlag(n.uri,!1,ze=>(0,br.e9)(ze)&&ze.matchesResource(n.uri)),this._insertDisposedModel(new Ll(n.uri,C.model.getInitialUndoRedoSnapshot(),Date.now(),H,me,wl(n),n.getVersionId(),n.getAlternativeVersionId()));else if(!H){const ze=C.model.getInitialUndoRedoSnapshot();null!==ze&&this._undoRedoService.restoreSnapshot(ze)}delete this._models[s],C.dispose(),delete this._modelCreationOptionsByLanguageAndResource[n.getLanguageId()+n.uri],this._onModelRemoved.fire(n)}_onDidChangeLanguage(n,s){const C=s.oldLanguage,H=n.getLanguageId(),X=this.getCreationOptions(C,n.uri,n.isForSimpleWidget),me=this.getCreationOptions(H,n.uri,n.isForSimpleWidget);yr._setModelOptionsForModel(n,me,X),this._onModelModeChanged.fire({model:n,oldLanguageId:C})}};Fr.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK=20971520,Fr=yr=function(de,n,s,C){var me,H=arguments.length,X=H<3?n:null===C?C=Object.getOwnPropertyDescriptor(n,s):C;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)X=Reflect.decorate(de,n,s,C);else for(var Oe=de.length-1;Oe>=0;Oe--)(me=de[Oe])&&(X=(H<3?me(X):H>3?me(n,s,X):me(n,s))||X);return H>3&&X&&Object.defineProperty(n,s,X),X}([Br(0,xn.Ui),Br(1,ns.y),Br(2,yn.tJ),Br(3,Mi.O),Br(4,Ci.c_)],Fr);var Sr=e(93198),bs={};bs.styleTagTransform=At(),bs.setAttributes=Lt(),bs.insert=mt().bind(null,"head"),bs.domAPI=ot(),bs.insertStyleElement=Mt(),He()(Sr.Z,bs);var Ha=e(8256),Ua=e(91466),qs=e(45644),za=e(51198),Xo=e(49010),Wr=function(de,n){return function(s,C){n(s,C,de)}};let Vr=class extends Ee.JT{constructor(n,s){super(),this.quickInputService=n,this.instantiationService=s,this.registry=ws.B.as(za.IP.Quickaccess),this.mapProviderToDescriptor=new Map,this.lastAcceptedPickerValues=new Map,this.visibleQuickAccess=void 0}show(n="",s){this.doShowOrPick(n,!1,s)}doShowOrPick(n,s,C){var H;const[X,me]=this.getOrInstantiateProvider(n),Oe=this.visibleQuickAccess,ze=Oe?.descriptor;if(Oe&&me&&ze===me)return n!==me.prefix&&!C?.preserveValue&&(Oe.picker.value=n),void this.adjustValueSelection(Oe.picker,me,C);if(me&&!C?.preserveValue){let Xt;if(Oe&&ze&&ze!==me){const Di=Oe.value.substr(ze.prefix.length);Di&&(Xt=`${me.prefix}${Di}`)}if(!Xt){const Di=X?.defaultFilterValue;Di===za.Ry.LAST?Xt=this.lastAcceptedPickerValues.get(me):"string"==typeof Di&&(Xt=`${me.prefix}${Di}`)}"string"==typeof Xt&&(n=Xt)}const Qe=new Ee.SL,tt=Qe.add(this.quickInputService.createQuickPick());let _t;tt.value=n,this.adjustValueSelection(tt,me,C),tt.placeholder=me?.placeholder,tt.quickNavigate=C?.quickNavigateConfiguration,tt.hideInput=!!tt.quickNavigate&&!Oe,("number"==typeof C?.itemActivation||C?.quickNavigateConfiguration)&&(tt.itemActivation=null!==(H=C?.itemActivation)&&void 0!==H?H:Xo.jG.SECOND),tt.contextKey=me?.contextKey,tt.filterValue=Xt=>Xt.substring(me?me.prefix.length:0),s&&(_t=new Hi.CR,Qe.add((0,qs.I)(tt.onWillAccept)(Xt=>{Xt.veto(),tt.hide()}))),Qe.add(this.registerPickerListeners(tt,X,me,n,C?.providerOptions));const jt=Qe.add(new Ns.A);return X&&Qe.add(X.provide(tt,jt.token,C?.providerOptions)),(0,qs.I)(tt.onDidHide)(()=>{0===tt.selectedItems.length&&jt.cancel(),Qe.dispose(),_t?.complete(tt.selectedItems.slice(0))}),tt.show(),s?_t?.p:void 0}adjustValueSelection(n,s,C){var H;let X;X=C?.preserveValue?[n.value.length,n.value.length]:[null!==(H=s?.prefix.length)&&void 0!==H?H:0,n.value.length],n.valueSelection=X}registerPickerListeners(n,s,C,H,X){const me=new Ee.SL,Oe=this.visibleQuickAccess={picker:n,descriptor:C,value:H};return me.add((0,Ee.OF)(()=>{Oe===this.visibleQuickAccess&&(this.visibleQuickAccess=void 0)})),me.add(n.onDidChangeValue(ze=>{const[Qe]=this.getOrInstantiateProvider(ze);Qe!==s?this.show(ze,{preserveValue:!0,providerOptions:X}):Oe.value=ze})),C&&me.add(n.onDidAccept(()=>{this.lastAcceptedPickerValues.set(C,n.value)})),me}getOrInstantiateProvider(n){const s=this.registry.getQuickAccessProvider(n);if(!s)return[void 0,void 0];let C=this.mapProviderToDescriptor.get(s);return C||(C=this.instantiationService.createInstance(s.ctor),this.mapProviderToDescriptor.set(s,C)),[C,s]}};Vr=function(de,n,s,C){var me,H=arguments.length,X=H<3?n:null===C?C=Object.getOwnPropertyDescriptor(n,s):C;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)X=Reflect.decorate(de,n,s,C);else for(var Oe=de.length-1;Oe>=0;Oe--)(me=de[Oe])&&(X=(H<3?me(X):H>3?me(n,s,X):me(n,s))||X);return H>3&&X&&Object.defineProperty(n,s,X),X}([Wr(0,Xo.eJ),Wr(1,qt.TG)],Vr);var El=e(7108),na=e(6663),wr=e(64185),Lr={};Lr.styleTagTransform=At(),Lr.setAttributes=Lt(),Lr.insert=mt().bind(null,"head"),Lr.domAPI=ot(),Lr.insertStyleElement=Mt(),He()(wr.Z,Lr);const ra="infinite",Hr="infinite-long-running",aa="discrete";let cd=(()=>{class de extends Ee.JT{constructor(s,C){super(),this.workedVal=0,this.showDelayedScheduler=this._register(new Hi.pY(()=>(0,Jt.$Z)(this.element),0)),this.longRunningScheduler=this._register(new Hi.pY(()=>this.infiniteLongRunning(),de.LONG_RUNNING_INFINITE_THRESHOLD)),this.create(s,C)}create(s,C){this.element=document.createElement("div"),this.element.classList.add("monaco-progress-container"),this.element.setAttribute("role","progressbar"),this.element.setAttribute("aria-valuemin","0"),s.appendChild(this.element),this.bit=document.createElement("div"),this.bit.classList.add("progress-bit"),this.bit.style.backgroundColor=C?.progressBarBackground||"#0E70C0",this.element.appendChild(this.bit)}off(){this.bit.style.width="inherit",this.bit.style.opacity="1",this.element.classList.remove("active",ra,Hr,aa),this.workedVal=0,this.totalWork=void 0,this.longRunningScheduler.cancel()}stop(){return this.doDone(!1)}doDone(s){return this.element.classList.add("done"),this.element.classList.contains(ra)?(this.bit.style.opacity="0",s?setTimeout(()=>this.off(),200):this.off()):(this.bit.style.width="inherit",s?setTimeout(()=>this.off(),200):this.off()),this}infinite(){return this.bit.style.width="2%",this.bit.style.opacity="1",this.element.classList.remove(aa,"done",Hr),this.element.classList.add("active",ra),this.longRunningScheduler.schedule(),this}infiniteLongRunning(){this.element.classList.add(Hr)}getContainer(){return this.element}}return de.LONG_RUNNING_INFINITE_THRESHOLD=1e4,de})();var hd=e(92161),la=e(51961),Hs={};Hs.styleTagTransform=At(),Hs.setAttributes=Lt(),Hs.insert=mt().bind(null,"head"),Hs.domAPI=ot(),Hs.insertStyleElement=Mt(),He()(la.Z,Hs);const ud=Jt.$;class gd extends Ee.JT{constructor(n,s,C){super(),this.parent=n,this.onKeyDown=X=>Jt.nm(this.findInput.inputBox.inputElement,Jt.tw.KEY_DOWN,me=>{X(new rs.y(me))}),this.onMouseDown=X=>Jt.nm(this.findInput.inputBox.inputElement,Jt.tw.MOUSE_DOWN,me=>{X(new Na.n(me))}),this.onDidChange=X=>this.findInput.onDidChange(X),this.container=Jt.R3(this.parent,ud(".quick-input-box")),this.findInput=this._register(new hd.V(this.container,void 0,{label:"",inputBoxStyles:s,toggleStyles:C}));const H=this.findInput.inputBox.inputElement;H.role="combobox",H.ariaHasPopup="menu",H.ariaAutoComplete="list",H.ariaExpanded="true"}get value(){return this.findInput.getValue()}set value(n){this.findInput.setValue(n)}select(n=null){this.findInput.inputBox.select(n)}isSelectionAtEnd(){return this.findInput.inputBox.isSelectionAtEnd()}get placeholder(){return this.findInput.inputBox.inputElement.getAttribute("placeholder")||""}set placeholder(n){this.findInput.inputBox.setPlaceHolder(n)}get password(){return"password"===this.findInput.inputBox.inputElement.type}set password(n){this.findInput.inputBox.inputElement.type=n?"password":"text"}set enabled(n){this.findInput.inputBox.inputElement.toggleAttribute("readonly",!n)}set toggles(n){this.findInput.setAdditionalToggles(n)}setAttribute(n,s){this.findInput.inputBox.inputElement.setAttribute(n,s)}showDecoration(n){n===Ii.Z.Ignore?this.findInput.clearMessage():this.findInput.showMessage({type:n===Ii.Z.Info?1:n===Ii.Z.Warning?2:3,content:""})}stylesForType(n){return this.findInput.inputBox.stylesForType(n===Ii.Z.Info?1:n===Ii.Z.Warning?2:3)}setFocus(){this.findInput.focus()}layout(){this.findInput.inputBox.layout()}}var er=e(34448),xl=e(4625),Er=e(81183);const Ka=new Er.o(()=>{const de=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});return{collator:de,collatorIsNumeric:de.resolvedOptions().numeric}});new Er.o(()=>({collator:new Intl.Collator(void 0,{numeric:!0})})),new Er.o(()=>({collator:new Intl.Collator(void 0,{numeric:!0,sensitivity:"accent"})}));var $a=e(20354),Rs=e(49489),da=e(51674),vd=e(24791);class Ga{constructor(n){this.nodes=n}toString(){return this.nodes.map(n=>"string"==typeof n?n:n.label).join("")}}!function(de,n,s,C){var me,H=arguments.length,X=H<3?n:null===C?C=Object.getOwnPropertyDescriptor(n,s):C;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)X=Reflect.decorate(de,n,s,C);else for(var Oe=de.length-1;Oe>=0;Oe--)(me=de[Oe])&&(X=(H<3?me(X):H>3?me(n,s,X):me(n,s))||X);H>3&&X&&Object.defineProperty(n,s,X)}([$a.H],Ga.prototype,"toString",null);const Wo=/\[([^\]]+)\]\(((?:https?:\/\/|command:|file:)[^\)\s]+)(?: (["'])(.+?)(\3))?\)/gi,Za={},Cd=new vd.R("quick-input-button-icon-");function Qa(de){if(!de)return;let n;const s=de.dark.toString();return Za[s]?n=Za[s]:(n=Cd.nextId(),Jt.fk(`.${n}, .hc-light .${n}`,`background-image: ${Jt.wY(de.light||de.dark)}`),Jt.fk(`.vs-dark .${n}, .hc-black .${n}`,`background-image: ${Jt.wY(de.dark)}`),Za[s]=n),n}var yd=e(13054),ha=function(de,n,s,C){var me,H=arguments.length,X=H<3?n:null===C?C=Object.getOwnPropertyDescriptor(n,s):C;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)X=Reflect.decorate(de,n,s,C);else for(var Oe=de.length-1;Oe>=0;Oe--)(me=de[Oe])&&(X=(H<3?me(X):H>3?me(n,s,X):me(n,s))||X);return H>3&&X&&Object.defineProperty(n,s,X),X},Il=function(de,n,s,C){return new(s||(s=Promise))(function(X,me){function Oe(tt){try{Qe(C.next(tt))}catch(_t){me(_t)}}function ze(tt){try{Qe(C.throw(tt))}catch(_t){me(_t)}}function Qe(tt){tt.done?X(tt.value):function H(X){return X instanceof s?X:new s(function(me){me(X)})}(tt.value).then(Oe,ze)}Qe((C=C.apply(de,n||[])).next())})};const ys=Jt.$;class Sd{constructor(n,s,C,H,X,me,Oe){var ze,Qe,tt;this._checked=!1,this._hidden=!1,this.hasCheckbox=H,this.index=C,this.fireButtonTriggered=X,this.fireSeparatorButtonTriggered=me,this._onChecked=Oe,this.onChecked=H?gn.ju.map(gn.ju.filter(this._onChecked.event,_t=>_t.listElement===this),_t=>_t.checked):gn.ju.None,"separator"===n.type?this._separator=n:(this.item=n,s&&"separator"===s.type&&!s.buttons&&(this._separator=s),this.saneDescription=this.item.description,this.saneDetail=this.item.detail,this._labelHighlights=null===(ze=this.item.highlights)||void 0===ze?void 0:ze.label,this._descriptionHighlights=null===(Qe=this.item.highlights)||void 0===Qe?void 0:Qe.description,this._detailHighlights=null===(tt=this.item.highlights)||void 0===tt?void 0:tt.detail,this.saneTooltip=this.item.tooltip),this._init=new Er.o(()=>{var _t;const jt=null!==(_t=n.label)&&void 0!==_t?_t:"",Xt=(0,ds.Ho)(jt).text.trim(),Di=n.ariaLabel||[jt,this.saneDescription,this.saneDetail].map(xi=>(0,ds.JL)(xi)).filter(xi=>!!xi).join(", ");return{saneLabel:jt,saneSortLabel:Xt,saneAriaLabel:Di}})}get saneLabel(){return this._init.value.saneLabel}get saneSortLabel(){return this._init.value.saneSortLabel}get saneAriaLabel(){return this._init.value.saneAriaLabel}get element(){return this._element}set element(n){this._element=n}get hidden(){return this._hidden}set hidden(n){this._hidden=n}get checked(){return this._checked}set checked(n){n!==this._checked&&(this._checked=n,this._onChecked.fire({listElement:this,checked:n}))}get separator(){return this._separator}set separator(n){this._separator=n}get labelHighlights(){return this._labelHighlights}set labelHighlights(n){this._labelHighlights=n}get descriptionHighlights(){return this._descriptionHighlights}set descriptionHighlights(n){this._descriptionHighlights=n}get detailHighlights(){return this._detailHighlights}set detailHighlights(n){this._detailHighlights=n}}let bt=(()=>{class de{constructor(s){this.themeService=s}get templateId(){return de.ID}renderTemplate(s){const C=Object.create(null);C.toDisposeElement=[],C.toDisposeTemplate=[],C.entry=Jt.R3(s,ys(".quick-input-list-entry"));const H=Jt.R3(C.entry,ys("label.quick-input-list-label"));C.toDisposeTemplate.push(Jt.mu(H,Jt.tw.CLICK,tt=>{C.checkbox.offsetParent||tt.preventDefault()})),C.checkbox=Jt.R3(H,ys("input.quick-input-list-checkbox")),C.checkbox.type="checkbox",C.toDisposeTemplate.push(Jt.mu(C.checkbox,Jt.tw.CHANGE,tt=>{C.element.checked=C.checkbox.checked}));const X=Jt.R3(H,ys(".quick-input-list-rows")),me=Jt.R3(X,ys(".quick-input-list-row")),Oe=Jt.R3(X,ys(".quick-input-list-row"));C.label=new er.g(me,{supportHighlights:!0,supportDescriptionHighlights:!0,supportIcons:!0}),C.icon=Jt.Ce(C.label.element,ys(".quick-input-list-icon"));const ze=Jt.R3(me,ys(".quick-input-list-entry-keybinding"));C.keybinding=new xl.e(ze,Kn.OS);const Qe=Jt.R3(Oe,ys(".quick-input-list-label-meta"));return C.detail=new er.g(Qe,{supportHighlights:!0,supportIcons:!0}),C.separator=Jt.R3(C.entry,ys(".quick-input-list-separator")),C.actionBar=new Ws.o(C.entry),C.actionBar.domNode.classList.add("quick-input-list-entry-action-bar"),C.toDisposeTemplate.push(C.actionBar),C}renderElement(s,C,H){var X,me,Oe,ze;H.element=s,s.element=null!==(X=H.entry)&&void 0!==X?X:void 0;const Qe=s.item?s.item:s.separator;H.checkbox.checked=s.checked,H.toDisposeElement.push(s.onChecked(xi=>H.checkbox.checked=xi));const{labelHighlights:tt,descriptionHighlights:_t,detailHighlights:jt}=s;if(null!==(me=s.item)&&void 0!==me&&me.iconPath){const xi=(0,yd._T)(this.themeService.getColorTheme().type)?s.item.iconPath.dark:null!==(Oe=s.item.iconPath.light)&&void 0!==Oe?Oe:s.item.iconPath.dark,Oi=Ae.o.revive(xi);H.icon.className="quick-input-list-icon",H.icon.style.backgroundImage=Jt.wY(Oi)}else H.icon.style.backgroundImage="",H.icon.className=null!==(ze=s.item)&&void 0!==ze&&ze.iconClass?`quick-input-list-icon ${s.item.iconClass}`:"";const Xt={matches:tt||[],descriptionTitle:s.saneDescription,descriptionMatches:_t||[],labelEscapeNewLines:!0};"separator"!==Qe.type?(Xt.extraClasses=Qe.iconClasses,Xt.italic=Qe.italic,Xt.strikethrough=Qe.strikethrough,H.entry.classList.remove("quick-input-list-separator-as-item")):H.entry.classList.add("quick-input-list-separator-as-item"),H.label.setLabel(s.saneLabel,s.saneDescription,Xt),H.keybinding.set("separator"===Qe.type?void 0:Qe.keybinding),s.saneDetail?(H.detail.element.style.display="",H.detail.setLabel(s.saneDetail,void 0,{matches:jt,title:s.saneDetail,labelEscapeNewLines:!0})):H.detail.element.style.display="none",s.item&&s.separator&&s.separator.label?(H.separator.textContent=s.separator.label,H.separator.style.display=""):H.separator.style.display="none",H.entry.classList.toggle("quick-input-list-separator-border",!!s.separator);const Di=Qe.buttons;Di&&Di.length?(H.actionBar.push(Di.map((xi,Oi)=>{let Ui=xi.iconClass||(xi.iconPath?Qa(xi.iconPath):void 0);return xi.alwaysVisible&&(Ui=Ui?`${Ui} always-visible`:"always-visible"),{id:`id-${Oi}`,class:Ui,enabled:!0,label:"",tooltip:xi.tooltip||"",run:()=>{"separator"!==Qe.type?s.fireButtonTriggered({button:xi,item:Qe}):s.fireSeparatorButtonTriggered({button:xi,separator:Qe})}}}),{icon:!0,label:!1}),H.entry.classList.add("has-actions")):H.entry.classList.remove("has-actions")}disposeElement(s,C,H){H.toDisposeElement=(0,Ee.B9)(H.toDisposeElement),H.actionBar.clear()}disposeTemplate(s){s.toDisposeElement=(0,Ee.B9)(s.toDisposeElement),s.toDisposeTemplate=(0,Ee.B9)(s.toDisposeTemplate)}}return de.ID="listelement",de})();class t{getHeight(n){return n.item?n.saneDetail?44:22:24}getTemplateId(n){return bt.ID}}var o=function(de){return de[de.First=1]="First",de[de.Second=2]="Second",de[de.Last=3]="Last",de[de.Next=4]="Next",de[de.Previous=5]="Previous",de[de.NextPage=6]="NextPage",de[de.PreviousPage=7]="PreviousPage",de}(o||{});class b{constructor(n,s,C,H){this.parent=n,this.options=C,this.inputElements=[],this.elements=[],this.elementsToIndexes=new Map,this.matchOnDescription=!1,this.matchOnDetail=!1,this.matchOnLabel=!0,this.matchOnLabelMode="fuzzy",this.sortByLabel=!0,this._onChangedAllVisibleChecked=new gn.Q5,this.onChangedAllVisibleChecked=this._onChangedAllVisibleChecked.event,this._onChangedCheckedCount=new gn.Q5,this.onChangedCheckedCount=this._onChangedCheckedCount.event,this._onChangedVisibleCount=new gn.Q5,this.onChangedVisibleCount=this._onChangedVisibleCount.event,this._onChangedCheckedElements=new gn.Q5,this.onChangedCheckedElements=this._onChangedCheckedElements.event,this._onButtonTriggered=new gn.Q5,this.onButtonTriggered=this._onButtonTriggered.event,this._onSeparatorButtonTriggered=new gn.Q5,this.onSeparatorButtonTriggered=this._onSeparatorButtonTriggered.event,this._onKeyDown=new gn.Q5,this.onKeyDown=this._onKeyDown.event,this._onLeave=new gn.Q5,this.onLeave=this._onLeave.event,this._listElementChecked=new gn.Q5,this._fireCheckedEvents=!0,this.elementDisposables=[],this.disposables=[],this.id=s,this.container=Jt.R3(this.parent,ys(".quick-input-list"));const X=new t,me=new Re;if(this.list=C.createList("QuickInput",this.container,X,[new bt(H)],{identityProvider:{getId:Oe=>{var ze,Qe,tt,_t,jt,Xt,Di,xi;return null!==(xi=null!==(Xt=null!==(_t=null!==(Qe=null===(ze=Oe.item)||void 0===ze?void 0:ze.id)&&void 0!==Qe?Qe:null===(tt=Oe.item)||void 0===tt?void 0:tt.label)&&void 0!==_t?_t:null===(jt=Oe.separator)||void 0===jt?void 0:jt.id)&&void 0!==Xt?Xt:null===(Di=Oe.separator)||void 0===Di?void 0:Di.label)&&void 0!==xi?xi:""}},setRowLineHeight:!1,multipleSelectionSupport:!1,horizontalScrolling:!1,accessibilityProvider:me}),this.list.getHTMLElement().id=s,this.disposables.push(this.list),this.disposables.push(this.list.onKeyDown(Oe=>{const ze=new rs.y(Oe);switch(ze.keyCode){case 10:this.toggleCheckbox();break;case 31:(Kn.dz?Oe.metaKey:Oe.ctrlKey)&&this.list.setFocus((0,hn.w6)(this.list.length));break;case 16:{const Qe=this.list.getFocus();1===Qe.length&&0===Qe[0]&&this._onLeave.fire();break}case 18:{const Qe=this.list.getFocus();1===Qe.length&&Qe[0]===this.list.length-1&&this._onLeave.fire();break}}this._onKeyDown.fire(ze)})),this.disposables.push(this.list.onMouseDown(Oe=>{2!==Oe.browserEvent.button&&Oe.browserEvent.preventDefault()})),this.disposables.push(Jt.nm(this.container,Jt.tw.CLICK,Oe=>{(Oe.x||Oe.y)&&this._onLeave.fire()})),this.disposables.push(this.list.onMouseMiddleClick(Oe=>{this._onLeave.fire()})),this.disposables.push(this.list.onContextMenu(Oe=>{"number"==typeof Oe.index&&(Oe.browserEvent.preventDefault(),this.list.setSelection([Oe.index]))})),C.hoverDelegate){const Oe=new Hi.rH(C.hoverDelegate.delay);this.disposables.push(this.list.onMouseOver(ze=>Il(this,void 0,void 0,function*(){var Qe;if(ze.browserEvent.target instanceof HTMLAnchorElement)Oe.cancel();else if(ze.browserEvent.relatedTarget instanceof HTMLAnchorElement||!Jt.jg(ze.browserEvent.relatedTarget,null===(Qe=ze.element)||void 0===Qe?void 0:Qe.element))try{yield Oe.trigger(()=>Il(this,void 0,void 0,function*(){ze.element&&this.showHover(ze.element)}))}catch(tt){if(!(0,$t.n2)(tt))throw tt}}))),this.disposables.push(this.list.onMouseOut(ze=>{var Qe;Jt.jg(ze.browserEvent.relatedTarget,null===(Qe=ze.element)||void 0===Qe?void 0:Qe.element)||Oe.cancel()})),this.disposables.push(Oe)}this.disposables.push(this._listElementChecked.event(Oe=>this.fireCheckedEvents())),this.disposables.push(this._onChangedAllVisibleChecked,this._onChangedCheckedCount,this._onChangedVisibleCount,this._onChangedCheckedElements,this._onButtonTriggered,this._onSeparatorButtonTriggered,this._onLeave,this._onKeyDown)}get onDidChangeFocus(){return gn.ju.map(this.list.onDidChangeFocus,n=>n.elements.map(s=>s.item))}get onDidChangeSelection(){return gn.ju.map(this.list.onDidChangeSelection,n=>({items:n.elements.map(s=>s.item),event:n.browserEvent}))}get scrollTop(){return this.list.scrollTop}set scrollTop(n){this.list.scrollTop=n}get ariaLabel(){return this.list.getHTMLElement().ariaLabel}set ariaLabel(n){this.list.getHTMLElement().ariaLabel=n}getAllVisibleChecked(){return this.allVisibleChecked(this.elements,!1)}allVisibleChecked(n,s=!0){for(let C=0,H=n.length;C<H;C++){const X=n[C];if(!X.hidden){if(!X.checked)return!1;s=!0}}return s}getCheckedCount(){let n=0;const s=this.elements;for(let C=0,H=s.length;C<H;C++)s[C].checked&&n++;return n}getVisibleCount(){let n=0;const s=this.elements;for(let C=0,H=s.length;C<H;C++)s[C].hidden||n++;return n}setAllVisibleChecked(n){try{this._fireCheckedEvents=!1,this.elements.forEach(s=>{s.hidden||(s.checked=n)})}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}setElements(n){this.elementDisposables=(0,Ee.B9)(this.elementDisposables);const s=me=>this.fireButtonTriggered(me),C=me=>this.fireSeparatorButtonTriggered(me);this.inputElements=n;const H=new Map,X=this.parent.classList.contains("show-checkboxes");this.elements=n.reduce((me,Oe,ze)=>{var Qe;if("separator"===Oe.type&&!Oe.buttons)return me;const _t=new Sd(Oe,ze>0?n[ze-1]:void 0,ze,X,s,C,this._listElementChecked),jt=me.length;return me.push(_t),H.set(null!==(Qe=_t.item)&&void 0!==Qe?Qe:_t.separator,jt),me},[]),this.elementsToIndexes=H,this.list.splice(0,this.list.length),this.list.splice(0,this.list.length,this.elements),this._onChangedVisibleCount.fire(this.elements.length)}getFocusedElements(){return this.list.getFocusedElements().map(n=>n.item)}setFocusedElements(n){if(this.list.setFocus(n.filter(s=>this.elementsToIndexes.has(s)).map(s=>this.elementsToIndexes.get(s))),n.length>0){const s=this.list.getFocus()[0];"number"==typeof s&&this.list.reveal(s)}}getActiveDescendant(){return this.list.getHTMLElement().getAttribute("aria-activedescendant")}setSelectedElements(n){this.list.setSelection(n.filter(s=>this.elementsToIndexes.has(s)).map(s=>this.elementsToIndexes.get(s)))}getCheckedElements(){return this.elements.filter(n=>n.checked).map(n=>n.item).filter(n=>!!n)}setCheckedElements(n){try{this._fireCheckedEvents=!1;const s=new Set;for(const C of n)s.add(C);for(const C of this.elements)C.checked=s.has(C.item)}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}set enabled(n){this.list.getHTMLElement().style.pointerEvents=n?"":"none"}focus(n){if(!this.list.length)return;switch(n===o.Second&&this.list.length<2&&(n=o.First),n){case o.First:this.list.scrollTop=0,this.list.focusFirst(void 0,C=>!!C.item);break;case o.Second:this.list.scrollTop=0,this.list.focusNth(1,void 0,C=>!!C.item);break;case o.Last:this.list.scrollTop=this.list.scrollHeight,this.list.focusLast(void 0,C=>!!C.item);break;case o.Next:{this.list.focusNext(void 0,!0,void 0,H=>!!H.item);const C=this.list.getFocus()[0];0!==C&&!this.elements[C-1].item&&this.list.firstVisibleIndex>C-1&&this.list.reveal(C-1);break}case o.Previous:{this.list.focusPrevious(void 0,!0,void 0,H=>!!H.item);const C=this.list.getFocus()[0];0!==C&&!this.elements[C-1].item&&this.list.firstVisibleIndex>C-1&&this.list.reveal(C-1);break}case o.NextPage:this.list.focusNextPage(void 0,C=>!!C.item);break;case o.PreviousPage:this.list.focusPreviousPage(void 0,C=>!!C.item)}const s=this.list.getFocus()[0];"number"==typeof s&&this.list.reveal(s)}clearFocus(){this.list.setFocus([])}domFocus(){this.list.domFocus()}showHover(n){var s,C,H;void 0!==this.options.hoverDelegate&&(this._lastHover&&!this._lastHover.isDisposed&&(null===(C=(s=this.options.hoverDelegate).onDidHideHover)||void 0===C||C.call(s),null===(H=this._lastHover)||void 0===H||H.dispose()),n.element&&n.saneTooltip&&(this._lastHover=this.options.hoverDelegate.showHover({content:n.saneTooltip,target:n.element,linkHandler:X=>{this.options.linkOpenerDelegate(X)},showPointer:!0,container:this.container,hoverPosition:1},!1)))}layout(n){this.list.getHTMLElement().style.maxHeight=n?44*Math.floor(n/44)+6+"px":"",this.list.layout()}filter(n){if(!(this.sortByLabel||this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))return this.list.layout(),!1;const s=n;if((n=n.trim())&&(this.matchOnLabel||this.matchOnDescription||this.matchOnDetail)){let H;this.elements.forEach(X=>{var me,Oe,ze,Qe;let tt;tt="fuzzy"===this.matchOnLabelMode?this.matchOnLabel&&null!==(me=(0,ds.Gt)(n,(0,ds.Ho)(X.saneLabel)))&&void 0!==me?me:void 0:this.matchOnLabel&&null!==(Oe=function V(de,n){const{text:s,iconOffsets:C}=n;if(!C||0===C.length)return Z(de,s);const H=(0,Te.j3)(s," "),X=s.length-H.length,me=Z(de,H);if(me)for(const Oe of me){const ze=C[Oe.start+X]+X;Oe.start+=ze,Oe.end+=ze}return me}(s,(0,ds.Ho)(X.saneLabel)))&&void 0!==Oe?Oe:void 0;const _t=this.matchOnDescription&&null!==(ze=(0,ds.Gt)(n,(0,ds.Ho)(X.saneDescription||"")))&&void 0!==ze?ze:void 0,jt=this.matchOnDetail&&null!==(Qe=(0,ds.Gt)(n,(0,ds.Ho)(X.saneDetail||"")))&&void 0!==Qe?Qe:void 0;if(tt||_t||jt?(X.labelHighlights=tt,X.descriptionHighlights=_t,X.detailHighlights=jt,X.hidden=!1):(X.labelHighlights=void 0,X.descriptionHighlights=void 0,X.detailHighlights=void 0,X.hidden=!X.item||!X.item.alwaysShow),X.item?X.separator=void 0:X.separator&&(X.hidden=!0),!this.sortByLabel){const Xt=X.index&&this.inputElements[X.index-1];H=Xt&&"separator"===Xt.type?Xt:H,H&&!X.hidden&&(X.separator=H,H=void 0)}})}else this.elements.forEach(H=>{H.labelHighlights=void 0,H.descriptionHighlights=void 0,H.detailHighlights=void 0,H.hidden=!1;const X=H.index&&this.inputElements[H.index-1];H.item&&(H.separator=X&&"separator"===X.type&&!X.buttons?X:void 0)});const C=this.elements.filter(H=>!H.hidden);if(this.sortByLabel&&n){const H=n.toLowerCase();C.sort((X,me)=>function Le(de,n,s){const C=de.labelHighlights||[],H=n.labelHighlights||[];return C.length&&!H.length?-1:!C.length&&H.length?1:0===C.length&&0===H.length?0:function pd(de,n,s){const C=de.toLowerCase(),H=n.toLowerCase(),X=function As(de,n,s){const C=de.toLowerCase(),H=n.toLowerCase(),X=C.startsWith(s),me=H.startsWith(s);if(X!==me)return X?-1:1;if(X&&me){if(C.length<H.length)return-1;if(C.length>H.length)return 1}return 0}(de,n,s);if(X)return X;const me=C.endsWith(s);if(me!==H.endsWith(s))return me?-1:1;const ze=function md(de,n,s=!1){const C=de||"",H=n||"",X=Ka.value.collator.compare(C,H);return Ka.value.collatorIsNumeric&&0===X&&C!==H?C<H?-1:1:X}(C,H);return 0!==ze?ze:C.localeCompare(H)}(de.saneSortLabel,n.saneSortLabel,s)}(X,me,H))}return this.elementsToIndexes=C.reduce((H,X,me)=>{var Oe;return H.set(null!==(Oe=X.item)&&void 0!==Oe?Oe:X.separator,me),H},new Map),this.list.splice(0,this.list.length,C),this.list.setFocus([]),this.list.layout(),this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedVisibleCount.fire(C.length),!0}toggleCheckbox(){try{this._fireCheckedEvents=!1;const n=this.list.getFocusedElements(),s=this.allVisibleChecked(n);for(const C of n)C.checked=!s}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}display(n){this.container.style.display=n?"":"none"}isDisplayed(){return"none"!==this.container.style.display}dispose(){this.elementDisposables=(0,Ee.B9)(this.elementDisposables),this.disposables=(0,Ee.B9)(this.disposables)}fireCheckedEvents(){this._fireCheckedEvents&&(this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedCheckedCount.fire(this.getCheckedCount()),this._onChangedCheckedElements.fire(this.getCheckedElements()))}fireButtonTriggered(n){this._onButtonTriggered.fire(n)}fireSeparatorButtonTriggered(n){this._onSeparatorButtonTriggered.fire(n)}style(n){this.list.style(n)}toggleHover(){const n=this.list.getFocusedElements()[0];if(!n?.saneTooltip)return;if(this._lastHover&&!this._lastHover.isDisposed)return void this._lastHover.dispose();const s=this.list.getFocusedElements()[0];if(!s)return;this.showHover(s);const C=new Ee.SL;C.add(this.list.onDidChangeFocus(H=>{H.indexes.length&&this.showHover(H.elements[0])})),this._lastHover&&C.add(this._lastHover),this._toggleHover=C,this.elementDisposables.push(this._toggleHover)}}function Z(de,n){const s=n.toLowerCase().indexOf(de.toLowerCase());return-1!==s?[{start:s,end:s+de.length}]:null}ha([$a.H],b.prototype,"onDidChangeFocus",null),ha([$a.H],b.prototype,"onDidChangeSelection",null);class Re{getWidgetAriaLabel(){return(0,si.NC)("quickInput","Quick Input")}getAriaLabel(n){var s;return null!==(s=n.separator)&&void 0!==s&&s.label?`${n.saneAriaLabel}, ${n.separator.label}`:n.saneAriaLabel}getWidgetRole(){return"listbox"}getRole(n){return n.hasCheckbox?"checkbox":"option"}isChecked(n){if(n.hasCheckbox)return{value:n.checked,onDidChange:n.onChecked}}}var Ge=e(50145),at=function(de,n,s,C){return new(s||(s=Promise))(function(X,me){function Oe(tt){try{Qe(C.next(tt))}catch(_t){me(_t)}}function ze(tt){try{Qe(C.throw(tt))}catch(_t){me(_t)}}function Qe(tt){tt.done?X(tt.value):function H(X){return X instanceof s?X:new s(function(me){me(X)})}(tt.value).then(Oe,ze)}Qe((C=C.apply(de,n||[])).next())})};const vt={iconClass:ls.k.asClassName(jo.l.quickInputBack),tooltip:(0,si.NC)("quickInput.back","Back"),handle:-1};class Ct extends Ee.JT{constructor(n){super(),this.ui=n,this._widgetUpdated=!1,this.visible=!1,this._enabled=!0,this._busy=!1,this._ignoreFocusOut=!1,this._buttons=[],this.buttonsUpdated=!1,this._toggles=[],this.togglesUpdated=!1,this.noValidationMessage=Ct.noPromptMessage,this._severity=Ii.Z.Ignore,this.onDidTriggerButtonEmitter=this._register(new gn.Q5),this.onDidHideEmitter=this._register(new gn.Q5),this.onDisposeEmitter=this._register(new gn.Q5),this.visibleDisposables=this._register(new Ee.SL),this.onDidHide=this.onDidHideEmitter.event}get title(){return this._title}set title(n){this._title=n,this.update()}get description(){return this._description}set description(n){this._description=n,this.update()}get step(){return this._steps}set step(n){this._steps=n,this.update()}get totalSteps(){return this._totalSteps}set totalSteps(n){this._totalSteps=n,this.update()}get enabled(){return this._enabled}set enabled(n){this._enabled=n,this.update()}get contextKey(){return this._contextKey}set contextKey(n){this._contextKey=n,this.update()}get busy(){return this._busy}set busy(n){this._busy=n,this.update()}get ignoreFocusOut(){return this._ignoreFocusOut}set ignoreFocusOut(n){const s=this._ignoreFocusOut!==n&&!Kn.gn;this._ignoreFocusOut=n&&!Kn.gn,s&&this.update()}get buttons(){return this._buttons}set buttons(n){this._buttons=n,this.buttonsUpdated=!0,this.update()}get toggles(){return this._toggles}set toggles(n){this._toggles=n??[],this.togglesUpdated=!0,this.update()}get validationMessage(){return this._validationMessage}set validationMessage(n){this._validationMessage=n,this.update()}get severity(){return this._severity}set severity(n){this._severity=n,this.update()}show(){this.visible||(this.visibleDisposables.add(this.ui.onDidTriggerButton(n=>{-1!==this.buttons.indexOf(n)&&this.onDidTriggerButtonEmitter.fire(n)})),this.ui.show(this),this.visible=!0,this._lastValidationMessage=void 0,this._lastSeverity=void 0,this.buttons.length&&(this.buttonsUpdated=!0),this.toggles.length&&(this.togglesUpdated=!0),this.update())}hide(){this.visible&&this.ui.hide()}didHide(n=Xo.Jq.Other){this.visible=!1,this.visibleDisposables.clear(),this.onDidHideEmitter.fire({reason:n})}update(){var n,s;if(!this.visible)return;const C=this.getTitle();C&&this.ui.title.textContent!==C?this.ui.title.textContent=C:!C&&"&nbsp;"!==this.ui.title.innerHTML&&(this.ui.title.innerText="\xa0");const H=this.getDescription();if(this.ui.description1.textContent!==H&&(this.ui.description1.textContent=H),this.ui.description2.textContent!==H&&(this.ui.description2.textContent=H),this._widgetUpdated&&(this._widgetUpdated=!1,this._widget?Jt.mc(this.ui.widget,this._widget):Jt.mc(this.ui.widget)),this.busy&&!this.busyDelay&&(this.busyDelay=new Hi._F,this.busyDelay.setIfNotSet(()=>{this.visible&&this.ui.progressBar.infinite()},800)),!this.busy&&this.busyDelay&&(this.ui.progressBar.stop(),this.busyDelay.cancel(),this.busyDelay=void 0),this.buttonsUpdated){this.buttonsUpdated=!1,this.ui.leftActionBar.clear();const me=this.buttons.filter(ze=>ze===vt);this.ui.leftActionBar.push(me.map((ze,Qe)=>{const tt=new zo.aU(`id-${Qe}`,"",ze.iconClass||Qa(ze.iconPath),!0,()=>at(this,void 0,void 0,function*(){this.onDidTriggerButtonEmitter.fire(ze)}));return tt.tooltip=ze.tooltip||"",tt}),{icon:!0,label:!1}),this.ui.rightActionBar.clear();const Oe=this.buttons.filter(ze=>ze!==vt);this.ui.rightActionBar.push(Oe.map((ze,Qe)=>{const tt=new zo.aU(`id-${Qe}`,"",ze.iconClass||Qa(ze.iconPath),!0,()=>at(this,void 0,void 0,function*(){this.onDidTriggerButtonEmitter.fire(ze)}));return tt.tooltip=ze.tooltip||"",tt}),{icon:!0,label:!1})}if(this.togglesUpdated){this.togglesUpdated=!1;const me=null!==(s=null===(n=this.toggles)||void 0===n?void 0:n.filter(Oe=>Oe instanceof Ge.Z))&&void 0!==s?s:[];this.ui.inputBox.toggles=me}this.ui.ignoreFocusOut=this.ignoreFocusOut,this.ui.setEnabled(this.enabled),this.ui.setContextKey(this.contextKey);const X=this.validationMessage||this.noValidationMessage;this._lastValidationMessage!==X&&(this._lastValidationMessage=X,Jt.mc(this.ui.message),function bd(de,n,s){Jt.mc(n);const C=function _d(de){const n=[];let C,s=0;for(;C=Wo.exec(de);){C.index-s>0&&n.push(de.substring(s,C.index));const[,H,X,,me]=C;n.push(me?{label:H,href:X,title:me}:{label:H,href:X}),s=C.index+C[0].length}return s<de.length&&n.push(de.substring(s)),new Ga(n)}(de);let H=0;for(const X of C.nodes)if("string"==typeof X)n.append(...(0,da.T)(X));else{let me=X.title;!me&&X.href.startsWith("command:")?me=(0,si.NC)("executeCommand","Click to execute command '{0}'",X.href.substring(8)):me||(me=X.href);const Oe=Jt.$("a",{href:X.href,title:me,tabIndex:H++},X.label);Oe.style.textDecoration="underline";const ze=Xt=>{Jt.cl(Xt)&&Jt.zB.stop(Xt,!0),s.callback(X.href)},Qe=s.disposables.add(new Rs.Y(Oe,Jt.tw.CLICK)).event,tt=s.disposables.add(new Rs.Y(Oe,Jt.tw.KEY_DOWN)).event,_t=s.disposables.add(gn.ju.chain(tt)).filter(Xt=>{const Di=new rs.y(Xt);return Di.equals(10)||Di.equals(3)}).event;s.disposables.add(mr.o.addTarget(Oe));const jt=s.disposables.add(new Rs.Y(Oe,mr.t.Tap)).event;gn.ju.any(Qe,jt,_t)(ze,null,s.disposables),n.appendChild(Oe)}}(X,this.ui.message,{callback:me=>{this.ui.linkOpenerDelegate(me)},disposables:this.visibleDisposables})),this._lastSeverity!==this.severity&&(this._lastSeverity=this.severity,this.showMessageDecoration(this.severity))}getTitle(){return this.title&&this.step?`${this.title} (${this.getSteps()})`:this.title?this.title:this.step?this.getSteps():""}getDescription(){return this.description||""}getSteps(){return this.step&&this.totalSteps?(0,si.NC)("quickInput.steps","{0}/{1}",this.step,this.totalSteps):this.step?String(this.step):""}showMessageDecoration(n){if(this.ui.inputBox.showDecoration(n),n!==Ii.Z.Ignore){const s=this.ui.inputBox.stylesForType(n);this.ui.message.style.color=s.foreground?`${s.foreground}`:"",this.ui.message.style.backgroundColor=s.background?`${s.background}`:"",this.ui.message.style.border=s.border?`1px solid ${s.border}`:"",this.ui.message.style.marginBottom="-2px"}else this.ui.message.style.color="",this.ui.message.style.backgroundColor="",this.ui.message.style.border="",this.ui.message.style.marginBottom=""}dispose(){this.hide(),this.onDisposeEmitter.fire(),super.dispose()}}Ct.noPromptMessage=(0,si.NC)("inputModeEntry","Press 'Enter' to confirm your input or 'Escape' to cancel");class Vt extends Ct{constructor(){super(...arguments),this._value="",this.onDidChangeValueEmitter=this._register(new gn.Q5),this.onWillAcceptEmitter=this._register(new gn.Q5),this.onDidAcceptEmitter=this._register(new gn.Q5),this.onDidCustomEmitter=this._register(new gn.Q5),this._items=[],this.itemsUpdated=!1,this._canSelectMany=!1,this._canAcceptInBackground=!1,this._matchOnDescription=!1,this._matchOnDetail=!1,this._matchOnLabel=!0,this._matchOnLabelMode="fuzzy",this._sortByLabel=!0,this._autoFocusOnList=!0,this._keepScrollPosition=!1,this._itemActivation=Xo.jG.FIRST,this._activeItems=[],this.activeItemsUpdated=!1,this.activeItemsToConfirm=[],this.onDidChangeActiveEmitter=this._register(new gn.Q5),this._selectedItems=[],this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=[],this.onDidChangeSelectionEmitter=this._register(new gn.Q5),this.onDidTriggerItemButtonEmitter=this._register(new gn.Q5),this.onDidTriggerSeparatorButtonEmitter=this._register(new gn.Q5),this.valueSelectionUpdated=!0,this._ok="default",this._customButton=!1,this.filterValue=n=>n,this.onDidChangeValue=this.onDidChangeValueEmitter.event,this.onWillAccept=this.onWillAcceptEmitter.event,this.onDidAccept=this.onDidAcceptEmitter.event,this.onDidChangeActive=this.onDidChangeActiveEmitter.event,this.onDidChangeSelection=this.onDidChangeSelectionEmitter.event,this.onDidTriggerItemButton=this.onDidTriggerItemButtonEmitter.event,this.onDidTriggerSeparatorButton=this.onDidTriggerSeparatorButtonEmitter.event}get quickNavigate(){return this._quickNavigate}set quickNavigate(n){this._quickNavigate=n,this.update()}get value(){return this._value}set value(n){this.doSetValue(n)}doSetValue(n,s){this._value!==n&&(this._value=n,s||this.update(),this.visible&&this.ui.list.filter(this.filterValue(this._value))&&this.trySelectFirst(),this.onDidChangeValueEmitter.fire(this._value))}set ariaLabel(n){this._ariaLabel=n,this.update()}get ariaLabel(){return this._ariaLabel}get placeholder(){return this._placeholder}set placeholder(n){this._placeholder=n,this.update()}get items(){return this._items}get scrollTop(){return this.ui.list.scrollTop}set scrollTop(n){this.ui.list.scrollTop=n}set items(n){this._items=n,this.itemsUpdated=!0,this.update()}get canSelectMany(){return this._canSelectMany}set canSelectMany(n){this._canSelectMany=n,this.update()}get canAcceptInBackground(){return this._canAcceptInBackground}set canAcceptInBackground(n){this._canAcceptInBackground=n}get matchOnDescription(){return this._matchOnDescription}set matchOnDescription(n){this._matchOnDescription=n,this.update()}get matchOnDetail(){return this._matchOnDetail}set matchOnDetail(n){this._matchOnDetail=n,this.update()}get matchOnLabel(){return this._matchOnLabel}set matchOnLabel(n){this._matchOnLabel=n,this.update()}get matchOnLabelMode(){return this._matchOnLabelMode}set matchOnLabelMode(n){this._matchOnLabelMode=n,this.update()}get sortByLabel(){return this._sortByLabel}set sortByLabel(n){this._sortByLabel=n,this.update()}get autoFocusOnList(){return this._autoFocusOnList}set autoFocusOnList(n){this._autoFocusOnList=n,this.update()}get keepScrollPosition(){return this._keepScrollPosition}set keepScrollPosition(n){this._keepScrollPosition=n}get itemActivation(){return this._itemActivation}set itemActivation(n){this._itemActivation=n}get activeItems(){return this._activeItems}set activeItems(n){this._activeItems=n,this.activeItemsUpdated=!0,this.update()}get selectedItems(){return this._selectedItems}set selectedItems(n){this._selectedItems=n,this.selectedItemsUpdated=!0,this.update()}get keyMods(){return this._quickNavigate?Xo.X5:this.ui.keyMods}set valueSelection(n){this._valueSelection=n,this.valueSelectionUpdated=!0,this.update()}get customButton(){return this._customButton}set customButton(n){this._customButton=n,this.update()}get customLabel(){return this._customButtonLabel}set customLabel(n){this._customButtonLabel=n,this.update()}get customHover(){return this._customButtonHover}set customHover(n){this._customButtonHover=n,this.update()}get ok(){return this._ok}set ok(n){this._ok=n,this.update()}get hideInput(){return!!this._hideInput}set hideInput(n){this._hideInput=n,this.update()}trySelectFirst(){this.autoFocusOnList&&(this.canSelectMany||this.ui.list.focus(o.First))}show(){this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange(n=>{this.doSetValue(n,!0)})),this.visibleDisposables.add(this.ui.inputBox.onMouseDown(n=>{this.autoFocusOnList||this.ui.list.clearFocus()})),this.visibleDisposables.add((this._hideInput?this.ui.list:this.ui.inputBox).onKeyDown(n=>{switch(n.keyCode){case 18:this.ui.list.focus(o.Next),this.canSelectMany&&this.ui.list.domFocus(),Jt.zB.stop(n,!0);break;case 16:this.ui.list.getFocusedElements().length?this.ui.list.focus(o.Previous):this.ui.list.focus(o.Last),this.canSelectMany&&this.ui.list.domFocus(),Jt.zB.stop(n,!0);break;case 12:this.ui.list.focus(o.NextPage),this.canSelectMany&&this.ui.list.domFocus(),Jt.zB.stop(n,!0);break;case 11:this.ui.list.focus(o.PreviousPage),this.canSelectMany&&this.ui.list.domFocus(),Jt.zB.stop(n,!0);break;case 17:if(!this._canAcceptInBackground||!this.ui.inputBox.isSelectionAtEnd())return;this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!0));break;case 14:(n.ctrlKey||n.metaKey)&&!n.shiftKey&&!n.altKey&&(this.ui.list.focus(o.First),Jt.zB.stop(n,!0));break;case 13:(n.ctrlKey||n.metaKey)&&!n.shiftKey&&!n.altKey&&(this.ui.list.focus(o.Last),Jt.zB.stop(n,!0))}})),this.visibleDisposables.add(this.ui.onDidAccept(()=>{this.canSelectMany?this.ui.list.getCheckedElements().length||(this._selectedItems=[],this.onDidChangeSelectionEmitter.fire(this.selectedItems)):this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems)),this.handleAccept(!1)})),this.visibleDisposables.add(this.ui.onDidCustom(()=>{this.onDidCustomEmitter.fire()})),this.visibleDisposables.add(this.ui.list.onDidChangeFocus(n=>{this.activeItemsUpdated||this.activeItemsToConfirm!==this._activeItems&&(0,hn.fS)(n,this._activeItems,(s,C)=>s===C)||(this._activeItems=n,this.onDidChangeActiveEmitter.fire(n))})),this.visibleDisposables.add(this.ui.list.onDidChangeSelection(({items:n,event:s})=>{this.canSelectMany?n.length&&this.ui.list.setSelectedElements([]):this.selectedItemsToConfirm!==this._selectedItems&&(0,hn.fS)(n,this._selectedItems,(C,H)=>C===H)||(this._selectedItems=n,this.onDidChangeSelectionEmitter.fire(n),n.length&&this.handleAccept(s instanceof MouseEvent&&1===s.button))})),this.visibleDisposables.add(this.ui.list.onChangedCheckedElements(n=>{this.canSelectMany&&(this.selectedItemsToConfirm!==this._selectedItems&&(0,hn.fS)(n,this._selectedItems,(s,C)=>s===C)||(this._selectedItems=n,this.onDidChangeSelectionEmitter.fire(n)))})),this.visibleDisposables.add(this.ui.list.onButtonTriggered(n=>this.onDidTriggerItemButtonEmitter.fire(n))),this.visibleDisposables.add(this.ui.list.onSeparatorButtonTriggered(n=>this.onDidTriggerSeparatorButtonEmitter.fire(n))),this.visibleDisposables.add(this.registerQuickNavigation()),this.valueSelectionUpdated=!0),super.show()}handleAccept(n){let s=!1;this.onWillAcceptEmitter.fire({veto:()=>s=!0}),s||this.onDidAcceptEmitter.fire({inBackground:n})}registerQuickNavigation(){return Jt.nm(this.ui.container,Jt.tw.KEY_UP,n=>{if(this.canSelectMany||!this._quickNavigate)return;const s=new rs.y(n),C=s.keyCode;this._quickNavigate.keybindings.some(me=>{const Oe=me.getChords();return!(Oe.length>1||(Oe[0].shiftKey&&4===C?s.ctrlKey||s.altKey||s.metaKey:!(Oe[0].altKey&&6===C||Oe[0].ctrlKey&&5===C||Oe[0].metaKey&&57===C)))})&&(this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!1)),this._quickNavigate=void 0)})}update(){if(!this.visible)return;const n=this.keepScrollPosition?this.scrollTop:0,s=!!this.description,C={title:!!this.title||!!this.step||!!this.buttons.length,description:s,checkAll:this.canSelectMany&&!this._hideCheckAll,checkBox:this.canSelectMany,inputBox:!this._hideInput,progressBar:!this._hideInput||s,visibleCount:!0,count:this.canSelectMany&&!this._hideCountBadge,ok:"default"===this.ok?this.canSelectMany:this.ok,list:!0,message:!!this.validationMessage,customButton:this.customButton};this.ui.setVisibilities(C),super.update(),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||"");let H=this.ariaLabel;if(!H&&C.inputBox&&(H=this.placeholder||Vt.DEFAULT_ARIA_LABEL,this.title&&(H+=` - ${this.title}`)),this.ui.list.ariaLabel!==H&&(this.ui.list.ariaLabel=H??null),this.ui.list.matchOnDescription=this.matchOnDescription,this.ui.list.matchOnDetail=this.matchOnDetail,this.ui.list.matchOnLabel=this.matchOnLabel,this.ui.list.matchOnLabelMode=this.matchOnLabelMode,this.ui.list.sortByLabel=this.sortByLabel,this.itemsUpdated)switch(this.itemsUpdated=!1,this.ui.list.setElements(this.items),this.ui.list.filter(this.filterValue(this.ui.inputBox.value)),this.ui.checkAll.checked=this.ui.list.getAllVisibleChecked(),this.ui.visibleCount.setCount(this.ui.list.getVisibleCount()),this.ui.count.setCount(this.ui.list.getCheckedCount()),this._itemActivation){case Xo.jG.NONE:this._itemActivation=Xo.jG.FIRST;break;case Xo.jG.SECOND:this.ui.list.focus(o.Second),this._itemActivation=Xo.jG.FIRST;break;case Xo.jG.LAST:this.ui.list.focus(o.Last),this._itemActivation=Xo.jG.FIRST;break;default:this.trySelectFirst()}this.ui.container.classList.contains("show-checkboxes")!==!!this.canSelectMany&&(this.canSelectMany?this.ui.list.clearFocus():this.trySelectFirst()),this.activeItemsUpdated&&(this.activeItemsUpdated=!1,this.activeItemsToConfirm=this._activeItems,this.ui.list.setFocusedElements(this.activeItems),this.activeItemsToConfirm===this._activeItems&&(this.activeItemsToConfirm=null)),this.selectedItemsUpdated&&(this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=this._selectedItems,this.canSelectMany?this.ui.list.setCheckedElements(this.selectedItems):this.ui.list.setSelectedElements(this.selectedItems),this.selectedItemsToConfirm===this._selectedItems&&(this.selectedItemsToConfirm=null)),this.ui.customButton.label=this.customLabel||"",this.ui.customButton.element.title=this.customHover||"",C.inputBox||(this.ui.list.domFocus(),this.canSelectMany&&this.ui.list.focus(o.First)),this.keepScrollPosition&&(this.scrollTop=n)}}Vt.DEFAULT_ARIA_LABEL=(0,si.NC)("quickInputBox.ariaLabel","Type to narrow down results.");class Ht extends Ct{constructor(){super(...arguments),this._value="",this.valueSelectionUpdated=!0,this._password=!1,this.onDidValueChangeEmitter=this._register(new gn.Q5),this.onDidAcceptEmitter=this._register(new gn.Q5),this.onDidChangeValue=this.onDidValueChangeEmitter.event,this.onDidAccept=this.onDidAcceptEmitter.event}get value(){return this._value}set value(n){this._value=n||"",this.update()}get placeholder(){return this._placeholder}set placeholder(n){this._placeholder=n,this.update()}get password(){return this._password}set password(n){this._password=n,this.update()}show(){this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange(n=>{n!==this.value&&(this._value=n,this.onDidValueChangeEmitter.fire(n))})),this.visibleDisposables.add(this.ui.onDidAccept(()=>this.onDidAcceptEmitter.fire())),this.valueSelectionUpdated=!0),super.show()}update(){this.visible&&(this.ui.container.classList.remove("hidden-input"),this.ui.setVisibilities({title:!!this.title||!!this.step||!!this.buttons.length,description:!!this.description||!!this.step,inputBox:!0,message:!0,progressBar:!0}),super.update(),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||""),this.ui.inputBox.password!==this.password&&(this.ui.inputBox.password=this.password))}}const ei=Jt.$;let pi=(()=>{class de extends Ee.JT{constructor(s,C){super(),this.options=s,this.themeService=C,this.enabled=!0,this.onDidAcceptEmitter=this._register(new gn.Q5),this.onDidCustomEmitter=this._register(new gn.Q5),this.onDidTriggerButtonEmitter=this._register(new gn.Q5),this.keyMods={ctrlCmd:!1,alt:!1},this.controller=null,this.onShowEmitter=this._register(new gn.Q5),this.onShow=this.onShowEmitter.event,this.onHideEmitter=this._register(new gn.Q5),this.onHide=this.onHideEmitter.event,this.idPrefix=s.idPrefix,this.parentElement=s.container,this.styles=s.styles,this.registerKeyModsListeners()}registerKeyModsListeners(){const s=C=>{this.keyMods.ctrlCmd=C.ctrlKey||C.metaKey,this.keyMods.alt=C.altKey};this._register(Jt.nm(window,Jt.tw.KEY_DOWN,s,!0)),this._register(Jt.nm(window,Jt.tw.KEY_UP,s,!0)),this._register(Jt.nm(window,Jt.tw.MOUSE_DOWN,s,!0))}getUI(){if(this.ui)return this.ui;const s=Jt.R3(this.parentElement,ei(".quick-input-widget.show-file-icons"));s.tabIndex=-1,s.style.display="none";const C=Jt.dS(s),H=Jt.R3(s,ei(".quick-input-titlebar")),X=this.options.hoverDelegate?{hoverDelegate:this.options.hoverDelegate}:void 0,me=this._register(new Ws.o(H,X));me.domNode.classList.add("quick-input-left-action-bar");const Oe=Jt.R3(H,ei(".quick-input-title")),ze=this._register(new Ws.o(H,X));ze.domNode.classList.add("quick-input-right-action-bar");const Qe=Jt.R3(s,ei(".quick-input-header")),tt=Jt.R3(Qe,ei("input.quick-input-check-all"));tt.type="checkbox",tt.setAttribute("aria-label",(0,si.NC)("quickInput.checkAll","Toggle all checkboxes")),this._register(Jt.mu(tt,Jt.tw.CHANGE,Bn=>{Lo.setAllVisibleChecked(tt.checked)})),this._register(Jt.nm(tt,Jt.tw.CLICK,Bn=>{(Bn.x||Bn.y)&&Di.setFocus()}));const _t=Jt.R3(Qe,ei(".quick-input-description")),jt=Jt.R3(Qe,ei(".quick-input-and-message")),Xt=Jt.R3(jt,ei(".quick-input-filter")),Di=this._register(new gd(Xt,this.styles.inputBox,this.styles.toggle));Di.setAttribute("aria-describedby",`${this.idPrefix}message`);const xi=Jt.R3(Xt,ei(".quick-input-visible-count"));xi.setAttribute("aria-live","polite"),xi.setAttribute("aria-atomic","true");const Oi=new na.Z(xi,{countFormat:(0,si.NC)({key:"quickInput.visibleCount",comment:["This tells the user how many items are shown in a list of items to select from. The items can be anything. Currently not visible, but read by screen readers."]},"{0} Results")},this.styles.countBadge),Ui=Jt.R3(Xt,ei(".quick-input-count"));Ui.setAttribute("aria-live","polite");const an=new na.Z(Ui,{countFormat:(0,si.NC)({key:"quickInput.countSelected",comment:["This tells the user how many items are selected in a list of items to select from. The items can be anything."]},"{0} Selected")},this.styles.countBadge),pn=Jt.R3(Qe,ei(".quick-input-action")),Ri=new El.z(pn,this.styles.button);Ri.label=(0,si.NC)("ok","OK"),this._register(Ri.onDidClick(Bn=>{this.onDidAcceptEmitter.fire()}));const Sn=Jt.R3(Qe,ei(".quick-input-action")),Yn=new El.z(Sn,this.styles.button);Yn.label=(0,si.NC)("custom","Custom"),this._register(Yn.onDidClick(Bn=>{this.onDidCustomEmitter.fire()}));const zn=Jt.R3(jt,ei(`#${this.idPrefix}message.quick-input-message`)),to=new cd(s,this.styles.progressBar);to.getContainer().classList.add("quick-input-progress");const Hn=Jt.R3(s,ei(".quick-input-html-widget"));Hn.tabIndex=-1;const oo=Jt.R3(s,ei(".quick-input-description")),Jn=this.idPrefix+"list",Lo=this._register(new b(s,Jn,this.options,this.themeService));Di.setAttribute("aria-controls",Jn),this._register(Lo.onDidChangeFocus(()=>{var Bn;Di.setAttribute("aria-activedescendant",null!==(Bn=Lo.getActiveDescendant())&&void 0!==Bn?Bn:"")})),this._register(Lo.onChangedAllVisibleChecked(Bn=>{tt.checked=Bn})),this._register(Lo.onChangedVisibleCount(Bn=>{Oi.setCount(Bn)})),this._register(Lo.onChangedCheckedCount(Bn=>{an.setCount(Bn)})),this._register(Lo.onLeave(()=>{setTimeout(()=>{Di.setFocus(),this.controller instanceof Vt&&this.controller.canSelectMany&&Lo.clearFocus()},0)}));const ko=Jt.go(s);return this._register(ko),this._register(Jt.nm(s,Jt.tw.FOCUS,Bn=>{Jt.jg(Bn.relatedTarget,s)||(this.previousFocusElement=Bn.relatedTarget instanceof HTMLElement?Bn.relatedTarget:void 0)},!0)),this._register(ko.onDidBlur(()=>{!this.getUI().ignoreFocusOut&&!this.options.ignoreFocusOut()&&this.hide(Xo.Jq.Blur),this.previousFocusElement=void 0})),this._register(Jt.nm(s,Jt.tw.FOCUS,Bn=>{Di.setFocus()})),this._register(Jt.mu(s,Jt.tw.KEY_DOWN,Bn=>{if(!Jt.jg(Bn.target,Hn))switch(Bn.keyCode){case 3:Jt.zB.stop(Bn,!0),this.enabled&&this.onDidAcceptEmitter.fire();break;case 9:Jt.zB.stop(Bn,!0),this.hide(Xo.Jq.Gesture);break;case 2:if(!Bn.altKey&&!Bn.ctrlKey&&!Bn.metaKey){const yo=[".quick-input-list .monaco-action-bar .always-visible",".quick-input-list-entry:hover .monaco-action-bar",".monaco-list-row.focused .monaco-action-bar"];if(s.classList.contains("show-checkboxes")?yo.push("input"):yo.push("input[type=text]"),this.getUI().list.isDisplayed()&&yo.push(".monaco-list"),this.getUI().message&&yo.push(".quick-input-message a"),this.getUI().widget){if(Jt.jg(Bn.target,this.getUI().widget))break;yo.push(".quick-input-html-widget")}const Ko=s.querySelectorAll(yo.join(", "));Bn.shiftKey&&Bn.target===Ko[0]?(Jt.zB.stop(Bn,!0),Lo.clearFocus()):!Bn.shiftKey&&Jt.jg(Bn.target,Ko[Ko.length-1])&&(Jt.zB.stop(Bn,!0),Ko[0].focus())}break;case 10:Bn.ctrlKey&&(Jt.zB.stop(Bn,!0),this.getUI().list.toggleHover())}})),this.ui={container:s,styleSheet:C,leftActionBar:me,titleBar:H,title:Oe,description1:oo,description2:_t,widget:Hn,rightActionBar:ze,checkAll:tt,inputContainer:jt,filterContainer:Xt,inputBox:Di,visibleCountContainer:xi,visibleCount:Oi,countContainer:Ui,count:an,okContainer:pn,ok:Ri,message:zn,customButtonContainer:Sn,customButton:Yn,list:Lo,progressBar:to,onDidAccept:this.onDidAcceptEmitter.event,onDidCustom:this.onDidCustomEmitter.event,onDidTriggerButton:this.onDidTriggerButtonEmitter.event,ignoreFocusOut:!1,keyMods:this.keyMods,show:Bn=>this.show(Bn),hide:()=>this.hide(),setVisibilities:Bn=>this.setVisibilities(Bn),setEnabled:Bn=>this.setEnabled(Bn),setContextKey:Bn=>this.options.setContextKey(Bn),linkOpenerDelegate:Bn=>this.options.linkOpenerDelegate(Bn)},this.updateStyles(),this.ui}pick(s,C={},H=Ns.T.None){return new Promise((X,me)=>{let Oe=_t=>{var jt;Oe=X,null===(jt=C.onKeyMods)||void 0===jt||jt.call(C,ze.keyMods),X(_t)};if(H.isCancellationRequested)return void Oe(void 0);const ze=this.createQuickPick();let Qe;const tt=[ze,ze.onDidAccept(()=>{if(ze.canSelectMany)Oe(ze.selectedItems.slice()),ze.hide();else{const _t=ze.activeItems[0];_t&&(Oe(_t),ze.hide())}}),ze.onDidChangeActive(_t=>{const jt=_t[0];jt&&C.onDidFocus&&C.onDidFocus(jt)}),ze.onDidChangeSelection(_t=>{if(!ze.canSelectMany){const jt=_t[0];jt&&(Oe(jt),ze.hide())}}),ze.onDidTriggerItemButton(_t=>C.onDidTriggerItemButton&&C.onDidTriggerItemButton(Object.assign(Object.assign({},_t),{removeItem:()=>{const jt=ze.items.indexOf(_t.item);if(-1!==jt){const Xt=ze.items.slice(),Di=Xt.splice(jt,1),xi=ze.activeItems.filter(Ui=>Ui!==Di[0]),Oi=ze.keepScrollPosition;ze.keepScrollPosition=!0,ze.items=Xt,xi&&(ze.activeItems=xi),ze.keepScrollPosition=Oi}}}))),ze.onDidTriggerSeparatorButton(_t=>{var jt;return null===(jt=C.onDidTriggerSeparatorButton)||void 0===jt?void 0:jt.call(C,_t)}),ze.onDidChangeValue(_t=>{Qe&&!_t&&(1!==ze.activeItems.length||ze.activeItems[0]!==Qe)&&(ze.activeItems=[Qe])}),H.onCancellationRequested(()=>{ze.hide()}),ze.onDidHide(()=>{(0,Ee.B9)(tt),Oe(void 0)})];ze.title=C.title,ze.canSelectMany=!!C.canPickMany,ze.placeholder=C.placeHolder,ze.ignoreFocusOut=!!C.ignoreFocusLost,ze.matchOnDescription=!!C.matchOnDescription,ze.matchOnDetail=!!C.matchOnDetail,ze.matchOnLabel=void 0===C.matchOnLabel||C.matchOnLabel,ze.autoFocusOnList=void 0===C.autoFocusOnList||C.autoFocusOnList,ze.quickNavigate=C.quickNavigate,ze.hideInput=!!C.hideInput,ze.contextKey=C.contextKey,ze.busy=!0,Promise.all([s,C.activeItem]).then(([_t,jt])=>{Qe=jt,ze.busy=!1,ze.items=_t,ze.canSelectMany&&(ze.selectedItems=_t.filter(Xt=>"separator"!==Xt.type&&Xt.picked)),Qe&&(ze.activeItems=[Qe])}),ze.show(),Promise.resolve(s).then(void 0,_t=>{me(_t),ze.hide()})})}createQuickPick(){const s=this.getUI();return new Vt(s)}createInputBox(){const s=this.getUI();return new Ht(s)}show(s){const C=this.getUI();this.onShowEmitter.fire();const H=this.controller;this.controller=s,H?.didHide(),this.setEnabled(!0),C.leftActionBar.clear(),C.title.textContent="",C.description1.textContent="",C.description2.textContent="",Jt.mc(C.widget),C.rightActionBar.clear(),C.checkAll.checked=!1,C.inputBox.placeholder="",C.inputBox.password=!1,C.inputBox.showDecoration(Ii.Z.Ignore),C.visibleCount.setCount(0),C.count.setCount(0),Jt.mc(C.message),C.progressBar.stop(),C.list.setElements([]),C.list.matchOnDescription=!1,C.list.matchOnDetail=!1,C.list.matchOnLabel=!0,C.list.sortByLabel=!0,C.ignoreFocusOut=!1,C.inputBox.toggles=void 0;const X=this.options.backKeybindingLabel();vt.tooltip=X?(0,si.NC)("quickInput.backWithKeybinding","Back ({0})",X):(0,si.NC)("quickInput.back","Back"),C.container.style.display="",this.updateLayout(),C.inputBox.setFocus()}setVisibilities(s){const C=this.getUI();C.title.style.display=s.title?"":"none",C.description1.style.display=s.description&&(s.inputBox||s.checkAll)?"":"none",C.description2.style.display=!s.description||s.inputBox||s.checkAll?"none":"",C.checkAll.style.display=s.checkAll?"":"none",C.inputContainer.style.display=s.inputBox?"":"none",C.filterContainer.style.display=s.inputBox?"":"none",C.visibleCountContainer.style.display=s.visibleCount?"":"none",C.countContainer.style.display=s.count?"":"none",C.okContainer.style.display=s.ok?"":"none",C.customButtonContainer.style.display=s.customButton?"":"none",C.message.style.display=s.message?"":"none",C.progressBar.getContainer().style.display=s.progressBar?"":"none",C.list.display(!!s.list),C.container.classList.toggle("show-checkboxes",!!s.checkBox),C.container.classList.toggle("hidden-input",!s.inputBox&&!s.description),this.updateLayout()}setEnabled(s){if(s!==this.enabled){this.enabled=s;for(const C of this.getUI().leftActionBar.viewItems)C.action.enabled=s;for(const C of this.getUI().rightActionBar.viewItems)C.action.enabled=s;this.getUI().checkAll.disabled=!s,this.getUI().inputBox.enabled=s,this.getUI().ok.enabled=s,this.getUI().list.enabled=s}}hide(s){var C,H,X;const me=this.controller;if(!me)return;const Oe=!Jt.jg(document.activeElement,null!==(H=null===(C=this.ui)||void 0===C?void 0:C.container)&&void 0!==H?H:null);if(this.controller=null,this.onHideEmitter.fire(),this.getUI().container.style.display="none",!Oe){let ze=this.previousFocusElement;for(;ze&&!ze.offsetParent;)ze=null!==(X=ze.parentElement)&&void 0!==X?X:void 0;ze?.offsetParent?(ze.focus(),this.previousFocusElement=void 0):this.options.returnFocus()}me.didHide(s)}layout(s,C){this.dimension=s,this.titleBarOffset=C,this.updateLayout()}updateLayout(){if(this.ui&&this.isDisplayed()){this.ui.container.style.top=`${this.titleBarOffset}px`;const s=this.ui.container.style,C=Math.min(.62*this.dimension.width,de.MAX_WIDTH);s.width=C+"px",s.marginLeft="-"+C/2+"px",this.ui.inputBox.layout(),this.ui.list.layout(this.dimension&&.4*this.dimension.height)}}applyStyles(s){this.styles=s,this.updateStyles()}updateStyles(){if(this.ui){const{quickInputTitleBackground:s,quickInputBackground:C,quickInputForeground:H,widgetBorder:X,widgetShadow:me}=this.styles.widget;this.ui.titleBar.style.backgroundColor=s??"",this.ui.container.style.backgroundColor=C??"",this.ui.container.style.color=H??"",this.ui.container.style.border=X?`1px solid ${X}`:"",this.ui.container.style.boxShadow=me?`0 0 8px 2px ${me}`:"",this.ui.list.style(this.styles.list);const Oe=[];this.styles.pickerGroup.pickerGroupBorder&&Oe.push(`.quick-input-list .quick-input-list-entry { border-top-color:  ${this.styles.pickerGroup.pickerGroupBorder}; }`),this.styles.pickerGroup.pickerGroupForeground&&Oe.push(`.quick-input-list .quick-input-list-separator { color:  ${this.styles.pickerGroup.pickerGroupForeground}; }`),this.styles.pickerGroup.pickerGroupForeground&&Oe.push(".quick-input-list .quick-input-list-separator-as-item { color: var(--vscode-descriptionForeground); }"),(this.styles.keybindingLabel.keybindingLabelBackground||this.styles.keybindingLabel.keybindingLabelBorder||this.styles.keybindingLabel.keybindingLabelBottomBorder||this.styles.keybindingLabel.keybindingLabelShadow||this.styles.keybindingLabel.keybindingLabelForeground)&&(Oe.push(".quick-input-list .monaco-keybinding > .monaco-keybinding-key {"),this.styles.keybindingLabel.keybindingLabelBackground&&Oe.push(`background-color: ${this.styles.keybindingLabel.keybindingLabelBackground};`),this.styles.keybindingLabel.keybindingLabelBorder&&Oe.push(`border-color: ${this.styles.keybindingLabel.keybindingLabelBorder};`),this.styles.keybindingLabel.keybindingLabelBottomBorder&&Oe.push(`border-bottom-color: ${this.styles.keybindingLabel.keybindingLabelBottomBorder};`),this.styles.keybindingLabel.keybindingLabelShadow&&Oe.push(`box-shadow: inset 0 -1px 0 ${this.styles.keybindingLabel.keybindingLabelShadow};`),this.styles.keybindingLabel.keybindingLabelForeground&&Oe.push(`color: ${this.styles.keybindingLabel.keybindingLabelForeground};`),Oe.push("}"));const ze=Oe.join("\n");ze!==this.ui.styleSheet.textContent&&(this.ui.styleSheet.textContent=ze)}}isDisplayed(){return this.ui&&"none"!==this.ui.container.style.display}}return de.MAX_WIDTH=600,de})();var Ni=function(de,n){return function(s,C){n(s,C,de)}};let Pi=class extends Qn.bB{get controller(){return this._controller||(this._controller=this._register(this.createController())),this._controller}get hasController(){return!!this._controller}get quickAccess(){return this._quickAccess||(this._quickAccess=this._register(this.instantiationService.createInstance(Vr))),this._quickAccess}constructor(n,s,C,H){super(C),this.instantiationService=n,this.contextKeyService=s,this.layoutService=H,this._onShow=this._register(new gn.Q5),this._onHide=this._register(new gn.Q5),this.contexts=new Map}createController(n=this.layoutService,s){const C={idPrefix:"quickInput_",container:n.container,ignoreFocusOut:()=>!1,backKeybindingLabel:()=>{},setContextKey:X=>this.setContextKey(X),linkOpenerDelegate:X=>{this.instantiationService.invokeFunction(me=>{me.get(Qs.v4).open(X,{allowCommands:!0,fromUserGesture:!0})})},returnFocus:()=>n.focus(),createList:(X,me,Oe,ze,Qe)=>this.instantiationService.createInstance(Ua.ev,X,me,Oe,ze,Qe),styles:this.computeStyles()},H=this._register(new pi(Object.assign(Object.assign({},C),s),this.themeService));return H.layout(n.dimension,n.offset.quickPickTop),this._register(n.onDidLayout(X=>H.layout(X,n.offset.quickPickTop))),this._register(H.onShow(()=>{this.resetContextKeys(),this._onShow.fire()})),this._register(H.onHide(()=>{this.resetContextKeys(),this._onHide.fire()})),H}setContextKey(n){let s;n&&(s=this.contexts.get(n),s||(s=new Ke.uy(n,!1).bindTo(this.contextKeyService),this.contexts.set(n,s))),(!s||!s.get())&&(this.resetContextKeys(),s?.set(!0))}resetContextKeys(){this.contexts.forEach(n=>{n.get()&&n.reset()})}pick(n,s={},C=Ns.T.None){return this.controller.pick(n,s,C)}createQuickPick(){return this.controller.createQuickPick()}createInputBox(){return this.controller.createInputBox()}updateStyles(){this.hasController&&this.controller.applyStyles(this.computeStyles())}computeStyles(){return{widget:{quickInputBackground:(0,mo.n_1)(mo.zKr),quickInputForeground:(0,mo.n_1)(mo.tZ6),quickInputTitleBackground:(0,mo.n_1)(mo.loF),widgetBorder:(0,mo.n_1)(mo.A42),widgetShadow:(0,mo.n_1)(mo.rh)},inputBox:Vs.Hc,toggle:Vs.pl,countBadge:Vs.ku,button:Vs.wG,progressBar:Vs.b5,keybindingLabel:Vs.eO,list:(0,Vs.TU)({listBackground:mo.zKr,listFocusBackground:mo.Vqd,listFocusForeground:mo.NPS,listInactiveFocusForeground:mo.NPS,listInactiveSelectionIconForeground:mo.cbQ,listInactiveFocusBackground:mo.Vqd,listFocusOutline:mo.xL1,listInactiveFocusOutline:mo.xL1}),pickerGroup:{pickerGroupBorder:(0,mo.n_1)(mo.opG),pickerGroupForeground:(0,mo.n_1)(mo.kJk)}}}};Pi=function(de,n,s,C){var me,H=arguments.length,X=H<3?n:null===C?C=Object.getOwnPropertyDescriptor(n,s):C;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)X=Reflect.decorate(de,n,s,C);else for(var Oe=de.length-1;Oe>=0;Oe--)(me=de[Oe])&&(X=(H<3?me(X):H>3?me(n,s,X):me(n,s))||X);return H>3&&X&&Object.defineProperty(n,s,X),X}([Ni(0,qt.TG),Ni(1,Ke.i6),Ni(2,Qn.XE),Ni(3,oi)],Pi);var Ji=function(de,n,s,C){var me,H=arguments.length,X=H<3?n:null===C?C=Object.getOwnPropertyDescriptor(n,s):C;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)X=Reflect.decorate(de,n,s,C);else for(var Oe=de.length-1;Oe>=0;Oe--)(me=de[Oe])&&(X=(H<3?me(X):H>3?me(n,s,X):me(n,s))||X);return H>3&&X&&Object.defineProperty(n,s,X),X},un=function(de,n){return function(s,C){n(s,C,de)}};let En=class extends Pi{constructor(n,s,C,H,X){super(s,C,H,new fi(n.getContainerDomNode(),X)),this.host=void 0;const me=Tn.get(n);if(me){const Oe=me.widget;this.host={_serviceBrand:void 0,get hasContainer(){return!0},get container(){return Oe.getDomNode()},get dimension(){return n.getLayoutInfo()},get onDidLayout(){return n.onDidLayoutChange},focus:()=>n.focus(),offset:{top:0,quickPickTop:0}}}else this.host=void 0}createController(){return super.createController(this.host)}};En=Ji([un(1,qt.TG),un(2,Ke.i6),un(3,Qn.XE),un(4,yt.$)],En);let mn=class{get activeService(){const n=this.codeEditorService.getFocusedCodeEditor();if(!n)throw new Error("Quick input service needs a focused editor to work.");let s=this.mapEditorToService.get(n);if(!s){const C=s=this.instantiationService.createInstance(En,n);this.mapEditorToService.set(n,s),(0,qs.I)(n.onDidDispose)(()=>{C.dispose(),this.mapEditorToService.delete(n)})}return s}get quickAccess(){return this.activeService.quickAccess}constructor(n,s){this.instantiationService=n,this.codeEditorService=s,this.mapEditorToService=new Map}pick(n,s={},C=Ns.T.None){return this.activeService.pick(n,s,C)}createQuickPick(){return this.activeService.createQuickPick()}createInputBox(){return this.activeService.createInputBox()}};mn=Ji([un(0,qt.TG),un(1,yt.$)],mn);let Tn=(()=>{class de{static get(s){return s.getContribution(de.ID)}constructor(s){this.editor=s,this.widget=new Mn(this.editor)}dispose(){this.widget.dispose()}}return de.ID="editor.controller.quickInput",de})(),Mn=(()=>{class de{constructor(s){this.codeEditor=s,this.domNode=document.createElement("div"),this.codeEditor.addOverlayWidget(this)}getId(){return de.ID}getDomNode(){return this.domNode}getPosition(){return{preference:2}}dispose(){this.codeEditor.removeOverlayWidget(this)}}return de.ID="editor.contrib.quickInputWidget",de})();(0,Ha._K)(Tn.ID,Tn,4);var dn=e(70141),In=e(2265),Vn=e(74875),Zn=function(de,n){return function(s,C){n(s,C,de)}};let uo=class extends Ee.JT{constructor(n,s,C){super(),this._contextKeyService=n,this._layoutService=s,this._configurationService=C,this._accessibilitySupport=0,this._onDidChangeScreenReaderOptimized=new gn.Q5,this._onDidChangeReducedMotion=new gn.Q5,this._accessibilityModeEnabledContext=Vn.U.bindTo(this._contextKeyService);const H=()=>this._accessibilityModeEnabledContext.set(this.isScreenReaderOptimized());this._register(this._configurationService.onDidChangeConfiguration(me=>{me.affectsConfiguration("editor.accessibilitySupport")&&(H(),this._onDidChangeScreenReaderOptimized.fire()),me.affectsConfiguration("workbench.reduceMotion")&&(this._configMotionReduced=this._configurationService.getValue("workbench.reduceMotion"),this._onDidChangeReducedMotion.fire())})),H(),this._register(this.onDidChangeScreenReaderOptimized(()=>H()));const X=window.matchMedia("(prefers-reduced-motion: reduce)");this._systemMotionReduced=X.matches,this._configMotionReduced=this._configurationService.getValue("workbench.reduceMotion"),this.initReducedMotionListeners(X)}initReducedMotionListeners(n){if(!this._layoutService.hasContainer)return;this._register((0,Jt.nm)(n,"change",()=>{this._systemMotionReduced=n.matches,"auto"===this._configMotionReduced&&this._onDidChangeReducedMotion.fire()}));const s=()=>{const C=this.isMotionReduced();this._layoutService.container.classList.toggle("reduce-motion",C),this._layoutService.container.classList.toggle("enable-motion",!C)};s(),this._register(this.onDidChangeReducedMotion(()=>s()))}get onDidChangeScreenReaderOptimized(){return this._onDidChangeScreenReaderOptimized.event}isScreenReaderOptimized(){const n=this._configurationService.getValue("editor.accessibilitySupport");return"on"===n||"auto"===n&&2===this._accessibilitySupport}get onDidChangeReducedMotion(){return this._onDidChangeReducedMotion.event}isMotionReduced(){const n=this._configMotionReduced;return"on"===n||"auto"===n&&this._systemMotionReduced}getAccessibilitySupport(){return this._accessibilitySupport}};uo=function(de,n,s,C){var me,H=arguments.length,X=H<3?n:null===C?C=Object.getOwnPropertyDescriptor(n,s):C;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)X=Reflect.decorate(de,n,s,C);else for(var Oe=de.length-1;Oe>=0;Oe--)(me=de[Oe])&&(X=(H<3?me(X):H>3?me(n,s,X):me(n,s))||X);return H>3&&X&&Object.defineProperty(n,s,X),X}([Zn(0,Ke.i6),Zn(1,oi),Zn(2,xn.Ui)],uo);var Ro,co,go=e(93476),To=function(de,n,s,C){var me,H=arguments.length,X=H<3?n:null===C?C=Object.getOwnPropertyDescriptor(n,s):C;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)X=Reflect.decorate(de,n,s,C);else for(var Oe=de.length-1;Oe>=0;Oe--)(me=de[Oe])&&(X=(H<3?me(X):H>3?me(n,s,X):me(n,s))||X);return H>3&&X&&Object.defineProperty(n,s,X),X},bo=function(de,n){return function(s,C){n(s,C,de)}};let Jo=class{constructor(n,s){this._commandService=n,this._hiddenStates=new Ss(s)}createMenu(n,s,C){return new Ld(n,this._hiddenStates,Object.assign({emitEventsForSubmenuChanges:!1,eventDebounceDelay:50},C),this._commandService,s)}resetHiddenStates(n){this._hiddenStates.reset(n)}};Jo=To([bo(0,ho.H),bo(1,go.Uy)],Jo);let Ss=Ro=class{constructor(n){this._storageService=n,this._disposables=new Ee.SL,this._onDidChange=new gn.Q5,this.onDidChange=this._onDidChange.event,this._ignoreChangeEvent=!1,this._hiddenByDefaultCache=new Map;try{const s=n.get(Ro._key,0,"{}");this._data=JSON.parse(s)}catch{this._data=Object.create(null)}this._disposables.add(n.onDidChangeValue(0,Ro._key,this._disposables)(()=>{if(!this._ignoreChangeEvent)try{const s=n.get(Ro._key,0,"{}");this._data=JSON.parse(s)}catch(s){console.log("FAILED to read storage after UPDATE",s)}this._onDidChange.fire()}))}dispose(){this._onDidChange.dispose(),this._disposables.dispose()}_isHiddenByDefault(n,s){var C;return null!==(C=this._hiddenByDefaultCache.get(`${n.id}/${s}`))&&void 0!==C&&C}setDefaultState(n,s,C){this._hiddenByDefaultCache.set(`${n.id}/${s}`,C)}isHidden(n,s){var C,H;const X=this._isHiddenByDefault(n,s),me=null!==(H=null===(C=this._data[n.id])||void 0===C?void 0:C.includes(s))&&void 0!==H&&H;return X?!me:me}updateHidden(n,s,C){this._isHiddenByDefault(n,s)&&(C=!C);const X=this._data[n.id];if(C)X?X.indexOf(s)<0&&X.push(s):this._data[n.id]=[s];else if(X){const me=X.indexOf(s);me>=0&&(0,hn.LS)(X,me),0===X.length&&delete this._data[n.id]}this._persist()}reset(n){if(void 0===n)this._data=Object.create(null),this._persist();else{for(const{id:s}of n)this._data[s]&&delete this._data[s];this._persist()}}_persist(){try{this._ignoreChangeEvent=!0;const n=JSON.stringify(this._data);this._storageService.store(Ro._key,n,0,0)}finally{this._ignoreChangeEvent=!1}}};Ss._key="menu.hiddenCommands",Ss=Ro=To([bo(0,go.Uy)],Ss);let wd=co=class{constructor(n,s,C,H,X){this._id=n,this._hiddenStates=s,this._collectContextKeysForSubmenus=C,this._commandService=H,this._contextKeyService=X,this._menuGroups=[],this._structureContextKeys=new Set,this._preconditionContextKeys=new Set,this._toggledContextKeys=new Set,this.refresh()}get structureContextKeys(){return this._structureContextKeys}get preconditionContextKeys(){return this._preconditionContextKeys}get toggledContextKeys(){return this._toggledContextKeys}refresh(){this._menuGroups.length=0,this._structureContextKeys.clear(),this._preconditionContextKeys.clear(),this._toggledContextKeys.clear();const n=Bo.BH.getMenuItems(this._id);let s;n.sort(co._compareMenuItems);for(const C of n){const H=C.group||"";(!s||s[0]!==H)&&(s=[H,[]],this._menuGroups.push(s)),s[1].push(C),this._collectContextKeys(C)}}_collectContextKeys(n){co._fillInKbExprKeys(n.when,this._structureContextKeys),(0,Bo.vr)(n)?(n.command.precondition&&co._fillInKbExprKeys(n.command.precondition,this._preconditionContextKeys),n.command.toggled&&co._fillInKbExprKeys(n.command.toggled.condition||n.command.toggled,this._toggledContextKeys)):this._collectContextKeysForSubmenus&&Bo.BH.getMenuItems(n.submenu).forEach(this._collectContextKeys,this)}createActionGroups(n){const s=[];for(const C of this._menuGroups){const[H,X]=C,me=[];for(const Oe of X)if(this._contextKeyService.contextMatchesRules(Oe.when)){const ze=(0,Bo.vr)(Oe);ze&&this._hiddenStates.setDefaultState(this._id,Oe.command.id,!!Oe.isHiddenByDefault);const Qe=_h(this._id,ze?Oe.command:Oe,this._hiddenStates);if(ze)me.push(new Bo.U8(Oe.command,Oe.alt,n,Qe,this._contextKeyService,this._commandService));else{const tt=new co(Oe.submenu,this._hiddenStates,this._collectContextKeysForSubmenus,this._commandService,this._contextKeyService).createActionGroups(n),_t=zo.Z0.join(...tt.map(jt=>jt[1]));_t.length>0&&me.push(new Bo.NZ(Oe,Qe,_t))}}me.length>0&&s.push([H,me])}return s}static _fillInKbExprKeys(n,s){if(n)for(const C of n.keys())s.add(C)}static _compareMenuItems(n,s){const C=n.group,H=s.group;if(C!==H){if(!C)return 1;if(!H)return-1;if("navigation"===C)return-1;if("navigation"===H)return 1;const Oe=C.localeCompare(H);if(0!==Oe)return Oe}const X=n.order||0,me=s.order||0;return X<me?-1:X>me?1:co._compareTitles((0,Bo.vr)(n)?n.command.title:n.title,(0,Bo.vr)(s)?s.command.title:s.title)}static _compareTitles(n,s){return("string"==typeof n?n:n.original).localeCompare("string"==typeof s?s:s.original)}};wd=co=To([bo(3,ho.H),bo(4,Ke.i6)],wd);let Ld=class{constructor(n,s,C,H,X){this._disposables=new Ee.SL,this._menuInfo=new wd(n,s,C.emitEventsForSubmenuChanges,H,X);const me=new Hi.pY(()=>{this._menuInfo.refresh(),this._onDidChange.fire({menu:this,isStructuralChange:!0,isEnablementChange:!0,isToggleChange:!0})},C.eventDebounceDelay);this._disposables.add(me),this._disposables.add(Bo.BH.onDidChangeMenu(tt=>{tt.has(n)&&me.schedule()}));const Oe=this._disposables.add(new Ee.SL);this._onDidChange=new gn.D0({onWillAddFirstListener:()=>{Oe.add(X.onDidChangeContext(tt=>{const _t=tt.affectsSome(this._menuInfo.structureContextKeys),jt=tt.affectsSome(this._menuInfo.preconditionContextKeys),Xt=tt.affectsSome(this._menuInfo.toggledContextKeys);(_t||jt||Xt)&&this._onDidChange.fire({menu:this,isStructuralChange:_t,isEnablementChange:jt,isToggleChange:Xt})})),Oe.add(s.onDidChange(tt=>{this._onDidChange.fire({menu:this,isStructuralChange:!0,isEnablementChange:!1,isToggleChange:!1})}))},onDidRemoveLastListener:Oe.clear.bind(Oe),delay:C.eventDebounceDelay,merge:tt=>{let _t=!1,jt=!1,Xt=!1;for(const Di of tt)if(_t=_t||Di.isStructuralChange,jt=jt||Di.isEnablementChange,Xt=Xt||Di.isToggleChange,_t&&jt&&Xt)break;return{menu:this,isStructuralChange:_t,isEnablementChange:jt,isToggleChange:Xt}}}),this.onDidChange=this._onDidChange.event}getActions(n){return this._menuInfo.createActionGroups(n)}dispose(){this._disposables.dispose(),this._onDidChange.dispose()}};function _h(de,n,s){const C=(0,Bo.f6)(n)?n.submenu.id:n.id,H="string"==typeof n.title?n.title:n.title.value,X=(0,zo.xw)({id:`hide/${de.id}/${C}`,label:(0,si.NC)("hide.label","Hide '{0}'",H),run(){s.updateHidden(de,C,!0)}}),me=(0,zo.xw)({id:`toggle/${de.id}/${C}`,label:H,get checked(){return!s.isHidden(de,C)},run(){s.updateHidden(de,C,!!this.checked)}});return{hide:X,toggle:me,get isHidden(){return!me.checked}}}Ld=To([bo(3,ho.H),bo(4,Ke.i6)],Ld);var fc=function(de,n){return function(s,C){n(s,C,de)}},Ur=function(de,n,s,C){return new(s||(s=Promise))(function(X,me){function Oe(tt){try{Qe(C.next(tt))}catch(_t){me(_t)}}function ze(tt){try{Qe(C.throw(tt))}catch(_t){me(_t)}}function Qe(tt){tt.done?X(tt.value):function H(X){return X instanceof s?X:new s(function(me){me(X)})}(tt.value).then(Oe,ze)}Qe((C=C.apply(de,n||[])).next())})};let Ed=class extends Ee.JT{constructor(n,s){super(),this.layoutService=n,this.logService=s,this.mapTextToType=new Map,this.findText="",this.resources=[],(Ma.G6||Ma.MG)&&this.installWebKitWriteTextWorkaround()}installWebKitWriteTextWorkaround(){const n=()=>{const s=new Hi.CR;this.webKitPendingClipboardWritePromise&&!this.webKitPendingClipboardWritePromise.isSettled&&this.webKitPendingClipboardWritePromise.cancel(),this.webKitPendingClipboardWritePromise=s,navigator.clipboard.write([new ClipboardItem({"text/plain":s.p})]).catch(C=>Ur(this,void 0,void 0,function*(){(!(C instanceof Error)||"NotAllowedError"!==C.name||!s.isRejected)&&this.logService.error(C)}))};this.layoutService.hasContainer&&(this._register((0,Jt.nm)(this.layoutService.container,"click",n)),this._register((0,Jt.nm)(this.layoutService.container,"keydown",n)))}writeText(n,s){return Ur(this,void 0,void 0,function*(){if(s)return void this.mapTextToType.set(s,n);if(this.webKitPendingClipboardWritePromise)return this.webKitPendingClipboardWritePromise.complete(n);try{return yield navigator.clipboard.writeText(n)}catch(X){console.error(X)}const C=document.activeElement,H=document.body.appendChild((0,Jt.$)("textarea",{"aria-hidden":!0}));H.style.height="1px",H.style.width="1px",H.style.position="absolute",H.value=n,H.focus(),H.select(),document.execCommand("copy"),C instanceof HTMLElement&&C.focus(),document.body.removeChild(H)})}readText(n){return Ur(this,void 0,void 0,function*(){if(n)return this.mapTextToType.get(n)||"";try{return yield navigator.clipboard.readText()}catch(s){return console.error(s),""}})}readFindText(){return Ur(this,void 0,void 0,function*(){return this.findText})}writeFindText(n){return Ur(this,void 0,void 0,function*(){this.findText=n})}writeResources(n){return Ur(this,void 0,void 0,function*(){this.resources=n})}readResources(){return Ur(this,void 0,void 0,function*(){return this.resources})}};Ed=function(de,n,s,C){var me,H=arguments.length,X=H<3?n:null===C?C=Object.getOwnPropertyDescriptor(n,s):C;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)X=Reflect.decorate(de,n,s,C);else for(var Oe=de.length-1;Oe>=0;Oe--)(me=de[Oe])&&(X=(H<3?me(X):H>3?me(n,s,X):me(n,s))||X);return H>3&&X&&Object.defineProperty(n,s,X),X}([fc(0,oi),fc(1,hi.VZ)],Ed);var Tl=e(2034),Dr=e(68733),bh=e(95619);const Ya="data-keybinding-context";class Dd{constructor(n,s){this._id=n,this._parent=s,this._value=Object.create(null),this._value._contextId=n}get value(){return Object.assign({},this._value)}setValue(n,s){return this._value[n]!==s&&(this._value[n]=s,!0)}removeValue(n){return n in this._value&&(delete this._value[n],!0)}getValue(n){const s=this._value[n];return typeof s>"u"&&this._parent?this._parent.getValue(n):s}}class ua extends Dd{constructor(){super(-1,null)}setValue(n,s){return!1}removeValue(n){return!1}getValue(n){}}ua.INSTANCE=new ua;let wh=(()=>{class de extends Dd{constructor(s,C,H){super(s,null),this._configurationService=C,this._values=bh.Id.forConfigKeys(),this._listener=this._configurationService.onDidChangeConfiguration(X=>{if(7===X.source){const me=Array.from(this._values,([Oe])=>Oe);this._values.clear(),H.fire(new pc(me))}else{const me=[];for(const Oe of X.affectedKeys){const ze=`config.${Oe}`,Qe=this._values.findSuperstr(ze);void 0!==Qe&&(me.push(...Dr.$.map(Qe,([tt])=>tt)),this._values.deleteSuperstr(ze)),this._values.has(ze)&&(me.push(ze),this._values.delete(ze))}H.fire(new pc(me))}})}dispose(){this._listener.dispose()}getValue(s){if(0!==s.indexOf(de._keyPrefix))return super.getValue(s);if(this._values.has(s))return this._values.get(s);const C=s.substr(de._keyPrefix.length),H=this._configurationService.getValue(C);let X;switch(typeof H){case"number":case"boolean":case"string":X=H;break;default:X=Array.isArray(H)?JSON.stringify(H):H}return this._values.set(s,X),X}setValue(s,C){return super.setValue(s,C)}removeValue(s){return super.removeValue(s)}}return de._keyPrefix="config.",de})();class Lh{constructor(n,s,C){this._service=n,this._key=s,this._defaultValue=C,this.reset()}set(n){this._service.setContext(this._key,n)}reset(){typeof this._defaultValue>"u"?this._service.removeContext(this._key):this._service.setContext(this._key,this._defaultValue)}get(){return this._service.getContextKeyValue(this._key)}}class mc{constructor(n){this.key=n}affectsSome(n){return n.has(this.key)}allKeysContainedIn(n){return this.affectsSome(n)}}class pc{constructor(n){this.keys=n}affectsSome(n){for(const s of this.keys)if(n.has(s))return!0;return!1}allKeysContainedIn(n){return this.keys.every(s=>n.has(s))}}class Eh{constructor(n){this.events=n}affectsSome(n){for(const s of this.events)if(s.affectsSome(n))return!0;return!1}allKeysContainedIn(n){return this.events.every(s=>s.allKeysContainedIn(n))}}class vc{constructor(n){this._onDidChangeContext=new gn.K3({merge:s=>new Eh(s)}),this.onDidChangeContext=this._onDidChangeContext.event,this._isDisposed=!1,this._myContextId=n}createKey(n,s){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new Lh(this,n,s)}bufferChangeEvents(n){this._onDidChangeContext.pause();try{n()}finally{this._onDidChangeContext.resume()}}createScoped(n){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new xh(this,n)}contextMatchesRules(n){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");const s=this.getContextValuesContainer(this._myContextId);return!n||n.evaluate(s)}getContextKeyValue(n){if(!this._isDisposed)return this.getContextValuesContainer(this._myContextId).getValue(n)}setContext(n,s){if(this._isDisposed)return;const C=this.getContextValuesContainer(this._myContextId);C&&C.setValue(n,s)&&this._onDidChangeContext.fire(new mc(n))}removeContext(n){this._isDisposed||this.getContextValuesContainer(this._myContextId).removeValue(n)&&this._onDidChangeContext.fire(new mc(n))}getContext(n){return this._isDisposed?ua.INSTANCE:this.getContextValuesContainer(function Ih(de){for(;de;){if(de.hasAttribute(Ya)){const n=de.getAttribute(Ya);return n?parseInt(n,10):NaN}de=de.parentElement}return 0}(n))}}let xd=class extends vc{constructor(n){super(0),this._contexts=new Map,this._toDispose=new Ee.SL,this._lastContextId=0;const s=new wh(this._myContextId,n,this._onDidChangeContext);this._contexts.set(this._myContextId,s),this._toDispose.add(s)}dispose(){this._onDidChangeContext.dispose(),this._isDisposed=!0,this._toDispose.dispose()}getContextValuesContainer(n){return this._isDisposed?ua.INSTANCE:this._contexts.get(n)||ua.INSTANCE}createChildContext(n=this._myContextId){if(this._isDisposed)throw new Error("ContextKeyService has been disposed");const s=++this._lastContextId;return this._contexts.set(s,new Dd(s,this.getContextValuesContainer(n))),s}disposeContext(n){this._isDisposed||this._contexts.delete(n)}};xd=function(de,n,s,C){var me,H=arguments.length,X=H<3?n:null===C?C=Object.getOwnPropertyDescriptor(n,s):C;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)X=Reflect.decorate(de,n,s,C);else for(var Oe=de.length-1;Oe>=0;Oe--)(me=de[Oe])&&(X=(H<3?me(X):H>3?me(n,s,X):me(n,s))||X);return H>3&&X&&Object.defineProperty(n,s,X),X}([function(de,n){return function(s,C){n(s,C,0)}}(0,xn.Ui)],xd);class xh extends vc{constructor(n,s){if(super(n.createChildContext()),this._parentChangeListener=new Ee.XK,this._parent=n,this._updateParentChangeListener(),this._domNode=s,this._domNode.hasAttribute(Ya)){let C="";this._domNode.classList&&(C=Array.from(this._domNode.classList.values()).join(", ")),console.error("Element already has context attribute"+(C?": "+C:""))}this._domNode.setAttribute(Ya,String(this._myContextId))}_updateParentChangeListener(){this._parentChangeListener.value=this._parent.onDidChangeContext(n=>{(function Dh(de,n){return de.allKeysContainedIn(new Set(Object.keys(n)))})(n,this._parent.getContextValuesContainer(this._myContextId).value)||this._onDidChangeContext.fire(n)})}dispose(){this._isDisposed||(this._onDidChangeContext.dispose(),this._parent.disposeContext(this._myContextId),this._parentChangeListener.dispose(),this._domNode.removeAttribute(Ya),this._isDisposed=!0)}getContextValuesContainer(n){return this._isDisposed?ua.INSTANCE:this._parent.getContextValuesContainer(n)}createChildContext(n=this._myContextId){if(this._isDisposed)throw new Error("ScopedContextKeyService has been disposed");return this._parent.createChildContext(n)}disposeContext(n){this._isDisposed||this._parent.disposeContext(n)}}ho.P.registerCommand("_setContext",function Th(de,n,s){de.get(Ke.i6).createKey(String(n),function Nh(de){return(0,Zi.rs)(de,n=>"object"==typeof n&&1===n.$mid?Ae.o.revive(n).toString():n instanceof Ae.o?n.toString():void 0)}(s))}),ho.P.registerCommand({id:"getContextKeyInfo",handler:()=>[...Ke.uy.all()].sort((de,n)=>de.key.localeCompare(n.key)),description:{description:(0,si.NC)("getContextKeyInfo","A command that returns information about context keys"),args:[]}}),ho.P.registerCommand("_generateContextKeyInfo",function(){const de=[],n=new Set;for(const s of Ke.uy.all())n.has(s.key)||(n.add(s.key),de.push(s));de.sort((s,C)=>s.key.localeCompare(C.key)),console.log(JSON.stringify(de,void 0,2))});var xr=e(5177);class Mh{constructor(n,s){this.key=n,this.data=s,this.incoming=new Map,this.outgoing=new Map}}class _c{constructor(n){this._hashFn=n,this._nodes=new Map}roots(){const n=[];for(const s of this._nodes.values())0===s.outgoing.size&&n.push(s);return n}insertEdge(n,s){const C=this.lookupOrInsertNode(n),H=this.lookupOrInsertNode(s);C.outgoing.set(H.key,H),H.incoming.set(C.key,C)}removeNode(n){const s=this._hashFn(n);this._nodes.delete(s);for(const C of this._nodes.values())C.outgoing.delete(s),C.incoming.delete(s)}lookupOrInsertNode(n){const s=this._hashFn(n);let C=this._nodes.get(s);return C||(C=new Mh(s,n),this._nodes.set(s,C)),C}isEmpty(){return 0===this._nodes.size}toString(){const n=[];for(const[s,C]of this._nodes)n.push(`${s}\n\t(-> incoming)[${[...C.incoming.keys()].join(", ")}]\n\t(outgoing ->)[${[...C.outgoing.keys()].join(",")}]\n`);return n.join("\n")}findCycleSlow(){for(const[n,s]of this._nodes){const H=this._findCycle(s,new Set([n]));if(H)return H}}_findCycle(n,s){for(const[C,H]of n.outgoing){if(s.has(C))return[...s,C].join(" -> ");s.add(C);const X=this._findCycle(H,s);if(X)return X;s.delete(C)}}}var Id=e(50054);class Cc extends Error{constructor(n){var s;super("cyclic dependency between services"),this.message=null!==(s=n.findCycleSlow())&&void 0!==s?s:`UNABLE to detect cycle, dumping graph: \n${n.toString()}`}}class Nl{constructor(n=new Id.y,s=!1,C,H=!1){var X;this._services=n,this._strict=s,this._parent=C,this._enableTracing=H,this._activeInstantiations=new Set,this._services.set(qt.TG,this),this._globalGraph=H?null!==(X=C?._globalGraph)&&void 0!==X?X:new _c(me=>me):void 0}createChild(n){return new Nl(n,this._strict,this,this._enableTracing)}invokeFunction(n,...s){const C=os.traceInvocation(this._enableTracing,n);let H=!1;try{return n({get:me=>{if(H)throw(0,$t.L6)("service accessor is only valid during the invocation of its target method");const Oe=this._getOrCreateServiceInstance(me,C);if(!Oe)throw new Error(`[invokeFunction] unknown service '${me}'`);return Oe}},...s)}finally{H=!0,C.stop()}}createInstance(n,...s){let C,H;return n instanceof xr.M?(C=os.traceCreation(this._enableTracing,n.ctor),H=this._createInstance(n.ctor,n.staticArguments.concat(s),C)):(C=os.traceCreation(this._enableTracing,n),H=this._createInstance(n,s,C)),C.stop(),H}_createInstance(n,s=[],C){const H=qt.I8.getServiceDependencies(n).sort((Oe,ze)=>Oe.index-ze.index),X=[];for(const Oe of H){const ze=this._getOrCreateServiceInstance(Oe.id,C);ze||this._throwIfStrict(`[createInstance] ${n.name} depends on UNKNOWN service ${Oe.id}.`,!1),X.push(ze)}const me=H.length>0?H[0].index:s.length;if(s.length!==me){console.trace(`[createInstance] First service dependency of ${n.name} at position ${me+1} conflicts with ${s.length} static arguments`);const Oe=me-s.length;s=Oe>0?s.concat(new Array(Oe)):s.slice(0,me)}return Reflect.construct(n,s.concat(X))}_setServiceInstance(n,s){if(this._services.get(n)instanceof xr.M)this._services.set(n,s);else{if(!this._parent)throw new Error("illegalState - setting UNKNOWN service instance");this._parent._setServiceInstance(n,s)}}_getServiceInstanceOrDescriptor(n){const s=this._services.get(n);return!s&&this._parent?this._parent._getServiceInstanceOrDescriptor(n):s}_getOrCreateServiceInstance(n,s){this._globalGraph&&this._globalGraphImplicitDependency&&this._globalGraph.insertEdge(this._globalGraphImplicitDependency,String(n));const C=this._getServiceInstanceOrDescriptor(n);return C instanceof xr.M?this._safeCreateAndCacheServiceInstance(n,C,s.branch(n,!0)):(s.branch(n,!1),C)}_safeCreateAndCacheServiceInstance(n,s,C){if(this._activeInstantiations.has(n))throw new Error(`illegal state - RECURSIVELY instantiating service '${n}'`);this._activeInstantiations.add(n);try{return this._createAndCacheServiceInstance(n,s,C)}finally{this._activeInstantiations.delete(n)}}_createAndCacheServiceInstance(n,s,C){var H;const X=new _c(ze=>ze.id.toString());let me=0;const Oe=[{id:n,desc:s,_trace:C}];for(;Oe.length;){const ze=Oe.pop();if(X.lookupOrInsertNode(ze),me++>1e3)throw new Cc(X);for(const Qe of qt.I8.getServiceDependencies(ze.desc.ctor)){const tt=this._getServiceInstanceOrDescriptor(Qe.id);if(tt||this._throwIfStrict(`[createInstance] ${n} depends on ${Qe.id} which is NOT registered.`,!0),null===(H=this._globalGraph)||void 0===H||H.insertEdge(String(ze.id),String(Qe.id)),tt instanceof xr.M){const _t={id:Qe.id,desc:tt,_trace:ze._trace.branch(Qe.id,!0)};X.insertEdge(ze,_t),Oe.push(_t)}}}for(;;){const ze=X.roots();if(0===ze.length){if(!X.isEmpty())throw new Cc(X);break}for(const{data:Qe}of ze){if(this._getServiceInstanceOrDescriptor(Qe.id)instanceof xr.M){const _t=this._createServiceInstanceWithOwner(Qe.id,Qe.desc.ctor,Qe.desc.staticArguments,Qe.desc.supportsDelayedInstantiation,Qe._trace);this._setServiceInstance(Qe.id,_t)}X.removeNode(Qe)}}return this._getServiceInstanceOrDescriptor(n)}_createServiceInstanceWithOwner(n,s,C=[],H,X){if(this._services.get(n)instanceof xr.M)return this._createServiceInstance(n,s,C,H,X);if(this._parent)return this._parent._createServiceInstanceWithOwner(n,s,C,H,X);throw new Error(`illegalState - creating UNKNOWN service instance ${s.name}`)}_createServiceInstance(n,s,C=[],H,X){if(H){const me=new Nl(void 0,this._strict,this,this._enableTracing);me._globalGraphImplicitDependency=String(n);const Oe=new Map,ze=new Hi.Ue(()=>{const Qe=me._createInstance(s,C,X);for(const[tt,_t]of Oe){const jt=Qe[tt];if("function"==typeof jt)for(const Xt of _t)jt.apply(Qe,Xt)}return Oe.clear(),Qe});return new Proxy(Object.create(null),{get(Qe,tt){if(!ze.isInitialized&&"string"==typeof tt&&(tt.startsWith("onDid")||tt.startsWith("onWill"))){let Xt=Oe.get(tt);return Xt||(Xt=new Gn.S,Oe.set(tt,Xt)),(xi,Oi,Ui)=>{const an=Xt.push([xi,Oi,Ui]);return(0,Ee.OF)(an)}}if(tt in Qe)return Qe[tt];const _t=ze.value;let jt=_t[tt];return"function"!=typeof jt||(jt=jt.bind(_t),Qe[tt]=jt),jt},set:(Qe,tt,_t)=>(ze.value[tt]=_t,!0),getPrototypeOf:Qe=>s.prototype})}return this._createInstance(s,C,X)}_throwIfStrict(n,s){if(s&&console.warn(n),this._strict)throw new Error(n)}}class os{static traceInvocation(n,s){return n?new os(2,s.name||(new Error).stack.split("\n").slice(3,4).join("\n")):os._None}static traceCreation(n,s){return n?new os(1,s.name):os._None}constructor(n,s){this.type=n,this.name=s,this._start=Date.now(),this._dep=[]}branch(n,s){const C=new os(3,n.toString());return this._dep.push([n,s,C]),C}stop(){const n=Date.now()-this._start;os._totals+=n;let s=!1;const H=[`${1===this.type?"CREATE":"CALL"} ${this.name}`,`${function C(X,me){const Oe=[],ze=new Array(X+1).join("\t");for(const[Qe,tt,_t]of me._dep)if(tt&&_t){s=!0,Oe.push(`${ze}CREATES -> ${Qe}`);const jt=C(X+1,_t);jt&&Oe.push(jt)}else Oe.push(`${ze}uses -> ${Qe}`);return Oe.join("\n")}(1,this)}`,`DONE, took ${n.toFixed(2)}ms (grand total ${os._totals.toFixed(2)}ms)`];(n>2||s)&&os.all.add(H.join("\n"))}}os.all=new Set,os._None=new class extends os{constructor(){super(0,null)}stop(){}branch(){return this}},os._totals=0;const Rh=new Set([qn.lg.inMemory,qn.lg.vscodeSourceControl,qn.lg.walkThrough,qn.lg.walkThroughSnippet]);class Ph{constructor(){this._byResource=new Ln.Y9,this._byOwner=new Map}set(n,s,C){let H=this._byResource.get(n);H||(H=new Map,this._byResource.set(n,H)),H.set(s,C);let X=this._byOwner.get(s);X||(X=new Ln.Y9,this._byOwner.set(s,X)),X.set(n,C)}get(n,s){const C=this._byResource.get(n);return C?.get(s)}delete(n,s){let C=!1,H=!1;const X=this._byResource.get(n);X&&(C=X.delete(s));const me=this._byOwner.get(s);if(me&&(H=me.delete(n)),C!==H)throw new Error("illegal state");return C&&H}values(n){var s,C,H,X;return"string"==typeof n?null!==(C=null===(s=this._byOwner.get(n))||void 0===s?void 0:s.values())&&void 0!==C?C:Dr.$.empty():Ae.o.isUri(n)?null!==(X=null===(H=this._byResource.get(n))||void 0===H?void 0:H.values())&&void 0!==X?X:Dr.$.empty():Dr.$.map(Dr.$.concat(...this._byOwner.values()),me=>me[1])}}class Oh{constructor(n){this.errors=0,this.infos=0,this.warnings=0,this.unknowns=0,this._data=new Ln.Y9,this._service=n,this._subscription=n.onMarkerChanged(this._update,this)}dispose(){this._subscription.dispose()}_update(n){for(const s of n){const C=this._data.get(s);C&&this._substract(C);const H=this._resourceStats(s);this._add(H),this._data.set(s,H)}}_resourceStats(n){const s={errors:0,warnings:0,infos:0,unknowns:0};if(Rh.has(n.scheme))return s;for(const{severity:C}of this._service.read({resource:n}))C===Fo.ZL.Error?s.errors+=1:C===Fo.ZL.Warning?s.warnings+=1:C===Fo.ZL.Info?s.infos+=1:s.unknowns+=1;return s}_substract(n){this.errors-=n.errors,this.warnings-=n.warnings,this.infos-=n.infos,this.unknowns-=n.unknowns}_add(n){this.errors+=n.errors,this.warnings+=n.warnings,this.infos+=n.infos,this.unknowns+=n.unknowns}}class Ir{constructor(){this._onMarkerChanged=new gn.D0({delay:0,merge:Ir._merge}),this.onMarkerChanged=this._onMarkerChanged.event,this._data=new Ph,this._stats=new Oh(this)}dispose(){this._stats.dispose(),this._onMarkerChanged.dispose()}remove(n,s){for(const C of s||[])this.changeOne(n,C,[])}changeOne(n,s,C){if((0,hn.XY)(C))this._data.delete(s,n)&&this._onMarkerChanged.fire([s]);else{const H=[];for(const X of C){const me=Ir._toMarker(n,s,X);me&&H.push(me)}this._data.set(s,n,H),this._onMarkerChanged.fire([s])}}static _toMarker(n,s,C){let{code:H,severity:X,message:me,source:Oe,startLineNumber:ze,startColumn:Qe,endLineNumber:tt,endColumn:_t,relatedInformation:jt,tags:Xt}=C;if(me)return ze=ze>0?ze:1,Qe=Qe>0?Qe:1,tt=tt>=ze?tt:ze,_t=_t>0?_t:Qe,{resource:s,owner:n,code:H,severity:X,message:me,source:Oe,startLineNumber:ze,startColumn:Qe,endLineNumber:tt,endColumn:_t,relatedInformation:jt,tags:Xt}}changeAll(n,s){const C=[],H=this._data.values(n);if(H)for(const X of H){const me=Dr.$.first(X);me&&(C.push(me.resource),this._data.delete(me.resource,n))}if((0,hn.Of)(s)){const X=new Ln.Y9;for(const{resource:me,marker:Oe}of s){const ze=Ir._toMarker(n,me,Oe);if(!ze)continue;const Qe=X.get(me);Qe?Qe.push(ze):(X.set(me,[ze]),C.push(me))}for(const[me,Oe]of X)this._data.set(me,n,Oe)}C.length>0&&this._onMarkerChanged.fire(C)}read(n=Object.create(null)){let{owner:s,resource:C,severities:H,take:X}=n;if((!X||X<0)&&(X=-1),s&&C){const me=this._data.get(C,s);if(me){const Oe=[];for(const ze of me)if(Ir._accept(ze,H)){const Qe=Oe.push(ze);if(X>0&&Qe===X)break}return Oe}return[]}if(s||C){const me=this._data.values(C??s),Oe=[];for(const ze of me)for(const Qe of ze)if(Ir._accept(Qe,H)){const tt=Oe.push(Qe);if(X>0&&tt===X)return Oe}return Oe}{const me=[];for(const Oe of this._data.values())for(const ze of Oe)if(Ir._accept(ze,H)){const Qe=me.push(ze);if(X>0&&Qe===X)return me}return me}}static _accept(n,s){return void 0===s||(s&n.severity)===n.severity}static _merge(n){const s=new Ln.Y9;for(const C of n)for(const H of C)s.set(H,!0);return Array.from(s.keys())}}class kh extends Ee.JT{constructor(){super(...arguments),this._configurationModel=new Ao}get configurationModel(){return this._configurationModel}reload(){return this.resetConfigurationModel(),this.configurationModel}getConfigurationDefaultOverrides(){return{}}resetConfigurationModel(){this._configurationModel=new Ao;const n=ws.B.as(gs.IP.Configuration).getConfigurationProperties();this.updateConfigurationModel(Object.keys(n),n)}updateConfigurationModel(n,s){const C=this.getConfigurationDefaultOverrides();for(const H of n){const X=C[H],me=s[H];void 0!==X?this._configurationModel.addValue(H,X):me?this._configurationModel.addValue(H,me.default):this._configurationModel.removeValue(H)}}}var tr=e(15084);class Bh extends Ee.JT{constructor(n,s=[]){super(),this.logger=new hi.qA([n,...s]),this._register(n.onDidChangeLogLevel(C=>this.setLevel(C)))}get onDidChangeLogLevel(){return this.logger.onDidChangeLogLevel}setLevel(n){this.logger.setLevel(n)}getLevel(){return this.logger.getLevel()}trace(n,...s){this.logger.trace(n,...s)}debug(n,...s){this.logger.debug(n,...s)}info(n,...s){this.logger.info(n,...s)}warn(n,...s){this.logger.warn(n,...s)}error(n,...s){this.logger.error(n,...s)}}var Fh=e(65058),Wh=e(62310),Tr=function(de,n,s,C){var me,H=arguments.length,X=H<3?n:null===C?C=Object.getOwnPropertyDescriptor(n,s):C;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)X=Reflect.decorate(de,n,s,C);else for(var Oe=de.length-1;Oe>=0;Oe--)(me=de[Oe])&&(X=(H<3?me(X):H>3?me(n,s,X):me(n,s))||X);return H>3&&X&&Object.defineProperty(n,s,X),X},Oo=function(de,n){return function(s,C){n(s,C,de)}},ga=function(de,n,s,C){return new(s||(s=Promise))(function(X,me){function Oe(tt){try{Qe(C.next(tt))}catch(_t){me(_t)}}function ze(tt){try{Qe(C.throw(tt))}catch(_t){me(_t)}}function Qe(tt){tt.done?X(tt.value):function H(X){return X instanceof s?X:new s(function(me){me(X)})}(tt.value).then(Oe,ze)}Qe((C=C.apply(de,n||[])).next())})};class Vh{constructor(n){this.disposed=!1,this.model=n,this._onWillDispose=new gn.Q5}get textEditorModel(){return this.model}dispose(){this.disposed=!0,this._onWillDispose.fire()}}let Td=class{constructor(n){this.modelService=n}createModelReference(n){const s=this.modelService.getModel(n);return s?Promise.resolve(new Ee.Jz(new Vh(s))):Promise.reject(new Error("Model not found"))}};Td=Tr([Oo(0,Gi.q)],Td);let Hh=(()=>{class de{show(){return de.NULL_PROGRESS_RUNNER}showWhile(s,C){return ga(this,void 0,void 0,function*(){yield s})}}return de.NULL_PROGRESS_RUNNER={done:()=>{},total:()=>{},worked:()=>{}},de})();class Xa{info(n){return this.notify({severity:Ii.Z.Info,message:n})}warn(n){return this.notify({severity:Ii.Z.Warning,message:n})}error(n){return this.notify({severity:Ii.Z.Error,message:n})}notify(n){switch(n.severity){case Ii.Z.Error:console.error(n.message);break;case Ii.Z.Warning:console.warn(n.message);break;default:console.log(n.message)}return Xa.NO_OP}prompt(n,s,C,H){return Xa.NO_OP}status(n,s){return Ee.JT.None}}Xa.NO_OP=new en.EO;let Nd=class{constructor(n){this._onWillExecuteCommand=new gn.Q5,this._onDidExecuteCommand=new gn.Q5,this.onDidExecuteCommand=this._onDidExecuteCommand.event,this._instantiationService=n}executeCommand(n,...s){const C=ho.P.getCommand(n);if(!C)return Promise.reject(new Error(`command '${n}' not found`));try{this._onWillExecuteCommand.fire({commandId:n,args:s});const H=this._instantiationService.invokeFunction.apply(this._instantiationService,[C.handler,...s]);return this._onDidExecuteCommand.fire({commandId:n,args:s}),Promise.resolve(H)}catch(H){return Promise.reject(H)}}};Nd=Tr([Oo(0,qt.TG)],Nd);let fa=class extends cl{constructor(n,s,C,H,X,me){super(n,s,C,H,X),this._cachedResolver=null,this._dynamicKeybindings=[],this._domNodeListeners=[];const Oe=Xt=>{const Di=new Ee.SL;Di.add(Jt.nm(Xt,Jt.tw.KEY_DOWN,xi=>{const Oi=new rs.y(xi);this._dispatch(Oi,Oi.target)&&(Oi.preventDefault(),Oi.stopPropagation())})),Di.add(Jt.nm(Xt,Jt.tw.KEY_UP,xi=>{const Oi=new rs.y(xi);this._singleModifierDispatch(Oi,Oi.target)&&Oi.preventDefault()})),this._domNodeListeners.push(new Kh(Xt,Di))},ze=Xt=>{for(let Di=0;Di<this._domNodeListeners.length;Di++){const xi=this._domNodeListeners[Di];xi.domNode===Xt&&(this._domNodeListeners.splice(Di,1),xi.dispose())}},Qe=Xt=>{Xt.getOption(60)||Oe(Xt.getContainerDomNode())};this._register(me.onCodeEditorAdd(Qe)),this._register(me.onCodeEditorRemove(Xt=>{Xt.getOption(60)||ze(Xt.getContainerDomNode())})),me.listCodeEditors().forEach(Qe);const _t=Xt=>{Oe(Xt.getContainerDomNode())};this._register(me.onDiffEditorAdd(_t)),this._register(me.onDiffEditorRemove(Xt=>{ze(Xt.getContainerDomNode())})),me.listDiffEditors().forEach(_t)}addDynamicKeybinding(n,s,C,H){return(0,Ee.F8)(ho.P.registerCommand(n,C),this.addDynamicKeybindings([{keybinding:s,command:n,when:H}]))}addDynamicKeybindings(n){const s=n.map(C=>{var H;return{keybinding:(0,js.Z9)(C.keybinding,Kn.OS),command:null!==(H=C.command)&&void 0!==H?H:null,commandArgs:C.commandArgs,when:C.when,weight1:1e3,weight2:0,extensionId:null,isBuiltinExtension:!1}});return this._dynamicKeybindings=this._dynamicKeybindings.concat(s),this.updateResolver(),(0,Ee.OF)(()=>{for(let C=0;C<this._dynamicKeybindings.length;C++)if(this._dynamicKeybindings[C]===s[0])return this._dynamicKeybindings.splice(C,s.length),void this.updateResolver()})}updateResolver(){this._cachedResolver=null,this._onDidUpdateKeybindings.fire()}_getResolver(){if(!this._cachedResolver){const n=this._toNormalizedKeybindingItems($l.W.getDefaultKeybindings(),!0),s=this._toNormalizedKeybindingItems(this._dynamicKeybindings,!1);this._cachedResolver=new Io(n,s,C=>this._log(C))}return this._cachedResolver}_documentHasFocus(){return document.hasFocus()}_toNormalizedKeybindingItems(n,s){const C=[];let H=0;for(const X of n){const me=X.when||void 0,Oe=X.keybinding;if(Oe){const ze=Es.resolveKeybinding(Oe,Kn.OS);for(const Qe of ze)C[H++]=new hl(Qe,X.command,X.commandArgs,me,s,null,!1)}else C[H++]=new hl(void 0,X.command,X.commandArgs,me,s,null,!1)}return C}resolveKeyboardEvent(n){const s=new js.$M(n.ctrlKey,n.shiftKey,n.altKey,n.metaKey,n.keyCode);return new Es([s],Kn.OS)}};fa=Tr([Oo(0,Ke.i6),Oo(1,ho.H),Oo(2,Yr.b),Oo(3,en.lT),Oo(4,hi.VZ),Oo(5,yt.$)],fa);class Kh extends Ee.JT{constructor(n,s){super(),this.domNode=n,this._register(s)}}function bc(de){return de&&"object"==typeof de&&(!de.overrideIdentifier||"string"==typeof de.overrideIdentifier)&&(!de.resource||de.resource instanceof Ae.o)}class yc{constructor(){this._onDidChangeConfiguration=new gn.Q5,this.onDidChangeConfiguration=this._onDidChangeConfiguration.event;const n=new kh;this._configuration=new $n(n.reload(),new Ao,new Ao,new Ao),n.dispose()}getValue(n,s){const C="string"==typeof n?n:void 0,H=bc(n)?n:bc(s)?s:{};return this._configuration.getValue(C,H,void 0)}updateValues(n){const s={data:this._configuration.toData()},C=[];for(const H of n){const[X,me]=H;this.getValue(X)!==me&&(this._configuration.updateValue(X,me),C.push(X))}if(C.length>0){const H=new no({keys:C,overrides:[]},s,this._configuration);H.source=8,H.sourceConfig=null,this._onDidChangeConfiguration.fire(H)}return Promise.resolve()}updateValue(n,s,C,H){return this.updateValues([[n,s]])}inspect(n,s={}){return this._configuration.inspect(n,s,void 0)}}let Md=class{constructor(n,s,C){this.configurationService=n,this.modelService=s,this.languageService=C,this._onDidChangeConfiguration=new gn.Q5,this.configurationService.onDidChangeConfiguration(H=>{this._onDidChangeConfiguration.fire({affectedKeys:H.affectedKeys,affectsConfiguration:(X,me)=>H.affectsConfiguration(me)})})}getValue(n,s,C){const H=_s.L.isIPosition(s)?s:null,X=H?"string"==typeof C?C:void 0:"string"==typeof s?s:void 0,me=n?this.getLanguage(n,H):void 0;return typeof X>"u"?this.configurationService.getValue({resource:n,overrideIdentifier:me}):this.configurationService.getValue(X,{resource:n,overrideIdentifier:me})}getLanguage(n,s){const C=this.modelService.getModel(n);return C?s?C.getLanguageIdAtPosition(s.lineNumber,s.column):C.getLanguageId():this.languageService.guessLanguageIdByFilepathOrFirstLine(n)}};Md=Tr([Oo(0,xn.Ui),Oo(1,Gi.q),Oo(2,Mi.O)],Md);let Ad=class{constructor(n){this.configurationService=n}getEOL(n,s){const C=this.configurationService.getValue("files.eol",{overrideIdentifier:s,resource:n});return C&&"string"==typeof C&&"auto"!==C?C:Kn.IJ||Kn.dz?"\n":"\r\n"}};Ad=Tr([Oo(0,xn.Ui)],Ad);let Gh=(()=>{class de{constructor(){const s=Ae.o.from({scheme:de.SCHEME,authority:"model",path:"/"});this.workspace={id:Ea.p$,folders:[new Ea.md({uri:s,name:"",index:0})]}}getWorkspace(){return this.workspace}getWorkspaceFolder(s){return s&&s.scheme===de.SCHEME?this.workspace.folders[0]:null}}return de.SCHEME="inmemory",de})();function ma(de,n,s){if(!(n&&de instanceof yc))return;const C=[];Object.keys(n).forEach(H=>{(0,sr.ei)(H)&&C.push([`editor.${H}`,n[H]]),s&&(0,sr.Pe)(H)&&C.push([`diffEditor.${H}`,n[H]])}),C.length>0&&de.updateValues(C)}let Rd=class{constructor(n){this._modelService=n}hasPreviewHandler(){return!1}apply(n,s){return ga(this,void 0,void 0,function*(){const C=Array.isArray(n)?n:Kr.fo.convert(n),H=new Map;for(const Oe of C){if(!(Oe instanceof Kr.Gl))throw new Error("bad edit - only text edits are supported");const ze=this._modelService.getModel(Oe.resource);if(!ze)throw new Error("bad edit - model not found");if("number"==typeof Oe.versionId&&ze.getVersionId()!==Oe.versionId)throw new Error("bad state - model changed in the meantime");let Qe=H.get(ze);Qe||(Qe=[],H.set(ze,Qe)),Qe.push(Ks.h.replaceMove(Ho.e.lift(Oe.textEdit.range),Oe.textEdit.text))}let X=0,me=0;for(const[Oe,ze]of H)Oe.pushStackElement(),Oe.pushEditOperations([],ze,()=>[]),Oe.pushStackElement(),me+=1,X+=ze.length;return{ariaSummary:Te.WU(lr.iN.bulkEditServiceSummary,X,me),isApplied:X>0}})}};Rd=Tr([Oo(0,Gi.q)],Rd);let Pd=class extends hr{constructor(n,s){super(n),this._codeEditorService=s}showContextView(n,s,C){if(!s){const H=this._codeEditorService.getFocusedCodeEditor()||this._codeEditorService.getActiveCodeEditor();H&&(s=H.getContainerDomNode())}return super.showContextView(n,s,C)}};Pd=Tr([Oo(0,oi),Oo(1,yt.$)],Pd);let Od=class extends Oa{constructor(n,s,C,H,X,me){super(n,s,C,H,X,me),this.configure({blockMouse:!1})}};var On;Od=Tr([Oo(0,Yr.b),Oo(1,en.lT),Oo(2,dr.u),Oo(3,Ls.d),Oo(4,Bo.co),Oo(5,Ke.i6)],Od),(0,Ye.z)(xn.Ui,yc,0),(0,Ye.z)(ns.V,Md,0),(0,Ye.z)(ns.y,Ad,0),(0,Ye.z)(Ea.ec,Gh,0),(0,Ye.z)(sc.e,class Zh{getUriLabel(n,s){return"file"===n.scheme?n.fsPath:n.path}getUriBasenameLabel(n){return(0,Is.EZ)(n)}},0),(0,Ye.z)(Yr.b,class $h{publicLog2(){}},0),(0,Ye.z)(nn.S,class jh{confirm(n){return ga(this,void 0,void 0,function*(){return{confirmed:this.doConfirm(n.message,n.detail),checkboxChecked:!1}})}doConfirm(n,s){let C=n;return s&&(C=C+"\n\n"+s),window.confirm(C)}prompt(n){var s,C;return ga(this,void 0,void 0,function*(){let H;if(this.doConfirm(n.message,n.detail)){const me=[...null!==(s=n.buttons)&&void 0!==s?s:[]];n.cancelButton&&"string"!=typeof n.cancelButton&&"boolean"!=typeof n.cancelButton&&me.push(n.cancelButton),H=yield null===(C=me[0])||void 0===C?void 0:C.run({checkboxChecked:!1})}return{result:H}})}error(n,s){return ga(this,void 0,void 0,function*(){yield this.prompt({type:Ii.Z.Error,message:n,detail:s})})}},0),(0,Ye.z)(Wh.Y,class zh{constructor(){this.isExtensionDevelopment=!1,this.isBuilt=!1}},0),(0,Ye.z)(en.lT,Xa,0),(0,Ye.z)(Fo.lT,Ir,0),(0,Ye.z)(Mi.O,class Yh extends qr{constructor(){super()}},0),(0,Ye.z)(In.Z,dn.nI,0),(0,Ye.z)(hi.VZ,class Xh extends Bh{constructor(){super(new hi.kw)}},0),(0,Ye.z)(Gi.q,Fr,0),(0,Ye.z)(od.i,Va,0),(0,Ye.z)(Ke.i6,xd,0),(0,Ye.z)(Qr.R9,class Uh{withProgress(n,s,C){return s({report:()=>{}})}},0),(0,Ye.z)(Qr.ek,Hh,0),(0,Ye.z)(go.Uy,go.vm,0),(0,Ye.z)(id.p,St.eu,0),(0,Ye.z)(Kr.vu,Rd,0),(0,Ye.z)(rc.Y,class Qh{constructor(){this._neverEmitter=new gn.Q5,this.onDidChangeTrust=this._neverEmitter.event}isWorkspaceTrusted(){return!0}},0),(0,Ye.z)(Sa.S,Td,0),(0,Ye.z)(Vn.F,uo,0),(0,Ye.z)(Ua.Lw,Ua.XN,0),(0,Ye.z)(ho.H,Nd,0),(0,Ye.z)(Ls.d,fa,0),(0,Ye.z)(Xo.eJ,mn,0),(0,Ye.z)(dr.u,Pd,0),(0,Ye.z)(Qs.v4,kr,0),(0,Ye.z)(Tl.p,Ed,0),(0,Ye.z)(dr.i,Od,0),(0,Ye.z)(Bo.co,Jo,0),(0,Ye.z)(tr.e7,class Jh{playAudioCue(n,s){return ga(this,void 0,void 0,function*(){})}},0),function(de){const n=new Id.y;for(const[ze,Qe]of(0,Ye.d)())n.set(ze,Qe);const s=new Nl(n,!0);n.set(qt.TG,s),de.get=function C(ze){H||me({});const Qe=n.get(ze);if(!Qe)throw new Error("Missing service "+ze);return Qe instanceof xr.M?s.invokeFunction(tt=>tt.get(ze)):Qe};let H=!1;const X=new gn.Q5;function me(ze){if(H)return s;H=!0;for(const[tt,_t]of(0,Ye.d)())n.get(tt)||n.set(tt,_t);for(const tt in ze)if(ze.hasOwnProperty(tt)){const _t=(0,qt.yh)(tt);n.get(_t)instanceof xr.M&&n.set(_t,ze[tt])}const Qe=(0,Fh.n)();for(const tt of Qe)try{s.createInstance(tt)}catch(_t){(0,$t.dL)(_t)}return X.fire(),s}de.initialize=me,de.withServices=function Oe(ze){if(H)return ze();const Qe=new Ee.SL,tt=Qe.add(X.event(()=>{tt.dispose(),Qe.add(ze())}));return Qe}}(On||(On={}));var Vi=e(88976),Ml=e(30184),pa={};pa.styleTagTransform=At(),pa.setAttributes=Lt(),pa.insert=mt().bind(null,"head"),pa.domAPI=ot(),pa.insertStyleElement=Mt(),He()(Ml.Z,pa);var kd=e(91988),qh=e(81772);function Al(de,n){const s=new Ee.SL,C=de.createDecorationsCollection();return s.add((0,Vi.UV)({debugName:`Apply decorations from ${n.debugName}`},H=>{const X=n.read(H);C.set(X)})),s.add({dispose:()=>{C.clear()}}),s}function Rl(de,n){return de.appendChild(n),(0,Ee.OF)(()=>{de.removeChild(n)})}class tu extends Ee.JT{get width(){return this._width}get height(){return this._height}constructor(n,s){super(),this.elementSizeObserver=this._register(new qh.I(n,s)),this._width=(0,Vi.uh)("width",this.elementSizeObserver.getWidth()),this._height=(0,Vi.uh)("height",this.elementSizeObserver.getHeight()),this._register(this.elementSizeObserver.onDidChange(C=>(0,Vi.PS)(H=>{this._width.set(this.elementSizeObserver.getWidth(),H),this._height.set(this.elementSizeObserver.getHeight(),H)})))}observe(n){this.elementSizeObserver.observe(n)}setAutomaticLayout(n){n?this.elementSizeObserver.startObserving():this.elementSizeObserver.stopObserving()}}function Sc(de,n){let s=de.get(),C=s,H=s;const X=(0,Vi.uh)("animatedValue",s);let ze,me=-1;function Qe(){const tt=Date.now()-me;H=Math.floor(function iu(de,n,s,C){return de===C?n+s:s*(1-Math.pow(2,-10*de/C))+n}(tt,C,s-C,300)),tt<300?ze=requestAnimationFrame(Qe):H=s,X.set(H,void 0)}return n.add((0,Vi.nJ)({createEmptyChangeSummary:()=>({animate:!1}),handleChange:(tt,_t)=>(tt.didChange(de)&&(_t.animate=_t.animate||tt.change),!0)},(tt,_t)=>{void 0!==ze&&(cancelAnimationFrame(ze),ze=void 0),C=H,s=de.read(tt),me=Date.now()-(_t.animate?0:300),Qe()})),X}class wc extends Ee.JT{constructor(n,s,C){super(),this._register(new nu(n,C)),this._register(Nr(C,{height:s.actualHeight,top:s.actualTop}))}}class Pl{get afterLineNumber(){return this._afterLineNumber.get()}constructor(n,s){this._afterLineNumber=n,this.heightInPx=s,this.domNode=document.createElement("div"),this._actualTop=(0,Vi.uh)("actualTop",void 0),this._actualHeight=(0,Vi.uh)("actualHeight",void 0),this.actualTop=this._actualTop,this.actualHeight=this._actualHeight,this.showInHiddenAreas=!0,this.onChange=this._afterLineNumber,this.onDomNodeTop=C=>{this._actualTop.set(C,void 0)},this.onComputedHeight=C=>{this._actualHeight.set(C,void 0)}}}let nu=(()=>{class de{constructor(s,C){this._editor=s,this._domElement=C,this._overlayWidgetId="managedOverlayWidget-"+de._counter++,this._overlayWidget={getId:()=>this._overlayWidgetId,getDomNode:()=>this._domElement,getPosition:()=>null},this._editor.addOverlayWidget(this._overlayWidget)}dispose(){this._editor.removeOverlayWidget(this._overlayWidget)}}return de._counter=0,de})();function Nr(de,n){return(0,Vi.EH)(s=>{for(let[C,H]of Object.entries(n))H&&"object"==typeof H&&"read"in H&&(H=H.read(s)),"number"==typeof H&&(H=`${H}px`),C=C.replace(/[A-Z]/g,X=>"-"+X.toLowerCase()),de.style[C]=H})}function zr(de,n){return function ou(de,n){const s=globalThis.$hotReload_deprecateExports;s&&(0,Vi.aq)("reload",H=>{function X(me,Oe){return!![...Object.values(me)].some(ze=>de.includes(ze))&&(H(void 0),!0)}return s.add(X),{dispose(){s.delete(X)}}}).read(n)}([de],n),de}function Ol(de,n,s){const C=new Ee.SL,H=[];return C.add((0,Vi.EH)(X=>{const me=n.read(X),Oe=new Map,ze=new Map;s&&s(!0),de.changeViewZones(Qe=>{for(const tt of H)Qe.removeZone(tt);H.length=0;for(const tt of me){const _t=Qe.addZone(tt);H.push(_t),Oe.set(tt,_t)}}),s&&s(!1),C.add((0,Vi.nJ)({createEmptyChangeSummary:()=>[],handleChange(Qe,tt){const _t=ze.get(Qe.changedObservable);return void 0!==_t&&tt.push(_t),!0}},(Qe,tt)=>{for(const _t of me)_t.onChange&&(ze.set(_t.onChange,Oe.get(_t)),_t.onChange.read(Qe));s&&s(!0),de.changeViewZones(_t=>{for(const jt of tt)_t.layoutZone(jt)}),s&&s(!1)}))})),C.add({dispose(){s&&s(!0),de.changeViewZones(X=>{for(const me of H)X.removeZone(me)}),s&&s(!1)}}),C}var kl=e(40354),qo=e(266),Bl=e(78754),va=e(55359),Ja=e(34252),Bd=function(de,n,s,C){var me,H=arguments.length,X=H<3?n:null===C?C=Object.getOwnPropertyDescriptor(n,s):C;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)X=Reflect.decorate(de,n,s,C);else for(var Oe=de.length-1;Oe>=0;Oe--)(me=de[Oe])&&(X=(H<3?me(X):H>3?me(n,s,X):me(n,s))||X);return H>3&&X&&Object.defineProperty(n,s,X),X},Fd=function(de,n){return function(s,C){n(s,C,de)}};const ru=(0,Ja.q5)("diff-review-insert",jo.l.add,(0,si.NC)("accessibleDiffViewerInsertIcon","Icon for 'Insert' in accessible diff viewer.")),au=(0,Ja.q5)("diff-review-remove",jo.l.remove,(0,si.NC)("accessibleDiffViewerRemoveIcon","Icon for 'Remove' in accessible diff viewer.")),lu=(0,Ja.q5)("diff-review-close",jo.l.close,(0,si.NC)("accessibleDiffViewerCloseIcon","Icon for 'Close' in accessible diff viewer."));let Wd=class extends Ee.JT{constructor(n,s,C,H,X,me,Oe,ze,Qe){super(),this._parentNode=n,this._visible=s,this._setVisible=C,this._canClose=H,this._width=X,this._height=me,this._diffs=Oe,this._editors=ze,this._instantiationService=Qe,this.model=(0,Vi.Be)("model",(tt,_t)=>{const jt=this._visible.read(tt);if(this._parentNode.style.visibility=jt?"visible":"hidden",!jt)return null;const Xt=_t.add(this._instantiationService.createInstance(Vd,this._diffs,this._editors,this._setVisible,this._canClose));return{model:Xt,view:_t.add(this._instantiationService.createInstance(Hd,this._parentNode,Xt,this._width,this._height,this._editors))}}),this._register((0,Vi.$g)(this.model,!0))}next(){(0,Vi.PS)(n=>{const s=this._visible.get();this._setVisible(!0,n),s&&this.model.get().model.nextGroup(n)})}prev(){(0,Vi.PS)(n=>{this._setVisible(!0,n),this.model.get().model.previousGroup(n)})}close(){(0,Vi.PS)(n=>{this._setVisible(!1,n)})}};Wd=Bd([Fd(8,qt.TG)],Wd);let Vd=class extends Ee.JT{constructor(n,s,C,H,X){super(),this._diffs=n,this._editors=s,this._setVisible=C,this.canClose=H,this._audioCueService=X,this._groups=(0,Vi.uh)("groups",[]),this._currentGroupIdx=(0,Vi.uh)("currentGroupIdx",0),this._currentElementIdx=(0,Vi.uh)("currentElementIdx",0),this.groups=this._groups,this.currentGroup=this._currentGroupIdx.map((me,Oe)=>this._groups.read(Oe)[me]),this.currentGroupIndex=this._currentGroupIdx,this.currentElement=this._currentElementIdx.map((me,Oe)=>{var ze;return null===(ze=this.currentGroup.read(Oe))||void 0===ze?void 0:ze.lines[me]}),this._register((0,Vi.EH)(me=>{const Oe=this._diffs.read(me);if(!Oe)return void this._groups.set([],void 0);const ze=function du(de,n,s){const C=[];for(const H of function*pu(de,n){let s,C;for(const H of de)void 0!==C&&n(C,H)?s.push(H):(s&&(yield s),s=[H]),C=H;s&&(yield s)}(de,(X,me)=>me.modifiedRange.startLineNumber-X.modifiedRange.endLineNumberExclusive<2*qa)){const X=[];X.push(new hu);const me=new qo.z(Math.max(1,H[0].originalRange.startLineNumber-qa),Math.min(H[H.length-1].originalRange.endLineNumberExclusive+qa,n+1)),Oe=new qo.z(Math.max(1,H[0].modifiedRange.startLineNumber-qa),Math.min(H[H.length-1].modifiedRange.endLineNumberExclusive+qa,s+1));mu(H,(tt,_t)=>{const jt=new qo.z(tt?tt.originalRange.endLineNumberExclusive:me.startLineNumber,_t?_t.originalRange.startLineNumber:me.endLineNumberExclusive),Xt=new qo.z(tt?tt.modifiedRange.endLineNumberExclusive:Oe.startLineNumber,_t?_t.modifiedRange.startLineNumber:Oe.endLineNumberExclusive);jt.forEach(Di=>{X.push(new fu(Di,Xt.startLineNumber+(Di-jt.startLineNumber)))}),_t&&(_t.originalRange.forEach(Di=>{X.push(new uu(_t,Di))}),_t.modifiedRange.forEach(Di=>{X.push(new gu(_t,Di))}))});const ze=H[0].modifiedRange.join(H[H.length-1].modifiedRange),Qe=H[0].originalRange.join(H[H.length-1].originalRange);C.push(new cu(new va.Qy(ze,Qe),X))}return C}(Oe,this._editors.original.getModel().getLineCount(),this._editors.modified.getModel().getLineCount());(0,Vi.PS)(Qe=>{const tt=this._editors.modified.getPosition();if(tt){const _t=ze.findIndex(jt=>tt?.lineNumber<jt.range.modified.endLineNumberExclusive);-1!==_t&&this._currentGroupIdx.set(_t,Qe)}this._groups.set(ze,Qe)})})),this._register((0,Vi.EH)(me=>{const Oe=this.currentElement.read(me);Oe?.type===ss.Deleted?this._audioCueService.playAudioCue(tr.y$.diffLineDeleted,{source:"accessibleDiffViewer.currentElementChanged"}):Oe?.type===ss.Added&&this._audioCueService.playAudioCue(tr.y$.diffLineInserted,{source:"accessibleDiffViewer.currentElementChanged"})})),this._register((0,Vi.EH)(me=>{var Oe;const ze=this.currentElement.read(me);if(ze&&ze.type!==ss.Header){const Qe=null!==(Oe=ze.modifiedLineNumber)&&void 0!==Oe?Oe:ze.diff.modifiedRange.startLineNumber;this._editors.modified.setSelection(Ho.e.fromPositions(new _s.L(Qe,1)))}}))}_goToGroupDelta(n,s){const C=this.groups.get();!C||C.length<=1||(0,Vi.c8)(s,H=>{this._currentGroupIdx.set(Bl.q.ofLength(C.length).clipCyclic(this._currentGroupIdx.get()+n),H),this._currentElementIdx.set(0,H)})}nextGroup(n){this._goToGroupDelta(1,n)}previousGroup(n){this._goToGroupDelta(-1,n)}_goToLineDelta(n){const s=this.currentGroup.get();!s||s.lines.length<=1||(0,Vi.PS)(C=>{this._currentElementIdx.set(Bl.q.ofLength(s.lines.length).clip(this._currentElementIdx.get()+n),C)})}goToNextLine(){this._goToLineDelta(1)}goToPreviousLine(){this._goToLineDelta(-1)}goToLine(n){const s=this.currentGroup.get();if(!s)return;const C=s.lines.indexOf(n);-1!==C&&(0,Vi.PS)(H=>{this._currentElementIdx.set(C,H)})}revealCurrentElementInEditor(){this._setVisible(!1,void 0);const n=this.currentElement.get();n&&(n.type===ss.Deleted?(this._editors.original.setSelection(Ho.e.fromPositions(new _s.L(n.originalLineNumber,1))),this._editors.original.revealLine(n.originalLineNumber),this._editors.original.focus()):(n.type!==ss.Header&&(this._editors.modified.setSelection(Ho.e.fromPositions(new _s.L(n.modifiedLineNumber,1))),this._editors.modified.revealLine(n.modifiedLineNumber)),this._editors.modified.focus()))}close(){this._setVisible(!1,void 0),this._editors.modified.focus()}};Vd=Bd([Fd(4,tr.e7)],Vd);const qa=3;var ss=function(de){return de[de.Header=0]="Header",de[de.Unchanged=1]="Unchanged",de[de.Deleted=2]="Deleted",de[de.Added=3]="Added",de}(ss||{});class cu{constructor(n,s){this.range=n,this.lines=s}}class hu{constructor(){this.type=ss.Header}}class uu{constructor(n,s){this.diff=n,this.originalLineNumber=s,this.type=ss.Deleted,this.modifiedLineNumber=void 0}}class gu{constructor(n,s){this.diff=n,this.modifiedLineNumber=s,this.type=ss.Added,this.originalLineNumber=void 0}}class fu{constructor(n,s){this.originalLineNumber=n,this.modifiedLineNumber=s,this.type=ss.Unchanged}}let Hd=class extends Ee.JT{constructor(n,s,C,H,X,me){super(),this._element=n,this._model=s,this._width=C,this._height=H,this._editors=X,this._languageService=me,this.domNode=this._element,this.domNode.className="diff-review monaco-editor-background";const Oe=document.createElement("div");Oe.className="diff-review-actions",this._actionBar=this._register(new Ws.o(Oe)),this._register((0,Vi.EH)(ze=>{this._actionBar.clear(),this._model.canClose.read(ze)&&this._actionBar.push(new zo.aU("diffreview.close",(0,si.NC)("label.close","Close"),"close-diff-review "+ls.k.asClassName(lu),!0,()=>function(de,n,s,C){return new(s||(s=Promise))(function(X,me){function Oe(tt){try{Qe(C.next(tt))}catch(_t){me(_t)}}function ze(tt){try{Qe(C.throw(tt))}catch(_t){me(_t)}}function Qe(tt){tt.done?X(tt.value):function H(X){return X instanceof s?X:new s(function(me){me(X)})}(tt.value).then(Oe,ze)}Qe((C=C.apply(de,n||[])).next())})}(this,void 0,void 0,function*(){return s.close()})),{label:!1,icon:!0})})),this._content=document.createElement("div"),this._content.className="diff-review-content",this._content.setAttribute("role","code"),this._scrollbar=this._register(new ta.s$(this._content,{})),(0,Jt.mc)(this.domNode,this._scrollbar.getDomNode(),Oe),this._register((0,Ee.OF)(()=>{(0,Jt.mc)(this.domNode)})),this._register(Nr(this.domNode,{width:this._width,height:this._height})),this._register(Nr(this._content,{width:this._width,height:this._height})),this._register((0,Vi.gp)((ze,Qe)=>{this._model.currentGroup.read(ze),this._render(Qe)})),this._register((0,Jt.mu)(this.domNode,"keydown",ze=>{(ze.equals(18)||ze.equals(2066)||ze.equals(530))&&(ze.preventDefault(),this._model.goToNextLine()),(ze.equals(16)||ze.equals(2064)||ze.equals(528))&&(ze.preventDefault(),this._model.goToPreviousLine()),(ze.equals(9)||ze.equals(2057)||ze.equals(521)||ze.equals(1033))&&(ze.preventDefault(),this._model.close()),(ze.equals(10)||ze.equals(3))&&(ze.preventDefault(),this._model.revealCurrentElementInEditor())}))}_render(n){const s=this._editors.original.getOptions(),C=this._editors.modified.getOptions(),H=document.createElement("div");H.className="diff-review-table",H.setAttribute("role","list"),H.setAttribute("aria-label",(0,si.NC)("ariaLabel","Accessible Diff Viewer. Use arrow up and down to navigate.")),(0,kd.N)(H,C.get(49)),(0,Jt.mc)(this._content,H);const X=this._editors.original.getModel(),me=this._editors.modified.getModel();if(!X||!me)return;const Oe=X.getOptions(),ze=me.getOptions(),Qe=C.get(65),tt=this._model.currentGroup.get();for(const _t of tt?.lines||[]){if(!tt)break;let jt;if(_t.type===ss.Header){const Di=document.createElement("div");Di.className="diff-review-row",Di.setAttribute("role","listitem");const xi=tt.range,Oi=this._model.currentGroupIndex.get(),Ui=this._model.groups.get().length,an=Yn=>0===Yn?(0,si.NC)("no_lines_changed","no lines changed"):1===Yn?(0,si.NC)("one_line_changed","1 line changed"):(0,si.NC)("more_lines_changed","{0} lines changed",Yn),pn=an(xi.original.length),Ri=an(xi.modified.length);Di.setAttribute("aria-label",(0,si.NC)({key:"header",comment:["This is the ARIA label for a git diff header.","A git diff header looks like this: @@ -154,12 +159,39 @@.","That encodes that at original line 154 (which is now line 159), 12 lines were removed/changed with 39 lines.","Variables 0 and 1 refer to the diff index out of total number of diffs.","Variables 2 and 4 will be numbers (a line number).",'Variables 3 and 5 will be "no lines changed", "1 line changed" or "X lines changed", localized separately.']},"Difference {0} of {1}: original line {2}, {3}, modified line {4}, {5}",Oi+1,Ui,xi.original.startLineNumber,pn,xi.modified.startLineNumber,Ri));const Sn=document.createElement("div");Sn.className="diff-review-cell diff-review-summary",Sn.appendChild(document.createTextNode(`${Oi+1}/${Ui}: @@ -${xi.original.startLineNumber},${xi.original.length} +${xi.modified.startLineNumber},${xi.modified.length} @@`)),Di.appendChild(Sn),jt=Di}else jt=this._createRow(_t,Qe,this._width.get(),s,X,Oe,C,me,ze);H.appendChild(jt);const Xt=(0,Vi.nK)(Di=>this._model.currentElement.read(Di)===_t);n.add((0,Vi.EH)(Di=>{const xi=Xt.read(Di);jt.tabIndex=xi?0:-1,xi&&jt.focus()})),n.add((0,Jt.nm)(jt,"focus",()=>{this._model.goToLine(_t)}))}this._scrollbar.scanDomNode()}_createRow(n,s,C,H,X,me,Oe,ze,Qe){const tt=H.get(142),_t=tt.glyphMarginWidth+tt.lineNumbersWidth,jt=Oe.get(142),Xt=10+jt.glyphMarginWidth+jt.lineNumbersWidth;let Di="diff-review-row",xi="",Ui=null;switch(n.type){case ss.Added:Di="diff-review-row line-insert",xi=" char-insert",Ui=ru;break;case ss.Deleted:Di="diff-review-row line-delete",xi=" char-delete",Ui=au}const an=document.createElement("div");an.style.minWidth=C+"px",an.className=Di,an.setAttribute("role","listitem"),an.ariaLevel="";const pn=document.createElement("div");pn.className="diff-review-cell",pn.style.height=`${s}px`,an.appendChild(pn);const Ri=document.createElement("span");Ri.style.width=_t+"px",Ri.style.minWidth=_t+"px",Ri.className="diff-review-line-number"+xi,void 0!==n.originalLineNumber?Ri.appendChild(document.createTextNode(String(n.originalLineNumber))):Ri.innerText="\xa0",pn.appendChild(Ri);const Sn=document.createElement("span");Sn.style.width=Xt+"px",Sn.style.minWidth=Xt+"px",Sn.style.paddingRight="10px",Sn.className="diff-review-line-number"+xi,void 0!==n.modifiedLineNumber?Sn.appendChild(document.createTextNode(String(n.modifiedLineNumber))):Sn.innerText="\xa0",pn.appendChild(Sn);const Yn=document.createElement("span");if(Yn.className="diff-review-spacer",Ui){const Hn=document.createElement("span");Hn.className=ls.k.asClassName(Ui),Hn.innerText="\xa0\xa0",Yn.appendChild(Hn)}else Yn.innerText="\xa0\xa0";let zn;if(pn.appendChild(Yn),void 0!==n.modifiedLineNumber){let Hn=this._getLineHtml(ze,Oe,Qe.tabSize,n.modifiedLineNumber,this._languageService.languageIdCodec);kl.j._ttPolicy&&(Hn=kl.j._ttPolicy.createHTML(Hn)),pn.insertAdjacentHTML("beforeend",Hn),zn=ze.getLineContent(n.modifiedLineNumber)}else{let Hn=this._getLineHtml(X,H,me.tabSize,n.originalLineNumber,this._languageService.languageIdCodec);kl.j._ttPolicy&&(Hn=kl.j._ttPolicy.createHTML(Hn)),pn.insertAdjacentHTML("beforeend",Hn),zn=X.getLineContent(n.originalLineNumber)}0===zn.length&&(zn=(0,si.NC)("blankLine","blank"));let to="";switch(n.type){case ss.Unchanged:to=n.originalLineNumber===n.modifiedLineNumber?(0,si.NC)({key:"unchangedLine",comment:["The placeholders are contents of the line and should not be translated."]},"{0} unchanged line {1}",zn,n.originalLineNumber):(0,si.NC)("equalLine","{0} original line {1} modified line {2}",zn,n.originalLineNumber,n.modifiedLineNumber);break;case ss.Added:to=(0,si.NC)("insertLine","+ {0} modified line {1}",zn,n.modifiedLineNumber);break;case ss.Deleted:to=(0,si.NC)("deleteLine","- {0} original line {1}",zn,n.originalLineNumber)}return an.setAttribute("aria-label",to),an}_getLineHtml(n,s,C,H,X){const me=n.getLineContent(H),Oe=s.get(49),ze=je.A.createEmpty(me,X),Qe=wt.wA.isBasicASCII(me,n.mightContainNonBasicASCII()),tt=wt.wA.containsRTL(me,Qe,n.mightContainRTL());return(0,et.tF)(new et.IJ(Oe.isMonospace&&!s.get(32),Oe.canUseHalfwidthRightwardsArrow,me,!1,Qe,tt,0,ze,[],C,0,Oe.spaceWidth,Oe.middotWidth,Oe.wsmiddotWidth,s.get(115),s.get(97),s.get(92),s.get(50)!==Q.n0.OFF,null)).html}};function mu(de,n){let s;for(const C of de)n(s,C),s=C;n(s,void 0)}Hd=Bd([Fd(5,Mi.O)],Hd);var Lc=e(10878);const vu=(0,Ja.q5)("diff-insert",jo.l.add,(0,si.NC)("diffInsertIcon","Line decoration for inserts in the diff editor.")),Ec=(0,Ja.q5)("diff-remove",jo.l.remove,(0,si.NC)("diffRemoveIcon","Line decoration for removals in the diff editor.")),Dc=cs.qx.register({className:"line-insert",description:"line-insert",isWholeLine:!0,linesDecorationsClassName:"insert-sign "+ls.k.asClassName(vu),marginClassName:"gutter-insert"}),xc=cs.qx.register({className:"line-delete",description:"line-delete",isWholeLine:!0,linesDecorationsClassName:"delete-sign "+ls.k.asClassName(Ec),marginClassName:"gutter-delete"}),Ic=cs.qx.register({className:"line-insert",description:"line-insert",isWholeLine:!0,marginClassName:"gutter-insert"}),Tc=cs.qx.register({className:"line-delete",description:"line-delete",isWholeLine:!0,marginClassName:"gutter-delete"}),Nc=cs.qx.register({className:"char-insert",description:"char-insert",shouldFillLineOnLineBreak:!0}),_u=cs.qx.register({className:"char-insert",description:"char-insert",isWholeLine:!0}),Cu=cs.qx.register({className:"char-insert diff-range-empty",description:"char-insert diff-range-empty"}),Ud=cs.qx.register({className:"char-delete",description:"char-delete",shouldFillLineOnLineBreak:!0}),bu=cs.qx.register({className:"char-delete",description:"char-delete",isWholeLine:!0}),yu=cs.qx.register({className:"char-delete diff-range-empty",description:"char-delete diff-range-empty"}),Su=cs.qx.register({description:"diff-editor-arrow-revert-change",glyphMarginHoverMessage:new Lc.W5(void 0,{isTrusted:!0,supportThemeIcons:!0}).appendMarkdown((0,si.NC)("revertChangeHoverMessage","Click to revert change")),glyphMarginClassName:"arrow-revert-change "+ls.k.asClassName(jo.l.arrowRight),zIndex:10001});let Fl=(()=>{class de extends Ee.JT{constructor(s,C,H,X,me){super(),this._rootElement=s,this._diffModel=C,this._originalEditorLayoutInfo=H,this._modifiedEditorLayoutInfo=X,this._editors=me,this._originalScrollTop=(0,Vi.rD)(this._editors.original.onDidScrollChange,()=>this._editors.original.getScrollTop()),this._modifiedScrollTop=(0,Vi.rD)(this._editors.modified.onDidScrollChange,()=>this._editors.modified.getScrollTop()),this._viewZonesChanged=(0,Vi.aq)("onDidChangeViewZones",this._editors.modified.onDidChangeViewZones),this.width=(0,Vi.uh)("width",0),this._modifiedViewZonesChangedSignal=(0,Vi.aq)("modified.onDidChangeViewZones",this._editors.modified.onDidChangeViewZones),this._originalViewZonesChangedSignal=(0,Vi.aq)("original.onDidChangeViewZones",this._editors.original.onDidChangeViewZones),this._state=(0,Vi.Be)("state",(Xt,Di)=>{var xi;this._element.replaceChildren();const Oi=this._diffModel.read(Xt),Ui=null===(xi=Oi?.diff.read(Xt))||void 0===xi?void 0:xi.movedTexts;if(!Ui||0===Ui.length)return void this.width.set(0,void 0);this._viewZonesChanged.read(Xt);const an=this._originalEditorLayoutInfo.read(Xt),pn=this._modifiedEditorLayoutInfo.read(Xt);if(!an||!pn)return void this.width.set(0,void 0);this._modifiedViewZonesChangedSignal.read(Xt),this._originalViewZonesChangedSignal.read(Xt);const Ri=Ui.map(Jn=>{function Lo(ms,hs){return(hs.getTopForLineNumber(ms.startLineNumber,!0)+hs.getTopForLineNumber(ms.endLineNumberExclusive,!0))/2}const ko=Lo(Jn.lineRangeMapping.original,this._editors.original),Bn=this._originalScrollTop.read(Xt),yo=Lo(Jn.lineRangeMapping.modified,this._editors.modified),ts=ko-Bn,Ds=yo-this._modifiedScrollTop.read(Xt),Zo=Math.min(ko,yo),Os=Math.max(ko,yo);return{range:new Bl.q(Zo,Os),from:ts,to:Ds,fromWithoutScroll:ko,toWithoutScroll:yo,move:Jn}});Ri.sort((0,hn.f_)((0,hn.tT)(Jn=>Jn.fromWithoutScroll>Jn.toWithoutScroll,hn.nW),(0,hn.tT)(Jn=>Jn.fromWithoutScroll>Jn.toWithoutScroll?Jn.fromWithoutScroll:-Jn.toWithoutScroll,hn.fv)));const Sn=zd.compute(Ri.map(Jn=>Jn.range)),zn=an.verticalScrollbarWidth,to=10*(Sn.getTrackCount()-1)+20,Hn=zn+to+(pn.contentLeft-de.movedCodeBlockPadding);let oo=0;for(const Jn of Ri){const ko=zn+10+10*Sn.getTrack(oo),Bn=15,yo=15,Ko=Hn,ts=pn.glyphMarginWidth+pn.lineNumbersWidth,Ds=18,Zo=document.createElementNS("http://www.w3.org/2000/svg","rect");Zo.classList.add("arrow-rectangle"),Zo.setAttribute("x",""+(Ko-ts)),Zo.setAttribute("y",""+(Jn.to-Ds/2)),Zo.setAttribute("width",`${ts}`),Zo.setAttribute("height",`${Ds}`),this._element.appendChild(Zo);const Os=document.createElementNS("http://www.w3.org/2000/svg","g"),ms=document.createElementNS("http://www.w3.org/2000/svg","path");ms.setAttribute("d",`M 0 ${Jn.from} L ${ko} ${Jn.from} L ${ko} ${Jn.to} L ${Ko-yo} ${Jn.to}`),ms.setAttribute("fill","none"),Os.appendChild(ms);const hs=document.createElementNS("http://www.w3.org/2000/svg","polygon");hs.classList.add("arrow"),Di.add((0,Vi.EH)(Vo=>{ms.classList.toggle("currentMove",Jn.move===Oi.activeMovedText.read(Vo)),hs.classList.toggle("currentMove",Jn.move===Oi.activeMovedText.read(Vo))})),hs.setAttribute("points",`${Ko-yo},${Jn.to-Bn/2} ${Ko},${Jn.to} ${Ko-yo},${Jn.to+Bn/2}`),Os.appendChild(hs),this._element.appendChild(Os),oo++}this.width.set(to,void 0)}),this._element=document.createElementNS("http://www.w3.org/2000/svg","svg"),this._element.setAttribute("class","moved-blocks-lines"),this._rootElement.appendChild(this._element),this._register((0,Ee.OF)(()=>this._element.remove())),this._register((0,Vi.EH)(Xt=>{const Di=this._originalEditorLayoutInfo.read(Xt),xi=this._modifiedEditorLayoutInfo.read(Xt);!Di||!xi||(this._element.style.left=Di.width-Di.verticalScrollbarWidth+"px",this._element.style.height=`${Di.height}px`,this._element.style.width=`${Di.verticalScrollbarWidth+Di.contentLeft-de.movedCodeBlockPadding+this.width.read(Xt)}px`)})),this._register((0,Vi.$g)(this._state,!0));const Oe=(0,Vi.nK)(Xt=>{const Di=this._diffModel.read(Xt),xi=Di?.diff.read(Xt);return xi?xi.movedTexts.map(Oi=>({move:Oi,original:new Pl((0,Vi.Dz)(Oi.lineRangeMapping.original.startLineNumber-1),18),modified:new Pl((0,Vi.Dz)(Oi.lineRangeMapping.modified.startLineNumber-1),18)})):[]});this._register(Ol(this._editors.original,Oe.map(Xt=>Xt.map(Di=>Di.original)))),this._register(Ol(this._editors.modified,Oe.map(Xt=>Xt.map(Di=>Di.modified)))),this._register((0,Vi.gp)((Xt,Di)=>{const xi=Oe.read(Xt);for(const Oi of xi)Di.add(new Mc(this._editors.original,Oi.original,Oi.move,"original",this._diffModel.get())),Di.add(new Mc(this._editors.modified,Oi.modified,Oi.move,"modified",this._diffModel.get()))}));const ze=(0,Vi.rD)(this._editors.original.onDidChangeCursorPosition,()=>this._editors.original.getPosition()),Qe=(0,Vi.rD)(this._editors.modified.onDidChangeCursorPosition,()=>this._editors.modified.getPosition()),tt=(0,Vi.aq)("original.onDidFocusEditorWidget",Xt=>this._editors.original.onDidFocusEditorWidget(()=>setTimeout(()=>Xt(void 0),0))),_t=(0,Vi.aq)("modified.onDidFocusEditorWidget",Xt=>this._editors.modified.onDidFocusEditorWidget(()=>setTimeout(()=>Xt(void 0),0)));let jt="modified";this._register((0,Vi.nJ)({createEmptyChangeSummary:()=>{},handleChange:(Xt,Di)=>(Xt.didChange(tt)&&(jt="original"),Xt.didChange(_t)&&(jt="modified"),!0)},Xt=>{tt.read(Xt),_t.read(Xt);const Di=this._diffModel.read(Xt);if(!Di)return;const xi=Di.diff.read(Xt);let Oi;if(xi&&"original"===jt){const Ui=ze.read(Xt);Ui&&(Oi=xi.movedTexts.find(an=>an.lineRangeMapping.original.contains(Ui.lineNumber)))}if(xi&&"modified"===jt){const Ui=Qe.read(Xt);Ui&&(Oi=xi.movedTexts.find(an=>an.lineRangeMapping.modified.contains(Ui.lineNumber)))}Oi!==Di.movedTextToCompare.get()&&Di.movedTextToCompare.set(void 0,void 0),Di.setActiveMovedText(Oi)}))}}return de.movedCodeBlockPadding=4,de})();class zd{static compute(n){const s=[],C=[];for(const H of n){let X=s.findIndex(me=>!me.intersectsStrict(H));-1===X&&(s.length>=6?X=(0,hn.tQ)(s,(0,hn.tT)(Oe=>Oe.intersectWithRangeLength(H),hn.fv)):(X=s.length,s.push(new Bl.M))),s[X].addRange(H),C.push(X)}return new zd(s.length,C)}constructor(n,s){this._trackCount=n,this.trackPerLineIdx=s}getTrack(n){return this.trackPerLineIdx[n]}getTrackCount(){return this._trackCount}}class Mc extends wc{constructor(n,s,C,H,X){const me=(0,Jt.h)("div.diff-hidden-lines-widget");super(n,s,me.root),this._editor=n,this._move=C,this._kind=H,this._diffModel=X,this._nodes=(0,Jt.h)("div.diff-moved-code-block",{style:{marginRight:"4px"}},[(0,Jt.h)("div.text-content@textContent"),(0,Jt.h)("div.action-bar@actionBar")]),me.root.appendChild(this._nodes.root);const Oe=(0,Vi.rD)(this._editor.onDidLayoutChange,()=>this._editor.getLayoutInfo());let ze;this._register(Nr(this._nodes.root,{paddingRight:Oe.map(jt=>jt.verticalScrollbarWidth)})),ze=C.changes.length>0?"original"===this._kind?(0,si.NC)("codeMovedToWithChanges","Code moved with changes to line {0}-{1}",this._move.lineRangeMapping.modified.startLineNumber,this._move.lineRangeMapping.modified.endLineNumberExclusive):(0,si.NC)("codeMovedFromWithChanges","Code moved with changes from line {0}-{1}",this._move.lineRangeMapping.original.startLineNumber,this._move.lineRangeMapping.original.endLineNumberExclusive):"original"===this._kind?(0,si.NC)("codeMovedTo","Code moved to line {0}-{1}",this._move.lineRangeMapping.modified.startLineNumber,this._move.lineRangeMapping.modified.endLineNumberExclusive):(0,si.NC)("codeMovedFrom","Code moved from line {0}-{1}",this._move.lineRangeMapping.original.startLineNumber,this._move.lineRangeMapping.original.endLineNumberExclusive);const Qe=this._register(new Ws.o(this._nodes.actionBar,{highlightToggledItems:!0})),tt=new zo.aU("",ze,"",!1);Qe.push(tt,{icon:!1,label:!0});const _t=new zo.aU("","Compare",ls.k.asClassName(jo.l.compareChanges),!0,()=>{this._editor.focus(),this._diffModel.movedTextToCompare.set(this._diffModel.movedTextToCompare.get()===C?void 0:this._move,void 0)});this._register((0,Vi.EH)(jt=>{const Xt=this._diffModel.movedTextToCompare.read(jt)===C;_t.checked=Xt})),Qe.push(_t,{icon:!1,label:!0})}}class wu extends Ee.JT{constructor(n,s,C){super(),this._editors=n,this._diffModel=s,this._options=C,this._decorations=(0,Vi.nK)(H=>{var X;const me=null===(X=this._diffModel.read(H))||void 0===X?void 0:X.diff.read(H);if(!me)return null;const Oe=this._diffModel.read(H).movedTextToCompare.read(H),ze=this._options.renderIndicators.read(H),Qe=this._options.showEmptyDecorations.read(H),tt=[],_t=[];if(!Oe)for(const Xt of me.mappings){if(Xt.lineRangeMapping.originalRange.isEmpty||tt.push({range:Xt.lineRangeMapping.originalRange.toInclusiveRange(),options:ze?xc:Tc}),Xt.lineRangeMapping.modifiedRange.isEmpty||_t.push({range:Xt.lineRangeMapping.modifiedRange.toInclusiveRange(),options:ze?Dc:Ic}),Xt.lineRangeMapping.modifiedRange.isEmpty||Xt.lineRangeMapping.originalRange.isEmpty)Xt.lineRangeMapping.originalRange.isEmpty||tt.push({range:Xt.lineRangeMapping.originalRange.toInclusiveRange(),options:bu}),Xt.lineRangeMapping.modifiedRange.isEmpty||_t.push({range:Xt.lineRangeMapping.modifiedRange.toInclusiveRange(),options:_u});else for(const Di of Xt.lineRangeMapping.innerChanges||[])Xt.lineRangeMapping.originalRange.contains(Di.originalRange.startLineNumber)&&tt.push({range:Di.originalRange,options:Di.originalRange.isEmpty()&&Qe?yu:Ud}),Xt.lineRangeMapping.modifiedRange.contains(Di.modifiedRange.startLineNumber)&&_t.push({range:Di.modifiedRange,options:Di.modifiedRange.isEmpty()&&Qe?Cu:Nc});!Xt.lineRangeMapping.modifiedRange.isEmpty&&this._options.shouldRenderRevertArrows.read(H)&&!Oe&&_t.push({range:Ho.e.fromPositions(new _s.L(Xt.lineRangeMapping.modifiedRange.startLineNumber,1)),options:Su})}if(Oe)for(const Xt of Oe.changes){const Di=Xt.originalRange.toInclusiveRange();Di&&tt.push({range:Di,options:ze?xc:Tc});const xi=Xt.modifiedRange.toInclusiveRange();xi&&_t.push({range:xi,options:ze?Dc:Ic});for(const Oi of Xt.innerChanges||[])tt.push({range:Oi.originalRange,options:Ud}),_t.push({range:Oi.modifiedRange,options:Nc})}const jt=this._diffModel.read(H).activeMovedText.read(H);for(const Xt of me.movedTexts)tt.push({range:Xt.lineRangeMapping.original.toInclusiveRange(),options:{description:"moved",blockClassName:"movedOriginal"+(Xt===jt?" currentMove":""),blockPadding:[Fl.movedCodeBlockPadding,0,Fl.movedCodeBlockPadding,Fl.movedCodeBlockPadding]}}),_t.push({range:Xt.lineRangeMapping.modified.toInclusiveRange(),options:{description:"moved",blockClassName:"movedModified"+(Xt===jt?" currentMove":""),blockPadding:[4,0,4,4]}});return{originalDecorations:tt,modifiedDecorations:_t}}),this._register(Al(this._editors.original,this._decorations.map(H=>H?.originalDecorations||[]))),this._register(Al(this._editors.modified,this._decorations.map(H=>H?.modifiedDecorations||[])))}}var Lu=e(89344);class Eu extends Ee.JT{constructor(n,s,C){super(),this._options=n,this._domNode=s,this._dimensions=C,this._sashRatio=(0,Vi.uh)("sashRatio",void 0),this.sashLeft=(0,Vi.nK)(H=>{var X;const me=null!==(X=this._sashRatio.read(H))&&void 0!==X?X:this._options.splitViewDefaultRatio.read(H);return this._computeSashLeft(me,H)}),this._sash=this._register(new Lu.g(this._domNode,{getVerticalSashTop:H=>0,getVerticalSashLeft:H=>this.sashLeft.get(),getVerticalSashHeight:H=>this._dimensions.height.get()},{orientation:0})),this._startSashPosition=void 0,this._register(this._sash.onDidStart(()=>{this._startSashPosition=this.sashLeft.get()})),this._register(this._sash.onDidChange(H=>{const X=this._dimensions.width.get(),me=this._computeSashLeft((this._startSashPosition+(H.currentX-H.startX))/X,void 0);this._sashRatio.set(me/X,void 0)})),this._register(this._sash.onDidEnd(()=>this._sash.layout())),this._register(this._sash.onDidReset(()=>this._sashRatio.set(void 0,void 0))),this._register((0,Vi.EH)(H=>{const X=this._options.enableSplitViewResizing.read(H);this._sash.state=X?3:0,this.sashLeft.read(H),this._sash.layout()}))}setBoundarySashes(n){this._sash.orthogonalEndSash=n.bottom}_computeSashLeft(n,s){const C=this._dimensions.width.read(s),H=Math.floor(this._options.splitViewDefaultRatio.read(s)*C),X=this._options.enableSplitViewResizing.read(s)?Math.floor(n*C):H;return C<=200?H:X<100?100:X>C-100?C-100:X}}var Du=e(45332),xu=e(86600),Wl=e(63708),Ac=e(16637),Rc=function(de,n,s,C){return new(s||(s=Promise))(function(X,me){function Oe(tt){try{Qe(C.next(tt))}catch(_t){me(_t)}}function ze(tt){try{Qe(C.throw(tt))}catch(_t){me(_t)}}function Qe(tt){tt.done?X(tt.value):function H(X){return X instanceof s?X:new s(function(me){me(X)})}(tt.value).then(Oe,ze)}Qe((C=C.apply(de,n||[])).next())})};class Iu extends Ee.JT{setActiveMovedText(n){this._activeMovedText.set(n,void 0)}constructor(n,s,C){super(),this.model=n,this._options=s,this._isDiffUpToDate=(0,Vi.uh)("isDiffUpToDate",!1),this.isDiffUpToDate=this._isDiffUpToDate,this._diff=(0,Vi.uh)("diff",void 0),this.diff=this._diff,this._unchangedRegions=(0,Vi.uh)("unchangedRegion",{regions:[],originalDecorationIds:[],modifiedDecorationIds:[]}),this.unchangedRegions=(0,Vi.nK)(ze=>this._options.hideUnchangedRegions.read(ze)?this._unchangedRegions.read(ze).regions:((0,Vi.PS)(Qe=>{for(const tt of this._unchangedRegions.get().regions)tt.collapseAll(Qe)}),[])),this.movedTextToCompare=(0,Vi.uh)("movedTextToCompare",void 0),this._activeMovedText=(0,Vi.uh)("activeMovedText",void 0),this._hoveredMovedText=(0,Vi.uh)("hoveredMovedText",void 0),this.activeMovedText=(0,Vi.nK)(ze=>{var Qe,tt;return null!==(tt=null!==(Qe=this.movedTextToCompare.read(ze))&&void 0!==Qe?Qe:this._hoveredMovedText.read(ze))&&void 0!==tt?tt:this._activeMovedText.read(ze)}),this._cancellationTokenSource=new Ns.A,this._register((0,Ee.OF)(()=>this._cancellationTokenSource.cancel()));const H=(0,Vi.GN)("contentChangedSignal"),X=this._register(new Hi.pY(()=>H.trigger(void 0),200)),me=(ze,Qe,tt)=>{const _t=Vl.fromDiffs(ze.changes,n.original.getLineCount(),n.modified.getLineCount(),this._options.hideUnchangedRegionsminimumLineCount.read(tt),this._options.hideUnchangedRegionsContextLineCount.read(tt)),jt=this._unchangedRegions.get(),Xt=jt.originalDecorationIds.map(Ui=>n.original.getDecorationRange(Ui)).filter(Ui=>!!Ui).map(Ui=>qo.z.fromRange(Ui)),Di=jt.modifiedDecorationIds.map(Ui=>n.modified.getDecorationRange(Ui)).filter(Ui=>!!Ui).map(Ui=>qo.z.fromRange(Ui)),xi=n.original.deltaDecorations(jt.originalDecorationIds,_t.map(Ui=>({range:Ui.originalRange.toInclusiveRange(),options:{description:"unchanged"}}))),Oi=n.modified.deltaDecorations(jt.modifiedDecorationIds,_t.map(Ui=>({range:Ui.modifiedRange.toInclusiveRange(),options:{description:"unchanged"}})));for(const Ui of _t)for(let an=0;an<jt.regions.length;an++)if(Ui.originalRange.intersectsStrict(Xt[an])&&Ui.modifiedRange.intersectsStrict(Di[an])){Ui.setHiddenModifiedRange(jt.regions[an].getHiddenModifiedRange(void 0),Qe);break}this._unchangedRegions.set({regions:_t,originalDecorationIds:xi,modifiedDecorationIds:Oi},Qe)};this._register(n.modified.onDidChangeContent(ze=>{if(this._diff.get()){Wl.Q.fromModelContentChanges(ze.changes);const _t=void 0;_t&&(this._lastDiff=_t,(0,Vi.PS)(jt=>{this._diff.set(el.fromDiffResult(this._lastDiff),jt),me(_t,jt);const Xt=this.movedTextToCompare.get();this.movedTextToCompare.set(Xt?this._lastDiff.moves.find(Di=>Di.lineRangeMapping.modified.intersect(Xt.lineRangeMapping.modified)):void 0,jt)}))}X.schedule()})),this._register(n.original.onDidChangeContent(ze=>{if(this._diff.get()){Wl.Q.fromModelContentChanges(ze.changes);const _t=void 0;_t&&(this._lastDiff=_t,(0,Vi.PS)(jt=>{this._diff.set(el.fromDiffResult(this._lastDiff),jt),me(_t,jt);const Xt=this.movedTextToCompare.get();this.movedTextToCompare.set(Xt?this._lastDiff.moves.find(Di=>Di.lineRangeMapping.modified.intersect(Xt.lineRangeMapping.modified)):void 0,jt)}))}X.schedule()}));const Oe=(0,Vi.aq)("documentDiffProviderOptionChanged",C.onDidChange);this._register((0,Vi.gp)((ze,Qe)=>Rc(this,void 0,void 0,function*(){this._options.hideUnchangedRegionsminimumLineCount.read(ze),this._options.hideUnchangedRegionsContextLineCount.read(ze),X.cancel(),H.read(ze),Oe.read(ze),zr(xu.a7,ze),this._isDiffUpToDate.set(!1,void 0);let jt=[];Qe.add(n.original.onDidChangeContent(xi=>{const Oi=Wl.Q.fromModelContentChanges(xi.changes);jt=(0,Ac.o)(jt,Oi)}));let Xt=[];Qe.add(n.modified.onDidChangeContent(xi=>{const Oi=Wl.Q.fromModelContentChanges(xi.changes);Xt=(0,Ac.o)(Xt,Oi)}));let Di=yield C.computeDiff(n.original,n.modified,{ignoreTrimWhitespace:this._options.ignoreTrimWhitespace.read(ze),maxComputationTimeMs:this._options.maxComputationTimeMs.read(ze),computeMoves:this._options.showMoves.read(ze)},this._cancellationTokenSource.token);this._cancellationTokenSource.token.isCancellationRequested||(0,Vi.PS)(xi=>{me(Di,xi),this._lastDiff=Di;const Oi=el.fromDiffResult(Di);this._diff.set(Oi,xi),this._isDiffUpToDate.set(!0,xi);const Ui=this.movedTextToCompare.get();this.movedTextToCompare.set(Ui?this._lastDiff.moves.find(an=>an.lineRangeMapping.modified.intersect(Ui.lineRangeMapping.modified)):void 0,xi)})})))}ensureModifiedLineIsVisible(n,s){var C;if(0===(null===(C=this.diff.get())||void 0===C?void 0:C.mappings.length))return;const H=this._unchangedRegions.get().regions;for(const X of H)if(X.getHiddenModifiedRange(void 0).contains(n))return void X.showModifiedLine(n,s)}ensureOriginalLineIsVisible(n,s){var C;if(0===(null===(C=this.diff.get())||void 0===C?void 0:C.mappings.length))return;const H=this._unchangedRegions.get().regions;for(const X of H)if(X.getHiddenOriginalRange(void 0).contains(n))return void X.showOriginalLine(n,s)}waitForDiff(){return Rc(this,void 0,void 0,function*(){yield(0,Vi.F_)(this.isDiffUpToDate,n=>n)})}serializeState(){return{collapsedRegions:this._unchangedRegions.get().regions.map(s=>({range:s.getHiddenModifiedRange(void 0).serialize()}))}}restoreSerializedState(n){const s=n.collapsedRegions.map(H=>qo.z.deserialize(H.range)),C=this._unchangedRegions.get();(0,Vi.PS)(H=>{for(const X of C.regions)for(const me of s)if(X.modifiedRange.intersect(me)){X.setHiddenModifiedRange(me,H);break}})}}class el{static fromDiffResult(n){return new el(n.changes.map(s=>new Pc(s)),n.moves||[],n.identical,n.quitEarly)}constructor(n,s,C,H){this.mappings=n,this.movedTexts=s,this.identical=C,this.quitEarly=H}}class Pc{constructor(n){this.lineRangeMapping=n}}class Vl{static fromDiffs(n,s,C,H,X){const me=va.f0.inverse(n,s,C),Oe=[];for(const ze of me){let Qe=ze.originalRange.startLineNumber,tt=ze.modifiedRange.startLineNumber,_t=ze.originalRange.length;const jt=1===Qe&&1===tt,Xt=Qe+_t===s+1&&tt+_t===C+1;(jt||Xt)&&_t>=X+H?(jt&&!Xt&&(_t-=X),Xt&&!jt&&(Qe+=X,tt+=X,_t-=X),Oe.push(new Vl(Qe,tt,_t,0,0))):_t>=2*X+H&&(Qe+=X,tt+=X,_t-=2*X,Oe.push(new Vl(Qe,tt,_t,0,0)))}return Oe}get originalRange(){return qo.z.ofLength(this.originalLineNumber,this.lineCount)}get modifiedRange(){return qo.z.ofLength(this.modifiedLineNumber,this.lineCount)}constructor(n,s,C,H,X){this.originalLineNumber=n,this.modifiedLineNumber=s,this.lineCount=C,this._visibleLineCountTop=(0,Vi.uh)("visibleLineCountTop",0),this.visibleLineCountTop=this._visibleLineCountTop,this._visibleLineCountBottom=(0,Vi.uh)("visibleLineCountBottom",0),this.visibleLineCountBottom=this._visibleLineCountBottom,this._shouldHideControls=(0,Vi.nK)(me=>this.visibleLineCountTop.read(me)+this.visibleLineCountBottom.read(me)===this.lineCount&&!this.isDragged.read(me)),this.isDragged=(0,Vi.uh)("isDragged",!1),this._visibleLineCountTop.set(H,void 0),this._visibleLineCountBottom.set(X,void 0)}shouldHideControls(n){return this._shouldHideControls.read(n)}getHiddenOriginalRange(n){return qo.z.ofLength(this.originalLineNumber+this._visibleLineCountTop.read(n),this.lineCount-this._visibleLineCountTop.read(n)-this._visibleLineCountBottom.read(n))}getHiddenModifiedRange(n){return qo.z.ofLength(this.modifiedLineNumber+this._visibleLineCountTop.read(n),this.lineCount-this._visibleLineCountTop.read(n)-this._visibleLineCountBottom.read(n))}setHiddenModifiedRange(n,s){this.setState(n.startLineNumber-this.modifiedLineNumber,this.modifiedLineNumber+this.lineCount-n.endLineNumberExclusive,s)}getMaxVisibleLineCountTop(){return this.lineCount-this._visibleLineCountBottom.get()}getMaxVisibleLineCountBottom(){return this.lineCount-this._visibleLineCountTop.get()}showMoreAbove(n=10,s){const C=this.getMaxVisibleLineCountTop();this._visibleLineCountTop.set(Math.min(this._visibleLineCountTop.get()+n,C),s)}showMoreBelow(n=10,s){const C=this.lineCount-this._visibleLineCountTop.get();this._visibleLineCountBottom.set(Math.min(this._visibleLineCountBottom.get()+n,C),s)}showAll(n){this._visibleLineCountBottom.set(this.lineCount-this._visibleLineCountTop.get(),n)}showModifiedLine(n,s){const C=n+1-(this.modifiedLineNumber+this._visibleLineCountTop.get()),H=this.modifiedLineNumber-this._visibleLineCountBottom.get()+this.lineCount-n;C<H?this._visibleLineCountTop.set(this._visibleLineCountTop.get()+C,s):this._visibleLineCountBottom.set(this._visibleLineCountBottom.get()+H,s)}showOriginalLine(n,s){const C=n-this.originalLineNumber,H=this.originalLineNumber+this.lineCount-n;C<H?this._visibleLineCountTop.set(Math.min(this._visibleLineCountTop.get()+H-C,this.getMaxVisibleLineCountTop()),s):this._visibleLineCountBottom.set(Math.min(this._visibleLineCountBottom.get()+C-H,this.getMaxVisibleLineCountBottom()),s)}collapseAll(n){this._visibleLineCountTop.set(0,n),this._visibleLineCountBottom.set(0,n)}setState(n,s,C){n=Math.max(Math.min(n,this.lineCount),0),s=Math.max(Math.min(s,this.lineCount-n),0),this._visibleLineCountTop.set(n,C),this._visibleLineCountBottom.set(s,C)}}var jd=function(de,n,s,C){return new(s||(s=Promise))(function(X,me){function Oe(tt){try{Qe(C.next(tt))}catch(_t){me(_t)}}function ze(tt){try{Qe(C.throw(tt))}catch(_t){me(_t)}}function Qe(tt){tt.done?X(tt.value):function H(X){return X instanceof s?X:new s(function(me){me(X)})}(tt.value).then(Oe,ze)}Qe((C=C.apply(de,n||[])).next())})};class Tu extends Ee.JT{get visibility(){return this._visibility}set visibility(n){this._visibility!==n&&(this._visibility=n,this._diffActions.style.visibility=n?"visible":"hidden")}constructor(n,s,C,H,X,me,Oe,ze,Qe){super(),this._getViewZoneId=n,this._marginDomNode=s,this._modifiedEditor=C,this._diff=H,this._editor=X,this._viewLineCounts=me,this._originalTextModel=Oe,this._contextMenuService=ze,this._clipboardService=Qe,this._visibility=!1,this._marginDomNode.style.zIndex="10",this._diffActions=document.createElement("div"),this._diffActions.className=ls.k.asClassName(jo.l.lightBulb)+" lightbulb-glyph",this._diffActions.style.position="absolute";const tt=this._modifiedEditor.getOption(65);this._diffActions.style.right="0px",this._diffActions.style.visibility="hidden",this._diffActions.style.height=`${tt}px`,this._diffActions.style.lineHeight=`${tt}px`,this._marginDomNode.appendChild(this._diffActions);let _t=0;const jt=C.getOption(125)&&!Kn.gn,Xt=(Di,xi)=>{var Oi;this._contextMenuService.showContextMenu({domForShadowRoot:jt&&null!==(Oi=C.getDomNode())&&void 0!==Oi?Oi:void 0,getAnchor:()=>({x:Di,y:xi}),getActions:()=>{const Ui=[],an=H.modifiedRange.isEmpty;return Ui.push(new zo.aU("diff.clipboard.copyDeletedContent",an?H.originalRange.length>1?(0,si.NC)("diff.clipboard.copyDeletedLinesContent.label","Copy deleted lines"):(0,si.NC)("diff.clipboard.copyDeletedLinesContent.single.label","Copy deleted line"):H.originalRange.length>1?(0,si.NC)("diff.clipboard.copyChangedLinesContent.label","Copy changed lines"):(0,si.NC)("diff.clipboard.copyChangedLinesContent.single.label","Copy changed line"),void 0,!0,()=>jd(this,void 0,void 0,function*(){const Ri=this._originalTextModel.getValueInRange(H.originalRange.toExclusiveRange());yield this._clipboardService.writeText(Ri)}))),H.originalRange.length>1&&Ui.push(new zo.aU("diff.clipboard.copyDeletedLineContent",an?(0,si.NC)("diff.clipboard.copyDeletedLineContent.label","Copy deleted line ({0})",H.originalRange.startLineNumber+_t):(0,si.NC)("diff.clipboard.copyChangedLineContent.label","Copy changed line ({0})",H.originalRange.startLineNumber+_t),void 0,!0,()=>jd(this,void 0,void 0,function*(){let Ri=this._originalTextModel.getLineContent(H.originalRange.startLineNumber+_t);""===Ri&&(Ri=0===this._originalTextModel.getEndOfLineSequence()?"\n":"\r\n"),yield this._clipboardService.writeText(Ri)}))),C.getOption(89)||Ui.push(new zo.aU("diff.inline.revertChange",(0,si.NC)("diff.inline.revertChange.label","Revert this change"),void 0,!0,()=>jd(this,void 0,void 0,function*(){this._editor.revert(this._diff)}))),Ui},autoSelectFirstItem:!0})};this._register((0,Jt.mu)(this._diffActions,"mousedown",Di=>{const{top:xi,height:Oi}=(0,Jt.i)(this._diffActions),Ui=Math.floor(tt/3);Di.preventDefault(),Xt(Di.posx,xi+Oi+Ui)})),this._register(C.onMouseMove(Di=>{8!==Di.target.type&&5!==Di.target.type||Di.target.detail.viewZoneId!==this._getViewZoneId()?this.visibility=!1:(_t=this._updateLightBulbPosition(this._marginDomNode,Di.event.browserEvent.y,tt),this.visibility=!0)})),this._register(C.onMouseDown(Di=>{Di.event.rightButton&&(8===Di.target.type||5===Di.target.type)&&Di.target.detail.viewZoneId===this._getViewZoneId()&&(Di.event.preventDefault(),_t=this._updateLightBulbPosition(this._marginDomNode,Di.event.browserEvent.y,tt),Xt(Di.event.posx,Di.event.posy+tt))}))}_updateLightBulbPosition(n,s,C){const{top:H}=(0,Jt.i)(n),me=Math.floor((s-H)/C);if(this._diffActions.style.top=me*C+"px",this._viewLineCounts){let ze=0;for(let Qe=0;Qe<this._viewLineCounts.length;Qe++)if(ze+=this._viewLineCounts[Qe],me<ze)return Qe}return me}}var Nu=e(85460),Oc=e(48092);const kc=Un.N;function Mu(de,n,s,C){(0,kd.N)(C,n.fontInfo);const H=s.length>0,X=new Nu.HT(1e4);let me=0,Oe=0;const ze=[];for(let jt=0;jt<de.lineTokens.length;jt++){const Di=de.lineTokens[jt],xi=de.lineBreakData[jt],Oi=Oc.Kp.filter(s,jt+1,1,Number.MAX_SAFE_INTEGER);if(xi){let Ui=0;for(const an of xi.breakOffsets){const pn=Di.sliceAndInflate(Ui,an,0);me=Math.max(me,Bc(Oe,pn,Oc.Kp.extractWrapped(Oi,Ui,an),H,de.mightContainNonBasicASCII,de.mightContainRTL,n,X)),Oe++,Ui=an}ze.push(xi.breakOffsets.length)}else ze.push(1),me=Math.max(me,Bc(Oe,Di,Oi,H,de.mightContainNonBasicASCII,de.mightContainRTL,n,X)),Oe++}me+=n.scrollBeyondLastColumn;const Qe=X.build(),tt=kc?kc.createHTML(Qe):Qe;return C.innerHTML=tt,{heightInLines:Oe,minWidthInPx:me*n.typicalHalfwidthCharacterWidth,viewLineCounts:ze}}class Au{constructor(n,s,C,H){this.lineTokens=n,this.lineBreakData=s,this.mightContainNonBasicASCII=C,this.mightContainRTL=H}}class Kd{static fromEditor(n){var s;const C=n.getOptions(),H=C.get(49),X=C.get(142);return new Kd((null===(s=n.getModel())||void 0===s?void 0:s.getOptions().tabSize)||0,H,C.get(32),H.typicalHalfwidthCharacterWidth,C.get(102),C.get(65),X.decorationsWidth,C.get(115),C.get(97),C.get(92),C.get(50))}constructor(n,s,C,H,X,me,Oe,ze,Qe,tt,_t){this.tabSize=n,this.fontInfo=s,this.disableMonospaceOptimizations=C,this.typicalHalfwidthCharacterWidth=H,this.scrollBeyondLastColumn=X,this.lineHeight=me,this.lineDecorationsWidth=Oe,this.stopRenderingLineAfter=ze,this.renderWhitespace=Qe,this.renderControlCharacters=tt,this.fontLigatures=_t}}function Bc(de,n,s,C,H,X,me,Oe){Oe.appendString('<div class="view-line'),C||Oe.appendString(" char-delete"),Oe.appendString('" style="top:'),Oe.appendString(String(de*me.lineHeight)),Oe.appendString('px;width:1000000px;">');const ze=n.getLineContent(),Qe=wt.wA.isBasicASCII(ze,H),tt=wt.wA.containsRTL(ze,Qe,X),_t=(0,et.d1)(new et.IJ(me.fontInfo.isMonospace&&!me.disableMonospaceOptimizations,me.fontInfo.canUseHalfwidthRightwardsArrow,ze,!1,Qe,tt,0,n,s,me.tabSize,0,me.fontInfo.spaceWidth,me.fontInfo.middotWidth,me.fontInfo.wsmiddotWidth,me.stopRenderingLineAfter,me.renderWhitespace,me.renderControlCharacters,me.fontLigatures!==Q.n0.OFF,null),Oe);return Oe.appendString("</div>"),_t.characterMapping.getHorizontalOffset(_t.characterMapping.length)}var Fc=function(de,n){return function(s,C){n(s,C,de)}};let $d=class extends Ee.JT{constructor(n,s,C,H,X,me,Oe){super(),this._editors=n,this._diffModel=s,this._options=C,this._diffEditorWidget=H,this._canIgnoreViewZoneUpdateEvent=X,this._clipboardService=me,this._contextMenuService=Oe,this._originalTopPadding=(0,Vi.uh)("originalTopPadding",0),this._originalScrollOffset=(0,Vi.uh)("originalScrollOffset",0),this._originalScrollOffsetAnimated=Sc(this._originalScrollOffset,this._store),this._modifiedTopPadding=(0,Vi.uh)("modifiedTopPadding",0),this._modifiedScrollOffset=(0,Vi.uh)("modifiedScrollOffset",0),this._modifiedScrollOffsetAnimated=Sc(this._modifiedScrollOffset,this._store);let ze=!1;const Qe=(0,Vi.uh)("state",0),tt=this._register(new Hi.pY(()=>{Qe.set(Qe.get()+1,void 0)},0));this._register(this._editors.original.onDidChangeViewZones(Ri=>{!ze&&!this._canIgnoreViewZoneUpdateEvent()&&tt.schedule()})),this._register(this._editors.modified.onDidChangeViewZones(Ri=>{!ze&&!this._canIgnoreViewZoneUpdateEvent()&&tt.schedule()})),this._register(this._editors.original.onDidChangeConfiguration(Ri=>{(Ri.hasChanged(143)||Ri.hasChanged(65))&&tt.schedule()})),this._register(this._editors.modified.onDidChangeConfiguration(Ri=>{(Ri.hasChanged(143)||Ri.hasChanged(65))&&tt.schedule()}));const _t=this._diffModel.map(Ri=>Ri?(0,Vi.rD)(Ri.model.original.onDidChangeTokens,()=>2===Ri.model.original.tokenization.backgroundTokenizationState):void 0).map((Ri,Sn)=>Ri?.read(Sn)),jt=new Set,Xt=new Set,Di=(0,Vi.nK)(Ri=>{const Sn=this._diffModel.read(Ri),Yn=Sn?.diff.read(Ri);if(!Sn||!Yn)return null;Qe.read(Ri);const to=this._options.renderSideBySide.read(Ri);return Wc(this._editors.original,this._editors.modified,Yn.mappings,jt,Xt,to)}),xi=(0,Vi.nK)(Ri=>{var Sn;const Yn=null===(Sn=this._diffModel.read(Ri))||void 0===Sn?void 0:Sn.movedTextToCompare.read(Ri);if(!Yn)return null;Qe.read(Ri);const zn=Yn.changes.map(to=>new Pc(to));return Wc(this._editors.original,this._editors.modified,zn,jt,Xt,!0)});function Oi(){const Ri=document.createElement("div");return Ri.className="diagonal-fill",Ri}const Ui=this._register(new Ee.SL),an=(0,Vi.nK)(Ri=>{var Sn,Yn,zn,to,Hn,oo,Jn,Lo;Ui.clear();const ko=Di.read(Ri)||[],Bn=[],yo=[],Ko=this._modifiedTopPadding.read(Ri);Ko>0&&yo.push({afterLineNumber:0,domNode:document.createElement("div"),heightInPx:Ko,showInHiddenAreas:!0});const ts=this._originalTopPadding.read(Ri);ts>0&&Bn.push({afterLineNumber:0,domNode:document.createElement("div"),heightInPx:ts,showInHiddenAreas:!0});const Ds=this._options.renderSideBySide.read(Ri),Zo=Ds||null===(Sn=this._editors.modified._getViewModel())||void 0===Sn?void 0:Sn.createLineBreaksComputer();if(Zo)for(const So of ko)if(So.diff)for(let ps=So.originalRange.startLineNumber;ps<So.originalRange.endLineNumberExclusive;ps++)Zo?.addRequest(this._editors.original.getModel().getLineContent(ps),null,null);const Os=null!==(Yn=Zo?.finalize())&&void 0!==Yn?Yn:[];let ms=0;const hs=this._editors.modified.getOption(65),Vo=null===(zn=this._diffModel.read(Ri))||void 0===zn?void 0:zn.movedTextToCompare.read(Ri),ol=null!==(Hn=null===(to=this._editors.original.getModel())||void 0===to?void 0:to.mightContainNonBasicASCII())&&void 0!==Hn&&Hn,Df=null!==(Jn=null===(oo=this._editors.original.getModel())||void 0===oo?void 0:oo.mightContainRTL())&&void 0!==Jn&&Jn,oc=Kd.fromEditor(this._editors.modified);for(const So of ko)if(So.diff&&!Ds){if(!So.originalRange.isEmpty){_t.read(Ri);const sl=document.createElement("div");sl.classList.add("view-lines","line-delete","monaco-mouse-cursor-text");const jl=new Au(So.originalRange.mapToLineArray(us=>this._editors.original.getModel().tokenization.getLineTokens(us)),So.originalRange.mapToLineArray(us=>Os[ms++]),ol,Df),rl=[];for(const us of So.diff.innerChanges||[])rl.push(new wt.$t(us.originalRange.delta(-(So.diff.originalRange.startLineNumber-1)),Ud.className,0));const Ca=Mu(jl,oc,rl,sl),al=document.createElement("div");if(al.className="inline-deleted-margin-view-zone",(0,kd.N)(al,oc.fontInfo),this._options.renderIndicators.read(Ri))for(let us=0;us<Ca.heightInLines;us++){const ba=document.createElement("div");ba.className=`delete-sign ${ls.k.asClassName(Ec)}`,ba.setAttribute("style",`position:absolute;top:${us*hs}px;width:${oc.lineDecorationsWidth}px;height:${hs}px;right:0;`),al.appendChild(ba)}let vh;Ui.add(new Tu(()=>(0,Fs.cW)(vh),al,this._editors.modified,So.diff,this._diffEditorWidget,Ca.viewLineCounts,this._editors.original.getModel(),this._contextMenuService,this._clipboardService));for(let us=0;us<Ca.viewLineCounts.length;us++){const ba=Ca.viewLineCounts[us];ba>1&&Bn.push({afterLineNumber:So.originalRange.startLineNumber+us,domNode:Oi(),heightInPx:(ba-1)*hs,showInHiddenAreas:!0})}yo.push({afterLineNumber:So.modifiedRange.startLineNumber-1,domNode:sl,heightInPx:Ca.heightInLines*hs,minWidthInPx:Ca.minWidthInPx,marginDomNode:al,setZoneId(us){vh=us},showInHiddenAreas:!0})}const ps=document.createElement("div");ps.className="gutter-delete",Bn.push({afterLineNumber:So.originalRange.endLineNumberExclusive-1,domNode:Oi(),heightInPx:So.modifiedHeightInPx,marginDomNode:ps,showInHiddenAreas:!0})}else{const ps=So.modifiedHeightInPx-So.originalHeightInPx;if(ps>0){if(Vo?.lineRangeMapping.original.delta(-1).deltaLength(2).contains(So.originalRange.endLineNumberExclusive-1))continue;Bn.push({afterLineNumber:So.originalRange.endLineNumberExclusive-1,domNode:Oi(),heightInPx:ps,showInHiddenAreas:!0})}else{let jl,sl=function(){const rl=document.createElement("div");return rl.className="arrow-revert-change "+ls.k.asClassName(jo.l.arrowRight),(0,Jt.$)("div",{},rl)};if(Vo?.lineRangeMapping.modified.delta(-1).deltaLength(2).contains(So.modifiedRange.endLineNumberExclusive-1))continue;So.diff&&So.diff.modifiedRange.isEmpty&&this._options.shouldRenderRevertArrows.read(Ri)&&(jl=sl()),yo.push({afterLineNumber:So.modifiedRange.endLineNumberExclusive-1,domNode:Oi(),heightInPx:-ps,marginDomNode:jl,showInHiddenAreas:!0})}}for(const So of null!==(Lo=xi.read(Ri))&&void 0!==Lo?Lo:[]){if(!Vo?.lineRangeMapping.original.intersect(So.originalRange)||!Vo?.lineRangeMapping.modified.intersect(So.modifiedRange))continue;const ps=So.modifiedHeightInPx-So.originalHeightInPx;ps>0?Bn.push({afterLineNumber:So.originalRange.endLineNumberExclusive-1,domNode:Oi(),heightInPx:ps,showInHiddenAreas:!0}):yo.push({afterLineNumber:So.modifiedRange.endLineNumberExclusive-1,domNode:Oi(),heightInPx:-ps,showInHiddenAreas:!0})}return{orig:Bn,mod:yo}});this._register((0,Vi.gp)(Ri=>{const Sn=Du.Z.capture(this._editors.modified),Yn=an.read(Ri);ze=!0,this._editors.original.changeViewZones(zn=>{for(const to of jt)zn.removeZone(to);jt.clear();for(const to of Yn.orig){const Hn=zn.addZone(to);to.setZoneId&&to.setZoneId(Hn),jt.add(Hn)}}),this._editors.modified.changeViewZones(zn=>{for(const to of Xt)zn.removeZone(to);Xt.clear();for(const to of Yn.mod){const Hn=zn.addZone(to);to.setZoneId&&to.setZoneId(Hn),Xt.add(Hn)}}),ze=!1,Sn.restore(this._editors.modified)})),this._register((0,Ee.OF)(()=>{this._editors.original.changeViewZones(Ri=>{for(const Sn of jt)Ri.removeZone(Sn);jt.clear()}),this._editors.modified.changeViewZones(Ri=>{for(const Sn of Xt)Ri.removeZone(Sn);Xt.clear()})}));let pn=!1;this._register(this._editors.original.onDidScrollChange(Ri=>{Ri.scrollLeftChanged&&!pn&&(pn=!0,this._editors.modified.setScrollLeft(Ri.scrollLeft),pn=!1)})),this._register(this._editors.modified.onDidScrollChange(Ri=>{Ri.scrollLeftChanged&&!pn&&(pn=!0,this._editors.original.setScrollLeft(Ri.scrollLeft),pn=!1)})),this._originalScrollTop=(0,Vi.rD)(this._editors.original.onDidScrollChange,()=>this._editors.original.getScrollTop()),this._modifiedScrollTop=(0,Vi.rD)(this._editors.modified.onDidScrollChange,()=>this._editors.modified.getScrollTop()),this._register((0,Vi.EH)(Ri=>{const Sn=this._originalScrollTop.read(Ri)-(this._originalScrollOffsetAnimated.get()-this._modifiedScrollOffsetAnimated.read(Ri))-(this._originalTopPadding.get()-this._modifiedTopPadding.read(Ri));Sn!==this._editors.modified.getScrollTop()&&this._editors.modified.setScrollTop(Sn,1)})),this._register((0,Vi.EH)(Ri=>{const Sn=this._modifiedScrollTop.read(Ri)-(this._modifiedScrollOffsetAnimated.get()-this._originalScrollOffsetAnimated.read(Ri))-(this._modifiedTopPadding.get()-this._originalTopPadding.read(Ri));Sn!==this._editors.original.getScrollTop()&&this._editors.original.setScrollTop(Sn,1)})),this._register((0,Vi.EH)(Ri=>{var Sn;const Yn=null===(Sn=this._diffModel.read(Ri))||void 0===Sn?void 0:Sn.movedTextToCompare.read(Ri);let zn=0;if(Yn){const to=this._editors.original.getTopForLineNumber(Yn.lineRangeMapping.original.startLineNumber,!0)-this._originalTopPadding.get();zn=this._editors.modified.getTopForLineNumber(Yn.lineRangeMapping.modified.startLineNumber,!0)-this._modifiedTopPadding.get()-to}zn>0?(this._modifiedTopPadding.set(0,void 0),this._originalTopPadding.set(zn,void 0)):zn<0?(this._modifiedTopPadding.set(-zn,void 0),this._originalTopPadding.set(0,void 0)):setTimeout(()=>{this._modifiedTopPadding.set(0,void 0),this._originalTopPadding.set(0,void 0)},400),this._editors.modified.hasTextFocus()?this._originalScrollOffset.set(this._modifiedScrollOffset.get()-zn,void 0,!0):this._modifiedScrollOffset.set(this._originalScrollOffset.get()+zn,void 0,!0)}))}};function Wc(de,n,s,C,H,X){const me=new hn.H9(Vc(de,C)),Oe=new hn.H9(Vc(n,H)),ze=de.getOption(65),Qe=n.getOption(65),tt=[];let _t=0,jt=0;function Xt(Di,xi){for(;;){let Oi=me.peek(),Ui=Oe.peek();if(Oi&&Oi.lineNumber>=Di&&(Oi=void 0),Ui&&Ui.lineNumber>=xi&&(Ui=void 0),!Oi&&!Ui)break;const an=Oi?Oi.lineNumber-_t:Number.MAX_VALUE,pn=Ui?Ui.lineNumber-jt:Number.MAX_VALUE;an<pn?(me.dequeue(),Ui={lineNumber:Oi.lineNumber-_t+jt,heightInPx:0}):an>pn?(Oe.dequeue(),Oi={lineNumber:Ui.lineNumber-jt+_t,heightInPx:0}):(me.dequeue(),Oe.dequeue()),tt.push({originalRange:qo.z.ofLength(Oi.lineNumber,1),modifiedRange:qo.z.ofLength(Ui.lineNumber,1),originalHeightInPx:ze+Oi.heightInPx,modifiedHeightInPx:Qe+Ui.heightInPx,diff:void 0})}}for(const Di of s){let pn=function(Ri,Sn){var Yn,zn,to,Hn;if(Ri<an||Sn<Ui)return;if(Oi)Oi=!1;else if(Ri===an||Sn===Ui)return;const oo=new qo.z(an,Ri),Jn=new qo.z(Ui,Sn);if(oo.isEmpty&&Jn.isEmpty)return;const Lo=null!==(zn=null===(Yn=me.takeWhile(Bn=>Bn.lineNumber<Ri))||void 0===Yn?void 0:Yn.reduce((Bn,yo)=>Bn+yo.heightInPx,0))&&void 0!==zn?zn:0,ko=null!==(Hn=null===(to=Oe.takeWhile(Bn=>Bn.lineNumber<Sn))||void 0===to?void 0:to.reduce((Bn,yo)=>Bn+yo.heightInPx,0))&&void 0!==Hn?Hn:0;tt.push({originalRange:oo,modifiedRange:Jn,originalHeightInPx:oo.length*ze+Lo,modifiedHeightInPx:Jn.length*Qe+ko,diff:Di.lineRangeMapping}),an=Ri,Ui=Sn};const xi=Di.lineRangeMapping;Xt(xi.originalRange.startLineNumber,xi.modifiedRange.startLineNumber);let Oi=!0,Ui=xi.modifiedRange.startLineNumber,an=xi.originalRange.startLineNumber;if(X)for(const Ri of xi.innerChanges||[])Ri.originalRange.startColumn>1&&Ri.modifiedRange.startColumn>1&&pn(Ri.originalRange.startLineNumber,Ri.modifiedRange.startLineNumber),Ri.originalRange.endColumn<de.getModel().getLineMaxColumn(Ri.originalRange.endLineNumber)&&pn(Ri.originalRange.endLineNumber,Ri.modifiedRange.endLineNumber);pn(xi.originalRange.endLineNumberExclusive,xi.modifiedRange.endLineNumberExclusive),_t=xi.originalRange.endLineNumberExclusive,jt=xi.modifiedRange.endLineNumberExclusive}return Xt(Number.MAX_VALUE,Number.MAX_VALUE),tt}function Vc(de,n){const s=[],C=[],H=-1!==de.getOption(143).wrappingColumn,X=de._getViewModel().coordinatesConverter,me=de.getOption(65);if(H)for(let ze=1;ze<=de.getModel().getLineCount();ze++){const Qe=X.getModelLineViewLineCount(ze);Qe>1&&C.push({lineNumber:ze,heightInPx:me*(Qe-1)})}for(const ze of de.getWhitespaces()){if(n.has(ze.id))continue;const Qe=0===ze.afterLineNumber?0:X.convertViewPositionToModelPosition(new _s.L(ze.afterLineNumber,1)).lineNumber;s.push({lineNumber:Qe,heightInPx:ze.height})}return function eu(de,n,s,C){if(0===de.length)return n;if(0===n.length)return de;const H=[];let X=0,me=0;for(;X<de.length&&me<n.length;){const Oe=de[X],ze=n[me],Qe=s(Oe),tt=s(ze);Qe<tt?(H.push(Oe),X++):Qe>tt?(H.push(ze),me++):(H.push(C(Oe,ze)),X++,me++)}for(;X<de.length;)H.push(de[X]),X++;for(;me<n.length;)H.push(n[me]),me++;return H}(s,C,ze=>ze.lineNumber,(ze,Qe)=>({lineNumber:ze.lineNumber,heightInPx:ze.heightInPx+Qe.heightInPx}))}$d=function(de,n,s,C){var me,H=arguments.length,X=H<3?n:null===C?C=Object.getOwnPropertyDescriptor(n,s):C;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)X=Reflect.decorate(de,n,s,C);else for(var Oe=de.length-1;Oe>=0;Oe--)(me=de[Oe])&&(X=(H<3?me(X):H>3?me(n,s,X):me(n,s))||X);return H>3&&X&&Object.defineProperty(n,s,X),X}([Fc(5,Tl.p),Fc(6,dr.i)],$d);var Ps,Pu=e(25937),Ou=e(47832),ku=e(53056);let ir=Ps=class extends Ee.JT{constructor(n,s,C,H,X,me,Oe,ze){super(),this._editors=n,this._rootElement=s,this._diffModel=C,this._rootWidth=H,this._rootHeight=X,this._modifiedEditorLayoutInfo=me,this._options=Oe,this._themeService=ze;const Qe=(0,Vi.rD)(this._themeService.onDidColorThemeChange,()=>this._themeService.getColorTheme()),tt=(0,Vi.nK)(Xt=>{const Di=Qe.read(Xt);return{insertColor:Di.getColor(mo.P6Y)||(Di.getColor(mo.ypS)||mo.CzK).transparent(2),removeColor:Di.getColor(mo.F9q)||(Di.getColor(mo.P4M)||mo.keg).transparent(2)}}),_t=(0,Vi.rD)(this._editors.modified.onDidScrollChange,()=>this._editors.modified.getScrollTop()),jt=(0,Vi.rD)(this._editors.modified.onDidScrollChange,()=>this._editors.modified.getScrollHeight());this._register((0,Vi.gp)((Xt,Di)=>{if(!this._options.renderOverviewRuler.read(Xt))return;const xi=(0,Pu.X)(document.createElement("div"));xi.setClassName("diffViewport"),xi.setPosition("absolute");const Oi=(0,Jt.h)("div.diffOverview",{style:{position:"absolute",top:"0px",width:Ps.ENTIRE_DIFF_OVERVIEW_WIDTH+"px"}}).root;Di.add(Rl(Oi,xi.domNode)),Di.add((0,Jt.mu)(Oi,Jt.tw.POINTER_DOWN,Ui=>{this._editors.modified.delegateVerticalScrollbarPointerDown(Ui)})),Di.add((0,Jt.nm)(Oi,Jt.tw.MOUSE_WHEEL,Ui=>{this._editors.modified.delegateScrollFromMouseWheelEvent(Ui)},{passive:!1})),Di.add(Rl(this._rootElement,Oi)),Di.add((0,Vi.gp)((Ui,an)=>{const pn=this._diffModel.read(Ui),Ri=this._editors.original.createOverviewRuler("original diffOverviewRuler");Ri&&(an.add(Ri),an.add(Rl(Oi,Ri.getDomNode())));const Sn=this._editors.modified.createOverviewRuler("modified diffOverviewRuler");if(Sn&&(an.add(Sn),an.add(Rl(Oi,Sn.getDomNode()))),!Ri||!Sn)return;const Yn=(0,Vi.aq)("viewZoneChanged",this._editors.original.onDidChangeViewZones),zn=(0,Vi.aq)("viewZoneChanged",this._editors.modified.onDidChangeViewZones),to=(0,Vi.aq)("hiddenRangesChanged",this._editors.original.onDidChangeHiddenAreas),Hn=(0,Vi.aq)("hiddenRangesChanged",this._editors.modified.onDidChangeHiddenAreas);an.add((0,Vi.EH)(oo=>{var Jn;Yn.read(oo),zn.read(oo),to.read(oo),Hn.read(oo);const Lo=tt.read(oo),ko=null===(Jn=pn?.diff.read(oo))||void 0===Jn?void 0:Jn.mappings;function Bn(ts,Ds,Zo){const Os=Zo._getViewModel();return Os?ts.filter(ms=>ms.length>0).map(ms=>{const hs=Os.coordinatesConverter.convertModelPositionToViewPosition(new _s.L(ms.startLineNumber,1)),Vo=Os.coordinatesConverter.convertModelPositionToViewPosition(new _s.L(ms.endLineNumberExclusive,1));return new ku.EY(hs.lineNumber,Vo.lineNumber,Vo.lineNumber-hs.lineNumber,Ds.toString())}):[]}const yo=Bn((ko||[]).map(ts=>ts.lineRangeMapping.originalRange),Lo.removeColor,this._editors.original),Ko=Bn((ko||[]).map(ts=>ts.lineRangeMapping.modifiedRange),Lo.insertColor,this._editors.modified);Ri?.setZones(yo),Sn?.setZones(Ko)})),an.add((0,Vi.EH)(oo=>{const Jn=this._rootHeight.read(oo),Lo=this._rootWidth.read(oo),ko=this._modifiedEditorLayoutInfo.read(oo);if(ko){Ri.setLayout({top:0,height:Jn,right:Ps.ENTIRE_DIFF_OVERVIEW_WIDTH-2*Ps.ONE_OVERVIEW_WIDTH+Ps.ONE_OVERVIEW_WIDTH,width:Ps.ONE_OVERVIEW_WIDTH}),Sn.setLayout({top:0,height:Jn,right:0,width:Ps.ONE_OVERVIEW_WIDTH});const yo=_t.read(oo),Ko=jt.read(oo),ts=this._editors.modified.getOption(101),Ds=new Ou.M(ts.verticalHasArrows?ts.arrowSize:0,ts.verticalScrollbarSize,0,ko.height,Ko,yo);xi.setTop(Ds.getSliderPosition()),xi.setHeight(Ds.getSliderSize())}else xi.setTop(0),xi.setHeight(0);Oi.style.height=Jn+"px",Oi.style.left=Lo-Ps.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",xi.setWidth(Ps.ENTIRE_DIFF_OVERVIEW_WIDTH)}))}))}))}};ir.ONE_OVERVIEW_WIDTH=15,ir.ENTIRE_DIFF_OVERVIEW_WIDTH=2*Ps.ONE_OVERVIEW_WIDTH,ir=Ps=function(de,n,s,C){var me,H=arguments.length,X=H<3?n:null===C?C=Object.getOwnPropertyDescriptor(n,s):C;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)X=Reflect.decorate(de,n,s,C);else for(var Oe=de.length-1;Oe>=0;Oe--)(me=de[Oe])&&(X=(H<3?me(X):H>3?me(n,s,X):me(n,s))||X);return H>3&&X&&Object.defineProperty(n,s,X),X}([function(de,n){return function(s,C){n(s,C,7)}}(0,Qn.XE)],ir);class _a{remove(){var n;null===(n=this.parent)||void 0===n||n.children.delete(this.id)}static findId(n,s){let C;"string"==typeof n?C=`${s.id}/${n}`:(C=`${s.id}/${n.name}`,void 0!==s.children.get(C)&&(C=`${s.id}/${n.name}_${n.range.startLineNumber}_${n.range.startColumn}`));let H=C;for(let X=0;void 0!==s.children.get(H);X++)H=`${C}_${X}`;return H}static empty(n){return 0===n.children.size}}class Hc extends _a{constructor(n,s,C){super(),this.id=n,this.parent=s,this.symbol=C,this.children=new Map}}class Wu extends _a{constructor(n,s,C,H){super(),this.id=n,this.parent=s,this.label=C,this.order=H,this.children=new Map}}class Mr extends _a{static create(n,s,C){const H=new Ns.A(C),X=new Mr(s.uri),me=n.ordered(s),Oe=me.map((Qe,tt)=>{var _t;const jt=_a.findId(`provider_${tt}`,X),Xt=new Wu(jt,X,null!==(_t=Qe.displayName)&&void 0!==_t?_t:"Unknown Outline Provider",tt);return Promise.resolve(Qe.provideDocumentSymbols(s,H.token)).then(Di=>{for(const xi of Di||[])Mr._makeOutlineElement(xi,Xt);return Xt},Di=>((0,$t.Cp)(Di),Xt)).then(Di=>{_a.empty(Di)?Di.remove():X._groups.set(jt,Di)})}),ze=n.onDidChange(()=>{const Qe=n.ordered(s);(0,hn.fS)(Qe,me)||H.cancel()});return Promise.all(Oe).then(()=>H.token.isCancellationRequested&&!C.isCancellationRequested?Mr.create(n,s,C):X._compact()).finally(()=>{ze.dispose()})}static _makeOutlineElement(n,s){const C=_a.findId(n,s),H=new Hc(C,s,n);if(n.children)for(const X of n.children)Mr._makeOutlineElement(X,H);s.children.set(H.id,H)}constructor(n){super(),this.uri=n,this.id="root",this.parent=void 0,this._groups=new Map,this.children=new Map,this.id="root",this.parent=void 0}_compact(){let n=0;for(const[s,C]of this._groups)0===C.children.size?this._groups.delete(s):n+=1;if(1!==n)this.children=this._groups;else{const s=Dr.$.first(this._groups.values());for(const[,C]of s.children)C.parent=this,this.children.set(C.id,C)}return this}getTopLevelSymbols(){const n=[];for(const s of this.children.values())s instanceof Hc?n.push(s.symbol):n.push(...Dr.$.map(s.children.values(),C=>C.symbol));return n.sort((s,C)=>Ho.e.compareRangesUsingStarts(s.range,C.range))}asListOfDocumentSymbols(){const n=this.getTopLevelSymbols(),s=[];return Mr._flattenDocumentSymbols(s,n,""),s.sort((C,H)=>_s.L.compare(Ho.e.getStartPosition(C.range),Ho.e.getStartPosition(H.range))||_s.L.compare(Ho.e.getEndPosition(H.range),Ho.e.getEndPosition(C.range)))}static _flattenDocumentSymbols(n,s,C){for(const H of s)n.push({kind:H.kind,tags:H.tags,name:H.name,detail:H.detail,containerName:H.containerName||C,range:H.range,selectionRange:H.selectionRange,children:void 0}),H.children&&Mr._flattenDocumentSymbols(n,H.children,H.name)}}var Uc=function(de,n,s,C){var me,H=arguments.length,X=H<3?n:null===C?C=Object.getOwnPropertyDescriptor(n,s):C;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)X=Reflect.decorate(de,n,s,C);else for(var Oe=de.length-1;Oe>=0;Oe--)(me=de[Oe])&&(X=(H<3?me(X):H>3?me(n,s,X):me(n,s))||X);return H>3&&X&&Object.defineProperty(n,s,X),X},zc=function(de,n){return function(s,C){n(s,C,de)}};let Gd=class extends Ee.JT{get isUpdatingViewZones(){return this._isUpdatingViewZones}constructor(n,s,C,H){super(),this._editors=n,this._diffModel=s,this._options=C,this._languageFeaturesService=H,this._isUpdatingViewZones=!1,this._modifiedModel=(0,Vi.rD)(this._editors.modified.onDidChangeModel,()=>this._editors.modified.getModel()),this._modifiedOutlineSource=(0,Vi.Be)("modified outline source",(Qe,tt)=>{const _t=this._modifiedModel.read(Qe);if(_t)return tt.add(new Zd(this._languageFeaturesService,_t))}),this._register(this._editors.original.onDidChangeCursorPosition(Qe=>{if(3===Qe.reason){const tt=this._diffModel.get();(0,Vi.PS)(_t=>{for(const jt of this._editors.original.getSelections()||[])tt?.ensureOriginalLineIsVisible(jt.getStartPosition().lineNumber,_t),tt?.ensureOriginalLineIsVisible(jt.getEndPosition().lineNumber,_t)})}})),this._register(this._editors.modified.onDidChangeCursorPosition(Qe=>{if(3===Qe.reason){const tt=this._diffModel.get();(0,Vi.PS)(_t=>{for(const jt of this._editors.modified.getSelections()||[])tt?.ensureModifiedLineIsVisible(jt.getStartPosition().lineNumber,_t),tt?.ensureModifiedLineIsVisible(jt.getEndPosition().lineNumber,_t)})}}));const X=this._diffModel.map((Qe,tt)=>{var _t,jt;return 0===(null===(_t=Qe?.diff.read(tt))||void 0===_t?void 0:_t.mappings.length)?[]:null!==(jt=Qe?.unchangedRegions.read(tt))&&void 0!==jt?jt:[]}),me=(0,Vi.Be)("view zones",(Qe,tt)=>{const _t=[],jt=[],Xt=this._options.renderSideBySide.read(Qe),Di=this._modifiedOutlineSource.read(Qe);if(!Di)return{origViewZones:_t,modViewZones:jt};const xi=X.read(Qe);for(const Oi of xi)if(!Oi.shouldHideControls(Qe)){{const Ui=(0,Vi.nK)(pn=>Oi.getHiddenOriginalRange(pn).startLineNumber-1),an=new Pl(Ui,24);_t.push(an),tt.add(new jc(this._editors.original,an,Oi,Oi.originalRange,!Xt,Di,pn=>this._diffModel.get().ensureModifiedLineIsVisible(pn,void 0),this._options))}{const Ui=(0,Vi.nK)(pn=>Oi.getHiddenModifiedRange(pn).startLineNumber-1),an=new Pl(Ui,24);jt.push(an),tt.add(new jc(this._editors.modified,an,Oi,Oi.modifiedRange,!1,Di,pn=>this._diffModel.get().ensureModifiedLineIsVisible(pn,void 0),this._options))}}return{origViewZones:_t,modViewZones:jt}}),Oe={description:"unchanged lines",className:"diff-unchanged-lines",isWholeLine:!0},ze={description:"Fold Unchanged",glyphMarginHoverMessage:new Lc.W5(void 0,{isTrusted:!0,supportThemeIcons:!0}).appendMarkdown((0,si.NC)("foldUnchanged","Fold Unchanged Region")),glyphMarginClassName:"fold-unchanged "+ls.k.asClassName(jo.l.fold),zIndex:10001};this._register(Al(this._editors.original,(0,Vi.nK)(Qe=>{const tt=X.read(Qe),_t=tt.map(jt=>({range:jt.originalRange.toInclusiveRange(),options:Oe}));for(const jt of tt)jt.shouldHideControls(Qe)&&_t.push({range:Ho.e.fromPositions(new _s.L(jt.originalLineNumber,1)),options:ze});return _t}))),this._register(Al(this._editors.modified,(0,Vi.nK)(Qe=>{const tt=X.read(Qe),_t=tt.map(jt=>({range:jt.modifiedRange.toInclusiveRange(),options:Oe}));for(const jt of tt)jt.shouldHideControls(Qe)&&_t.push({range:qo.z.ofLength(jt.modifiedLineNumber,1).toInclusiveRange(),options:ze});return _t}))),this._register(Ol(this._editors.original,me.map(Qe=>Qe.origViewZones),Qe=>this._isUpdatingViewZones=Qe)),this._register(Ol(this._editors.modified,me.map(Qe=>Qe.modViewZones),Qe=>this._isUpdatingViewZones=Qe)),this._register((0,Vi.EH)(Qe=>{const tt=X.read(Qe);this._editors.original.setHiddenAreas(tt.map(_t=>_t.getHiddenOriginalRange(Qe).toInclusiveRange()).filter(Fs.$K)),this._editors.modified.setHiddenAreas(tt.map(_t=>_t.getHiddenModifiedRange(Qe).toInclusiveRange()).filter(Fs.$K))})),this._register(this._editors.modified.onMouseUp(Qe=>{var tt;if(!Qe.event.rightButton&&Qe.target.position&&null!==(tt=Qe.target.element)&&void 0!==tt&&tt.className.includes("fold-unchanged")){const _t=Qe.target.position.lineNumber,jt=this._diffModel.get();if(!jt)return;const Xt=jt.unchangedRegions.get().find(Di=>Di.modifiedRange.includes(_t));if(!Xt)return;Xt.collapseAll(void 0),Qe.event.stopPropagation(),Qe.event.preventDefault()}})),this._register(this._editors.original.onMouseUp(Qe=>{var tt;if(!Qe.event.rightButton&&Qe.target.position&&null!==(tt=Qe.target.element)&&void 0!==tt&&tt.className.includes("fold-unchanged")){const _t=Qe.target.position.lineNumber,jt=this._diffModel.get();if(!jt)return;const Xt=jt.unchangedRegions.get().find(Di=>Di.originalRange.includes(_t));if(!Xt)return;Xt.collapseAll(void 0),Qe.event.stopPropagation(),Qe.event.preventDefault()}}))}};Gd=Uc([zc(3,_o.p)],Gd);class Hu extends Ns.A{dispose(){super.dispose(!0)}}let Zd=class extends Ee.JT{constructor(n,s){super(),this._languageFeaturesService=n,this._textModel=s,this._currentModel=(0,Vi.uh)("current model",void 0);const C=(0,Vi.aq)("documentSymbolProvider.onDidChange",this._languageFeaturesService.documentSymbolProvider.onDidChange),H=(0,Vi.aq)("_textModel.onDidChangeContent",gn.ju.debounce(X=>this._textModel.onDidChangeContent(X),()=>{},100));this._register((0,Vi.gp)((X,me)=>function(de,n,s,C){return new(s||(s=Promise))(function(X,me){function Oe(tt){try{Qe(C.next(tt))}catch(_t){me(_t)}}function ze(tt){try{Qe(C.throw(tt))}catch(_t){me(_t)}}function Qe(tt){tt.done?X(tt.value):function H(X){return X instanceof s?X:new s(function(me){me(X)})}(tt.value).then(Oe,ze)}Qe((C=C.apply(de,n||[])).next())})}(this,void 0,void 0,function*(){C.read(X),H.read(X);const Oe=me.add(new Hu),ze=yield Mr.create(this._languageFeaturesService.documentSymbolProvider,this._textModel,Oe.token);me.isDisposed||this._currentModel.set(ze,void 0)})))}getBreadcrumbItems(n,s){const C=this._currentModel.read(s);if(!C)return[];const H=C.asListOfDocumentSymbols().filter(X=>n.contains(X.range.startLineNumber)&&!n.contains(X.range.endLineNumber));return H.sort((0,hn.BV)((0,hn.tT)(X=>X.range.endLineNumber-X.range.startLineNumber,hn.fv))),H.map(X=>({name:X.name,kind:X.kind,startLineNumber:X.range.startLineNumber}))}};Zd=Uc([zc(0,_o.p)],Zd);class jc extends wc{constructor(n,s,C,H,X,me,Oe,ze){const Qe=(0,Jt.h)("div.diff-hidden-lines-widget");super(n,s,Qe.root),this._editor=n,this._unchangedRegion=C,this._unchangedRegionRange=H,this.hide=X,this._modifiedOutlineSource=me,this._revealModifiedHiddenLine=Oe,this._options=ze,this._nodes=(0,Jt.h)("div.diff-hidden-lines",[(0,Jt.h)("div.top@top",{title:(0,si.NC)("diff.hiddenLines.top","Click or drag to show more above")}),(0,Jt.h)("div.center@content",{style:{display:"flex"}},[(0,Jt.h)("div@first",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexShrink:"0"}},[(0,Jt.$)("a",{title:(0,si.NC)("showAll","Show all"),role:"button",onclick:()=>{this.showAll()}},...(0,da.T)("$(unfold)"))]),(0,Jt.h)("div@others",{style:{display:"flex",justifyContent:"center",alignItems:"center"}})]),(0,Jt.h)("div.bottom@bottom",{title:(0,si.NC)("diff.bottom","Click or drag to show more below"),role:"button"})]),Qe.root.appendChild(this._nodes.root);const tt=(0,Vi.rD)(this._editor.onDidLayoutChange,()=>this._editor.getLayoutInfo());this.hide?(0,Jt.mc)(this._nodes.first):this._register(Nr(this._nodes.first,{width:tt.map(jt=>jt.contentLeft)}));const _t=this._editor;this._register((0,Jt.nm)(this._nodes.top,"mousedown",jt=>{if(0!==jt.button)return;this._nodes.top.classList.toggle("dragging",!0),this._nodes.root.classList.toggle("dragging",!0),jt.preventDefault();const Xt=jt.clientY;let Di=!1;const xi=this._unchangedRegion.visibleLineCountTop.get();this._unchangedRegion.isDragged.set(!0,void 0);const Oi=(0,Jt.nm)(window,"mousemove",an=>{const Ri=an.clientY-Xt;Di=Di||Math.abs(Ri)>2;const Sn=Math.round(Ri/_t.getOption(65)),Yn=Math.max(0,Math.min(xi+Sn,this._unchangedRegion.getMaxVisibleLineCountTop()));this._unchangedRegion.visibleLineCountTop.set(Yn,void 0)}),Ui=(0,Jt.nm)(window,"mouseup",an=>{Di||this._unchangedRegion.showMoreAbove(this._options.hideUnchangedRegionsRevealLineCount.get(),void 0),this._nodes.top.classList.toggle("dragging",!1),this._nodes.root.classList.toggle("dragging",!1),this._unchangedRegion.isDragged.set(!1,void 0),Oi.dispose(),Ui.dispose()})})),this._register((0,Jt.nm)(this._nodes.bottom,"mousedown",jt=>{if(0!==jt.button)return;this._nodes.bottom.classList.toggle("dragging",!0),this._nodes.root.classList.toggle("dragging",!0),jt.preventDefault();const Xt=jt.clientY;let Di=!1;const xi=this._unchangedRegion.visibleLineCountBottom.get();this._unchangedRegion.isDragged.set(!0,void 0);const Oi=(0,Jt.nm)(window,"mousemove",an=>{const Ri=an.clientY-Xt;Di=Di||Math.abs(Ri)>2;const Sn=Math.round(Ri/_t.getOption(65)),Yn=Math.max(0,Math.min(xi-Sn,this._unchangedRegion.getMaxVisibleLineCountBottom())),zn=_t.getTopForLineNumber(this._unchangedRegionRange.endLineNumberExclusive);this._unchangedRegion.visibleLineCountBottom.set(Yn,void 0);const to=_t.getTopForLineNumber(this._unchangedRegionRange.endLineNumberExclusive);_t.setScrollTop(_t.getScrollTop()+(to-zn))}),Ui=(0,Jt.nm)(window,"mouseup",an=>{if(this._unchangedRegion.isDragged.set(!1,void 0),!Di){const pn=_t.getTopForLineNumber(this._unchangedRegionRange.endLineNumberExclusive);this._unchangedRegion.showMoreBelow(this._options.hideUnchangedRegionsRevealLineCount.get(),void 0);const Ri=_t.getTopForLineNumber(this._unchangedRegionRange.endLineNumberExclusive);_t.setScrollTop(_t.getScrollTop()+(Ri-pn))}this._nodes.bottom.classList.toggle("dragging",!1),this._nodes.root.classList.toggle("dragging",!1),Oi.dispose(),Ui.dispose()})})),this._register((0,Vi.EH)(jt=>{const Xt=[];if(!this.hide){const Di=C.getHiddenModifiedRange(jt).length,xi=(0,si.NC)("hiddenLines","{0} hidden lines",Di),Oi=(0,Jt.$)("span",{title:(0,si.NC)("diff.hiddenLines.expandAll","Double click to unfold")},xi);Oi.addEventListener("dblclick",pn=>{0===pn.button&&(pn.preventDefault(),this.showAll())}),Xt.push(Oi);const Ui=this._unchangedRegion.getHiddenModifiedRange(jt),an=this._modifiedOutlineSource.getBreadcrumbItems(Ui,jt);if(an.length>0){Xt.push((0,Jt.$)("span",void 0,"\xa0\xa0|\xa0\xa0"));for(let pn=0;pn<an.length;pn++){const Ri=an[pn],Sn=Zt.uZ.toIcon(Ri.kind),Yn=(0,Jt.h)("div.breadcrumb-item",{style:{display:"flex",alignItems:"center"}},[(0,da.h)(Sn),"\xa0",Ri.name,...pn===an.length-1?[]:[(0,da.h)(jo.l.chevronRight)]]).root;Xt.push(Yn),Yn.onclick=()=>{this._revealModifiedHiddenLine(Ri.startLineNumber)}}}}(0,Jt.mc)(this._nodes.others,...Xt)}))}showAll(){this._unchangedRegion.showAll(void 0)}}var Uu=e(37499),Hl=e(15446);(0,mo.P6G)("diffEditor.move.border",{dark:"#8b8b8b9c",light:"#8b8b8b9c",hcDark:"#8b8b8b9c",hcLight:"#8b8b8b9c"},(0,si.NC)("diffEditor.move.border","The border color for text that got moved in the diff editor.")),(0,mo.P6G)("diffEditor.moveActive.border",{dark:"#FFA500",light:"#FFA500",hcDark:"#FFA500",hcLight:"#FFA500"},(0,si.NC)("diffEditor.moveActive.border","The active border color for text that got moved in the diff editor."));let zu=(()=>{class de extends Ee.JT{constructor(){super(...arguments),this._id=++de.idCounter,this._onDidDispose=this._register(new gn.Q5),this.onDidDispose=this._onDidDispose.event}getId(){return this.getEditorType()+":v2:"+this._id}getVisibleColumnFromPosition(s){return this._targetEditor.getVisibleColumnFromPosition(s)}getPosition(){return this._targetEditor.getPosition()}setPosition(s,C="api"){this._targetEditor.setPosition(s,C)}revealLine(s,C=0){this._targetEditor.revealLine(s,C)}revealLineInCenter(s,C=0){this._targetEditor.revealLineInCenter(s,C)}revealLineInCenterIfOutsideViewport(s,C=0){this._targetEditor.revealLineInCenterIfOutsideViewport(s,C)}revealLineNearTop(s,C=0){this._targetEditor.revealLineNearTop(s,C)}revealPosition(s,C=0){this._targetEditor.revealPosition(s,C)}revealPositionInCenter(s,C=0){this._targetEditor.revealPositionInCenter(s,C)}revealPositionInCenterIfOutsideViewport(s,C=0){this._targetEditor.revealPositionInCenterIfOutsideViewport(s,C)}revealPositionNearTop(s,C=0){this._targetEditor.revealPositionNearTop(s,C)}getSelection(){return this._targetEditor.getSelection()}getSelections(){return this._targetEditor.getSelections()}setSelection(s,C="api"){this._targetEditor.setSelection(s,C)}setSelections(s,C="api"){this._targetEditor.setSelections(s,C)}revealLines(s,C,H=0){this._targetEditor.revealLines(s,C,H)}revealLinesInCenter(s,C,H=0){this._targetEditor.revealLinesInCenter(s,C,H)}revealLinesInCenterIfOutsideViewport(s,C,H=0){this._targetEditor.revealLinesInCenterIfOutsideViewport(s,C,H)}revealLinesNearTop(s,C,H=0){this._targetEditor.revealLinesNearTop(s,C,H)}revealRange(s,C=0,H=!1,X=!0){this._targetEditor.revealRange(s,C,H,X)}revealRangeInCenter(s,C=0){this._targetEditor.revealRangeInCenter(s,C)}revealRangeInCenterIfOutsideViewport(s,C=0){this._targetEditor.revealRangeInCenterIfOutsideViewport(s,C)}revealRangeNearTop(s,C=0){this._targetEditor.revealRangeNearTop(s,C)}revealRangeNearTopIfOutsideViewport(s,C=0){this._targetEditor.revealRangeNearTopIfOutsideViewport(s,C)}revealRangeAtTop(s,C=0){this._targetEditor.revealRangeAtTop(s,C)}getSupportedActions(){return this._targetEditor.getSupportedActions()}focus(){this._targetEditor.focus()}trigger(s,C,H){this._targetEditor.trigger(s,C,H)}createDecorationsCollection(s){return this._targetEditor.createDecorationsCollection(s)}changeDecorations(s){return this._targetEditor.changeDecorations(s)}}return de.idCounter=0,de})();var Kc=function(de,n){return function(s,C){n(s,C,de)}};let Qd=class extends Ee.JT{constructor(n,s,C,H,X,me,Oe){super(),this.originalEditorElement=n,this.modifiedEditorElement=s,this._options=C,this._createInnerEditor=X,this._instantiationService=me,this._keybindingService=Oe,this._onDidContentSizeChange=this._register(new gn.Q5),this.original=this._register(this._createLeftHandSideEditor(C.editorOptions.get(),H.originalEditor||{})),this.modified=this._register(this._createRightHandSideEditor(C.editorOptions.get(),H.modifiedEditor||{})),this._register((0,Vi.nJ)({createEmptyChangeSummary:()=>({}),handleChange:(ze,Qe)=>(ze.didChange(C.editorOptions)&&Object.assign(Qe,ze.change.changedOptions),!0)},(ze,Qe)=>{C.editorOptions.read(ze),this._options.renderSideBySide.read(ze),this.modified.updateOptions(this._adjustOptionsForRightHandSide(ze,Qe)),this.original.updateOptions(this._adjustOptionsForLeftHandSide(ze,Qe))}))}_createLeftHandSideEditor(n,s){const C=this._adjustOptionsForLeftHandSide(void 0,n),H=this._constructInnerEditor(this._instantiationService,this.originalEditorElement,C,s);return H.setContextValue("isInDiffLeftEditor",!0),H}_createRightHandSideEditor(n,s){const C=this._adjustOptionsForRightHandSide(void 0,n),H=this._constructInnerEditor(this._instantiationService,this.modifiedEditorElement,C,s);return H.setContextValue("isInDiffRightEditor",!0),H}_constructInnerEditor(n,s,C,H){const X=this._createInnerEditor(n,s,C,H);return this._register(X.onDidContentSizeChange(me=>{const Oe=this.original.getContentWidth()+this.modified.getContentWidth()+ir.ENTIRE_DIFF_OVERVIEW_WIDTH,ze=Math.max(this.modified.getContentHeight(),this.original.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:ze,contentWidth:Oe,contentHeightChanged:me.contentHeightChanged,contentWidthChanged:me.contentWidthChanged})})),X}_adjustOptionsForLeftHandSide(n,s){const C=this._adjustOptionsForSubEditor(s);return this._options.renderSideBySide.get()?(C.unicodeHighlight=this._options.editorOptions.get().unicodeHighlight||{},C.wordWrapOverride1=this._options.diffWordWrap.get()):(C.wordWrapOverride1="off",C.wordWrapOverride2="off",C.stickyScroll={enabled:!1},C.unicodeHighlight={nonBasicASCII:!1,ambiguousCharacters:!1,invisibleCharacters:!1}),s.originalAriaLabel&&(C.ariaLabel=s.originalAriaLabel),C.ariaLabel=this._updateAriaLabel(C.ariaLabel),C.readOnly=!this._options.originalEditable.get(),C.dropIntoEditor={enabled:!C.readOnly},C.extraEditorClassName="original-in-monaco-diff-editor",C}_adjustOptionsForRightHandSide(n,s){const C=this._adjustOptionsForSubEditor(s);return s.modifiedAriaLabel&&(C.ariaLabel=s.modifiedAriaLabel),C.ariaLabel=this._updateAriaLabel(C.ariaLabel),C.wordWrapOverride1=this._options.diffWordWrap.get(),C.revealHorizontalRightPadding=Q.BH.revealHorizontalRightPadding.defaultValue+ir.ENTIRE_DIFF_OVERVIEW_WIDTH,C.scrollbar.verticalHasArrows=!1,C.extraEditorClassName="modified-in-monaco-diff-editor",C}_adjustOptionsForSubEditor(n){const s=Object.assign(Object.assign({},n),{dimension:{height:0,width:0}});return s.inDiffEditor=!0,s.automaticLayout=!1,s.scrollbar=Object.assign({},s.scrollbar||{}),s.scrollbar.vertical="visible",s.folding=!1,s.codeLens=this._options.diffCodeLens.get(),s.fixedOverflowWidgets=!0,s.minimap=Object.assign({},s.minimap||{}),s.minimap.enabled=!1,s.stickyScroll=this._options.hideUnchangedRegions.get()?{enabled:!1}:this._options.editorOptions.get().stickyScroll,s}_updateAriaLabel(n){var s;n||(n="");const C=(0,si.NC)("diff-aria-navigation-tip"," use {0} to open the accessibility help.",null===(s=this._keybindingService.lookupKeybinding("editor.action.accessibilityHelp"))||void 0===s?void 0:s.getAriaLabel());return this._options.accessibilityVerbose.get()?n+C:n?n.replaceAll(C,""):""}};Qd=function(de,n,s,C){var me,H=arguments.length,X=H<3?n:null===C?C=Object.getOwnPropertyDescriptor(n,s):C;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)X=Reflect.decorate(de,n,s,C);else for(var Oe=de.length-1;Oe>=0;Oe--)(me=de[Oe])&&(X=(H<3?me(X):H>3?me(n,s,X):me(n,s))||X);return H>3&&X&&Object.defineProperty(n,s,X),X}([Kc(5,qt.TG),Kc(6,Ls.d)],Qd);var Ku=e(60666);class $u{get editorOptions(){return this._options}constructor(n,s){this.diffEditorWidth=s,this.couldShowInlineViewBecauseOfSize=(0,Vi.nK)(H=>this._options.read(H).renderSideBySide&&this.diffEditorWidth.read(H)<=this._options.read(H).renderSideBySideInlineBreakpoint),this.renderOverviewRuler=(0,Vi.nK)(H=>this._options.read(H).renderOverviewRuler),this.renderSideBySide=(0,Vi.nK)(H=>this._options.read(H).renderSideBySide&&!(this._options.read(H).useInlineViewWhenSpaceIsLimited&&this.couldShowInlineViewBecauseOfSize.read(H))),this.readOnly=(0,Vi.nK)(H=>this._options.read(H).readOnly),this.shouldRenderRevertArrows=(0,Vi.nK)(H=>!(!this._options.read(H).renderMarginRevertIcon||!this.renderSideBySide.read(H)||this.readOnly.read(H))),this.renderIndicators=(0,Vi.nK)(H=>this._options.read(H).renderIndicators),this.enableSplitViewResizing=(0,Vi.nK)(H=>this._options.read(H).enableSplitViewResizing),this.splitViewDefaultRatio=(0,Vi.nK)(H=>this._options.read(H).splitViewDefaultRatio),this.ignoreTrimWhitespace=(0,Vi.nK)(H=>this._options.read(H).ignoreTrimWhitespace),this.maxComputationTimeMs=(0,Vi.nK)(H=>this._options.read(H).maxComputationTime),this.showMoves=(0,Vi.nK)(H=>this._options.read(H).experimental.showMoves&&this.renderSideBySide.read(H)),this.isInEmbeddedEditor=(0,Vi.nK)(H=>this._options.read(H).isInEmbeddedEditor),this.diffWordWrap=(0,Vi.nK)(H=>this._options.read(H).diffWordWrap),this.originalEditable=(0,Vi.nK)(H=>this._options.read(H).originalEditable),this.diffCodeLens=(0,Vi.nK)(H=>this._options.read(H).diffCodeLens),this.accessibilityVerbose=(0,Vi.nK)(H=>this._options.read(H).accessibilityVerbose),this.diffAlgorithm=(0,Vi.nK)(H=>this._options.read(H).diffAlgorithm),this.showEmptyDecorations=(0,Vi.nK)(H=>this._options.read(H).experimental.showEmptyDecorations),this.onlyShowAccessibleDiffViewer=(0,Vi.nK)(H=>this._options.read(H).onlyShowAccessibleDiffViewer),this.hideUnchangedRegions=(0,Vi.nK)(H=>this._options.read(H).hideUnchangedRegions.enabled),this.hideUnchangedRegionsRevealLineCount=(0,Vi.nK)(H=>this._options.read(H).hideUnchangedRegions.revealLineCount),this.hideUnchangedRegionsContextLineCount=(0,Vi.nK)(H=>this._options.read(H).hideUnchangedRegions.contextLineCount),this.hideUnchangedRegionsminimumLineCount=(0,Vi.nK)(H=>this._options.read(H).hideUnchangedRegions.minimumLineCount);const C=Object.assign(Object.assign({},n),$c(n,Ku.k));this._options=(0,Vi.uh)("options",C)}updateOptions(n){const s=$c(n,this._options.get()),C=Object.assign(Object.assign(Object.assign({},this._options.get()),n),s);this._options.set(C,void 0,{changedOptions:n})}}function $c(de,n){var s,C,H,X,me,Oe,ze,Qe;return{enableSplitViewResizing:(0,Q.O7)(de.enableSplitViewResizing,n.enableSplitViewResizing),splitViewDefaultRatio:(0,Q.L_)(de.splitViewDefaultRatio,.5,.1,.9),renderSideBySide:(0,Q.O7)(de.renderSideBySide,n.renderSideBySide),renderMarginRevertIcon:(0,Q.O7)(de.renderMarginRevertIcon,n.renderMarginRevertIcon),maxComputationTime:(0,Q.Zc)(de.maxComputationTime,n.maxComputationTime,0,1073741824),maxFileSize:(0,Q.Zc)(de.maxFileSize,n.maxFileSize,0,1073741824),ignoreTrimWhitespace:(0,Q.O7)(de.ignoreTrimWhitespace,n.ignoreTrimWhitespace),renderIndicators:(0,Q.O7)(de.renderIndicators,n.renderIndicators),originalEditable:(0,Q.O7)(de.originalEditable,n.originalEditable),diffCodeLens:(0,Q.O7)(de.diffCodeLens,n.diffCodeLens),renderOverviewRuler:(0,Q.O7)(de.renderOverviewRuler,n.renderOverviewRuler),diffWordWrap:(0,Q.NY)(de.diffWordWrap,n.diffWordWrap,["off","on","inherit"]),diffAlgorithm:(0,Q.NY)(de.diffAlgorithm,n.diffAlgorithm,["legacy","advanced"],{smart:"legacy",experimental:"advanced"}),accessibilityVerbose:(0,Q.O7)(de.accessibilityVerbose,n.accessibilityVerbose),experimental:{showMoves:(0,Q.O7)(null===(s=de.experimental)||void 0===s?void 0:s.showMoves,n.experimental.showMoves),showEmptyDecorations:(0,Q.O7)(null===(C=de.experimental)||void 0===C?void 0:C.showEmptyDecorations,n.experimental.showEmptyDecorations)},hideUnchangedRegions:{enabled:(0,Q.O7)(null!==(X=null===(H=de.hideUnchangedRegions)||void 0===H?void 0:H.enabled)&&void 0!==X?X:null===(me=de.experimental)||void 0===me?void 0:me.collapseUnchangedRegions,n.hideUnchangedRegions.enabled),contextLineCount:(0,Q.Zc)(null===(Oe=de.hideUnchangedRegions)||void 0===Oe?void 0:Oe.contextLineCount,n.hideUnchangedRegions.contextLineCount,0,1073741824),minimumLineCount:(0,Q.Zc)(null===(ze=de.hideUnchangedRegions)||void 0===ze?void 0:ze.minimumLineCount,n.hideUnchangedRegions.minimumLineCount,0,1073741824),revealLineCount:(0,Q.Zc)(null===(Qe=de.hideUnchangedRegions)||void 0===Qe?void 0:Qe.revealLineCount,n.hideUnchangedRegions.revealLineCount,0,1073741824)},isInEmbeddedEditor:(0,Q.O7)(de.isInEmbeddedEditor,n.isInEmbeddedEditor),onlyShowAccessibleDiffViewer:(0,Q.O7)(de.onlyShowAccessibleDiffViewer,n.onlyShowAccessibleDiffViewer),renderSideBySideInlineBreakpoint:(0,Q.Zc)(de.renderSideBySideInlineBreakpoint,n.renderSideBySideInlineBreakpoint,0,1073741824),useInlineViewWhenSpaceIsLimited:(0,Q.O7)(de.useInlineViewWhenSpaceIsLimited,n.useInlineViewWhenSpaceIsLimited)}}var tl=function(de,n){return function(s,C){n(s,C,de)}};let Yd=class extends zu{constructor(n,s,C,H,X,me,Oe,ze){var Qe;super(),this._domElement=n,this._parentContextKeyService=H,this._parentInstantiationService=X,this._audioCueService=Oe,this._editorProgressService=ze,this.elements=(0,Jt.h)("div.monaco-diff-editor.side-by-side",{style:{position:"relative",height:"100%"}},[(0,Jt.h)("div.noModificationsOverlay@overlay",{style:{position:"absolute",height:"100%",visibility:"hidden"}},[(0,Jt.$)("span",{},"No Changes")]),(0,Jt.h)("div.editor.original@original",{style:{position:"absolute",height:"100%"}}),(0,Jt.h)("div.editor.modified@modified",{style:{position:"absolute",height:"100%"}}),(0,Jt.h)("div.accessibleDiffViewer@accessibleDiffViewer",{style:{position:"absolute",height:"100%"}})]),this._diffModel=this._register((0,Vi.DN)("diffModel",void 0)),this.onDidChangeModel=gn.ju.fromObservableLight(this._diffModel),this._contextKeyService=this._register(this._parentContextKeyService.createScoped(this._domElement)),this._instantiationService=this._parentInstantiationService.createChild(new Id.y([Ke.i6,this._contextKeyService])),this._boundarySashes=(0,Vi.uh)("boundarySashes",void 0),this._accessibleDiffViewerShouldBeVisible=(0,Vi.uh)("accessibleDiffViewerShouldBeVisible",!1),this._accessibleDiffViewerVisible=(0,Vi.nK)(xi=>!!this._options.onlyShowAccessibleDiffViewer.read(xi)||this._accessibleDiffViewerShouldBeVisible.read(xi)),this.movedBlocksLinesPart=(0,Vi.uh)("MovedBlocksLinesPart",void 0),this._layoutInfo=(0,Vi.nK)(xi=>{var Oi,Ui,an;const pn=this._rootSizeObserver.width.read(xi),Ri=this._rootSizeObserver.height.read(xi),Yn=(null===(Oi=this._sash.read(xi))||void 0===Oi?void 0:Oi.sashLeft.read(xi))??Math.max(5,this._editors.original.getLayoutInfo().decorationsLeft),zn=pn-Yn-(this._options.renderOverviewRuler.read(xi)?ir.ENTIRE_DIFF_OVERVIEW_WIDTH:0),Hn=Yn-(null!==(an=null===(Ui=this.movedBlocksLinesPart.read(xi))||void 0===Ui?void 0:Ui.width.read(xi))&&void 0!==an?an:0);return this.elements.original.style.width=Hn+"px",this.elements.original.style.left="0px",this.elements.modified.style.width=zn+"px",this.elements.modified.style.left=Yn+"px",this._editors.original.layout({width:Hn,height:Ri}),this._editors.modified.layout({width:zn,height:Ri}),{modifiedEditor:this._editors.modified.getLayoutInfo(),originalEditor:this._editors.original.getLayoutInfo()}}),this._diffValue=this._diffModel.map((xi,Oi)=>xi?.diff.read(Oi)),this.onDidUpdateDiff=gn.ju.fromObservableLight(this._diffValue),me.willCreateDiffEditor(),this._contextKeyService.createKey("isInDiffEditor",!0),this._contextKeyService.createKey("diffEditorVersion",2),this._domElement.appendChild(this.elements.root),this._register((0,Ee.OF)(()=>this._domElement.removeChild(this.elements.root))),this._rootSizeObserver=this._register(new tu(this.elements.root,s.dimension)),this._rootSizeObserver.setAutomaticLayout(null!==(Qe=s.automaticLayout)&&void 0!==Qe&&Qe),this._options=new $u(s,this._rootSizeObserver.width),this._contextKeyService.createKey(Hl.u.isEmbeddedDiffEditor.key,!1);const tt=Hl.u.isEmbeddedDiffEditor.bindTo(this._contextKeyService);this._register((0,Vi.EH)(xi=>{tt.set(this._options.isInEmbeddedEditor.read(xi))}));const _t=Hl.u.comparingMovedCode.bindTo(this._contextKeyService);this._register((0,Vi.EH)(xi=>{var Oi;_t.set(!(null===(Oi=this._diffModel.read(xi))||void 0===Oi||!Oi.movedTextToCompare.read(xi)))}));const jt=Hl.u.diffEditorRenderSideBySideInlineBreakpointReached.bindTo(this._contextKeyService);this._register((0,Vi.EH)(xi=>{jt.set(this._options.couldShowInlineViewBecauseOfSize.read(xi))})),this._editors=this._register(this._instantiationService.createInstance(Qd,this.elements.original,this.elements.modified,this._options,C,(xi,Oi,Ui,an)=>this._createInnerEditor(xi,Oi,Ui,an))),this._sash=(0,Vi.Be)("sash",(xi,Oi)=>{const Ui=this._options.renderSideBySide.read(xi);if(this.elements.root.classList.toggle("side-by-side",Ui),!Ui)return;const an=Oi.add(new Eu(this._options,this.elements.root,{height:this._rootSizeObserver.height,width:this._rootSizeObserver.width.map((pn,Ri)=>pn-(this._options.renderOverviewRuler.read(Ri)?ir.ENTIRE_DIFF_OVERVIEW_WIDTH:0))}));return Oi.add((0,Vi.EH)(pn=>{const Ri=this._boundarySashes.read(pn);Ri&&an.setBoundarySashes(Ri)})),an}),this._register((0,Vi.$g)(this._sash,!0)),this._register((0,Vi.gp)((xi,Oi)=>{this.unchangedRangesFeature=Oi.add(this._instantiationService.createInstance(zr(Gd,xi),this._editors,this._diffModel,this._options))})),this._register((0,Vi.gp)((xi,Oi)=>{Oi.add(new(zr(wu,xi))(this._editors,this._diffModel,this._options))})),this._register((0,Vi.gp)((xi,Oi)=>{Oi.add(this._instantiationService.createInstance(zr($d,xi),this._editors,this._diffModel,this._options,this,()=>this.unchangedRangesFeature.isUpdatingViewZones))})),this._register((0,Vi.gp)((xi,Oi)=>{Oi.add(this._instantiationService.createInstance(zr(ir,xi),this._editors,this.elements.root,this._diffModel,this._rootSizeObserver.width,this._rootSizeObserver.height,this._layoutInfo.map(Ui=>Ui.modifiedEditor),this._options))})),this._register((0,Vi.gp)((xi,Oi)=>{this._accessibleDiffViewer=Oi.add(this._register(this._instantiationService.createInstance(zr(Wd,xi),this.elements.accessibleDiffViewer,this._accessibleDiffViewerVisible,(Ui,an)=>this._accessibleDiffViewerShouldBeVisible.set(Ui,an),this._options.onlyShowAccessibleDiffViewer.map(Ui=>!Ui),this._rootSizeObserver.width,this._rootSizeObserver.height,this._diffModel.map((Ui,an)=>{var pn;return null===(pn=Ui?.diff.read(an))||void 0===pn?void 0:pn.mappings.map(Ri=>Ri.lineRangeMapping)}),this._editors)))}));const Xt=this._accessibleDiffViewerVisible.map(xi=>xi?"hidden":"visible");this._register(Nr(this.elements.modified,{visibility:Xt})),this._register(Nr(this.elements.original,{visibility:Xt})),this._createDiffEditorContributions(),me.addDiffEditor(this),this._register((0,Vi.$g)(this._layoutInfo,!0)),this._register((0,Vi.gp)((xi,Oi)=>{this.movedBlocksLinesPart.set(Oi.add(new(zr(Fl,xi))(this.elements.root,this._diffModel,this._layoutInfo.map(Ui=>Ui.originalEditor),this._layoutInfo.map(Ui=>Ui.modifiedEditor),this._editors)),void 0)})),this._register(Nr(this.elements.overlay,{width:this._layoutInfo.map((xi,Oi)=>xi.originalEditor.width+(this._options.renderSideBySide.read(Oi)?0:xi.modifiedEditor.width)),visibility:(0,Vi.nK)(xi=>{var Oi,Ui;return this._options.hideUnchangedRegions.read(xi)&&0===(null===(Ui=null===(Oi=this._diffModel.read(xi))||void 0===Oi?void 0:Oi.diff.read(xi))||void 0===Ui?void 0:Ui.mappings.length)?"visible":"hidden"})})),this._register(this._editors.modified.onMouseDown(xi=>{var Oi,Ui;if(!xi.event.rightButton&&xi.target.position&&null!==(Oi=xi.target.element)&&void 0!==Oi&&Oi.className.includes("arrow-revert-change")){const an=xi.target.position.lineNumber,pn=xi.target,Ri=this._diffModel.get();if(!Ri)return;const Sn=null===(Ui=Ri.diff.get())||void 0===Ui?void 0:Ui.mappings;if(!Sn)return;const Yn=Sn.find(zn=>pn?.detail.afterLineNumber===zn.lineRangeMapping.modifiedRange.startLineNumber-1||zn.lineRangeMapping.modifiedRange.startLineNumber===an);if(!Yn)return;this.revert(Yn.lineRangeMapping),xi.event.stopPropagation()}})),this._register(gn.ju.runAndSubscribe(this._editors.modified.onDidChangeCursorPosition,xi=>{var Oi,Ui;if(3===xi?.reason){const an=null===(Ui=null===(Oi=this._diffModel.get())||void 0===Oi?void 0:Oi.diff.get())||void 0===Ui?void 0:Ui.mappings.find(pn=>pn.lineRangeMapping.modifiedRange.contains(xi.position.lineNumber));an?.lineRangeMapping.modifiedRange.isEmpty?this._audioCueService.playAudioCue(tr.y$.diffLineDeleted,{source:"diffEditor.cursorPositionChanged"}):an?.lineRangeMapping.originalRange.isEmpty?this._audioCueService.playAudioCue(tr.y$.diffLineInserted,{source:"diffEditor.cursorPositionChanged"}):an&&this._audioCueService.playAudioCue(tr.y$.diffLineModified,{source:"diffEditor.cursorPositionChanged"})}}));const Di=this._diffModel.map((xi,Oi)=>xi?.isDiffUpToDate.read(Oi));this._register((0,Vi.gp)((xi,Oi)=>{if(!1===Di.read(xi)){const Ui=this._editorProgressService.show(!0,1e3);Oi.add((0,Ee.OF)(()=>Ui.done()))}}))}_createInnerEditor(n,s,C,H){return n.createInstance(wn.Gm,s,C,H)}_createDiffEditorContributions(){const n=Ha.Uc.getDiffEditorContributions();for(const s of n)try{this._register(this._instantiationService.createInstance(s.ctor,this))}catch(C){(0,$t.dL)(C)}}get _targetEditor(){return this._editors.modified}getEditorType(){return gt.g.IDiffEditor}layout(n){this._rootSizeObserver.observe(n)}hasTextFocus(){return this._editors.original.hasTextFocus()||this._editors.modified.hasTextFocus()}saveViewState(){var n;return{original:this._editors.original.saveViewState(),modified:this._editors.modified.saveViewState(),modelState:null===(n=this._diffModel.get())||void 0===n?void 0:n.serializeState()}}restoreViewState(n){var s;if(n&&n.original&&n.modified){const C=n;this._editors.original.restoreViewState(C.original),this._editors.modified.restoreViewState(C.modified),C.modelState&&(null===(s=this._diffModel.get())||void 0===s||s.restoreSerializedState(C.modelState))}}createViewModel(n){return new Iu(n,this._options,this._instantiationService.createInstance(Uu.Q,{diffAlgorithm:this._options.diffAlgorithm.get()}))}getModel(){var n,s;return null!==(s=null===(n=this._diffModel.get())||void 0===n?void 0:n.model)&&void 0!==s?s:null}setModel(n){!n&&this._diffModel.get()&&this._accessibleDiffViewer.close();const s=n?"model"in n?n:this.createViewModel(n):void 0;this._editors.original.setModel(s?s.model.original:null),this._editors.modified.setModel(s?s.model.modified:null),(0,Vi.PS)(C=>{this._diffModel.set(s,C)})}updateOptions(n){this._options.updateOptions(n)}getContainerDomNode(){return this._domElement}getOriginalEditor(){return this._editors.original}getModifiedEditor(){return this._editors.modified}getLineChanges(){var n;const s=null===(n=this._diffModel.get())||void 0===n?void 0:n.diff.get();return s?function Zu(de){return de.mappings.map(n=>{const s=n.lineRangeMapping;let C,H,X,me,Oe=s.innerChanges;return s.originalRange.isEmpty?(C=s.originalRange.startLineNumber-1,H=0,Oe=void 0):(C=s.originalRange.startLineNumber,H=s.originalRange.endLineNumberExclusive-1),s.modifiedRange.isEmpty?(X=s.modifiedRange.startLineNumber-1,me=0,Oe=void 0):(X=s.modifiedRange.startLineNumber,me=s.modifiedRange.endLineNumberExclusive-1),{originalStartLineNumber:C,originalEndLineNumber:H,modifiedStartLineNumber:X,modifiedEndLineNumber:me,charChanges:Oe?.map(ze=>({originalStartLineNumber:ze.originalRange.startLineNumber,originalStartColumn:ze.originalRange.startColumn,originalEndLineNumber:ze.originalRange.endLineNumber,originalEndColumn:ze.originalRange.endColumn,modifiedStartLineNumber:ze.modifiedRange.startLineNumber,modifiedStartColumn:ze.modifiedRange.startColumn,modifiedEndLineNumber:ze.modifiedRange.endLineNumber,modifiedEndColumn:ze.modifiedRange.endColumn}))}})}(s):null}revert(n){var s;const C=null===(s=this._diffModel.get())||void 0===s?void 0:s.model;if(!C)return;const H=n.innerChanges?n.innerChanges.map(X=>({range:X.modifiedRange,text:C.original.getValueInRange(X.originalRange)})):[{range:n.modifiedRange.toExclusiveRange(),text:C.original.getValueInRange(n.originalRange.toExclusiveRange())}];this._editors.modified.executeEdits("diffEditor",H)}accessibleDiffViewerNext(){this._accessibleDiffViewer.next()}accessibleDiffViewerPrev(){this._accessibleDiffViewer.prev()}};Yd=function(de,n,s,C){var me,H=arguments.length,X=H<3?n:null===C?C=Object.getOwnPropertyDescriptor(n,s):C;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)X=Reflect.decorate(de,n,s,C);else for(var Oe=de.length-1;Oe>=0;Oe--)(me=de[Oe])&&(X=(H<3?me(X):H>3?me(n,s,X):me(n,s))||X);return H>3&&X&&Object.defineProperty(n,s,X),X}([tl(3,Ke.i6),tl(4,qt.TG),tl(5,yt.$),tl(6,tr.e7),tl(7,Qr.ek)],Yd);var Ul=function(de,n,s,C){var me,H=arguments.length,X=H<3?n:null===C?C=Object.getOwnPropertyDescriptor(n,s):C;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)X=Reflect.decorate(de,n,s,C);else for(var Oe=de.length-1;Oe>=0;Oe--)(me=de[Oe])&&(X=(H<3?me(X):H>3?me(n,s,X):me(n,s))||X);return H>3&&X&&Object.defineProperty(n,s,X),X},so=function(de,n){return function(s,C){n(s,C,de)}};let Qu=0,Gc=!1,il=class extends wn.Gm{constructor(n,s,C,H,X,me,Oe,ze,Qe,tt,_t,jt){const Xt=Object.assign({},s);Xt.ariaLabel=Xt.ariaLabel||lr.B8.editorViewAccessibleLabel,Xt.ariaLabel=Xt.ariaLabel+";"+lr.B8.accessibilityHelpMessage,super(n,Xt,{},C,H,X,me,ze,Qe,tt,_t,jt),this._standaloneKeybindingService=Oe instanceof fa?Oe:null,function Yu(de){if(!de){if(Gc)return;Gc=!0}eo.wW(de||document.body)}(Xt.ariaContainerElement)}addCommand(n,s,C){if(!this._standaloneKeybindingService)return console.warn("Cannot add command because the editor is configured with an unrecognized KeybindingService"),null;const H="DYNAMIC_"+ ++Qu,X=Ke.Ao.deserialize(C);return this._standaloneKeybindingService.addDynamicKeybinding(H,n,s,X),H}createContextKey(n,s){return this._contextKeyService.createKey(n,s)}addAction(n){if("string"!=typeof n.id||"string"!=typeof n.label||"function"!=typeof n.run)throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");if(!this._standaloneKeybindingService)return console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),Ee.JT.None;const s=n.id,C=n.label,H=Ke.Ao.and(Ke.Ao.equals("editorId",this.getId()),Ke.Ao.deserialize(n.precondition)),X=n.keybindings,me=Ke.Ao.and(H,Ke.Ao.deserialize(n.keybindingContext)),Oe=n.contextMenuGroupId||null,ze=n.contextMenuOrder||0,Qe=(Xt,...Di)=>Promise.resolve(n.run(this,...Di)),tt=new Ee.SL,_t=this.getId()+":"+s;if(tt.add(ho.P.registerCommand(_t,Qe)),Oe&&tt.add(Bo.BH.appendMenuItem(Bo.eH.EditorContext,{command:{id:_t,title:C},when:H,group:Oe,order:ze})),Array.isArray(X))for(const Xt of X)tt.add(this._standaloneKeybindingService.addDynamicKeybinding(_t,Xt,Qe,me));const jt=new po.p(_t,C,C,H,(...Xt)=>Promise.resolve(n.run(this,...Xt)),this._contextKeyService);return this._actions.set(s,jt),tt.add((0,Ee.OF)(()=>{this._actions.delete(s)})),tt}_triggerCommand(n,s){if(this._codeEditorService instanceof mi)try{this._codeEditorService.setActiveCodeEditor(this),super._triggerCommand(n,s)}finally{this._codeEditorService.setActiveCodeEditor(null)}else super._triggerCommand(n,s)}};il=Ul([so(2,qt.TG),so(3,yt.$),so(4,ho.H),so(5,Ke.i6),so(6,Ls.d),so(7,Qn.XE),so(8,en.lT),so(9,Vn.F),so(10,Ci.c_),so(11,_o.p)],il);let Xd=class extends il{constructor(n,s,C,H,X,me,Oe,ze,Qe,tt,_t,jt,Xt,Di,xi){const Oi=Object.assign({},s);ma(tt,Oi,!1);const Ui=ze.registerEditorContainer(n);"string"==typeof Oi.theme&&ze.setTheme(Oi.theme),typeof Oi.autoDetectHighContrast<"u"&&ze.setAutoDetectHighContrast(!!Oi.autoDetectHighContrast);const an=Oi.model;let pn;if(delete Oi.model,super(n,Oi,C,H,X,me,Oe,ze,Qe,_t,Di,xi),this._configurationService=tt,this._standaloneThemeService=ze,this._register(Ui),typeof an>"u"){const Ri=Xt.getLanguageIdByMimeType(Oi.language)||Oi.language||as.bd;pn=Zc(jt,Xt,Oi.value||"",Ri,void 0),this._ownsModel=!0}else pn=an,this._ownsModel=!1;this._attachModel(pn),pn&&this._onDidChangeModel.fire({oldModelUrl:null,newModelUrl:pn.uri})}dispose(){super.dispose()}updateOptions(n){ma(this._configurationService,n,!1),"string"==typeof n.theme&&this._standaloneThemeService.setTheme(n.theme),typeof n.autoDetectHighContrast<"u"&&this._standaloneThemeService.setAutoDetectHighContrast(!!n.autoDetectHighContrast),super.updateOptions(n)}_postDetachModelCleanup(n){super._postDetachModelCleanup(n),n&&this._ownsModel&&(n.dispose(),this._ownsModel=!1)}};Xd=Ul([so(2,qt.TG),so(3,yt.$),so(4,ho.H),so(5,Ke.i6),so(6,Ls.d),so(7,In.Z),so(8,en.lT),so(9,xn.Ui),so(10,Vn.F),so(11,Gi.q),so(12,Mi.O),so(13,Ci.c_),so(14,_o.p)],Xd);let Jd=class extends Un.p{constructor(n,s,C,H,X,me,Oe,ze,Qe,tt,_t){const jt=Object.assign({},s);ma(ze,jt,!0);const Xt=me.registerEditorContainer(n);"string"==typeof jt.theme&&me.setTheme(jt.theme),typeof jt.autoDetectHighContrast<"u"&&me.setAutoDetectHighContrast(!!jt.autoDetectHighContrast),super(n,jt,{},_t,H,C,X,me,Oe,Qe,tt),this._configurationService=ze,this._standaloneThemeService=me,this._register(Xt)}dispose(){super.dispose()}updateOptions(n){ma(this._configurationService,n,!0),"string"==typeof n.theme&&this._standaloneThemeService.setTheme(n.theme),typeof n.autoDetectHighContrast<"u"&&this._standaloneThemeService.setAutoDetectHighContrast(!!n.autoDetectHighContrast),super.updateOptions(n)}_createInnerEditor(n,s,C){return n.createInstance(il,s,C)}getOriginalEditor(){return super.getOriginalEditor()}getModifiedEditor(){return super.getModifiedEditor()}addCommand(n,s,C){return this.getModifiedEditor().addCommand(n,s,C)}createContextKey(n,s){return this.getModifiedEditor().createContextKey(n,s)}addAction(n){return this.getModifiedEditor().addAction(n)}};Jd=Ul([so(2,qt.TG),so(3,Ke.i6),so(4,yt.$),so(5,In.Z),so(6,en.lT),so(7,xn.Ui),so(8,dr.i),so(9,Qr.ek),so(10,Tl.p)],Jd);let qd=class extends Yd{constructor(n,s,C,H,X,me,Oe,ze,Qe,tt,_t,jt){const Xt=Object.assign({},s);ma(ze,Xt,!0);const Di=me.registerEditorContainer(n);"string"==typeof Xt.theme&&me.setTheme(Xt.theme),typeof Xt.autoDetectHighContrast<"u"&&me.setAutoDetectHighContrast(!!Xt.autoDetectHighContrast),super(n,Xt,{},H,C,X,jt,tt),this._configurationService=ze,this._standaloneThemeService=me,this._register(Di)}dispose(){super.dispose()}updateOptions(n){ma(this._configurationService,n,!0),"string"==typeof n.theme&&this._standaloneThemeService.setTheme(n.theme),typeof n.autoDetectHighContrast<"u"&&this._standaloneThemeService.setAutoDetectHighContrast(!!n.autoDetectHighContrast),super.updateOptions(n)}_createInnerEditor(n,s,C){return n.createInstance(il,s,C)}getOriginalEditor(){return super.getOriginalEditor()}getModifiedEditor(){return super.getModifiedEditor()}addCommand(n,s,C){return this.getModifiedEditor().addCommand(n,s,C)}createContextKey(n,s){return this.getModifiedEditor().createContextKey(n,s)}addAction(n){return this.getModifiedEditor().addAction(n)}};function Zc(de,n,s,C,H){if(s=s||"",!C){const X=s.indexOf("\n");let me=s;return-1!==X&&(me=s.substring(0,X)),Qc(de,s,n.createByFilepathOrFirstLine(H||null,me),H)}return Qc(de,s,n.createById(C),H)}function Qc(de,n,s,C){return de.createModel(n,s,C)}qd=Ul([so(2,qt.TG),so(3,Ke.i6),so(4,yt.$),so(5,In.Z),so(6,en.lT),so(7,xn.Ui),so(8,dr.i),so(9,Qr.ek),so(10,Tl.p),so(11,tr.e7)],qd);var Xu=e(24558),Yc=function(de,n,s,C){return new(s||(s=Promise))(function(X,me){function Oe(tt){try{Qe(C.next(tt))}catch(_t){me(_t)}}function ze(tt){try{Qe(C.throw(tt))}catch(_t){me(_t)}}function Qe(tt){tt.done?X(tt.value):function H(X){return X instanceof s?X:new s(function(me){me(X)})}(tt.value).then(Oe,ze)}Qe((C=C.apply(de,n||[])).next())})};function Ju(de,n,s){return On.initialize(s||{}).createInstance(Xd,de,n)}function qu(de){return On.get(yt.$).onCodeEditorAdd(s=>{de(s)})}function eg(de){return On.get(yt.$).onDiffEditorAdd(s=>{de(s)})}function tg(){return On.get(yt.$).listCodeEditors()}function ig(){return On.get(yt.$).listDiffEditors()}function ng(de,n,s){var C;const H=On.initialize(s||{});return null!==(C=n?.experimental)&&void 0!==C&&C.useVersion2?H.createInstance(qd,de,n):H.createInstance(Jd,de,n)}function og(de,n){return On.initialize({}).createInstance(Dt.F,de,n)}function sg(de){if("string"!=typeof de.id||"function"!=typeof de.run)throw new Error("Invalid command descriptor, `id` and `run` are required properties!");return ho.P.registerCommand(de.id,de.run)}function rg(de){if("string"!=typeof de.id||"string"!=typeof de.label||"function"!=typeof de.run)throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");const n=Ke.Ao.deserialize(de.precondition),C=new Ee.SL;if(C.add(ho.P.registerCommand(de.id,(H,...X)=>Ha._l.runEditorCommand(H,X,n,(me,Oe,ze)=>Promise.resolve(de.run(Oe,...ze))))),de.contextMenuGroupId&&C.add(Bo.BH.appendMenuItem(Bo.eH.EditorContext,{command:{id:de.id,title:de.label},when:n,group:de.contextMenuGroupId,order:de.contextMenuOrder||0})),Array.isArray(de.keybindings)){const H=On.get(Ls.d);if(H instanceof fa){const X=Ke.Ao.and(n,Ke.Ao.deserialize(de.keybindingContext));C.add(H.addDynamicKeybindings(de.keybindings.map(me=>({keybinding:me,command:de.id,when:X}))))}else console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService")}return C}function ag(de){return Xc([de])}function Xc(de){const n=On.get(Ls.d);return n instanceof fa?n.addDynamicKeybindings(de.map(s=>({keybinding:s.keybinding,command:s.command,commandArgs:s.commandArgs,when:Ke.Ao.deserialize(s.when)}))):(console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),Ee.JT.None)}function lg(de,n,s){const C=On.get(Mi.O),H=C.getLanguageIdByMimeType(n)||n;return Zc(On.get(Gi.q),C,de,H,s)}function dg(de,n){const s=On.get(Mi.O),C=s.getLanguageIdByMimeType(n)||n||as.bd;de.setLanguage(s.createById(C))}function cg(de,n,s){de&&On.get(Fo.lT).changeOne(n,de.uri,s)}function hg(de){On.get(Fo.lT).changeAll(de,[])}function ug(de){return On.get(Fo.lT).read(de)}function gg(de){return On.get(Fo.lT).onMarkerChanged(de)}function fg(de){return On.get(Gi.q).getModel(de)}function mg(){return On.get(Gi.q).getModels()}function pg(de){return On.get(Gi.q).onModelAdded(de)}function vg(de){return On.get(Gi.q).onModelRemoved(de)}function _g(de){return On.get(Gi.q).onModelLanguageChanged(s=>{de({model:s.model,oldLanguage:s.oldLanguageId})})}function Cg(de){return function st(de,n,s){return new ut(de,n,s)}(On.get(Gi.q),On.get(Ci.c_),de)}function bg(de,n){const s=On.get(Mi.O),C=On.get(In.Z);return Pn.colorizeElement(C,s,de,n).then(()=>{C.registerEditorContainer(de)})}function yg(de,n,s){const C=On.get(Mi.O);return On.get(In.Z).registerEditorContainer(document.body),Pn.colorize(C,de,n,s)}function Sg(de,n,s=4){return On.get(In.Z).registerEditorContainer(document.body),Pn.colorizeModelLine(de,n,s)}function Lg(de,n){Zt.RW.getOrCreate(n);const s=function wg(de){return Zt.RW.get(de)||{getInitialState:()=>ci.TJ,tokenize:(s,C,H)=>(0,ci.Ri)(de,H)}}(n),C=(0,Te.uq)(de),H=[];let X=s.getInitialState();for(let me=0,Oe=C.length;me<Oe;me++){const Qe=s.tokenize(C[me],!0,X);H[me]=Qe.tokens,X=Qe.endState}return H}function Eg(de,n){On.get(In.Z).defineTheme(de,n)}function Dg(de){On.get(In.Z).setTheme(de)}function xg(){ht.g.clearAllFontInfos()}function Ig(de,n){return ho.P.registerCommand({id:de,handler:n})}function Tg(de){return On.get(Qs.v4).registerOpener({open(s){return Yc(this,void 0,void 0,function*(){return"string"==typeof s&&(s=Ae.o.parse(s)),de.open(s)})}})}function Ng(de){return On.get(yt.$).registerCodeEditorOpenHandler((s,C,H)=>Yc(this,void 0,void 0,function*(){var X;if(!C)return null;const me=null===(X=s.options)||void 0===X?void 0:X.selection;let Oe;return me&&"number"==typeof me.endLineNumber&&"number"==typeof me.endColumn?Oe=me:me&&(Oe={lineNumber:me.startLineNumber,column:me.startColumn}),(yield de.openCodeEditor(C,s.resource,Oe))?C:null}))}var Ag=e(90888);function zl(de,n){return"boolean"==typeof de?de:n}function Jc(de,n){return"string"==typeof de?de:n}function qc(de,n=!1){n&&(de=de.map(function(C){return C.toLowerCase()}));const s=function Pg(de){const n={};for(const s of de)n[s]=!0;return n}(de);return n?function(C){return void 0!==s[C.toLowerCase()]&&s.hasOwnProperty(C.toLowerCase())}:function(C){return void 0!==s[C]&&s.hasOwnProperty(C)}}function ec(de,n){n=n.replace(/@@/g,"\x01");let C,s=0;do{C=!1,n=n.replace(/@(\w+)/g,function(X,me){C=!0;let Oe="";if("string"==typeof de[me])Oe=de[me];else{if(!(de[me]&&de[me]instanceof RegExp))throw zi(de,void 0===de[me]?"language definition does not contain attribute '"+me+"', used at: "+n:"attribute reference '"+me+"' must be a string, used at: "+n);Oe=de[me].source}return gi(Oe)?"":"(?:"+Oe+")"}),s++}while(C&&s<5);return n=n.replace(/\x01/g,"@"),new RegExp(n,(de.ignoreCase?"i":"")+(de.unicode?"u":""))}function kg(de,n,s,C){let H=-1,X=s,me=s.match(/^\$(([sS]?)(\d\d?)|#)(.*)$/);me&&(me[3]&&(H=parseInt(me[3]),me[2]&&(H+=100)),X=me[4]);let Qe,Oe="~",ze=X;if(X&&0!==X.length?/^\w*$/.test(ze)?Oe="==":(me=X.match(/^(@|!@|~|!~|==|!=)(.*)$/),me&&(Oe=me[1],ze=me[2])):(Oe="!=",ze=""),"~"!==Oe&&"!~"!==Oe||!/^(\w|\|)*$/.test(ze))if("@"===Oe||"!@"===Oe){const tt=de[ze];if(!tt)throw zi(de,"the @ match target '"+ze+"' is not defined, in rule: "+n);if(!function Rg(de,n){if(!n||!Array.isArray(n))return!1;for(const s of n)if(!de(s))return!1;return!0}(function(jt){return"string"==typeof jt},tt))throw zi(de,"the @ match target '"+ze+"' must be an array of strings, in rule: "+n);const _t=qc(tt,de.ignoreCase);Qe=function(jt){return"@"===Oe?_t(jt):!_t(jt)}}else if("~"===Oe||"!~"===Oe)if(ze.indexOf("$")<0){const tt=ec(de,"^"+ze+"$");Qe=function(_t){return"~"===Oe?tt.test(_t):!tt.test(_t)}}else Qe=function(tt,_t,jt,Xt){return ec(de,"^"+qi(de,ze,_t,jt,Xt)+"$").test(tt)};else if(ze.indexOf("$")<0){const tt=di(de,ze);Qe=function(_t){return"=="===Oe?_t===tt:_t!==tt}}else{const tt=di(de,ze);Qe=function(_t,jt,Xt,Di,xi){const Oi=qi(de,tt,jt,Xt,Di);return"=="===Oe?_t===Oi:_t!==Oi}}else{const tt=qc(ze.split("|"),de.ignoreCase);Qe=function(_t){return"~"===Oe?tt(_t):!tt(_t)}}return-1===H?{name:s,value:C,test:function(tt,_t,jt,Xt){return Qe(tt,tt,_t,jt,Xt)}}:{name:s,value:C,test:function(tt,_t,jt,Xt){const Di=function Og(de,n,s,C){if(C<0)return de;if(C<n.length)return n[C];if(C>=100){C-=100;const H=s.split(".");if(H.unshift(s),C<H.length)return H[C]}return null}(tt,_t,jt,H);return Qe(Di||"",tt,_t,jt,Xt)}}}function tc(de,n,s){if(s){if("string"==typeof s)return s;if(s.token||""===s.token){if("string"!=typeof s.token)throw zi(de,"a 'token' attribute must be of type string, in rule: "+n);{const C={token:s.token};if(s.token.indexOf("$")>=0&&(C.tokenSubst=!0),"string"==typeof s.bracket)if("@open"===s.bracket)C.bracket=1;else{if("@close"!==s.bracket)throw zi(de,"a 'bracket' attribute must be either '@open' or '@close', in rule: "+n);C.bracket=-1}if(s.next){if("string"!=typeof s.next)throw zi(de,"the next state must be a string value in rule: "+n);{let H=s.next;if(!/^(@pop|@push|@popall)$/.test(H)&&("@"===H[0]&&(H=H.substr(1)),H.indexOf("$")<0&&!function Nn(de,n){let s=n;for(;s&&s.length>0;){if(de.stateNames[s])return!0;const H=s.lastIndexOf(".");s=H<0?null:s.substr(0,H)}return!1}(de,qi(de,H,"",[],""))))throw zi(de,"the next state '"+s.next+"' is not defined in rule: "+n);C.next=H}}return"number"==typeof s.goBack&&(C.goBack=s.goBack),"string"==typeof s.switchTo&&(C.switchTo=s.switchTo),"string"==typeof s.log&&(C.log=s.log),"string"==typeof s.nextEmbedded&&(C.nextEmbedded=s.nextEmbedded,de.usesEmbedded=!0),C}}if(Array.isArray(s)){const C=[];for(let H=0,X=s.length;H<X;H++)C[H]=tc(de,n,s[H]);return{group:C}}if(s.cases){const C=[];for(const X in s.cases)if(s.cases.hasOwnProperty(X)){const me=tc(de,n,s.cases[X]);C.push("@default"===X||"@"===X||""===X?{test:void 0,value:me,name:X}:"@eos"===X?{test:function(Oe,ze,Qe,tt){return tt},value:me,name:X}:kg(de,n,X,me))}const H=de.defaultToken;return{test:function(X,me,Oe,ze){for(const Qe of C)if(!Qe.test||Qe.test(X,me,Oe,ze))return Qe.value;return H}}}throw zi(de,"an action must be a string, an object with a 'token' or 'cases' attribute, or an array of actions; in rule: "+n)}return{token:""}}class Bg{constructor(n){this.regex=new RegExp(""),this.action={token:""},this.matchOnlyAtLineStart=!1,this.name="",this.name=n}setRegex(n,s){let C;if("string"==typeof s)C=s;else{if(!(s instanceof RegExp))throw zi(n,"rules must start with a match string or regular expression: "+this.name);C=s.source}this.matchOnlyAtLineStart=C.length>0&&"^"===C[0],this.name=this.name+": "+C,this.regex=ec(n,"^(?:"+(this.matchOnlyAtLineStart?C.substr(1):C)+")")}setAction(n,s){this.action=tc(n,this.name,s)}}function eh(de,n){if(!n||"object"!=typeof n)throw new Error("Monarch: expecting a language definition object");const s={};s.languageId=de,s.includeLF=zl(n.includeLF,!1),s.noThrow=!1,s.maxStack=100,s.start="string"==typeof n.start?n.start:null,s.ignoreCase=zl(n.ignoreCase,!1),s.unicode=zl(n.unicode,!1),s.tokenPostfix=Jc(n.tokenPostfix,"."+s.languageId),s.defaultToken=Jc(n.defaultToken,"source"),s.usesEmbedded=!1;const C=n;function H(me,Oe,ze){for(const Qe of ze){let tt=Qe.include;if(tt){if("string"!=typeof tt)throw zi(s,"an 'include' attribute must be a string at: "+me);if("@"===tt[0]&&(tt=tt.substr(1)),!n.tokenizer[tt])throw zi(s,"include target '"+tt+"' is not defined at: "+me);H(me+"."+tt,Oe,n.tokenizer[tt])}else{const _t=new Bg(me);if(Array.isArray(Qe)&&Qe.length>=1&&Qe.length<=3)if(_t.setRegex(C,Qe[0]),Qe.length>=3)if("string"==typeof Qe[1])_t.setAction(C,{token:Qe[1],next:Qe[2]});else{if("object"!=typeof Qe[1])throw zi(s,"a next state as the last element of a rule can only be given if the action is either an object or a string, at: "+me);{const jt=Qe[1];jt.next=Qe[2],_t.setAction(C,jt)}}else _t.setAction(C,Qe[1]);else{if(!Qe.regex)throw zi(s,"a rule must either be an array, or an object with a 'regex' or 'include' field at: "+me);Qe.name&&"string"==typeof Qe.name&&(_t.name=Qe.name),Qe.matchOnlyAtStart&&(_t.matchOnlyAtLineStart=zl(Qe.matchOnlyAtLineStart,!1)),_t.setRegex(C,Qe.regex),_t.setAction(C,Qe.action)}Oe.push(_t)}}}if(C.languageId=de,C.includeLF=s.includeLF,C.ignoreCase=s.ignoreCase,C.unicode=s.unicode,C.noThrow=s.noThrow,C.usesEmbedded=s.usesEmbedded,C.stateNames=n.tokenizer,C.defaultToken=s.defaultToken,!n.tokenizer||"object"!=typeof n.tokenizer)throw zi(s,"a language definition must define the 'tokenizer' attribute as an object");s.tokenizer=[];for(const me in n.tokenizer)if(n.tokenizer.hasOwnProperty(me)){s.start||(s.start=me);const Oe=n.tokenizer[me];s.tokenizer[me]=new Array,H("tokenizer."+me,s.tokenizer[me],Oe)}if(s.usesEmbedded=C.usesEmbedded,n.brackets){if(!Array.isArray(n.brackets))throw zi(s,"the 'brackets' attribute must be defined as an array")}else n.brackets=[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}];const X=[];for(const me of n.brackets){let Oe=me;if(Oe&&Array.isArray(Oe)&&3===Oe.length&&(Oe={token:Oe[2],open:Oe[0],close:Oe[1]}),Oe.open===Oe.close)throw zi(s,"open and close brackets in a 'brackets' attribute must be different: "+Oe.open+"\n hint: use the 'bracket' attribute if matching on equal brackets is required.");if("string"!=typeof Oe.open||"string"!=typeof Oe.token||"string"!=typeof Oe.close)throw zi(s,"every element in the 'brackets' array must be a '{open,close,token}' object or array");X.push({token:Oe.token+s.tokenPostfix,open:di(s,Oe.open),close:di(s,Oe.close)})}return s.brackets=X,s.noThrow=!0,s}var Fg=function(de,n,s,C){return new(s||(s=Promise))(function(X,me){function Oe(tt){try{Qe(C.next(tt))}catch(_t){me(_t)}}function ze(tt){try{Qe(C.throw(tt))}catch(_t){me(_t)}}function Qe(tt){tt.done?X(tt.value):function H(X){return X instanceof s?X:new s(function(me){me(X)})}(tt.value).then(Oe,ze)}Qe((C=C.apply(de,n||[])).next())})};function Wg(de){as.dQ.registerLanguage(de)}function Vg(){let de=[];return de=de.concat(as.dQ.getLanguages()),de}function Hg(de){return On.get(Mi.O).languageIdCodec.encodeLanguageId(de)}function Ug(de,n){return On.withServices(()=>{const C=On.get(Mi.O).onDidRequestRichLanguageFeatures(H=>{H===de&&(C.dispose(),n())});return C})}function zg(de,n){return On.withServices(()=>{const C=On.get(Mi.O).onDidRequestBasicLanguageFeatures(H=>{H===de&&(C.dispose(),n())});return C})}function jg(de,n){if(!On.get(Mi.O).isRegisteredLanguageId(de))throw new Error(`Cannot set configuration for unknown language ${de}`);return On.get(Ci.c_).register(de,n,100)}class Kg{constructor(n,s){this._languageId=n,this._actual=s}dispose(){}getInitialState(){return this._actual.getInitialState()}tokenize(n,s,C){if("function"==typeof this._actual.tokenize)return nl.adaptTokenize(this._languageId,this._actual,n,C);throw new Error("Not supported!")}tokenizeEncoded(n,s,C){const H=this._actual.tokenizeEncoded(n,C);return new Zt.DI(H.tokens,H.endState)}}class nl{constructor(n,s,C,H){this._languageId=n,this._actual=s,this._languageService=C,this._standaloneThemeService=H}dispose(){}getInitialState(){return this._actual.getInitialState()}static _toClassicTokens(n,s){const C=[];let H=0;for(let X=0,me=n.length;X<me;X++){const Oe=n[X];let ze=Oe.startIndex;0===X?ze=0:ze<H&&(ze=H),C[X]=new Zt.WU(ze,Oe.scopes,s),H=ze}return C}static adaptTokenize(n,s,C,H){const X=s.tokenize(C,H),me=nl._toClassicTokens(X.tokens,n);let Oe;return Oe=X.endState.equals(H)?H:X.endState,new Zt.hG(me,Oe)}tokenize(n,s,C){return nl.adaptTokenize(this._languageId,this._actual,n,C)}_toBinaryTokens(n,s){const C=n.encodeLanguageId(this._languageId),H=this._standaloneThemeService.getColorTheme().tokenTheme,X=[];let me=0,Oe=0;for(let Qe=0,tt=s.length;Qe<tt;Qe++){const _t=s[Qe],jt=1024|H.match(C,_t.scopes);if(me>0&&X[me-1]===jt)continue;let Xt=_t.startIndex;0===Qe?Xt=0:Xt<Oe&&(Xt=Oe),X[me++]=Xt,X[me++]=jt,Oe=Xt}const ze=new Uint32Array(me);for(let Qe=0;Qe<me;Qe++)ze[Qe]=X[Qe];return ze}tokenizeEncoded(n,s,C){const H=this._actual.tokenize(n,C),X=this._toBinaryTokens(this._languageService.languageIdCodec,H.tokens);let me;return me=H.endState.equals(C)?C:H.endState,new Zt.DI(X,me)}}function th(de){return de&&"function"==typeof de.then}function Zg(de){const n=On.get(In.Z);if(de){const s=[null];for(let C=1,H=de.length;C<H;C++)s[C]=Ag.Il.fromHex(de[C]);n.setColorMapOverride(s)}else n.setColorMapOverride(null)}function ih(de,n){return function Gg(de){return"tokenizeEncoded"in de}(n)?new Kg(de,n):new nl(de,n,On.get(Mi.O),On.get(In.Z))}function ic(de,n){const s=new Zt.MO(()=>Fg(this,void 0,void 0,function*(){const C=yield Promise.resolve(n.create());return C?function $g(de){return"function"==typeof de.getInitialState}(C)?ih(de,C):new Qi(On.get(Mi.O),On.get(In.Z),de,eh(de,C),On.get(xn.Ui)):null}));return Zt.RW.registerFactory(de,s)}function Qg(de,n){if(!On.get(Mi.O).isRegisteredLanguageId(de))throw new Error(`Cannot set tokens provider for unknown language ${de}`);return th(n)?ic(de,{create:()=>n}):Zt.RW.register(de,ih(de,n))}function Yg(de,n){return th(n)?ic(de,{create:()=>n}):Zt.RW.register(de,(C=n,new Qi(On.get(Mi.O),On.get(In.Z),de,eh(de,C),On.get(xn.Ui))));var C}function Xg(de,n){return On.get(_o.p).referenceProvider.register(de,n)}function Jg(de,n){return On.get(_o.p).renameProvider.register(de,n)}function qg(de,n){return On.get(_o.p).signatureHelpProvider.register(de,n)}function ef(de,n){return On.get(_o.p).hoverProvider.register(de,{provideHover:(C,H,X)=>{const me=C.getWordAtPosition(H);return Promise.resolve(n.provideHover(C,H,X)).then(Oe=>{if(Oe)return!Oe.range&&me&&(Oe.range=new Ho.e(H.lineNumber,me.startColumn,H.lineNumber,me.endColumn)),Oe.range||(Oe.range=new Ho.e(H.lineNumber,H.column,H.lineNumber,H.column)),Oe})}})}function tf(de,n){return On.get(_o.p).documentSymbolProvider.register(de,n)}function nf(de,n){return On.get(_o.p).documentHighlightProvider.register(de,n)}function of(de,n){return On.get(_o.p).linkedEditingRangeProvider.register(de,n)}function sf(de,n){return On.get(_o.p).definitionProvider.register(de,n)}function rf(de,n){return On.get(_o.p).implementationProvider.register(de,n)}function af(de,n){return On.get(_o.p).typeDefinitionProvider.register(de,n)}function lf(de,n){return On.get(_o.p).codeLensProvider.register(de,n)}function df(de,n,s){return On.get(_o.p).codeActionProvider.register(de,{providedCodeActionKinds:s?.providedCodeActionKinds,documentation:s?.documentation,provideCodeActions:(H,X,me,Oe)=>{const Qe=On.get(Fo.lT).read({resource:H.uri}).filter(tt=>Ho.e.areIntersectingOrTouching(tt,X));return n.provideCodeActions(H,X,{markers:Qe,only:me.only,trigger:me.trigger},Oe)},resolveCodeAction:n.resolveCodeAction})}function cf(de,n){return On.get(_o.p).documentFormattingEditProvider.register(de,n)}function hf(de,n){return On.get(_o.p).documentRangeFormattingEditProvider.register(de,n)}function uf(de,n){return On.get(_o.p).onTypeFormattingEditProvider.register(de,n)}function gf(de,n){return On.get(_o.p).linkProvider.register(de,n)}function ff(de,n){return On.get(_o.p).completionProvider.register(de,n)}function mf(de,n){return On.get(_o.p).colorProvider.register(de,n)}function pf(de,n){return On.get(_o.p).foldingRangeProvider.register(de,n)}function vf(de,n){return On.get(_o.p).declarationProvider.register(de,n)}function _f(de,n){return On.get(_o.p).selectionRangeProvider.register(de,n)}function Cf(de,n){return On.get(_o.p).documentSemanticTokensProvider.register(de,n)}function bf(de,n){return On.get(_o.p).documentRangeSemanticTokensProvider.register(de,n)}function yf(de,n){return On.get(_o.p).inlineCompletionsProvider.register(de,n)}function Sf(de,n){return On.get(_o.p).inlayHintsProvider.register(de,n)}var Lf=e(44325);Q.BH.wrappingIndent.defaultValue=0,Q.BH.glyphMargin.defaultValue=!1,Q.BH.autoIndent.defaultValue=3,Q.BH.overviewRulerLanes.defaultValue=2,Lf.xC.setFormatterSelector((de,n,s)=>Promise.resolve(de[0]));const es=(0,le.O)();es.editor=function Mg(){return{create:Ju,getEditors:tg,getDiffEditors:ig,onDidCreateEditor:qu,onDidCreateDiffEditor:eg,createDiffEditor:ng,createDiffNavigator:og,addCommand:sg,addEditorAction:rg,addKeybindingRule:ag,addKeybindingRules:Xc,createModel:lg,setModelLanguage:dg,setModelMarkers:cg,getModelMarkers:ug,removeAllMarkers:hg,onDidChangeMarkers:gg,getModels:mg,getModel:fg,onDidCreateModel:pg,onWillDisposeModel:vg,onDidChangeModelLanguage:_g,createWebWorker:Cg,colorizeElement:bg,colorize:yg,colorizeModelLine:Sg,tokenize:Lg,defineTheme:Eg,setTheme:Dg,remeasureFonts:xg,registerCommand:Ig,registerLinkOpener:Tg,registerEditorOpener:Ng,AccessibilitySupport:pt.ao,ContentWidgetPositionPreference:pt.r3,CursorChangeReason:pt.Vi,DefaultEndOfLine:pt._x,EditorAutoIndentStrategy:pt.rf,EditorOption:pt.wT,EndOfLinePreference:pt.gm,EndOfLineSequence:pt.jl,MinimapPosition:pt.F5,MouseTargetType:pt.MG,OverlayWidgetPositionPreference:pt.E$,OverviewRulerLane:pt.sh,GlyphMarginLane:pt.U,RenderLineNumbersType:pt.Lu,RenderMinimap:pt.vQ,ScrollbarVisibility:pt.g_,ScrollType:pt.g4,TextEditorCursorBlinkingStyle:pt.In,TextEditorCursorStyle:pt.d2,TrackedRangeStickiness:pt.OI,WrappingIndent:pt.up,InjectedTextCursorStops:pt.RM,PositionAffinity:pt.py,ConfigurationChangedEvent:Q.Bb,BareFontInfo:Ot.E4,FontInfo:Ot.pR,TextModelResolvedOptions:Rt.dJ,FindMatch:Rt.tk,ApplyUpdateResult:Q.rk,LineRange:qo.z,LineRangeMapping:va.f0,RangeMapping:va.iy,EditorZoom:Xu.C,MovedText:va.y0,SimpleLineRangeMapping:va.Qy,EditorType:gt.g,EditorOptions:Q.BH}}(),es.languages=function wf(){return{register:Wg,getLanguages:Vg,onLanguage:Ug,onLanguageEncountered:zg,getEncodedLanguageId:Hg,setLanguageConfiguration:jg,setColorMap:Zg,registerTokensProviderFactory:ic,setTokensProvider:Qg,setMonarchTokensProvider:Yg,registerReferenceProvider:Xg,registerRenameProvider:Jg,registerCompletionItemProvider:ff,registerSignatureHelpProvider:qg,registerHoverProvider:ef,registerDocumentSymbolProvider:tf,registerDocumentHighlightProvider:nf,registerLinkedEditingRangeProvider:of,registerDefinitionProvider:sf,registerImplementationProvider:rf,registerTypeDefinitionProvider:af,registerCodeLensProvider:lf,registerCodeActionProvider:df,registerDocumentFormattingEditProvider:cf,registerDocumentRangeFormattingEditProvider:hf,registerOnTypeFormattingEditProvider:uf,registerLinkProvider:gf,registerColorProvider:mf,registerFoldingRangeProvider:pf,registerDeclarationProvider:vf,registerSelectionRangeProvider:_f,registerDocumentSemanticTokensProvider:Cf,registerDocumentRangeSemanticTokensProvider:bf,registerInlineCompletionsProvider:yf,registerInlayHintsProvider:Sf,DocumentHighlightKind:pt.MY,CompletionItemKind:pt.cm,CompletionItemTag:pt.we,CompletionItemInsertTextRule:pt.a7,SymbolKind:pt.cR,SymbolTag:pt.r4,IndentAction:pt.wU,CompletionTriggerKind:pt.Ij,SignatureHelpTriggerKind:pt.WW,InlayHintKind:pt.gl,InlineCompletionTriggerKind:pt.bw,CodeActionTriggerType:pt.np,FoldingRangeKind:Zt.AD,SelectedSuggestionInfo:Zt.ln}}();const nh=es.CancellationTokenSource,oh=es.Emitter,sh=es.KeyCode,rh=es.KeyMod,ah=es.Position,lh=es.Range,dh=es.Selection,ch=es.SelectionDirection,hh=es.MarkerSeverity,uh=es.MarkerTag,gh=es.Uri,fh=es.Token,mh=es.editor,ph=es.languages,nc=globalThis.MonacoEnvironment;(nc?.globalAPI||"function"==typeof define&&e.amdO)&&(globalThis.monaco=es),typeof globalThis.require<"u"&&"function"==typeof globalThis.require.config&&globalThis.require.config({ignoreDuplicateModules:["vscode-languageserver-types","vscode-languageserver-types/main","vscode-languageserver-textdocument","vscode-languageserver-textdocument/main","vscode-nls","vscode-nls/vscode-nls","jsonc-parser","jsonc-parser/main","vscode-uri","vscode-uri/index","vs/basic-languages/typescript/typescript"]}),e(19550),e(52782),e(53669),e(95548),e(9117),e(37899),e(68144),e(40312),e(3505),e(87802),e(61431),e(57982),e(56217),e(37751),e(50489),e(8001),e(35372),e(29728),e(39846),e(58004),e(9768),e(48329),e(66077),e(40812),e(27816),e(11503),e(65328),e(67310),e(27042),e(25443),e(73042),e(6835),e(75750),e(22550),e(60887),e(84969),e(27315),e(76398),e(69695),e(66049),e(32794),e(36212),e(57910),e(52938),e(11735),e(81930),e(79417),e(12801),e(7446),e(77020),e(23180),e(44247),e(23594),e(68822),e(51212),e(96042),e(41407),e(28788),e(65156),e(86792),e(14474),e(76695),e(27446),e(24478),e(36230),e(48389),e(96936),e(12457),e(75751),e(98491),e(43708),e(86739),e(73321),e(64699),e(43342),e(33035),e(33685),e(46682),e(10174),e(70786),e(98184),e(68997),e(56671),e(26263),self.MonacoEnvironment=function(de){return{globalAPI:!1,getWorkerUrl:function(s,C){var H=e.p,X=(H?function n(s){return s.replace(/\/$/,"")}(H)+"/":"")+de[C];if(/^((http:)|(https:)|(file:)|(\/\/))/.test(X)){var me=String(window.location),Oe=me.substr(0,me.length-window.location.hash.length-window.location.search.length-window.location.pathname.length);if(X.substring(0,Oe.length)!==Oe){/^(\/\/)/.test(X)&&(X=window.location.protocol+X);var Qe=new Blob(["/*"+C+'*/importScripts("'+X+'");'],{type:"application/javascript"});return URL.createObjectURL(Qe)}}return X}}}({editorWorkerService:"editor.worker.js",css:"css.worker.js",html:"html.worker.js",json:"json.worker.js",typescript:"ts.worker.js",javascript:"ts.worker.js",less:"css.worker.js",scss:"css.worker.js",handlebars:"html.worker.js",razor:"html.worker.js"});const Ef=f},98953:(Xe,we,e)=>{e.r(we),e.d(we,{CancellationTokenSource:()=>Q.CancellationTokenSource,Emitter:()=>Q.Emitter,KeyCode:()=>Q.KeyCode,KeyMod:()=>Q.KeyMod,MarkerSeverity:()=>Q.MarkerSeverity,MarkerTag:()=>Q.MarkerTag,Position:()=>Q.Position,Range:()=>Q.Range,Selection:()=>Q.Selection,SelectionDirection:()=>Q.SelectionDirection,Token:()=>Q.Token,Uri:()=>Q.Uri,default:()=>zt,editor:()=>Q.editor,languages:()=>Q.languages});var f={};e.r(f),e.d(f,{CancellationTokenSource:()=>Q.CancellationTokenSource,Emitter:()=>Q.Emitter,KeyCode:()=>Q.KeyCode,KeyMod:()=>Q.KeyMod,MarkerSeverity:()=>Q.MarkerSeverity,MarkerTag:()=>Q.MarkerTag,Position:()=>Q.Position,Range:()=>Q.Range,Selection:()=>Q.Selection,SelectionDirection:()=>Q.SelectionDirection,Token:()=>Q.Token,Uri:()=>Q.Uri,editor:()=>Q.editor,languages:()=>Q.languages}),e(38811),e(17129),e(92987),e(40972),e(99931),e(74658),e(81715),e(96999),e(96127),e(83402),e(67120),e(12816),e(14864),e(89609),e(48940),e(49469),e(32498),e(49375),e(60209),e(48943),e(84488),e(50984),e(65391),e(88516),e(96788),e(30015),e(35307),e(45916),e(51879),e(60676),e(5711),e(77132),e(81123),e(21841),e(67494),e(90178),e(31710),e(72905),e(95242),e(78892),e(57084),e(77215),e(87178),e(76348),e(63340),e(18228),e(3081),e(77351),e(7411),e(13933),e(87814),e(50286),e(15513),e(50539),e(63618),e(19257),e(44104),e(63697),e(31726),e(79834),e(41364);var _i,Q=e(8673);e(19550),e(52782),e(53669),e(95548),e(9117),e(37899),e(68144),e(40312),e(3505),e(87802),e(61431),e(57982),e(37751),e(50489),e(8001),e(35372),e(29728),e(39846),e(9768),e(58004),e(48329),e(66077),e(40812),e(27816),e(11503),e(67310),e(27042),e(25443),e(6835),e(75750),e(22550),e(60887),e(27315),e(84969),e(76398),e(69695),e(66049),e(32794),e(36212),e(57910),e(52938),e(11735),e(81930),e(79417),e(12801),e(7446),e(77020),e(23180),e(44247),e(23594),e(68822),e(51212),e(96042),e(41407),e(28788),e(65156),e(86792),e(14474),e(76695),e(27446),e(24478),e(36230),e(48389),e(96936),e(12457),e(75751),e(98491),e(43708),e(86739),e(73321),e(64699),e(43342),e(33035),e(33685),e(46682),e(10174),e(98184),e(68997),e(56671),e(26263),e(56217),e(65328),e(73042),e(70786),e(84109),e(75079),e(81149),e(44356),e(15810),self.MonacoEnvironment=(_i={editorWorkerService:"editor.worker.js",css:"css.worker.js",html:"html.worker.js",json:"json.worker.js",typescript:"ts.worker.js",javascript:"ts.worker.js",less:"css.worker.js",scss:"css.worker.js",handlebars:"html.worker.js",razor:"html.worker.js"},{globalAPI:!1,getWorkerUrl:function(qt,oi){var Ai=e.p,Wi=(Ai?function mi(qt){return qt.replace(/\/$/,"")}(Ai)+"/":"")+_i[oi];if(/^((http:)|(https:)|(file:)|(\/\/))/.test(Wi)){var $i=String(window.location),fi=$i.substr(0,$i.length-window.location.hash.length-window.location.search.length-window.location.pathname.length);if(Wi.substring(0,fi.length)!==fi){/^(\/\/)/.test(Wi)&&(Wi=window.location.protocol+Wi);var Ii=new Blob(["/*"+oi+'*/importScripts("'+Wi+'");'],{type:"application/javascript"});return URL.createObjectURL(Ii)}}return Wi}});const zt=f},47492:(Xe,we,e)=>{e.d(we,{$W:()=>I,Dt:()=>m,G6:()=>i,MG:()=>d,Pf:()=>u,Tz:()=>E,i7:()=>g,ie:()=>L,uB:()=>T,vU:()=>c});var f=e(58178),P=e(78694);class r{constructor(){this._zoomFactor=1}getZoomFactor(){return this._zoomFactor}}r.INSTANCE=new r;class y extends P.JT{constructor(){super(),this._onDidChange=this._register(new f.Q5),this.onDidChange=this._onDidChange.event,this._listener=()=>this._handleChange(!0),this._mediaQueryList=null,this._handleChange(!1)}_handleChange(D){var N;null===(N=this._mediaQueryList)||void 0===N||N.removeEventListener("change",this._listener),this._mediaQueryList=window.matchMedia(`(resolution: ${window.devicePixelRatio}dppx)`),this._mediaQueryList.addEventListener("change",this._listener),D&&this._onDidChange.fire()}}class v extends P.JT{get value(){return this._value}constructor(){super(),this._onDidChange=this._register(new f.Q5),this.onDidChange=this._onDidChange.event,this._value=this._getPixelRatio();const D=this._register(new y);this._register(D.onDidChange(()=>{this._value=this._getPixelRatio(),this._onDidChange.fire(this._value)}))}_getPixelRatio(){const D=document.createElement("canvas").getContext("2d");return(window.devicePixelRatio||1)/(D.webkitBackingStorePixelRatio||D.mozBackingStorePixelRatio||D.msBackingStorePixelRatio||D.oBackingStorePixelRatio||D.backingStorePixelRatio||1)}}function T(w,D){"string"==typeof w&&(w=window.matchMedia(w)),w.addEventListener("change",D)}const E=new class S{constructor(){this._pixelRatioMonitor=null}_getOrCreatePixelRatioMonitor(){return this._pixelRatioMonitor||(this._pixelRatioMonitor=(0,P.dk)(new v)),this._pixelRatioMonitor}get value(){return this._getOrCreatePixelRatioMonitor().value}get onDidChange(){return this._getOrCreatePixelRatioMonitor().onDidChange}};function L(){return r.INSTANCE.getZoomFactor()}const p=navigator.userAgent,c=p.indexOf("Firefox")>=0,u=p.indexOf("AppleWebKit")>=0,g=p.indexOf("Chrome")>=0,i=!g&&p.indexOf("Safari")>=0,d=!g&&!i&&u,m=(p.indexOf("Electron/"),p.indexOf("Android")>=0);let l=!1;if(window.matchMedia){const w=window.matchMedia("(display-mode: standalone) or (display-mode: window-controls-overlay)"),D=window.matchMedia("(display-mode: fullscreen)");l=w.matches,T(w,({matches:N})=>{l&&D.matches||(l=N)})}function I(){return l}},50042:(Xe,we,e)=>{e.d(we,{D:()=>r});var f=e(47492),P=e(88593);const r={clipboard:{writeText:P.tY||document.queryCommandSupported&&document.queryCommandSupported("copy")||!!(navigator&&navigator.clipboard&&navigator.clipboard.writeText),readText:P.tY||!!(navigator&&navigator.clipboard&&navigator.clipboard.readText)},keyboard:P.tY||f.$W()?0:navigator.keyboard||f.G6?1:2,touch:"ontouchstart"in window||navigator.maxTouchPoints>0,pointerEvents:window.PointerEvent&&("ontouchstart"in window||window.navigator.maxTouchPoints>0||navigator.maxTouchPoints>0)}},24872:(Xe,we,e)=>{e.d(we,{g:()=>P});const P={RESOURCES:"ResourceURLs",DOWNLOAD_URL:"DownloadURL",FILES:"Files",TEXT:e(90361).v.text,INTERNAL_URI_LIST:"application/vnd.code.uri-list"}},20274:(Xe,we,e)=>{e.d(we,{$:()=>le,$Z:()=>He,Ay:()=>ge,Ce:()=>xe,Cp:()=>Je,D6:()=>O,Dx:()=>R,FK:()=>j,Fx:()=>te,GQ:()=>l,I8:()=>G,If:()=>$,OO:()=>ae,PO:()=>c,R3:()=>Pe,Re:()=>ye,Ro:()=>z,Uh:()=>ot,Uw:()=>u,V3:()=>lt,XT:()=>Tt,_0:()=>ie,_F:()=>Mt,_h:()=>Lt,_q:()=>It,cl:()=>Y,dS:()=>ue,dp:()=>ee,eg:()=>it,fk:()=>Ve,go:()=>ke,h:()=>Ze,i:()=>B,iJ:()=>Fe,jL:()=>A,jg:()=>J,jt:()=>mt,lI:()=>N,mc:()=>fe,mu:()=>m,nm:()=>i,sQ:()=>Ut,tw:()=>oe,uN:()=>De,uU:()=>ne,vL:()=>F,vY:()=>_e,w:()=>se,wY:()=>ft,wn:()=>K,xQ:()=>U,zB:()=>x});var f=e(47492),P=e(50042),r=e(89271),y=e(20940),v=e(17967),S=e(58178),T=e(21411),E=e(78694),L=e(42685),p=e(88593);function c(Te){for(;Te.firstChild;)Te.firstChild.remove()}function u(Te){var Ae;return null!==(Ae=Te?.isConnected)&&void 0!==Ae&&Ae}class g{constructor(Ae,ht,yt,Dt){this._node=Ae,this._type=ht,this._handler=yt,this._options=Dt||!1,this._node.addEventListener(this._type,this._handler,this._options)}dispose(){this._handler&&(this._node.removeEventListener(this._type,this._handler,this._options),this._node=null,this._handler=null)}}function i(Te,Ae,ht,yt){return new g(Te,Ae,ht,yt)}function d(Te){return function(Ae){return Te(new y.n(Ae))}}const m=function(Ae,ht,yt,Dt){let Ot=yt;return"click"===ht||"mousedown"===ht?Ot=d(yt):("keydown"===ht||"keypress"===ht||"keyup"===ht)&&(Ot=function a(Te){return function(Ae){return Te(new r.y(Ae))}}(yt)),i(Ae,ht,Ot,Dt)},l=function(Ae,ht,yt){return function w(Te,Ae,ht){return i(Te,p.gn&&P.D.pointerEvents?oe.POINTER_DOWN:oe.MOUSE_DOWN,Ae,ht)}(Ae,d(ht),yt)};let N,A;class k{constructor(Ae,ht=0){this._runner=Ae,this.priority=ht,this._canceled=!1}dispose(){this._canceled=!0}execute(){if(!this._canceled)try{this._runner()}catch(Ae){(0,v.dL)(Ae)}}static sort(Ae,ht){return ht.priority-Ae.priority}}function R(Te){return document.defaultView.getComputedStyle(Te,null)}function O(Te){if(Te!==document.body)return new z(Te.clientWidth,Te.clientHeight);if(p.gn&&window.visualViewport)return new z(window.visualViewport.width,window.visualViewport.height);if(window.innerWidth&&window.innerHeight)return new z(window.innerWidth,window.innerHeight);if(document.body&&document.body.clientWidth&&document.body.clientHeight)return new z(document.body.clientWidth,document.body.clientHeight);if(document.documentElement&&document.documentElement.clientWidth&&document.documentElement.clientHeight)return new z(document.documentElement.clientWidth,document.documentElement.clientHeight);throw new Error("Unable to figure out browser width and height")}!function(){let Te=[],Ae=null,ht=!1,yt=!1;const Dt=()=>{for(ht=!1,Ae=Te,Te=[],yt=!0;Ae.length>0;)Ae.sort(k.sort),Ae.shift().execute();yt=!1};A=(Ot,gt=0)=>{const Rt=new k(Ot,gt);return Te.push(Rt),ht||(ht=!0,requestAnimationFrame(Dt)),Rt},N=(Ot,gt)=>{if(yt){const Rt=new k(Ot,gt);return Ae.push(Rt),Rt}return A(Ot,gt)}}();class W{static convertToPixels(Ae,ht){return parseFloat(ht)||0}static getDimension(Ae,ht,yt){const Dt=R(Ae),Ot=Dt?Dt.getPropertyValue(ht):"0";return W.convertToPixels(Ae,Ot)}static getBorderLeftWidth(Ae){return W.getDimension(Ae,"border-left-width","borderLeftWidth")}static getBorderRightWidth(Ae){return W.getDimension(Ae,"border-right-width","borderRightWidth")}static getBorderTopWidth(Ae){return W.getDimension(Ae,"border-top-width","borderTopWidth")}static getBorderBottomWidth(Ae){return W.getDimension(Ae,"border-bottom-width","borderBottomWidth")}static getPaddingLeft(Ae){return W.getDimension(Ae,"padding-left","paddingLeft")}static getPaddingRight(Ae){return W.getDimension(Ae,"padding-right","paddingRight")}static getPaddingTop(Ae){return W.getDimension(Ae,"padding-top","paddingTop")}static getPaddingBottom(Ae){return W.getDimension(Ae,"padding-bottom","paddingBottom")}static getMarginLeft(Ae){return W.getDimension(Ae,"margin-left","marginLeft")}static getMarginTop(Ae){return W.getDimension(Ae,"margin-top","marginTop")}static getMarginRight(Ae){return W.getDimension(Ae,"margin-right","marginRight")}static getMarginBottom(Ae){return W.getDimension(Ae,"margin-bottom","marginBottom")}}class z{constructor(Ae,ht){this.width=Ae,this.height=ht}with(Ae=this.width,ht=this.height){return Ae!==this.width||ht!==this.height?new z(Ae,ht):this}static is(Ae){return"object"==typeof Ae&&"number"==typeof Ae.height&&"number"==typeof Ae.width}static lift(Ae){return Ae instanceof z?Ae:new z(Ae.width,Ae.height)}static equals(Ae,ht){return Ae===ht||!(!Ae||!ht)&&Ae.width===ht.width&&Ae.height===ht.height}}function U(Te){let Ae=Te.offsetParent,ht=Te.offsetTop,yt=Te.offsetLeft;for(;null!==(Te=Te.parentNode)&&Te!==document.body&&Te!==document.documentElement;){ht-=Te.scrollTop;const Dt=_(Te)?null:R(Te);Dt&&(yt-="rtl"!==Dt.direction?Te.scrollLeft:-Te.scrollLeft),Te===Ae&&(yt+=W.getBorderLeftWidth(Te),ht+=W.getBorderTopWidth(Te),ht+=Te.offsetTop,yt+=Te.offsetLeft,Ae=Te.offsetParent)}return{left:yt,top:ht}}function ee(Te,Ae,ht){"number"==typeof Ae&&(Te.style.width=`${Ae}px`),"number"==typeof ht&&(Te.style.height=`${ht}px`)}function B(Te){const Ae=Te.getBoundingClientRect();return{left:Ae.left+window.scrollX,top:Ae.top+window.scrollY,width:Ae.width,height:Ae.height}}function G(Te){let Ae=Te,ht=1;do{const yt=R(Ae).zoom;null!=yt&&"1"!==yt&&(ht*=yt),Ae=Ae.parentElement}while(null!==Ae&&Ae!==document.documentElement);return ht}function se(Te){const Ae=W.getMarginLeft(Te)+W.getMarginRight(Te);return Te.offsetWidth+Ae}function j(Te){const Ae=W.getBorderLeftWidth(Te)+W.getBorderRightWidth(Te),ht=W.getPaddingLeft(Te)+W.getPaddingRight(Te);return Te.offsetWidth-Ae-ht}function $(Te){const Ae=W.getBorderTopWidth(Te)+W.getBorderBottomWidth(Te),ht=W.getPaddingTop(Te)+W.getPaddingBottom(Te);return Te.offsetHeight-Ae-ht}function K(Te){const Ae=W.getMarginTop(Te)+W.getMarginBottom(Te);return Te.offsetHeight+Ae}function J(Te,Ae){for(;Te;){if(Te===Ae)return!0;Te=Te.parentNode}return!1}function te(Te,Ae,ht){for(;Te&&Te.nodeType===Te.ELEMENT_NODE;){if(Te.classList.contains(Ae))return Te;if(ht)if("string"==typeof ht){if(Te.classList.contains(ht))return null}else if(Te===ht)return null;Te=Te.parentNode}return null}function ne(Te,Ae,ht){return!!te(Te,Ae,ht)}function _(Te){return Te&&!!Te.host&&!!Te.mode}function ae(Te){return!!ge(Te)}function ge(Te){for(;Te.parentNode;){if(Te===document.body)return null;Te=Te.parentNode}return _(Te)?Te:null}function _e(){let Te=document.activeElement;for(;Te?.shadowRoot;)Te=Te.shadowRoot.activeElement;return Te}function ue(Te=document.getElementsByTagName("head")[0],Ae){const ht=document.createElement("style");return ht.type="text/css",ht.media="screen",Ae?.(ht),Te.appendChild(ht),ht}z.None=new z(0,0);let ve=null;function Ie(){return ve||(ve=ue()),ve}function Ve(Te,Ae,ht=Ie()){!ht||!Ae||ht.sheet.insertRule(Te+"{"+Ae+"}",0)}function De(Te,Ae=Ie()){if(!Ae)return;const ht=function Se(Te){var Ae,ht;return null!==(Ae=Te?.sheet)&&void 0!==Ae&&Ae.rules?Te.sheet.rules:null!==(ht=Te?.sheet)&&void 0!==ht&&ht.cssRules?Te.sheet.cssRules:[]}(Ae),yt=[];for(let Dt=0;Dt<ht.length;Dt++)-1!==ht[Dt].selectorText.indexOf(Te)&&yt.push(Dt);for(let Dt=yt.length-1;Dt>=0;Dt--)Ae.sheet.deleteRule(yt[Dt])}function ye(Te){return"object"==typeof HTMLElement?Te instanceof HTMLElement:Te&&"object"==typeof Te&&1===Te.nodeType&&"string"==typeof Te.nodeName}const oe={CLICK:"click",AUXCLICK:"auxclick",DBLCLICK:"dblclick",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_OVER:"mouseover",MOUSE_MOVE:"mousemove",MOUSE_OUT:"mouseout",MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",MOUSE_WHEEL:"wheel",POINTER_UP:"pointerup",POINTER_DOWN:"pointerdown",POINTER_MOVE:"pointermove",POINTER_LEAVE:"pointerleave",CONTEXT_MENU:"contextmenu",WHEEL:"wheel",KEY_DOWN:"keydown",KEY_PRESS:"keypress",KEY_UP:"keyup",LOAD:"load",BEFORE_UNLOAD:"beforeunload",UNLOAD:"unload",PAGE_SHOW:"pageshow",PAGE_HIDE:"pagehide",ABORT:"abort",ERROR:"error",RESIZE:"resize",SCROLL:"scroll",FULLSCREEN_CHANGE:"fullscreenchange",WK_FULLSCREEN_CHANGE:"webkitfullscreenchange",SELECT:"select",CHANGE:"change",SUBMIT:"submit",RESET:"reset",FOCUS:"focus",FOCUS_IN:"focusin",FOCUS_OUT:"focusout",BLUR:"blur",INPUT:"input",STORAGE:"storage",DRAG_START:"dragstart",DRAG:"drag",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"drop",DRAG_END:"dragend",ANIMATION_START:f.Pf?"webkitAnimationStart":"animationstart",ANIMATION_END:f.Pf?"webkitAnimationEnd":"animationend",ANIMATION_ITERATION:f.Pf?"webkitAnimationIteration":"animationiteration"};function Y(Te){return!(!Te||"function"!=typeof Te.preventDefault||"function"!=typeof Te.stopPropagation)}const x={stop:(Te,Ae)=>(Te.preventDefault(),Ae&&Te.stopPropagation(),Te)};function F(Te){const Ae=[];for(let ht=0;Te&&Te.nodeType===Te.ELEMENT_NODE;ht++)Ae[ht]=Te.scrollTop,Te=Te.parentNode;return Ae}function ie(Te,Ae){for(let ht=0;Te&&Te.nodeType===Te.ELEMENT_NODE;ht++)Te.scrollTop!==Ae[ht]&&(Te.scrollTop=Ae[ht]),Te=Te.parentNode}class Ce extends E.JT{static hasFocusWithin(Ae){const ht=ge(Ae);return J(ht?ht.activeElement:document.activeElement,Ae)}constructor(Ae){super(),this._onDidFocus=this._register(new S.Q5),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new S.Q5),this.onDidBlur=this._onDidBlur.event;let ht=Ce.hasFocusWithin(Ae),yt=!1;const Dt=()=>{yt=!1,ht||(ht=!0,this._onDidFocus.fire())},Ot=()=>{ht&&(yt=!0,window.setTimeout(()=>{yt&&(yt=!1,ht=!1,this._onDidBlur.fire())},0))};this._refreshStateHandler=()=>{Ce.hasFocusWithin(Ae)!==ht&&(ht?Ot():Dt())},this._register(i(Ae,oe.FOCUS,Dt,!0)),this._register(i(Ae,oe.BLUR,Ot,!0)),this._register(i(Ae,oe.FOCUS_IN,()=>this._refreshStateHandler())),this._register(i(Ae,oe.FOCUS_OUT,()=>this._refreshStateHandler()))}}function ke(Te){return new Ce(Te)}function Pe(Te,...Ae){if(Te.append(...Ae),1===Ae.length&&"string"!=typeof Ae[0])return Ae[0]}function xe(Te,Ae){return Te.insertBefore(Ae,Te.firstChild),Ae}function fe(Te,...Ae){Te.innerText="",Pe(Te,...Ae)}const be=/([\w\-]+)?(#([\w\-]+))?((\.([\w\-]+))*)/;var pe=function(Te){return Te.HTML="http://www.w3.org/1999/xhtml",Te.SVG="http://www.w3.org/2000/svg",Te}(pe||{});function Q(Te,Ae,ht,...yt){const Dt=be.exec(Ae);if(!Dt)throw new Error("Bad use of emmet");const Ot=Dt[1]||"div";let gt;return gt=Te!==pe.HTML?document.createElementNS(Te,Ot):document.createElement(Ot),Dt[3]&&(gt.id=Dt[3]),Dt[4]&&(gt.className=Dt[4].replace(/\./g," ").trim()),ht&&Object.entries(ht).forEach(([Rt,Zt])=>{typeof Zt>"u"||(/^on\w+$/.test(Rt)?gt[Rt]=Zt:"selected"===Rt?Zt&&gt.setAttribute(Rt,"true"):gt.setAttribute(Rt,Zt))}),gt.append(...yt),gt}function le(Te,Ae,...ht){return Q(pe.HTML,Te,Ae,...ht)}function Fe(Te,...Ae){Te?He(...Ae):Je(...Ae)}function He(...Te){for(const Ae of Te)Ae.style.display="",Ae.removeAttribute("aria-hidden")}function Je(...Te){for(const Ae of Te)Ae.style.display="none",Ae.setAttribute("aria-hidden","true")}function ot(Te){const Ae=window.devicePixelRatio*Te;return Math.max(1,Math.floor(Ae))/window.devicePixelRatio}function lt(Te){window.open(Te,"_blank","noopener")}function mt(Te){const Ae=()=>{Te(),ht=A(Ae)};let ht=A(Ae);return(0,E.OF)(()=>ht.dispose())}function ft(Te){return Te?`url('${L.Gi.uriToBrowserUri(Te).toString(!0).replace(/'/g,"%27")}')`:"url('')"}function Lt(Te){return`'${Te.replace(/'/g,"%27")}'`}function Tt(Te,Ae){if(void 0!==Te){const ht=Te.match(/^\s*var\((.+)\)$/);if(ht){const yt=ht[1].split(",",2);return 2===yt.length&&(Ae=Tt(yt[1].trim(),Ae)),`var(${yt[0]}, ${Ae})`}return Te}return Ae}function Mt(Te,Ae=!1){const ht=document.createElement("a");return T.v5("afterSanitizeAttributes",yt=>{for(const Dt of["href","src"])if(yt.hasAttribute(Dt)){const Ot=yt.getAttribute(Dt);if("href"===Dt&&Ot.startsWith("#"))continue;if(ht.href=Ot,!Te.includes(ht.protocol.replace(/:$/,""))){if(Ae&&"src"===Dt&&ht.href.startsWith("data:"))continue;yt.removeAttribute(Dt)}}}),(0,E.OF)(()=>{T.ok("afterSanitizeAttributes")})}le.SVG=function(Te,Ae,...ht){return Q(pe.SVG,Te,Ae,...ht)},L.WX.setPreferredWebSchema(/^https:/.test(window.location.href)?"https":"http");const Ut=Object.freeze(["a","abbr","b","bdo","blockquote","br","caption","cite","code","col","colgroup","dd","del","details","dfn","div","dl","dt","em","figcaption","figure","h1","h2","h3","h4","h5","h6","hr","i","img","ins","kbd","label","li","mark","ol","p","pre","q","rp","rt","ruby","samp","small","small","source","span","strike","strong","sub","summary","sup","table","tbody","td","tfoot","th","thead","time","tr","tt","u","ul","var","video","wbr"]);Object.freeze({ALLOWED_TAGS:["a","button","blockquote","code","div","h1","h2","h3","h4","h5","h6","hr","input","label","li","p","pre","select","small","span","strong","textarea","ul","ol"],ALLOWED_ATTR:["href","data-href","data-command","target","title","name","src","alt","class","id","role","tabindex","style","data-code","width","height","align","x-dispatch","required","checked","placeholder","type","start"],RETURN_DOM:!1,RETURN_DOM_FRAGMENT:!1,RETURN_TRUSTED_TYPE:!0});class It extends S.Q5{constructor(){super(),this._subscriptions=new E.SL,this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1},this._subscriptions.add(i(window,"keydown",Ae=>{if(Ae.defaultPrevented)return;const ht=new r.y(Ae);if(6!==ht.keyCode||!Ae.repeat){if(Ae.altKey&&!this._keyStatus.altKey)this._keyStatus.lastKeyPressed="alt";else if(Ae.ctrlKey&&!this._keyStatus.ctrlKey)this._keyStatus.lastKeyPressed="ctrl";else if(Ae.metaKey&&!this._keyStatus.metaKey)this._keyStatus.lastKeyPressed="meta";else if(Ae.shiftKey&&!this._keyStatus.shiftKey)this._keyStatus.lastKeyPressed="shift";else{if(6===ht.keyCode)return;this._keyStatus.lastKeyPressed=void 0}this._keyStatus.altKey=Ae.altKey,this._keyStatus.ctrlKey=Ae.ctrlKey,this._keyStatus.metaKey=Ae.metaKey,this._keyStatus.shiftKey=Ae.shiftKey,this._keyStatus.lastKeyPressed&&(this._keyStatus.event=Ae,this.fire(this._keyStatus))}},!0)),this._subscriptions.add(i(window,"keyup",Ae=>{Ae.defaultPrevented||(this._keyStatus.lastKeyReleased=!Ae.altKey&&this._keyStatus.altKey?"alt":!Ae.ctrlKey&&this._keyStatus.ctrlKey?"ctrl":!Ae.metaKey&&this._keyStatus.metaKey?"meta":!Ae.shiftKey&&this._keyStatus.shiftKey?"shift":void 0,this._keyStatus.lastKeyPressed!==this._keyStatus.lastKeyReleased&&(this._keyStatus.lastKeyPressed=void 0),this._keyStatus.altKey=Ae.altKey,this._keyStatus.ctrlKey=Ae.ctrlKey,this._keyStatus.metaKey=Ae.metaKey,this._keyStatus.shiftKey=Ae.shiftKey,this._keyStatus.lastKeyReleased&&(this._keyStatus.event=Ae,this.fire(this._keyStatus)))},!0)),this._subscriptions.add(i(document.body,"mousedown",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),this._subscriptions.add(i(document.body,"mouseup",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),this._subscriptions.add(i(document.body,"mousemove",Ae=>{Ae.buttons&&(this._keyStatus.lastKeyPressed=void 0)},!0)),this._subscriptions.add(i(window,"blur",()=>{this.resetKeyStatus()}))}get keyStatus(){return this._keyStatus}resetKeyStatus(){this.doResetKeyStatus(),this.fire(this._keyStatus)}doResetKeyStatus(){this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1}}static getInstance(){return It.instance||(It.instance=new It),It.instance}dispose(){super.dispose(),this._subscriptions.dispose()}}class it extends E.JT{constructor(Ae,ht){super(),this.element=Ae,this.callbacks=ht,this.counter=0,this.dragStartTime=0,this.registerListeners()}registerListeners(){this._register(i(this.element,oe.DRAG_ENTER,Ae=>{this.counter++,this.dragStartTime=Ae.timeStamp,this.callbacks.onDragEnter(Ae)})),this._register(i(this.element,oe.DRAG_OVER,Ae=>{var ht,yt;Ae.preventDefault(),null===(yt=(ht=this.callbacks).onDragOver)||void 0===yt||yt.call(ht,Ae,Ae.timeStamp-this.dragStartTime)})),this._register(i(this.element,oe.DRAG_LEAVE,Ae=>{this.counter--,0===this.counter&&(this.dragStartTime=0,this.callbacks.onDragLeave(Ae))})),this._register(i(this.element,oe.DRAG_END,Ae=>{this.counter=0,this.dragStartTime=0,this.callbacks.onDragEnd(Ae)})),this._register(i(this.element,oe.DROP,Ae=>{this.counter=0,this.dragStartTime=0,this.callbacks.onDrop(Ae)}))}}const qe=/(?<tag>[\w\-]+)?(?:#(?<id>[\w\-]+))?(?<class>(?:\.(?:[\w\-]+))*)(?:@(?<name>(?:[\w\_])+))?/;function Ze(Te,...Ae){let ht,yt;Array.isArray(Ae[0])?(ht={},yt=Ae[0]):(ht=Ae[0]||{},yt=Ae[1]);const Dt=qe.exec(Te);if(!Dt||!Dt.groups)throw new Error("Bad use of h");const gt=document.createElement(Dt.groups.tag||"div");Dt.groups.id&&(gt.id=Dt.groups.id);const Rt=[];if(Dt.groups.class)for(const Ci of Dt.groups.class.split("."))""!==Ci&&Rt.push(Ci);if(void 0!==ht.className)for(const Ci of ht.className.split("."))""!==Ci&&Rt.push(Ci);Rt.length>0&&(gt.className=Rt.join(" "));const Zt={};if(Dt.groups.name&&(Zt[Dt.groups.name]=gt),yt)for(const Ci of yt)Ci instanceof HTMLElement?gt.appendChild(Ci):"string"==typeof Ci?gt.append(Ci):"root"in Ci&&(Object.assign(Zt,Ci),gt.appendChild(Ci.root));for(const[Ci,ci]of Object.entries(ht))if("className"!==Ci)if("style"===Ci)for(const[Mi,Gi]of Object.entries(ci))gt.style.setProperty(Ee(Mi),"number"==typeof Gi?Gi+"px":""+Gi);else"tabIndex"===Ci?gt.tabIndex=ci:gt.setAttribute(Ee(Ci),ci.toString());return Zt.root=gt,Zt}function Ee(Te){return Te.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}},21411:(Xe,we,e)=>{e.d(we,{Nw:()=>ie,ok:()=>fe,v5:()=>xe});const{entries:f,setPrototypeOf:P,isFrozen:r,getPrototypeOf:y,getOwnPropertyDescriptor:v}=Object;let{freeze:S,seal:T,create:E}=Object,{apply:L,construct:p}=typeof Reflect<"u"&&Reflect;L||(L=function(le,Fe,He){return le.apply(Fe,He)}),S||(S=function(le){return le}),T||(T=function(le){return le}),p||(p=function(le,Fe){return new le(...Fe)});const c=N(Array.prototype.forEach),u=N(Array.prototype.pop),g=N(Array.prototype.push),i=N(String.prototype.toLowerCase),d=N(String.prototype.toString),a=N(String.prototype.match),m=N(String.prototype.replace),l=N(String.prototype.indexOf),I=N(String.prototype.trim),w=N(RegExp.prototype.test),D=function A(Q){return function(){for(var le=arguments.length,Fe=new Array(le),He=0;He<le;He++)Fe[He]=arguments[He];return p(Q,Fe)}}(TypeError);function N(Q){return function(le){for(var Fe=arguments.length,He=new Array(Fe>1?Fe-1:0),Je=1;Je<Fe;Je++)He[Je-1]=arguments[Je];return L(Q,le,He)}}function k(Q,le,Fe){var He;Fe=null!==(He=Fe)&&void 0!==He?He:i,P&&P(Q,null);let Je=le.length;for(;Je--;){let ot=le[Je];if("string"==typeof ot){const lt=Fe(ot);lt!==ot&&(r(le)||(le[Je]=lt),ot=lt)}Q[ot]=!0}return Q}function R(Q){const le=E(null);for(const[Fe,He]of f(Q))le[Fe]=He;return le}function O(Q,le){for(;null!==Q;){const He=v(Q,le);if(He){if(He.get)return N(He.get);if("function"==typeof He.value)return N(He.value)}Q=y(Q)}return function Fe(He){return console.warn("fallback value for",He),null}}const W=S(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),z=S(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),U=S(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),ee=S(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),B=S(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),G=S(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),se=S(["#text"]),j=S(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),$=S(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),K=S(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),J=S(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),te=T(/\{\{[\w\W]*|[\w\W]*\}\}/gm),ne=T(/<%[\w\W]*|[\w\W]*%>/gm),_=T(/\${[\w\W]*}/gm),ae=T(/^data-[\-\w.\u00B7-\uFFFF]/),ge=T(/^aria-[\-\w]+$/),_e=T(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),ue=T(/^(?:\w+script|data):/i),ve=T(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Ie=T(/^html$/i);var Se=Object.freeze({__proto__:null,MUSTACHE_EXPR:te,ERB_EXPR:ne,TMPLIT_EXPR:_,DATA_ATTR:ae,ARIA_ATTR:ge,IS_ALLOWED_URI:_e,IS_SCRIPT_OR_DATA:ue,ATTR_WHITESPACE:ve,DOCTYPE_NAME:Ie}),oe=function ye(){let Q=arguments.length>0&&void 0!==arguments[0]?arguments[0]:typeof window>"u"?null:window;const le=fi=>ye(fi);if(le.version="3.0.5",le.removed=[],!Q||!Q.document||9!==Q.document.nodeType)return le.isSupported=!1,le;const Fe=Q.document,He=Fe.currentScript;let{document:Je}=Q;const{DocumentFragment:ot,HTMLTemplateElement:lt,Node:mt,Element:ft,NodeFilter:Lt,NamedNodeMap:Tt=Q.NamedNodeMap||Q.MozNamedAttrMap,HTMLFormElement:Mt,DOMParser:Ut,trustedTypes:At}=Q,It=ft.prototype,it=O(It,"cloneNode"),qe=O(It,"nextSibling"),Ze=O(It,"childNodes"),Ee=O(It,"parentNode");if("function"==typeof lt){const fi=Je.createElement("template");fi.content&&fi.content.ownerDocument&&(Je=fi.content.ownerDocument)}let Te,Ae="";const{implementation:ht,createNodeIterator:yt,createDocumentFragment:Dt,getElementsByTagName:Ot}=Je,{importNode:gt}=Fe;let Rt={};le.isSupported="function"==typeof f&&"function"==typeof Ee&&ht&&void 0!==ht.createHTMLDocument;const{MUSTACHE_EXPR:Zt,ERB_EXPR:Ci,TMPLIT_EXPR:ci,DATA_ATTR:Mi,ARIA_ATTR:Gi,IS_SCRIPT_OR_DATA:Zi,ATTR_WHITESPACE:St}=Se;let{IS_ALLOWED_URI:st}=Se,ut=null;const pt=k({},[...W,...z,...U,...B,...se]);let Ne=null;const je=k({},[...j,...$,...K,...J]);let et=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),wt=null,Bt=null,xt=!0,Qt=!0,ai=!1,gi=!0,di=!1,Ei=!1,Ki=!1,zi=!1,qi=!1,fn=!1,Nn=!1,xn=!0,Fn=!1,ui=!0,ni=!1,Nt={},Wt=null;const li=k({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Yt=null;const bi=k({},["audio","video","img","source","image","track"]);let Fi=null;const Yi=k({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Qi="http://www.w3.org/1998/Math/MathML",cn="http://www.w3.org/2000/svg",bn="http://www.w3.org/1999/xhtml";let Dn=bn,Pn=!1,vn=null;const Xn=k({},[Qi,cn,bn],d);let Wn;const eo=["application/xhtml+xml","text/html"];let Un,po=null;const Jt=Je.createElement("form"),qn=function($t){return $t instanceof RegExp||$t instanceof Function},gn=function($t){if(!po||po!==$t){if((!$t||"object"!=typeof $t)&&($t={}),$t=R($t),Wn=Wn=-1===eo.indexOf($t.PARSER_MEDIA_TYPE)?"text/html":$t.PARSER_MEDIA_TYPE,Un="application/xhtml+xml"===Wn?d:i,ut="ALLOWED_TAGS"in $t?k({},$t.ALLOWED_TAGS,Un):pt,Ne="ALLOWED_ATTR"in $t?k({},$t.ALLOWED_ATTR,Un):je,vn="ALLOWED_NAMESPACES"in $t?k({},$t.ALLOWED_NAMESPACES,d):Xn,Fi="ADD_URI_SAFE_ATTR"in $t?k(R(Yi),$t.ADD_URI_SAFE_ATTR,Un):Yi,Yt="ADD_DATA_URI_TAGS"in $t?k(R(bi),$t.ADD_DATA_URI_TAGS,Un):bi,Wt="FORBID_CONTENTS"in $t?k({},$t.FORBID_CONTENTS,Un):li,wt="FORBID_TAGS"in $t?k({},$t.FORBID_TAGS,Un):{},Bt="FORBID_ATTR"in $t?k({},$t.FORBID_ATTR,Un):{},Nt="USE_PROFILES"in $t&&$t.USE_PROFILES,xt=!1!==$t.ALLOW_ARIA_ATTR,Qt=!1!==$t.ALLOW_DATA_ATTR,ai=$t.ALLOW_UNKNOWN_PROTOCOLS||!1,gi=!1!==$t.ALLOW_SELF_CLOSE_IN_ATTR,di=$t.SAFE_FOR_TEMPLATES||!1,Ei=$t.WHOLE_DOCUMENT||!1,qi=$t.RETURN_DOM||!1,fn=$t.RETURN_DOM_FRAGMENT||!1,Nn=$t.RETURN_TRUSTED_TYPE||!1,zi=$t.FORCE_BODY||!1,xn=!1!==$t.SANITIZE_DOM,Fn=$t.SANITIZE_NAMED_PROPS||!1,ui=!1!==$t.KEEP_CONTENT,ni=$t.IN_PLACE||!1,st=$t.ALLOWED_URI_REGEXP||_e,Dn=$t.NAMESPACE||bn,et=$t.CUSTOM_ELEMENT_HANDLING||{},$t.CUSTOM_ELEMENT_HANDLING&&qn($t.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(et.tagNameCheck=$t.CUSTOM_ELEMENT_HANDLING.tagNameCheck),$t.CUSTOM_ELEMENT_HANDLING&&qn($t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(et.attributeNameCheck=$t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),$t.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof $t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(et.allowCustomizedBuiltInElements=$t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),di&&(Qt=!1),fn&&(qi=!0),Nt&&(ut=k({},[...se]),Ne=[],!0===Nt.html&&(k(ut,W),k(Ne,j)),!0===Nt.svg&&(k(ut,z),k(Ne,$),k(Ne,J)),!0===Nt.svgFilters&&(k(ut,U),k(Ne,$),k(Ne,J)),!0===Nt.mathMl&&(k(ut,B),k(Ne,K),k(Ne,J))),$t.ADD_TAGS&&(ut===pt&&(ut=R(ut)),k(ut,$t.ADD_TAGS,Un)),$t.ADD_ATTR&&(Ne===je&&(Ne=R(Ne)),k(Ne,$t.ADD_ATTR,Un)),$t.ADD_URI_SAFE_ATTR&&k(Fi,$t.ADD_URI_SAFE_ATTR,Un),$t.FORBID_CONTENTS&&(Wt===li&&(Wt=R(Wt)),k(Wt,$t.FORBID_CONTENTS,Un)),ui&&(ut["#text"]=!0),Ei&&k(ut,["html","head","body"]),ut.table&&(k(ut,["tbody"]),delete wt.tbody),$t.TRUSTED_TYPES_POLICY){if("function"!=typeof $t.TRUSTED_TYPES_POLICY.createHTML)throw D('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof $t.TRUSTED_TYPES_POLICY.createScriptURL)throw D('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');Te=$t.TRUSTED_TYPES_POLICY,Ae=Te.createHTML("")}else void 0===Te&&(Te=function(le,Fe){if("object"!=typeof le||"function"!=typeof le.createPolicy)return null;let He=null;const Je="data-tt-policy-suffix";Fe&&Fe.hasAttribute(Je)&&(He=Fe.getAttribute(Je));const ot="dompurify"+(He?"#"+He:"");try{return le.createPolicy(ot,{createHTML:lt=>lt,createScriptURL:lt=>lt})}catch{return console.warn("TrustedTypes policy "+ot+" could not be created."),null}}(At,He)),null!==Te&&"string"==typeof Ae&&(Ae=Te.createHTML(""));S&&S($t),po=$t}},Gn=k({},["mi","mo","mn","ms","mtext"]),Qn=k({},["foreignobject","desc","title","annotation-xml"]),ki=k({},["title","style","font","a","script"]),nt=k({},z);k(nt,U),k(nt,ee);const Me=k({},B);k(Me,G);const Be=function($t){g(le.removed,{element:$t});try{$t.parentNode.removeChild($t)}catch{$t.remove()}},Ke=function($t,Ii){try{g(le.removed,{attribute:Ii.getAttributeNode($t),from:Ii})}catch{g(le.removed,{attribute:null,from:Ii})}if(Ii.removeAttribute($t),"is"===$t&&!Ne[$t])if(qi||fn)try{Be(Ii)}catch{}else try{Ii.setAttribute($t,"")}catch{}},Ye=function($t){let Ii,si;if(zi)$t="<remove></remove>"+$t;else{const yn=a($t,/^[\r\n\t ]+/);si=yn&&yn[0]}"application/xhtml+xml"===Wn&&Dn===bn&&($t='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+$t+"</body></html>");const nn=Te?Te.createHTML($t):$t;if(Dn===bn)try{Ii=(new Ut).parseFromString(nn,Wn)}catch{}if(!Ii||!Ii.documentElement){Ii=ht.createDocument(Dn,"template",null);try{Ii.documentElement.innerHTML=Pn?Ae:nn}catch{}}const en=Ii.body||Ii.documentElement;return $t&&si&&en.insertBefore(Je.createTextNode(si),en.childNodes[0]||null),Dn===bn?Ot.call(Ii,Ei?"html":"body")[0]:Ei?Ii.documentElement:en},dt=function($t){return yt.call($t.ownerDocument||$t,$t,Lt.SHOW_ELEMENT|Lt.SHOW_COMMENT|Lt.SHOW_TEXT,null,!1)},_i=function($t){return"object"==typeof mt?$t instanceof mt:$t&&"object"==typeof $t&&"number"==typeof $t.nodeType&&"string"==typeof $t.nodeName},mi=function($t,Ii,si){Rt[$t]&&c(Rt[$t],nn=>{nn.call(le,Ii,si,po)})},qt=function($t){let Ii;if(mi("beforeSanitizeElements",$t,null),function($t){return $t instanceof Mt&&("string"!=typeof $t.nodeName||"string"!=typeof $t.textContent||"function"!=typeof $t.removeChild||!($t.attributes instanceof Tt)||"function"!=typeof $t.removeAttribute||"function"!=typeof $t.setAttribute||"string"!=typeof $t.namespaceURI||"function"!=typeof $t.insertBefore||"function"!=typeof $t.hasChildNodes)}($t))return Be($t),!0;const si=Un($t.nodeName);if(mi("uponSanitizeElement",$t,{tagName:si,allowedTags:ut}),$t.hasChildNodes()&&!_i($t.firstElementChild)&&(!_i($t.content)||!_i($t.content.firstElementChild))&&w(/<[/\w]/g,$t.innerHTML)&&w(/<[/\w]/g,$t.textContent))return Be($t),!0;if(!ut[si]||wt[si]){if(!wt[si]&&Ai(si)&&(et.tagNameCheck instanceof RegExp&&w(et.tagNameCheck,si)||et.tagNameCheck instanceof Function&&et.tagNameCheck(si)))return!1;if(ui&&!Wt[si]){const nn=Ee($t)||$t.parentNode,en=Ze($t)||$t.childNodes;if(en&&nn)for(let An=en.length-1;An>=0;--An)nn.insertBefore(it(en[An],!0),qe($t))}return Be($t),!0}return $t instanceof ft&&!function($t){let Ii=Ee($t);(!Ii||!Ii.tagName)&&(Ii={namespaceURI:Dn,tagName:"template"});const si=i($t.tagName),nn=i(Ii.tagName);return!!vn[$t.namespaceURI]&&($t.namespaceURI===cn?Ii.namespaceURI===bn?"svg"===si:Ii.namespaceURI===Qi?"svg"===si&&("annotation-xml"===nn||Gn[nn]):!!nt[si]:$t.namespaceURI===Qi?Ii.namespaceURI===bn?"math"===si:Ii.namespaceURI===cn?"math"===si&&Qn[nn]:!!Me[si]:$t.namespaceURI===bn?!(Ii.namespaceURI===cn&&!Qn[nn]||Ii.namespaceURI===Qi&&!Gn[nn])&&!Me[si]&&(ki[si]||!nt[si]):!("application/xhtml+xml"!==Wn||!vn[$t.namespaceURI]))}($t)||("noscript"===si||"noembed"===si||"noframes"===si)&&w(/<\/no(script|embed|frames)/i,$t.innerHTML)?(Be($t),!0):(di&&3===$t.nodeType&&(Ii=$t.textContent,Ii=m(Ii,Zt," "),Ii=m(Ii,Ci," "),Ii=m(Ii,ci," "),$t.textContent!==Ii&&(g(le.removed,{element:$t.cloneNode()}),$t.textContent=Ii)),mi("afterSanitizeElements",$t,null),!1)},oi=function($t,Ii,si){if(xn&&("id"===Ii||"name"===Ii)&&(si in Je||si in Jt))return!1;if((!Qt||Bt[Ii]||!w(Mi,Ii))&&(!xt||!w(Gi,Ii)))if(!Ne[Ii]||Bt[Ii]){if(!(Ai($t)&&(et.tagNameCheck instanceof RegExp&&w(et.tagNameCheck,$t)||et.tagNameCheck instanceof Function&&et.tagNameCheck($t))&&(et.attributeNameCheck instanceof RegExp&&w(et.attributeNameCheck,Ii)||et.attributeNameCheck instanceof Function&&et.attributeNameCheck(Ii))||"is"===Ii&&et.allowCustomizedBuiltInElements&&(et.tagNameCheck instanceof RegExp&&w(et.tagNameCheck,si)||et.tagNameCheck instanceof Function&&et.tagNameCheck(si))))return!1}else if(!Fi[Ii]&&!w(st,m(si,St,""))&&("src"!==Ii&&"xlink:href"!==Ii&&"href"!==Ii||"script"===$t||0!==l(si,"data:")||!Yt[$t])&&(!ai||w(Zi,m(si,St,"")))&&si)return!1;return!0},Ai=function($t){return $t.indexOf("-")>0},Wi=function($t){let Ii,si,nn,en;mi("beforeSanitizeAttributes",$t,null);const{attributes:yn}=$t;if(!yn)return;const An={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Ne};for(en=yn.length;en--;){Ii=yn[en];const{name:ro,namespaceURI:ao}=Ii;if(si="value"===ro?Ii.value:I(Ii.value),nn=Un(ro),An.attrName=nn,An.attrValue=si,An.keepAttr=!0,An.forceKeepAttr=void 0,mi("uponSanitizeAttribute",$t,An),si=An.attrValue,An.forceKeepAttr||(Ke(ro,$t),!An.keepAttr))continue;if(!gi&&w(/\/>/i,si)){Ke(ro,$t);continue}di&&(si=m(si,Zt," "),si=m(si,Ci," "),si=m(si,ci," "));const lo=Un($t.nodeName);if(oi(lo,nn,si)){if(Fn&&("id"===nn||"name"===nn)&&(Ke(ro,$t),si="user-content-"+si),Te&&"object"==typeof At&&"function"==typeof At.getAttributeType&&!ao)switch(At.getAttributeType(lo,nn)){case"TrustedHTML":si=Te.createHTML(si);break;case"TrustedScriptURL":si=Te.createScriptURL(si)}try{ao?$t.setAttributeNS(ao,ro,si):$t.setAttribute(ro,si),u(le.removed)}catch{}}}mi("afterSanitizeAttributes",$t,null)},$i=function fi($t){let Ii;const si=dt($t);for(mi("beforeSanitizeShadowDOM",$t,null);Ii=si.nextNode();)mi("uponSanitizeShadowNode",Ii,null),!qt(Ii)&&(Ii.content instanceof ot&&fi(Ii.content),Wi(Ii));mi("afterSanitizeShadowDOM",$t,null)};return le.sanitize=function(fi){let Ii,si,nn,en,$t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Pn=!fi,Pn&&(fi="\x3c!--\x3e"),"string"!=typeof fi&&!_i(fi)){if("function"!=typeof fi.toString)throw D("toString is not a function");if("string"!=typeof(fi=fi.toString()))throw D("dirty is not a string, aborting")}if(!le.isSupported)return fi;if(Ki||gn($t),le.removed=[],"string"==typeof fi&&(ni=!1),ni){if(fi.nodeName){const ro=Un(fi.nodeName);if(!ut[ro]||wt[ro])throw D("root node is forbidden and cannot be sanitized in-place")}}else if(fi instanceof mt)Ii=Ye("\x3c!----\x3e"),si=Ii.ownerDocument.importNode(fi,!0),1===si.nodeType&&"BODY"===si.nodeName||"HTML"===si.nodeName?Ii=si:Ii.appendChild(si);else{if(!qi&&!di&&!Ei&&-1===fi.indexOf("<"))return Te&&Nn?Te.createHTML(fi):fi;if(Ii=Ye(fi),!Ii)return qi?null:Nn?Ae:""}Ii&&zi&&Be(Ii.firstChild);const yn=dt(ni?fi:Ii);for(;nn=yn.nextNode();)qt(nn)||(nn.content instanceof ot&&$i(nn.content),Wi(nn));if(ni)return fi;if(qi){if(fn)for(en=Dt.call(Ii.ownerDocument);Ii.firstChild;)en.appendChild(Ii.firstChild);else en=Ii;return(Ne.shadowroot||Ne.shadowrootmode)&&(en=gt.call(Fe,en,!0)),en}let An=Ei?Ii.outerHTML:Ii.innerHTML;return Ei&&ut["!doctype"]&&Ii.ownerDocument&&Ii.ownerDocument.doctype&&Ii.ownerDocument.doctype.name&&w(Ie,Ii.ownerDocument.doctype.name)&&(An="<!DOCTYPE "+Ii.ownerDocument.doctype.name+">\n"+An),di&&(An=m(An,Zt," "),An=m(An,Ci," "),An=m(An,ci," ")),Te&&Nn?Te.createHTML(An):An},le.setConfig=function(fi){gn(fi),Ki=!0},le.clearConfig=function(){po=null,Ki=!1},le.isValidAttribute=function(fi,$t,Ii){po||gn({});const si=Un(fi),nn=Un($t);return oi(si,nn,Ii)},le.addHook=function(fi,$t){"function"==typeof $t&&(Rt[fi]=Rt[fi]||[],g(Rt[fi],$t))},le.removeHook=function(fi){if(Rt[fi])return u(Rt[fi])},le.removeHooks=function(fi){Rt[fi]&&(Rt[fi]=[])},le.removeAllHooks=function(){Rt={}},le}();const ie=oe.sanitize,xe=oe.addHook,fe=oe.removeHook},49489:(Xe,we,e)=>{e.d(we,{Y:()=>P});var f=e(58178);class P{get event(){return this.emitter.event}constructor(y,v,S){const T=E=>this.emitter.fire(E);this.emitter=new f.Q5({onWillAddFirstListener:()=>y.addEventListener(v,T,S),onDidRemoveLastListener:()=>y.removeEventListener(v,T,S)})}dispose(){this.emitter.dispose()}}},25937:(Xe,we,e)=>{e.d(we,{X:()=>r,Z:()=>f});class f{constructor(v){this.domNode=v,this._maxWidth="",this._width="",this._height="",this._top="",this._left="",this._bottom="",this._right="",this._paddingLeft="",this._fontFamily="",this._fontWeight="",this._fontSize="",this._fontStyle="",this._fontFeatureSettings="",this._fontVariationSettings="",this._textDecoration="",this._lineHeight="",this._letterSpacing="",this._className="",this._display="",this._position="",this._visibility="",this._color="",this._backgroundColor="",this._layerHint=!1,this._contain="none",this._boxShadow=""}setMaxWidth(v){const S=P(v);this._maxWidth!==S&&(this._maxWidth=S,this.domNode.style.maxWidth=this._maxWidth)}setWidth(v){const S=P(v);this._width!==S&&(this._width=S,this.domNode.style.width=this._width)}setHeight(v){const S=P(v);this._height!==S&&(this._height=S,this.domNode.style.height=this._height)}setTop(v){const S=P(v);this._top!==S&&(this._top=S,this.domNode.style.top=this._top)}setLeft(v){const S=P(v);this._left!==S&&(this._left=S,this.domNode.style.left=this._left)}setBottom(v){const S=P(v);this._bottom!==S&&(this._bottom=S,this.domNode.style.bottom=this._bottom)}setRight(v){const S=P(v);this._right!==S&&(this._right=S,this.domNode.style.right=this._right)}setPaddingLeft(v){const S=P(v);this._paddingLeft!==S&&(this._paddingLeft=S,this.domNode.style.paddingLeft=this._paddingLeft)}setFontFamily(v){this._fontFamily!==v&&(this._fontFamily=v,this.domNode.style.fontFamily=this._fontFamily)}setFontWeight(v){this._fontWeight!==v&&(this._fontWeight=v,this.domNode.style.fontWeight=this._fontWeight)}setFontSize(v){const S=P(v);this._fontSize!==S&&(this._fontSize=S,this.domNode.style.fontSize=this._fontSize)}setFontStyle(v){this._fontStyle!==v&&(this._fontStyle=v,this.domNode.style.fontStyle=this._fontStyle)}setFontFeatureSettings(v){this._fontFeatureSettings!==v&&(this._fontFeatureSettings=v,this.domNode.style.fontFeatureSettings=this._fontFeatureSettings)}setFontVariationSettings(v){this._fontVariationSettings!==v&&(this._fontVariationSettings=v,this.domNode.style.fontVariationSettings=this._fontVariationSettings)}setTextDecoration(v){this._textDecoration!==v&&(this._textDecoration=v,this.domNode.style.textDecoration=this._textDecoration)}setLineHeight(v){const S=P(v);this._lineHeight!==S&&(this._lineHeight=S,this.domNode.style.lineHeight=this._lineHeight)}setLetterSpacing(v){const S=P(v);this._letterSpacing!==S&&(this._letterSpacing=S,this.domNode.style.letterSpacing=this._letterSpacing)}setClassName(v){this._className!==v&&(this._className=v,this.domNode.className=this._className)}toggleClassName(v,S){this.domNode.classList.toggle(v,S),this._className=this.domNode.className}setDisplay(v){this._display!==v&&(this._display=v,this.domNode.style.display=this._display)}setPosition(v){this._position!==v&&(this._position=v,this.domNode.style.position=this._position)}setVisibility(v){this._visibility!==v&&(this._visibility=v,this.domNode.style.visibility=this._visibility)}setColor(v){this._color!==v&&(this._color=v,this.domNode.style.color=this._color)}setBackgroundColor(v){this._backgroundColor!==v&&(this._backgroundColor=v,this.domNode.style.backgroundColor=this._backgroundColor)}setLayerHinting(v){this._layerHint!==v&&(this._layerHint=v,this.domNode.style.transform=this._layerHint?"translate3d(0px, 0px, 0px)":"")}setBoxShadow(v){this._boxShadow!==v&&(this._boxShadow=v,this.domNode.style.boxShadow=v)}setContain(v){this._contain!==v&&(this._contain=v,this.domNode.style.contain=this._contain)}setAttribute(v,S){this.domNode.setAttribute(v,S)}removeAttribute(v){this.domNode.removeAttribute(v)}appendChild(v){this.domNode.appendChild(v.domNode)}removeChild(v){this.domNode.removeChild(v.domNode)}}function P(y){return"number"==typeof y?`${y}px`:y}function r(y){return new f(y)}},20510:(Xe,we,e)=>{e.d(we,{BO:()=>r,IY:()=>P,az:()=>y});var f=e(20274);function P(p,c={}){const u=y(c);return u.textContent=p,u}function r(p,c={}){const u=y(c);return S(u,function T(p,c){const u={type:1,children:[]};let g=0,i=u;const d=[],a=new v(p);for(;!a.eos();){let m=a.next();const l="\\"===m&&0!==L(a.peek(),c);if(l&&(m=a.next()),!l&&E(m,c)&&m===a.peek()){a.advance(),2===i.type&&(i=d.pop());const I=L(m,c);if(i.type===I||5===i.type&&6===I)i=d.pop();else{const w={type:I,children:[]};5===I&&(w.index=g,g++),i.children.push(w),d.push(i),i=w}}else if("\n"===m)2===i.type&&(i=d.pop()),i.children.push({type:8});else if(2!==i.type){const I={type:2,content:m};i.children.push(I),d.push(i),i=I}else i.content+=m}return 2===i.type&&(i=d.pop()),u}(p,!!c.renderCodeSegments),c.actionHandler,c.renderCodeSegments),u}function y(p){const u=document.createElement(p.inline?"span":"div");return p.className&&(u.className=p.className),u}class v{constructor(c){this.source=c,this.index=0}eos(){return this.index>=this.source.length}next(){const c=this.peek();return this.advance(),c}peek(){return this.source[this.index]}advance(){this.index++}}function S(p,c,u,g){let i;if(2===c.type)i=document.createTextNode(c.content||"");else if(3===c.type)i=document.createElement("b");else if(4===c.type)i=document.createElement("i");else if(7===c.type&&g)i=document.createElement("code");else if(5===c.type&&u){const d=document.createElement("a");u.disposables.add(f.mu(d,"click",a=>{u.callback(String(c.index),a)})),i=d}else 8===c.type?i=document.createElement("br"):1===c.type&&(i=p);i&&p!==i&&p.appendChild(i),i&&Array.isArray(c.children)&&c.children.forEach(d=>{S(i,d,u,g)})}function E(p,c){return 0!==L(p,c)}function L(p,c){switch(p){case"*":return 3;case"_":return 4;case"[":return 5;case"]":return 6;case"`":return c?7:0;default:return 0}}},46738:(Xe,we,e)=>{e.d(we,{C:()=>r});var f=e(20274),P=e(78694);class r{constructor(){this._hooks=new P.SL,this._pointerMoveCallback=null,this._onStopCallback=null}dispose(){this.stopMonitoring(!1),this._hooks.dispose()}stopMonitoring(v,S){if(!this.isMonitoring())return;this._hooks.clear(),this._pointerMoveCallback=null;const T=this._onStopCallback;this._onStopCallback=null,v&&T&&T(S)}isMonitoring(){return!!this._pointerMoveCallback}startMonitoring(v,S,T,E,L){this.isMonitoring()&&this.stopMonitoring(!1),this._pointerMoveCallback=E,this._onStopCallback=L;let p=v;try{v.setPointerCapture(S),this._hooks.add((0,P.OF)(()=>{try{v.releasePointerCapture(S)}catch{}}))}catch{p=window}this._hooks.add(f.nm(p,f.tw.POINTER_MOVE,c=>{c.buttons===T?(c.preventDefault(),this._pointerMoveCallback(c)):this.stopMonitoring(!0)})),this._hooks.add(f.nm(p,f.tw.POINTER_UP,c=>this.stopMonitoring(!0)))}}},89271:(Xe,we,e)=>{e.d(we,{y:()=>p});var f=e(47492),P=e(48994),r=e(88565),y=e(88593);const S=y.dz?256:2048,L=y.dz?2048:256;class p{constructor(u){this._standardKeyboardEventBrand=!0;const g=u;this.browserEvent=g,this.target=g.target,this.ctrlKey=g.ctrlKey,this.shiftKey=g.shiftKey,this.altKey=g.altKey,this.metaKey=g.metaKey,this.altGraphKey=g.getModifierState("AltGraph"),this.keyCode=function v(c){if(c.charCode){const g=String.fromCharCode(c.charCode).toUpperCase();return P.kL.fromString(g)}const u=c.keyCode;if(3===u)return 7;if(f.vU)switch(u){case 59:return 85;case 60:if(y.IJ)return 97;break;case 61:return 86;case 107:return 109;case 109:return 111;case 173:return 88;case 224:if(y.dz)return 57}else if(f.Pf){if(y.dz&&93===u)return 57;if(!y.dz&&92===u)return 57}return P.H_[u]||0}(g),this.code=g.code,this.ctrlKey=this.ctrlKey||5===this.keyCode,this.altKey=this.altKey||6===this.keyCode,this.shiftKey=this.shiftKey||4===this.keyCode,this.metaKey=this.metaKey||57===this.keyCode,this._asKeybinding=this._computeKeybinding(),this._asKeyCodeChord=this._computeKeyCodeChord()}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()}toKeyCodeChord(){return this._asKeyCodeChord}equals(u){return this._asKeybinding===u}_computeKeybinding(){let u=0;5!==this.keyCode&&4!==this.keyCode&&6!==this.keyCode&&57!==this.keyCode&&(u=this.keyCode);let g=0;return this.ctrlKey&&(g|=S),this.altKey&&(g|=512),this.shiftKey&&(g|=1024),this.metaKey&&(g|=L),g|=u,g}_computeKeyCodeChord(){let u=0;return 5!==this.keyCode&&4!==this.keyCode&&6!==this.keyCode&&57!==this.keyCode&&(u=this.keyCode),new r.$M(this.ctrlKey,this.shiftKey,this.altKey,this.metaKey,u)}}},34637:(Xe,we,e)=>{e.d(we,{ap:()=>ne,et:()=>ve});var f=e(20274),P=e(21411),r=e(49489),y=e(20510),v=e(89271),S=e(20940),T=e(51674),E=e(17967),L=e(58178),p=e(10878),c=e(53385),u=e(24791),g=e(81183),i=e(78694);let d={};!function(){function pe(Q,le){le(d)}var Q,le;Q=this,le=function(Q){function le(vi,ui){for(var ni=0;ni<ui.length;ni++){var Nt=ui[ni];Nt.enumerable=Nt.enumerable||!1,Nt.configurable=!0,"value"in Nt&&(Nt.writable=!0),Object.defineProperty(vi,Nt.key,Nt)}}function Je(vi,ui){(null==ui||ui>vi.length)&&(ui=vi.length);for(var ni=0,Nt=new Array(ui);ni<ui;ni++)Nt[ni]=vi[ni];return Nt}function ot(vi,ui){var ni=typeof Symbol<"u"&&vi[Symbol.iterator]||vi["@@iterator"];if(ni)return(ni=ni.call(vi)).next.bind(ni);if(Array.isArray(vi)||(ni=function He(vi,ui){if(vi){if("string"==typeof vi)return Je(vi,ui);var ni=Object.prototype.toString.call(vi).slice(8,-1);if("Object"===ni&&vi.constructor&&(ni=vi.constructor.name),"Map"===ni||"Set"===ni)return Array.from(vi);if("Arguments"===ni||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ni))return Je(vi,ui)}}(vi))||ui&&vi&&"number"==typeof vi.length){ni&&(vi=ni);var Nt=0;return function(){return Nt>=vi.length?{done:!0}:{done:!1,value:vi[Nt++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function lt(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}Q.defaults={async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1};var ft=/[&<>"']/,Lt=/[&<>"']/g,Tt=/[<>"']|&(?!#?\w+;)/,Mt=/[<>"']|&(?!#?\w+;)/g,Ut={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},At=function(ui){return Ut[ui]};function It(vi,ui){if(ui){if(ft.test(vi))return vi.replace(Lt,At)}else if(Tt.test(vi))return vi.replace(Mt,At);return vi}var it=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function qe(vi){return vi.replace(it,function(ui,ni){return"colon"===(ni=ni.toLowerCase())?":":"#"===ni.charAt(0)?"x"===ni.charAt(1)?String.fromCharCode(parseInt(ni.substring(2),16)):String.fromCharCode(+ni.substring(1)):""})}var Ze=/(^|[^\[])\^/g;function Ee(vi,ui){vi="string"==typeof vi?vi:vi.source,ui=ui||"";var ni={replace:function(Wt,li){return li=(li=li.source||li).replace(Ze,"$1"),vi=vi.replace(Wt,li),ni},getRegex:function(){return new RegExp(vi,ui)}};return ni}var Te=/[^\w:]/g,Ae=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function ht(vi,ui,ni){if(vi){var Nt;try{Nt=decodeURIComponent(qe(ni)).replace(Te,"").toLowerCase()}catch{return null}if(0===Nt.indexOf("javascript:")||0===Nt.indexOf("vbscript:")||0===Nt.indexOf("data:"))return null}ui&&!Ae.test(ni)&&(ni=function Rt(vi,ui){yt[" "+vi]||(yt[" "+vi]=Dt.test(vi)?vi+"/":Mi(vi,"/",!0));var ni=-1===(vi=yt[" "+vi]).indexOf(":");return"//"===ui.substring(0,2)?ni?ui:vi.replace(Ot,"$1")+ui:"/"===ui.charAt(0)?ni?ui:vi.replace(gt,"$1")+ui:vi+ui}(ui,ni));try{ni=encodeURI(ni).replace(/%25/g,"%")}catch{return null}return ni}var yt={},Dt=/^[^:]+:\/*[^/]*$/,Ot=/^([^:]+:)[\s\S]*$/,gt=/^([^:]+:\/*[^/]*)[\s\S]*$/,Zt={exec:function(){}};function Ci(vi){for(var ni,Nt,ui=1;ui<arguments.length;ui++)for(Nt in ni=arguments[ui])Object.prototype.hasOwnProperty.call(ni,Nt)&&(vi[Nt]=ni[Nt]);return vi}function ci(vi,ui){var Nt=vi.replace(/\|/g,function(li,Yt,bi){for(var Fi=!1,Yi=Yt;--Yi>=0&&"\\"===bi[Yi];)Fi=!Fi;return Fi?"|":" |"}).split(/ \|/),Wt=0;if(Nt[0].trim()||Nt.shift(),Nt.length>0&&!Nt[Nt.length-1].trim()&&Nt.pop(),Nt.length>ui)Nt.splice(ui);else for(;Nt.length<ui;)Nt.push("");for(;Wt<Nt.length;Wt++)Nt[Wt]=Nt[Wt].trim().replace(/\\\|/g,"|");return Nt}function Mi(vi,ui,ni){var Nt=vi.length;if(0===Nt)return"";for(var Wt=0;Wt<Nt;){var li=vi.charAt(Nt-Wt-1);if(li!==ui||ni){if(li===ui||!ni)break;Wt++}else Wt++}return vi.slice(0,Nt-Wt)}function Zi(vi){vi&&vi.sanitize&&!vi.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function St(vi,ui){if(ui<1)return"";for(var ni="";ui>1;)1&ui&&(ni+=vi),ui>>=1,vi+=vi;return ni+vi}function st(vi,ui,ni,Nt){var Wt=ui.href,li=ui.title?It(ui.title):null,Yt=vi[1].replace(/\\([\[\]])/g,"$1");if("!"!==vi[0].charAt(0)){Nt.state.inLink=!0;var bi={type:"link",raw:ni,href:Wt,title:li,text:Yt,tokens:Nt.inlineTokens(Yt)};return Nt.state.inLink=!1,bi}return{type:"image",raw:ni,href:Wt,title:li,text:It(Yt)}}var pt=function(){function vi(ni){this.options=ni||Q.defaults}var ui=vi.prototype;return ui.space=function(Nt){var Wt=this.rules.block.newline.exec(Nt);if(Wt&&Wt[0].length>0)return{type:"space",raw:Wt[0]}},ui.code=function(Nt){var Wt=this.rules.block.code.exec(Nt);if(Wt){var li=Wt[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:Wt[0],codeBlockStyle:"indented",text:this.options.pedantic?li:Mi(li,"\n")}}},ui.fences=function(Nt){var Wt=this.rules.block.fences.exec(Nt);if(Wt){var li=Wt[0],Yt=function ut(vi,ui){var ni=vi.match(/^(\s+)(?:```)/);if(null===ni)return ui;var Nt=ni[1];return ui.split("\n").map(function(Wt){var li=Wt.match(/^\s+/);return null===li?Wt:li[0].length>=Nt.length?Wt.slice(Nt.length):Wt}).join("\n")}(li,Wt[3]||"");return{type:"code",raw:li,lang:Wt[2]?Wt[2].trim():Wt[2],text:Yt}}},ui.heading=function(Nt){var Wt=this.rules.block.heading.exec(Nt);if(Wt){var li=Wt[2].trim();if(/#$/.test(li)){var Yt=Mi(li,"#");(this.options.pedantic||!Yt||/ $/.test(Yt))&&(li=Yt.trim())}return{type:"heading",raw:Wt[0],depth:Wt[1].length,text:li,tokens:this.lexer.inline(li)}}},ui.hr=function(Nt){var Wt=this.rules.block.hr.exec(Nt);if(Wt)return{type:"hr",raw:Wt[0]}},ui.blockquote=function(Nt){var Wt=this.rules.block.blockquote.exec(Nt);if(Wt){var li=Wt[0].replace(/^ *>[ \t]?/gm,"");return{type:"blockquote",raw:Wt[0],tokens:this.lexer.blockTokens(li,[]),text:li}}},ui.list=function(Nt){var Wt=this.rules.block.list.exec(Nt);if(Wt){var li,Yt,bi,Fi,Yi,Qi,cn,bn,Dn,Pn,vn,Xn,Wn=Wt[1].trim(),eo=Wn.length>1,wn={type:"list",raw:"",ordered:eo,start:eo?+Wn.slice(0,-1):"",loose:!1,items:[]};Wn=eo?"\\d{1,9}\\"+Wn.slice(-1):"\\"+Wn,this.options.pedantic&&(Wn=eo?Wn:"[*+-]");for(var Un=new RegExp("^( {0,3}"+Wn+")((?:[\t ][^\\n]*)?(?:\\n|$))");Nt&&(Xn=!1,(Wt=Un.exec(Nt))&&!this.rules.block.hr.test(Nt));){if(Nt=Nt.substring((li=Wt[0]).length),bn=Wt[2].split("\n",1)[0],Dn=Nt.split("\n",1)[0],this.options.pedantic?(Fi=2,vn=bn.trimLeft()):(Fi=Wt[2].search(/[^ ]/),vn=bn.slice(Fi=Fi>4?1:Fi),Fi+=Wt[1].length),Qi=!1,!bn&&/^ *$/.test(Dn)&&(li+=Dn+"\n",Nt=Nt.substring(Dn.length+1),Xn=!0),!Xn)for(var po=new RegExp("^ {0,"+Math.min(3,Fi-1)+"}(?:[*+-]|\\d{1,9}[.)])((?: [^\\n]*)?(?:\\n|$))"),Jt=new RegExp("^ {0,"+Math.min(3,Fi-1)+"}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)"),qn=new RegExp("^ {0,"+Math.min(3,Fi-1)+"}(?:```|~~~)"),gn=new RegExp("^ {0,"+Math.min(3,Fi-1)+"}#");Nt&&(bn=Pn=Nt.split("\n",1)[0],this.options.pedantic&&(bn=bn.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(qn.test(bn)||gn.test(bn)||po.test(bn)||Jt.test(Nt)));){if(bn.search(/[^ ]/)>=Fi||!bn.trim())vn+="\n"+bn.slice(Fi);else{if(Qi)break;vn+="\n"+bn}!Qi&&!bn.trim()&&(Qi=!0),li+=Pn+"\n",Nt=Nt.substring(Pn.length+1)}wn.loose||(cn?wn.loose=!0:/\n *\n *$/.test(li)&&(cn=!0)),this.options.gfm&&(Yt=/^\[[ xX]\] /.exec(vn))&&(bi="[ ] "!==Yt[0],vn=vn.replace(/^\[[ xX]\] +/,"")),wn.items.push({type:"list_item",raw:li,task:!!Yt,checked:bi,loose:!1,text:vn}),wn.raw+=li}wn.items[wn.items.length-1].raw=li.trimRight(),wn.items[wn.items.length-1].text=vn.trimRight(),wn.raw=wn.raw.trimRight();var Gn=wn.items.length;for(Yi=0;Yi<Gn;Yi++){this.lexer.state.top=!1,wn.items[Yi].tokens=this.lexer.blockTokens(wn.items[Yi].text,[]);var Qn=wn.items[Yi].tokens.filter(function(nt){return"space"===nt.type}),ki=Qn.every(function(nt){for(var Ke,he=0,Be=ot(nt.raw.split(""));!(Ke=Be()).done;)if("\n"===Ke.value&&(he+=1),he>1)return!0;return!1});!wn.loose&&Qn.length&&ki&&(wn.loose=!0,wn.items[Yi].loose=!0)}return wn}},ui.html=function(Nt){var Wt=this.rules.block.html.exec(Nt);if(Wt){var li={type:"html",raw:Wt[0],pre:!this.options.sanitizer&&("pre"===Wt[1]||"script"===Wt[1]||"style"===Wt[1]),text:Wt[0]};if(this.options.sanitize){var Yt=this.options.sanitizer?this.options.sanitizer(Wt[0]):It(Wt[0]);li.type="paragraph",li.text=Yt,li.tokens=this.lexer.inline(Yt)}return li}},ui.def=function(Nt){var Wt=this.rules.block.def.exec(Nt);if(Wt)return Wt[3]&&(Wt[3]=Wt[3].substring(1,Wt[3].length-1)),{type:"def",tag:Wt[1].toLowerCase().replace(/\s+/g," "),raw:Wt[0],href:Wt[2],title:Wt[3]}},ui.table=function(Nt){var Wt=this.rules.block.table.exec(Nt);if(Wt){var li={type:"table",header:ci(Wt[1]).map(function(cn){return{text:cn}}),align:Wt[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:Wt[3]&&Wt[3].trim()?Wt[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(li.header.length===li.align.length){li.raw=Wt[0];var bi,Fi,Yi,Qi,Yt=li.align.length;for(bi=0;bi<Yt;bi++)li.align[bi]=/^ *-+: *$/.test(li.align[bi])?"right":/^ *:-+: *$/.test(li.align[bi])?"center":/^ *:-+ *$/.test(li.align[bi])?"left":null;for(Yt=li.rows.length,bi=0;bi<Yt;bi++)li.rows[bi]=ci(li.rows[bi],li.header.length).map(function(cn){return{text:cn}});for(Yt=li.header.length,Fi=0;Fi<Yt;Fi++)li.header[Fi].tokens=this.lexer.inline(li.header[Fi].text);for(Yt=li.rows.length,Fi=0;Fi<Yt;Fi++)for(Qi=li.rows[Fi],Yi=0;Yi<Qi.length;Yi++)Qi[Yi].tokens=this.lexer.inline(Qi[Yi].text);return li}}},ui.lheading=function(Nt){var Wt=this.rules.block.lheading.exec(Nt);if(Wt)return{type:"heading",raw:Wt[0],depth:"="===Wt[2].charAt(0)?1:2,text:Wt[1],tokens:this.lexer.inline(Wt[1])}},ui.paragraph=function(Nt){var Wt=this.rules.block.paragraph.exec(Nt);if(Wt){var li="\n"===Wt[1].charAt(Wt[1].length-1)?Wt[1].slice(0,-1):Wt[1];return{type:"paragraph",raw:Wt[0],text:li,tokens:this.lexer.inline(li)}}},ui.text=function(Nt){var Wt=this.rules.block.text.exec(Nt);if(Wt)return{type:"text",raw:Wt[0],text:Wt[0],tokens:this.lexer.inline(Wt[0])}},ui.escape=function(Nt){var Wt=this.rules.inline.escape.exec(Nt);if(Wt)return{type:"escape",raw:Wt[0],text:It(Wt[1])}},ui.tag=function(Nt){var Wt=this.rules.inline.tag.exec(Nt);if(Wt)return!this.lexer.state.inLink&&/^<a /i.test(Wt[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(Wt[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(Wt[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(Wt[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:Wt[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(Wt[0]):It(Wt[0]):Wt[0]}},ui.link=function(Nt){var Wt=this.rules.inline.link.exec(Nt);if(Wt){var li=Wt[2].trim();if(!this.options.pedantic&&/^</.test(li)){if(!/>$/.test(li))return;var Yt=Mi(li.slice(0,-1),"\\");if((li.length-Yt.length)%2==0)return}else{var bi=function Gi(vi,ui){if(-1===vi.indexOf(ui[1]))return-1;for(var ni=vi.length,Nt=0,Wt=0;Wt<ni;Wt++)if("\\"===vi[Wt])Wt++;else if(vi[Wt]===ui[0])Nt++;else if(vi[Wt]===ui[1]&&--Nt<0)return Wt;return-1}(Wt[2],"()");if(bi>-1){var Yi=(0===Wt[0].indexOf("!")?5:4)+Wt[1].length+bi;Wt[2]=Wt[2].substring(0,bi),Wt[0]=Wt[0].substring(0,Yi).trim(),Wt[3]=""}}var Qi=Wt[2],cn="";if(this.options.pedantic){var bn=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(Qi);bn&&(Qi=bn[1],cn=bn[3])}else cn=Wt[3]?Wt[3].slice(1,-1):"";return Qi=Qi.trim(),/^</.test(Qi)&&(Qi=this.options.pedantic&&!/>$/.test(li)?Qi.slice(1):Qi.slice(1,-1)),st(Wt,{href:Qi&&Qi.replace(this.rules.inline._escapes,"$1"),title:cn&&cn.replace(this.rules.inline._escapes,"$1")},Wt[0],this.lexer)}},ui.reflink=function(Nt,Wt){var li;if((li=this.rules.inline.reflink.exec(Nt))||(li=this.rules.inline.nolink.exec(Nt))){var Yt=(li[2]||li[1]).replace(/\s+/g," ");if(!(Yt=Wt[Yt.toLowerCase()])||!Yt.href){var bi=li[0].charAt(0);return{type:"text",raw:bi,text:bi}}return st(li,Yt,li[0],this.lexer)}},ui.emStrong=function(Nt,Wt,li){void 0===li&&(li="");var Yt=this.rules.inline.emStrong.lDelim.exec(Nt);if(Yt&&(!Yt[3]||!li.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDF70-\uDF81\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var bi=Yt[1]||Yt[2]||"";if(!bi||bi&&(""===li||this.rules.inline.punctuation.exec(li))){var Yi,Qi,Fi=Yt[0].length-1,cn=Fi,bn=0,Dn="*"===Yt[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(Dn.lastIndex=0,Wt=Wt.slice(-1*Nt.length+Fi);null!=(Yt=Dn.exec(Wt));)if(Yi=Yt[1]||Yt[2]||Yt[3]||Yt[4]||Yt[5]||Yt[6]){if(Qi=Yi.length,Yt[3]||Yt[4]){cn+=Qi;continue}if((Yt[5]||Yt[6])&&Fi%3&&!((Fi+Qi)%3)){bn+=Qi;continue}if(!((cn-=Qi)>0)){if(Qi=Math.min(Qi,Qi+cn+bn),Math.min(Fi,Qi)%2){var Pn=Nt.slice(1,Fi+Yt.index+Qi);return{type:"em",raw:Nt.slice(0,Fi+Yt.index+Qi+1),text:Pn,tokens:this.lexer.inlineTokens(Pn)}}var vn=Nt.slice(2,Fi+Yt.index+Qi-1);return{type:"strong",raw:Nt.slice(0,Fi+Yt.index+Qi+1),text:vn,tokens:this.lexer.inlineTokens(vn)}}}}}},ui.codespan=function(Nt){var Wt=this.rules.inline.code.exec(Nt);if(Wt){var li=Wt[2].replace(/\n/g," "),Yt=/[^ ]/.test(li),bi=/^ /.test(li)&&/ $/.test(li);return Yt&&bi&&(li=li.substring(1,li.length-1)),li=It(li,!0),{type:"codespan",raw:Wt[0],text:li}}},ui.br=function(Nt){var Wt=this.rules.inline.br.exec(Nt);if(Wt)return{type:"br",raw:Wt[0]}},ui.del=function(Nt){var Wt=this.rules.inline.del.exec(Nt);if(Wt)return{type:"del",raw:Wt[0],text:Wt[2],tokens:this.lexer.inlineTokens(Wt[2])}},ui.autolink=function(Nt,Wt){var Yt,bi,li=this.rules.inline.autolink.exec(Nt);if(li)return bi="@"===li[2]?"mailto:"+(Yt=It(this.options.mangle?Wt(li[1]):li[1])):Yt=It(li[1]),{type:"link",raw:li[0],text:Yt,href:bi,tokens:[{type:"text",raw:Yt,text:Yt}]}},ui.url=function(Nt,Wt){var li;if(li=this.rules.inline.url.exec(Nt)){var Yt,bi;if("@"===li[2])bi="mailto:"+(Yt=It(this.options.mangle?Wt(li[0]):li[0]));else{var Fi;do{Fi=li[0],li[0]=this.rules.inline._backpedal.exec(li[0])[0]}while(Fi!==li[0]);Yt=It(li[0]),bi="www."===li[1]?"http://"+Yt:Yt}return{type:"link",raw:li[0],text:Yt,href:bi,tokens:[{type:"text",raw:Yt,text:Yt}]}}},ui.inlineText=function(Nt,Wt){var Yt,li=this.rules.inline.text.exec(Nt);if(li)return Yt=this.lexer.state.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(li[0]):It(li[0]):li[0]:It(this.options.smartypants?Wt(li[0]):li[0]),{type:"text",raw:li[0],text:Yt}},vi}(),Ne={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:Zt,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};Ne.def=Ee(Ne.def).replace("label",Ne._label).replace("title",Ne._title).getRegex(),Ne.bullet=/(?:[*+-]|\d{1,9}[.)])/,Ne.listItemStart=Ee(/^( *)(bull) */).replace("bull",Ne.bullet).getRegex(),Ne.list=Ee(Ne.list).replace(/bull/g,Ne.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+Ne.def.source+")").getRegex(),Ne._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Ne._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,Ne.html=Ee(Ne.html,"i").replace("comment",Ne._comment).replace("tag",Ne._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Ne.paragraph=Ee(Ne._paragraph).replace("hr",Ne.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ne._tag).getRegex(),Ne.blockquote=Ee(Ne.blockquote).replace("paragraph",Ne.paragraph).getRegex(),Ne.normal=Ci({},Ne),Ne.gfm=Ci({},Ne.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),Ne.gfm.table=Ee(Ne.gfm.table).replace("hr",Ne.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ne._tag).getRegex(),Ne.gfm.paragraph=Ee(Ne._paragraph).replace("hr",Ne.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",Ne.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ne._tag).getRegex(),Ne.pedantic=Ci({},Ne.normal,{html:Ee("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",Ne._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Zt,paragraph:Ee(Ne.normal._paragraph).replace("hr",Ne.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",Ne.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var je={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:Zt,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[^*]+(?=[^*])|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:Zt,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};function et(vi){return vi.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201c").replace(/"/g,"\u201d").replace(/\.{3}/g,"\u2026")}function wt(vi){var ni,Nt,ui="",Wt=vi.length;for(ni=0;ni<Wt;ni++)Nt=vi.charCodeAt(ni),Math.random()>.5&&(Nt="x"+Nt.toString(16)),ui+="&#"+Nt+";";return ui}je._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",je.punctuation=Ee(je.punctuation).replace(/punctuation/g,je._punctuation).getRegex(),je.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,je.escapedEmSt=/\\\*|\\_/g,je._comment=Ee(Ne._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),je.emStrong.lDelim=Ee(je.emStrong.lDelim).replace(/punct/g,je._punctuation).getRegex(),je.emStrong.rDelimAst=Ee(je.emStrong.rDelimAst,"g").replace(/punct/g,je._punctuation).getRegex(),je.emStrong.rDelimUnd=Ee(je.emStrong.rDelimUnd,"g").replace(/punct/g,je._punctuation).getRegex(),je._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,je._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,je._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,je.autolink=Ee(je.autolink).replace("scheme",je._scheme).replace("email",je._email).getRegex(),je._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,je.tag=Ee(je.tag).replace("comment",je._comment).replace("attribute",je._attribute).getRegex(),je._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,je._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,je._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,je.link=Ee(je.link).replace("label",je._label).replace("href",je._href).replace("title",je._title).getRegex(),je.reflink=Ee(je.reflink).replace("label",je._label).replace("ref",Ne._label).getRegex(),je.nolink=Ee(je.nolink).replace("ref",Ne._label).getRegex(),je.reflinkSearch=Ee(je.reflinkSearch,"g").replace("reflink",je.reflink).replace("nolink",je.nolink).getRegex(),je.normal=Ci({},je),je.pedantic=Ci({},je.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:Ee(/^!?\[(label)\]\((.*?)\)/).replace("label",je._label).getRegex(),reflink:Ee(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",je._label).getRegex()}),je.gfm=Ci({},je.normal,{escape:Ee(je.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),je.gfm.url=Ee(je.gfm.url,"i").replace("email",je.gfm._extended_email).getRegex(),je.breaks=Ci({},je.gfm,{br:Ee(je.br).replace("{2,}","*").getRegex(),text:Ee(je.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});var Bt=function(){function vi(ni){this.tokens=[],this.tokens.links=Object.create(null),this.options=ni||Q.defaults,this.options.tokenizer=this.options.tokenizer||new pt,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};var Nt={block:Ne.normal,inline:je.normal};this.options.pedantic?(Nt.block=Ne.pedantic,Nt.inline=je.pedantic):this.options.gfm&&(Nt.block=Ne.gfm,Nt.inline=this.options.breaks?je.breaks:je.gfm),this.tokenizer.rules=Nt}vi.lex=function(Nt,Wt){return new vi(Wt).lex(Nt)},vi.lexInline=function(Nt,Wt){return new vi(Wt).inlineTokens(Nt)};var ui=vi.prototype;return ui.lex=function(Nt){Nt=Nt.replace(/\r\n|\r/g,"\n"),this.blockTokens(Nt,this.tokens);for(var Wt;Wt=this.inlineQueue.shift();)this.inlineTokens(Wt.src,Wt.tokens);return this.tokens},ui.blockTokens=function(Nt,Wt){var Yt,bi,Fi,Yi,li=this;for(void 0===Wt&&(Wt=[]),Nt=this.options.pedantic?Nt.replace(/\t/g,"    ").replace(/^ +$/gm,""):Nt.replace(/^( *)(\t+)/gm,function(cn,bn,Dn){return bn+"    ".repeat(Dn.length)});Nt;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(function(cn){return!!(Yt=cn.call({lexer:li},Nt,Wt))&&(Nt=Nt.substring(Yt.raw.length),Wt.push(Yt),!0)}))){if(Yt=this.tokenizer.space(Nt)){Nt=Nt.substring(Yt.raw.length),1===Yt.raw.length&&Wt.length>0?Wt[Wt.length-1].raw+="\n":Wt.push(Yt);continue}if(Yt=this.tokenizer.code(Nt)){Nt=Nt.substring(Yt.raw.length),!(bi=Wt[Wt.length-1])||"paragraph"!==bi.type&&"text"!==bi.type?Wt.push(Yt):(bi.raw+="\n"+Yt.raw,bi.text+="\n"+Yt.text,this.inlineQueue[this.inlineQueue.length-1].src=bi.text);continue}if(Yt=this.tokenizer.fences(Nt)){Nt=Nt.substring(Yt.raw.length),Wt.push(Yt);continue}if(Yt=this.tokenizer.heading(Nt)){Nt=Nt.substring(Yt.raw.length),Wt.push(Yt);continue}if(Yt=this.tokenizer.hr(Nt)){Nt=Nt.substring(Yt.raw.length),Wt.push(Yt);continue}if(Yt=this.tokenizer.blockquote(Nt)){Nt=Nt.substring(Yt.raw.length),Wt.push(Yt);continue}if(Yt=this.tokenizer.list(Nt)){Nt=Nt.substring(Yt.raw.length),Wt.push(Yt);continue}if(Yt=this.tokenizer.html(Nt)){Nt=Nt.substring(Yt.raw.length),Wt.push(Yt);continue}if(Yt=this.tokenizer.def(Nt)){Nt=Nt.substring(Yt.raw.length),!(bi=Wt[Wt.length-1])||"paragraph"!==bi.type&&"text"!==bi.type?this.tokens.links[Yt.tag]||(this.tokens.links[Yt.tag]={href:Yt.href,title:Yt.title}):(bi.raw+="\n"+Yt.raw,bi.text+="\n"+Yt.raw,this.inlineQueue[this.inlineQueue.length-1].src=bi.text);continue}if(Yt=this.tokenizer.table(Nt)){Nt=Nt.substring(Yt.raw.length),Wt.push(Yt);continue}if(Yt=this.tokenizer.lheading(Nt)){Nt=Nt.substring(Yt.raw.length),Wt.push(Yt);continue}if(Fi=Nt,this.options.extensions&&this.options.extensions.startBlock&&function(){var cn=1/0,bn=Nt.slice(1),Dn=void 0;li.options.extensions.startBlock.forEach(function(Pn){"number"==typeof(Dn=Pn.call({lexer:this},bn))&&Dn>=0&&(cn=Math.min(cn,Dn))}),cn<1/0&&cn>=0&&(Fi=Nt.substring(0,cn+1))}(),this.state.top&&(Yt=this.tokenizer.paragraph(Fi))){bi=Wt[Wt.length-1],Yi&&"paragraph"===bi.type?(bi.raw+="\n"+Yt.raw,bi.text+="\n"+Yt.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=bi.text):Wt.push(Yt),Yi=Fi.length!==Nt.length,Nt=Nt.substring(Yt.raw.length);continue}if(Yt=this.tokenizer.text(Nt)){Nt=Nt.substring(Yt.raw.length),(bi=Wt[Wt.length-1])&&"text"===bi.type?(bi.raw+="\n"+Yt.raw,bi.text+="\n"+Yt.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=bi.text):Wt.push(Yt);continue}if(Nt){var Qi="Infinite loop on byte: "+Nt.charCodeAt(0);if(this.options.silent){console.error(Qi);break}throw new Error(Qi)}}return this.state.top=!0,Wt},ui.inline=function(Nt,Wt){return void 0===Wt&&(Wt=[]),this.inlineQueue.push({src:Nt,tokens:Wt}),Wt},ui.inlineTokens=function(Nt,Wt){var li=this;void 0===Wt&&(Wt=[]);var Yt,bi,Fi,Qi,cn,bn,Yi=Nt;if(this.tokens.links){var Dn=Object.keys(this.tokens.links);if(Dn.length>0)for(;null!=(Qi=this.tokenizer.rules.inline.reflinkSearch.exec(Yi));)Dn.includes(Qi[0].slice(Qi[0].lastIndexOf("[")+1,-1))&&(Yi=Yi.slice(0,Qi.index)+"["+St("a",Qi[0].length-2)+"]"+Yi.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(Qi=this.tokenizer.rules.inline.blockSkip.exec(Yi));)Yi=Yi.slice(0,Qi.index)+"["+St("a",Qi[0].length-2)+"]"+Yi.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(Qi=this.tokenizer.rules.inline.escapedEmSt.exec(Yi));)Yi=Yi.slice(0,Qi.index)+"++"+Yi.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;Nt;)if(cn||(bn=""),cn=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(function(vn){return!!(Yt=vn.call({lexer:li},Nt,Wt))&&(Nt=Nt.substring(Yt.raw.length),Wt.push(Yt),!0)}))){if(Yt=this.tokenizer.escape(Nt)){Nt=Nt.substring(Yt.raw.length),Wt.push(Yt);continue}if(Yt=this.tokenizer.tag(Nt)){Nt=Nt.substring(Yt.raw.length),(bi=Wt[Wt.length-1])&&"text"===Yt.type&&"text"===bi.type?(bi.raw+=Yt.raw,bi.text+=Yt.text):Wt.push(Yt);continue}if(Yt=this.tokenizer.link(Nt)){Nt=Nt.substring(Yt.raw.length),Wt.push(Yt);continue}if(Yt=this.tokenizer.reflink(Nt,this.tokens.links)){Nt=Nt.substring(Yt.raw.length),(bi=Wt[Wt.length-1])&&"text"===Yt.type&&"text"===bi.type?(bi.raw+=Yt.raw,bi.text+=Yt.text):Wt.push(Yt);continue}if(Yt=this.tokenizer.emStrong(Nt,Yi,bn)){Nt=Nt.substring(Yt.raw.length),Wt.push(Yt);continue}if(Yt=this.tokenizer.codespan(Nt)){Nt=Nt.substring(Yt.raw.length),Wt.push(Yt);continue}if(Yt=this.tokenizer.br(Nt)){Nt=Nt.substring(Yt.raw.length),Wt.push(Yt);continue}if(Yt=this.tokenizer.del(Nt)){Nt=Nt.substring(Yt.raw.length),Wt.push(Yt);continue}if(Yt=this.tokenizer.autolink(Nt,wt)){Nt=Nt.substring(Yt.raw.length),Wt.push(Yt);continue}if(!this.state.inLink&&(Yt=this.tokenizer.url(Nt,wt))){Nt=Nt.substring(Yt.raw.length),Wt.push(Yt);continue}if(Fi=Nt,this.options.extensions&&this.options.extensions.startInline&&function(){var vn=1/0,Xn=Nt.slice(1),Wn=void 0;li.options.extensions.startInline.forEach(function(eo){"number"==typeof(Wn=eo.call({lexer:this},Xn))&&Wn>=0&&(vn=Math.min(vn,Wn))}),vn<1/0&&vn>=0&&(Fi=Nt.substring(0,vn+1))}(),Yt=this.tokenizer.inlineText(Fi,et)){Nt=Nt.substring(Yt.raw.length),"_"!==Yt.raw.slice(-1)&&(bn=Yt.raw.slice(-1)),cn=!0,(bi=Wt[Wt.length-1])&&"text"===bi.type?(bi.raw+=Yt.raw,bi.text+=Yt.text):Wt.push(Yt);continue}if(Nt){var Pn="Infinite loop on byte: "+Nt.charCodeAt(0);if(this.options.silent){console.error(Pn);break}throw new Error(Pn)}}return Wt},function Fe(vi,ui,ni){ui&&le(vi.prototype,ui),ni&&le(vi,ni),Object.defineProperty(vi,"prototype",{writable:!1})}(vi,null,[{key:"rules",get:function(){return{block:Ne,inline:je}}}]),vi}(),xt=function(){function vi(ni){this.options=ni||Q.defaults}var ui=vi.prototype;return ui.code=function(Nt,Wt,li){var Yt=(Wt||"").match(/\S*/)[0];if(this.options.highlight){var bi=this.options.highlight(Nt,Yt);null!=bi&&bi!==Nt&&(li=!0,Nt=bi)}return Nt=Nt.replace(/\n$/,"")+"\n",Yt?'<pre><code class="'+this.options.langPrefix+It(Yt,!0)+'">'+(li?Nt:It(Nt,!0))+"</code></pre>\n":"<pre><code>"+(li?Nt:It(Nt,!0))+"</code></pre>\n"},ui.blockquote=function(Nt){return"<blockquote>\n"+Nt+"</blockquote>\n"},ui.html=function(Nt){return Nt},ui.heading=function(Nt,Wt,li,Yt){return this.options.headerIds?"<h"+Wt+' id="'+(this.options.headerPrefix+Yt.slug(li))+'">'+Nt+"</h"+Wt+">\n":"<h"+Wt+">"+Nt+"</h"+Wt+">\n"},ui.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},ui.list=function(Nt,Wt,li){var Yt=Wt?"ol":"ul";return"<"+Yt+(Wt&&1!==li?' start="'+li+'"':"")+">\n"+Nt+"</"+Yt+">\n"},ui.listitem=function(Nt){return"<li>"+Nt+"</li>\n"},ui.checkbox=function(Nt){return"<input "+(Nt?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},ui.paragraph=function(Nt){return"<p>"+Nt+"</p>\n"},ui.table=function(Nt,Wt){return Wt&&(Wt="<tbody>"+Wt+"</tbody>"),"<table>\n<thead>\n"+Nt+"</thead>\n"+Wt+"</table>\n"},ui.tablerow=function(Nt){return"<tr>\n"+Nt+"</tr>\n"},ui.tablecell=function(Nt,Wt){var li=Wt.header?"th":"td";return(Wt.align?"<"+li+' align="'+Wt.align+'">':"<"+li+">")+Nt+"</"+li+">\n"},ui.strong=function(Nt){return"<strong>"+Nt+"</strong>"},ui.em=function(Nt){return"<em>"+Nt+"</em>"},ui.codespan=function(Nt){return"<code>"+Nt+"</code>"},ui.br=function(){return this.options.xhtml?"<br/>":"<br>"},ui.del=function(Nt){return"<del>"+Nt+"</del>"},ui.link=function(Nt,Wt,li){if(null===(Nt=ht(this.options.sanitize,this.options.baseUrl,Nt)))return li;var Yt='<a href="'+It(Nt)+'"';return Wt&&(Yt+=' title="'+Wt+'"'),Yt+">"+li+"</a>"},ui.image=function(Nt,Wt,li){if(null===(Nt=ht(this.options.sanitize,this.options.baseUrl,Nt)))return li;var Yt='<img src="'+Nt+'" alt="'+li+'"';return Wt&&(Yt+=' title="'+Wt+'"'),Yt+(this.options.xhtml?"/>":">")},ui.text=function(Nt){return Nt},vi}(),Qt=function(){function vi(){}var ui=vi.prototype;return ui.strong=function(Nt){return Nt},ui.em=function(Nt){return Nt},ui.codespan=function(Nt){return Nt},ui.del=function(Nt){return Nt},ui.html=function(Nt){return Nt},ui.text=function(Nt){return Nt},ui.link=function(Nt,Wt,li){return""+li},ui.image=function(Nt,Wt,li){return""+li},ui.br=function(){return""},vi}(),ai=function(){function vi(){this.seen={}}var ui=vi.prototype;return ui.serialize=function(Nt){return Nt.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},ui.getNextSafeSlug=function(Nt,Wt){var li=Nt,Yt=0;if(this.seen.hasOwnProperty(li)){Yt=this.seen[Nt];do{li=Nt+"-"+ ++Yt}while(this.seen.hasOwnProperty(li))}return Wt||(this.seen[Nt]=Yt,this.seen[li]=0),li},ui.slug=function(Nt,Wt){void 0===Wt&&(Wt={});var li=this.serialize(Nt);return this.getNextSafeSlug(li,Wt.dryrun)},vi}(),gi=function(){function vi(ni){this.options=ni||Q.defaults,this.options.renderer=this.options.renderer||new xt,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new Qt,this.slugger=new ai}vi.parse=function(Nt,Wt){return new vi(Wt).parse(Nt)},vi.parseInline=function(Nt,Wt){return new vi(Wt).parseInline(Nt)};var ui=vi.prototype;return ui.parse=function(Nt,Wt){void 0===Wt&&(Wt=!0);var Yt,bi,Fi,Yi,Qi,cn,bn,Dn,Pn,vn,Xn,Wn,eo,wn,Un,po,Jt,qn,gn,li="",Gn=Nt.length;for(Yt=0;Yt<Gn;Yt++)if(vn=Nt[Yt],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[vn.type]&&(!1!==(gn=this.options.extensions.renderers[vn.type].call({parser:this},vn))||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(vn.type)))li+=gn||"";else switch(vn.type){case"space":continue;case"hr":li+=this.renderer.hr();continue;case"heading":li+=this.renderer.heading(this.parseInline(vn.tokens),vn.depth,qe(this.parseInline(vn.tokens,this.textRenderer)),this.slugger);continue;case"code":li+=this.renderer.code(vn.text,vn.lang,vn.escaped);continue;case"table":for(Dn="",bn="",Yi=vn.header.length,bi=0;bi<Yi;bi++)bn+=this.renderer.tablecell(this.parseInline(vn.header[bi].tokens),{header:!0,align:vn.align[bi]});for(Dn+=this.renderer.tablerow(bn),Pn="",Yi=vn.rows.length,bi=0;bi<Yi;bi++){for(bn="",Qi=(cn=vn.rows[bi]).length,Fi=0;Fi<Qi;Fi++)bn+=this.renderer.tablecell(this.parseInline(cn[Fi].tokens),{header:!1,align:vn.align[Fi]});Pn+=this.renderer.tablerow(bn)}li+=this.renderer.table(Dn,Pn);continue;case"blockquote":Pn=this.parse(vn.tokens),li+=this.renderer.blockquote(Pn);continue;case"list":for(Xn=vn.ordered,Wn=vn.start,eo=vn.loose,Yi=vn.items.length,Pn="",bi=0;bi<Yi;bi++)po=(Un=vn.items[bi]).checked,Jt=Un.task,wn="",Un.task&&(qn=this.renderer.checkbox(po),eo?Un.tokens.length>0&&"paragraph"===Un.tokens[0].type?(Un.tokens[0].text=qn+" "+Un.tokens[0].text,Un.tokens[0].tokens&&Un.tokens[0].tokens.length>0&&"text"===Un.tokens[0].tokens[0].type&&(Un.tokens[0].tokens[0].text=qn+" "+Un.tokens[0].tokens[0].text)):Un.tokens.unshift({type:"text",text:qn}):wn+=qn),wn+=this.parse(Un.tokens,eo),Pn+=this.renderer.listitem(wn,Jt,po);li+=this.renderer.list(Pn,Xn,Wn);continue;case"html":li+=this.renderer.html(vn.text);continue;case"paragraph":li+=this.renderer.paragraph(this.parseInline(vn.tokens));continue;case"text":for(Pn=vn.tokens?this.parseInline(vn.tokens):vn.text;Yt+1<Gn&&"text"===Nt[Yt+1].type;)Pn+="\n"+((vn=Nt[++Yt]).tokens?this.parseInline(vn.tokens):vn.text);li+=Wt?this.renderer.paragraph(Pn):Pn;continue;default:var Qn='Token with "'+vn.type+'" type was not found.';if(this.options.silent)return void console.error(Qn);throw new Error(Qn)}return li},ui.parseInline=function(Nt,Wt){Wt=Wt||this.renderer;var Yt,bi,Fi,li="",Yi=Nt.length;for(Yt=0;Yt<Yi;Yt++)if(bi=Nt[Yt],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[bi.type]&&(!1!==(Fi=this.options.extensions.renderers[bi.type].call({parser:this},bi))||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(bi.type)))li+=Fi||"";else switch(bi.type){case"escape":case"text":li+=Wt.text(bi.text);break;case"html":li+=Wt.html(bi.text);break;case"link":li+=Wt.link(bi.href,bi.title,this.parseInline(bi.tokens,Wt));break;case"image":li+=Wt.image(bi.href,bi.title,bi.text);break;case"strong":li+=Wt.strong(this.parseInline(bi.tokens,Wt));break;case"em":li+=Wt.em(this.parseInline(bi.tokens,Wt));break;case"codespan":li+=Wt.codespan(bi.text);break;case"br":li+=Wt.br();break;case"del":li+=Wt.del(this.parseInline(bi.tokens,Wt));break;default:var Qi='Token with "'+bi.type+'" type was not found.';if(this.options.silent)return void console.error(Qi);throw new Error(Qi)}return li},vi}();function di(vi,ui,ni){if(typeof vi>"u"||null===vi)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof vi)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(vi)+", string expected");if("function"==typeof ui&&(ni=ui,ui=null),Zi(ui=Ci({},di.defaults,ui||{})),ni){var Wt,Nt=ui.highlight;try{Wt=Bt.lex(vi,ui)}catch(Yi){return ni(Yi)}var li=function(Qi){var cn;if(!Qi)try{ui.walkTokens&&di.walkTokens(Wt,ui.walkTokens),cn=gi.parse(Wt,ui)}catch(bn){Qi=bn}return ui.highlight=Nt,Qi?ni(Qi):ni(null,cn)};if(!Nt||Nt.length<3||(delete ui.highlight,!Wt.length))return li();var Yt=0;return di.walkTokens(Wt,function(Yi){"code"===Yi.type&&(Yt++,setTimeout(function(){Nt(Yi.text,Yi.lang,function(Qi,cn){if(Qi)return li(Qi);null!=cn&&cn!==Yi.text&&(Yi.text=cn,Yi.escaped=!0),0==--Yt&&li()})},0))}),void(0===Yt&&li())}function bi(Yi){if(Yi.message+="\nPlease report this to https://github.com/markedjs/marked.",ui.silent)return"<p>An error occurred:</p><pre>"+It(Yi.message+"",!0)+"</pre>";throw Yi}try{var Fi=Bt.lex(vi,ui);if(ui.walkTokens){if(ui.async)return Promise.all(di.walkTokens(Fi,ui.walkTokens)).then(function(){return gi.parse(Fi,ui)}).catch(bi);di.walkTokens(Fi,ui.walkTokens)}return gi.parse(Fi,ui)}catch(Yi){bi(Yi)}}di.options=di.setOptions=function(vi){return Ci(di.defaults,vi),function mt(vi){Q.defaults=vi}(di.defaults),di},di.getDefaults=lt,di.defaults=Q.defaults,di.use=function(){for(var vi=arguments.length,ui=new Array(vi),ni=0;ni<vi;ni++)ui[ni]=arguments[ni];var li,Nt=Ci.apply(void 0,[{}].concat(ui)),Wt=di.defaults.extensions||{renderers:{},childTokens:{}};ui.forEach(function(Yt){if(Yt.extensions&&(li=!0,Yt.extensions.forEach(function(Fi){if(!Fi.name)throw new Error("extension name required");if(Fi.renderer){var Yi=Wt.renderers?Wt.renderers[Fi.name]:null;Wt.renderers[Fi.name]=Yi?function(){for(var Qi=arguments.length,cn=new Array(Qi),bn=0;bn<Qi;bn++)cn[bn]=arguments[bn];var Dn=Fi.renderer.apply(this,cn);return!1===Dn&&(Dn=Yi.apply(this,cn)),Dn}:Fi.renderer}if(Fi.tokenizer){if(!Fi.level||"block"!==Fi.level&&"inline"!==Fi.level)throw new Error("extension level must be 'block' or 'inline'");Wt[Fi.level]?Wt[Fi.level].unshift(Fi.tokenizer):Wt[Fi.level]=[Fi.tokenizer],Fi.start&&("block"===Fi.level?Wt.startBlock?Wt.startBlock.push(Fi.start):Wt.startBlock=[Fi.start]:"inline"===Fi.level&&(Wt.startInline?Wt.startInline.push(Fi.start):Wt.startInline=[Fi.start]))}Fi.childTokens&&(Wt.childTokens[Fi.name]=Fi.childTokens)})),Yt.renderer&&function(){var Fi=di.defaults.renderer||new xt,Yi=function(bn){var Dn=Fi[bn];Fi[bn]=function(){for(var Pn=arguments.length,vn=new Array(Pn),Xn=0;Xn<Pn;Xn++)vn[Xn]=arguments[Xn];var Wn=Yt.renderer[bn].apply(Fi,vn);return!1===Wn&&(Wn=Dn.apply(Fi,vn)),Wn}};for(var Qi in Yt.renderer)Yi(Qi);Nt.renderer=Fi}(),Yt.tokenizer&&function(){var Fi=di.defaults.tokenizer||new pt,Yi=function(bn){var Dn=Fi[bn];Fi[bn]=function(){for(var Pn=arguments.length,vn=new Array(Pn),Xn=0;Xn<Pn;Xn++)vn[Xn]=arguments[Xn];var Wn=Yt.tokenizer[bn].apply(Fi,vn);return!1===Wn&&(Wn=Dn.apply(Fi,vn)),Wn}};for(var Qi in Yt.tokenizer)Yi(Qi);Nt.tokenizer=Fi}(),Yt.walkTokens){var bi=di.defaults.walkTokens;Nt.walkTokens=function(Fi){var Yi=[];return Yi.push(Yt.walkTokens.call(this,Fi)),bi&&(Yi=Yi.concat(bi.call(this,Fi))),Yi}}li&&(Nt.extensions=Wt),di.setOptions(Nt)})},di.walkTokens=function(vi,ui){for(var li,ni=[],Nt=function(){var bi=li.value;switch(ni=ni.concat(ui.call(di,bi)),bi.type){case"table":for(var Yi,Fi=ot(bi.header);!(Yi=Fi()).done;)ni=ni.concat(di.walkTokens(Yi.value.tokens,ui));for(var bn,cn=ot(bi.rows);!(bn=cn()).done;)for(var vn,Pn=ot(bn.value);!(vn=Pn()).done;)ni=ni.concat(di.walkTokens(vn.value.tokens,ui));break;case"list":ni=ni.concat(di.walkTokens(bi.items,ui));break;default:di.defaults.extensions&&di.defaults.extensions.childTokens&&di.defaults.extensions.childTokens[bi.type]?di.defaults.extensions.childTokens[bi.type].forEach(function(Wn){ni=ni.concat(di.walkTokens(bi[Wn],ui))}):bi.tokens&&(ni=ni.concat(di.walkTokens(bi.tokens,ui)))}},Wt=ot(vi);!(li=Wt()).done;)Nt();return ni},di.parseInline=function(vi,ui){if(typeof vi>"u"||null===vi)throw new Error("marked.parseInline(): input parameter is undefined or null");if("string"!=typeof vi)throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(vi)+", string expected");Zi(ui=Ci({},di.defaults,ui||{}));try{var ni=Bt.lexInline(vi,ui);return ui.walkTokens&&di.walkTokens(ni,ui.walkTokens),gi.parseInline(ni,ui)}catch(Nt){if(Nt.message+="\nPlease report this to https://github.com/markedjs/marked.",ui.silent)return"<p>An error occurred:</p><pre>"+It(Nt.message+"",!0)+"</pre>";throw Nt}},di.Parser=gi,di.parser=gi.parse,di.Renderer=xt,di.TextRenderer=Qt,di.Lexer=Bt,di.lexer=Bt.lex,di.Tokenizer=pt,di.Slugger=ai,di.parse=di;var Ei=di.options,Ki=di.setOptions,zi=di.use,qi=di.walkTokens,fn=di.parseInline,Nn=di,xn=gi.parse,Fn=Bt.lex;Q.Lexer=Bt,Q.Parser=gi,Q.Renderer=xt,Q.Slugger=ai,Q.TextRenderer=Qt,Q.Tokenizer=pt,Q.getDefaults=lt,Q.lexer=Fn,Q.marked=di,Q.options=Ei,Q.parse=Nn,Q.parseInline=fn,Q.parser=xn,Q.setOptions=Ki,Q.use=zi,Q.walkTokens=qi,Object.defineProperty(Q,"__esModule",{value:!0})},(pe.amd=!0)?pe(0,le):"object"==typeof exports?le(exports):le((Q=typeof globalThis<"u"?globalThis:Q||self).marked={})}(),d.Lexer||exports,d.Parser||exports,d.Renderer||exports,d.Slugger||exports,d.TextRenderer||exports,d.Tokenizer||exports,d.getDefaults||exports,d.lexer||exports;var k=d.marked||exports.marked,G=(d.options||exports,d.parse||exports,d.parseInline||exports,d.parser||exports,d.setOptions||exports,d.use||exports,d.walkTokens||exports,e(57117)),se=e(42685),j=e(52209),$=e(9001),K=e(16055),J=e(15850);const te=Object.freeze({image:(pe,Q,le)=>{let Fe=[],He=[];return pe&&(({href:pe,dimensions:Fe}=(0,p.v1)(pe)),He.push(`src="${(0,p.d9)(pe)}"`)),le&&He.push(`alt="${(0,p.d9)(le)}"`),Q&&He.push(`title="${(0,p.d9)(Q)}"`),Fe.length&&(He=He.concat(Fe)),"<img "+He.join(" ")+">"},paragraph:pe=>`<p>${pe}</p>`,link:(pe,Q,le)=>"string"!=typeof pe?"":(pe===le&&(le=(0,p.oR)(le)),Q="string"==typeof Q?(0,p.d9)((0,p.oR)(Q)):"",`<a href="${pe=(pe=(0,p.oR)(pe)).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}" title="${Q||pe}">${le}</a>`)});function ne(pe,Q={},le={}){var Fe,He;const Je=new i.SL;let ot=!1;const lt=(0,y.az)(Q),mt=function(qe){let Ze;try{Ze=(0,G.Qc)(decodeURIComponent(qe))}catch{}return Ze?(Ze=(0,j.rs)(Ze,Ee=>{if(pe.uris&&pe.uris[Ee])return J.o.revive(pe.uris[Ee])}),encodeURIComponent(JSON.stringify(Ze))):qe},ft=function(qe,Ze){let Te=J.o.revive(pe.uris&&pe.uris[qe]);return Ze?qe.startsWith(se.lg.data+":")?qe:(Te||(Te=J.o.parse(qe)),se.Gi.uriToBrowserUri(Te).toString(!0)):Te&&J.o.parse(qe).toString()!==Te.toString()?(Te.query&&(Te=Te.with({query:mt(Te.query)})),Te.toString()):qe},Lt=new k.Renderer;Lt.image=te.image,Lt.link=te.link,Lt.paragraph=te.paragraph;const Tt=[],Mt=[];if(Q.codeBlockRendererSync?Lt.code=(qe,Ze)=>{const Ee=u.a.nextId(),Te=Q.codeBlockRendererSync(_(Ze),qe);return Mt.push([Ee,Te]),`<div class="code" data-code="${Ee}">${(0,K.YU)(qe)}</div>`}:Q.codeBlockRenderer&&(Lt.code=(qe,Ze)=>{const Ee=u.a.nextId(),Te=Q.codeBlockRenderer(_(Ze),qe);return Tt.push(Te.then(Ae=>[Ee,Ae])),`<div class="code" data-code="${Ee}">${(0,K.YU)(qe)}</div>`}),Q.actionHandler){const qe=function(Te){let Ae=Te.target;if("A"===Ae.tagName||(Ae=Ae.parentElement,Ae&&"A"===Ae.tagName))try{let ht=Ae.dataset.href;ht&&(pe.baseUri&&(ht=ae(J.o.from(pe.baseUri),ht)),Q.actionHandler.callback(ht,Te))}catch(ht){(0,E.dL)(ht)}finally{Te.preventDefault()}},Ze=Q.actionHandler.disposables.add(new r.Y(lt,"click")),Ee=Q.actionHandler.disposables.add(new r.Y(lt,"auxclick"));Q.actionHandler.disposables.add(L.ju.any(Ze.event,Ee.event)(Te=>{const Ae=new S.n(Te);!Ae.leftButton&&!Ae.middleButton||qe(Ae)})),Q.actionHandler.disposables.add(f.nm(lt,"keydown",Te=>{const Ae=new v.y(Te);!Ae.equals(10)&&!Ae.equals(3)||qe(Ae)}))}pe.supportHtml||(le.sanitizer=qe=>(pe.isTrusted?qe.match(/^(<span[^>]+>)|(<\/\s*span>)$/):void 0)?qe:"",le.sanitize=!0,le.silent=!0),le.renderer=Lt;let At,Ut=null!==(Fe=pe.value)&&void 0!==Fe?Fe:"";if(Ut.length>1e5&&(Ut=`${Ut.substr(0,1e5)}\u2026`),pe.supportThemeIcons&&(Ut=(0,c.f$)(Ut)),Q.fillInIncompleteTokens){const qe=Object.assign(Object.assign({},k.defaults),le),Ee=function oe(pe){let Q,le;for(Q=0;Q<pe.length;Q++){const Fe=pe[Q];if("paragraph"===Fe.type&&Fe.raw.match(/(\n|^)```/)){le=Y(pe.slice(Q));break}if("paragraph"===Fe.type&&Fe.raw.match(/(\n|^)\|/)){le=be(pe.slice(Q));break}if(Q===pe.length-1&&"paragraph"===Fe.type){const He=ye(Fe);if(He){le=[He];break}}}if(le){const Fe=[...pe.slice(0,Q),...le];return Fe.links=pe.links,Fe}return pe}(k.lexer(Ut,qe));At=k.parser(Ee,qe)}else At=k.parse(Ut,le);pe.supportThemeIcons&&(At=(0,T.T)(At).map(Ze=>"string"==typeof Ze?Ze:Ze.outerHTML).join(""));const it=(new DOMParser).parseFromString(ge(pe,At),"text/html");if(it.body.querySelectorAll("img").forEach(qe=>{const Ze=qe.getAttribute("src");if(Ze){let Ee=Ze;try{pe.baseUri&&(Ee=ae(J.o.from(pe.baseUri),Ee))}catch{}qe.src=ft(Ee,!0)}}),it.body.querySelectorAll("a").forEach(qe=>{const Ze=qe.getAttribute("href");if(qe.setAttribute("href",""),!Ze||/^data:|javascript:/i.test(Ze)||/^command:/i.test(Ze)&&!pe.isTrusted||/^command:(\/\/\/)?_workbench\.downloadResource/i.test(Ze))qe.replaceWith(...qe.childNodes);else{let Ee=ft(Ze,!1);pe.baseUri&&(Ee=ae(J.o.from(pe.baseUri),Ze)),qe.dataset.href=Ee}}),lt.innerHTML=ge(pe,it.body.innerHTML),Tt.length>0)Promise.all(Tt).then(qe=>{var Ze,Ee;if(ot)return;const Te=new Map(qe),Ae=lt.querySelectorAll("div[data-code]");for(const ht of Ae){const yt=Te.get(null!==(Ze=ht.dataset.code)&&void 0!==Ze?Ze:"");yt&&f.mc(ht,yt)}null===(Ee=Q.asyncRenderCallback)||void 0===Ee||Ee.call(Q)});else if(Mt.length>0){const qe=new Map(Mt),Ze=lt.querySelectorAll("div[data-code]");for(const Ee of Ze){const Te=qe.get(null!==(He=Ee.dataset.code)&&void 0!==He?He:"");Te&&f.mc(Ee,Te)}}if(Q.asyncRenderCallback)for(const qe of lt.getElementsByTagName("img")){const Ze=Je.add(f.nm(qe,"load",()=>{Ze.dispose(),Q.asyncRenderCallback()}))}return{element:lt,dispose:()=>{ot=!0,Je.dispose()}}}function _(pe){if(!pe)return"";const Q=pe.split(/[\s+|:|,|\{|\?]/,1);return Q.length?Q[0]:pe}function ae(pe,Q){return/^\w[\w\d+.-]*:/.test(Q)?Q:pe.path.endsWith("/")?(0,$.i3)(pe,Q).toString():(0,$.i3)((0,$.XX)(pe),Q).toString()}function ge(pe,Q){const{config:le,allowedSchemes:Fe}=function ue(pe){const Q=[se.lg.http,se.lg.https,se.lg.mailto,se.lg.data,se.lg.file,se.lg.vscodeFileResource,se.lg.vscodeRemote,se.lg.vscodeRemoteResource];return pe.isTrusted&&Q.push(se.lg.command),{config:{ALLOWED_TAGS:[...f.sQ],ALLOWED_ATTR:_e,ALLOW_UNKNOWN_PROTOCOLS:!0},allowedSchemes:Q}}(pe);P.v5("uponSanitizeAttribute",(Je,ot)=>{if("style"!==ot.attrName&&"class"!==ot.attrName);else{if("SPAN"===Je.tagName){if("style"===ot.attrName)return void(ot.keepAttr=/^(color\:(#[0-9a-fA-F]+|var\(--vscode(-[a-zA-Z]+)+\));)?(background-color\:(#[0-9a-fA-F]+|var\(--vscode(-[a-zA-Z]+)+\));)?$/.test(ot.attrValue));if("class"===ot.attrName)return void(ot.keepAttr=/^codicon codicon-[a-z\-]+( codicon-modifier-[a-z\-]+)?$/.test(ot.attrValue))}ot.keepAttr=!1}});const He=f._F(Fe);try{return P.Nw(Q,Object.assign(Object.assign({},le),{RETURN_TRUSTED_TYPE:!0}))}finally{P.ok("uponSanitizeAttribute"),He.dispose()}}const _e=["align","autoplay","alt","class","controls","data-code","data-href","height","href","loop","muted","playsinline","poster","src","style","target","title","width","start"];function ve(pe){return"string"==typeof pe?pe:function Ie(pe){var Q;let le=null!==(Q=pe.value)&&void 0!==Q?Q:"";return le.length>1e5&&(le=`${le.substr(0,1e5)}\u2026`),ge({isTrusted:!1},k.parse(le,{renderer:Ve.value}).replace(/&(#\d+|[a-zA-Z]+);/g,He=>{var Je;return null!==(Je=Se.get(He))&&void 0!==Je?Je:He})).toString()}(pe)}const Se=new Map([["&quot;",'"'],["&nbsp;"," "],["&amp;","&"],["&#39;","'"],["&lt;","<"],["&gt;",">"]]),Ve=new g.o(()=>{const pe=new k.Renderer;return pe.code=Q=>Q,pe.blockquote=Q=>Q,pe.html=Q=>"",pe.heading=(Q,le,Fe)=>Q+"\n",pe.hr=()=>"",pe.list=(Q,le)=>Q,pe.listitem=Q=>Q+"\n",pe.paragraph=Q=>Q+"\n",pe.table=(Q,le)=>Q+le+"\n",pe.tablerow=Q=>Q,pe.tablecell=(Q,le)=>Q+" ",pe.strong=Q=>Q,pe.em=Q=>Q,pe.codespan=Q=>Q,pe.br=()=>"\n",pe.del=Q=>Q,pe.image=(Q,le,Fe)=>"",pe.text=Q=>Q,pe.link=(Q,le,Fe)=>Fe,pe});function De(pe){let Q="";return pe.forEach(le=>{Q+=le.raw}),Q}function ye(pe){for(const Q of pe.tokens)if("text"===Q.type){const le=Q.raw.split("\n"),Fe=le[le.length-1];if(Fe.includes("`"))return x(pe);if(Fe.includes("**"))return Pe(pe);if(Fe.match(/\*\w/))return F(pe);if(Fe.match(/(^|\s)__\w/))return xe(pe);if(Fe.match(/(^|\s)_\w/))return ie(pe);if(Fe.match(/(^|\s)\[.*\]\(\w*/))return Ce(pe);if(Fe.match(/(^|\s)\[\w/))return ke(pe)}}function Y(pe){const Q=De(pe);return k.lexer(Q+"\n```")}function x(pe){return fe(pe,"`")}function F(pe){return fe(pe,"*")}function ie(pe){return fe(pe,"_")}function Ce(pe){return fe(pe,")")}function ke(pe){return fe(pe,"](about:blank)")}function Pe(pe){return fe(pe,"**")}function xe(pe){return fe(pe,"__")}function fe(pe,Q){const le=De(Array.isArray(pe)?pe:[pe]);return k.lexer(le+Q)[0]}function be(pe){const Q=De(pe),le=Q.split("\n");let Fe,He=!1;for(let Je=0;Je<le.length;Je++){const ot=le[Je].trim();if(typeof Fe>"u"&&ot.match(/^\s*\|/)){const lt=ot.match(/(\|[^\|]+)(?=\||$)/g);lt&&(Fe=lt.length)}else if("number"==typeof Fe){if(!ot.match(/^\s*\|/))return;if(Je!==le.length-1)return;He=!0}}if("number"==typeof Fe&&Fe>0){const Je=He?le.slice(0,-1).join("\n"):Q,ot=!!Je.match(/\|\s*$/),lt=Je+(ot?"":"|")+`\n|${" --- |".repeat(Fe)}`;return k.lexer(lt)}}},20940:(Xe,we,e)=>{e.d(we,{n:()=>T,q:()=>E});var f=e(47492);let P=!1,r=null;function y(L){if(!L.parent||L.parent===L)return null;try{const p=L.location,c=L.parent.location;if("null"!==p.origin&&"null"!==c.origin&&p.origin!==c.origin)return P=!0,null}catch{return P=!0,null}return L.parent}class v{static getSameOriginWindowChain(){if(!r){r=[];let c,p=window;do{c=y(p),r.push(c?{window:p,iframeElement:p.frameElement||null}:{window:p,iframeElement:null}),p=c}while(p)}return r.slice(0)}static getPositionOfChildWindowRelativeToAncestorWindow(p,c){if(!c||p===c)return{top:0,left:0};let u=0,g=0;const i=this.getSameOriginWindowChain();for(const d of i){if(u+=d.window.scrollY,g+=d.window.scrollX,d.window===c||!d.iframeElement)break;const a=d.iframeElement.getBoundingClientRect();u+=a.top,g+=a.left}return{top:u,left:g}}}var S=e(88593);class T{constructor(p){this.timestamp=Date.now(),this.browserEvent=p,this.leftButton=0===p.button,this.middleButton=1===p.button,this.rightButton=2===p.button,this.buttons=p.buttons,this.target=p.target,this.detail=p.detail||1,"dblclick"===p.type&&(this.detail=2),this.ctrlKey=p.ctrlKey,this.shiftKey=p.shiftKey,this.altKey=p.altKey,this.metaKey=p.metaKey,"number"==typeof p.pageX?(this.posx=p.pageX,this.posy=p.pageY):(this.posx=p.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,this.posy=p.clientY+document.body.scrollTop+document.documentElement.scrollTop);const c=v.getPositionOfChildWindowRelativeToAncestorWindow(window,p.view);this.posx-=c.left,this.posy-=c.top}preventDefault(){this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent.stopPropagation()}}class E{constructor(p,c=0,u=0){if(this.browserEvent=p||null,this.target=p?p.target||p.targetNode||p.srcElement:null,this.deltaY=u,this.deltaX=c,p){const g=p,i=p;typeof g.wheelDeltaY<"u"?this.deltaY=g.wheelDeltaY/120:typeof i.VERTICAL_AXIS<"u"&&i.axis===i.VERTICAL_AXIS?this.deltaY=-i.detail/3:"wheel"===p.type&&(this.deltaY=p.deltaMode===p.DOM_DELTA_LINE?f.vU&&!S.dz?-p.deltaY/3:-p.deltaY:-p.deltaY/40),typeof g.wheelDeltaX<"u"?this.deltaX=f.G6&&S.ED?-g.wheelDeltaX/120:g.wheelDeltaX/120:typeof i.HORIZONTAL_AXIS<"u"&&i.axis===i.HORIZONTAL_AXIS?this.deltaX=-p.detail/3:"wheel"===p.type&&(this.deltaX=p.deltaMode===p.DOM_DELTA_LINE?f.vU&&!S.dz?-p.deltaX/3:-p.deltaX:-p.deltaX/40),0===this.deltaY&&0===this.deltaX&&p.wheelDelta&&(this.deltaY=p.wheelDelta/120)}}preventDefault(){var p;null===(p=this.browserEvent)||void 0===p||p.preventDefault()}stopPropagation(){var p;null===(p=this.browserEvent)||void 0===p||p.stopPropagation()}}},81308:(Xe,we,e)=>{var f;e.d(we,{B:()=>f}),function(P){const r={total:0,min:Number.MAX_VALUE,max:0},y=Object.assign({},r),v=Object.assign({},r),S=Object.assign({},r);let T=0;const E={keydown:0,input:0,render:0};function p(){1===E.keydown&&(performance.mark("keydown/end"),E.keydown=2)}function c(){performance.mark("input/start"),E.input=1,l()}function g(){1===E.input&&(performance.mark("input/end"),E.input=2)}function m(){1===E.render&&(performance.mark("render/end"),E.render=2)}function l(){setTimeout(I)}function I(){2===E.keydown&&2===E.input&&2===E.render&&(performance.mark("inputlatency/end"),performance.measure("keydown","keydown/start","keydown/end"),performance.measure("input","input/start","input/end"),performance.measure("render","render/start","render/end"),performance.measure("inputlatency","inputlatency/start","inputlatency/end"),w("keydown",r),w("input",y),w("render",v),w("inputlatency",S),T++,function D(){performance.clearMarks("keydown/start"),performance.clearMarks("keydown/end"),performance.clearMarks("input/start"),performance.clearMarks("input/end"),performance.clearMarks("render/start"),performance.clearMarks("render/end"),performance.clearMarks("inputlatency/start"),performance.clearMarks("inputlatency/end"),performance.clearMeasures("keydown"),performance.clearMeasures("input"),performance.clearMeasures("render"),performance.clearMeasures("inputlatency"),E.keydown=0,E.input=0,E.render=0}())}function w(R,O){const W=performance.getEntriesByName(R)[0].duration;O.total+=W,O.min=Math.min(O.min,W),O.max=Math.max(O.max,W)}function A(R){return{average:R.total/T,max:R.max,min:R.min}}function k(R){R.total=0,R.min=Number.MAX_VALUE,R.max=0}P.onKeyDown=function L(){I(),performance.mark("inputlatency/start"),performance.mark("keydown/start"),E.keydown=1,queueMicrotask(p)},P.onBeforeInput=c,P.onInput=function u(){0===E.input&&c(),queueMicrotask(g)},P.onKeyUp=function i(){I()},P.onSelectionChange=function d(){I()},P.onRenderStart=function a(){2===E.keydown&&2===E.input&&0===E.render&&(performance.mark("render/start"),E.render=1,queueMicrotask(m),l())},P.getAndClearMeasurements=function N(){if(0===T)return;const R={keydown:A(r),input:A(y),render:A(v),total:A(S),sampleCount:T};return k(r),k(y),k(v),k(S),T=0,R}}(f||(f={}))},54796:(Xe,we,e)=>{e.d(we,{o:()=>E,t:()=>T});var f=e(20274),P=e(31738),r=e(20354),y=e(78694),v=e(86211),T=function(L){return L.Tap="-monaco-gesturetap",L.Change="-monaco-gesturechange",L.Start="-monaco-gesturestart",L.End="-monaco-gesturesend",L.Contextmenu="-monaco-gesturecontextmenu",L}(T||{});class E extends y.JT{constructor(){super(),this.dispatched=!1,this.targets=new v.S,this.ignoreTargets=new v.S,this.activeTouches={},this.handle=null,this._lastSetTapCountTime=0,this._register(f.nm(document,"touchstart",p=>this.onTouchStart(p),{passive:!1})),this._register(f.nm(document,"touchend",p=>this.onTouchEnd(p))),this._register(f.nm(document,"touchmove",p=>this.onTouchMove(p),{passive:!1}))}static addTarget(p){if(!E.isTouchDevice())return y.JT.None;E.INSTANCE||(E.INSTANCE=new E);const c=E.INSTANCE.targets.push(p);return(0,y.OF)(c)}static ignoreTarget(p){if(!E.isTouchDevice())return y.JT.None;E.INSTANCE||(E.INSTANCE=new E);const c=E.INSTANCE.ignoreTargets.push(p);return(0,y.OF)(c)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}dispose(){this.handle&&(this.handle.dispose(),this.handle=null),super.dispose()}onTouchStart(p){const c=Date.now();this.handle&&(this.handle.dispose(),this.handle=null);for(let u=0,g=p.targetTouches.length;u<g;u++){const i=p.targetTouches.item(u);this.activeTouches[i.identifier]={id:i.identifier,initialTarget:i.target,initialTimeStamp:c,initialPageX:i.pageX,initialPageY:i.pageY,rollingTimestamps:[c],rollingPageX:[i.pageX],rollingPageY:[i.pageY]};const d=this.newGestureEvent(T.Start,i.target);d.pageX=i.pageX,d.pageY=i.pageY,this.dispatchEvent(d)}this.dispatched&&(p.preventDefault(),p.stopPropagation(),this.dispatched=!1)}onTouchEnd(p){const c=Date.now(),u=Object.keys(this.activeTouches).length;for(let g=0,i=p.changedTouches.length;g<i;g++){const d=p.changedTouches.item(g);if(!this.activeTouches.hasOwnProperty(String(d.identifier))){console.warn("move of an UNKNOWN touch",d);continue}const a=this.activeTouches[d.identifier],m=Date.now()-a.initialTimeStamp;if(m<E.HOLD_DELAY&&Math.abs(a.initialPageX-P.Gb(a.rollingPageX))<30&&Math.abs(a.initialPageY-P.Gb(a.rollingPageY))<30){const l=this.newGestureEvent(T.Tap,a.initialTarget);l.pageX=P.Gb(a.rollingPageX),l.pageY=P.Gb(a.rollingPageY),this.dispatchEvent(l)}else if(m>=E.HOLD_DELAY&&Math.abs(a.initialPageX-P.Gb(a.rollingPageX))<30&&Math.abs(a.initialPageY-P.Gb(a.rollingPageY))<30){const l=this.newGestureEvent(T.Contextmenu,a.initialTarget);l.pageX=P.Gb(a.rollingPageX),l.pageY=P.Gb(a.rollingPageY),this.dispatchEvent(l)}else if(1===u){const l=P.Gb(a.rollingPageX),I=P.Gb(a.rollingPageY),w=P.Gb(a.rollingTimestamps)-a.rollingTimestamps[0],D=l-a.rollingPageX[0],N=I-a.rollingPageY[0],A=[...this.targets].filter(k=>a.initialTarget instanceof Node&&k.contains(a.initialTarget));this.inertia(A,c,Math.abs(D)/w,D>0?1:-1,l,Math.abs(N)/w,N>0?1:-1,I)}this.dispatchEvent(this.newGestureEvent(T.End,a.initialTarget)),delete this.activeTouches[d.identifier]}this.dispatched&&(p.preventDefault(),p.stopPropagation(),this.dispatched=!1)}newGestureEvent(p,c){const u=document.createEvent("CustomEvent");return u.initEvent(p,!1,!0),u.initialTarget=c,u.tapCount=0,u}dispatchEvent(p){if(p.type===T.Tap){const c=(new Date).getTime();let u=0;u=c-this._lastSetTapCountTime>E.CLEAR_TAP_COUNT_TIME?1:2,this._lastSetTapCountTime=c,p.tapCount=u}else(p.type===T.Change||p.type===T.Contextmenu)&&(this._lastSetTapCountTime=0);if(p.initialTarget instanceof Node){for(const c of this.ignoreTargets)if(c.contains(p.initialTarget))return;for(const c of this.targets)c.contains(p.initialTarget)&&(c.dispatchEvent(p),this.dispatched=!0)}}inertia(p,c,u,g,i,d,a,m){this.handle=f.jL(()=>{const l=Date.now(),I=l-c;let w=0,D=0,N=!0;(u+=E.SCROLL_FRICTION*I)>0&&(N=!1,w=g*u*I),(d+=E.SCROLL_FRICTION*I)>0&&(N=!1,D=a*d*I);const A=this.newGestureEvent(T.Change);A.translationX=w,A.translationY=D,p.forEach(k=>k.dispatchEvent(A)),N||this.inertia(p,l,u,g,i+w,d,a,m+D)})}onTouchMove(p){const c=Date.now();for(let u=0,g=p.changedTouches.length;u<g;u++){const i=p.changedTouches.item(u);if(!this.activeTouches.hasOwnProperty(String(i.identifier))){console.warn("end of an UNKNOWN touch",i);continue}const d=this.activeTouches[i.identifier],a=this.newGestureEvent(T.Change,d.initialTarget);a.translationX=i.pageX-P.Gb(d.rollingPageX),a.translationY=i.pageY-P.Gb(d.rollingPageY),a.pageX=i.pageX,a.pageY=i.pageY,this.dispatchEvent(a),d.rollingPageX.length>3&&(d.rollingPageX.shift(),d.rollingPageY.shift(),d.rollingTimestamps.shift()),d.rollingPageX.push(i.pageX),d.rollingPageY.push(i.pageY),d.rollingTimestamps.push(c)}this.dispatched&&(p.preventDefault(),p.stopPropagation(),this.dispatched=!1)}}E.SCROLL_FRICTION=-.005,E.HOLD_DELAY=700,E.CLEAR_TAP_COUNT_TIME=400,function(L,p,c,u){var d,g=arguments.length,i=g<3?p:null===u?u=Object.getOwnPropertyDescriptor(p,c):u;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(L,p,c,u);else for(var a=L.length-1;a>=0;a--)(d=L[a])&&(i=(g<3?d(i):g>3?d(p,c,i):d(p,c))||i);g>3&&i&&Object.defineProperty(p,c,i)}([r.H],E,"isTouchDevice",null)},75578:(Xe,we,e)=>{e.d(we,{Z:()=>P});var f=e(17967);function P(r,y){var v;const S=globalThis.MonacoEnvironment;if(S?.createTrustedTypesPolicy)try{return S.createTrustedTypesPolicy(r,y)}catch(T){return void(0,f.dL)(T)}try{return null===(v=window.trustedTypes)||void 0===v?void 0:v.createPolicy(r,y)}catch(T){return void(0,f.dL)(T)}}},42243:(Xe,we,e)=>{e.d(we,{gU:()=>Se,YH:()=>Ie,Lc:()=>Ve});var f=e(47492),P=e(24872),r=e(20274),y=e(54796),v=e(97340),S=e(49489),T=e(89271),E=e(34637),L=e(80568),p=e(31738),c=e(58178),u=e(48994),g=e(78694),i=e(88593),d=e(93379),a=e.n(d),m=e(7795),l=e.n(m),I=e(90569),w=e.n(I),D=e(3565),N=e.n(D),A=e(19216),k=e.n(A),R=e(44589),O=e.n(R),W=e(12675),z={};z.styleTagTransform=O(),z.setAttributes=N(),z.insert=w().bind(null,"head"),z.domAPI=l(),z.insertStyleElement=k(),a()(W.Z,z);var B=e(37190);const G=r.$,se="selectOption.entry.template";class j{get templateId(){return se}renderTemplate(ye){const oe=Object.create(null);return oe.root=ye,oe.text=r.R3(ye,G(".option-text")),oe.detail=r.R3(ye,G(".option-detail")),oe.decoratorRight=r.R3(ye,G(".option-decorator-right")),oe}renderElement(ye,oe,Y){const x=Y,ie=ye.detail,Ce=ye.decoratorRight,ke=ye.isDisabled;x.text.textContent=ye.text,x.detail.textContent=ie||"",x.decoratorRight.innerText=Ce||"",ke?x.root.classList.add("option-disabled"):x.root.classList.remove("option-disabled")}disposeTemplate(ye){}}let $=(()=>{class De extends g.JT{constructor(oe,Y,x,F,ie){super(),this.options=[],this._currentSelection=0,this._hasDetails=!1,this._skipLayout=!1,this._sticky=!1,this._isVisible=!1,this.styles=F,this.selectBoxOptions=ie||Object.create(null),"number"!=typeof this.selectBoxOptions.minBottomMargin?this.selectBoxOptions.minBottomMargin=De.DEFAULT_DROPDOWN_MINIMUM_BOTTOM_MARGIN:this.selectBoxOptions.minBottomMargin<0&&(this.selectBoxOptions.minBottomMargin=0),this.selectElement=document.createElement("select"),this.selectElement.className="monaco-select-box monaco-select-box-dropdown-padding","string"==typeof this.selectBoxOptions.ariaLabel&&this.selectElement.setAttribute("aria-label",this.selectBoxOptions.ariaLabel),"string"==typeof this.selectBoxOptions.ariaDescription&&this.selectElement.setAttribute("aria-description",this.selectBoxOptions.ariaDescription),this._onDidSelect=new c.Q5,this._register(this._onDidSelect),this.registerListeners(),this.constructSelectDropDown(x),this.selected=Y||0,oe&&this.setOptions(oe,Y),this.initStyleSheet()}getHeight(){return 22}getTemplateId(){return se}constructSelectDropDown(oe){this.contextViewProvider=oe,this.selectDropDownContainer=r.$(".monaco-select-box-dropdown-container"),this.selectDropDownContainer.classList.add("monaco-select-box-dropdown-padding"),this.selectionDetailsPane=r.R3(this.selectDropDownContainer,G(".select-box-details-pane"));const Y=r.R3(this.selectDropDownContainer,G(".select-box-dropdown-container-width-control")),x=r.R3(Y,G(".width-control-div"));this.widthControlElement=document.createElement("span"),this.widthControlElement.className="option-text-width-control",r.R3(x,this.widthControlElement),this._dropDownPosition=0,this.styleElement=r.dS(this.selectDropDownContainer),this.selectDropDownContainer.setAttribute("draggable","true"),this._register(r.nm(this.selectDropDownContainer,r.tw.DRAG_START,F=>{r.zB.stop(F,!0)}))}registerListeners(){let oe;this._register(r.mu(this.selectElement,"change",Y=>{this.selected=Y.target.selectedIndex,this._onDidSelect.fire({index:Y.target.selectedIndex,selected:Y.target.value}),this.options[this.selected]&&this.options[this.selected].text&&(this.selectElement.title=this.options[this.selected].text)})),this._register(r.nm(this.selectElement,r.tw.CLICK,Y=>{r.zB.stop(Y),this._isVisible?this.hideSelectDropDown(!0):this.showSelectDropDown()})),this._register(r.nm(this.selectElement,r.tw.MOUSE_DOWN,Y=>{r.zB.stop(Y)})),this._register(r.nm(this.selectElement,"touchstart",Y=>{oe=this._isVisible})),this._register(r.nm(this.selectElement,"touchend",Y=>{r.zB.stop(Y),oe?this.hideSelectDropDown(!0):this.showSelectDropDown()})),this._register(r.nm(this.selectElement,r.tw.KEY_DOWN,Y=>{const x=new T.y(Y);let F=!1;i.dz?(18===x.keyCode||16===x.keyCode||10===x.keyCode||3===x.keyCode)&&(F=!0):(18===x.keyCode&&x.altKey||16===x.keyCode&&x.altKey||10===x.keyCode||3===x.keyCode)&&(F=!0),F&&(this.showSelectDropDown(),r.zB.stop(Y,!0))}))}get onDidSelect(){return this._onDidSelect.event}setOptions(oe,Y){p.fS(this.options,oe)||(this.options=oe,this.selectElement.options.length=0,this._hasDetails=!1,this._cachedMaxDetailsHeight=void 0,this.options.forEach((x,F)=>{this.selectElement.add(this.createOption(x.text,F,x.isDisabled)),"string"==typeof x.description&&(this._hasDetails=!0)})),void 0!==Y&&(this.select(Y),this._currentSelection=this.selected)}setOptionsList(){var oe;null===(oe=this.selectList)||void 0===oe||oe.splice(0,this.selectList.length,this.options)}select(oe){oe>=0&&oe<this.options.length?this.selected=oe:oe>this.options.length-1?this.select(this.options.length-1):this.selected<0&&(this.selected=0),this.selectElement.selectedIndex=this.selected,this.options[this.selected]&&this.options[this.selected].text&&(this.selectElement.title=this.options[this.selected].text)}focus(){this.selectElement&&(this.selectElement.tabIndex=0,this.selectElement.focus())}blur(){this.selectElement&&(this.selectElement.tabIndex=-1,this.selectElement.blur())}setFocusable(oe){this.selectElement.tabIndex=oe?0:-1}render(oe){this.container=oe,oe.classList.add("select-container"),oe.appendChild(this.selectElement),this.styleSelectElement()}initStyleSheet(){const oe=[];this.styles.listFocusBackground&&oe.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { background-color: ${this.styles.listFocusBackground} !important; }`),this.styles.listFocusForeground&&oe.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { color: ${this.styles.listFocusForeground} !important; }`),this.styles.decoratorRightForeground&&oe.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.focused) .option-decorator-right { color: ${this.styles.decoratorRightForeground}; }`),this.styles.selectBackground&&this.styles.selectBorder&&this.styles.selectBorder!==this.styles.selectBackground?(oe.push(`.monaco-select-box-dropdown-container { border: 1px solid ${this.styles.selectBorder} } `),oe.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-top { border-top: 1px solid ${this.styles.selectBorder} } `),oe.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-bottom { border-bottom: 1px solid ${this.styles.selectBorder} } `)):this.styles.selectListBorder&&(oe.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-top { border-top: 1px solid ${this.styles.selectListBorder} } `),oe.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-bottom { border-bottom: 1px solid ${this.styles.selectListBorder} } `)),this.styles.listHoverForeground&&oe.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { color: ${this.styles.listHoverForeground} !important; }`),this.styles.listHoverBackground&&oe.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { background-color: ${this.styles.listHoverBackground} !important; }`),this.styles.listFocusOutline&&oe.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { outline: 1.6px dotted ${this.styles.listFocusOutline} !important; outline-offset: -1.6px !important; }`),this.styles.listHoverOutline&&oe.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { outline: 1.6px dashed ${this.styles.listHoverOutline} !important; outline-offset: -1.6px !important; }`),oe.push(".monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.option-disabled.focused { background-color: transparent !important; color: inherit !important; outline: none !important; }"),oe.push(".monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.option-disabled:hover { background-color: transparent !important; color: inherit !important; outline: none !important; }"),this.styleElement.textContent=oe.join("\n")}styleSelectElement(){var oe,Y,x;const F=null!==(oe=this.styles.selectBackground)&&void 0!==oe?oe:"",ie=null!==(Y=this.styles.selectForeground)&&void 0!==Y?Y:"",Ce=null!==(x=this.styles.selectBorder)&&void 0!==x?x:"";this.selectElement.style.backgroundColor=F,this.selectElement.style.color=ie,this.selectElement.style.borderColor=Ce}styleList(){var oe,Y;const x=null!==(oe=this.styles.selectBackground)&&void 0!==oe?oe:"",F=r.XT(this.styles.selectListBackground,x);this.selectDropDownListContainer.style.backgroundColor=F,this.selectionDetailsPane.style.backgroundColor=F;const ie=null!==(Y=this.styles.focusBorder)&&void 0!==Y?Y:"";this.selectDropDownContainer.style.outlineColor=ie,this.selectDropDownContainer.style.outlineOffset="-1px",this.selectList.style(this.styles)}createOption(oe,Y,x){const F=document.createElement("option");return F.value=oe,F.text=oe,F.disabled=!!x,F}showSelectDropDown(){this.selectionDetailsPane.innerText="",this.contextViewProvider&&!this._isVisible&&(this.createSelectList(this.selectDropDownContainer),this.setOptionsList(),this.contextViewProvider.showContextView({getAnchor:()=>this.selectElement,render:oe=>this.renderSelectDropDown(oe,!0),layout:()=>{this.layoutSelectDropDown()},onHide:()=>{this.selectDropDownContainer.classList.remove("visible"),this.selectElement.classList.remove("synthetic-focus")},anchorPosition:this._dropDownPosition},this.selectBoxOptions.optionsAsChildren?this.container:void 0),this._isVisible=!0,this.hideSelectDropDown(!1),this.contextViewProvider.showContextView({getAnchor:()=>this.selectElement,render:oe=>this.renderSelectDropDown(oe),layout:()=>this.layoutSelectDropDown(),onHide:()=>{this.selectDropDownContainer.classList.remove("visible"),this.selectElement.classList.remove("synthetic-focus")},anchorPosition:this._dropDownPosition},this.selectBoxOptions.optionsAsChildren?this.container:void 0),this._currentSelection=this.selected,this._isVisible=!0,this.selectElement.setAttribute("aria-expanded","true"))}hideSelectDropDown(oe){!this.contextViewProvider||!this._isVisible||(this._isVisible=!1,this.selectElement.setAttribute("aria-expanded","false"),oe&&this.selectElement.focus(),this.contextViewProvider.hideContextView())}renderSelectDropDown(oe,Y){return oe.appendChild(this.selectDropDownContainer),this.layoutSelectDropDown(Y),{dispose:()=>{try{oe.removeChild(this.selectDropDownContainer)}catch{}}}}measureMaxDetailsHeight(){let oe=0;return this.options.forEach((Y,x)=>{this.updateDetail(x),this.selectionDetailsPane.offsetHeight>oe&&(oe=this.selectionDetailsPane.offsetHeight)}),oe}layoutSelectDropDown(oe){if(this._skipLayout)return!1;if(this.selectList){this.selectDropDownContainer.classList.add("visible");const Y=r.i(this.selectElement),x=getComputedStyle(this.selectElement),F=parseFloat(x.getPropertyValue("--dropdown-padding-top"))+parseFloat(x.getPropertyValue("--dropdown-padding-bottom")),ie=window.innerHeight-Y.top-Y.height-(this.selectBoxOptions.minBottomMargin||0),Ce=Y.top-De.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN,ke=this.selectElement.offsetWidth,Pe=this.setWidthControlElement(this.widthControlElement),xe=Math.max(Pe,Math.round(ke)).toString()+"px";this.selectDropDownContainer.style.width=xe,this.selectList.getHTMLElement().style.height="",this.selectList.layout();let fe=this.selectList.contentHeight;this._hasDetails&&void 0===this._cachedMaxDetailsHeight&&(this._cachedMaxDetailsHeight=this.measureMaxDetailsHeight());const be=this._hasDetails?this._cachedMaxDetailsHeight:0,pe=fe+F+be,Q=Math.floor((ie-F-be)/this.getHeight()),le=Math.floor((Ce-F-be)/this.getHeight());if(oe)return!(Y.top+Y.height>window.innerHeight-22||Y.top<De.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN||Q<1&&le<1||(Q<De.DEFAULT_MINIMUM_VISIBLE_OPTIONS&&le>Q&&this.options.length>Q?(this._dropDownPosition=1,this.selectDropDownContainer.removeChild(this.selectDropDownListContainer),this.selectDropDownContainer.removeChild(this.selectionDetailsPane),this.selectDropDownContainer.appendChild(this.selectionDetailsPane),this.selectDropDownContainer.appendChild(this.selectDropDownListContainer),this.selectionDetailsPane.classList.remove("border-top"),this.selectionDetailsPane.classList.add("border-bottom")):(this._dropDownPosition=0,this.selectDropDownContainer.removeChild(this.selectDropDownListContainer),this.selectDropDownContainer.removeChild(this.selectionDetailsPane),this.selectDropDownContainer.appendChild(this.selectDropDownListContainer),this.selectDropDownContainer.appendChild(this.selectionDetailsPane),this.selectionDetailsPane.classList.remove("border-bottom"),this.selectionDetailsPane.classList.add("border-top")),0));if(Y.top+Y.height>window.innerHeight-22||Y.top<De.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN||0===this._dropDownPosition&&Q<1||1===this._dropDownPosition&&le<1)return this.hideSelectDropDown(!0),!1;if(0===this._dropDownPosition){if(this._isVisible&&Q+le<1)return this.hideSelectDropDown(!0),!1;pe>ie&&(fe=Q*this.getHeight())}else pe>Ce&&(fe=le*this.getHeight());return this.selectList.layout(fe),this.selectList.domFocus(),this.selectList.length>0&&(this.selectList.setFocus([this.selected||0]),this.selectList.reveal(this.selectList.getFocus()[0]||0)),this._hasDetails?(this.selectList.getHTMLElement().style.height=fe+F+"px",this.selectDropDownContainer.style.height=""):this.selectDropDownContainer.style.height=fe+F+"px",this.updateDetail(this.selected),this.selectDropDownContainer.style.width=xe,this.selectDropDownListContainer.setAttribute("tabindex","0"),this.selectElement.classList.add("synthetic-focus"),this.selectDropDownContainer.classList.add("synthetic-focus"),!0}return!1}setWidthControlElement(oe){let Y=0;if(oe){let x=0,F=0;this.options.forEach((ie,Ce)=>{const xe=ie.text.length+(ie.detail?ie.detail.length:0)+(ie.decoratorRight?ie.decoratorRight.length:0);xe>F&&(x=Ce,F=xe)}),oe.textContent=this.options[x].text+(this.options[x].decoratorRight?this.options[x].decoratorRight+" ":""),Y=r.w(oe)}return Y}createSelectList(oe){if(this.selectList)return;this.selectDropDownListContainer=r.R3(oe,G(".select-box-dropdown-list-container")),this.listRenderer=new j,this.selectList=new L.aV("SelectBoxCustom",this.selectDropDownListContainer,this,[this.listRenderer],{useShadows:!1,verticalScrollMode:3,keyboardSupport:!1,mouseSupport:!1,accessibilityProvider:{getAriaLabel:F=>{let ie=F.text;return F.detail&&(ie+=`. ${F.detail}`),F.decoratorRight&&(ie+=`. ${F.decoratorRight}`),F.description&&(ie+=`. ${F.description}`),ie},getWidgetAriaLabel:()=>(0,B.NC)({key:"selectBox",comment:["Behave like native select dropdown element."]},"Select Box"),getRole:()=>i.dz?"":"option",getWidgetRole:()=>"listbox"}}),this.selectBoxOptions.ariaLabel&&(this.selectList.ariaLabel=this.selectBoxOptions.ariaLabel);const Y=this._register(new S.Y(this.selectDropDownListContainer,"keydown")),x=c.ju.chain(Y.event).filter(()=>this.selectList.length>0).map(F=>new T.y(F));this._register(x.filter(F=>3===F.keyCode).on(F=>this.onEnter(F),this)),this._register(x.filter(F=>2===F.keyCode).on(F=>this.onEnter(F),this)),this._register(x.filter(F=>9===F.keyCode).on(F=>this.onEscape(F),this)),this._register(x.filter(F=>16===F.keyCode).on(F=>this.onUpArrow(F),this)),this._register(x.filter(F=>18===F.keyCode).on(F=>this.onDownArrow(F),this)),this._register(x.filter(F=>12===F.keyCode).on(this.onPageDown,this)),this._register(x.filter(F=>11===F.keyCode).on(this.onPageUp,this)),this._register(x.filter(F=>14===F.keyCode).on(this.onHome,this)),this._register(x.filter(F=>13===F.keyCode).on(this.onEnd,this)),this._register(x.filter(F=>F.keyCode>=21&&F.keyCode<=56||F.keyCode>=85&&F.keyCode<=113).on(this.onCharacter,this)),this._register(r.nm(this.selectList.getHTMLElement(),r.tw.POINTER_UP,F=>this.onPointerUp(F))),this._register(this.selectList.onMouseOver(F=>typeof F.index<"u"&&this.selectList.setFocus([F.index]))),this._register(this.selectList.onDidChangeFocus(F=>this.onListFocus(F))),this._register(r.nm(this.selectDropDownContainer,r.tw.FOCUS_OUT,F=>{!this._isVisible||r.jg(F.relatedTarget,this.selectDropDownContainer)||this.onListBlur()})),this.selectList.getHTMLElement().setAttribute("aria-label",this.selectBoxOptions.ariaLabel||""),this.selectList.getHTMLElement().setAttribute("aria-expanded","true"),this.styleList()}onPointerUp(oe){if(!this.selectList.length)return;r.zB.stop(oe);const Y=oe.target;if(!Y||Y.classList.contains("slider"))return;const x=Y.closest(".monaco-list-row");if(!x)return;const F=Number(x.getAttribute("data-index")),ie=x.classList.contains("option-disabled");F>=0&&F<this.options.length&&!ie&&(this.selected=F,this.select(this.selected),this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selectList.getFocus()[0]),this.selected!==this._currentSelection&&(this._currentSelection=this.selected,this._onDidSelect.fire({index:this.selectElement.selectedIndex,selected:this.options[this.selected].text}),this.options[this.selected]&&this.options[this.selected].text&&(this.selectElement.title=this.options[this.selected].text)),this.hideSelectDropDown(!0))}onListBlur(){this._sticky||(this.selected!==this._currentSelection&&this.select(this._currentSelection),this.hideSelectDropDown(!1))}renderDescriptionMarkdown(oe,Y){const x=ie=>{for(let Ce=0;Ce<ie.childNodes.length;Ce++){const ke=ie.childNodes.item(Ce);"img"===(ke.tagName&&ke.tagName.toLowerCase())?ie.removeChild(ke):x(ke)}},F=(0,E.ap)({value:oe,supportThemeIcons:!0},{actionHandler:Y});return F.element.classList.add("select-box-description-markdown"),x(F.element),F.element}onListFocus(oe){!this._isVisible||!this._hasDetails||this.updateDetail(oe.indexes[0])}updateDetail(oe){var Y,x;this.selectionDetailsPane.innerText="";const F=this.options[oe],ie=null!==(Y=F?.description)&&void 0!==Y?Y:"",Ce=null!==(x=F?.descriptionIsMarkdown)&&void 0!==x&&x;ie?(Ce?this.selectionDetailsPane.appendChild(this.renderDescriptionMarkdown(ie,F.descriptionMarkdownActionHandler)):this.selectionDetailsPane.innerText=ie,this.selectionDetailsPane.style.display="block"):this.selectionDetailsPane.style.display="none",this._skipLayout=!0,this.contextViewProvider.layout(),this._skipLayout=!1}onEscape(oe){r.zB.stop(oe),this.select(this._currentSelection),this.hideSelectDropDown(!0)}onEnter(oe){r.zB.stop(oe),this.selected!==this._currentSelection&&(this._currentSelection=this.selected,this._onDidSelect.fire({index:this.selectElement.selectedIndex,selected:this.options[this.selected].text}),this.options[this.selected]&&this.options[this.selected].text&&(this.selectElement.title=this.options[this.selected].text)),this.hideSelectDropDown(!0)}onDownArrow(oe){if(this.selected<this.options.length-1){r.zB.stop(oe,!0);const Y=this.options[this.selected+1].isDisabled;if(Y&&this.options.length>this.selected+2)this.selected+=2;else{if(Y)return;this.selected++}this.select(this.selected),this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selectList.getFocus()[0])}}onUpArrow(oe){this.selected>0&&(r.zB.stop(oe,!0),this.options[this.selected-1].isDisabled&&this.selected>1?this.selected-=2:this.selected--,this.select(this.selected),this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selectList.getFocus()[0]))}onPageUp(oe){r.zB.stop(oe),this.selectList.focusPreviousPage(),setTimeout(()=>{this.selected=this.selectList.getFocus()[0],this.options[this.selected].isDisabled&&this.selected<this.options.length-1&&(this.selected++,this.selectList.setFocus([this.selected])),this.selectList.reveal(this.selected),this.select(this.selected)},1)}onPageDown(oe){r.zB.stop(oe),this.selectList.focusNextPage(),setTimeout(()=>{this.selected=this.selectList.getFocus()[0],this.options[this.selected].isDisabled&&this.selected>0&&(this.selected--,this.selectList.setFocus([this.selected])),this.selectList.reveal(this.selected),this.select(this.selected)},1)}onHome(oe){r.zB.stop(oe),!(this.options.length<2)&&(this.selected=0,this.options[this.selected].isDisabled&&this.selected>1&&this.selected++,this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selected),this.select(this.selected))}onEnd(oe){r.zB.stop(oe),!(this.options.length<2)&&(this.selected=this.options.length-1,this.options[this.selected].isDisabled&&this.selected>1&&this.selected--,this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selected),this.select(this.selected))}onCharacter(oe){const Y=u.kL.toString(oe.keyCode);let x=-1;for(let F=0;F<this.options.length-1;F++)if(x=(F+this.selected+1)%this.options.length,this.options[x].text.charAt(0).toUpperCase()===Y&&!this.options[x].isDisabled){this.select(x),this.selectList.setFocus([x]),this.selectList.reveal(this.selectList.getFocus()[0]),r.zB.stop(oe);break}}dispose(){this.hideSelectDropDown(!1),super.dispose()}}return De.DEFAULT_DROPDOWN_MINIMUM_BOTTOM_MARGIN=32,De.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN=2,De.DEFAULT_MINIMUM_VISIBLE_OPTIONS=3,De})();class K extends g.JT{constructor(ye,oe,Y,x){super(),this.selected=0,this.selectBoxOptions=x||Object.create(null),this.options=[],this.selectElement=document.createElement("select"),this.selectElement.className="monaco-select-box","string"==typeof this.selectBoxOptions.ariaLabel&&this.selectElement.setAttribute("aria-label",this.selectBoxOptions.ariaLabel),"string"==typeof this.selectBoxOptions.ariaDescription&&this.selectElement.setAttribute("aria-description",this.selectBoxOptions.ariaDescription),this._onDidSelect=this._register(new c.Q5),this.styles=Y,this.registerListeners(),this.setOptions(ye,oe)}registerListeners(){this._register(y.o.addTarget(this.selectElement)),[y.t.Tap].forEach(ye=>{this._register(r.nm(this.selectElement,ye,oe=>{this.selectElement.focus()}))}),this._register(r.mu(this.selectElement,"click",ye=>{r.zB.stop(ye,!0)})),this._register(r.mu(this.selectElement,"change",ye=>{this.selectElement.title=ye.target.value,this._onDidSelect.fire({index:ye.target.selectedIndex,selected:ye.target.value})})),this._register(r.mu(this.selectElement,"keydown",ye=>{let oe=!1;i.dz?(18===ye.keyCode||16===ye.keyCode||10===ye.keyCode)&&(oe=!0):(18===ye.keyCode&&ye.altKey||10===ye.keyCode||3===ye.keyCode)&&(oe=!0),oe&&ye.stopPropagation()}))}get onDidSelect(){return this._onDidSelect.event}setOptions(ye,oe){(!this.options||!p.fS(this.options,ye))&&(this.options=ye,this.selectElement.options.length=0,this.options.forEach((Y,x)=>{this.selectElement.add(this.createOption(Y.text,x,Y.isDisabled))})),void 0!==oe&&this.select(oe)}select(ye){0===this.options.length?this.selected=0:ye>=0&&ye<this.options.length?this.selected=ye:ye>this.options.length-1?this.select(this.options.length-1):this.selected<0&&(this.selected=0),this.selectElement.selectedIndex=this.selected,this.selectElement.title=this.selected<this.options.length&&"string"==typeof this.options[this.selected].text?this.options[this.selected].text:""}focus(){this.selectElement&&(this.selectElement.tabIndex=0,this.selectElement.focus())}blur(){this.selectElement&&(this.selectElement.tabIndex=-1,this.selectElement.blur())}setFocusable(ye){this.selectElement.tabIndex=ye?0:-1}render(ye){ye.classList.add("select-container"),ye.appendChild(this.selectElement),this.setOptions(this.options,this.selected),this.applyStyles()}applyStyles(){var ye,oe,Y;this.selectElement&&(this.selectElement.style.backgroundColor=null!==(ye=this.styles.selectBackground)&&void 0!==ye?ye:"",this.selectElement.style.color=null!==(oe=this.styles.selectForeground)&&void 0!==oe?oe:"",this.selectElement.style.borderColor=null!==(Y=this.styles.selectBorder)&&void 0!==Y?Y:"")}createOption(ye,oe,Y){const x=document.createElement("option");return x.value=ye,x.text=ye,x.disabled=!!Y,x}}var J=e(19491),te=e(46512),ne={};ne.styleTagTransform=O(),ne.setAttributes=N(),ne.insert=w().bind(null,"head"),ne.domAPI=l(),ne.insertStyleElement=k(),a()(te.Z,ne);class ge extends J.${constructor(ye,oe,Y,x,F){super(),this.selectBoxDelegate=i.dz&&!F?.useCustomDrawn?new K(ye,oe,x,F):new $(ye,oe,Y,x,F),this._register(this.selectBoxDelegate)}get onDidSelect(){return this.selectBoxDelegate.onDidSelect}setOptions(ye,oe){this.selectBoxDelegate.setOptions(ye,oe)}select(ye){this.selectBoxDelegate.select(ye)}focus(){this.selectBoxDelegate.focus()}blur(){this.selectBoxDelegate.blur()}setFocusable(ye){this.selectBoxDelegate.setFocusable(ye)}render(ye){this.selectBoxDelegate.render(ye)}}var _e=e(54457),ue=e(91402);e(75408);class Ie extends g.JT{get action(){return this._action}constructor(ye,oe,Y={}){super(),this.options=Y,this._context=ye||this,this._action=oe,oe instanceof _e.aU&&this._register(oe.onDidChange(x=>{this.element&&this.handleActionChangeEvent(x)}))}handleActionChangeEvent(ye){void 0!==ye.enabled&&this.updateEnabled(),void 0!==ye.checked&&this.updateChecked(),void 0!==ye.class&&this.updateClass(),void 0!==ye.label&&(this.updateLabel(),this.updateTooltip()),void 0!==ye.tooltip&&this.updateTooltip()}get actionRunner(){return this._actionRunner||(this._actionRunner=this._register(new _e.Wi)),this._actionRunner}set actionRunner(ye){this._actionRunner=ye}isEnabled(){return this._action.enabled}setActionContext(ye){this._context=ye}render(ye){const oe=this.element=ye;this._register(y.o.addTarget(ye));const Y=this.options&&this.options.draggable;Y&&(ye.draggable=!0,f.vU&&this._register((0,r.nm)(ye,r.tw.DRAG_START,x=>{var F;return null===(F=x.dataTransfer)||void 0===F?void 0:F.setData(P.g.TEXT,this._action.label)}))),this._register((0,r.nm)(oe,y.t.Tap,x=>this.onClick(x,!0))),this._register((0,r.nm)(oe,r.tw.MOUSE_DOWN,x=>{Y||r.zB.stop(x,!0),this._action.enabled&&0===x.button&&oe.classList.add("active")})),i.dz&&this._register((0,r.nm)(oe,r.tw.CONTEXT_MENU,x=>{0===x.button&&!0===x.ctrlKey&&this.onClick(x)})),this._register((0,r.nm)(oe,r.tw.CLICK,x=>{r.zB.stop(x,!0),this.options&&this.options.isMenu||this.onClick(x)})),this._register((0,r.nm)(oe,r.tw.DBLCLICK,x=>{r.zB.stop(x,!0)})),[r.tw.MOUSE_UP,r.tw.MOUSE_OUT].forEach(x=>{this._register((0,r.nm)(oe,x,F=>{r.zB.stop(F),oe.classList.remove("active")}))})}onClick(ye,oe=!1){var Y;r.zB.stop(ye,!0);const x=ue.Jp(this._context)?null!==(Y=this.options)&&void 0!==Y&&Y.useEventAsContext?ye:{preserveFocus:oe}:this._context;this.actionRunner.run(this._action,x)}focus(){this.element&&(this.element.tabIndex=0,this.element.focus(),this.element.classList.add("focused"))}blur(){this.element&&(this.element.blur(),this.element.tabIndex=-1,this.element.classList.remove("focused"))}setFocusable(ye){this.element&&(this.element.tabIndex=ye?0:-1)}get trapsArrowNavigation(){return!1}updateEnabled(){}updateLabel(){}getTooltip(){return this.action.tooltip}updateTooltip(){var ye;if(!this.element)return;const oe=null!==(ye=this.getTooltip())&&void 0!==ye?ye:"";this.updateAriaLabel(),this.options.hoverDelegate?(this.element.title="",this.customHover?this.customHover.update(oe):(this.customHover=(0,v.g)(this.options.hoverDelegate,this.element,oe),this._store.add(this.customHover))):this.element.title=oe}updateAriaLabel(){var ye;if(this.element){const oe=null!==(ye=this.getTooltip())&&void 0!==ye?ye:"";this.element.setAttribute("aria-label",oe)}}updateClass(){}updateChecked(){}dispose(){this.element&&(this.element.remove(),this.element=void 0),this._context=void 0,super.dispose()}}class Se extends Ie{constructor(ye,oe,Y){super(ye,oe,Y),this.options=Y,this.options.icon=void 0!==Y.icon&&Y.icon,this.options.label=void 0===Y.label||Y.label,this.cssClass=""}render(ye){super.render(ye),this.element&&(this.label=(0,r.R3)(this.element,(0,r.$)("a.action-label"))),this.label&&this.label.setAttribute("role",this.getDefaultAriaRole()),this.options.label&&this.options.keybinding&&this.element&&((0,r.R3)(this.element,(0,r.$)("span.keybinding")).textContent=this.options.keybinding),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked()}getDefaultAriaRole(){return this._action.id===_e.Z0.ID?"presentation":this.options.isMenu?"menuitem":"button"}focus(){this.label&&(this.label.tabIndex=0,this.label.focus())}blur(){this.label&&(this.label.tabIndex=-1)}setFocusable(ye){this.label&&(this.label.tabIndex=ye?0:-1)}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this.action.label)}getTooltip(){let ye=null;return this.action.tooltip?ye=this.action.tooltip:!this.options.label&&this.action.label&&this.options.icon&&(ye=this.action.label,this.options.keybinding&&(ye=B.NC({key:"titleLabel",comment:["action title","action keybinding"]},"{0} ({1})",ye,this.options.keybinding))),ye??void 0}updateClass(){var ye;this.cssClass&&this.label&&this.label.classList.remove(...this.cssClass.split(" ")),this.options.icon?(this.cssClass=this.action.class,this.label&&(this.label.classList.add("codicon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" "))),this.updateEnabled()):null===(ye=this.label)||void 0===ye||ye.classList.remove("codicon")}updateEnabled(){var ye,oe;this.action.enabled?(this.label&&(this.label.removeAttribute("aria-disabled"),this.label.classList.remove("disabled")),null===(ye=this.element)||void 0===ye||ye.classList.remove("disabled")):(this.label&&(this.label.setAttribute("aria-disabled","true"),this.label.classList.add("disabled")),null===(oe=this.element)||void 0===oe||oe.classList.add("disabled"))}updateAriaLabel(){var ye;if(this.label){const oe=null!==(ye=this.getTooltip())&&void 0!==ye?ye:"";this.label.setAttribute("aria-label",oe)}}updateChecked(){this.label&&(void 0!==this.action.checked?(this.label.classList.toggle("checked",this.action.checked),this.label.setAttribute("aria-checked",this.action.checked?"true":"false"),this.label.setAttribute("role","checkbox")):(this.label.classList.remove("checked"),this.label.setAttribute("aria-checked",""),this.label.setAttribute("role",this.getDefaultAriaRole())))}}class Ve extends Ie{constructor(ye,oe,Y,x,F,ie,Ce){super(ye,oe),this.selectBox=new ge(Y,x,F,ie,Ce),this.selectBox.setFocusable(!1),this._register(this.selectBox),this.registerListeners()}select(ye){this.selectBox.select(ye)}registerListeners(){this._register(this.selectBox.onDidSelect(ye=>this.runAction(ye.selected,ye.index)))}runAction(ye,oe){this.actionRunner.run(this._action,this.getActionContext(ye,oe))}getActionContext(ye,oe){return ye}setFocusable(ye){this.selectBox.setFocusable(ye)}focus(){var ye;null===(ye=this.selectBox)||void 0===ye||ye.focus()}blur(){var ye;null===(ye=this.selectBox)||void 0===ye||ye.blur()}render(ye){this.selectBox.render(ye)}}},26775:(Xe,we,e)=>{e.d(we,{o:()=>p});var f=e(20274),P=e(89271),r=e(42243),y=e(54457),v=e(58178),S=e(78694),T=e(91402),L=(e(75408),function(c,u,g,i){return new(g||(g=Promise))(function(a,m){function l(D){try{w(i.next(D))}catch(N){m(N)}}function I(D){try{w(i.throw(D))}catch(N){m(N)}}function w(D){D.done?a(D.value):function d(a){return a instanceof g?a:new g(function(m){m(a)})}(D.value).then(l,I)}w((i=i.apply(c,u||[])).next())})});class p extends S.JT{constructor(u,g={}){var i,d,a,m,l,I;let w,D;switch(super(),this._actionRunnerDisposables=this._register(new S.SL),this.viewItemDisposables=this._register(new S.b2),this.triggerKeyDown=!1,this.focusable=!0,this._onDidBlur=this._register(new v.Q5),this.onDidBlur=this._onDidBlur.event,this._onDidCancel=this._register(new v.Q5({onWillAddFirstListener:()=>this.cancelHasListener=!0})),this.onDidCancel=this._onDidCancel.event,this.cancelHasListener=!1,this._onDidRun=this._register(new v.Q5),this.onDidRun=this._onDidRun.event,this._onWillRun=this._register(new v.Q5),this.onWillRun=this._onWillRun.event,this.options=g,this._context=null!==(i=g.context)&&void 0!==i?i:null,this._orientation=null!==(d=this.options.orientation)&&void 0!==d?d:0,this._triggerKeys={keyDown:null!==(m=null===(a=this.options.triggerKeys)||void 0===a?void 0:a.keyDown)&&void 0!==m&&m,keys:null!==(I=null===(l=this.options.triggerKeys)||void 0===l?void 0:l.keys)&&void 0!==I?I:[3,10]},this.options.actionRunner?this._actionRunner=this.options.actionRunner:(this._actionRunner=new y.Wi,this._actionRunnerDisposables.add(this._actionRunner)),this._actionRunnerDisposables.add(this._actionRunner.onDidRun(N=>this._onDidRun.fire(N))),this._actionRunnerDisposables.add(this._actionRunner.onWillRun(N=>this._onWillRun.fire(N))),this.viewItems=[],this.focusedItem=void 0,this.domNode=document.createElement("div"),this.domNode.className="monaco-action-bar",!1!==g.animated&&this.domNode.classList.add("animated"),this._orientation){case 0:w=[15],D=[17];break;case 1:w=[16],D=[18],this.domNode.className+=" vertical"}this._register(f.nm(this.domNode,f.tw.KEY_DOWN,N=>{const A=new P.y(N);let k=!0;const R="number"==typeof this.focusedItem?this.viewItems[this.focusedItem]:void 0;w&&(A.equals(w[0])||A.equals(w[1]))?k=this.focusPrevious():D&&(A.equals(D[0])||A.equals(D[1]))?k=this.focusNext():A.equals(9)&&this.cancelHasListener?this._onDidCancel.fire():A.equals(14)?k=this.focusFirst():A.equals(13)?k=this.focusLast():A.equals(2)&&R instanceof r.YH&&R.trapsArrowNavigation?k=this.focusNext():this.isTriggerKeyEvent(A)?this._triggerKeys.keyDown?this.doTrigger(A):this.triggerKeyDown=!0:k=!1,k&&(A.preventDefault(),A.stopPropagation())})),this._register(f.nm(this.domNode,f.tw.KEY_UP,N=>{const A=new P.y(N);this.isTriggerKeyEvent(A)?(!this._triggerKeys.keyDown&&this.triggerKeyDown&&(this.triggerKeyDown=!1,this.doTrigger(A)),A.preventDefault(),A.stopPropagation()):(A.equals(2)||A.equals(1026))&&this.updateFocusedItem()})),this.focusTracker=this._register(f.go(this.domNode)),this._register(this.focusTracker.onDidBlur(()=>{(f.vY()===this.domNode||!f.jg(f.vY(),this.domNode))&&(this._onDidBlur.fire(),this.previouslyFocusedItem=this.focusedItem,this.focusedItem=void 0,this.triggerKeyDown=!1)})),this._register(this.focusTracker.onDidFocus(()=>this.updateFocusedItem())),this.actionsList=document.createElement("ul"),this.actionsList.className="actions-container",this.options.highlightToggledItems&&this.actionsList.classList.add("highlight-toggled"),this.actionsList.setAttribute("role",this.options.ariaRole||"toolbar"),this.options.ariaLabel&&this.actionsList.setAttribute("aria-label",this.options.ariaLabel),this.domNode.appendChild(this.actionsList),u.appendChild(this.domNode)}refreshRole(){this.length()>=2?this.actionsList.setAttribute("role",this.options.ariaRole||"toolbar"):this.actionsList.setAttribute("role","presentation")}setFocusable(u){if(this.focusable=u,this.focusable){const g=this.viewItems.find(i=>i instanceof r.YH&&i.isEnabled());g instanceof r.YH&&g.setFocusable(!0)}else this.viewItems.forEach(g=>{g instanceof r.YH&&g.setFocusable(!1)})}isTriggerKeyEvent(u){let g=!1;return this._triggerKeys.keys.forEach(i=>{g=g||u.equals(i)}),g}updateFocusedItem(){for(let u=0;u<this.actionsList.children.length;u++){const g=this.actionsList.children[u];if(f.jg(f.vY(),g)){this.focusedItem=u;break}}}get context(){return this._context}set context(u){this._context=u,this.viewItems.forEach(g=>g.setActionContext(u))}get actionRunner(){return this._actionRunner}set actionRunner(u){this._actionRunner=u,this._actionRunnerDisposables.clear(),this._actionRunnerDisposables.add(this._actionRunner.onDidRun(g=>this._onDidRun.fire(g))),this._actionRunnerDisposables.add(this._actionRunner.onWillRun(g=>this._onWillRun.fire(g))),this.viewItems.forEach(g=>g.actionRunner=u)}getContainer(){return this.domNode}getAction(u){var g;if("number"==typeof u)return null===(g=this.viewItems[u])||void 0===g?void 0:g.action;if(u instanceof HTMLElement){for(;u.parentElement!==this.actionsList;){if(!u.parentElement)return;u=u.parentElement}for(let i=0;i<this.actionsList.childNodes.length;i++)if(this.actionsList.childNodes[i]===u)return this.viewItems[i].action}}push(u,g={}){const i=Array.isArray(u)?u:[u];let d=T.hj(g.index)?g.index:null;i.forEach(a=>{const m=document.createElement("li");let l;m.className="action-item",m.setAttribute("role","presentation");const I=Object.assign({hoverDelegate:this.options.hoverDelegate},g);this.options.actionViewItemProvider&&(l=this.options.actionViewItemProvider(a,I)),l||(l=new r.gU(this.context,a,I)),this.options.allowContextMenu||this.viewItemDisposables.set(l,f.nm(m,f.tw.CONTEXT_MENU,w=>{f.zB.stop(w,!0)})),l.actionRunner=this._actionRunner,l.setActionContext(this.context),l.render(m),this.focusable&&l instanceof r.YH&&0===this.viewItems.length&&l.setFocusable(!0),null===d||d<0||d>=this.actionsList.children.length?(this.actionsList.appendChild(m),this.viewItems.push(l)):(this.actionsList.insertBefore(m,this.actionsList.children[d]),this.viewItems.splice(d,0,l),d++)}),"number"==typeof this.focusedItem&&this.focus(this.focusedItem),this.refreshRole()}clear(){this.isEmpty()||(this.viewItems=(0,S.B9)(this.viewItems),this.viewItemDisposables.clearAndDisposeAll(),f.PO(this.actionsList),this.refreshRole())}length(){return this.viewItems.length}isEmpty(){return 0===this.viewItems.length}focus(u){let i,g=!1;if(void 0===u?g=!0:"number"==typeof u?i=u:"boolean"==typeof u&&(g=u),g&&typeof this.focusedItem>"u"){const d=this.viewItems.findIndex(a=>a.isEnabled());this.focusedItem=-1===d?void 0:d,this.updateFocus(void 0,void 0,!0)}else void 0!==i&&(this.focusedItem=i),this.updateFocus(void 0,void 0,!0)}focusFirst(){return this.focusedItem=this.length()-1,this.focusNext(!0)}focusLast(){return this.focusedItem=0,this.focusPrevious(!0)}focusNext(u){if(typeof this.focusedItem>"u")this.focusedItem=this.viewItems.length-1;else if(this.viewItems.length<=1)return!1;const g=this.focusedItem;let i;do{if(!u&&this.options.preventLoopNavigation&&this.focusedItem+1>=this.viewItems.length)return this.focusedItem=g,!1;this.focusedItem=(this.focusedItem+1)%this.viewItems.length,i=this.viewItems[this.focusedItem]}while(this.focusedItem!==g&&(this.options.focusOnlyEnabledItems&&!i.isEnabled()||i.action.id===y.Z0.ID));return this.updateFocus(),!0}focusPrevious(u){if(typeof this.focusedItem>"u")this.focusedItem=0;else if(this.viewItems.length<=1)return!1;const g=this.focusedItem;let i;do{if(this.focusedItem=this.focusedItem-1,this.focusedItem<0){if(!u&&this.options.preventLoopNavigation)return this.focusedItem=g,!1;this.focusedItem=this.viewItems.length-1}i=this.viewItems[this.focusedItem]}while(this.focusedItem!==g&&(this.options.focusOnlyEnabledItems&&!i.isEnabled()||i.action.id===y.Z0.ID));return this.updateFocus(!0),!0}updateFocus(u,g,i=!1){var d;typeof this.focusedItem>"u"&&this.actionsList.focus({preventScroll:g}),void 0!==this.previouslyFocusedItem&&this.previouslyFocusedItem!==this.focusedItem&&(null===(d=this.viewItems[this.previouslyFocusedItem])||void 0===d||d.blur());const a=void 0!==this.focusedItem&&this.viewItems[this.focusedItem];if(a){let m=!0;T.mf(a.focus)||(m=!1),this.options.focusOnlyEnabledItems&&T.mf(a.isEnabled)&&!a.isEnabled()&&(m=!1),a.action.id===y.Z0.ID&&(m=!1),m?(i||this.previouslyFocusedItem!==this.focusedItem)&&(a.focus(u),this.previouslyFocusedItem=this.focusedItem):(this.actionsList.focus({preventScroll:g}),this.previouslyFocusedItem=void 0)}}doTrigger(u){if(typeof this.focusedItem>"u")return;const g=this.viewItems[this.focusedItem];g instanceof r.YH&&this.run(g._action,null==g._context?u:g._context)}run(u,g){return L(this,void 0,void 0,function*(){yield this._actionRunner.run(u,g)})}dispose(){this._context=void 0,this.viewItems=(0,S.B9)(this.viewItems),this.getContainer().remove(),super.dispose()}}},41539:(Xe,we,e)=>{e.d(we,{Z9:()=>R,wW:()=>k,i7:()=>O});var f=e(20274),P=e(93379),r=e.n(P),y=e(7795),v=e.n(y),S=e(90569),T=e.n(S),E=e(3565),L=e.n(E),p=e(19216),c=e.n(p),u=e(44589),g=e.n(u),i=e(93),d={};d.styleTagTransform=g(),d.setAttributes=L(),d.insert=T().bind(null,"head"),d.domAPI=v(),d.insertStyleElement=c(),r()(i.Z,d);const l=2e4;let I,w,D,N,A;function k(z){I=document.createElement("div"),I.className="monaco-aria-container";const U=()=>{const B=document.createElement("div");return B.className="monaco-alert",B.setAttribute("role","alert"),B.setAttribute("aria-atomic","true"),I.appendChild(B),B};w=U(),D=U();const ee=()=>{const B=document.createElement("div");return B.className="monaco-status",B.setAttribute("aria-live","polite"),B.setAttribute("aria-atomic","true"),I.appendChild(B),B};N=ee(),A=ee(),z.appendChild(I)}function R(z){I&&(w.textContent!==z?(f.PO(D),W(w,z)):(f.PO(w),W(D,z)))}function O(z){I&&(N.textContent!==z?(f.PO(A),W(N,z)):(f.PO(N),W(A,z)))}function W(z,U){f.PO(z),U.length>l&&(U=U.substr(0,l)),z.textContent=U,z.style.visibility="hidden",z.style.visibility="visible"}},7108:(Xe,we,e)=>{e.d(we,{z:()=>z});var f=e(20274),P=e(21411),r=e(89271),y=e(34637),v=e(54796),S=e(51674),T=e(90888),E=e(58178),L=e(10878),p=e(78694),c=e(93379),u=e.n(c),g=e(7795),i=e.n(g),d=e(90569),a=e.n(d),m=e(3565),l=e.n(m),I=e(19216),w=e.n(I),D=e(44589),N=e.n(D),A=e(72013),k={};k.styleTagTransform=N(),k.setAttributes=l(),k.insert=a().bind(null,"head"),k.domAPI=i(),k.insertStyleElement=w(),u()(A.Z,k),T.Il.white.toString(),T.Il.white.toString();class z extends p.JT{get onDidClick(){return this._onDidClick.event}constructor(ee,B){super(),this._label="",this._onDidClick=this._register(new E.Q5),this.options=B,this._element=document.createElement("a"),this._element.classList.add("monaco-button"),this._element.tabIndex=0,this._element.setAttribute("role","button"),this._element.classList.toggle("secondary",!!B.secondary);const G=B.secondary?B.buttonSecondaryBackground:B.buttonBackground;this._element.style.color=(B.secondary?B.buttonSecondaryForeground:B.buttonForeground)||"",this._element.style.backgroundColor=G||"",B.supportShortLabel&&(this._labelShortElement=document.createElement("div"),this._labelShortElement.classList.add("monaco-button-label-short"),this._element.appendChild(this._labelShortElement),this._labelElement=document.createElement("div"),this._labelElement.classList.add("monaco-button-label"),this._element.appendChild(this._labelElement),this._element.classList.add("monaco-text-button-with-short-label")),ee.appendChild(this._element),this._register(v.o.addTarget(this._element)),[f.tw.CLICK,v.t.Tap].forEach(j=>{this._register((0,f.nm)(this._element,j,$=>{this.enabled?this._onDidClick.fire($):f.zB.stop($)}))}),this._register((0,f.nm)(this._element,f.tw.KEY_DOWN,j=>{const $=new r.y(j);let K=!1;this.enabled&&($.equals(3)||$.equals(10))?(this._onDidClick.fire(j),K=!0):$.equals(9)&&(this._element.blur(),K=!0),K&&f.zB.stop($,!0)})),this._register((0,f.nm)(this._element,f.tw.MOUSE_OVER,j=>{this._element.classList.contains("disabled")||this.updateBackground(!0)})),this._register((0,f.nm)(this._element,f.tw.MOUSE_OUT,j=>{this.updateBackground(!1)})),this.focusTracker=this._register((0,f.go)(this._element)),this._register(this.focusTracker.onDidFocus(()=>{this.enabled&&this.updateBackground(!0)})),this._register(this.focusTracker.onDidBlur(()=>{this.enabled&&this.updateBackground(!1)}))}dispose(){super.dispose(),this._element.remove()}getContentElements(ee){const B=[];for(let G of(0,S.T)(ee))if("string"==typeof G){if(G=G.trim(),""===G)continue;const se=document.createElement("span");se.textContent=G,B.push(se)}else B.push(G);return B}updateBackground(ee){let B;B=this.options.secondary?ee?this.options.buttonSecondaryHoverBackground:this.options.buttonSecondaryBackground:ee?this.options.buttonHoverBackground:this.options.buttonBackground,B&&(this._element.style.backgroundColor=B)}get element(){return this._element}set label(ee){var B;if(this._label===ee||(0,L.Fr)(this._label)&&(0,L.Fr)(ee)&&(0,L.g_)(this._label,ee))return;this._element.classList.add("monaco-text-button");const G=this.options.supportShortLabel?this._labelElement:this._element;if((0,L.Fr)(ee)){const se=(0,y.ap)(ee,{inline:!0});se.dispose();const j=null===(B=se.element.querySelector("p"))||void 0===B?void 0:B.innerHTML;if(j){const $=(0,P.Nw)(j,{ADD_TAGS:["b","i","u","code","span"],ALLOWED_ATTR:["class"],RETURN_TRUSTED_TYPE:!0});G.innerHTML=$}else(0,f.mc)(G)}else this.options.supportIcons?(0,f.mc)(G,...this.getContentElements(ee)):G.textContent=ee;"string"==typeof this.options.title?this._element.title=this.options.title:this.options.title&&(this._element.title=(0,y.et)(ee)),this._label=ee}get label(){return this._label}set enabled(ee){ee?(this._element.classList.remove("disabled"),this._element.setAttribute("aria-disabled",String(!1)),this._element.tabIndex=0):(this._element.classList.add("disabled"),this._element.setAttribute("aria-disabled",String(!0)))}get enabled(){return!this._element.classList.contains("disabled")}}},15810:(Xe,we,e)=>{var f=e(93379),P=e.n(f),r=e(7795),y=e.n(r),v=e(90569),S=e.n(v),T=e(3565),E=e.n(T),L=e(19216),p=e.n(L),c=e(44589),u=e.n(c),g=e(50058),i={};i.styleTagTransform=u(),i.setAttributes=E(),i.insert=S().bind(null,"head"),i.domAPI=y(),i.insertStyleElement=p(),P()(g.Z,i);var m=e(24081),l={};l.styleTagTransform=u(),l.setAttributes=E(),l.insert=S().bind(null,"head"),l.domAPI=y(),l.insertStyleElement=p(),P()(m.Z,l)},6663:(Xe,we,e)=>{e.d(we,{Z:()=>I});var f=e(20274),P=e(16055),r=e(93379),y=e.n(r),v=e(7795),S=e.n(v),T=e(90569),E=e.n(T),L=e(3565),p=e.n(L),c=e(19216),u=e.n(c),g=e(44589),i=e.n(g),d=e(90477),a={};a.styleTagTransform=i(),a.setAttributes=p(),a.insert=E().bind(null,"head"),a.domAPI=S(),a.insertStyleElement=u(),y()(d.Z,a);class I{constructor(D,N,A){this.options=N,this.styles=A,this.count=0,this.element=(0,f.R3)(D,(0,f.$)(".monaco-count-badge")),this.countFormat=this.options.countFormat||"{0}",this.titleFormat=this.options.titleFormat||"",this.setCount(this.options.count||0)}setCount(D){this.count=D,this.render()}setTitleFormat(D){this.titleFormat=D,this.render()}render(){var D,N;this.element.textContent=(0,P.WU)(this.countFormat,this.count),this.element.title=(0,P.WU)(this.titleFormat,this.count),this.element.style.backgroundColor=null!==(D=this.styles.badgeBackground)&&void 0!==D?D:"",this.element.style.color=null!==(N=this.styles.badgeForeground)&&void 0!==N?N:"",this.styles.badgeBorder&&(this.element.style.border=`1px solid ${this.styles.badgeBorder}`)}}},88831:(Xe,we,e)=>{e.d(we,{C:()=>R});var f=e(20274),P=e(42243),r=e(89271),y=e(54796),v=e(54457),S=e(58178),T=e(93379),E=e.n(T),L=e(7795),p=e.n(L),c=e(90569),u=e.n(c),g=e(3565),i=e.n(g),d=e(19216),a=e.n(d),m=e(44589),l=e.n(m),I=e(25035),w={};w.styleTagTransform=l(),w.setAttributes=i(),w.insert=u().bind(null,"head"),w.domAPI=p(),w.insertStyleElement=a(),E()(I.Z,w);class A extends v.Wi{constructor(W,z){super(),this._onDidChangeVisibility=this._register(new S.Q5),this.onDidChangeVisibility=this._onDidChangeVisibility.event,this._element=(0,f.R3)(W,(0,f.$)(".monaco-dropdown")),this._label=(0,f.R3)(this._element,(0,f.$)(".dropdown-label"));let U=z.labelRenderer;U||(U=B=>(B.textContent=z.label||"",null));for(const B of[f.tw.CLICK,f.tw.MOUSE_DOWN,y.t.Tap])this._register((0,f.nm)(this.element,B,G=>f.zB.stop(G,!0)));for(const B of[f.tw.MOUSE_DOWN,y.t.Tap])this._register((0,f.nm)(this._label,B,G=>{G instanceof MouseEvent&&(G.detail>1||0!==G.button)||(this.visible?this.hide():this.show())}));this._register((0,f.nm)(this._label,f.tw.KEY_UP,B=>{const G=new r.y(B);(G.equals(3)||G.equals(10))&&(f.zB.stop(B,!0),this.visible?this.hide():this.show())}));const ee=U(this._label);ee&&this._register(ee),this._register(y.o.addTarget(this._label))}get element(){return this._element}show(){this.visible||(this.visible=!0,this._onDidChangeVisibility.fire(!0))}hide(){this.visible&&(this.visible=!1,this._onDidChangeVisibility.fire(!1))}dispose(){super.dispose(),this.hide(),this.boxContainer&&(this.boxContainer.remove(),this.boxContainer=void 0),this.contents&&(this.contents.remove(),this.contents=void 0),this._label&&(this._label.remove(),this._label=void 0)}}class k extends A{constructor(W,z){super(W,z),this._options=z,this._actions=[],this.actions=z.actions||[]}set menuOptions(W){this._menuOptions=W}get menuOptions(){return this._menuOptions}get actions(){return this._options.actionProvider?this._options.actionProvider.getActions():this._actions}set actions(W){this._actions=W}show(){super.show(),this.element.classList.add("active"),this._options.contextMenuProvider.showContextMenu({getAnchor:()=>this.element,getActions:()=>this.actions,getActionsContext:()=>this.menuOptions?this.menuOptions.context:null,getActionViewItem:(W,z)=>this.menuOptions&&this.menuOptions.actionViewItemProvider?this.menuOptions.actionViewItemProvider(W,z):void 0,getKeyBinding:W=>this.menuOptions&&this.menuOptions.getKeyBinding?this.menuOptions.getKeyBinding(W):void 0,getMenuClassName:()=>this._options.menuClassName||"",onHide:()=>this.onHide(),actionRunner:this.menuOptions?this.menuOptions.actionRunner:void 0,anchorAlignment:this.menuOptions?this.menuOptions.anchorAlignment:0,domForShadowRoot:this._options.menuAsChild?this.element:void 0,skipTelemetry:this._options.skipTelemetry})}hide(){super.hide()}onHide(){this.hide(),this.element.classList.remove("active")}}class R extends P.YH{constructor(W,z,U,ee=Object.create(null)){super(null,W,ee),this.actionItem=null,this._onDidChangeVisibility=this._register(new S.Q5),this.onDidChangeVisibility=this._onDidChangeVisibility.event,this.menuActionsOrProvider=z,this.contextMenuProvider=U,this.options=ee,this.options.actionRunner&&(this.actionRunner=this.options.actionRunner)}render(W){this.actionItem=W;const U=Array.isArray(this.menuActionsOrProvider);if(this.dropdownMenu=this._register(new k(W,{contextMenuProvider:this.contextMenuProvider,labelRenderer:B=>{this.element=(0,f.R3)(B,(0,f.$)("a.action-label"));let G=[];return"string"==typeof this.options.classNames?G=this.options.classNames.split(/\s+/g).filter(se=>!!se):this.options.classNames&&(G=this.options.classNames),G.find(se=>"icon"===se)||G.push("codicon"),this.element.classList.add(...G),this.element.setAttribute("role","button"),this.element.setAttribute("aria-haspopup","true"),this.element.setAttribute("aria-expanded","false"),this.element.title=this._action.label||"",this.element.ariaLabel=this._action.label||"",null},menuAsChild:this.options.menuAsChild,actions:U?this.menuActionsOrProvider:void 0,actionProvider:U?void 0:this.menuActionsOrProvider,skipTelemetry:this.options.skipTelemetry})),this._register(this.dropdownMenu.onDidChangeVisibility(B=>{var G;null===(G=this.element)||void 0===G||G.setAttribute("aria-expanded",`${B}`),this._onDidChangeVisibility.fire(B)})),this.dropdownMenu.menuOptions={actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,getKeyBinding:this.options.keybindingProvider,context:this._context},this.options.anchorAlignmentProvider){const B=this;this.dropdownMenu.menuOptions=Object.assign(Object.assign({},this.dropdownMenu.menuOptions),{get anchorAlignment(){return B.options.anchorAlignmentProvider()}})}this.updateTooltip(),this.updateEnabled()}getTooltip(){let W=null;return this.action.tooltip?W=this.action.tooltip:this.action.label&&(W=this.action.label),W??void 0}setActionContext(W){super.setActionContext(W),this.dropdownMenu&&(this.dropdownMenu.menuOptions?this.dropdownMenu.menuOptions.context=W:this.dropdownMenu.menuOptions={context:W})}show(){var W;null===(W=this.dropdownMenu)||void 0===W||W.show()}updateEnabled(){var W,z;const U=!this.action.enabled;null===(W=this.actionItem)||void 0===W||W.classList.toggle("disabled",U),null===(z=this.element)||void 0===z||z.classList.toggle("disabled",U)}}},92161:(Xe,we,e)=>{e.d(we,{V:()=>p});var f=e(20274),P=e(65306),r=e(33386),y=e(19491),v=e(58178),T=(e(30340),e(37190)),E=e(78694);const L=T.NC("defaultLabel","input");class p extends y.${constructor(u,g,i){super(),this.fixFocusOnOptionClickEnabled=!0,this.imeSessionInProgress=!1,this.additionalTogglesDisposables=new E.SL,this.additionalToggles=[],this._onDidOptionChange=this._register(new v.Q5),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new v.Q5),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new v.Q5),this.onMouseDown=this._onMouseDown.event,this._onInput=this._register(new v.Q5),this._onKeyUp=this._register(new v.Q5),this._onCaseSensitiveKeyDown=this._register(new v.Q5),this.onCaseSensitiveKeyDown=this._onCaseSensitiveKeyDown.event,this._onRegexKeyDown=this._register(new v.Q5),this.onRegexKeyDown=this._onRegexKeyDown.event,this._lastHighlightFindOptions=0,this.placeholder=i.placeholder||"",this.validation=i.validation,this.label=i.label||L,this.showCommonFindToggles=!!i.showCommonFindToggles;const d=i.appendCaseSensitiveLabel||"",a=i.appendWholeWordsLabel||"",m=i.appendRegexLabel||"",l=i.history||[],I=!!i.flexibleHeight,w=!!i.flexibleWidth,D=i.flexibleMaxHeight;if(this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new r.pG(this.domNode,g,{placeholder:this.placeholder||"",ariaLabel:this.label||"",validationOptions:{validation:this.validation},history:l,showHistoryHint:i.showHistoryHint,flexibleHeight:I,flexibleWidth:w,flexibleMaxHeight:D,inputBoxStyles:i.inputBoxStyles})),this.showCommonFindToggles){this.regex=this._register(new P.eH(Object.assign({appendTitle:m,isChecked:!1},i.toggleStyles))),this._register(this.regex.onChange(A=>{this._onDidOptionChange.fire(A),!A&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.regex.onKeyDown(A=>{this._onRegexKeyDown.fire(A)})),this.wholeWords=this._register(new P.Qx(Object.assign({appendTitle:a,isChecked:!1},i.toggleStyles))),this._register(this.wholeWords.onChange(A=>{this._onDidOptionChange.fire(A),!A&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this.caseSensitive=this._register(new P.rk(Object.assign({appendTitle:d,isChecked:!1},i.toggleStyles))),this._register(this.caseSensitive.onChange(A=>{this._onDidOptionChange.fire(A),!A&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.caseSensitive.onKeyDown(A=>{this._onCaseSensitiveKeyDown.fire(A)}));const N=[this.caseSensitive.domNode,this.wholeWords.domNode,this.regex.domNode];this.onkeydown(this.domNode,A=>{if(A.equals(15)||A.equals(17)||A.equals(9)){const k=N.indexOf(document.activeElement);if(k>=0){let R=-1;A.equals(17)?R=(k+1)%N.length:A.equals(15)&&(R=0===k?N.length-1:k-1),A.equals(9)?(N[k].blur(),this.inputBox.focus()):R>=0&&N[R].focus(),f.zB.stop(A,!0)}}})}this.controls=document.createElement("div"),this.controls.className="controls",this.controls.style.display=this.showCommonFindToggles?"":"none",this.caseSensitive&&this.controls.append(this.caseSensitive.domNode),this.wholeWords&&this.controls.appendChild(this.wholeWords.domNode),this.regex&&this.controls.appendChild(this.regex.domNode),this.setAdditionalToggles(i?.additionalToggles),this.controls&&this.domNode.appendChild(this.controls),u?.appendChild(this.domNode),this._register(f.nm(this.inputBox.inputElement,"compositionstart",N=>{this.imeSessionInProgress=!0})),this._register(f.nm(this.inputBox.inputElement,"compositionend",N=>{this.imeSessionInProgress=!1,this._onInput.fire()})),this.onkeydown(this.inputBox.inputElement,N=>this._onKeyDown.fire(N)),this.onkeyup(this.inputBox.inputElement,N=>this._onKeyUp.fire(N)),this.oninput(this.inputBox.inputElement,N=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,N=>this._onMouseDown.fire(N))}get onDidChange(){return this.inputBox.onDidChange}layout(u){this.inputBox.layout(),this.updateInputBoxPadding(u.collapsedFindWidget)}enable(){var u,g,i;this.domNode.classList.remove("disabled"),this.inputBox.enable(),null===(u=this.regex)||void 0===u||u.enable(),null===(g=this.wholeWords)||void 0===g||g.enable(),null===(i=this.caseSensitive)||void 0===i||i.enable();for(const d of this.additionalToggles)d.enable()}disable(){var u,g,i;this.domNode.classList.add("disabled"),this.inputBox.disable(),null===(u=this.regex)||void 0===u||u.disable(),null===(g=this.wholeWords)||void 0===g||g.disable(),null===(i=this.caseSensitive)||void 0===i||i.disable();for(const d of this.additionalToggles)d.disable()}setFocusInputOnOptionClick(u){this.fixFocusOnOptionClickEnabled=u}setEnabled(u){u?this.enable():this.disable()}setAdditionalToggles(u){for(const g of this.additionalToggles)g.domNode.remove();this.additionalToggles=[],this.additionalTogglesDisposables.dispose(),this.additionalTogglesDisposables=new E.SL;for(const g of u??[])this.additionalTogglesDisposables.add(g),this.controls.appendChild(g.domNode),this.additionalTogglesDisposables.add(g.onChange(i=>{this._onDidOptionChange.fire(i),!i&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus()})),this.additionalToggles.push(g);this.additionalToggles.length>0&&(this.controls.style.display=""),this.updateInputBoxPadding()}updateInputBoxPadding(u=!1){var g,i,d,a,m,l;this.inputBox.paddingRight=u?0:(null!==(i=null===(g=this.caseSensitive)||void 0===g?void 0:g.width())&&void 0!==i?i:0)+(null!==(a=null===(d=this.wholeWords)||void 0===d?void 0:d.width())&&void 0!==a?a:0)+(null!==(l=null===(m=this.regex)||void 0===m?void 0:m.width())&&void 0!==l?l:0)+this.additionalToggles.reduce((I,w)=>I+w.width(),0)}getValue(){return this.inputBox.value}setValue(u){this.inputBox.value!==u&&(this.inputBox.value=u)}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getCaseSensitive(){var u,g;return null!==(g=null===(u=this.caseSensitive)||void 0===u?void 0:u.checked)&&void 0!==g&&g}setCaseSensitive(u){this.caseSensitive&&(this.caseSensitive.checked=u)}getWholeWords(){var u,g;return null!==(g=null===(u=this.wholeWords)||void 0===u?void 0:u.checked)&&void 0!==g&&g}setWholeWords(u){this.wholeWords&&(this.wholeWords.checked=u)}getRegex(){var u,g;return null!==(g=null===(u=this.regex)||void 0===u?void 0:u.checked)&&void 0!==g&&g}setRegex(u){this.regex&&(this.regex.checked=u,this.validate())}focusOnCaseSensitive(){var u;null===(u=this.caseSensitive)||void 0===u||u.focus()}highlightFindOptions(){this.domNode.classList.remove("highlight-"+this._lastHighlightFindOptions),this._lastHighlightFindOptions=1-this._lastHighlightFindOptions,this.domNode.classList.add("highlight-"+this._lastHighlightFindOptions)}validate(){this.inputBox.validate()}showMessage(u){this.inputBox.showMessage(u)}clearMessage(){this.inputBox.hideMessage()}}},65306:(Xe,we,e)=>{e.d(we,{Qx:()=>E,eH:()=>L,rk:()=>T});var f=e(50145),P=e(27222),r=e(37190);const y=r.NC("caseDescription","Match Case"),v=r.NC("wordsDescription","Match Whole Word"),S=r.NC("regexDescription","Use Regular Expression");class T extends f.Z{constructor(c){super({icon:P.l.caseSensitive,title:y+c.appendTitle,isChecked:c.isChecked,inputActiveOptionBorder:c.inputActiveOptionBorder,inputActiveOptionForeground:c.inputActiveOptionForeground,inputActiveOptionBackground:c.inputActiveOptionBackground})}}class E extends f.Z{constructor(c){super({icon:P.l.wholeWord,title:v+c.appendTitle,isChecked:c.isChecked,inputActiveOptionBorder:c.inputActiveOptionBorder,inputActiveOptionForeground:c.inputActiveOptionForeground,inputActiveOptionBackground:c.inputActiveOptionBackground})}}class L extends f.Z{constructor(c){super({icon:P.l.regex,title:S+c.appendTitle,isChecked:c.isChecked,inputActiveOptionBorder:c.inputActiveOptionBorder,inputActiveOptionForeground:c.inputActiveOptionForeground,inputActiveOptionBackground:c.inputActiveOptionBackground})}}},21233:(Xe,we,e)=>{e.d(we,{q:()=>y});var f=e(20274),P=e(51674),r=e(52209);class y{constructor(S,T){var E;this.text="",this.title="",this.highlights=[],this.didEverRender=!1,this.supportIcons=null!==(E=T?.supportIcons)&&void 0!==E&&E,this.domNode=f.R3(S,f.$("span.monaco-highlighted-label"))}get element(){return this.domNode}set(S,T=[],E="",L){S||(S=""),L&&(S=y.escapeNewLines(S,T)),(!this.didEverRender||this.text!==S||this.title!==E||!r.fS(this.highlights,T))&&(this.text=S,this.title=E,this.highlights=T,this.render())}render(){const S=[];let T=0;for(const E of this.highlights){if(E.end===E.start)continue;if(T<E.start){const c=this.text.substring(T,E.start);this.supportIcons?S.push(...(0,P.T)(c)):S.push(c),T=E.start}const L=this.text.substring(T,E.end),p=f.$("span.highlight",void 0,...this.supportIcons?(0,P.T)(L):[L]);E.extraClasses&&p.classList.add(...E.extraClasses),S.push(p),T=E.end}if(T<this.text.length){const E=this.text.substring(T);this.supportIcons?S.push(...(0,P.T)(E)):S.push(E)}f.mc(this.domNode,...S),this.title?this.domNode.title=this.title:this.domNode.removeAttribute("title"),this.didEverRender=!0}static escapeNewLines(S,T){let E=0,L=0;return S.replace(/\r\n|\r|\n/g,(p,c)=>{L="\r\n"===p?-1:0,c+=E;for(const u of T)u.end<=c||(u.start>=c&&(u.start+=L),u.end>=c&&(u.end+=L));return E+=L,"\u23ce"})}}},98629:(Xe,we,e)=>{e.d(we,{Sr:()=>k,c8:()=>A,uX:()=>R});var f=e(20274),P=e(89271),r=e(8286),y=e(78694),v=e(93379),S=e.n(v),T=e(7795),E=e.n(T),L=e(90569),p=e.n(L),c=e(3565),u=e.n(c),g=e(19216),i=e.n(g),d=e(44589),a=e.n(d),m=e(93039),l={};l.styleTagTransform=a(),l.setAttributes=u(),l.insert=p().bind(null,"head"),l.domAPI=E(),l.insertStyleElement=i(),S()(m.Z,l);var D=e(37190);const N=f.$;class A extends y.JT{constructor(){super(),this.containerDomNode=document.createElement("div"),this.containerDomNode.className="monaco-hover",this.containerDomNode.tabIndex=0,this.containerDomNode.setAttribute("role","tooltip"),this.contentsDomNode=document.createElement("div"),this.contentsDomNode.className="monaco-hover-content",this.scrollbar=this._register(new r.s$(this.contentsDomNode,{consumeMouseWheelIfScrollbarIsNeeded:!0})),this.containerDomNode.appendChild(this.scrollbar.getDomNode())}onContentsChanged(){this.scrollbar.scanDomNode()}}class k extends y.JT{static render(W,z,U){return new k(W,z,U)}constructor(W,z,U){super(),this.actionContainer=f.R3(W,N("div.action-container")),this.actionContainer.setAttribute("tabindex","0"),this.action=f.R3(this.actionContainer,N("a.action")),this.action.setAttribute("role","button"),z.iconClass&&f.R3(this.action,N(`span.icon.${z.iconClass}`)),f.R3(this.action,N("span")).textContent=U?`${z.label} (${U})`:z.label,this._register(f.nm(this.actionContainer,f.tw.CLICK,B=>{B.stopPropagation(),B.preventDefault(),z.run(this.actionContainer)})),this._register(f.nm(this.actionContainer,f.tw.KEY_DOWN,B=>{const G=new P.y(B);(G.equals(3)||G.equals(10))&&(B.stopPropagation(),B.preventDefault(),z.run(this.actionContainer))})),this.setEnabled(!0)}setEnabled(W){W?(this.actionContainer.classList.remove("disabled"),this.actionContainer.removeAttribute("aria-disabled")):(this.actionContainer.classList.add("disabled"),this.actionContainer.setAttribute("aria-disabled","true"))}}function R(O,W){return O&&W?(0,D.NC)("acessibleViewHint","Inspect this in the accessible view with {0}.",W):O?(0,D.NC)("acessibleViewHintNoKbOpen","Inspect this in the accessible view via the command Open Accessible View which is currently not triggerable via keybinding."):""}},34448:(Xe,we,e)=>{e.d(we,{g:()=>k});var f=e(93379),P=e.n(f),r=e(7795),y=e.n(r),v=e(90569),S=e.n(v),T=e(3565),E=e.n(T),L=e(19216),p=e.n(L),c=e(44589),u=e.n(c),g=e(94269),i={};i.styleTagTransform=u(),i.setAttributes=E(),i.insert=S().bind(null,"head"),i.domAPI=y(),i.insertStyleElement=p(),P()(g.Z,i);var m=e(20274),l=e(21233),I=e(97340),w=e(78694),D=e(52209),N=e(23137);class A{constructor(U){this._element=U}get element(){return this._element}set textContent(U){this.disposed||U===this._textContent||(this._textContent=U,this._element.textContent=U)}set className(U){this.disposed||U===this._className||(this._className=U,this._element.className=U)}set empty(U){this.disposed||U===this._empty||(this._empty=U,this._element.style.marginLeft=U?"0":"")}dispose(){this.disposed=!0}}class k extends w.JT{constructor(U,ee){super(),this.customHovers=new Map,this.creationOptions=ee,this.domNode=this._register(new A(m.R3(U,m.$(".monaco-icon-label")))),this.labelContainer=m.R3(this.domNode.element,m.$(".monaco-icon-label-container"));const B=m.R3(this.labelContainer,m.$("span.monaco-icon-name-container"));this.nameNode=ee?.supportHighlights||ee?.supportIcons?new W(B,!!ee.supportIcons):new R(B),this.hoverDelegate=ee?.hoverDelegate}get element(){return this.domNode.element}setLabel(U,ee,B){const G=["monaco-icon-label"],se=["monaco-icon-label-container"];let j="";if(B&&(B.extraClasses&&G.push(...B.extraClasses),B.italic&&G.push("italic"),B.strikethrough&&G.push("strikethrough"),B.disabledCommand&&se.push("disabled"),B.title&&(j+=B.title)),this.domNode.className=G.join(" "),this.domNode.element.setAttribute("aria-label",j),this.labelContainer.className=se.join(" "),this.setupHover(B?.descriptionTitle?this.labelContainer:this.element,B?.title),this.nameNode.setLabel(U,B),ee||this.descriptionNode){const $=this.getOrCreateDescriptionNode();$ instanceof l.q?($.set(ee||"",B?B.descriptionMatches:void 0,void 0,B?.labelEscapeNewLines),this.setupHover($.element,B?.descriptionTitle)):($.textContent=ee&&B?.labelEscapeNewLines?l.q.escapeNewLines(ee,[]):ee||"",this.setupHover($.element,B?.descriptionTitle||""),$.empty=!ee)}}setupHover(U,ee){const B=this.customHovers.get(U);if(B&&(B.dispose(),this.customHovers.delete(U)),ee)if(this.hoverDelegate){const G=(0,I.g)(this.hoverDelegate,U,ee);G&&this.customHovers.set(U,G)}else(0,I.O)(U,ee);else U.removeAttribute("title")}dispose(){super.dispose();for(const U of this.customHovers.values())U.dispose();this.customHovers.clear()}getOrCreateDescriptionNode(){var U;if(!this.descriptionNode){const ee=this._register(new A(m.R3(this.labelContainer,m.$("span.monaco-icon-description-container"))));this.descriptionNode=null!==(U=this.creationOptions)&&void 0!==U&&U.supportDescriptionHighlights?new l.q(m.R3(ee.element,m.$("span.label-description")),{supportIcons:!!this.creationOptions.supportIcons}):this._register(new A(m.R3(ee.element,m.$("span.label-description"))))}return this.descriptionNode}}class R{constructor(U){this.container=U,this.label=void 0,this.singleLabel=void 0}setLabel(U,ee){if(this.label!==U||!(0,D.fS)(this.options,ee))if(this.label=U,this.options=ee,"string"==typeof U)this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=m.R3(this.container,m.$("a.label-name",{id:ee?.domId}))),this.singleLabel.textContent=U;else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;for(let B=0;B<U.length;B++){const G=U[B];m.R3(this.container,m.$("a.label-name",{id:ee?.domId&&`${ee?.domId}_${B}`,"data-icon-label-count":U.length,"data-icon-label-index":B,role:"treeitem"},G)),B<U.length-1&&m.R3(this.container,m.$("span.label-separator",void 0,ee?.separator||"/"))}}}}class W{constructor(U,ee){this.container=U,this.supportIcons=ee,this.label=void 0,this.singleLabel=void 0}setLabel(U,ee){if(this.label!==U||!(0,D.fS)(this.options,ee))if(this.label=U,this.options=ee,"string"==typeof U)this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=new l.q(m.R3(this.container,m.$("a.label-name",{id:ee?.domId})),{supportIcons:this.supportIcons})),this.singleLabel.set(U,ee?.matches,void 0,ee?.labelEscapeNewLines);else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;const B=ee?.separator||"/",G=function O(z,U,ee){if(!ee)return;let B=0;return z.map(G=>{const se={start:B,end:B+G.length},j=ee.map($=>N.e.intersect(se,$)).filter($=>!N.e.isEmpty($)).map(({start:$,end:K})=>({start:$-B,end:K-B}));return B=se.end+U.length,j})}(U,B,ee?.matches);for(let se=0;se<U.length;se++){const j=U[se],$=G?G[se]:void 0,J=m.$("a.label-name",{id:ee?.domId&&`${ee?.domId}_${se}`,"data-icon-label-count":U.length,"data-icon-label-index":se,role:"treeitem"});new l.q(m.R3(this.container,J),{supportIcons:this.supportIcons}).set(j,$,void 0,ee?.labelEscapeNewLines),se<U.length-1&&m.R3(J,m.$("span.label-separator",void 0,B))}}}}},97340:(Xe,we,e)=>{e.d(we,{O:()=>p,g:()=>u});var f=e(20274),P=e(85328),r=e(87618),y=e(10878),v=e(53385),S=e(78694),T=e(91402),E=e(37190),L=function(g,i,d,a){return new(d||(d=Promise))(function(l,I){function w(A){try{N(a.next(A))}catch(k){I(k)}}function D(A){try{N(a.throw(A))}catch(k){I(k)}}function N(A){A.done?l(A.value):function m(l){return l instanceof d?l:new d(function(I){I(l)})}(A.value).then(w,D)}N((a=a.apply(g,i||[])).next())})};function p(g,i){(0,T.HD)(i)?g.title=(0,v.x$)(i):i?.markdownNotSupportedFallback?g.title=i.markdownNotSupportedFallback:g.removeAttribute("title")}class c{constructor(i,d,a){this.hoverDelegate=i,this.target=d,this.fadeInAnimation=a}update(i,d,a){var m;return L(this,void 0,void 0,function*(){if(this._cancellationTokenSource&&(this._cancellationTokenSource.dispose(!0),this._cancellationTokenSource=void 0),this.isDisposed)return;let l;if(void 0===i||(0,T.HD)(i)||i instanceof HTMLElement)l=i;else if((0,T.mf)(i.markdown)){this._hoverWidget||this.show((0,E.NC)("iconLabel.loading","Loading..."),d),this._cancellationTokenSource=new r.A;const I=this._cancellationTokenSource.token;if(l=yield i.markdown(I),void 0===l&&(l=i.markdownNotSupportedFallback),this.isDisposed||I.isCancellationRequested)return}else l=null!==(m=i.markdown)&&void 0!==m?m:i.markdownNotSupportedFallback;this.show(l,d,a)})}show(i,d,a){const m=this._hoverWidget;if(this.hasContent(i)){const l=Object.assign({content:i,target:this.target,showPointer:"element"===this.hoverDelegate.placement,hoverPosition:2,skipFadeInAnimation:!this.fadeInAnimation||!!m},a);this._hoverWidget=this.hoverDelegate.showHover(l,d)}m?.dispose()}hasContent(i){return!(!i||(0,y.Fr)(i)&&!i.value)}get isDisposed(){var i;return null===(i=this._hoverWidget)||void 0===i?void 0:i.isDisposed}dispose(){var i,d;null===(i=this._hoverWidget)||void 0===i||i.dispose(),null===(d=this._cancellationTokenSource)||void 0===d||d.dispose(!0),this._cancellationTokenSource=void 0}}function u(g,i,d,a){let m,l;const I=(k,R)=>{var O;const W=void 0!==l;k&&(l?.dispose(),l=void 0),R&&(m?.dispose(),m=void 0),W&&(null===(O=g.onDidHideHover)||void 0===O||O.call(g))},w=(k,R,O)=>new P._F(()=>L(this,void 0,void 0,function*(){(!l||l.isDisposed)&&(l=new c(g,O||i,k>0),yield l.update(d,R,a))}),k),N=f.nm(i,f.tw.MOUSE_OVER,()=>{if(m)return;const k=new S.SL;k.add(f.nm(i,f.tw.MOUSE_LEAVE,z=>I(!1,z.fromElement===i),!0)),k.add(f.nm(i,f.tw.MOUSE_DOWN,()=>I(!0,!0),!0));const W={targetElements:[i],dispose:()=>{}};void 0!==g.placement&&"mouse"!==g.placement||k.add(f.nm(i,f.tw.MOUSE_MOVE,U=>{W.x=U.x+10,U.target instanceof HTMLElement&&U.target.classList.contains("action-label")&&I(!0,!0)},!0)),k.add(w(g.delay,!1,W)),m=k},!0);return{show:k=>{I(!1,!0),w(0,k)},hide:()=>{I(!0,!0)},update:(k,R)=>L(this,void 0,void 0,function*(){d=k,yield l?.update(d,void 0,R)}),dispose:()=>{N.dispose(),I(!0,!0)}}}},51674:(Xe,we,e)=>{e.d(we,{T:()=>y,h:()=>v});var f=e(20274),P=e(35053);const r=new RegExp(`(\\\\)?\\$\\((${P.k.iconNameExpression}(?:${P.k.iconModifierExpression})?)\\)`,"g");function y(S){const T=new Array;let E,L=0,p=0;for(;null!==(E=r.exec(S));){p=E.index||0,L<p&&T.push(S.substring(L,p)),L=(E.index||0)+E[0].length;const[,c,u]=E;T.push(c?`$(${u})`:v({id:u}))}return L<S.length&&T.push(S.substring(L)),T}function v(S){const T=f.$("span");return T.classList.add(...P.k.asClassNameArray(S)),T}},33386:(Xe,we,e)=>{e.d(we,{pG:()=>G,g4:()=>ee});var f=e(20274),P=e(49489),r=e(20510),y=e(26775),v=e(41539),S=e(8286),T=e(19491),E=e(58178);class L{constructor(j,$=0,K=j.length,J=$-1){this.items=j,this.start=$,this.end=K,this.index=J}current(){return this.index===this.start-1||this.index===this.end?null:this.items[this.index]}next(){return this.index=Math.min(this.index+1,this.end),this.current()}previous(){return this.index=Math.max(this.index-1,this.start-1),this.current()}first(){return this.index=this.start,this.current()}last(){return this.index=this.end-1,this.current()}}class p{constructor(j=[],$=10){this._initialize(j),this._limit=$,this._onChange()}getHistory(){return this._elements}add(j){this._history.delete(j),this._history.add(j),this._onChange()}next(){return this._navigator.next()}previous(){return 0!==this._currentPosition()?this._navigator.previous():null}current(){return this._navigator.current()}first(){return this._navigator.first()}last(){return this._navigator.last()}isLast(){return this._currentPosition()>=this._elements.length-1}isNowhere(){return null===this._navigator.current()}has(j){return this._history.has(j)}_onChange(){this._reduceToLimit();const j=this._elements;this._navigator=new L(j,0,j.length,j.length)}_reduceToLimit(){const j=this._elements;j.length>this._limit&&this._initialize(j.slice(j.length-this._limit))}_currentPosition(){const j=this._navigator.current();return j?this._elements.indexOf(j):-1}_initialize(j){this._history=new Set;for(const $ of j)this._history.add($)}get _elements(){const j=[];return this._history.forEach($=>j.push($)),j}}var c=e(52209),u=e(93379),g=e.n(u),i=e(7795),d=e.n(i),a=e(90569),m=e.n(a),l=e(3565),I=e.n(l),w=e(19216),D=e.n(w),N=e(44589),A=e.n(N),k=e(41188),R={};R.styleTagTransform=A(),R.setAttributes=I(),R.insert=m().bind(null,"head"),R.domAPI=d(),R.insertStyleElement=D(),g()(k.Z,R);var z=e(37190);const U=f.$,ee={inputBackground:"#3C3C3C",inputForeground:"#CCCCCC",inputValidationInfoBorder:"#55AAFF",inputValidationInfoBackground:"#063B49",inputValidationWarningBorder:"#B89500",inputValidationWarningBackground:"#352A05",inputValidationErrorBorder:"#BE1100",inputValidationErrorBackground:"#5A1D1D",inputBorder:void 0,inputValidationErrorForeground:void 0,inputValidationInfoForeground:void 0,inputValidationWarningForeground:void 0};class B extends T.${constructor(j,$,K){var J;super(),this.state="idle",this.maxHeight=Number.POSITIVE_INFINITY,this._onDidChange=this._register(new E.Q5),this.onDidChange=this._onDidChange.event,this._onDidHeightChange=this._register(new E.Q5),this.onDidHeightChange=this._onDidHeightChange.event,this.contextViewProvider=$,this.options=K,this.message=null,this.placeholder=this.options.placeholder||"",this.tooltip=null!==(J=this.options.tooltip)&&void 0!==J?J:this.placeholder||"",this.ariaLabel=this.options.ariaLabel||"",this.options.validationOptions&&(this.validation=this.options.validationOptions.validation),this.element=f.R3(j,U(".monaco-inputbox.idle"));const te=this.options.flexibleHeight?"textarea":"input",ne=f.R3(this.element,U(".ibwrapper"));if(this.input=f.R3(ne,U(te+".input.empty")),this.input.setAttribute("autocorrect","off"),this.input.setAttribute("autocapitalize","off"),this.input.setAttribute("spellcheck","false"),this.onfocus(this.input,()=>this.element.classList.add("synthetic-focus")),this.onblur(this.input,()=>this.element.classList.remove("synthetic-focus")),this.options.flexibleHeight){this.maxHeight="number"==typeof this.options.flexibleMaxHeight?this.options.flexibleMaxHeight:Number.POSITIVE_INFINITY,this.mirror=f.R3(ne,U("div.mirror")),this.mirror.innerText="\xa0",this.scrollableElement=new S.NB(this.element,{vertical:1}),this.options.flexibleWidth&&(this.input.setAttribute("wrap","off"),this.mirror.style.whiteSpace="pre",this.mirror.style.wordWrap="initial"),f.R3(j,this.scrollableElement.getDomNode()),this._register(this.scrollableElement),this._register(this.scrollableElement.onScroll(ge=>this.input.scrollTop=ge.scrollTop));const _=this._register(new P.Y(document,"selectionchange")),ae=E.ju.filter(_.event,()=>{const ge=document.getSelection();return ge?.anchorNode===ne});this._register(ae(this.updateScrollDimensions,this)),this._register(this.onDidHeightChange(this.updateScrollDimensions,this))}else this.input.type=this.options.type||"text",this.input.setAttribute("wrap","off");this.ariaLabel&&this.input.setAttribute("aria-label",this.ariaLabel),this.placeholder&&!this.options.showPlaceholderOnFocus&&this.setPlaceHolder(this.placeholder),this.tooltip&&this.setTooltip(this.tooltip),this.oninput(this.input,()=>this.onValueChange()),this.onblur(this.input,()=>this.onBlur()),this.onfocus(this.input,()=>this.onFocus()),this._register(this.ignoreGesture(this.input)),setTimeout(()=>this.updateMirror(),0),this.options.actions&&(this.actionbar=this._register(new y.o(this.element)),this.actionbar.push(this.options.actions,{icon:!0,label:!1})),this.applyStyles()}onBlur(){this._hideMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder","")}onFocus(){this._showMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder",this.placeholder||"")}setPlaceHolder(j){this.placeholder=j,this.input.setAttribute("placeholder",j)}setTooltip(j){this.tooltip=j,this.input.title=j}get inputElement(){return this.input}get value(){return this.input.value}set value(j){this.input.value!==j&&(this.input.value=j,this.onValueChange())}get height(){return"number"==typeof this.cachedHeight?this.cachedHeight:f.wn(this.element)}focus(){this.input.focus()}blur(){this.input.blur()}hasFocus(){return document.activeElement===this.input}select(j=null){this.input.select(),j&&(this.input.setSelectionRange(j.start,j.end),j.end===this.input.value.length&&(this.input.scrollLeft=this.input.scrollWidth))}isSelectionAtEnd(){return this.input.selectionEnd===this.input.value.length&&this.input.selectionStart===this.input.selectionEnd}enable(){this.input.removeAttribute("disabled")}disable(){this.blur(),this.input.disabled=!0,this._hideMessage()}set paddingRight(j){this.input.style.width=`calc(100% - ${j}px)`,this.mirror&&(this.mirror.style.paddingRight=j+"px")}updateScrollDimensions(){if("number"!=typeof this.cachedContentHeight||"number"!=typeof this.cachedHeight||!this.scrollableElement)return;const K=this.input.scrollTop;this.scrollableElement.setScrollDimensions({scrollHeight:this.cachedContentHeight,height:this.cachedHeight}),this.scrollableElement.setScrollPosition({scrollTop:K})}showMessage(j,$){if("open"===this.state&&(0,c.fS)(this.message,j))return;this.message=j,this.element.classList.remove("idle"),this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add(this.classForType(j.type));const K=this.stylesForType(this.message.type);this.element.style.border=`1px solid ${f.XT(K.border,"transparent")}`,this.message.content&&(this.hasFocus()||$)&&this._showMessage()}hideMessage(){this.message=null,this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add("idle"),this._hideMessage(),this.applyStyles()}validate(){let j=null;return this.validation&&(j=this.validation(this.value),j?(this.inputElement.setAttribute("aria-invalid","true"),this.showMessage(j)):this.inputElement.hasAttribute("aria-invalid")&&(this.inputElement.removeAttribute("aria-invalid"),this.hideMessage())),j?.type}stylesForType(j){const $=this.options.inputBoxStyles;switch(j){case 1:return{border:$.inputValidationInfoBorder,background:$.inputValidationInfoBackground,foreground:$.inputValidationInfoForeground};case 2:return{border:$.inputValidationWarningBorder,background:$.inputValidationWarningBackground,foreground:$.inputValidationWarningForeground};default:return{border:$.inputValidationErrorBorder,background:$.inputValidationErrorBackground,foreground:$.inputValidationErrorForeground}}}classForType(j){switch(j){case 1:return"info";case 2:return"warning";default:return"error"}}_showMessage(){if(!this.contextViewProvider||!this.message)return;let j;const $=()=>j.style.width=f.w(this.element)+"px";let K;this.contextViewProvider.showContextView({getAnchor:()=>this.element,anchorAlignment:1,render:J=>{var te,ne;if(!this.message)return null;j=f.R3(J,U(".monaco-inputbox-container")),$();const _={inline:!0,className:"monaco-inputbox-message"},ae=this.message.formatContent?(0,r.BO)(this.message.content,_):(0,r.IY)(this.message.content,_);ae.classList.add(this.classForType(this.message.type));const ge=this.stylesForType(this.message.type);return ae.style.backgroundColor=null!==(te=ge.background)&&void 0!==te?te:"",ae.style.color=null!==(ne=ge.foreground)&&void 0!==ne?ne:"",ae.style.border=ge.border?`1px solid ${ge.border}`:"",f.R3(j,ae),null},onHide:()=>{this.state="closed"},layout:$}),K=3===this.message.type?z.NC("alertErrorMessage","Error: {0}",this.message.content):2===this.message.type?z.NC("alertWarningMessage","Warning: {0}",this.message.content):z.NC("alertInfoMessage","Info: {0}",this.message.content),v.Z9(K),this.state="open"}_hideMessage(){this.contextViewProvider&&("open"===this.state&&this.contextViewProvider.hideContextView(),this.state="idle")}onValueChange(){this._onDidChange.fire(this.value),this.validate(),this.updateMirror(),this.input.classList.toggle("empty",!this.value),"open"===this.state&&this.contextViewProvider&&this.contextViewProvider.layout()}updateMirror(){if(!this.mirror)return;const j=this.value,K=10===j.charCodeAt(j.length-1)?" ":"";(j+K).replace(/\u000c/g,"")?this.mirror.textContent=j+K:this.mirror.innerText="\xa0",this.layout()}applyStyles(){var j,$,K;const J=this.options.inputBoxStyles,te=null!==(j=J.inputBackground)&&void 0!==j?j:"",ne=null!==($=J.inputForeground)&&void 0!==$?$:"",_=null!==(K=J.inputBorder)&&void 0!==K?K:"";this.element.style.backgroundColor=te,this.element.style.color=ne,this.input.style.backgroundColor="inherit",this.input.style.color=ne,this.element.style.border=`1px solid ${f.XT(_,"transparent")}`}layout(){if(!this.mirror)return;const j=this.cachedContentHeight;this.cachedContentHeight=f.wn(this.mirror),j!==this.cachedContentHeight&&(this.cachedHeight=Math.min(this.cachedContentHeight,this.maxHeight),this.input.style.height=this.cachedHeight+"px",this._onDidHeightChange.fire(this.cachedContentHeight))}insertAtCursor(j){const $=this.inputElement,K=$.selectionStart,J=$.selectionEnd,te=$.value;null!==K&&null!==J&&(this.value=te.substr(0,K)+j+te.substr(J),$.setSelectionRange(K+1,K+1),this.layout())}dispose(){var j;this._hideMessage(),this.message=null,null===(j=this.actionbar)||void 0===j||j.dispose(),super.dispose()}}class G extends B{constructor(j,$,K){const J=z.NC({key:"history.inputbox.hint",comment:["Text will be prefixed with \u21c5 plus a single space, then used as a hint where input field keeps history"]},"for history"),te=` or \u21c5 ${J}`,ne=` (\u21c5 ${J})`;super(j,$,K),this._onDidFocus=this._register(new E.Q5),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new E.Q5),this.onDidBlur=this._onDidBlur.event,this.history=new p(K.history,100);const _=()=>{if(K.showHistoryHint&&K.showHistoryHint()&&!this.placeholder.endsWith(te)&&!this.placeholder.endsWith(ne)&&this.history.getHistory().length){const ae=this.placeholder.endsWith(")")?te:ne,ge=this.placeholder+ae;K.showPlaceholderOnFocus&&document.activeElement!==this.input?this.placeholder=ge:this.setPlaceHolder(ge)}};this.observer=new MutationObserver((ae,ge)=>{ae.forEach(_e=>{_e.target.textContent||_()})}),this.observer.observe(this.input,{attributeFilter:["class"]}),this.onfocus(this.input,()=>_()),this.onblur(this.input,()=>{const ae=ge=>{if(this.placeholder.endsWith(ge)){const _e=this.placeholder.slice(0,this.placeholder.length-ge.length);return K.showPlaceholderOnFocus?this.placeholder=_e:this.setPlaceHolder(_e),!0}return!1};ae(ne)||ae(te)})}dispose(){super.dispose(),this.observer&&(this.observer.disconnect(),this.observer=void 0)}addToHistory(j){this.value&&(j||this.value!==this.getCurrentValue())&&this.history.add(this.value)}isAtLastInHistory(){return this.history.isLast()}isNowhereInHistory(){return this.history.isNowhere()}showNextValue(){this.history.has(this.value)||this.addToHistory();let j=this.getNextValue();j&&(j=j===this.value?this.getNextValue():j),this.value=j??"",v.i7(this.value?this.value:z.NC("clearedInput","Cleared Input"))}showPreviousValue(){this.history.has(this.value)||this.addToHistory();let j=this.getPreviousValue();j&&(j=j===this.value?this.getPreviousValue():j),j&&(this.value=j,v.i7(this.value))}onBlur(){super.onBlur(),this._onDidBlur.fire()}onFocus(){super.onFocus(),this._onDidFocus.fire()}getCurrentValue(){let j=this.history.current();return j||(j=this.history.last(),this.history.next()),j}getPreviousValue(){return this.history.previous()||this.history.first()}getNextValue(){return this.history.next()}}},4625:(Xe,we,e)=>{e.d(we,{e:()=>A,F:()=>N});var f=e(20274),P=e(9467),r=e(52209),y=e(93379),v=e.n(y),S=e(7795),T=e.n(S),E=e(90569),L=e.n(E),p=e(3565),c=e.n(p),u=e(19216),g=e.n(u),i=e(44589),d=e.n(i),a=e(72298),m={};m.styleTagTransform=d(),m.setAttributes=c(),m.insert=L().bind(null,"head"),m.domAPI=T(),m.insertStyleElement=g(),v()(a.Z,m);var w=e(37190);const D=f.$,N={keybindingLabelBackground:void 0,keybindingLabelForeground:void 0,keybindingLabelBorder:void 0,keybindingLabelBottomBorder:void 0,keybindingLabelShadow:void 0};class A{constructor(R,O,W){this.os=O,this.keyElements=new Set,this.options=W||Object.create(null);const z=this.options.keybindingLabelForeground;this.domNode=f.R3(R,D(".monaco-keybinding")),z&&(this.domNode.style.color=z),this.didEverRender=!1,R.appendChild(this.domNode)}get element(){return this.domNode}set(R,O){this.didEverRender&&this.keybinding===R&&A.areSame(this.matches,O)||(this.keybinding=R,this.matches=O,this.render())}render(){var R;if(this.clear(),this.keybinding){const O=this.keybinding.getChords();O[0]&&this.renderChord(this.domNode,O[0],this.matches?this.matches.firstPart:null);for(let z=1;z<O.length;z++)f.R3(this.domNode,D("span.monaco-keybinding-key-chord-separator",void 0," ")),this.renderChord(this.domNode,O[z],this.matches?this.matches.chordPart:null);const W=null!==(R=this.options.disableTitle)&&void 0!==R&&R?void 0:this.keybinding.getAriaLabel()||void 0;void 0!==W?this.domNode.title=W:this.domNode.removeAttribute("title")}else this.options&&this.options.renderUnboundKeybindings&&this.renderUnbound(this.domNode);this.didEverRender=!0}clear(){f.PO(this.domNode),this.keyElements.clear()}renderChord(R,O,W){const z=P.xo.modifierLabels[this.os];O.ctrlKey&&this.renderKey(R,z.ctrlKey,!!W?.ctrlKey,z.separator),O.shiftKey&&this.renderKey(R,z.shiftKey,!!W?.shiftKey,z.separator),O.altKey&&this.renderKey(R,z.altKey,!!W?.altKey,z.separator),O.metaKey&&this.renderKey(R,z.metaKey,!!W?.metaKey,z.separator);const U=O.keyLabel;U&&this.renderKey(R,U,!!W?.keyCode,"")}renderKey(R,O,W,z){f.R3(R,this.createKeyElement(O,W?".highlight":"")),z&&f.R3(R,D("span.monaco-keybinding-key-separator",void 0,z))}renderUnbound(R){f.R3(R,this.createKeyElement((0,w.NC)("unbound","Unbound")))}createKeyElement(R,O=""){const W=D("span.monaco-keybinding-key"+O,void 0,R);return this.keyElements.add(W),this.options.keybindingLabelBackground&&(W.style.backgroundColor=this.options.keybindingLabelBackground),this.options.keybindingLabelBorder&&(W.style.borderColor=this.options.keybindingLabelBorder),this.options.keybindingLabelBottomBorder&&(W.style.borderBottomColor=this.options.keybindingLabelBottomBorder),this.options.keybindingLabelShadow&&(W.style.boxShadow=`inset 0 -1px 0 ${this.options.keybindingLabelShadow}`),W}static areSame(R,O){return R===O||!R&&!O||!!R&&!!O&&(0,r.fS)(R.firstPart,O.firstPart)&&(0,r.fS)(R.chordPart,O.chordPart)}}},65675:(Xe,we,e)=>{e.d(we,{kX:()=>k,Bv:()=>U});var f=e(24872),P=e(20274),r=e(49489),y=e(54796),v=e(8286),S=e(31738),T=e(85328),E=e(20354),L=e(58178),p=e(78694),c=e(23137),u=e(15962);function g(ee,B){const G=[];for(const se of B){if(ee.start>=se.range.end)continue;if(ee.end<se.range.start)break;const j=c.e.intersect(ee,se.range);c.e.isEmpty(j)||G.push({range:j,size:se.size})}return G}function i({start:ee,end:B},G){return{start:ee+G,end:B+G}}class m{get paddingTop(){return this._paddingTop}set paddingTop(B){this._size=this._size+B-this._paddingTop,this._paddingTop=B}constructor(B){this.groups=[],this._size=0,this._paddingTop=0,this._paddingTop=B??0,this._size=this._paddingTop}splice(B,G,se=[]){const j=se.length-G,$=g({start:0,end:B},this.groups),K=g({start:B+G,end:Number.POSITIVE_INFINITY},this.groups).map(te=>({range:i(te.range,j),size:te.size})),J=se.map((te,ne)=>({range:{start:B+ne,end:B+ne+1},size:te.size}));this.groups=function a(...ee){return function d(ee){const B=[];let G=null;for(const se of ee){const j=se.range.start,$=se.range.end,K=se.size;G&&K===G.size?G.range.end=$:(G={range:{start:j,end:$},size:K},B.push(G))}return B}(ee.reduce((B,G)=>B.concat(G),[]))}($,J,K),this._size=this._paddingTop+this.groups.reduce((te,ne)=>te+ne.size*(ne.range.end-ne.range.start),0)}get count(){const B=this.groups.length;return B?this.groups[B-1].range.end:0}get size(){return this._size}indexAt(B){if(B<0)return-1;if(B<this._paddingTop)return 0;let G=0,se=this._paddingTop;for(const j of this.groups){const $=j.range.end-j.range.start,K=se+$*j.size;if(B<K)return G+Math.floor((B-se)/j.size);G+=$,se=K}return G}indexAfter(B){return Math.min(this.indexAt(B)+1,this.count)}positionAt(B){if(B<0)return-1;let G=0,se=0;for(const j of this.groups){const $=j.range.end-j.range.start,K=se+$;if(B<K)return this._paddingTop+G+(B-se)*j.size;G+=$*j.size,se=K}return-1}}class I{constructor(B){this.renderers=B,this.cache=new Map,this.transactionNodesPendingRemoval=new Set,this.inTransaction=!1}alloc(B){let G=this.getTemplateCache(B).pop(),se=!1;if(G)se=this.transactionNodesPendingRemoval.has(G.domNode),se&&this.transactionNodesPendingRemoval.delete(G.domNode);else{const j=(0,P.$)(".monaco-list-row");G={domNode:j,templateId:B,templateData:this.getRenderer(B).renderTemplate(j)}}return{row:G,isReusingConnectedDomNode:se}}release(B){B&&this.releaseRow(B)}transact(B){if(this.inTransaction)throw new Error("Already in transaction");this.inTransaction=!0;try{B()}finally{for(const G of this.transactionNodesPendingRemoval)this.doRemoveNode(G);this.transactionNodesPendingRemoval.clear(),this.inTransaction=!1}}releaseRow(B){const{domNode:G,templateId:se}=B;G&&(this.inTransaction?this.transactionNodesPendingRemoval.add(G):this.doRemoveNode(G)),this.getTemplateCache(se).push(B)}doRemoveNode(B){B.classList.remove("scrolling"),function l(ee){var B;try{null===(B=ee.parentElement)||void 0===B||B.removeChild(ee)}catch{}}(B)}getTemplateCache(B){let G=this.cache.get(B);return G||(G=[],this.cache.set(B,G)),G}dispose(){this.cache.forEach((B,G)=>{for(const se of B)this.getRenderer(G).disposeTemplate(se.templateData),se.templateData=null}),this.cache.clear(),this.transactionNodesPendingRemoval.clear()}getRenderer(B){const G=this.renderers.get(B);if(!G)throw new Error(`No renderer found for ${B}`);return G}}var w=e(17967),D=function(ee,B,G,se){var K,j=arguments.length,$=j<3?B:null===se?se=Object.getOwnPropertyDescriptor(B,G):se;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)$=Reflect.decorate(ee,B,G,se);else for(var J=ee.length-1;J>=0;J--)(K=ee[J])&&($=(j<3?K($):j>3?K(B,G,$):K(B,G))||$);return j>3&&$&&Object.defineProperty(B,G,$),$};const N={CurrentDragAndDropData:void 0},A={useShadows:!0,verticalScrollMode:1,setRowLineHeight:!0,setRowHeight:!0,supportDynamicHeights:!1,dnd:{getDragElements:ee=>[ee],getDragURI:()=>null,onDragStart(){},onDragOver:()=>!1,drop(){}},horizontalScrolling:!1,transformOptimization:!0,alwaysConsumeMouseWheel:!0};class k{constructor(B){this.elements=B}update(){}getData(){return this.elements}}class R{constructor(B){this.elements=B}update(){}getData(){return this.elements}}class O{constructor(){this.types=[],this.files=[]}update(B){if(B.types&&this.types.splice(0,this.types.length,...B.types),B.files){this.files.splice(0,this.files.length);for(let G=0;G<B.files.length;G++){const se=B.files.item(G);se&&(se.size||se.type)&&this.files.push(se)}}}getData(){return{types:this.types,files:this.files}}}class z{constructor(B){this.getSetSize=B?.getSetSize?B.getSetSize.bind(B):(G,se,j)=>j,this.getPosInSet=B?.getPosInSet?B.getPosInSet.bind(B):(G,se)=>se+1,this.getRole=B?.getRole?B.getRole.bind(B):G=>"listitem",this.isChecked=B?.isChecked?B.isChecked.bind(B):G=>{}}}class U{get contentHeight(){return this.rangeMap.size}get onDidScroll(){return this.scrollableElement.onScroll}get horizontalScrolling(){return this._horizontalScrolling}set horizontalScrolling(B){if(B!==this._horizontalScrolling){if(B&&this.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");if(this._horizontalScrolling=B,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this._horizontalScrolling){for(const G of this.items)this.measureItemWidth(G);this.updateScrollWidth(),this.scrollableElement.setScrollDimensions({width:(0,P.FK)(this.domNode)}),this.rowsContainer.style.width=`${Math.max(this.scrollWidth||0,this.renderWidth)}px`}else this.scrollableElementWidthDelayer.cancel(),this.scrollableElement.setScrollDimensions({width:this.renderWidth,scrollWidth:this.renderWidth}),this.rowsContainer.style.width=""}}constructor(B,G,se,j=A){var $,K,J,te,ne,_,ae,ge,_e,ue,ve,Ie,Se;if(this.virtualDelegate=G,this.domId="list_id_"+ ++U.InstanceCount,this.renderers=new Map,this.renderWidth=0,this._scrollHeight=0,this.scrollableElementUpdateDisposable=null,this.scrollableElementWidthDelayer=new T.vp(50),this.splicing=!1,this.dragOverAnimationStopDisposable=p.JT.None,this.dragOverMouseY=0,this.canDrop=!1,this.currentDragFeedbackDisposable=p.JT.None,this.onDragLeaveTimeout=p.JT.None,this.disposables=new p.SL,this._onDidChangeContentHeight=new L.Q5,this._onDidChangeContentWidth=new L.Q5,this._horizontalScrolling=!1,j.horizontalScrolling&&j.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");this.items=[],this.itemId=0,this.rangeMap=new m(null!==($=j.paddingTop)&&void 0!==$?$:0);for(const De of se)this.renderers.set(De.templateId,De);this.cache=this.disposables.add(new I(this.renderers)),this.lastRenderTop=0,this.lastRenderHeight=0,this.domNode=document.createElement("div"),this.domNode.className="monaco-list",this.domNode.classList.add(this.domId),this.domNode.tabIndex=0,this.domNode.classList.toggle("mouse-support","boolean"!=typeof j.mouseSupport||j.mouseSupport),this._horizontalScrolling=null!==(K=j.horizontalScrolling)&&void 0!==K?K:A.horizontalScrolling,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this.paddingBottom=typeof j.paddingBottom>"u"?0:j.paddingBottom,this.accessibilityProvider=new z(j.accessibilityProvider),this.rowsContainer=document.createElement("div"),this.rowsContainer.className="monaco-list-rows",(null!==(J=j.transformOptimization)&&void 0!==J?J:A.transformOptimization)&&(this.rowsContainer.style.transform="translate3d(0px, 0px, 0px)",this.rowsContainer.style.overflow="hidden",this.rowsContainer.style.contain="strict"),this.disposables.add(y.o.addTarget(this.rowsContainer)),this.scrollable=new u.Rm({forceIntegerValues:!0,smoothScrollDuration:null!==(te=j.smoothScrolling)&&void 0!==te&&te?125:0,scheduleAtNextAnimationFrame:De=>(0,P.jL)(De)}),this.scrollableElement=this.disposables.add(new v.$Z(this.rowsContainer,{alwaysConsumeMouseWheel:null!==(ne=j.alwaysConsumeMouseWheel)&&void 0!==ne?ne:A.alwaysConsumeMouseWheel,horizontal:1,vertical:null!==(_=j.verticalScrollMode)&&void 0!==_?_:A.verticalScrollMode,useShadows:null!==(ae=j.useShadows)&&void 0!==ae?ae:A.useShadows,mouseWheelScrollSensitivity:j.mouseWheelScrollSensitivity,fastScrollSensitivity:j.fastScrollSensitivity,scrollByPage:j.scrollByPage},this.scrollable)),this.domNode.appendChild(this.scrollableElement.getDomNode()),B.appendChild(this.domNode),this.scrollableElement.onScroll(this.onScroll,this,this.disposables),this.disposables.add((0,P.nm)(this.rowsContainer,y.t.Change,De=>this.onTouchChange(De))),this.disposables.add((0,P.nm)(this.scrollableElement.getDomNode(),"scroll",De=>De.target.scrollTop=0)),this.disposables.add((0,P.nm)(this.domNode,"dragover",De=>this.onDragOver(this.toDragEvent(De)))),this.disposables.add((0,P.nm)(this.domNode,"drop",De=>this.onDrop(this.toDragEvent(De)))),this.disposables.add((0,P.nm)(this.domNode,"dragleave",De=>this.onDragLeave(this.toDragEvent(De)))),this.disposables.add((0,P.nm)(this.domNode,"dragend",De=>this.onDragEnd(De))),this.setRowLineHeight=null!==(ge=j.setRowLineHeight)&&void 0!==ge?ge:A.setRowLineHeight,this.setRowHeight=null!==(_e=j.setRowHeight)&&void 0!==_e?_e:A.setRowHeight,this.supportDynamicHeights=null!==(ue=j.supportDynamicHeights)&&void 0!==ue?ue:A.supportDynamicHeights,this.dnd=null!==(ve=j.dnd)&&void 0!==ve?ve:A.dnd,this.layout(null===(Ie=j.initialSize)||void 0===Ie?void 0:Ie.height,null===(Se=j.initialSize)||void 0===Se?void 0:Se.width)}updateOptions(B){let G;if(void 0!==B.paddingBottom&&(this.paddingBottom=B.paddingBottom,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),void 0!==B.smoothScrolling&&this.scrollable.setSmoothScrollDuration(B.smoothScrolling?125:0),void 0!==B.horizontalScrolling&&(this.horizontalScrolling=B.horizontalScrolling),void 0!==B.scrollByPage&&(G=Object.assign(Object.assign({},G??{}),{scrollByPage:B.scrollByPage})),void 0!==B.mouseWheelScrollSensitivity&&(G=Object.assign(Object.assign({},G??{}),{mouseWheelScrollSensitivity:B.mouseWheelScrollSensitivity})),void 0!==B.fastScrollSensitivity&&(G=Object.assign(Object.assign({},G??{}),{fastScrollSensitivity:B.fastScrollSensitivity})),G&&this.scrollableElement.updateOptions(G),void 0!==B.paddingTop&&B.paddingTop!==this.rangeMap.paddingTop){const se=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),j=B.paddingTop-this.rangeMap.paddingTop;this.rangeMap.paddingTop=B.paddingTop,this.render(se,Math.max(0,this.lastRenderTop+j),this.lastRenderHeight,void 0,void 0,!0),this.setScrollTop(this.lastRenderTop),this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.lastRenderTop,this.lastRenderHeight)}}splice(B,G,se=[]){if(this.splicing)throw new Error("Can't run recursive splices.");this.splicing=!0;try{return this._splice(B,G,se)}finally{this.splicing=!1,this._onDidChangeContentHeight.fire(this.contentHeight)}}_splice(B,G,se=[]){const j=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),K=c.e.intersect(j,{start:B,end:B+G}),J=new Map;for(let Y=K.end-1;Y>=K.start;Y--){const x=this.items[Y];if(x.dragStartDisposable.dispose(),x.checkedDisposable.dispose(),x.row){let F=J.get(x.templateId);F||(F=[],J.set(x.templateId,F));const ie=this.renderers.get(x.templateId);ie&&ie.disposeElement&&ie.disposeElement(x.element,Y,x.row.templateData,x.size),F.push(x.row)}x.row=null}const te={start:B+G,end:this.items.length},ne=c.e.intersect(te,j),_=c.e.relativeComplement(te,j),ae=se.map(Y=>({id:String(this.itemId++),element:Y,templateId:this.virtualDelegate.getTemplateId(Y),size:this.virtualDelegate.getHeight(Y),width:void 0,hasDynamicHeight:!!this.virtualDelegate.hasDynamicHeight&&this.virtualDelegate.hasDynamicHeight(Y),lastDynamicHeightWidth:void 0,row:null,uri:void 0,dropTarget:!1,dragStartDisposable:p.JT.None,checkedDisposable:p.JT.None}));let ge;0===B&&G>=this.items.length?(this.rangeMap=new m(this.rangeMap.paddingTop),this.rangeMap.splice(0,0,ae),ge=this.items,this.items=ae):(this.rangeMap.splice(B,G,ae),ge=this.items.splice(B,G,...ae));const _e=se.length-G,ue=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),ve=i(ne,_e),Ie=c.e.intersect(ue,ve);for(let Y=Ie.start;Y<Ie.end;Y++)this.updateItemInDOM(this.items[Y],Y);const Se=c.e.relativeComplement(ve,ue);for(const Y of Se)for(let x=Y.start;x<Y.end;x++)this.removeItemFromDOM(x);const Ve=_.map(Y=>i(Y,_e)),ye=[{start:B,end:B+se.length},...Ve].map(Y=>c.e.intersect(ue,Y)),oe=this.getNextToLastElement(ye);for(const Y of ye)for(let x=Y.start;x<Y.end;x++){const ie=J.get(this.items[x].templateId),Ce=ie?.pop();this.insertItemInDOM(x,oe,Ce)}for(const Y of J.values())for(const x of Y)this.cache.release(x);return this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight),ge.map(Y=>Y.element)}eventuallyUpdateScrollDimensions(){this._scrollHeight=this.contentHeight,this.rowsContainer.style.height=`${this._scrollHeight}px`,this.scrollableElementUpdateDisposable||(this.scrollableElementUpdateDisposable=(0,P.jL)(()=>{this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight}),this.updateScrollWidth(),this.scrollableElementUpdateDisposable=null}))}eventuallyUpdateScrollWidth(){this.horizontalScrolling?this.scrollableElementWidthDelayer.trigger(()=>this.updateScrollWidth()):this.scrollableElementWidthDelayer.cancel()}updateScrollWidth(){if(!this.horizontalScrolling)return;let B=0;for(const G of this.items)typeof G.width<"u"&&(B=Math.max(B,G.width));this.scrollWidth=B,this.scrollableElement.setScrollDimensions({scrollWidth:0===B?0:B+10}),this._onDidChangeContentWidth.fire(this.scrollWidth)}rerender(){if(this.supportDynamicHeights){for(const B of this.items)B.lastDynamicHeightWidth=void 0;this._rerender(this.lastRenderTop,this.lastRenderHeight)}}get length(){return this.items.length}get renderHeight(){return this.scrollableElement.getScrollDimensions().height}get firstVisibleIndex(){const B=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),G=this.rangeMap.positionAt(B.start),se=this.rangeMap.positionAt(B.start+1);return-1!==se&&(se-G)/2+G<this.scrollTop?B.start+1:B.start}element(B){return this.items[B].element}domElement(B){const G=this.items[B].row;return G&&G.domNode}elementHeight(B){return this.items[B].size}elementTop(B){return this.rangeMap.positionAt(B)}indexAt(B){return this.rangeMap.indexAt(B)}indexAfter(B){return this.rangeMap.indexAfter(B)}layout(B,G){const se={height:"number"==typeof B?B:(0,P.If)(this.domNode)};this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,se.scrollHeight=this.scrollHeight),this.scrollableElement.setScrollDimensions(se),typeof G<"u"&&(this.renderWidth=G,this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight)),this.horizontalScrolling&&this.scrollableElement.setScrollDimensions({width:"number"==typeof G?G:(0,P.FK)(this.domNode)})}render(B,G,se,j,$,K=!1){const J=this.getRenderRange(G,se),te=c.e.relativeComplement(J,B),ne=c.e.relativeComplement(B,J),_=this.getNextToLastElement(te);if(K){const ae=c.e.intersect(B,J);for(let ge=ae.start;ge<ae.end;ge++)this.updateItemInDOM(this.items[ge],ge)}this.cache.transact(()=>{for(const ae of ne)for(let ge=ae.start;ge<ae.end;ge++)this.removeItemFromDOM(ge);for(const ae of te)for(let ge=ae.start;ge<ae.end;ge++)this.insertItemInDOM(ge,_)}),void 0!==j&&(this.rowsContainer.style.left=`-${j}px`),this.rowsContainer.style.top=`-${G}px`,this.horizontalScrolling&&void 0!==$&&(this.rowsContainer.style.width=`${Math.max($,this.renderWidth)}px`),this.lastRenderTop=G,this.lastRenderHeight=se}insertItemInDOM(B,G,se){const j=this.items[B];let $=!1;if(!j.row)if(se)j.row=se;else{const _=this.cache.alloc(j.templateId);j.row=_.row,$=_.isReusingConnectedDomNode}const K=this.accessibilityProvider.getRole(j.element)||"listitem";j.row.domNode.setAttribute("role",K);const J=this.accessibilityProvider.isChecked(j.element);if("boolean"==typeof J)j.row.domNode.setAttribute("aria-checked",String(!!J));else if(J){const _=ae=>j.row.domNode.setAttribute("aria-checked",String(!!ae));_(J.value),j.checkedDisposable=J.onDidChange(_)}($||!j.row.domNode.parentElement)&&(G?this.rowsContainer.insertBefore(j.row.domNode,G):this.rowsContainer.appendChild(j.row.domNode)),this.updateItemInDOM(j,B);const te=this.renderers.get(j.templateId);if(!te)throw new Error(`No renderer found for template id ${j.templateId}`);te?.renderElement(j.element,B,j.row.templateData,j.size);const ne=this.dnd.getDragURI(j.element);j.dragStartDisposable.dispose(),j.row.domNode.draggable=!!ne,ne&&(j.dragStartDisposable=(0,P.nm)(j.row.domNode,"dragstart",_=>this.onDragStart(j.element,ne,_))),this.horizontalScrolling&&(this.measureItemWidth(j),this.eventuallyUpdateScrollWidth())}measureItemWidth(B){if(!B.row||!B.row.domNode)return;B.row.domNode.style.width="fit-content",B.width=(0,P.FK)(B.row.domNode);const G=window.getComputedStyle(B.row.domNode);G.paddingLeft&&(B.width+=parseFloat(G.paddingLeft)),G.paddingRight&&(B.width+=parseFloat(G.paddingRight)),B.row.domNode.style.width=""}updateItemInDOM(B,G){B.row.domNode.style.top=`${this.elementTop(G)}px`,this.setRowHeight&&(B.row.domNode.style.height=`${B.size}px`),this.setRowLineHeight&&(B.row.domNode.style.lineHeight=`${B.size}px`),B.row.domNode.setAttribute("data-index",`${G}`),B.row.domNode.setAttribute("data-last-element",G===this.length-1?"true":"false"),B.row.domNode.setAttribute("data-parity",G%2==0?"even":"odd"),B.row.domNode.setAttribute("aria-setsize",String(this.accessibilityProvider.getSetSize(B.element,G,this.length))),B.row.domNode.setAttribute("aria-posinset",String(this.accessibilityProvider.getPosInSet(B.element,G))),B.row.domNode.setAttribute("id",this.getElementDomId(G)),B.row.domNode.classList.toggle("drop-target",B.dropTarget)}removeItemFromDOM(B){const G=this.items[B];if(G.dragStartDisposable.dispose(),G.checkedDisposable.dispose(),G.row){const se=this.renderers.get(G.templateId);se&&se.disposeElement&&se.disposeElement(G.element,B,G.row.templateData,G.size),this.cache.release(G.row),G.row=null}this.horizontalScrolling&&this.eventuallyUpdateScrollWidth()}getScrollTop(){return this.scrollableElement.getScrollPosition().scrollTop}setScrollTop(B,G){this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),this.scrollableElement.setScrollPosition({scrollTop:B,reuseAnimation:G})}get scrollTop(){return this.getScrollTop()}set scrollTop(B){this.setScrollTop(B)}get scrollHeight(){return this._scrollHeight+(this.horizontalScrolling?10:0)+this.paddingBottom}get onMouseClick(){return L.ju.map(this.disposables.add(new r.Y(this.domNode,"click")).event,B=>this.toMouseEvent(B),this.disposables)}get onMouseDblClick(){return L.ju.map(this.disposables.add(new r.Y(this.domNode,"dblclick")).event,B=>this.toMouseEvent(B),this.disposables)}get onMouseMiddleClick(){return L.ju.filter(L.ju.map(this.disposables.add(new r.Y(this.domNode,"auxclick")).event,B=>this.toMouseEvent(B),this.disposables),B=>1===B.browserEvent.button,this.disposables)}get onMouseDown(){return L.ju.map(this.disposables.add(new r.Y(this.domNode,"mousedown")).event,B=>this.toMouseEvent(B),this.disposables)}get onMouseOver(){return L.ju.map(this.disposables.add(new r.Y(this.domNode,"mouseover")).event,B=>this.toMouseEvent(B),this.disposables)}get onMouseOut(){return L.ju.map(this.disposables.add(new r.Y(this.domNode,"mouseout")).event,B=>this.toMouseEvent(B),this.disposables)}get onContextMenu(){return L.ju.any(L.ju.map(this.disposables.add(new r.Y(this.domNode,"contextmenu")).event,B=>this.toMouseEvent(B),this.disposables),L.ju.map(this.disposables.add(new r.Y(this.domNode,y.t.Contextmenu)).event,B=>this.toGestureEvent(B),this.disposables))}get onTouchStart(){return L.ju.map(this.disposables.add(new r.Y(this.domNode,"touchstart")).event,B=>this.toTouchEvent(B),this.disposables)}get onTap(){return L.ju.map(this.disposables.add(new r.Y(this.rowsContainer,y.t.Tap)).event,B=>this.toGestureEvent(B),this.disposables)}toMouseEvent(B){const G=this.getItemIndexFromEventTarget(B.target||null),se=typeof G>"u"?void 0:this.items[G];return{browserEvent:B,index:G,element:se&&se.element}}toTouchEvent(B){const G=this.getItemIndexFromEventTarget(B.target||null),se=typeof G>"u"?void 0:this.items[G];return{browserEvent:B,index:G,element:se&&se.element}}toGestureEvent(B){const G=this.getItemIndexFromEventTarget(B.initialTarget||null),se=typeof G>"u"?void 0:this.items[G];return{browserEvent:B,index:G,element:se&&se.element}}toDragEvent(B){const G=this.getItemIndexFromEventTarget(B.target||null),se=typeof G>"u"?void 0:this.items[G];return{browserEvent:B,index:G,element:se&&se.element}}onScroll(B){try{const G=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight);this.render(G,B.scrollTop,B.height,B.scrollLeft,B.scrollWidth),this.supportDynamicHeights&&this._rerender(B.scrollTop,B.height,B.inSmoothScrolling)}catch(G){throw console.error("Got bad scroll event:",B),G}}onTouchChange(B){B.preventDefault(),B.stopPropagation(),this.scrollTop-=B.translationY}onDragStart(B,G,se){var j,$;if(!se.dataTransfer)return;const K=this.dnd.getDragElements(B);if(se.dataTransfer.effectAllowed="copyMove",se.dataTransfer.setData(f.g.TEXT,G),se.dataTransfer.setDragImage){let J;this.dnd.getDragLabel&&(J=this.dnd.getDragLabel(K,se)),typeof J>"u"&&(J=String(K.length));const te=(0,P.$)(".monaco-drag-image");te.textContent=J;const _=(ae=>{for(;ae&&!ae.classList.contains("monaco-workbench");)ae=ae.parentElement;return ae||document.body})(this.domNode);_.appendChild(te),se.dataTransfer.setDragImage(te,-10,-10),setTimeout(()=>_.removeChild(te),0)}this.domNode.classList.add("dragging"),this.currentDragData=new k(K),N.CurrentDragAndDropData=new R(K),null===($=(j=this.dnd).onDragStart)||void 0===$||$.call(j,this.currentDragData,se)}onDragOver(B){var G;if(B.browserEvent.preventDefault(),this.onDragLeaveTimeout.dispose(),N.CurrentDragAndDropData&&"vscode-ui"===N.CurrentDragAndDropData.getData()||(this.setupDragAndDropScrollTopAnimation(B.browserEvent),!B.browserEvent.dataTransfer))return!1;if(!this.currentDragData)if(N.CurrentDragAndDropData)this.currentDragData=N.CurrentDragAndDropData;else{if(!B.browserEvent.dataTransfer.types)return!1;this.currentDragData=new O}const se=this.dnd.onDragOver(this.currentDragData,B.element,B.index,B.browserEvent);if(this.canDrop="boolean"==typeof se?se:se.accept,!this.canDrop)return this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),!1;let j;if(B.browserEvent.dataTransfer.dropEffect="boolean"!=typeof se&&0===se.effect?"copy":"move",j="boolean"!=typeof se&&se.feedback?se.feedback:typeof B.index>"u"?[-1]:[B.index],j=(0,S.EB)(j).filter($=>$>=-1&&$<this.length).sort(($,K)=>$-K),j=-1===j[0]?[-1]:j,function W(ee,B){return Array.isArray(ee)&&Array.isArray(B)?(0,S.fS)(ee,B):ee===B}(this.currentDragFeedback,j))return!0;if(this.currentDragFeedback=j,this.currentDragFeedbackDisposable.dispose(),-1===j[0])this.domNode.classList.add("drop-target"),this.rowsContainer.classList.add("drop-target"),this.currentDragFeedbackDisposable=(0,p.OF)(()=>{this.domNode.classList.remove("drop-target"),this.rowsContainer.classList.remove("drop-target")});else{for(const $ of j){const K=this.items[$];K.dropTarget=!0,null===(G=K.row)||void 0===G||G.domNode.classList.add("drop-target")}this.currentDragFeedbackDisposable=(0,p.OF)(()=>{var $;for(const K of j){const J=this.items[K];J.dropTarget=!1,null===($=J.row)||void 0===$||$.domNode.classList.remove("drop-target")}})}return!0}onDragLeave(B){var G,se;this.onDragLeaveTimeout.dispose(),this.onDragLeaveTimeout=(0,T.Vg)(()=>this.clearDragOverFeedback(),100),this.currentDragData&&(null===(se=(G=this.dnd).onDragLeave)||void 0===se||se.call(G,this.currentDragData,B.element,B.index,B.browserEvent))}onDrop(B){if(!this.canDrop)return;const G=this.currentDragData;this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.domNode.classList.remove("dragging"),this.currentDragData=void 0,N.CurrentDragAndDropData=void 0,G&&B.browserEvent.dataTransfer&&(B.browserEvent.preventDefault(),G.update(B.browserEvent.dataTransfer),this.dnd.drop(G,B.element,B.index,B.browserEvent))}onDragEnd(B){var G,se;this.canDrop=!1,this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.domNode.classList.remove("dragging"),this.currentDragData=void 0,N.CurrentDragAndDropData=void 0,null===(se=(G=this.dnd).onDragEnd)||void 0===se||se.call(G,B)}clearDragOverFeedback(){this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),this.currentDragFeedbackDisposable=p.JT.None}setupDragAndDropScrollTopAnimation(B){if(!this.dragOverAnimationDisposable){const G=(0,P.xQ)(this.domNode).top;this.dragOverAnimationDisposable=(0,P.jt)(this.animateDragAndDropScrollTop.bind(this,G))}this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationStopDisposable=(0,T.Vg)(()=>{this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)},1e3),this.dragOverMouseY=B.pageY}animateDragAndDropScrollTop(B){if(void 0===this.dragOverMouseY)return;const G=this.dragOverMouseY-B,se=this.renderHeight-35;G<35?this.scrollTop+=Math.max(-14,Math.floor(.3*(G-35))):G>se&&(this.scrollTop+=Math.min(14,Math.floor(.3*(G-se))))}teardownDragAndDropScrollTopAnimation(){this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)}getItemIndexFromEventTarget(B){const G=this.scrollableElement.getDomNode();let se=B;for(;se instanceof HTMLElement&&se!==this.rowsContainer&&G.contains(se);){const j=se.getAttribute("data-index");if(j){const $=Number(j);if(!isNaN($))return $}se=se.parentElement}}getRenderRange(B,G){return{start:this.rangeMap.indexAt(B),end:this.rangeMap.indexAfter(B+G-1)}}_rerender(B,G,se){const j=this.getRenderRange(B,G);let $,K;B===this.elementTop(j.start)?($=j.start,K=0):j.end-j.start>1&&($=j.start+1,K=this.elementTop($)-B);let J=0;for(;;){const te=this.getRenderRange(B,G);let ne=!1;for(let _=te.start;_<te.end;_++){const ae=this.probeDynamicHeight(_);0!==ae&&this.rangeMap.splice(_,1,[this.items[_]]),J+=ae,ne=ne||0!==ae}if(!ne){0!==J&&this.eventuallyUpdateScrollDimensions();const _=c.e.relativeComplement(j,te);for(const ge of _)for(let _e=ge.start;_e<ge.end;_e++)this.items[_e].row&&this.removeItemFromDOM(_e);const ae=c.e.relativeComplement(te,j);for(const ge of ae)for(let _e=ge.start;_e<ge.end;_e++){const ue=_e+1,ve=ue<this.items.length?this.items[ue].row:null;this.insertItemInDOM(_e,ve?ve.domNode:null)}for(let ge=te.start;ge<te.end;ge++)this.items[ge].row&&this.updateItemInDOM(this.items[ge],ge);if("number"==typeof $){const ge=this.scrollable.getFutureScrollPosition().scrollTop-B,_e=this.elementTop($)-K+ge;this.setScrollTop(_e,se)}return void this._onDidChangeContentHeight.fire(this.contentHeight)}}}probeDynamicHeight(B){var G,se,j;const $=this.items[B];if(this.virtualDelegate.getDynamicHeight){const ne=this.virtualDelegate.getDynamicHeight($.element);if(null!==ne){const _=$.size;return $.size=ne,$.lastDynamicHeightWidth=this.renderWidth,ne-_}}if(!$.hasDynamicHeight||$.lastDynamicHeightWidth===this.renderWidth||this.virtualDelegate.hasDynamicHeight&&!this.virtualDelegate.hasDynamicHeight($.element))return 0;const K=$.size;if($.row)return $.row.domNode.style.height="",$.size=$.row.domNode.offsetHeight,$.lastDynamicHeightWidth=this.renderWidth,$.size-K;const{row:J}=this.cache.alloc($.templateId);J.domNode.style.height="",this.rowsContainer.appendChild(J.domNode);const te=this.renderers.get($.templateId);if(!te)throw new w.he("Missing renderer for templateId: "+$.templateId);return te.renderElement($.element,B,J.templateData,void 0),$.size=J.domNode.offsetHeight,null===(G=te.disposeElement)||void 0===G||G.call(te,$.element,B,J.templateData,void 0),null===(j=(se=this.virtualDelegate).setDynamicHeight)||void 0===j||j.call(se,$.element,$.size),$.lastDynamicHeightWidth=this.renderWidth,this.rowsContainer.removeChild(J.domNode),this.cache.release(J),$.size-K}getNextToLastElement(B){const G=B[B.length-1];if(!G)return null;const se=this.items[G.end];return se&&se.row?se.row.domNode:null}getElementDomId(B){return`${this.domId}_${B}`}dispose(){var B;if(this.items){for(const G of this.items)if(G.row){const se=this.renderers.get(G.row.templateId);se&&(null===(B=se.disposeElement)||void 0===B||B.call(se,G.element,-1,G.row.templateData,void 0),se.disposeTemplate(G.row.templateData))}this.items=[]}this.domNode&&this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),(0,p.B9)(this.disposables)}}U.InstanceCount=0,D([E.H],U.prototype,"onMouseClick",null),D([E.H],U.prototype,"onMouseDblClick",null),D([E.H],U.prototype,"onMouseMiddleClick",null),D([E.H],U.prototype,"onMouseDown",null),D([E.H],U.prototype,"onMouseOver",null),D([E.H],U.prototype,"onMouseOut",null),D([E.H],U.prototype,"onContextMenu",null),D([E.H],U.prototype,"onTouchStart",null),D([E.H],U.prototype,"onTap",null)},80568:(Xe,we,e)=>{e.d(we,{wD:()=>ae,aV:()=>oe,sx:()=>_,AA:()=>B,iK:()=>U,cK:()=>W,hD:()=>z,wn:()=>J,Zo:()=>K,uZ:()=>ge});var f=e(20274),P=e(49489),r=e(89271),y=e(54796),v=e(41539);class S{constructor(x){this.spliceables=x}splice(x,F,ie){this.spliceables.forEach(Ce=>Ce.splice(x,F,ie))}}var T=e(31738),E=e(85328),L=e(90888),p=e(20354),c=e(58178),u=e(55769),g=e(78694),i=e(53499),d=e(88593),a=e(91402);e(33164);class l extends Error{constructor(x,F){super(`ListError [${x}] ${F}`)}}var I=e(65675),w=e(20940),D=function(Y,x,F,ie){var Pe,Ce=arguments.length,ke=Ce<3?x:null===ie?ie=Object.getOwnPropertyDescriptor(x,F):ie;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ke=Reflect.decorate(Y,x,F,ie);else for(var xe=Y.length-1;xe>=0;xe--)(Pe=Y[xe])&&(ke=(Ce<3?Pe(ke):Ce>3?Pe(x,F,ke):Pe(x,F))||ke);return Ce>3&&ke&&Object.defineProperty(x,F,ke),ke},N=function(Y,x,F,ie){return new(F||(F=Promise))(function(ke,Pe){function xe(pe){try{be(ie.next(pe))}catch(Q){Pe(Q)}}function fe(pe){try{be(ie.throw(pe))}catch(Q){Pe(Q)}}function be(pe){pe.done?ke(pe.value):function Ce(ke){return ke instanceof F?ke:new F(function(Pe){Pe(ke)})}(pe.value).then(xe,fe)}be((ie=ie.apply(Y,x||[])).next())})};class A{constructor(x){this.trait=x,this.renderedElements=[]}get templateId(){return`template:${this.trait.name}`}renderTemplate(x){return x}renderElement(x,F,ie){const Ce=this.renderedElements.findIndex(ke=>ke.templateData===ie);if(Ce>=0){const ke=this.renderedElements[Ce];this.trait.unrender(ie),ke.index=F}else this.renderedElements.push({index:F,templateData:ie});this.trait.renderIndex(F,ie)}splice(x,F,ie){const Ce=[];for(const ke of this.renderedElements)ke.index<x?Ce.push(ke):ke.index>=x+F&&Ce.push({index:ke.index+ie-F,templateData:ke.templateData});this.renderedElements=Ce}renderIndexes(x){for(const{index:F,templateData:ie}of this.renderedElements)x.indexOf(F)>-1&&this.trait.renderIndex(F,ie)}disposeTemplate(x){const F=this.renderedElements.findIndex(ie=>ie.templateData===x);F<0||this.renderedElements.splice(F,1)}}class k{get name(){return this._trait}get renderer(){return new A(this)}constructor(x){this._trait=x,this.length=0,this.indexes=[],this.sortedIndexes=[],this._onChange=new c.Q5,this.onChange=this._onChange.event}splice(x,F,ie){var Ce;F=Math.max(0,Math.min(F,this.length-x));const ke=ie.length-F,Pe=x+F,xe=[];let fe=0;for(;fe<this.sortedIndexes.length&&this.sortedIndexes[fe]<x;)xe.push(this.sortedIndexes[fe++]);for(let pe=0;pe<ie.length;pe++)ie[pe]&&xe.push(pe+x);for(;fe<this.sortedIndexes.length&&this.sortedIndexes[fe]>=Pe;)xe.push(this.sortedIndexes[fe++]+ke);const be=this.length+ke;if(this.sortedIndexes.length>0&&0===xe.length&&be>0){const pe=null!==(Ce=this.sortedIndexes.find(Q=>Q>=x))&&void 0!==Ce?Ce:be-1;xe.push(Math.min(pe,be-1))}this.renderer.splice(x,F,ie.length),this._set(xe,xe),this.length=be}renderIndex(x,F){F.classList.toggle(this._trait,this.contains(x))}unrender(x){x.classList.remove(this._trait)}set(x,F){return this._set(x,[...x].sort(Se),F)}_set(x,F,ie){const Ce=this.indexes,ke=this.sortedIndexes;this.indexes=x,this.sortedIndexes=F;const Pe=ve(ke,x);return this.renderer.renderIndexes(Pe),this._onChange.fire({indexes:x,browserEvent:ie}),Ce}get(){return this.indexes}contains(x){return(0,T.ry)(this.sortedIndexes,x,Se)>=0}dispose(){(0,g.B9)(this._onChange)}}D([p.H],k.prototype,"renderer",null);class R extends k{constructor(x){super("selected"),this.setAriaSelected=x}renderIndex(x,F){super.renderIndex(x,F),this.setAriaSelected&&(this.contains(x)?F.setAttribute("aria-selected","true"):F.setAttribute("aria-selected","false"))}}class O{constructor(x,F,ie){this.trait=x,this.view=F,this.identityProvider=ie}splice(x,F,ie){if(!this.identityProvider)return this.trait.splice(x,F,new Array(ie.length).fill(!1));const Ce=this.trait.get().map(xe=>this.identityProvider.getId(this.view.element(xe)).toString());if(0===Ce.length)return this.trait.splice(x,F,new Array(ie.length).fill(!1));const ke=new Set(Ce),Pe=ie.map(xe=>ke.has(this.identityProvider.getId(xe).toString()));this.trait.splice(x,F,Pe)}}function W(Y){return"INPUT"===Y.tagName||"TEXTAREA"===Y.tagName}function z(Y){return!!Y.classList.contains("monaco-editor")||!(Y.classList.contains("monaco-list")||!Y.parentElement)&&z(Y.parentElement)}function U(Y){return!!("A"===Y.tagName&&Y.classList.contains("monaco-button")||"DIV"===Y.tagName&&Y.classList.contains("monaco-button-dropdown"))||!(Y.classList.contains("monaco-list")||!Y.parentElement)&&U(Y.parentElement)}class ee{get onKeyDown(){return this.disposables.add(c.ju.chain(this.disposables.add(new P.Y(this.view.domNode,"keydown")).event).filter(x=>!W(x.target)).map(x=>new r.y(x)))}constructor(x,F,ie){this.list=x,this.view=F,this.disposables=new g.SL,this.multipleSelectionDisposables=new g.SL,this.onKeyDown.filter(Ce=>3===Ce.keyCode).on(this.onEnter,this,this.disposables),this.onKeyDown.filter(Ce=>16===Ce.keyCode).on(this.onUpArrow,this,this.disposables),this.onKeyDown.filter(Ce=>18===Ce.keyCode).on(this.onDownArrow,this,this.disposables),this.onKeyDown.filter(Ce=>11===Ce.keyCode).on(this.onPageUpArrow,this,this.disposables),this.onKeyDown.filter(Ce=>12===Ce.keyCode).on(this.onPageDownArrow,this,this.disposables),this.onKeyDown.filter(Ce=>9===Ce.keyCode).on(this.onEscape,this,this.disposables),!1!==ie.multipleSelectionSupport&&this.onKeyDown.filter(Ce=>(d.dz?Ce.metaKey:Ce.ctrlKey)&&31===Ce.keyCode).on(this.onCtrlA,this,this.multipleSelectionDisposables)}updateOptions(x){void 0!==x.multipleSelectionSupport&&(this.multipleSelectionDisposables.clear(),x.multipleSelectionSupport&&this.onKeyDown.filter(F=>(d.dz?F.metaKey:F.ctrlKey)&&31===F.keyCode).on(this.onCtrlA,this,this.multipleSelectionDisposables))}onEnter(x){x.preventDefault(),x.stopPropagation(),this.list.setSelection(this.list.getFocus(),x.browserEvent)}onUpArrow(x){x.preventDefault(),x.stopPropagation(),this.list.focusPrevious(1,!1,x.browserEvent);const F=this.list.getFocus()[0];this.list.setAnchor(F),this.list.reveal(F),this.view.domNode.focus()}onDownArrow(x){x.preventDefault(),x.stopPropagation(),this.list.focusNext(1,!1,x.browserEvent);const F=this.list.getFocus()[0];this.list.setAnchor(F),this.list.reveal(F),this.view.domNode.focus()}onPageUpArrow(x){x.preventDefault(),x.stopPropagation(),this.list.focusPreviousPage(x.browserEvent);const F=this.list.getFocus()[0];this.list.setAnchor(F),this.list.reveal(F),this.view.domNode.focus()}onPageDownArrow(x){x.preventDefault(),x.stopPropagation(),this.list.focusNextPage(x.browserEvent);const F=this.list.getFocus()[0];this.list.setAnchor(F),this.list.reveal(F),this.view.domNode.focus()}onCtrlA(x){x.preventDefault(),x.stopPropagation(),this.list.setSelection((0,T.w6)(this.list.length),x.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus()}onEscape(x){this.list.getSelection().length&&(x.preventDefault(),x.stopPropagation(),this.list.setSelection([],x.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus())}dispose(){this.disposables.dispose(),this.multipleSelectionDisposables.dispose()}}D([p.H],ee.prototype,"onKeyDown",null);var B=function(Y){return Y[Y.Automatic=0]="Automatic",Y[Y.Trigger=1]="Trigger",Y}(B||{}),G=function(Y){return Y[Y.Idle=0]="Idle",Y[Y.Typing=1]="Typing",Y}(G||{});const se=new class{mightProducePrintableCharacter(Y){return!(Y.ctrlKey||Y.metaKey||Y.altKey)&&(Y.keyCode>=31&&Y.keyCode<=56||Y.keyCode>=21&&Y.keyCode<=30||Y.keyCode>=98&&Y.keyCode<=107||Y.keyCode>=85&&Y.keyCode<=95)}};class j{constructor(x,F,ie,Ce,ke){this.list=x,this.view=F,this.keyboardNavigationLabelProvider=ie,this.keyboardNavigationEventFilter=Ce,this.delegate=ke,this.enabled=!1,this.state=G.Idle,this.mode=B.Automatic,this.triggered=!1,this.previouslyFocused=-1,this.enabledDisposables=new g.SL,this.disposables=new g.SL,this.updateOptions(x.options)}updateOptions(x){var F,ie;null===(F=x.typeNavigationEnabled)||void 0===F||F?this.enable():this.disable(),this.mode=null!==(ie=x.typeNavigationMode)&&void 0!==ie?ie:B.Automatic}enable(){if(this.enabled)return;let x=!1;const F=this.enabledDisposables.add(c.ju.chain(this.enabledDisposables.add(new P.Y(this.view.domNode,"keydown")).event)).filter(ke=>!W(ke.target)).filter(()=>this.mode===B.Automatic||this.triggered).map(ke=>new r.y(ke)).filter(ke=>x||this.keyboardNavigationEventFilter(ke)).filter(ke=>this.delegate.mightProducePrintableCharacter(ke)).forEach(ke=>f.zB.stop(ke,!0)).map(ke=>ke.browserEvent.key).event,ie=c.ju.debounce(F,()=>null,800,void 0,void 0,void 0,this.enabledDisposables);c.ju.reduce(c.ju.any(F,ie),(ke,Pe)=>null===Pe?null:(ke||"")+Pe,void 0,this.enabledDisposables)(this.onInput,this,this.enabledDisposables),ie(this.onClear,this,this.enabledDisposables),F(()=>x=!0,void 0,this.enabledDisposables),ie(()=>x=!1,void 0,this.enabledDisposables),this.enabled=!0,this.triggered=!1}disable(){this.enabled&&(this.enabledDisposables.clear(),this.enabled=!1,this.triggered=!1)}onClear(){var x;const F=this.list.getFocus();if(F.length>0&&F[0]===this.previouslyFocused){const ie=null===(x=this.list.options.accessibilityProvider)||void 0===x?void 0:x.getAriaLabel(this.list.element(F[0]));ie&&(0,v.Z9)(ie)}this.previouslyFocused=-1}onInput(x){if(!x)return this.state=G.Idle,void(this.triggered=!1);const F=this.list.getFocus(),ie=F.length>0?F[0]:0,Ce=this.state===G.Idle?1:0;this.state=G.Typing;for(let ke=0;ke<this.list.length;ke++){const Pe=(ie+ke+Ce)%this.list.length,xe=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(this.view.element(Pe)),fe=xe&&xe.toString();if(this.list.options.typeNavigationEnabled){if(typeof fe<"u"){const be=(0,u.Ji)(x,fe),pe=(0,u.XU)(x,fe);if(pe&&(be||pe[0].end-pe[0].start>1&&1===pe.length))return this.previouslyFocused=ie,this.list.setFocus([Pe]),void this.list.reveal(Pe)}}else if(typeof fe>"u"||(0,u.Ji)(x,fe))return this.previouslyFocused=ie,this.list.setFocus([Pe]),void this.list.reveal(Pe)}}dispose(){this.disable(),this.enabledDisposables.dispose(),this.disposables.dispose()}}class ${constructor(x,F){this.list=x,this.view=F,this.disposables=new g.SL,this.disposables.add(c.ju.chain(this.disposables.add(new P.Y(F.domNode,"keydown")).event)).filter(Ce=>!W(Ce.target)).map(Ce=>new r.y(Ce)).filter(Ce=>!(2!==Ce.keyCode||Ce.ctrlKey||Ce.metaKey||Ce.shiftKey||Ce.altKey)).on(this.onTab,this,this.disposables)}onTab(x){if(x.target!==this.view.domNode)return;const F=this.list.getFocus();if(0===F.length)return;const ie=this.view.domElement(F[0]);if(!ie)return;const Ce=ie.querySelector("[tabIndex]");if(!(Ce&&Ce instanceof HTMLElement&&-1!==Ce.tabIndex))return;const ke=window.getComputedStyle(Ce);"hidden"===ke.visibility||"none"===ke.display||(x.preventDefault(),x.stopPropagation(),Ce.focus())}dispose(){this.disposables.dispose()}}function K(Y){return d.dz?Y.browserEvent.metaKey:Y.browserEvent.ctrlKey}function J(Y){return Y.browserEvent.shiftKey}const ne={isSelectionSingleChangeEvent:K,isSelectionRangeChangeEvent:J};class _{constructor(x){this.list=x,this.disposables=new g.SL,this._onPointer=new c.Q5,this.onPointer=this._onPointer.event,!1!==x.options.multipleSelectionSupport&&(this.multipleSelectionController=this.list.options.multipleSelectionController||ne),this.mouseSupport=typeof x.options.mouseSupport>"u"||!!x.options.mouseSupport,this.mouseSupport&&(x.onMouseDown(this.onMouseDown,this,this.disposables),x.onContextMenu(this.onContextMenu,this,this.disposables),x.onMouseDblClick(this.onDoubleClick,this,this.disposables),x.onTouchStart(this.onMouseDown,this,this.disposables),this.disposables.add(y.o.addTarget(x.getHTMLElement()))),c.ju.any(x.onMouseClick,x.onMouseMiddleClick,x.onTap)(this.onViewPointer,this,this.disposables)}updateOptions(x){void 0!==x.multipleSelectionSupport&&(this.multipleSelectionController=void 0,x.multipleSelectionSupport&&(this.multipleSelectionController=this.list.options.multipleSelectionController||ne))}isSelectionSingleChangeEvent(x){return!!this.multipleSelectionController&&this.multipleSelectionController.isSelectionSingleChangeEvent(x)}isSelectionRangeChangeEvent(x){return!!this.multipleSelectionController&&this.multipleSelectionController.isSelectionRangeChangeEvent(x)}isSelectionChangeEvent(x){return this.isSelectionSingleChangeEvent(x)||this.isSelectionRangeChangeEvent(x)}onMouseDown(x){z(x.browserEvent.target)||document.activeElement!==x.browserEvent.target&&this.list.domFocus()}onContextMenu(x){W(x.browserEvent.target)||z(x.browserEvent.target)||this.list.setFocus(typeof x.index>"u"?[]:[x.index],x.browserEvent)}onViewPointer(x){if(!this.mouseSupport||W(x.browserEvent.target)||z(x.browserEvent.target)||x.browserEvent.isHandledByList)return;x.browserEvent.isHandledByList=!0;const F=x.index;return typeof F>"u"?(this.list.setFocus([],x.browserEvent),this.list.setSelection([],x.browserEvent),void this.list.setAnchor(void 0)):this.isSelectionChangeEvent(x)?this.changeSelection(x):(this.list.setFocus([F],x.browserEvent),this.list.setAnchor(F),function te(Y){return Y instanceof MouseEvent&&2===Y.button}(x.browserEvent)||this.list.setSelection([F],x.browserEvent),void this._onPointer.fire(x))}onDoubleClick(x){if(W(x.browserEvent.target)||z(x.browserEvent.target)||this.isSelectionChangeEvent(x)||x.browserEvent.isHandledByList)return;x.browserEvent.isHandledByList=!0;const F=this.list.getFocus();this.list.setSelection(F,x.browserEvent)}changeSelection(x){const F=x.index;let ie=this.list.getAnchor();if(this.isSelectionRangeChangeEvent(x)){typeof ie>"u"&&(ie=this.list.getFocus()[0]??F,this.list.setAnchor(ie));const Ce=Math.min(ie,F),ke=Math.max(ie,F),Pe=(0,T.w6)(Ce,ke+1),xe=this.list.getSelection(),fe=function ue(Y,x){const F=Y.indexOf(x);if(-1===F)return[];const ie=[];let Ce=F-1;for(;Ce>=0&&Y[Ce]===x-(F-Ce);)ie.push(Y[Ce--]);for(ie.reverse(),Ce=F;Ce<Y.length&&Y[Ce]===x+(Ce-F);)ie.push(Y[Ce++]);return ie}(ve(xe,[ie]),ie);if(0===fe.length)return;const be=ve(Pe,function Ie(Y,x){const F=[];let ie=0,Ce=0;for(;ie<Y.length||Ce<x.length;)if(ie>=Y.length)F.push(x[Ce++]);else if(Ce>=x.length)F.push(Y[ie++]);else{if(Y[ie]===x[Ce]){ie++,Ce++;continue}Y[ie]<x[Ce]?F.push(Y[ie++]):Ce++}return F}(xe,fe));this.list.setSelection(be,x.browserEvent),this.list.setFocus([F],x.browserEvent)}else if(this.isSelectionSingleChangeEvent(x)){const Ce=this.list.getSelection(),ke=Ce.filter(Pe=>Pe!==F);this.list.setFocus([F]),this.list.setAnchor(F),this.list.setSelection(Ce.length===ke.length?[...ke,F]:ke,x.browserEvent)}}dispose(){this.disposables.dispose()}}class ae{constructor(x,F){this.styleElement=x,this.selectorSuffix=F}style(x){var F,ie;const Ce=this.selectorSuffix&&`.${this.selectorSuffix}`,ke=[];x.listBackground&&ke.push(`.monaco-list${Ce} .monaco-list-rows { background: ${x.listBackground}; }`),x.listFocusBackground&&(ke.push(`.monaco-list${Ce}:focus .monaco-list-row.focused { background-color: ${x.listFocusBackground}; }`),ke.push(`.monaco-list${Ce}:focus .monaco-list-row.focused:hover { background-color: ${x.listFocusBackground}; }`)),x.listFocusForeground&&ke.push(`.monaco-list${Ce}:focus .monaco-list-row.focused { color: ${x.listFocusForeground}; }`),x.listActiveSelectionBackground&&(ke.push(`.monaco-list${Ce}:focus .monaco-list-row.selected { background-color: ${x.listActiveSelectionBackground}; }`),ke.push(`.monaco-list${Ce}:focus .monaco-list-row.selected:hover { background-color: ${x.listActiveSelectionBackground}; }`)),x.listActiveSelectionForeground&&ke.push(`.monaco-list${Ce}:focus .monaco-list-row.selected { color: ${x.listActiveSelectionForeground}; }`),x.listActiveSelectionIconForeground&&ke.push(`.monaco-list${Ce}:focus .monaco-list-row.selected .codicon { color: ${x.listActiveSelectionIconForeground}; }`),x.listFocusAndSelectionBackground&&ke.push(`\n\t\t\t\t.monaco-drag-image,\n\t\t\t\t.monaco-list${Ce}:focus .monaco-list-row.selected.focused { background-color: ${x.listFocusAndSelectionBackground}; }\n\t\t\t`),x.listFocusAndSelectionForeground&&ke.push(`\n\t\t\t\t.monaco-drag-image,\n\t\t\t\t.monaco-list${Ce}:focus .monaco-list-row.selected.focused { color: ${x.listFocusAndSelectionForeground}; }\n\t\t\t`),x.listInactiveFocusForeground&&(ke.push(`.monaco-list${Ce} .monaco-list-row.focused { color:  ${x.listInactiveFocusForeground}; }`),ke.push(`.monaco-list${Ce} .monaco-list-row.focused:hover { color:  ${x.listInactiveFocusForeground}; }`)),x.listInactiveSelectionIconForeground&&ke.push(`.monaco-list${Ce} .monaco-list-row.focused .codicon { color:  ${x.listInactiveSelectionIconForeground}; }`),x.listInactiveFocusBackground&&(ke.push(`.monaco-list${Ce} .monaco-list-row.focused { background-color:  ${x.listInactiveFocusBackground}; }`),ke.push(`.monaco-list${Ce} .monaco-list-row.focused:hover { background-color:  ${x.listInactiveFocusBackground}; }`)),x.listInactiveSelectionBackground&&(ke.push(`.monaco-list${Ce} .monaco-list-row.selected { background-color:  ${x.listInactiveSelectionBackground}; }`),ke.push(`.monaco-list${Ce} .monaco-list-row.selected:hover { background-color:  ${x.listInactiveSelectionBackground}; }`)),x.listInactiveSelectionForeground&&ke.push(`.monaco-list${Ce} .monaco-list-row.selected { color: ${x.listInactiveSelectionForeground}; }`),x.listHoverBackground&&ke.push(`.monaco-list${Ce}:not(.drop-target):not(.dragging) .monaco-list-row:hover:not(.selected):not(.focused) { background-color: ${x.listHoverBackground}; }`),x.listHoverForeground&&ke.push(`.monaco-list${Ce}:not(.drop-target):not(.dragging) .monaco-list-row:hover:not(.selected):not(.focused) { color:  ${x.listHoverForeground}; }`);const Pe=(0,f.XT)(x.listFocusAndSelectionOutline,(0,f.XT)(x.listSelectionOutline,null!==(F=x.listFocusOutline)&&void 0!==F?F:""));Pe&&ke.push(`.monaco-list${Ce}:focus .monaco-list-row.focused.selected { outline: 1px solid ${Pe}; outline-offset: -1px;}`),x.listFocusOutline&&ke.push(`\n\t\t\t\t.monaco-drag-image,\n\t\t\t\t.monaco-list${Ce}:focus .monaco-list-row.focused { outline: 1px solid ${x.listFocusOutline}; outline-offset: -1px; }\n\t\t\t\t.monaco-workbench.context-menu-visible .monaco-list${Ce}.last-focused .monaco-list-row.focused { outline: 1px solid ${x.listFocusOutline}; outline-offset: -1px; }\n\t\t\t`);const xe=(0,f.XT)(x.listSelectionOutline,null!==(ie=x.listInactiveFocusOutline)&&void 0!==ie?ie:"");xe&&ke.push(`.monaco-list${Ce} .monaco-list-row.focused.selected { outline: 1px dotted ${xe}; outline-offset: -1px; }`),x.listSelectionOutline&&ke.push(`.monaco-list${Ce} .monaco-list-row.selected { outline: 1px dotted ${x.listSelectionOutline}; outline-offset: -1px; }`),x.listInactiveFocusOutline&&ke.push(`.monaco-list${Ce} .monaco-list-row.focused { outline: 1px dotted ${x.listInactiveFocusOutline}; outline-offset: -1px; }`),x.listHoverOutline&&ke.push(`.monaco-list${Ce} .monaco-list-row:hover { outline: 1px dashed ${x.listHoverOutline}; outline-offset: -1px; }`),x.listDropBackground&&ke.push(`\n\t\t\t\t.monaco-list${Ce}.drop-target,\n\t\t\t\t.monaco-list${Ce} .monaco-list-rows.drop-target,\n\t\t\t\t.monaco-list${Ce} .monaco-list-row.drop-target { background-color: ${x.listDropBackground} !important; color: inherit !important; }\n\t\t\t`),x.tableColumnsBorder&&ke.push(`\n\t\t\t\t.monaco-table > .monaco-split-view2,\n\t\t\t\t.monaco-table > .monaco-split-view2 .monaco-sash.vertical::before,\n\t\t\t\t.monaco-workbench:not(.reduce-motion) .monaco-table:hover > .monaco-split-view2,\n\t\t\t\t.monaco-workbench:not(.reduce-motion) .monaco-table:hover > .monaco-split-view2 .monaco-sash.vertical::before {\n\t\t\t\t\tborder-color: ${x.tableColumnsBorder};\n\t\t\t\t}\n\n\t\t\t\t.monaco-workbench:not(.reduce-motion) .monaco-table > .monaco-split-view2,\n\t\t\t\t.monaco-workbench:not(.reduce-motion) .monaco-table > .monaco-split-view2 .monaco-sash.vertical::before {\n\t\t\t\t\tborder-color: transparent;\n\t\t\t\t}\n\t\t\t`),x.tableOddRowsBackgroundColor&&ke.push(`\n\t\t\t\t.monaco-table .monaco-list-row[data-parity=odd]:not(.focused):not(.selected):not(:hover) .monaco-table-tr,\n\t\t\t\t.monaco-table .monaco-list:not(:focus) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr,\n\t\t\t\t.monaco-table .monaco-list:not(.focused) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr {\n\t\t\t\t\tbackground-color: ${x.tableOddRowsBackgroundColor};\n\t\t\t\t}\n\t\t\t`),this.styleElement.textContent=ke.join("\n")}}const ge={listFocusBackground:"#7FB0D0",listActiveSelectionBackground:"#0E639C",listActiveSelectionForeground:"#FFFFFF",listActiveSelectionIconForeground:"#FFFFFF",listFocusAndSelectionOutline:"#90C2F9",listFocusAndSelectionBackground:"#094771",listFocusAndSelectionForeground:"#FFFFFF",listInactiveSelectionBackground:"#3F3F46",listInactiveSelectionIconForeground:"#FFFFFF",listHoverBackground:"#2A2D2E",listDropBackground:"#383B3D",treeIndentGuidesStroke:"#a9a9a9",treeInactiveIndentGuidesStroke:L.Il.fromHex("#a9a9a9").transparent(.4).toString(),tableColumnsBorder:L.Il.fromHex("#cccccc").transparent(.2).toString(),tableOddRowsBackgroundColor:L.Il.fromHex("#cccccc").transparent(.04).toString(),listBackground:void 0,listFocusForeground:void 0,listInactiveSelectionForeground:void 0,listInactiveFocusForeground:void 0,listInactiveFocusBackground:void 0,listHoverForeground:void 0,listFocusOutline:void 0,listInactiveFocusOutline:void 0,listSelectionOutline:void 0,listHoverOutline:void 0},_e={keyboardSupport:!0,mouseSupport:!0,multipleSelectionSupport:!0,dnd:{getDragURI:()=>null,onDragStart(){},onDragOver:()=>!1,drop(){}}};function ve(Y,x){const F=[];let ie=0,Ce=0;for(;ie<Y.length||Ce<x.length;)if(ie>=Y.length)F.push(x[Ce++]);else if(Ce>=x.length)F.push(Y[ie++]);else{if(Y[ie]===x[Ce]){F.push(Y[ie]),ie++,Ce++;continue}F.push(Y[ie]<x[Ce]?Y[ie++]:x[Ce++])}return F}const Se=(Y,x)=>Y-x;class Ve{constructor(x,F){this._templateId=x,this.renderers=F}get templateId(){return this._templateId}renderTemplate(x){return this.renderers.map(F=>F.renderTemplate(x))}renderElement(x,F,ie,Ce){let ke=0;for(const Pe of this.renderers)Pe.renderElement(x,F,ie[ke++],Ce)}disposeElement(x,F,ie,Ce){var ke;let Pe=0;for(const xe of this.renderers)null===(ke=xe.disposeElement)||void 0===ke||ke.call(xe,x,F,ie[Pe],Ce),Pe+=1}disposeTemplate(x){let F=0;for(const ie of this.renderers)ie.disposeTemplate(x[F++])}}class De{constructor(x){this.accessibilityProvider=x,this.templateId="a18n"}renderTemplate(x){return x}renderElement(x,F,ie){const Ce=this.accessibilityProvider.getAriaLabel(x);Ce?ie.setAttribute("aria-label",Ce):ie.removeAttribute("aria-label");const ke=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(x);"number"==typeof ke?ie.setAttribute("aria-level",`${ke}`):ie.removeAttribute("aria-level")}disposeTemplate(x){}}class ye{constructor(x,F){this.list=x,this.dnd=F}getDragElements(x){const F=this.list.getSelectedElements();return F.indexOf(x)>-1?F:[x]}getDragURI(x){return this.dnd.getDragURI(x)}getDragLabel(x,F){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(x,F)}onDragStart(x,F){var ie,Ce;null===(Ce=(ie=this.dnd).onDragStart)||void 0===Ce||Ce.call(ie,x,F)}onDragOver(x,F,ie,Ce){return this.dnd.onDragOver(x,F,ie,Ce)}onDragLeave(x,F,ie,Ce){var ke,Pe;null===(Pe=(ke=this.dnd).onDragLeave)||void 0===Pe||Pe.call(ke,x,F,ie,Ce)}onDragEnd(x){var F,ie;null===(ie=(F=this.dnd).onDragEnd)||void 0===ie||ie.call(F,x)}drop(x,F,ie,Ce){this.dnd.drop(x,F,ie,Ce)}}class oe{get onDidChangeFocus(){return c.ju.map(this.eventBufferer.wrapEvent(this.focus.onChange),x=>this.toListEvent(x),this.disposables)}get onDidChangeSelection(){return c.ju.map(this.eventBufferer.wrapEvent(this.selection.onChange),x=>this.toListEvent(x),this.disposables)}get domId(){return this.view.domId}get onDidScroll(){return this.view.onDidScroll}get onMouseClick(){return this.view.onMouseClick}get onMouseDblClick(){return this.view.onMouseDblClick}get onMouseMiddleClick(){return this.view.onMouseMiddleClick}get onPointer(){return this.mouseController.onPointer}get onMouseDown(){return this.view.onMouseDown}get onMouseOver(){return this.view.onMouseOver}get onMouseOut(){return this.view.onMouseOut}get onTouchStart(){return this.view.onTouchStart}get onTap(){return this.view.onTap}get onContextMenu(){let x=!1;const F=this.disposables.add(c.ju.chain(this.disposables.add(new P.Y(this.view.domNode,"keydown")).event)).map(ke=>new r.y(ke)).filter(ke=>x=58===ke.keyCode||ke.shiftKey&&68===ke.keyCode).map(ke=>f.zB.stop(ke,!0)).filter(()=>!1).event,ie=this.disposables.add(c.ju.chain(this.disposables.add(new P.Y(this.view.domNode,"keyup")).event)).forEach(()=>x=!1).map(ke=>new r.y(ke)).filter(ke=>58===ke.keyCode||ke.shiftKey&&68===ke.keyCode).map(ke=>f.zB.stop(ke,!0)).map(({browserEvent:ke})=>{const Pe=this.getFocus(),xe=Pe.length?Pe[0]:void 0;return{index:xe,element:typeof xe<"u"?this.view.element(xe):void 0,anchor:typeof xe<"u"?this.view.domElement(xe):this.view.domNode,browserEvent:ke}}).event,Ce=this.disposables.add(c.ju.chain(this.view.onContextMenu)).filter(ke=>!x).map(({element:ke,index:Pe,browserEvent:xe})=>({element:ke,index:Pe,anchor:new w.n(xe),browserEvent:xe})).event;return c.ju.any(F,ie,Ce)}get onKeyDown(){return this.disposables.add(new P.Y(this.view.domNode,"keydown")).event}get onDidFocus(){return c.ju.signal(this.disposables.add(new P.Y(this.view.domNode,"focus",!0)).event)}constructor(x,F,ie,Ce,ke=_e){var Pe,xe,fe,be;this.user=x,this._options=ke,this.focus=new k("focused"),this.anchor=new k("anchor"),this.eventBufferer=new c.E7,this._ariaLabel="",this.disposables=new g.SL,this._onDidDispose=new c.Q5,this.onDidDispose=this._onDidDispose.event;const pe=this._options.accessibilityProvider&&this._options.accessibilityProvider.getWidgetRole?null===(Pe=this._options.accessibilityProvider)||void 0===Pe?void 0:Pe.getWidgetRole():"list";this.selection=new R("listbox"!==pe);const Q=[this.focus.renderer,this.selection.renderer];this.accessibilityProvider=ke.accessibilityProvider,this.accessibilityProvider&&(Q.push(new De(this.accessibilityProvider)),null===(fe=(xe=this.accessibilityProvider).onDidChangeActiveDescendant)||void 0===fe||fe.call(xe,this.onDidChangeActiveDescendant,this,this.disposables)),Ce=Ce.map(Fe=>new Ve(Fe.templateId,[...Q,Fe]));const le=Object.assign(Object.assign({},ke),{dnd:ke.dnd&&new ye(this,ke.dnd)});if(this.view=this.createListView(F,ie,Ce,le),this.view.domNode.setAttribute("role",pe),ke.styleController)this.styleController=ke.styleController(this.view.domId);else{const Fe=(0,f.dS)(this.view.domNode);this.styleController=new ae(Fe,this.view.domId)}this.spliceable=new S([new O(this.focus,this.view,ke.identityProvider),new O(this.selection,this.view,ke.identityProvider),new O(this.anchor,this.view,ke.identityProvider),this.view]),this.disposables.add(this.focus),this.disposables.add(this.selection),this.disposables.add(this.anchor),this.disposables.add(this.view),this.disposables.add(this._onDidDispose),this.disposables.add(new $(this,this.view)),("boolean"!=typeof ke.keyboardSupport||ke.keyboardSupport)&&(this.keyboardController=new ee(this,this.view,ke),this.disposables.add(this.keyboardController)),ke.keyboardNavigationLabelProvider&&(this.typeNavigationController=new j(this,this.view,ke.keyboardNavigationLabelProvider,null!==(be=ke.keyboardNavigationEventFilter)&&void 0!==be?be:()=>!0,ke.keyboardNavigationDelegate||se),this.disposables.add(this.typeNavigationController)),this.mouseController=this.createMouseController(ke),this.disposables.add(this.mouseController),this.onDidChangeFocus(this._onFocusChange,this,this.disposables),this.onDidChangeSelection(this._onSelectionChange,this,this.disposables),this.accessibilityProvider&&(this.ariaLabel=this.accessibilityProvider.getWidgetAriaLabel()),!1!==this._options.multipleSelectionSupport&&this.view.domNode.setAttribute("aria-multiselectable","true")}createListView(x,F,ie,Ce){return new I.Bv(x,F,ie,Ce)}createMouseController(x){return new _(this)}updateOptions(x={}){var F,ie;this._options=Object.assign(Object.assign({},this._options),x),null===(F=this.typeNavigationController)||void 0===F||F.updateOptions(this._options),void 0!==this._options.multipleSelectionController&&(this._options.multipleSelectionSupport?this.view.domNode.setAttribute("aria-multiselectable","true"):this.view.domNode.removeAttribute("aria-multiselectable")),this.mouseController.updateOptions(x),null===(ie=this.keyboardController)||void 0===ie||ie.updateOptions(x),this.view.updateOptions(x)}get options(){return this._options}splice(x,F,ie=[]){if(x<0||x>this.view.length)throw new l(this.user,`Invalid start index: ${x}`);if(F<0)throw new l(this.user,`Invalid delete count: ${F}`);0===F&&0===ie.length||this.eventBufferer.bufferEvents(()=>this.spliceable.splice(x,F,ie))}rerender(){this.view.rerender()}element(x){return this.view.element(x)}get length(){return this.view.length}get contentHeight(){return this.view.contentHeight}get scrollTop(){return this.view.getScrollTop()}set scrollTop(x){this.view.setScrollTop(x)}get scrollHeight(){return this.view.scrollHeight}get renderHeight(){return this.view.renderHeight}get firstVisibleIndex(){return this.view.firstVisibleIndex}get ariaLabel(){return this._ariaLabel}set ariaLabel(x){this._ariaLabel=x,this.view.domNode.setAttribute("aria-label",x)}domFocus(){this.view.domNode.focus({preventScroll:!0})}layout(x,F){this.view.layout(x,F)}setSelection(x,F){for(const ie of x)if(ie<0||ie>=this.length)throw new l(this.user,`Invalid index ${ie}`);this.selection.set(x,F)}getSelection(){return this.selection.get()}getSelectedElements(){return this.getSelection().map(x=>this.view.element(x))}setAnchor(x){if(typeof x>"u")this.anchor.set([]);else{if(x<0||x>=this.length)throw new l(this.user,`Invalid index ${x}`);this.anchor.set([x])}}getAnchor(){return(0,T.Xh)(this.anchor.get(),void 0)}getAnchorElement(){const x=this.getAnchor();return typeof x>"u"?void 0:this.element(x)}setFocus(x,F){for(const ie of x)if(ie<0||ie>=this.length)throw new l(this.user,`Invalid index ${ie}`);this.focus.set(x,F)}focusNext(x=1,F=!1,ie,Ce){if(0===this.length)return;const ke=this.focus.get(),Pe=this.findNextIndex(ke.length>0?ke[0]+x:0,F,Ce);Pe>-1&&this.setFocus([Pe],ie)}focusPrevious(x=1,F=!1,ie,Ce){if(0===this.length)return;const ke=this.focus.get(),Pe=this.findPreviousIndex(ke.length>0?ke[0]-x:0,F,Ce);Pe>-1&&this.setFocus([Pe],ie)}focusNextPage(x,F){return N(this,void 0,void 0,function*(){let ie=this.view.indexAt(this.view.getScrollTop()+this.view.renderHeight);ie=0===ie?0:ie-1;const Ce=this.getFocus()[0];if(Ce!==ie&&(void 0===Ce||ie>Ce)){const ke=this.findPreviousIndex(ie,!1,F);this.setFocus(ke>-1&&Ce!==ke?[ke]:[ie],x)}else{const ke=this.view.getScrollTop();let Pe=ke+this.view.renderHeight;ie>Ce&&(Pe-=this.view.elementHeight(ie)),this.view.setScrollTop(Pe),this.view.getScrollTop()!==ke&&(this.setFocus([]),yield(0,E.Vs)(0),yield this.focusNextPage(x,F))}})}focusPreviousPage(x,F){return N(this,void 0,void 0,function*(){let ie;const Ce=this.view.getScrollTop();ie=0===Ce?this.view.indexAt(Ce):this.view.indexAfter(Ce-1);const ke=this.getFocus()[0];if(ke!==ie&&(void 0===ke||ke>=ie)){const Pe=this.findNextIndex(ie,!1,F);this.setFocus(Pe>-1&&ke!==Pe?[Pe]:[ie],x)}else{const Pe=Ce;this.view.setScrollTop(Ce-this.view.renderHeight),this.view.getScrollTop()!==Pe&&(this.setFocus([]),yield(0,E.Vs)(0),yield this.focusPreviousPage(x,F))}})}focusLast(x,F){if(0===this.length)return;const ie=this.findPreviousIndex(this.length-1,!1,F);ie>-1&&this.setFocus([ie],x)}focusFirst(x,F){this.focusNth(0,x,F)}focusNth(x,F,ie){if(0===this.length)return;const Ce=this.findNextIndex(x,!1,ie);Ce>-1&&this.setFocus([Ce],F)}findNextIndex(x,F=!1,ie){for(let Ce=0;Ce<this.length;Ce++){if(x>=this.length&&!F)return-1;if(x%=this.length,!ie||ie(this.element(x)))return x;x++}return-1}findPreviousIndex(x,F=!1,ie){for(let Ce=0;Ce<this.length;Ce++){if(x<0&&!F)return-1;if(x=(this.length+x%this.length)%this.length,!ie||ie(this.element(x)))return x;x--}return-1}getFocus(){return this.focus.get()}getFocusedElements(){return this.getFocus().map(x=>this.view.element(x))}reveal(x,F){if(x<0||x>=this.length)throw new l(this.user,`Invalid index ${x}`);const ie=this.view.getScrollTop(),Ce=this.view.elementTop(x),ke=this.view.elementHeight(x);if((0,a.hj)(F))this.view.setScrollTop((ke-this.view.renderHeight)*(0,i.uZ)(F,0,1)+Ce);else{const Pe=Ce+ke,xe=ie+this.view.renderHeight;Ce<ie&&Pe>=xe||(Ce<ie||Pe>=xe&&ke>=this.view.renderHeight?this.view.setScrollTop(Ce):Pe>=xe&&this.view.setScrollTop(Pe-this.view.renderHeight))}}getHTMLElement(){return this.view.domNode}getElementID(x){return this.view.getElementDomId(x)}style(x){this.styleController.style(x)}toListEvent({indexes:x,browserEvent:F}){return{indexes:x,elements:x.map(ie=>this.view.element(ie)),browserEvent:F}}_onFocusChange(){const x=this.focus.get();this.view.domNode.classList.toggle("element-focused",x.length>0),this.onDidChangeActiveDescendant()}onDidChangeActiveDescendant(){var x;const F=this.focus.get();if(F.length>0){let ie;!(null===(x=this.accessibilityProvider)||void 0===x)&&x.getActiveDescendantId&&(ie=this.accessibilityProvider.getActiveDescendantId(this.view.element(F[0]))),this.view.domNode.setAttribute("aria-activedescendant",ie||this.view.getElementDomId(F[0]))}else this.view.domNode.removeAttribute("aria-activedescendant")}_onSelectionChange(){const x=this.selection.get();this.view.domNode.classList.toggle("selection-none",0===x.length),this.view.domNode.classList.toggle("selection-single",1===x.length),this.view.domNode.classList.toggle("selection-multiple",x.length>1)}dispose(){this._onDidDispose.fire(),this.disposables.dispose(),this._onDidDispose.dispose()}}D([p.H],oe.prototype,"onDidChangeFocus",null),D([p.H],oe.prototype,"onDidChangeSelection",null),D([p.H],oe.prototype,"onContextMenu",null),D([p.H],oe.prototype,"onKeyDown",null),D([p.H],oe.prototype,"onDidFocus",null)},42427:(Xe,we,e)=>{e.d(we,{S:()=>m});var f=e(93379),P=e.n(f),r=e(7795),y=e.n(r),v=e(90569),S=e.n(v),T=e(3565),E=e.n(T),L=e(19216),p=e.n(L),c=e(44589),u=e.n(c),g=e(67548),i={};i.styleTagTransform=u(),i.setAttributes=E(),i.insert=S().bind(null,"head"),i.domAPI=y(),i.insertStyleElement=p(),P()(g.Z,i);const m="monaco-mouse-cursor-text"},81063:(Xe,we,e)=>{e.d(we,{f:()=>v});var f=e(20274),P=e(89344),r=e(58178),y=e(78694);class v{constructor(){this._onDidWillResize=new r.Q5,this.onDidWillResize=this._onDidWillResize.event,this._onDidResize=new r.Q5,this.onDidResize=this._onDidResize.event,this._sashListener=new y.SL,this._size=new f.Ro(0,0),this._minSize=new f.Ro(0,0),this._maxSize=new f.Ro(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),this.domNode=document.createElement("div"),this._eastSash=new P.g(this.domNode,{getVerticalSashLeft:()=>this._size.width},{orientation:0}),this._westSash=new P.g(this.domNode,{getVerticalSashLeft:()=>0},{orientation:0}),this._northSash=new P.g(this.domNode,{getHorizontalSashTop:()=>0},{orientation:1,orthogonalEdge:P.l.North}),this._southSash=new P.g(this.domNode,{getHorizontalSashTop:()=>this._size.height},{orientation:1,orthogonalEdge:P.l.South}),this._northSash.orthogonalStartSash=this._westSash,this._northSash.orthogonalEndSash=this._eastSash,this._southSash.orthogonalStartSash=this._westSash,this._southSash.orthogonalEndSash=this._eastSash;let T,E=0,L=0;this._sashListener.add(r.ju.any(this._northSash.onDidStart,this._eastSash.onDidStart,this._southSash.onDidStart,this._westSash.onDidStart)(()=>{void 0===T&&(this._onDidWillResize.fire(),T=this._size,E=0,L=0)})),this._sashListener.add(r.ju.any(this._northSash.onDidEnd,this._eastSash.onDidEnd,this._southSash.onDidEnd,this._westSash.onDidEnd)(()=>{void 0!==T&&(T=void 0,E=0,L=0,this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(this._eastSash.onDidChange(p=>{T&&(L=p.currentX-p.startX,this.layout(T.height+E,T.width+L),this._onDidResize.fire({dimension:this._size,done:!1,east:!0}))})),this._sashListener.add(this._westSash.onDidChange(p=>{T&&(L=-(p.currentX-p.startX),this.layout(T.height+E,T.width+L),this._onDidResize.fire({dimension:this._size,done:!1,west:!0}))})),this._sashListener.add(this._northSash.onDidChange(p=>{T&&(E=-(p.currentY-p.startY),this.layout(T.height+E,T.width+L),this._onDidResize.fire({dimension:this._size,done:!1,north:!0}))})),this._sashListener.add(this._southSash.onDidChange(p=>{T&&(E=p.currentY-p.startY,this.layout(T.height+E,T.width+L),this._onDidResize.fire({dimension:this._size,done:!1,south:!0}))})),this._sashListener.add(r.ju.any(this._eastSash.onDidReset,this._westSash.onDidReset)(p=>{this._preferredSize&&(this.layout(this._size.height,this._preferredSize.width),this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(r.ju.any(this._northSash.onDidReset,this._southSash.onDidReset)(p=>{this._preferredSize&&(this.layout(this._preferredSize.height,this._size.width),this._onDidResize.fire({dimension:this._size,done:!0}))}))}dispose(){this._northSash.dispose(),this._southSash.dispose(),this._eastSash.dispose(),this._westSash.dispose(),this._sashListener.dispose(),this._onDidResize.dispose(),this._onDidWillResize.dispose(),this.domNode.remove()}enableSashes(T,E,L,p){this._northSash.state=T?3:0,this._eastSash.state=E?3:0,this._southSash.state=L?3:0,this._westSash.state=p?3:0}layout(T=this.size.height,E=this.size.width){const{height:L,width:p}=this._minSize,{height:c,width:u}=this._maxSize;T=Math.max(L,Math.min(c,T)),E=Math.max(p,Math.min(u,E));const g=new f.Ro(E,T);f.Ro.equals(g,this._size)||(this.domNode.style.height=T+"px",this.domNode.style.width=E+"px",this._size=g,this._northSash.layout(),this._eastSash.layout(),this._southSash.layout(),this._westSash.layout())}clearSashHoverState(){this._eastSash.clearSashHoverState(),this._westSash.clearSashHoverState(),this._northSash.clearSashHoverState(),this._southSash.clearSashHoverState()}get size(){return this._size}set maxSize(T){this._maxSize=T}get maxSize(){return this._maxSize}set minSize(T){this._minSize=T}get minSize(){return this._minSize}set preferredSize(T){this._preferredSize=T}get preferredSize(){return this._preferredSize}}},89344:(Xe,we,e)=>{e.d(we,{l:()=>W,g:()=>K});var f=e(20274),P=e(49489),r=e(54796),y=e(85328),v=e(20354),S=e(58178),T=e(78694),E=e(88593),L=e(93379),p=e.n(L),c=e(7795),u=e.n(c),g=e(90569),i=e.n(g),d=e(3565),a=e.n(d),m=e(19216),l=e.n(m),I=e(44589),w=e.n(I),D=e(91629),N={};N.styleTagTransform=w(),N.setAttributes=a(),N.insert=i().bind(null,"head"),N.domAPI=u(),N.insertStyleElement=l(),p()(D.Z,N);var R=function(J,te,ne,_){var _e,ae=arguments.length,ge=ae<3?te:null===_?_=Object.getOwnPropertyDescriptor(te,ne):_;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ge=Reflect.decorate(J,te,ne,_);else for(var ue=J.length-1;ue>=0;ue--)(_e=J[ue])&&(ge=(ae<3?_e(ge):ae>3?_e(te,ne,ge):_e(te,ne))||ge);return ae>3&&ge&&Object.defineProperty(te,ne,ge),ge},W=function(J){return J.North="north",J.South="south",J.East="east",J.West="west",J}(W||{});const U=new S.Q5,B=new S.Q5;class G{constructor(){this.disposables=new T.SL}get onPointerMove(){return this.disposables.add(new P.Y(window,"mousemove")).event}get onPointerUp(){return this.disposables.add(new P.Y(window,"mouseup")).event}dispose(){this.disposables.dispose()}}R([v.H],G.prototype,"onPointerMove",null),R([v.H],G.prototype,"onPointerUp",null);class se{get onPointerMove(){return this.disposables.add(new P.Y(this.el,r.t.Change)).event}get onPointerUp(){return this.disposables.add(new P.Y(this.el,r.t.End)).event}constructor(te){this.el=te,this.disposables=new T.SL}dispose(){this.disposables.dispose()}}R([v.H],se.prototype,"onPointerMove",null),R([v.H],se.prototype,"onPointerUp",null);class j{get onPointerMove(){return this.factory.onPointerMove}get onPointerUp(){return this.factory.onPointerUp}constructor(te){this.factory=te}dispose(){}}R([v.H],j.prototype,"onPointerMove",null),R([v.H],j.prototype,"onPointerUp",null);const $="pointer-events-disabled";class K extends T.JT{get state(){return this._state}get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}set state(te){this._state!==te&&(this.el.classList.toggle("disabled",0===te),this.el.classList.toggle("minimum",1===te),this.el.classList.toggle("maximum",2===te),this._state=te,this.onDidEnablementChange.fire(te))}set orthogonalStartSash(te){if(this._orthogonalStartSash!==te){if(this.orthogonalStartDragHandleDisposables.clear(),this.orthogonalStartSashDisposables.clear(),te){const ne=_=>{this.orthogonalStartDragHandleDisposables.clear(),0!==_&&(this._orthogonalStartDragHandle=(0,f.R3)(this.el,(0,f.$)(".orthogonal-drag-handle.start")),this.orthogonalStartDragHandleDisposables.add((0,T.OF)(()=>this._orthogonalStartDragHandle.remove())),this.orthogonalStartDragHandleDisposables.add(new P.Y(this._orthogonalStartDragHandle,"mouseenter")).event(()=>K.onMouseEnter(te),void 0,this.orthogonalStartDragHandleDisposables),this.orthogonalStartDragHandleDisposables.add(new P.Y(this._orthogonalStartDragHandle,"mouseleave")).event(()=>K.onMouseLeave(te),void 0,this.orthogonalStartDragHandleDisposables))};this.orthogonalStartSashDisposables.add(te.onDidEnablementChange.event(ne,this)),ne(te.state)}this._orthogonalStartSash=te}}set orthogonalEndSash(te){if(this._orthogonalEndSash!==te){if(this.orthogonalEndDragHandleDisposables.clear(),this.orthogonalEndSashDisposables.clear(),te){const ne=_=>{this.orthogonalEndDragHandleDisposables.clear(),0!==_&&(this._orthogonalEndDragHandle=(0,f.R3)(this.el,(0,f.$)(".orthogonal-drag-handle.end")),this.orthogonalEndDragHandleDisposables.add((0,T.OF)(()=>this._orthogonalEndDragHandle.remove())),this.orthogonalEndDragHandleDisposables.add(new P.Y(this._orthogonalEndDragHandle,"mouseenter")).event(()=>K.onMouseEnter(te),void 0,this.orthogonalEndDragHandleDisposables),this.orthogonalEndDragHandleDisposables.add(new P.Y(this._orthogonalEndDragHandle,"mouseleave")).event(()=>K.onMouseLeave(te),void 0,this.orthogonalEndDragHandleDisposables))};this.orthogonalEndSashDisposables.add(te.onDidEnablementChange.event(ne,this)),ne(te.state)}this._orthogonalEndSash=te}}constructor(te,ne,_){super(),this.hoverDelay=300,this.hoverDelayer=this._register(new y.vp(this.hoverDelay)),this._state=3,this.onDidEnablementChange=this._register(new S.Q5),this._onDidStart=this._register(new S.Q5),this._onDidChange=this._register(new S.Q5),this._onDidReset=this._register(new S.Q5),this._onDidEnd=this._register(new S.Q5),this.orthogonalStartSashDisposables=this._register(new T.SL),this.orthogonalStartDragHandleDisposables=this._register(new T.SL),this.orthogonalEndSashDisposables=this._register(new T.SL),this.orthogonalEndDragHandleDisposables=this._register(new T.SL),this.onDidStart=this._onDidStart.event,this.onDidChange=this._onDidChange.event,this.onDidReset=this._onDidReset.event,this.onDidEnd=this._onDidEnd.event,this.linkedSash=void 0,this.el=(0,f.R3)(te,(0,f.$)(".monaco-sash")),_.orthogonalEdge&&this.el.classList.add(`orthogonal-edge-${_.orthogonalEdge}`),E.dz&&this.el.classList.add("mac");const ae=this._register(new P.Y(this.el,"mousedown")).event;this._register(ae(Ve=>this.onPointerStart(Ve,new G),this));const ge=this._register(new P.Y(this.el,"dblclick")).event;this._register(ge(this.onPointerDoublePress,this));const _e=this._register(new P.Y(this.el,"mouseenter")).event;this._register(_e(()=>K.onMouseEnter(this)));const ue=this._register(new P.Y(this.el,"mouseleave")).event;this._register(ue(()=>K.onMouseLeave(this))),this._register(r.o.addTarget(this.el));const ve=this._register(new P.Y(this.el,r.t.Start)).event;this._register(ve(Ve=>this.onPointerStart(Ve,new se(this.el)),this));const Ie=this._register(new P.Y(this.el,r.t.Tap)).event;let Se;this._register(Ie(Ve=>{if(Se)return clearTimeout(Se),Se=void 0,void this.onPointerDoublePress(Ve);clearTimeout(Se),Se=setTimeout(()=>Se=void 0,250)},this)),"number"==typeof _.size?(this.size=_.size,0===_.orientation?this.el.style.width=`${this.size}px`:this.el.style.height=`${this.size}px`):(this.size=4,this._register(U.event(Ve=>{this.size=Ve,this.layout()}))),this._register(B.event(Ve=>this.hoverDelay=Ve)),this.layoutProvider=ne,this.orthogonalStartSash=_.orthogonalStartSash,this.orthogonalEndSash=_.orthogonalEndSash,this.orientation=_.orientation||0,1===this.orientation?(this.el.classList.add("horizontal"),this.el.classList.remove("vertical")):(this.el.classList.remove("horizontal"),this.el.classList.add("vertical")),this.el.classList.toggle("debug",!1),this.layout()}onPointerStart(te,ne){f.zB.stop(te);let _=!1;if(!te.__orthogonalSashEvent){const oe=this.getOrthogonalSash(te);oe&&(_=!0,te.__orthogonalSashEvent=!0,oe.onPointerStart(te,new j(ne)))}if(this.linkedSash&&!te.__linkedSashEvent&&(te.__linkedSashEvent=!0,this.linkedSash.onPointerStart(te,new j(ne))),!this.state)return;const ae=document.getElementsByTagName("iframe");for(const oe of ae)oe.classList.add($);const ge=te.pageX,_e=te.pageY,ue=te.altKey,ve={startX:ge,currentX:ge,startY:_e,currentY:_e,altKey:ue};this.el.classList.add("active"),this._onDidStart.fire(ve);const Ie=(0,f.dS)(this.el),Se=()=>{let oe="";oe=_?"all-scroll":1===this.orientation?1===this.state?"s-resize":2===this.state?"n-resize":E.dz?"row-resize":"ns-resize":1===this.state?"e-resize":2===this.state?"w-resize":E.dz?"col-resize":"ew-resize",Ie.textContent=`* { cursor: ${oe} !important; }`},Ve=new T.SL;Se(),_||this.onDidEnablementChange.event(Se,null,Ve),ne.onPointerMove(oe=>{f.zB.stop(oe,!1),this._onDidChange.fire({startX:ge,currentX:oe.pageX,startY:_e,currentY:oe.pageY,altKey:ue})},null,Ve),ne.onPointerUp(oe=>{f.zB.stop(oe,!1),this.el.removeChild(Ie),this.el.classList.remove("active"),this._onDidEnd.fire(),Ve.dispose();for(const Y of ae)Y.classList.remove($)},null,Ve),Ve.add(ne)}onPointerDoublePress(te){const ne=this.getOrthogonalSash(te);ne&&ne._onDidReset.fire(),this.linkedSash&&this.linkedSash._onDidReset.fire(),this._onDidReset.fire()}static onMouseEnter(te,ne=!1){te.el.classList.contains("active")?(te.hoverDelayer.cancel(),te.el.classList.add("hover")):te.hoverDelayer.trigger(()=>te.el.classList.add("hover"),te.hoverDelay).then(void 0,()=>{}),!ne&&te.linkedSash&&K.onMouseEnter(te.linkedSash,!0)}static onMouseLeave(te,ne=!1){te.hoverDelayer.cancel(),te.el.classList.remove("hover"),!ne&&te.linkedSash&&K.onMouseLeave(te.linkedSash,!0)}clearSashHoverState(){K.onMouseLeave(this)}layout(){if(0===this.orientation){const te=this.layoutProvider;this.el.style.left=te.getVerticalSashLeft(this)-this.size/2+"px",te.getVerticalSashTop&&(this.el.style.top=te.getVerticalSashTop(this)+"px"),te.getVerticalSashHeight&&(this.el.style.height=te.getVerticalSashHeight(this)+"px")}else{const te=this.layoutProvider;this.el.style.top=te.getHorizontalSashTop(this)-this.size/2+"px",te.getHorizontalSashLeft&&(this.el.style.left=te.getHorizontalSashLeft(this)+"px"),te.getHorizontalSashWidth&&(this.el.style.width=te.getHorizontalSashWidth(this)+"px")}}getOrthogonalSash(te){var ne;const _=null!==(ne=te.initialTarget)&&void 0!==ne?ne:te.target;if(_&&_ instanceof HTMLElement&&_.classList.contains("orthogonal-drag-handle"))return _.classList.contains("start")?this.orthogonalStartSash:this.orthogonalEndSash}dispose(){super.dispose(),this.el.remove()}}},8286:(Xe,we,e)=>{e.d(we,{s$:()=>Ie,Io:()=>ge,NB:()=>ue,$Z:()=>ve});var f=e(47492),P=e(20274),r=e(25937),y=e(20940),v=e(46738),S=e(19491),T=e(85328),E=e(35053);class p extends S.${constructor(De){super(),this._onActivate=De.onActivate,this.bgDomNode=document.createElement("div"),this.bgDomNode.className="arrow-background",this.bgDomNode.style.position="absolute",this.bgDomNode.style.width=De.bgWidth+"px",this.bgDomNode.style.height=De.bgHeight+"px",typeof De.top<"u"&&(this.bgDomNode.style.top="0px"),typeof De.left<"u"&&(this.bgDomNode.style.left="0px"),typeof De.bottom<"u"&&(this.bgDomNode.style.bottom="0px"),typeof De.right<"u"&&(this.bgDomNode.style.right="0px"),this.domNode=document.createElement("div"),this.domNode.className=De.className,this.domNode.classList.add(...E.k.asClassNameArray(De.icon)),this.domNode.style.position="absolute",this.domNode.style.width="11px",this.domNode.style.height="11px",typeof De.top<"u"&&(this.domNode.style.top=De.top+"px"),typeof De.left<"u"&&(this.domNode.style.left=De.left+"px"),typeof De.bottom<"u"&&(this.domNode.style.bottom=De.bottom+"px"),typeof De.right<"u"&&(this.domNode.style.right=De.right+"px"),this._pointerMoveMonitor=this._register(new v.C),this._register(P.mu(this.bgDomNode,P.tw.POINTER_DOWN,ye=>this._arrowPointerDown(ye))),this._register(P.mu(this.domNode,P.tw.POINTER_DOWN,ye=>this._arrowPointerDown(ye))),this._pointerdownRepeatTimer=this._register(new T.zh),this._pointerdownScheduleRepeatTimer=this._register(new T._F)}_arrowPointerDown(De){De.target&&De.target instanceof Element&&(this._onActivate(),this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancelAndSet(()=>{this._pointerdownRepeatTimer.cancelAndSet(()=>this._onActivate(),1e3/24)},200),this._pointerMoveMonitor.startMonitoring(De.target,De.pointerId,De.buttons,oe=>{},()=>{this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancel()}),De.preventDefault())}}var c=e(78694);class u extends c.JT{constructor(De,ye,oe){super(),this._visibility=De,this._visibleClassName=ye,this._invisibleClassName=oe,this._domNode=null,this._isVisible=!1,this._isNeeded=!1,this._rawShouldBeVisible=!1,this._shouldBeVisible=!1,this._revealTimer=this._register(new T._F)}setVisibility(De){this._visibility!==De&&(this._visibility=De,this._updateShouldBeVisible())}setShouldBeVisible(De){this._rawShouldBeVisible=De,this._updateShouldBeVisible()}_applyVisibilitySetting(){return 2!==this._visibility&&(3===this._visibility||this._rawShouldBeVisible)}_updateShouldBeVisible(){const De=this._applyVisibilitySetting();this._shouldBeVisible!==De&&(this._shouldBeVisible=De,this.ensureVisibility())}setIsNeeded(De){this._isNeeded!==De&&(this._isNeeded=De,this.ensureVisibility())}setDomNode(De){this._domNode=De,this._domNode.setClassName(this._invisibleClassName),this.setShouldBeVisible(!1)}ensureVisibility(){this._isNeeded?this._shouldBeVisible?this._reveal():this._hide(!0):this._hide(!1)}_reveal(){this._isVisible||(this._isVisible=!0,this._revealTimer.setIfNotSet(()=>{var De;null===(De=this._domNode)||void 0===De||De.setClassName(this._visibleClassName)},0))}_hide(De){var ye;this._revealTimer.cancel(),this._isVisible&&(this._isVisible=!1,null===(ye=this._domNode)||void 0===ye||ye.setClassName(this._invisibleClassName+(De?" fade":"")))}}var g=e(88593);class d extends S.${constructor(De){super(),this._lazyRender=De.lazyRender,this._host=De.host,this._scrollable=De.scrollable,this._scrollByPage=De.scrollByPage,this._scrollbarState=De.scrollbarState,this._visibilityController=this._register(new u(De.visibility,"visible scrollbar "+De.extraScrollbarClassName,"invisible scrollbar "+De.extraScrollbarClassName)),this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._pointerMoveMonitor=this._register(new v.C),this._shouldRender=!0,this.domNode=(0,r.X)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this._visibilityController.setDomNode(this.domNode),this.domNode.setPosition("absolute"),this._register(P.nm(this.domNode.domNode,P.tw.POINTER_DOWN,ye=>this._domNodePointerDown(ye)))}_createArrow(De){const ye=this._register(new p(De));this.domNode.domNode.appendChild(ye.bgDomNode),this.domNode.domNode.appendChild(ye.domNode)}_createSlider(De,ye,oe,Y){this.slider=(0,r.X)(document.createElement("div")),this.slider.setClassName("slider"),this.slider.setPosition("absolute"),this.slider.setTop(De),this.slider.setLeft(ye),"number"==typeof oe&&this.slider.setWidth(oe),"number"==typeof Y&&this.slider.setHeight(Y),this.slider.setLayerHinting(!0),this.slider.setContain("strict"),this.domNode.domNode.appendChild(this.slider.domNode),this._register(P.nm(this.slider.domNode,P.tw.POINTER_DOWN,x=>{0===x.button&&(x.preventDefault(),this._sliderPointerDown(x))})),this.onclick(this.slider.domNode,x=>{x.leftButton&&x.stopPropagation()})}_onElementSize(De){return this._scrollbarState.setVisibleSize(De)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollSize(De){return this._scrollbarState.setScrollSize(De)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollPosition(De){return this._scrollbarState.setScrollPosition(De)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}beginReveal(){this._visibilityController.setShouldBeVisible(!0)}beginHide(){this._visibilityController.setShouldBeVisible(!1)}render(){this._shouldRender&&(this._shouldRender=!1,this._renderDomNode(this._scrollbarState.getRectangleLargeSize(),this._scrollbarState.getRectangleSmallSize()),this._updateSlider(this._scrollbarState.getSliderSize(),this._scrollbarState.getArrowSize()+this._scrollbarState.getSliderPosition()))}_domNodePointerDown(De){De.target===this.domNode.domNode&&this._onPointerDown(De)}delegatePointerDown(De){const ye=this.domNode.domNode.getClientRects()[0].top,oe=ye+this._scrollbarState.getSliderPosition(),Y=ye+this._scrollbarState.getSliderPosition()+this._scrollbarState.getSliderSize(),x=this._sliderPointerPosition(De);oe<=x&&x<=Y?0===De.button&&(De.preventDefault(),this._sliderPointerDown(De)):this._onPointerDown(De)}_onPointerDown(De){let ye,oe;if(De.target===this.domNode.domNode&&"number"==typeof De.offsetX&&"number"==typeof De.offsetY)ye=De.offsetX,oe=De.offsetY;else{const x=P.i(this.domNode.domNode);ye=De.pageX-x.left,oe=De.pageY-x.top}const Y=this._pointerDownRelativePosition(ye,oe);this._setDesiredScrollPositionNow(this._scrollByPage?this._scrollbarState.getDesiredScrollPositionFromOffsetPaged(Y):this._scrollbarState.getDesiredScrollPositionFromOffset(Y)),0===De.button&&(De.preventDefault(),this._sliderPointerDown(De))}_sliderPointerDown(De){if(!(De.target&&De.target instanceof Element))return;const ye=this._sliderPointerPosition(De),oe=this._sliderOrthogonalPointerPosition(De),Y=this._scrollbarState.clone();this.slider.toggleClassName("active",!0),this._pointerMoveMonitor.startMonitoring(De.target,De.pointerId,De.buttons,x=>{const F=this._sliderOrthogonalPointerPosition(x),ie=Math.abs(F-oe);if(g.ED&&ie>140)return void this._setDesiredScrollPositionNow(Y.getScrollPosition());const ke=this._sliderPointerPosition(x)-ye;this._setDesiredScrollPositionNow(Y.getDesiredScrollPositionFromDelta(ke))},()=>{this.slider.toggleClassName("active",!1),this._host.onDragEnd()}),this._host.onDragStart()}_setDesiredScrollPositionNow(De){const ye={};this.writeScrollPosition(ye,De),this._scrollable.setScrollPositionNow(ye)}updateScrollbarSize(De){this._updateScrollbarSize(De),this._scrollbarState.setScrollbarSize(De),this._shouldRender=!0,this._lazyRender||this.render()}isNeeded(){return this._scrollbarState.isNeeded()}}var a=e(47832),m=e(27222);class l extends d{constructor(De,ye,oe){const Y=De.getScrollDimensions(),x=De.getCurrentScrollPosition();if(super({lazyRender:ye.lazyRender,host:oe,scrollbarState:new a.M(ye.horizontalHasArrows?ye.arrowSize:0,2===ye.horizontal?0:ye.horizontalScrollbarSize,2===ye.vertical?0:ye.verticalScrollbarSize,Y.width,Y.scrollWidth,x.scrollLeft),visibility:ye.horizontal,extraScrollbarClassName:"horizontal",scrollable:De,scrollByPage:ye.scrollByPage}),ye.horizontalHasArrows){const F=(ye.arrowSize-11)/2,ie=(ye.horizontalScrollbarSize-11)/2;this._createArrow({className:"scra",icon:m.l.scrollbarButtonLeft,top:ie,left:F,bottom:void 0,right:void 0,bgWidth:ye.arrowSize,bgHeight:ye.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new y.q(null,1,0))}),this._createArrow({className:"scra",icon:m.l.scrollbarButtonRight,top:ie,left:void 0,bottom:void 0,right:F,bgWidth:ye.arrowSize,bgHeight:ye.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new y.q(null,-1,0))})}this._createSlider(Math.floor((ye.horizontalScrollbarSize-ye.horizontalSliderSize)/2),0,void 0,ye.horizontalSliderSize)}_updateSlider(De,ye){this.slider.setWidth(De),this.slider.setLeft(ye)}_renderDomNode(De,ye){this.domNode.setWidth(De),this.domNode.setHeight(ye),this.domNode.setLeft(0),this.domNode.setBottom(0)}onDidScroll(De){return this._shouldRender=this._onElementScrollSize(De.scrollWidth)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(De.scrollLeft)||this._shouldRender,this._shouldRender=this._onElementSize(De.width)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(De,ye){return De}_sliderPointerPosition(De){return De.pageX}_sliderOrthogonalPointerPosition(De){return De.pageY}_updateScrollbarSize(De){this.slider.setHeight(De)}writeScrollPosition(De,ye){De.scrollLeft=ye}updateOptions(De){this.updateScrollbarSize(2===De.horizontal?0:De.horizontalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(2===De.vertical?0:De.verticalScrollbarSize),this._visibilityController.setVisibility(De.horizontal),this._scrollByPage=De.scrollByPage}}class I extends d{constructor(De,ye,oe){const Y=De.getScrollDimensions(),x=De.getCurrentScrollPosition();if(super({lazyRender:ye.lazyRender,host:oe,scrollbarState:new a.M(ye.verticalHasArrows?ye.arrowSize:0,2===ye.vertical?0:ye.verticalScrollbarSize,0,Y.height,Y.scrollHeight,x.scrollTop),visibility:ye.vertical,extraScrollbarClassName:"vertical",scrollable:De,scrollByPage:ye.scrollByPage}),ye.verticalHasArrows){const F=(ye.arrowSize-11)/2,ie=(ye.verticalScrollbarSize-11)/2;this._createArrow({className:"scra",icon:m.l.scrollbarButtonUp,top:F,left:ie,bottom:void 0,right:void 0,bgWidth:ye.verticalScrollbarSize,bgHeight:ye.arrowSize,onActivate:()=>this._host.onMouseWheel(new y.q(null,0,1))}),this._createArrow({className:"scra",icon:m.l.scrollbarButtonDown,top:void 0,left:ie,bottom:F,right:void 0,bgWidth:ye.verticalScrollbarSize,bgHeight:ye.arrowSize,onActivate:()=>this._host.onMouseWheel(new y.q(null,0,-1))})}this._createSlider(0,Math.floor((ye.verticalScrollbarSize-ye.verticalSliderSize)/2),ye.verticalSliderSize,void 0)}_updateSlider(De,ye){this.slider.setHeight(De),this.slider.setTop(ye)}_renderDomNode(De,ye){this.domNode.setWidth(ye),this.domNode.setHeight(De),this.domNode.setRight(0),this.domNode.setTop(0)}onDidScroll(De){return this._shouldRender=this._onElementScrollSize(De.scrollHeight)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(De.scrollTop)||this._shouldRender,this._shouldRender=this._onElementSize(De.height)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(De,ye){return ye}_sliderPointerPosition(De){return De.pageY}_sliderOrthogonalPointerPosition(De){return De.pageX}_updateScrollbarSize(De){this.slider.setWidth(De)}writeScrollPosition(De,ye){De.scrollTop=ye}updateOptions(De){this.updateScrollbarSize(2===De.vertical?0:De.verticalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(0),this._visibilityController.setVisibility(De.vertical),this._scrollByPage=De.scrollByPage}}var w=e(58178),D=e(15962),N=e(93379),A=e.n(N),k=e(7795),R=e.n(k),O=e(90569),W=e.n(O),z=e(3565),U=e.n(z),ee=e(19216),B=e.n(ee),G=e(44589),se=e.n(G),j=e(7198),$={};$.styleTagTransform=se(),$.setAttributes=U(),$.insert=W().bind(null,"head"),$.domAPI=R(),$.insertStyleElement=B(),A()(j.Z,$);class ae{constructor(De,ye,oe){this.timestamp=De,this.deltaX=ye,this.deltaY=oe,this.score=0}}class ge{constructor(){this._capacity=5,this._memory=[],this._front=-1,this._rear=-1}isPhysicalMouseWheel(){if(-1===this._front&&-1===this._rear)return!1;let De=1,ye=0,oe=1,Y=this._rear;for(;;){const x=Y===this._front?De:Math.pow(2,-oe);if(De-=x,ye+=this._memory[Y].score*x,Y===this._front)break;Y=(this._capacity+Y-1)%this._capacity,oe++}return ye<=.5}acceptStandardWheelEvent(De){const ye=window.devicePixelRatio/(0,f.ie)();g.ED||g.IJ?this.accept(Date.now(),De.deltaX/ye,De.deltaY/ye):this.accept(Date.now(),De.deltaX,De.deltaY)}accept(De,ye,oe){const Y=new ae(De,ye,oe);Y.score=this._computeScore(Y),-1===this._front&&-1===this._rear?(this._memory[0]=Y,this._front=0,this._rear=0):(this._rear=(this._rear+1)%this._capacity,this._rear===this._front&&(this._front=(this._front+1)%this._capacity),this._memory[this._rear]=Y)}_computeScore(De){if(Math.abs(De.deltaX)>0&&Math.abs(De.deltaY)>0)return 1;let ye=.5;return(!this._isAlmostInt(De.deltaX)||!this._isAlmostInt(De.deltaY))&&(ye+=.25),Math.min(Math.max(ye,0),1)}_isAlmostInt(De){return Math.abs(Math.round(De)-De)<.01}}ge.INSTANCE=new ge;class _e extends S.${get options(){return this._options}constructor(De,ye,oe){super(),this._onScroll=this._register(new w.Q5),this.onScroll=this._onScroll.event,this._onWillScroll=this._register(new w.Q5),De.style.overflow="hidden",this._options=function Se(Ve){const De={lazyRender:typeof Ve.lazyRender<"u"&&Ve.lazyRender,className:typeof Ve.className<"u"?Ve.className:"",useShadows:!(typeof Ve.useShadows<"u")||Ve.useShadows,handleMouseWheel:!(typeof Ve.handleMouseWheel<"u")||Ve.handleMouseWheel,flipAxes:typeof Ve.flipAxes<"u"&&Ve.flipAxes,consumeMouseWheelIfScrollbarIsNeeded:typeof Ve.consumeMouseWheelIfScrollbarIsNeeded<"u"&&Ve.consumeMouseWheelIfScrollbarIsNeeded,alwaysConsumeMouseWheel:typeof Ve.alwaysConsumeMouseWheel<"u"&&Ve.alwaysConsumeMouseWheel,scrollYToX:typeof Ve.scrollYToX<"u"&&Ve.scrollYToX,mouseWheelScrollSensitivity:typeof Ve.mouseWheelScrollSensitivity<"u"?Ve.mouseWheelScrollSensitivity:1,fastScrollSensitivity:typeof Ve.fastScrollSensitivity<"u"?Ve.fastScrollSensitivity:5,scrollPredominantAxis:!(typeof Ve.scrollPredominantAxis<"u")||Ve.scrollPredominantAxis,mouseWheelSmoothScroll:!(typeof Ve.mouseWheelSmoothScroll<"u")||Ve.mouseWheelSmoothScroll,arrowSize:typeof Ve.arrowSize<"u"?Ve.arrowSize:11,listenOnDomNode:typeof Ve.listenOnDomNode<"u"?Ve.listenOnDomNode:null,horizontal:typeof Ve.horizontal<"u"?Ve.horizontal:1,horizontalScrollbarSize:typeof Ve.horizontalScrollbarSize<"u"?Ve.horizontalScrollbarSize:10,horizontalSliderSize:typeof Ve.horizontalSliderSize<"u"?Ve.horizontalSliderSize:0,horizontalHasArrows:typeof Ve.horizontalHasArrows<"u"&&Ve.horizontalHasArrows,vertical:typeof Ve.vertical<"u"?Ve.vertical:1,verticalScrollbarSize:typeof Ve.verticalScrollbarSize<"u"?Ve.verticalScrollbarSize:10,verticalHasArrows:typeof Ve.verticalHasArrows<"u"&&Ve.verticalHasArrows,verticalSliderSize:typeof Ve.verticalSliderSize<"u"?Ve.verticalSliderSize:0,scrollByPage:typeof Ve.scrollByPage<"u"&&Ve.scrollByPage};return De.horizontalSliderSize=typeof Ve.horizontalSliderSize<"u"?Ve.horizontalSliderSize:De.horizontalScrollbarSize,De.verticalSliderSize=typeof Ve.verticalSliderSize<"u"?Ve.verticalSliderSize:De.verticalScrollbarSize,g.dz&&(De.className+=" mac"),De}(ye),this._scrollable=oe,this._register(this._scrollable.onScroll(x=>{this._onWillScroll.fire(x),this._onDidScroll(x),this._onScroll.fire(x)}));const Y={onMouseWheel:x=>this._onMouseWheel(x),onDragStart:()=>this._onDragStart(),onDragEnd:()=>this._onDragEnd()};this._verticalScrollbar=this._register(new I(this._scrollable,this._options,Y)),this._horizontalScrollbar=this._register(new l(this._scrollable,this._options,Y)),this._domNode=document.createElement("div"),this._domNode.className="monaco-scrollable-element "+this._options.className,this._domNode.setAttribute("role","presentation"),this._domNode.style.position="relative",this._domNode.style.overflow="hidden",this._domNode.appendChild(De),this._domNode.appendChild(this._horizontalScrollbar.domNode.domNode),this._domNode.appendChild(this._verticalScrollbar.domNode.domNode),this._options.useShadows?(this._leftShadowDomNode=(0,r.X)(document.createElement("div")),this._leftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._leftShadowDomNode.domNode),this._topShadowDomNode=(0,r.X)(document.createElement("div")),this._topShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topShadowDomNode.domNode),this._topLeftShadowDomNode=(0,r.X)(document.createElement("div")),this._topLeftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topLeftShadowDomNode.domNode)):(this._leftShadowDomNode=null,this._topShadowDomNode=null,this._topLeftShadowDomNode=null),this._listenOnDomNode=this._options.listenOnDomNode||this._domNode,this._mouseWheelToDispose=[],this._setListeningToMouseWheel(this._options.handleMouseWheel),this.onmouseover(this._listenOnDomNode,x=>this._onMouseOver(x)),this.onmouseleave(this._listenOnDomNode,x=>this._onMouseLeave(x)),this._hideTimeout=this._register(new T._F),this._isDragging=!1,this._mouseIsOver=!1,this._shouldRender=!0,this._revealOnScroll=!0}dispose(){this._mouseWheelToDispose=(0,c.B9)(this._mouseWheelToDispose),super.dispose()}getDomNode(){return this._domNode}getOverviewRulerLayoutInfo(){return{parent:this._domNode,insertBefore:this._verticalScrollbar.domNode.domNode}}delegateVerticalScrollbarPointerDown(De){this._verticalScrollbar.delegatePointerDown(De)}getScrollDimensions(){return this._scrollable.getScrollDimensions()}setScrollDimensions(De){this._scrollable.setScrollDimensions(De,!1)}updateClassName(De){this._options.className=De,g.dz&&(this._options.className+=" mac"),this._domNode.className="monaco-scrollable-element "+this._options.className}updateOptions(De){typeof De.handleMouseWheel<"u"&&(this._options.handleMouseWheel=De.handleMouseWheel,this._setListeningToMouseWheel(this._options.handleMouseWheel)),typeof De.mouseWheelScrollSensitivity<"u"&&(this._options.mouseWheelScrollSensitivity=De.mouseWheelScrollSensitivity),typeof De.fastScrollSensitivity<"u"&&(this._options.fastScrollSensitivity=De.fastScrollSensitivity),typeof De.scrollPredominantAxis<"u"&&(this._options.scrollPredominantAxis=De.scrollPredominantAxis),typeof De.horizontal<"u"&&(this._options.horizontal=De.horizontal),typeof De.vertical<"u"&&(this._options.vertical=De.vertical),typeof De.horizontalScrollbarSize<"u"&&(this._options.horizontalScrollbarSize=De.horizontalScrollbarSize),typeof De.verticalScrollbarSize<"u"&&(this._options.verticalScrollbarSize=De.verticalScrollbarSize),typeof De.scrollByPage<"u"&&(this._options.scrollByPage=De.scrollByPage),this._horizontalScrollbar.updateOptions(this._options),this._verticalScrollbar.updateOptions(this._options),this._options.lazyRender||this._render()}delegateScrollFromMouseWheelEvent(De){this._onMouseWheel(new y.q(De))}_setListeningToMouseWheel(De){this._mouseWheelToDispose.length>0!==De&&(this._mouseWheelToDispose=(0,c.B9)(this._mouseWheelToDispose),De)&&this._mouseWheelToDispose.push(P.nm(this._listenOnDomNode,P.tw.MOUSE_WHEEL,Y=>{this._onMouseWheel(new y.q(Y))},{passive:!1}))}_onMouseWheel(De){var ye;if(null!==(ye=De.browserEvent)&&void 0!==ye&&ye.defaultPrevented)return;const oe=ge.INSTANCE;oe.acceptStandardWheelEvent(De);let Y=!1;if(De.deltaY||De.deltaX){let F=De.deltaY*this._options.mouseWheelScrollSensitivity,ie=De.deltaX*this._options.mouseWheelScrollSensitivity;this._options.scrollPredominantAxis&&(this._options.scrollYToX&&ie+F===0?ie=F=0:Math.abs(F)>=Math.abs(ie)?ie=0:F=0),this._options.flipAxes&&([F,ie]=[ie,F]),(this._options.scrollYToX||!g.dz&&De.browserEvent&&De.browserEvent.shiftKey)&&!ie&&(ie=F,F=0),De.browserEvent&&De.browserEvent.altKey&&(ie*=this._options.fastScrollSensitivity,F*=this._options.fastScrollSensitivity);const ke=this._scrollable.getFutureScrollPosition();let Pe={};if(F){const xe=50*F,fe=ke.scrollTop-(xe<0?Math.floor(xe):Math.ceil(xe));this._verticalScrollbar.writeScrollPosition(Pe,fe)}if(ie){const xe=50*ie,fe=ke.scrollLeft-(xe<0?Math.floor(xe):Math.ceil(xe));this._horizontalScrollbar.writeScrollPosition(Pe,fe)}Pe=this._scrollable.validateScrollPosition(Pe),(ke.scrollLeft!==Pe.scrollLeft||ke.scrollTop!==Pe.scrollTop)&&(this._options.mouseWheelSmoothScroll&&oe.isPhysicalMouseWheel()?this._scrollable.setScrollPositionSmooth(Pe):this._scrollable.setScrollPositionNow(Pe),Y=!0)}let x=Y;!x&&this._options.alwaysConsumeMouseWheel&&(x=!0),!x&&this._options.consumeMouseWheelIfScrollbarIsNeeded&&(this._verticalScrollbar.isNeeded()||this._horizontalScrollbar.isNeeded())&&(x=!0),x&&(De.preventDefault(),De.stopPropagation())}_onDidScroll(De){this._shouldRender=this._horizontalScrollbar.onDidScroll(De)||this._shouldRender,this._shouldRender=this._verticalScrollbar.onDidScroll(De)||this._shouldRender,this._options.useShadows&&(this._shouldRender=!0),this._revealOnScroll&&this._reveal(),this._options.lazyRender||this._render()}renderNow(){if(!this._options.lazyRender)throw new Error("Please use `lazyRender` together with `renderNow`!");this._render()}_render(){if(this._shouldRender&&(this._shouldRender=!1,this._horizontalScrollbar.render(),this._verticalScrollbar.render(),this._options.useShadows)){const De=this._scrollable.getCurrentScrollPosition(),ye=De.scrollTop>0,oe=De.scrollLeft>0,Y=oe?" left":"",x=ye?" top":"",F=oe||ye?" top-left-corner":"";this._leftShadowDomNode.setClassName(`shadow${Y}`),this._topShadowDomNode.setClassName(`shadow${x}`),this._topLeftShadowDomNode.setClassName(`shadow${F}${x}${Y}`)}}_onDragStart(){this._isDragging=!0,this._reveal()}_onDragEnd(){this._isDragging=!1,this._hide()}_onMouseLeave(De){this._mouseIsOver=!1,this._hide()}_onMouseOver(De){this._mouseIsOver=!0,this._reveal()}_reveal(){this._verticalScrollbar.beginReveal(),this._horizontalScrollbar.beginReveal(),this._scheduleHide()}_hide(){!this._mouseIsOver&&!this._isDragging&&(this._verticalScrollbar.beginHide(),this._horizontalScrollbar.beginHide())}_scheduleHide(){!this._mouseIsOver&&!this._isDragging&&this._hideTimeout.cancelAndSet(()=>this._hide(),500)}}class ue extends _e{constructor(De,ye){(ye=ye||{}).mouseWheelSmoothScroll=!1;const oe=new D.Rm({forceIntegerValues:!0,smoothScrollDuration:0,scheduleAtNextAnimationFrame:Y=>P.jL(Y)});super(De,ye,oe),this._register(oe)}setScrollPosition(De){this._scrollable.setScrollPositionNow(De)}}class ve extends _e{constructor(De,ye,oe){super(De,ye,oe)}setScrollPosition(De){De.reuseAnimation?this._scrollable.setScrollPositionSmooth(De,De.reuseAnimation):this._scrollable.setScrollPositionNow(De)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}}class Ie extends _e{constructor(De,ye){(ye=ye||{}).mouseWheelSmoothScroll=!1;const oe=new D.Rm({forceIntegerValues:!1,smoothScrollDuration:0,scheduleAtNextAnimationFrame:Y=>P.jL(Y)});super(De,ye,oe),this._register(oe),this._element=De,this.onScroll(Y=>{Y.scrollTopChanged&&(this._element.scrollTop=Y.scrollTop),Y.scrollLeftChanged&&(this._element.scrollLeft=Y.scrollLeft)}),this.scanDomNode()}setScrollPosition(De){this._scrollable.setScrollPositionNow(De)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}scanDomNode(){this.setScrollDimensions({width:this._element.clientWidth,scrollWidth:this._element.scrollWidth,height:this._element.clientHeight,scrollHeight:this._element.scrollHeight}),this.setScrollPosition({scrollLeft:this._element.scrollLeft,scrollTop:this._element.scrollTop})}}},47832:(Xe,we,e)=>{e.d(we,{M:()=>P});class P{constructor(y,v,S,T,E,L){this._scrollbarSize=Math.round(v),this._oppositeScrollbarSize=Math.round(S),this._arrowSize=Math.round(y),this._visibleSize=T,this._scrollSize=E,this._scrollPosition=L,this._computedAvailableSize=0,this._computedIsNeeded=!1,this._computedSliderSize=0,this._computedSliderRatio=0,this._computedSliderPosition=0,this._refreshComputedValues()}clone(){return new P(this._arrowSize,this._scrollbarSize,this._oppositeScrollbarSize,this._visibleSize,this._scrollSize,this._scrollPosition)}setVisibleSize(y){const v=Math.round(y);return this._visibleSize!==v&&(this._visibleSize=v,this._refreshComputedValues(),!0)}setScrollSize(y){const v=Math.round(y);return this._scrollSize!==v&&(this._scrollSize=v,this._refreshComputedValues(),!0)}setScrollPosition(y){const v=Math.round(y);return this._scrollPosition!==v&&(this._scrollPosition=v,this._refreshComputedValues(),!0)}setScrollbarSize(y){this._scrollbarSize=Math.round(y)}setOppositeScrollbarSize(y){this._oppositeScrollbarSize=Math.round(y)}static _computeValues(y,v,S,T,E){const L=Math.max(0,S-y),p=Math.max(0,L-2*v),c=T>0&&T>S;if(!c)return{computedAvailableSize:Math.round(L),computedIsNeeded:c,computedSliderSize:Math.round(p),computedSliderRatio:0,computedSliderPosition:0};const u=Math.round(Math.max(20,Math.floor(S*p/T))),g=(p-u)/(T-S),i=E*g;return{computedAvailableSize:Math.round(L),computedIsNeeded:c,computedSliderSize:Math.round(u),computedSliderRatio:g,computedSliderPosition:Math.round(i)}}_refreshComputedValues(){const y=P._computeValues(this._oppositeScrollbarSize,this._arrowSize,this._visibleSize,this._scrollSize,this._scrollPosition);this._computedAvailableSize=y.computedAvailableSize,this._computedIsNeeded=y.computedIsNeeded,this._computedSliderSize=y.computedSliderSize,this._computedSliderRatio=y.computedSliderRatio,this._computedSliderPosition=y.computedSliderPosition}getArrowSize(){return this._arrowSize}getScrollPosition(){return this._scrollPosition}getRectangleLargeSize(){return this._computedAvailableSize}getRectangleSmallSize(){return this._scrollbarSize}isNeeded(){return this._computedIsNeeded}getSliderSize(){return this._computedSliderSize}getSliderPosition(){return this._computedSliderPosition}getDesiredScrollPositionFromOffset(y){return this._computedIsNeeded?Math.round((y-this._arrowSize-this._computedSliderSize/2)/this._computedSliderRatio):0}getDesiredScrollPositionFromOffsetPaged(y){if(!this._computedIsNeeded)return 0;let S=this._scrollPosition;return y-this._arrowSize<this._computedSliderPosition?S-=this._visibleSize:S+=this._visibleSize,S}getDesiredScrollPositionFromDelta(y){return this._computedIsNeeded?Math.round((this._computedSliderPosition+y)/this._computedSliderRatio):0}}},23620:(Xe,we,e)=>{e.d(we,{M:()=>se,z:()=>j});var f=e(20274),P=e(49489),r=e(89344),y=e(8286),v=e(31738),S=e(90888),T=e(58178),E=e(78694),L=e(53499),p=e(15962),c=e(91402),u=e(93379),g=e.n(u),i=e(7795),d=e.n(i),a=e(90569),m=e.n(a),l=e(3565),I=e.n(l),w=e(19216),D=e.n(w),N=e(44589),A=e.n(N),k=e(82470),R={};R.styleTagTransform=A(),R.setAttributes=I(),R.insert=m().bind(null,"head"),R.domAPI=d(),R.insertStyleElement=D(),g()(k.Z,R);const z={separatorBorder:S.Il.transparent};class U{set size(K){this._size=K}get size(){return this._size}get visible(){return typeof this._cachedVisibleSize>"u"}setVisible(K,J){var te,ne;K!==this.visible&&(K?(this.size=(0,L.uZ)(this._cachedVisibleSize,this.viewMinimumSize,this.viewMaximumSize),this._cachedVisibleSize=void 0):(this._cachedVisibleSize="number"==typeof J?J:this.size,this.size=0),this.container.classList.toggle("visible",K),null===(ne=(te=this.view).setVisible)||void 0===ne||ne.call(te,K))}get minimumSize(){return this.visible?this.view.minimumSize:0}get viewMinimumSize(){return this.view.minimumSize}get maximumSize(){return this.visible?this.view.maximumSize:0}get viewMaximumSize(){return this.view.maximumSize}get priority(){return this.view.priority}get proportionalLayout(){var K;return null===(K=this.view.proportionalLayout)||void 0===K||K}get snap(){return!!this.view.snap}set enabled(K){this.container.style.pointerEvents=K?"":"none"}constructor(K,J,te,ne){this.container=K,this.view=J,this.disposable=ne,this._cachedVisibleSize=void 0,"number"==typeof te?(this._size=te,this._cachedVisibleSize=void 0,K.classList.add("visible")):(this._size=0,this._cachedVisibleSize=te.cachedVisibleSize)}layout(K,J){this.layoutContainer(K),this.view.layout(this.size,K,J)}dispose(){this.disposable.dispose()}}class ee extends U{layoutContainer(K){this.container.style.top=`${K}px`,this.container.style.height=`${this.size}px`}}class B extends U{layoutContainer(K){this.container.style.left=`${K}px`,this.container.style.width=`${this.size}px`}}var se,$,G=function($){return $[$.Idle=0]="Idle",$[$.Busy=1]="Busy",$}(G||{});($=se||(se={})).Distribute={type:"distribute"},$.Split=function K(ne){return{type:"split",index:ne}},$.Auto=function J(ne){return{type:"auto",index:ne}},$.Invisible=function te(ne){return{type:"invisible",cachedVisibleSize:ne}};class j extends E.JT{get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}get startSnappingEnabled(){return this._startSnappingEnabled}get endSnappingEnabled(){return this._endSnappingEnabled}set orthogonalStartSash(K){for(const J of this.sashItems)J.sash.orthogonalStartSash=K;this._orthogonalStartSash=K}set orthogonalEndSash(K){for(const J of this.sashItems)J.sash.orthogonalEndSash=K;this._orthogonalEndSash=K}set startSnappingEnabled(K){this._startSnappingEnabled!==K&&(this._startSnappingEnabled=K,this.updateSashEnablement())}set endSnappingEnabled(K){this._endSnappingEnabled!==K&&(this._endSnappingEnabled=K,this.updateSashEnablement())}constructor(K,J={}){var te,ne,_,ae,ge;super(),this.size=0,this.contentSize=0,this.proportions=void 0,this.viewItems=[],this.sashItems=[],this.state=G.Idle,this._onDidSashChange=this._register(new T.Q5),this._onDidSashReset=this._register(new T.Q5),this._startSnappingEnabled=!0,this._endSnappingEnabled=!0,this.onDidSashChange=this._onDidSashChange.event,this.onDidSashReset=this._onDidSashReset.event,this.orientation=null!==(te=J.orientation)&&void 0!==te?te:0,this.inverseAltBehavior=null!==(ne=J.inverseAltBehavior)&&void 0!==ne&&ne,this.proportionalLayout=null===(_=J.proportionalLayout)||void 0===_||_,this.getSashOrthogonalSize=J.getSashOrthogonalSize,this.el=document.createElement("div"),this.el.classList.add("monaco-split-view2"),this.el.classList.add(0===this.orientation?"vertical":"horizontal"),K.appendChild(this.el),this.sashContainer=(0,f.R3)(this.el,(0,f.$)(".sash-container")),this.viewContainer=(0,f.$)(".split-view-container"),this.scrollable=this._register(new p.Rm({forceIntegerValues:!0,smoothScrollDuration:125,scheduleAtNextAnimationFrame:f.jL})),this.scrollableElement=this._register(new y.$Z(this.viewContainer,{vertical:0===this.orientation?null!==(ae=J.scrollbarVisibility)&&void 0!==ae?ae:1:2,horizontal:1===this.orientation?null!==(ge=J.scrollbarVisibility)&&void 0!==ge?ge:1:2},this.scrollable));const _e=this._register(new P.Y(this.viewContainer,"scroll")).event;this._register(_e(ue=>{const ve=this.scrollableElement.getScrollPosition(),Ie=Math.abs(this.viewContainer.scrollLeft-ve.scrollLeft)<=1?void 0:this.viewContainer.scrollLeft,Se=Math.abs(this.viewContainer.scrollTop-ve.scrollTop)<=1?void 0:this.viewContainer.scrollTop;(void 0!==Ie||void 0!==Se)&&this.scrollableElement.setScrollPosition({scrollLeft:Ie,scrollTop:Se})})),this.onDidScroll=this.scrollableElement.onScroll,this._register(this.onDidScroll(ue=>{ue.scrollTopChanged&&(this.viewContainer.scrollTop=ue.scrollTop),ue.scrollLeftChanged&&(this.viewContainer.scrollLeft=ue.scrollLeft)})),(0,f.R3)(this.el,this.scrollableElement.getDomNode()),this.style(J.styles||z),J.descriptor&&(this.size=J.descriptor.size,J.descriptor.views.forEach((ue,ve)=>{const Ie=c.o8(ue.visible)||ue.visible?ue.size:{type:"invisible",cachedVisibleSize:ue.size};this.doAddView(ue.view,Ie,ve,!0)}),this.contentSize=this.viewItems.reduce((ue,ve)=>ue+ve.size,0),this.saveProportions())}style(K){K.separatorBorder.isTransparent()?(this.el.classList.remove("separator-border"),this.el.style.removeProperty("--separator-border")):(this.el.classList.add("separator-border"),this.el.style.setProperty("--separator-border",K.separatorBorder.toString()))}addView(K,J,te=this.viewItems.length,ne){this.doAddView(K,J,te,ne)}layout(K,J){const te=Math.max(this.size,this.contentSize);if(this.size=K,this.layoutContext=J,this.proportions){let ne=0;for(let _=0;_<this.viewItems.length;_++){const ge=this.proportions[_];"number"==typeof ge?ne+=ge:K-=this.viewItems[_].size}for(let _=0;_<this.viewItems.length;_++){const ae=this.viewItems[_],ge=this.proportions[_];"number"==typeof ge&&(ae.size=(0,L.uZ)(Math.round(ge*K/ne),ae.minimumSize,ae.maximumSize))}}else{const ne=(0,v.w6)(this.viewItems.length),_=ne.filter(ge=>1===this.viewItems[ge].priority),ae=ne.filter(ge=>2===this.viewItems[ge].priority);this.resize(this.viewItems.length-1,K-te,void 0,_,ae)}this.distributeEmptySpace(),this.layoutViews()}saveProportions(){this.proportionalLayout&&this.contentSize>0&&(this.proportions=this.viewItems.map(K=>K.proportionalLayout?K.size/this.contentSize:void 0))}onSashStart({sash:K,start:J,alt:te}){for(const ge of this.viewItems)ge.enabled=!1;const ne=this.sashItems.findIndex(ge=>ge.sash===K),_=(0,E.F8)((0,f.nm)(document.body,"keydown",ge=>ae(this.sashDragState.current,ge.altKey)),(0,f.nm)(document.body,"keyup",()=>ae(this.sashDragState.current,!1))),ae=(ge,_e)=>{const ue=this.viewItems.map(De=>De.size);let Se,Ve,ve=Number.NEGATIVE_INFINITY,Ie=Number.POSITIVE_INFINITY;if(this.inverseAltBehavior&&(_e=!_e),_e)if(ne===this.sashItems.length-1){const ye=this.viewItems[ne];ve=(ye.minimumSize-ye.size)/2,Ie=(ye.maximumSize-ye.size)/2}else{const ye=this.viewItems[ne+1];ve=(ye.size-ye.maximumSize)/2,Ie=(ye.size-ye.minimumSize)/2}if(!_e){const De=(0,v.w6)(ne,-1),ye=(0,v.w6)(ne+1,this.viewItems.length),oe=De.reduce((xe,fe)=>xe+(this.viewItems[fe].minimumSize-ue[fe]),0),Y=De.reduce((xe,fe)=>xe+(this.viewItems[fe].viewMaximumSize-ue[fe]),0),x=0===ye.length?Number.POSITIVE_INFINITY:ye.reduce((xe,fe)=>xe+(ue[fe]-this.viewItems[fe].minimumSize),0),F=0===ye.length?Number.NEGATIVE_INFINITY:ye.reduce((xe,fe)=>xe+(ue[fe]-this.viewItems[fe].viewMaximumSize),0),ie=Math.max(oe,F),Ce=Math.min(x,Y),ke=this.findFirstSnapIndex(De),Pe=this.findFirstSnapIndex(ye);if("number"==typeof ke){const xe=this.viewItems[ke],fe=Math.floor(xe.viewMinimumSize/2);Se={index:ke,limitDelta:xe.visible?ie-fe:ie+fe,size:xe.size}}if("number"==typeof Pe){const xe=this.viewItems[Pe],fe=Math.floor(xe.viewMinimumSize/2);Ve={index:Pe,limitDelta:xe.visible?Ce+fe:Ce-fe,size:xe.size}}}this.sashDragState={start:ge,current:ge,index:ne,sizes:ue,minDelta:ve,maxDelta:Ie,alt:_e,snapBefore:Se,snapAfter:Ve,disposable:_}};ae(J,te)}onSashChange({current:K}){const{index:J,start:te,sizes:ne,alt:_,minDelta:ae,maxDelta:ge,snapBefore:_e,snapAfter:ue}=this.sashDragState;this.sashDragState.current=K;const Ie=this.resize(J,K-te,ne,void 0,void 0,ae,ge,_e,ue);if(_){const Se=J===this.sashItems.length-1,Ve=this.viewItems.map(F=>F.size),ye=this.viewItems[Se?J:J+1];this.resize(Se?J-1:J+1,-Ie,Ve,void 0,void 0,ye.size-ye.maximumSize,ye.size-ye.minimumSize)}this.distributeEmptySpace(),this.layoutViews()}onSashEnd(K){this._onDidSashChange.fire(K),this.sashDragState.disposable.dispose(),this.saveProportions();for(const J of this.viewItems)J.enabled=!0}onViewChange(K,J){const te=this.viewItems.indexOf(K);te<0||te>=this.viewItems.length||(J=(0,L.uZ)(J="number"==typeof J?J:K.size,K.minimumSize,K.maximumSize),this.inverseAltBehavior&&te>0?(this.resize(te-1,Math.floor((K.size-J)/2)),this.distributeEmptySpace(),this.layoutViews()):(K.size=J,this.relayout([te],void 0)))}resizeView(K,J){if(this.state!==G.Idle)throw new Error("Cant modify splitview");if(this.state=G.Busy,K<0||K>=this.viewItems.length)return;const te=(0,v.w6)(this.viewItems.length).filter(ge=>ge!==K),ne=[...te.filter(ge=>1===this.viewItems[ge].priority),K],_=te.filter(ge=>2===this.viewItems[ge].priority),ae=this.viewItems[K];J=Math.round(J),J=(0,L.uZ)(J,ae.minimumSize,Math.min(ae.maximumSize,this.size)),ae.size=J,this.relayout(ne,_),this.state=G.Idle}distributeViewSizes(){const K=[];let J=0;for(const ge of this.viewItems)ge.maximumSize-ge.minimumSize>0&&(K.push(ge),J+=ge.size);const te=Math.floor(J/K.length);for(const ge of K)ge.size=(0,L.uZ)(te,ge.minimumSize,ge.maximumSize);const ne=(0,v.w6)(this.viewItems.length),_=ne.filter(ge=>1===this.viewItems[ge].priority),ae=ne.filter(ge=>2===this.viewItems[ge].priority);this.relayout(_,ae)}getViewSize(K){return K<0||K>=this.viewItems.length?-1:this.viewItems[K].size}doAddView(K,J,te=this.viewItems.length,ne){if(this.state!==G.Idle)throw new Error("Cant modify splitview");this.state=G.Busy;const _=(0,f.$)(".split-view-view");te===this.viewItems.length?this.viewContainer.appendChild(_):this.viewContainer.insertBefore(_,this.viewContainer.children.item(te));const ae=K.onDidChange(Se=>this.onViewChange(ve,Se)),ge=(0,E.OF)(()=>this.viewContainer.removeChild(_)),_e=(0,E.F8)(ae,ge);let ue;"number"==typeof J?ue=J:("auto"===J.type&&(J=this.areViewsDistributed()?{type:"distribute"}:{type:"split",index:J.index}),ue="split"===J.type?this.getViewSize(J.index)/2:"invisible"===J.type?{cachedVisibleSize:J.cachedVisibleSize}:K.minimumSize);const ve=0===this.orientation?new ee(_,K,ue,_e):new B(_,K,ue,_e);if(this.viewItems.splice(te,0,ve),this.viewItems.length>1){const Se={orthogonalStartSash:this.orthogonalStartSash,orthogonalEndSash:this.orthogonalEndSash},Ve=0===this.orientation?new r.g(this.sashContainer,{getHorizontalSashTop:xe=>this.getSashPosition(xe),getHorizontalSashWidth:this.getSashOrthogonalSize},Object.assign(Object.assign({},Se),{orientation:1})):new r.g(this.sashContainer,{getVerticalSashLeft:xe=>this.getSashPosition(xe),getVerticalSashHeight:this.getSashOrthogonalSize},Object.assign(Object.assign({},Se),{orientation:0})),De=0===this.orientation?xe=>({sash:Ve,start:xe.startY,current:xe.currentY,alt:xe.altKey}):xe=>({sash:Ve,start:xe.startX,current:xe.currentX,alt:xe.altKey}),oe=T.ju.map(Ve.onDidStart,De)(this.onSashStart,this),x=T.ju.map(Ve.onDidChange,De)(this.onSashChange,this),ie=T.ju.map(Ve.onDidEnd,()=>this.sashItems.findIndex(xe=>xe.sash===Ve))(this.onSashEnd,this),Ce=Ve.onDidReset(()=>{const xe=this.sashItems.findIndex(le=>le.sash===Ve),fe=(0,v.w6)(xe,-1),be=(0,v.w6)(xe+1,this.viewItems.length),pe=this.findFirstSnapIndex(fe),Q=this.findFirstSnapIndex(be);"number"==typeof pe&&!this.viewItems[pe].visible||"number"==typeof Q&&!this.viewItems[Q].visible||this._onDidSashReset.fire(xe)}),ke=(0,E.F8)(oe,x,ie,Ce,Ve);this.sashItems.splice(te-1,0,{sash:Ve,disposable:ke})}let Ie;_.appendChild(K.element),"number"!=typeof J&&"split"===J.type&&(Ie=[J.index]),ne||this.relayout([te],Ie),this.state=G.Idle,!ne&&"number"!=typeof J&&"distribute"===J.type&&this.distributeViewSizes()}relayout(K,J){const te=this.viewItems.reduce((ne,_)=>ne+_.size,0);this.resize(this.viewItems.length-1,this.size-te,void 0,K,J),this.distributeEmptySpace(),this.layoutViews(),this.saveProportions()}resize(K,J,te=this.viewItems.map(ve=>ve.size),ne,_,ae=Number.NEGATIVE_INFINITY,ge=Number.POSITIVE_INFINITY,_e,ue){if(K<0||K>=this.viewItems.length)return 0;const ve=(0,v.w6)(K,-1),Ie=(0,v.w6)(K+1,this.viewItems.length);if(_)for(const Pe of _)(0,v.zI)(ve,Pe),(0,v.zI)(Ie,Pe);if(ne)for(const Pe of ne)(0,v.al)(ve,Pe),(0,v.al)(Ie,Pe);const Se=ve.map(Pe=>this.viewItems[Pe]),Ve=ve.map(Pe=>te[Pe]),De=Ie.map(Pe=>this.viewItems[Pe]),ye=Ie.map(Pe=>te[Pe]),oe=ve.reduce((Pe,xe)=>Pe+(this.viewItems[xe].minimumSize-te[xe]),0),Y=ve.reduce((Pe,xe)=>Pe+(this.viewItems[xe].maximumSize-te[xe]),0),x=0===Ie.length?Number.POSITIVE_INFINITY:Ie.reduce((Pe,xe)=>Pe+(te[xe]-this.viewItems[xe].minimumSize),0),F=0===Ie.length?Number.NEGATIVE_INFINITY:Ie.reduce((Pe,xe)=>Pe+(te[xe]-this.viewItems[xe].maximumSize),0),ie=Math.max(oe,F,ae),Ce=Math.min(x,Y,ge);let ke=!1;if(_e){const Pe=this.viewItems[_e.index],xe=J>=_e.limitDelta;ke=xe!==Pe.visible,Pe.setVisible(xe,_e.size)}if(!ke&&ue){const Pe=this.viewItems[ue.index],xe=J<ue.limitDelta;ke=xe!==Pe.visible,Pe.setVisible(xe,ue.size)}if(ke)return this.resize(K,J,te,ne,_,ae,ge);for(let Pe=0,xe=J=(0,L.uZ)(J,ie,Ce);Pe<Se.length;Pe++){const fe=Se[Pe],be=(0,L.uZ)(Ve[Pe]+xe,fe.minimumSize,fe.maximumSize);xe-=be-Ve[Pe],fe.size=be}for(let Pe=0,xe=J;Pe<De.length;Pe++){const fe=De[Pe],be=(0,L.uZ)(ye[Pe]-xe,fe.minimumSize,fe.maximumSize);xe+=be-ye[Pe],fe.size=be}return J}distributeEmptySpace(K){const J=this.viewItems.reduce((ge,_e)=>ge+_e.size,0);let te=this.size-J;const ne=(0,v.w6)(this.viewItems.length-1,-1),_=ne.filter(ge=>1===this.viewItems[ge].priority),ae=ne.filter(ge=>2===this.viewItems[ge].priority);for(const ge of ae)(0,v.zI)(ne,ge);for(const ge of _)(0,v.al)(ne,ge);"number"==typeof K&&(0,v.al)(ne,K);for(let ge=0;0!==te&&ge<ne.length;ge++){const _e=this.viewItems[ne[ge]],ue=(0,L.uZ)(_e.size+te,_e.minimumSize,_e.maximumSize);te-=ue-_e.size,_e.size=ue}}layoutViews(){this.contentSize=this.viewItems.reduce((J,te)=>J+te.size,0);let K=0;for(const J of this.viewItems)J.layout(K,this.layoutContext),K+=J.size;this.sashItems.forEach(J=>J.sash.layout()),this.updateSashEnablement(),this.updateScrollableElement()}updateScrollableElement(){this.scrollableElement.setScrollDimensions(0===this.orientation?{height:this.size,scrollHeight:this.contentSize}:{width:this.size,scrollWidth:this.contentSize})}updateSashEnablement(){let K=!1;const J=this.viewItems.map(_e=>K=_e.size-_e.minimumSize>0||K);K=!1;const te=this.viewItems.map(_e=>K=_e.maximumSize-_e.size>0||K),ne=[...this.viewItems].reverse();K=!1;const _=ne.map(_e=>K=_e.size-_e.minimumSize>0||K).reverse();K=!1;const ae=ne.map(_e=>K=_e.maximumSize-_e.size>0||K).reverse();let ge=0;for(let _e=0;_e<this.sashItems.length;_e++){const{sash:ue}=this.sashItems[_e];ge+=this.viewItems[_e].size;const Ie=!(J[_e]&&ae[_e+1]),Se=!(te[_e]&&_[_e+1]);if(Ie&&Se){const Ve=(0,v.w6)(_e,-1),De=(0,v.w6)(_e+1,this.viewItems.length),ye=this.findFirstSnapIndex(Ve),oe=this.findFirstSnapIndex(De);ue.state="number"==typeof ye&&!this.viewItems[ye].visible&&_[_e]&&(ge>0||this.startSnappingEnabled)?1:"number"==typeof oe&&!this.viewItems[oe].visible&&J[_e]&&(ge<this.contentSize||this.endSnappingEnabled)?2:0}else ue.state=Ie&&!Se?1:!Ie&&Se?2:3}}getSashPosition(K){let J=0;for(let te=0;te<this.sashItems.length;te++)if(J+=this.viewItems[te].size,this.sashItems[te].sash===K)return J;return 0}findFirstSnapIndex(K){for(const J of K){const te=this.viewItems[J];if(te.visible&&te.snap)return J}for(const J of K){const te=this.viewItems[J];if(te.visible&&te.maximumSize-te.minimumSize>0)return;if(!te.visible&&te.snap)return J}}areViewsDistributed(){let K,J;for(const te of this.viewItems)if(K=void 0===K?te.size:Math.min(K,te.size),J=void 0===J?te.size:Math.max(J,te.size),J-K>2)return!1;return!0}dispose(){var K;null===(K=this.sashDragState)||void 0===K||K.disposable.dispose(),(0,E.B9)(this.viewItems),this.viewItems=[],this.sashItems.forEach(J=>J.disposable.dispose()),this.sashItems=[],super.dispose()}}},50145:(Xe,we,e)=>{e.d(we,{Z:()=>D,D:()=>w});var f=e(19491),P=e(35053),r=e(58178),y=e(93379),v=e.n(y),S=e(7795),T=e.n(S),E=e(90569),L=e.n(E),p=e(3565),c=e.n(p),u=e(19216),g=e.n(u),i=e(44589),d=e.n(i),a=e(16310),m={};m.styleTagTransform=d(),m.setAttributes=c(),m.insert=L().bind(null,"head"),m.domAPI=T(),m.insertStyleElement=g(),v()(a.Z,m);const w={inputActiveOptionBorder:"#007ACC00",inputActiveOptionForeground:"#FFFFFF",inputActiveOptionBackground:"#0E639C50"};class D extends f.${constructor(A){super(),this._onChange=this._register(new r.Q5),this.onChange=this._onChange.event,this._onKeyDown=this._register(new r.Q5),this.onKeyDown=this._onKeyDown.event,this._opts=A,this._checked=this._opts.isChecked;const k=["monaco-custom-toggle"];this._opts.icon&&(this._icon=this._opts.icon,k.push(...P.k.asClassNameArray(this._icon))),this._opts.actionClassName&&k.push(...this._opts.actionClassName.split(" ")),this._checked&&k.push("checked"),this.domNode=document.createElement("div"),this.domNode.title=this._opts.title,this.domNode.classList.add(...k),this._opts.notFocusable||(this.domNode.tabIndex=0),this.domNode.setAttribute("role","checkbox"),this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.setAttribute("aria-label",this._opts.title),this.applyStyles(),this.onclick(this.domNode,R=>{this.enabled&&(this.checked=!this._checked,this._onChange.fire(!1),R.preventDefault())}),this._register(this.ignoreGesture(this.domNode)),this.onkeydown(this.domNode,R=>{if(10===R.keyCode||3===R.keyCode)return this.checked=!this._checked,this._onChange.fire(!0),R.preventDefault(),void R.stopPropagation();this._onKeyDown.fire(R)})}get enabled(){return"true"!==this.domNode.getAttribute("aria-disabled")}focus(){this.domNode.focus()}get checked(){return this._checked}set checked(A){this._checked=A,this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.classList.toggle("checked",this._checked),this.applyStyles()}width(){return 22}applyStyles(){this.domNode&&(this.domNode.style.borderColor=this._checked&&this._opts.inputActiveOptionBorder||"",this.domNode.style.color=this._checked&&this._opts.inputActiveOptionForeground||"inherit",this.domNode.style.backgroundColor=this._checked&&this._opts.inputActiveOptionBackground||"")}enable(){this.domNode.setAttribute("aria-disabled",String(!1))}disable(){this.domNode.setAttribute("aria-disabled",String(!0))}}},19491:(Xe,we,e)=>{e.d(we,{$:()=>S});var f=e(20274),P=e(89271),r=e(20940),y=e(54796),v=e(78694);class S extends v.JT{onclick(E,L){this._register(f.nm(E,f.tw.CLICK,p=>L(new r.n(p))))}onmousedown(E,L){this._register(f.nm(E,f.tw.MOUSE_DOWN,p=>L(new r.n(p))))}onmouseover(E,L){this._register(f.nm(E,f.tw.MOUSE_OVER,p=>L(new r.n(p))))}onmouseleave(E,L){this._register(f.nm(E,f.tw.MOUSE_LEAVE,p=>L(new r.n(p))))}onkeydown(E,L){this._register(f.nm(E,f.tw.KEY_DOWN,p=>L(new P.y(p))))}onkeyup(E,L){this._register(f.nm(E,f.tw.KEY_UP,p=>L(new P.y(p))))}oninput(E,L){this._register(f.nm(E,f.tw.INPUT,L))}onblur(E,L){this._register(f.nm(E,f.tw.BLUR,L))}onfocus(E,L){this._register(f.nm(E,f.tw.FOCUS,L))}ignoreGesture(E){return y.o.ignoreTarget(E)}}},54457:(Xe,we,e)=>{e.d(we,{Wi:()=>S,Z0:()=>T,aU:()=>v,eZ:()=>L,wY:()=>E,xw:()=>p});var f=e(58178),P=e(78694),r=e(37190),y=function(c,u,g,i){return new(g||(g=Promise))(function(a,m){function l(D){try{w(i.next(D))}catch(N){m(N)}}function I(D){try{w(i.throw(D))}catch(N){m(N)}}function w(D){D.done?a(D.value):function d(a){return a instanceof g?a:new g(function(m){m(a)})}(D.value).then(l,I)}w((i=i.apply(c,u||[])).next())})};class v extends P.JT{constructor(u,g="",i="",d=!0,a){super(),this._onDidChange=this._register(new f.Q5),this.onDidChange=this._onDidChange.event,this._enabled=!0,this._id=u,this._label=g,this._cssClass=i,this._enabled=d,this._actionCallback=a}get id(){return this._id}get label(){return this._label}set label(u){this._setLabel(u)}_setLabel(u){this._label!==u&&(this._label=u,this._onDidChange.fire({label:u}))}get tooltip(){return this._tooltip||""}set tooltip(u){this._setTooltip(u)}_setTooltip(u){this._tooltip!==u&&(this._tooltip=u,this._onDidChange.fire({tooltip:u}))}get class(){return this._cssClass}set class(u){this._setClass(u)}_setClass(u){this._cssClass!==u&&(this._cssClass=u,this._onDidChange.fire({class:u}))}get enabled(){return this._enabled}set enabled(u){this._setEnabled(u)}_setEnabled(u){this._enabled!==u&&(this._enabled=u,this._onDidChange.fire({enabled:u}))}get checked(){return this._checked}set checked(u){this._setChecked(u)}_setChecked(u){this._checked!==u&&(this._checked=u,this._onDidChange.fire({checked:u}))}run(u,g){return y(this,void 0,void 0,function*(){this._actionCallback&&(yield this._actionCallback(u))})}}class S extends P.JT{constructor(){super(...arguments),this._onWillRun=this._register(new f.Q5),this.onWillRun=this._onWillRun.event,this._onDidRun=this._register(new f.Q5),this.onDidRun=this._onDidRun.event}run(u,g){return y(this,void 0,void 0,function*(){if(!u.enabled)return;let i;this._onWillRun.fire({action:u});try{yield this.runAction(u,g)}catch(d){i=d}this._onDidRun.fire({action:u,error:i})})}runAction(u,g){return y(this,void 0,void 0,function*(){yield u.run(g)})}}let T=(()=>{class c{constructor(){this.id=c.ID,this.label="",this.tooltip="",this.class="separator",this.enabled=!1,this.checked=!1}static join(...g){let i=[];for(const d of g)d.length&&(i=i.length?[...i,new c,...d]:d);return i}run(){return y(this,void 0,void 0,function*(){})}}return c.ID="vs.actions.separator",c})();class E{get actions(){return this._actions}constructor(u,g,i,d){this.tooltip="",this.enabled=!0,this.checked=void 0,this.id=u,this.label=g,this.class=d,this._actions=i}run(){return y(this,void 0,void 0,function*(){})}}let L=(()=>{class c extends v{constructor(){super(c.ID,r.NC("submenu.empty","(empty)"),void 0,!1)}}return c.ID="vs.actions.empty",c})();function p(c){var u,g;return{id:c.id,label:c.label,class:void 0,enabled:null===(u=c.enabled)||void 0===u||u,checked:null!==(g=c.checked)&&void 0!==g&&g,run:()=>y(this,void 0,void 0,function*(){return c.run()}),tooltip:c.label}}},31738:(Xe,we,e)=>{function f(_,ae=0){return _[_.length-(1+ae)]}function P(_){if(0===_.length)throw new Error("Invalid tail call");return[_.slice(0,_.length-1),_[_.length-1]]}function r(_,ae,ge=((_e,ue)=>_e===ue)){if(_===ae)return!0;if(!_||!ae||_.length!==ae.length)return!1;for(let _e=0,ue=_.length;_e<ue;_e++)if(!ge(_[_e],ae[_e]))return!1;return!0}function y(_,ae){const ge=_.length-1;ae<ge&&(_[ae]=_[ge]),_.pop()}function v(_,ae,ge){return function S(_,ae){let ge=0,_e=_-1;for(;ge<=_e;){const ue=(ge+_e)/2|0,ve=ae(ue);if(ve<0)ge=ue+1;else{if(!(ve>0))return ue;_e=ue-1}}return-(ge+1)}(_.length,_e=>ge(_[_e],ae))}function T(_,ae){let ge=0,_e=_.length;if(0===_e)return 0;for(;ge<_e;){const ue=Math.floor((ge+_e)/2);ae(_[ue])?_e=ue:ge=ue+1}return ge}function E(_,ae,ge){if((_|=0)>=ae.length)throw new TypeError("invalid index");const _e=ae[Math.floor(ae.length*Math.random())],ue=[],ve=[],Ie=[];for(const Se of ae){const Ve=ge(Se,_e);Ve<0?ue.push(Se):Ve>0?ve.push(Se):Ie.push(Se)}return _<ue.length?E(_,ue,ge):_<ue.length+Ie.length?Ie[0]:E(_-(ue.length+Ie.length),ve,ge)}function L(_,ae){const ge=[];let _e;for(const ue of _.slice(0).sort(ae))_e&&0===ae(_e[0],ue)?_e.push(ue):(_e=[ue],ge.push(_e));return ge}function p(_){return _.filter(ae=>!!ae)}function c(_){let ae=0;for(let ge=0;ge<_.length;ge++)_[ge]&&(_[ae]=_[ge],ae+=1);_.length=ae}function u(_){return!Array.isArray(_)||0===_.length}function g(_){return Array.isArray(_)&&_.length>0}function i(_,ae=(ge=>ge)){const ge=new Set;return _.filter(_e=>{const ue=ae(_e);return!ge.has(ue)&&(ge.add(ue),!0)})}function d(_,ae){const ge=a(_,ae);if(-1!==ge)return _[ge]}function a(_,ae){for(let ge=_.length-1;ge>=0;ge--)if(ae(_[ge]))return ge;return-1}function m(_,ae){return _.length>0?_[0]:ae}function l(_,ae){let ge="number"==typeof ae?_:0;"number"==typeof ae?ge=_:(ge=0,ae=_);const _e=[];if(ge<=ae)for(let ue=ge;ue<ae;ue++)_e.push(ue);else for(let ue=ge;ue>ae;ue--)_e.push(ue);return _e}function I(_,ae,ge){const _e=_.slice(0,ae),ue=_.slice(ae);return _e.concat(ge,ue)}function w(_,ae){const ge=_.indexOf(ae);ge>-1&&(_.splice(ge,1),_.unshift(ae))}function D(_,ae){const ge=_.indexOf(ae);ge>-1&&(_.splice(ge,1),_.push(ae))}function N(_,ae){for(const ge of ae)_.push(ge)}function A(_){return Array.isArray(_)?_:[_]}function k(_,ae){for(const ge of _){const _e=ae(ge);if(void 0!==_e)return _e}}function O(_,ae,ge,_e){const ue=W(_,ae),ve=_.splice(ue,ge);return function R(_,ae,ge){const _e=W(_,ae),ue=_.length,ve=ge.length;_.length=ue+ve;for(let Ie=ue-1;Ie>=_e;Ie--)_[Ie+ve]=_[Ie];for(let Ie=0;Ie<ve;Ie++)_[Ie+_e]=ge[Ie]}(_,ue,_e),ve}function W(_,ae){return ae<0?Math.max(ae+_.length,0):Math.min(ae,_.length)}var z,_;function U(_,ae){return(ge,_e)=>ae(_(ge),_(_e))}function ee(..._){return(ae,ge)=>{for(const _e of _){const ue=_e(ae,ge);if(!z.isNeitherLessOrGreaterThan(ue))return ue}return z.neitherLessOrGreaterThan}}e.d(we,{BV:()=>se,Bq:()=>z,Dc:()=>j,EB:()=>i,Gb:()=>f,H9:()=>te,HW:()=>E,JH:()=>P,LS:()=>y,Of:()=>g,Rs:()=>c,VJ:()=>K,W$:()=>ne,XY:()=>u,Xh:()=>m,Zv:()=>I,_2:()=>A,al:()=>D,bX:()=>k,dF:()=>d,db:()=>O,fS:()=>r,f_:()=>ee,fv:()=>B,jV:()=>$,kX:()=>p,lG:()=>T,nW:()=>G,qr:()=>a,ry:()=>v,tQ:()=>J,tT:()=>U,vA:()=>N,vM:()=>L,w6:()=>l,zI:()=>w}),(_=z||(z={})).isLessThan=function ae(ve){return ve<0},_.isLessThanOrEqual=function ge(ve){return ve<=0},_.isGreaterThan=function _e(ve){return ve>0},_.isNeitherLessOrGreaterThan=function ue(ve){return 0===ve},_.greaterThan=1,_.lessThan=-1,_.neitherLessOrGreaterThan=0;const B=(_,ae)=>_-ae,G=(_,ae)=>B(_?1:0,ae?1:0);function se(_){return(ae,ge)=>-_(ae,ge)}function j(_,ae){if(0===_.length)return;let ge=_[0];for(let _e=1;_e<_.length;_e++){const ue=_[_e];ae(ue,ge)>0&&(ge=ue)}return ge}function $(_,ae){if(0===_.length)return;let ge=_[0];for(let _e=1;_e<_.length;_e++){const ue=_[_e];ae(ue,ge)>=0&&(ge=ue)}return ge}function K(_,ae){return j(_,(ge,_e)=>-ae(ge,_e))}function J(_,ae){if(0===_.length)return-1;let ge=0;for(let _e=1;_e<_.length;_e++)ae(_[_e],_[ge])>0&&(ge=_e);return ge}class te{constructor(ae){this.items=ae,this.firstIdx=0,this.lastIdx=this.items.length-1}get length(){return this.lastIdx-this.firstIdx+1}takeWhile(ae){let ge=this.firstIdx;for(;ge<this.items.length&&ae(this.items[ge]);)ge++;const _e=ge===this.firstIdx?null:this.items.slice(this.firstIdx,ge);return this.firstIdx=ge,_e}takeFromEndWhile(ae){let ge=this.lastIdx;for(;ge>=0&&ae(this.items[ge]);)ge--;const _e=ge===this.lastIdx?null:this.items.slice(ge+1,this.lastIdx+1);return this.lastIdx=ge,_e}peek(){if(0!==this.length)return this.items[this.firstIdx]}dequeue(){const ae=this.items[this.firstIdx];return this.firstIdx++,ae}takeCount(ae){const ge=this.items.slice(this.firstIdx,this.firstIdx+ae);return this.firstIdx+=ae,ge}}class ne{constructor(ae){this.iterate=ae}toArray(){const ae=[];return this.iterate(ge=>(ae.push(ge),!0)),ae}filter(ae){return new ne(ge=>this.iterate(_e=>!ae(_e)||ge(_e)))}map(ae){return new ne(ge=>this.iterate(_e=>ge(ae(_e))))}findLast(ae){let ge;return this.iterate(_e=>(ae(_e)&&(ge=_e),!0)),ge}findLastMaxBy(ae){let ge,_e=!0;return this.iterate(ue=>((_e||z.isGreaterThan(ae(ue,ge)))&&(_e=!1,ge=ue),!0)),ge}}ne.empty=new ne(_=>{})},37836:(Xe,we,e)=>{e.d(we,{DM:()=>v,eZ:()=>y,ok:()=>P,vE:()=>r});var f=e(17967);function P(S,T){if(!S)throw new Error(T?`Assertion failed (${T})`:"Assertion Failed")}function r(S,T="Unreachable"){throw new Error(T)}function y(S){S()||(S(),(0,f.dL)(new f.he("Assertion Failed")))}function v(S,T){let E=0;for(;E<S.length-1;){if(!T(S[E],S[E+1]))return!1;E++}return!0}},85328:(Xe,we,e)=>{e.d(we,{Aq:()=>W,CR:()=>R,J8:()=>L,PG:()=>p,Ps:()=>I,To:()=>A,Ue:()=>k,Vg:()=>l,Vs:()=>m,_F:()=>w,eP:()=>c,jT:()=>O,pY:()=>N,rH:()=>a,vp:()=>d,zS:()=>U,zh:()=>D});var f=e(87618),P=e(17967),r=e(58178),y=e(78694),v=e(88593),S=e(73447),T=function(ee,B,G,se){return new(G||(G=Promise))(function($,K){function J(_){try{ne(se.next(_))}catch(ae){K(ae)}}function te(_){try{ne(se.throw(_))}catch(ae){K(ae)}}function ne(_){_.done?$(_.value):function j($){return $ instanceof G?$:new G(function(K){K($)})}(_.value).then(J,te)}ne((se=se.apply(ee,B||[])).next())})},E=function(ee){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var G,B=ee[Symbol.asyncIterator];return B?B.call(ee):(ee="function"==typeof __values?__values(ee):ee[Symbol.iterator](),G={},se("next"),se("throw"),se("return"),G[Symbol.asyncIterator]=function(){return this},G);function se($){G[$]=ee[$]&&function(K){return new Promise(function(J,te){!function j($,K,J,te){Promise.resolve(te).then(function(ne){$({value:ne,done:J})},K)}(J,te,(K=ee[$](K)).done,K.value)})}}};function L(ee){return!!ee&&"function"==typeof ee.then}function p(ee){const B=new f.A,G=ee(B.token),se=new Promise((j,$)=>{const K=B.token.onCancellationRequested(()=>{K.dispose(),B.dispose(),$(new P.FU)});Promise.resolve(G).then(J=>{K.dispose(),B.dispose(),j(J)},J=>{K.dispose(),B.dispose(),$(J)})});return new class{cancel(){B.cancel()}then(j,$){return se.then(j,$)}catch(j){return this.then(void 0,j)}finally(j){return se.finally(j)}}}function c(ee,B,G){return new Promise((se,j)=>{const $=B.onCancellationRequested(()=>{$.dispose(),se(G)});ee.then(se,j).finally(()=>$.dispose())})}class u{constructor(){this.isDisposed=!1,this.activePromise=null,this.queuedPromise=null,this.queuedPromiseFactory=null}queue(B){if(this.isDisposed)throw new Error("Throttler is disposed");if(this.activePromise){if(this.queuedPromiseFactory=B,!this.queuedPromise){const G=()=>{if(this.queuedPromise=null,this.isDisposed)return;const se=this.queue(this.queuedPromiseFactory);return this.queuedPromiseFactory=null,se};this.queuedPromise=new Promise(se=>{this.activePromise.then(G,G).then(se)})}return new Promise((G,se)=>{this.queuedPromise.then(G,se)})}return this.activePromise=B(),new Promise((G,se)=>{this.activePromise.then(j=>{this.activePromise=null,G(j)},j=>{this.activePromise=null,se(j)})})}dispose(){this.isDisposed=!0}}class d{constructor(B){this.defaultDelay=B,this.deferred=null,this.completionPromise=null,this.doResolve=null,this.doReject=null,this.task=null}trigger(B,G=this.defaultDelay){this.task=B,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise((j,$)=>{this.doResolve=j,this.doReject=$}).then(()=>{if(this.completionPromise=null,this.doResolve=null,this.task){const j=this.task;return this.task=null,j()}}));const se=()=>{var j;this.deferred=null,null===(j=this.doResolve)||void 0===j||j.call(this,null)};return this.deferred=G===S.n?(ee=>{let B=!0;return queueMicrotask(()=>{B&&(B=!1,ee())}),{isTriggered:()=>B,dispose:()=>{B=!1}}})(se):((ee,B)=>{let G=!0;const se=setTimeout(()=>{G=!1,B()},ee);return{isTriggered:()=>G,dispose:()=>{clearTimeout(se),G=!1}}})(G,se),this.completionPromise}isTriggered(){var B;return!(null===(B=this.deferred)||void 0===B||!B.isTriggered())}cancel(){var B;this.cancelTimeout(),this.completionPromise&&(null===(B=this.doReject)||void 0===B||B.call(this,new P.FU),this.completionPromise=null)}cancelTimeout(){var B;null===(B=this.deferred)||void 0===B||B.dispose(),this.deferred=null}dispose(){this.cancel()}}class a{constructor(B){this.delayer=new d(B),this.throttler=new u}trigger(B,G){return this.delayer.trigger(()=>this.throttler.queue(B),G)}cancel(){this.delayer.cancel()}dispose(){this.delayer.dispose(),this.throttler.dispose()}}function m(ee,B){return B?new Promise((G,se)=>{const j=setTimeout(()=>{$.dispose(),G()},ee),$=B.onCancellationRequested(()=>{clearTimeout(j),$.dispose(),se(new P.FU)})}):p(G=>m(ee,G))}function l(ee,B=0){const G=setTimeout(ee,B);return(0,y.OF)(()=>clearTimeout(G))}function I(ee,B=(se=>!!se),G=null){let se=0;const j=ee.length,$=()=>{if(se>=j)return Promise.resolve(G);const K=ee[se++];return Promise.resolve(K()).then(te=>B(te)?Promise.resolve(te):$())};return $()}class w{constructor(B,G){this._token=-1,"function"==typeof B&&"number"==typeof G&&this.setIfNotSet(B,G)}dispose(){this.cancel()}cancel(){-1!==this._token&&(clearTimeout(this._token),this._token=-1)}cancelAndSet(B,G){this.cancel(),this._token=setTimeout(()=>{this._token=-1,B()},G)}setIfNotSet(B,G){-1===this._token&&(this._token=setTimeout(()=>{this._token=-1,B()},G))}}class D{constructor(){this._token=-1}dispose(){this.cancel()}cancel(){-1!==this._token&&(clearInterval(this._token),this._token=-1)}cancelAndSet(B,G){this.cancel(),this._token=setInterval(()=>{B()},G)}}class N{constructor(B,G){this.timeoutToken=-1,this.runner=B,this.timeout=G,this.timeoutHandler=this.onTimeout.bind(this)}dispose(){this.cancel(),this.runner=null}cancel(){this.isScheduled()&&(clearTimeout(this.timeoutToken),this.timeoutToken=-1)}schedule(B=this.timeout){this.cancel(),this.timeoutToken=setTimeout(this.timeoutHandler,B)}get delay(){return this.timeout}set delay(B){this.timeout=B}isScheduled(){return-1!==this.timeoutToken}onTimeout(){this.timeoutToken=-1,this.runner&&this.doRun()}doRun(){var B;null===(B=this.runner)||void 0===B||B.call(this)}}let A;A="function"!=typeof requestIdleCallback||"function"!=typeof cancelIdleCallback?ee=>{(0,v.fn)(()=>{if(B)return;const G=Date.now()+15;ee(Object.freeze({didTimeout:!0,timeRemaining:()=>Math.max(0,G-Date.now())}))});let B=!1;return{dispose(){B||(B=!0)}}}:(ee,B)=>{const G=requestIdleCallback(ee,"number"==typeof B?{timeout:B}:void 0);let se=!1;return{dispose(){se||(se=!0,cancelIdleCallback(G))}}};class k{constructor(B){this._didRun=!1,this._executor=()=>{try{this._value=B()}catch(G){this._error=G}finally{this._didRun=!0}},this._handle=A(()=>this._executor())}dispose(){this._handle.dispose()}get value(){if(this._didRun||(this._handle.dispose(),this._executor()),this._error)throw this._error;return this._value}get isInitialized(){return this._didRun}}class R{get isRejected(){var B;return 1===(null===(B=this.outcome)||void 0===B?void 0:B.outcome)}get isSettled(){return!!this.outcome}constructor(){this.p=new Promise((B,G)=>{this.completeCallback=B,this.errorCallback=G})}complete(B){return new Promise(G=>{this.completeCallback(B),this.outcome={outcome:0,value:B},G()})}error(B){return new Promise(G=>{this.errorCallback(B),this.outcome={outcome:1,value:B},G()})}cancel(){return this.error(new P.FU)}}var O,ee;(ee=O||(O={})).settled=function B(se){return T(this,void 0,void 0,function*(){let j;const $=yield Promise.all(se.map(K=>K.then(J=>J,J=>{j||(j=J)})));if(typeof j<"u")throw j;return $})},ee.withAsyncBody=function G(se){return new Promise((j,$)=>T(this,void 0,void 0,function*(){try{yield se(j,$)}catch(K){$(K)}}))};class W{static fromArray(B){return new W(G=>{G.emitMany(B)})}static fromPromise(B){return new W(G=>T(this,void 0,void 0,function*(){G.emitMany(yield B)}))}static fromPromises(B){return new W(G=>T(this,void 0,void 0,function*(){yield Promise.all(B.map(se=>T(this,void 0,void 0,function*(){return G.emitOne(yield se)})))}))}static merge(B){return new W(G=>T(this,void 0,void 0,function*(){yield Promise.all(B.map(se=>{var j,$,K;return T(this,void 0,void 0,function*(){var J,te,ne;try{for(j=!0,$=E(se);!(J=(K=yield $.next()).done);j=!0)j=!1,G.emitOne(K.value)}catch(ae){te={error:ae}}finally{try{!j&&!J&&(ne=$.return)&&(yield ne.call($))}finally{if(te)throw te.error}}})}))}))}constructor(B){this._state=0,this._results=[],this._error=null,this._onStateChanged=new r.Q5,queueMicrotask(()=>T(this,void 0,void 0,function*(){const G={emitOne:se=>this.emitOne(se),emitMany:se=>this.emitMany(se),reject:se=>this.reject(se)};try{yield Promise.resolve(B(G)),this.resolve()}catch(se){this.reject(se)}finally{G.emitOne=void 0,G.emitMany=void 0,G.reject=void 0}}))}[Symbol.asyncIterator](){let B=0;return{next:()=>T(this,void 0,void 0,function*(){for(;;){if(2===this._state)throw this._error;if(B<this._results.length)return{done:!1,value:this._results[B++]};if(1===this._state)return{done:!0,value:void 0};yield r.ju.toPromise(this._onStateChanged.event)}})}}static map(B,G){return new W(se=>T(this,void 0,void 0,function*(){var j,$,K;try{for(var _,te=!0,ne=E(B);!(j=(_=yield ne.next()).done);te=!0)te=!1,se.emitOne(G(_.value))}catch(ae){$={error:ae}}finally{try{!te&&!j&&(K=ne.return)&&(yield K.call(ne))}finally{if($)throw $.error}}}))}map(B){return W.map(this,B)}static filter(B,G){return new W(se=>T(this,void 0,void 0,function*(){var j,$,K;try{for(var _,te=!0,ne=E(B);!(j=(_=yield ne.next()).done);te=!0){te=!1;const ae=_.value;G(ae)&&se.emitOne(ae)}}catch(ae){$={error:ae}}finally{try{!te&&!j&&(K=ne.return)&&(yield K.call(ne))}finally{if($)throw $.error}}}))}filter(B){return W.filter(this,B)}static coalesce(B){return W.filter(B,G=>!!G)}coalesce(){return W.coalesce(this)}static toPromise(B){var G,se,j,$,K,J;return T(this,void 0,void 0,function*(){const ne=[];try{for(G=!0,se=E(B);j=yield se.next(),!($=j.done);G=!0)G=!1,ne.push(j.value)}catch(_){K={error:_}}finally{try{!G&&!$&&(J=se.return)&&(yield J.call(se))}finally{if(K)throw K.error}}return ne})}toPromise(){return W.toPromise(this)}emitOne(B){0===this._state&&(this._results.push(B),this._onStateChanged.fire())}emitMany(B){0===this._state&&(this._results=this._results.concat(B),this._onStateChanged.fire())}resolve(){0===this._state&&(this._state=1,this._onStateChanged.fire())}reject(B){0===this._state&&(this._state=2,this._error=B,this._onStateChanged.fire())}}W.EMPTY=W.fromArray([]);class z extends W{constructor(B,G){super(G),this._source=B}cancel(){this._source.cancel()}}function U(ee){const B=new f.A,G=ee(B.token);return new z(B,se=>T(this,void 0,void 0,function*(){var j,$,K;const te=B.token.onCancellationRequested(()=>{te.dispose(),B.dispose(),se.reject(new P.FU)});try{try{for(var ae,ne=!0,_=E(G);!(j=(ae=yield _.next()).done);ne=!0){if(ne=!1,B.token.isCancellationRequested)return;se.emitOne(ae.value)}}catch(ge){$={error:ge}}finally{try{!ne&&!j&&(K=_.return)&&(yield K.call(_))}finally{if($)throw $.error}}te.dispose(),B.dispose()}catch(ge){te.dispose(),B.dispose(),se.reject(ge)}}))}},58204:(Xe,we,e)=>{e.d(we,{Ag:()=>E,Cg:()=>c,KN:()=>v,Q$:()=>p,T4:()=>L,mP:()=>S,oq:()=>T});var f=e(81183);const P=typeof Buffer<"u";let y;new f.o(()=>new Uint8Array(256));class v{static wrap(g){return P&&!Buffer.isBuffer(g)&&(g=Buffer.from(g.buffer,g.byteOffset,g.byteLength)),new v(g)}constructor(g){this.buffer=g,this.byteLength=this.buffer.byteLength}toString(){return P?this.buffer.toString():(y||(y=new TextDecoder),y.decode(this.buffer))}}function S(u,g){return u[g+0]<<0>>>0|u[g+1]<<8>>>0}function T(u,g,i){u[i+0]=255&g,u[i+1]=255&(g>>>=8)}function E(u,g){return u[g]*Math.pow(2,24)+u[g+1]*Math.pow(2,16)+u[g+2]*Math.pow(2,8)+u[g+3]}function L(u,g,i){u[i+3]=g,u[i+2]=g>>>=8,u[i+1]=g>>>=8,u[i]=g>>>=8}function p(u,g){return u[g]}function c(u,g,i){u[i]=g}},34762:(Xe,we,e)=>{e.d(we,{b:()=>P,t:()=>f});class f{constructor(y){this.fn=y,this.lastCache=void 0,this.lastArgKey=void 0}get(y){const v=JSON.stringify(y);return this.lastArgKey!==v&&(this.lastArgKey=v,this.lastCache=this.fn(y)),this.lastCache}}class P{get cachedValues(){return this._map}constructor(y){this.fn=y,this._map=new Map}get(y){if(this._map.has(y))return this._map.get(y);const v=this.fn(y);return this._map.set(y,v),v}}},87618:(Xe,we,e)=>{e.d(we,{A:()=>v,T:()=>r});var f=e(58178);const P=Object.freeze(function(S,T){const E=setTimeout(S.bind(T),0);return{dispose(){clearTimeout(E)}}});var r,S;(S=r||(r={})).isCancellationToken=function T(E){return E===S.None||E===S.Cancelled||E instanceof y||!(!E||"object"!=typeof E)&&"boolean"==typeof E.isCancellationRequested&&"function"==typeof E.onCancellationRequested},S.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:f.ju.None}),S.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:P});class y{constructor(){this._isCancelled=!1,this._emitter=null}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?P:(this._emitter||(this._emitter=new f.Q5),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}}class v{constructor(T){this._token=void 0,this._parentListener=void 0,this._parentListener=T&&T.onCancellationRequested(this.cancel,this)}get token(){return this._token||(this._token=new y),this._token}cancel(){this._token?this._token instanceof y&&this._token.cancel():this._token=r.Cancelled}dispose(T=!1){var E;T&&this.cancel(),null===(E=this._parentListener)||void 0===E||E.dispose(),this._token?this._token instanceof y&&this._token.dispose():this._token=r.None}}},27222:(Xe,we,e)=>{e.d(we,{l:()=>v,u:()=>y});var f=e(91402);const P=Object.create(null);function r(S,T){if((0,f.HD)(T)){const E=P[T];if(void 0===E)throw new Error(`${S} references an unknown codicon: ${T}`);T=E}return P[S]=T,{id:S}}function y(){return P}const v={add:r("add",6e4),plus:r("plus",6e4),gistNew:r("gist-new",6e4),repoCreate:r("repo-create",6e4),lightbulb:r("lightbulb",60001),lightBulb:r("light-bulb",60001),repo:r("repo",60002),repoDelete:r("repo-delete",60002),gistFork:r("gist-fork",60003),repoForked:r("repo-forked",60003),gitPullRequest:r("git-pull-request",60004),gitPullRequestAbandoned:r("git-pull-request-abandoned",60004),recordKeys:r("record-keys",60005),keyboard:r("keyboard",60005),tag:r("tag",60006),tagAdd:r("tag-add",60006),tagRemove:r("tag-remove",60006),gitPullRequestLabel:r("git-pull-request-label",60006),person:r("person",60007),personFollow:r("person-follow",60007),personOutline:r("person-outline",60007),personFilled:r("person-filled",60007),gitBranch:r("git-branch",60008),gitBranchCreate:r("git-branch-create",60008),gitBranchDelete:r("git-branch-delete",60008),sourceControl:r("source-control",60008),mirror:r("mirror",60009),mirrorPublic:r("mirror-public",60009),star:r("star",60010),starAdd:r("star-add",60010),starDelete:r("star-delete",60010),starEmpty:r("star-empty",60010),comment:r("comment",60011),commentAdd:r("comment-add",60011),alert:r("alert",60012),warning:r("warning",60012),search:r("search",60013),searchSave:r("search-save",60013),logOut:r("log-out",60014),signOut:r("sign-out",60014),logIn:r("log-in",60015),signIn:r("sign-in",60015),eye:r("eye",60016),eyeUnwatch:r("eye-unwatch",60016),eyeWatch:r("eye-watch",60016),circleFilled:r("circle-filled",60017),primitiveDot:r("primitive-dot",60017),closeDirty:r("close-dirty",60017),debugBreakpoint:r("debug-breakpoint",60017),debugBreakpointDisabled:r("debug-breakpoint-disabled",60017),debugHint:r("debug-hint",60017),primitiveSquare:r("primitive-square",60018),edit:r("edit",60019),pencil:r("pencil",60019),info:r("info",60020),issueOpened:r("issue-opened",60020),gistPrivate:r("gist-private",60021),gitForkPrivate:r("git-fork-private",60021),lock:r("lock",60021),mirrorPrivate:r("mirror-private",60021),close:r("close",60022),removeClose:r("remove-close",60022),x:r("x",60022),repoSync:r("repo-sync",60023),sync:r("sync",60023),clone:r("clone",60024),desktopDownload:r("desktop-download",60024),beaker:r("beaker",60025),microscope:r("microscope",60025),vm:r("vm",60026),deviceDesktop:r("device-desktop",60026),file:r("file",60027),fileText:r("file-text",60027),more:r("more",60028),ellipsis:r("ellipsis",60028),kebabHorizontal:r("kebab-horizontal",60028),mailReply:r("mail-reply",60029),reply:r("reply",60029),organization:r("organization",60030),organizationFilled:r("organization-filled",60030),organizationOutline:r("organization-outline",60030),newFile:r("new-file",60031),fileAdd:r("file-add",60031),newFolder:r("new-folder",60032),fileDirectoryCreate:r("file-directory-create",60032),trash:r("trash",60033),trashcan:r("trashcan",60033),history:r("history",60034),clock:r("clock",60034),folder:r("folder",60035),fileDirectory:r("file-directory",60035),symbolFolder:r("symbol-folder",60035),logoGithub:r("logo-github",60036),markGithub:r("mark-github",60036),github:r("github",60036),terminal:r("terminal",60037),console:r("console",60037),repl:r("repl",60037),zap:r("zap",60038),symbolEvent:r("symbol-event",60038),error:r("error",60039),stop:r("stop",60039),variable:r("variable",60040),symbolVariable:r("symbol-variable",60040),array:r("array",60042),symbolArray:r("symbol-array",60042),symbolModule:r("symbol-module",60043),symbolPackage:r("symbol-package",60043),symbolNamespace:r("symbol-namespace",60043),symbolObject:r("symbol-object",60043),symbolMethod:r("symbol-method",60044),symbolFunction:r("symbol-function",60044),symbolConstructor:r("symbol-constructor",60044),symbolBoolean:r("symbol-boolean",60047),symbolNull:r("symbol-null",60047),symbolNumeric:r("symbol-numeric",60048),symbolNumber:r("symbol-number",60048),symbolStructure:r("symbol-structure",60049),symbolStruct:r("symbol-struct",60049),symbolParameter:r("symbol-parameter",60050),symbolTypeParameter:r("symbol-type-parameter",60050),symbolKey:r("symbol-key",60051),symbolText:r("symbol-text",60051),symbolReference:r("symbol-reference",60052),goToFile:r("go-to-file",60052),symbolEnum:r("symbol-enum",60053),symbolValue:r("symbol-value",60053),symbolRuler:r("symbol-ruler",60054),symbolUnit:r("symbol-unit",60054),activateBreakpoints:r("activate-breakpoints",60055),archive:r("archive",60056),arrowBoth:r("arrow-both",60057),arrowDown:r("arrow-down",60058),arrowLeft:r("arrow-left",60059),arrowRight:r("arrow-right",60060),arrowSmallDown:r("arrow-small-down",60061),arrowSmallLeft:r("arrow-small-left",60062),arrowSmallRight:r("arrow-small-right",60063),arrowSmallUp:r("arrow-small-up",60064),arrowUp:r("arrow-up",60065),bell:r("bell",60066),bold:r("bold",60067),book:r("book",60068),bookmark:r("bookmark",60069),debugBreakpointConditionalUnverified:r("debug-breakpoint-conditional-unverified",60070),debugBreakpointConditional:r("debug-breakpoint-conditional",60071),debugBreakpointConditionalDisabled:r("debug-breakpoint-conditional-disabled",60071),debugBreakpointDataUnverified:r("debug-breakpoint-data-unverified",60072),debugBreakpointData:r("debug-breakpoint-data",60073),debugBreakpointDataDisabled:r("debug-breakpoint-data-disabled",60073),debugBreakpointLogUnverified:r("debug-breakpoint-log-unverified",60074),debugBreakpointLog:r("debug-breakpoint-log",60075),debugBreakpointLogDisabled:r("debug-breakpoint-log-disabled",60075),briefcase:r("briefcase",60076),broadcast:r("broadcast",60077),browser:r("browser",60078),bug:r("bug",60079),calendar:r("calendar",60080),caseSensitive:r("case-sensitive",60081),check:r("check",60082),checklist:r("checklist",60083),chevronDown:r("chevron-down",60084),dropDownButton:r("drop-down-button",60084),chevronLeft:r("chevron-left",60085),chevronRight:r("chevron-right",60086),chevronUp:r("chevron-up",60087),chromeClose:r("chrome-close",60088),chromeMaximize:r("chrome-maximize",60089),chromeMinimize:r("chrome-minimize",60090),chromeRestore:r("chrome-restore",60091),circle:r("circle",60092),circleOutline:r("circle-outline",60092),debugBreakpointUnverified:r("debug-breakpoint-unverified",60092),circleSlash:r("circle-slash",60093),circuitBoard:r("circuit-board",60094),clearAll:r("clear-all",60095),clippy:r("clippy",60096),closeAll:r("close-all",60097),cloudDownload:r("cloud-download",60098),cloudUpload:r("cloud-upload",60099),code:r("code",60100),collapseAll:r("collapse-all",60101),colorMode:r("color-mode",60102),commentDiscussion:r("comment-discussion",60103),compareChanges:r("compare-changes",60157),creditCard:r("credit-card",60105),dash:r("dash",60108),dashboard:r("dashboard",60109),database:r("database",60110),debugContinue:r("debug-continue",60111),debugDisconnect:r("debug-disconnect",60112),debugPause:r("debug-pause",60113),debugRestart:r("debug-restart",60114),debugStart:r("debug-start",60115),debugStepInto:r("debug-step-into",60116),debugStepOut:r("debug-step-out",60117),debugStepOver:r("debug-step-over",60118),debugStop:r("debug-stop",60119),debug:r("debug",60120),deviceCameraVideo:r("device-camera-video",60121),deviceCamera:r("device-camera",60122),deviceMobile:r("device-mobile",60123),diffAdded:r("diff-added",60124),diffIgnored:r("diff-ignored",60125),diffModified:r("diff-modified",60126),diffRemoved:r("diff-removed",60127),diffRenamed:r("diff-renamed",60128),diff:r("diff",60129),discard:r("discard",60130),editorLayout:r("editor-layout",60131),emptyWindow:r("empty-window",60132),exclude:r("exclude",60133),extensions:r("extensions",60134),eyeClosed:r("eye-closed",60135),fileBinary:r("file-binary",60136),fileCode:r("file-code",60137),fileMedia:r("file-media",60138),filePdf:r("file-pdf",60139),fileSubmodule:r("file-submodule",60140),fileSymlinkDirectory:r("file-symlink-directory",60141),fileSymlinkFile:r("file-symlink-file",60142),fileZip:r("file-zip",60143),files:r("files",60144),filter:r("filter",60145),flame:r("flame",60146),foldDown:r("fold-down",60147),foldUp:r("fold-up",60148),fold:r("fold",60149),folderActive:r("folder-active",60150),folderOpened:r("folder-opened",60151),gear:r("gear",60152),gift:r("gift",60153),gistSecret:r("gist-secret",60154),gist:r("gist",60155),gitCommit:r("git-commit",60156),gitCompare:r("git-compare",60157),gitMerge:r("git-merge",60158),githubAction:r("github-action",60159),githubAlt:r("github-alt",60160),globe:r("globe",60161),grabber:r("grabber",60162),graph:r("graph",60163),gripper:r("gripper",60164),heart:r("heart",60165),home:r("home",60166),horizontalRule:r("horizontal-rule",60167),hubot:r("hubot",60168),inbox:r("inbox",60169),issueClosed:r("issue-closed",60324),issueReopened:r("issue-reopened",60171),issues:r("issues",60172),italic:r("italic",60173),jersey:r("jersey",60174),json:r("json",60175),bracket:r("bracket",60175),kebabVertical:r("kebab-vertical",60176),key:r("key",60177),law:r("law",60178),lightbulbAutofix:r("lightbulb-autofix",60179),linkExternal:r("link-external",60180),link:r("link",60181),listOrdered:r("list-ordered",60182),listUnordered:r("list-unordered",60183),liveShare:r("live-share",60184),loading:r("loading",60185),location:r("location",60186),mailRead:r("mail-read",60187),mail:r("mail",60188),markdown:r("markdown",60189),megaphone:r("megaphone",60190),mention:r("mention",60191),milestone:r("milestone",60192),gitPullRequestMilestone:r("git-pull-request-milestone",60192),mortarBoard:r("mortar-board",60193),move:r("move",60194),multipleWindows:r("multiple-windows",60195),mute:r("mute",60196),noNewline:r("no-newline",60197),note:r("note",60198),octoface:r("octoface",60199),openPreview:r("open-preview",60200),package_:r("package",60201),paintcan:r("paintcan",60202),pin:r("pin",60203),play:r("play",60204),run:r("run",60204),plug:r("plug",60205),preserveCase:r("preserve-case",60206),preview:r("preview",60207),project:r("project",60208),pulse:r("pulse",60209),question:r("question",60210),quote:r("quote",60211),radioTower:r("radio-tower",60212),reactions:r("reactions",60213),references:r("references",60214),refresh:r("refresh",60215),regex:r("regex",60216),remoteExplorer:r("remote-explorer",60217),remote:r("remote",60218),remove:r("remove",60219),replaceAll:r("replace-all",60220),replace:r("replace",60221),repoClone:r("repo-clone",60222),repoForcePush:r("repo-force-push",60223),repoPull:r("repo-pull",60224),repoPush:r("repo-push",60225),report:r("report",60226),requestChanges:r("request-changes",60227),rocket:r("rocket",60228),rootFolderOpened:r("root-folder-opened",60229),rootFolder:r("root-folder",60230),rss:r("rss",60231),ruby:r("ruby",60232),saveAll:r("save-all",60233),saveAs:r("save-as",60234),save:r("save",60235),screenFull:r("screen-full",60236),screenNormal:r("screen-normal",60237),searchStop:r("search-stop",60238),server:r("server",60240),settingsGear:r("settings-gear",60241),settings:r("settings",60242),shield:r("shield",60243),smiley:r("smiley",60244),sortPrecedence:r("sort-precedence",60245),splitHorizontal:r("split-horizontal",60246),splitVertical:r("split-vertical",60247),squirrel:r("squirrel",60248),starFull:r("star-full",60249),starHalf:r("star-half",60250),symbolClass:r("symbol-class",60251),symbolColor:r("symbol-color",60252),symbolCustomColor:r("symbol-customcolor",60252),symbolConstant:r("symbol-constant",60253),symbolEnumMember:r("symbol-enum-member",60254),symbolField:r("symbol-field",60255),symbolFile:r("symbol-file",60256),symbolInterface:r("symbol-interface",60257),symbolKeyword:r("symbol-keyword",60258),symbolMisc:r("symbol-misc",60259),symbolOperator:r("symbol-operator",60260),symbolProperty:r("symbol-property",60261),wrench:r("wrench",60261),wrenchSubaction:r("wrench-subaction",60261),symbolSnippet:r("symbol-snippet",60262),tasklist:r("tasklist",60263),telescope:r("telescope",60264),textSize:r("text-size",60265),threeBars:r("three-bars",60266),thumbsdown:r("thumbsdown",60267),thumbsup:r("thumbsup",60268),tools:r("tools",60269),triangleDown:r("triangle-down",60270),triangleLeft:r("triangle-left",60271),triangleRight:r("triangle-right",60272),triangleUp:r("triangle-up",60273),twitter:r("twitter",60274),unfold:r("unfold",60275),unlock:r("unlock",60276),unmute:r("unmute",60277),unverified:r("unverified",60278),verified:r("verified",60279),versions:r("versions",60280),vmActive:r("vm-active",60281),vmOutline:r("vm-outline",60282),vmRunning:r("vm-running",60283),watch:r("watch",60284),whitespace:r("whitespace",60285),wholeWord:r("whole-word",60286),window:r("window",60287),wordWrap:r("word-wrap",60288),zoomIn:r("zoom-in",60289),zoomOut:r("zoom-out",60290),listFilter:r("list-filter",60291),listFlat:r("list-flat",60292),listSelection:r("list-selection",60293),selection:r("selection",60293),listTree:r("list-tree",60294),debugBreakpointFunctionUnverified:r("debug-breakpoint-function-unverified",60295),debugBreakpointFunction:r("debug-breakpoint-function",60296),debugBreakpointFunctionDisabled:r("debug-breakpoint-function-disabled",60296),debugStackframeActive:r("debug-stackframe-active",60297),circleSmallFilled:r("circle-small-filled",60298),debugStackframeDot:r("debug-stackframe-dot",60298),debugStackframe:r("debug-stackframe",60299),debugStackframeFocused:r("debug-stackframe-focused",60299),debugBreakpointUnsupported:r("debug-breakpoint-unsupported",60300),symbolString:r("symbol-string",60301),debugReverseContinue:r("debug-reverse-continue",60302),debugStepBack:r("debug-step-back",60303),debugRestartFrame:r("debug-restart-frame",60304),callIncoming:r("call-incoming",60306),callOutgoing:r("call-outgoing",60307),menu:r("menu",60308),expandAll:r("expand-all",60309),feedback:r("feedback",60310),gitPullRequestReviewer:r("git-pull-request-reviewer",60310),groupByRefType:r("group-by-ref-type",60311),ungroupByRefType:r("ungroup-by-ref-type",60312),account:r("account",60313),gitPullRequestAssignee:r("git-pull-request-assignee",60313),bellDot:r("bell-dot",60314),debugConsole:r("debug-console",60315),library:r("library",60316),output:r("output",60317),runAll:r("run-all",60318),syncIgnored:r("sync-ignored",60319),pinned:r("pinned",60320),githubInverted:r("github-inverted",60321),debugAlt:r("debug-alt",60305),serverProcess:r("server-process",60322),serverEnvironment:r("server-environment",60323),pass:r("pass",60324),stopCircle:r("stop-circle",60325),playCircle:r("play-circle",60326),record:r("record",60327),debugAltSmall:r("debug-alt-small",60328),vmConnect:r("vm-connect",60329),cloud:r("cloud",60330),merge:r("merge",60331),exportIcon:r("export",60332),graphLeft:r("graph-left",60333),magnet:r("magnet",60334),notebook:r("notebook",60335),redo:r("redo",60336),checkAll:r("check-all",60337),pinnedDirty:r("pinned-dirty",60338),passFilled:r("pass-filled",60339),circleLargeFilled:r("circle-large-filled",60340),circleLarge:r("circle-large",60341),circleLargeOutline:r("circle-large-outline",60341),combine:r("combine",60342),gather:r("gather",60342),table:r("table",60343),variableGroup:r("variable-group",60344),typeHierarchy:r("type-hierarchy",60345),typeHierarchySub:r("type-hierarchy-sub",60346),typeHierarchySuper:r("type-hierarchy-super",60347),gitPullRequestCreate:r("git-pull-request-create",60348),runAbove:r("run-above",60349),runBelow:r("run-below",60350),notebookTemplate:r("notebook-template",60351),debugRerun:r("debug-rerun",60352),workspaceTrusted:r("workspace-trusted",60353),workspaceUntrusted:r("workspace-untrusted",60354),workspaceUnspecified:r("workspace-unspecified",60355),terminalCmd:r("terminal-cmd",60356),terminalDebian:r("terminal-debian",60357),terminalLinux:r("terminal-linux",60358),terminalPowershell:r("terminal-powershell",60359),terminalTmux:r("terminal-tmux",60360),terminalUbuntu:r("terminal-ubuntu",60361),terminalBash:r("terminal-bash",60362),arrowSwap:r("arrow-swap",60363),copy:r("copy",60364),personAdd:r("person-add",60365),filterFilled:r("filter-filled",60366),wand:r("wand",60367),debugLineByLine:r("debug-line-by-line",60368),inspect:r("inspect",60369),layers:r("layers",60370),layersDot:r("layers-dot",60371),layersActive:r("layers-active",60372),compass:r("compass",60373),compassDot:r("compass-dot",60374),compassActive:r("compass-active",60375),azure:r("azure",60376),issueDraft:r("issue-draft",60377),gitPullRequestClosed:r("git-pull-request-closed",60378),gitPullRequestDraft:r("git-pull-request-draft",60379),debugAll:r("debug-all",60380),debugCoverage:r("debug-coverage",60381),runErrors:r("run-errors",60382),folderLibrary:r("folder-library",60383),debugContinueSmall:r("debug-continue-small",60384),beakerStop:r("beaker-stop",60385),graphLine:r("graph-line",60386),graphScatter:r("graph-scatter",60387),pieChart:r("pie-chart",60388),bracketDot:r("bracket-dot",60389),bracketError:r("bracket-error",60390),lockSmall:r("lock-small",60391),azureDevops:r("azure-devops",60392),verifiedFilled:r("verified-filled",60393),newLine:r("newline",60394),layout:r("layout",60395),layoutActivitybarLeft:r("layout-activitybar-left",60396),layoutActivitybarRight:r("layout-activitybar-right",60397),layoutPanelLeft:r("layout-panel-left",60398),layoutPanelCenter:r("layout-panel-center",60399),layoutPanelJustify:r("layout-panel-justify",60400),layoutPanelRight:r("layout-panel-right",60401),layoutPanel:r("layout-panel",60402),layoutSidebarLeft:r("layout-sidebar-left",60403),layoutSidebarRight:r("layout-sidebar-right",60404),layoutStatusbar:r("layout-statusbar",60405),layoutMenubar:r("layout-menubar",60406),layoutCentered:r("layout-centered",60407),layoutSidebarRightOff:r("layout-sidebar-right-off",60416),layoutPanelOff:r("layout-panel-off",60417),layoutSidebarLeftOff:r("layout-sidebar-left-off",60418),target:r("target",60408),indent:r("indent",60409),recordSmall:r("record-small",60410),errorSmall:r("error-small",60411),arrowCircleDown:r("arrow-circle-down",60412),arrowCircleLeft:r("arrow-circle-left",60413),arrowCircleRight:r("arrow-circle-right",60414),arrowCircleUp:r("arrow-circle-up",60415),heartFilled:r("heart-filled",60420),map:r("map",60421),mapFilled:r("map-filled",60422),circleSmall:r("circle-small",60423),bellSlash:r("bell-slash",60424),bellSlashDot:r("bell-slash-dot",60425),commentUnresolved:r("comment-unresolved",60426),gitPullRequestGoToChanges:r("git-pull-request-go-to-changes",60427),gitPullRequestNewChanges:r("git-pull-request-new-changes",60428),searchFuzzy:r("search-fuzzy",60429),commentDraft:r("comment-draft",60430),send:r("send",60431),sparkle:r("sparkle",60432),insert:r("insert",60433),mic:r("mic",60434),dialogError:r("dialog-error","error"),dialogWarning:r("dialog-warning","warning"),dialogInfo:r("dialog-info","info"),dialogClose:r("dialog-close","close"),treeItemExpanded:r("tree-item-expanded","chevron-down"),treeFilterOnTypeOn:r("tree-filter-on-type-on","list-filter"),treeFilterOnTypeOff:r("tree-filter-on-type-off","list-selection"),treeFilterClear:r("tree-filter-clear","close"),treeItemLoading:r("tree-item-loading","loading"),menuSelection:r("menu-selection","check"),menuSubmenu:r("menu-submenu","chevron-right"),menuBarMore:r("menubar-more","more"),scrollbarButtonLeft:r("scrollbar-button-left","triangle-left"),scrollbarButtonRight:r("scrollbar-button-right","triangle-right"),scrollbarButtonUp:r("scrollbar-button-up","triangle-up"),scrollbarButtonDown:r("scrollbar-button-down","triangle-down"),toolBarMore:r("toolbar-more","more"),quickInputBack:r("quick-input-back","arrow-left")}},715:(Xe,we,e)=>{e.d(we,{r:()=>f});class f{constructor(){this.map=new Map}add(r,y){let v=this.map.get(r);v||(v=new Set,this.map.set(r,v)),v.add(y)}delete(r,y){const v=this.map.get(r);v&&(v.delete(y),0===v.size&&this.map.delete(r))}forEach(r,y){const v=this.map.get(r);v&&v.forEach(y)}get(r){return this.map.get(r)||new Set}}},90888:(Xe,we,e)=>{function f(S,T){const E=Math.pow(10,T);return Math.round(S*E)/E}e.d(we,{Il:()=>v,Oz:()=>r,VS:()=>P,tx:()=>y});class P{constructor(T,E,L,p=1){this._rgbaBrand=void 0,this.r=0|Math.min(255,Math.max(0,T)),this.g=0|Math.min(255,Math.max(0,E)),this.b=0|Math.min(255,Math.max(0,L)),this.a=f(Math.max(Math.min(1,p),0),3)}static equals(T,E){return T.r===E.r&&T.g===E.g&&T.b===E.b&&T.a===E.a}}class r{constructor(T,E,L,p){this._hslaBrand=void 0,this.h=0|Math.max(Math.min(360,T),0),this.s=f(Math.max(Math.min(1,E),0),3),this.l=f(Math.max(Math.min(1,L),0),3),this.a=f(Math.max(Math.min(1,p),0),3)}static equals(T,E){return T.h===E.h&&T.s===E.s&&T.l===E.l&&T.a===E.a}static fromRGBA(T){const E=T.r/255,L=T.g/255,p=T.b/255,c=T.a,u=Math.max(E,L,p),g=Math.min(E,L,p);let i=0,d=0;const a=(g+u)/2,m=u-g;if(m>0){switch(d=Math.min(a<=.5?m/(2*a):m/(2-2*a),1),u){case E:i=(L-p)/m+(L<p?6:0);break;case L:i=(p-E)/m+2;break;case p:i=(E-L)/m+4}i*=60,i=Math.round(i)}return new r(i,d,a,c)}static _hue2rgb(T,E,L){return L<0&&(L+=1),L>1&&(L-=1),L<1/6?T+6*(E-T)*L:L<.5?E:L<2/3?T+(E-T)*(2/3-L)*6:T}static toRGBA(T){const E=T.h/360,{s:L,l:p,a:c}=T;let u,g,i;if(0===L)u=g=i=p;else{const d=p<.5?p*(1+L):p+L-p*L,a=2*p-d;u=r._hue2rgb(a,d,E+1/3),g=r._hue2rgb(a,d,E),i=r._hue2rgb(a,d,E-1/3)}return new P(Math.round(255*u),Math.round(255*g),Math.round(255*i),c)}}class y{constructor(T,E,L,p){this._hsvaBrand=void 0,this.h=0|Math.max(Math.min(360,T),0),this.s=f(Math.max(Math.min(1,E),0),3),this.v=f(Math.max(Math.min(1,L),0),3),this.a=f(Math.max(Math.min(1,p),0),3)}static equals(T,E){return T.h===E.h&&T.s===E.s&&T.v===E.v&&T.a===E.a}static fromRGBA(T){const E=T.r/255,L=T.g/255,p=T.b/255,c=Math.max(E,L,p),g=c-Math.min(E,L,p),i=0===c?0:g/c;let d;return d=0===g?0:c===E?((L-p)/g%6+6)%6:c===L?(p-E)/g+2:(E-L)/g+4,new y(Math.round(60*d),i,c,T.a)}static toRGBA(T){const{h:E,s:L,v:p,a:c}=T,u=p*L,g=u*(1-Math.abs(E/60%2-1)),i=p-u;let[d,a,m]=[0,0,0];return E<60?(d=u,a=g):E<120?(d=g,a=u):E<180?(a=u,m=g):E<240?(a=g,m=u):E<300?(d=g,m=u):E<=360&&(d=u,m=g),d=Math.round(255*(d+i)),a=Math.round(255*(a+i)),m=Math.round(255*(m+i)),new P(d,a,m,c)}}class v{static fromHex(T){return v.Format.CSS.parseHex(T)||v.red}static equals(T,E){return!T&&!E||!(!T||!E)&&T.equals(E)}get hsla(){return this._hsla?this._hsla:r.fromRGBA(this.rgba)}get hsva(){return this._hsva?this._hsva:y.fromRGBA(this.rgba)}constructor(T){if(!T)throw new Error("Color needs a value");if(T instanceof P)this.rgba=T;else if(T instanceof r)this._hsla=T,this.rgba=r.toRGBA(T);else{if(!(T instanceof y))throw new Error("Invalid color ctor argument");this._hsva=T,this.rgba=y.toRGBA(T)}}equals(T){return!!T&&P.equals(this.rgba,T.rgba)&&r.equals(this.hsla,T.hsla)&&y.equals(this.hsva,T.hsva)}getRelativeLuminance(){return f(.2126*v._relativeLuminanceForComponent(this.rgba.r)+.7152*v._relativeLuminanceForComponent(this.rgba.g)+.0722*v._relativeLuminanceForComponent(this.rgba.b),4)}static _relativeLuminanceForComponent(T){const E=T/255;return E<=.03928?E/12.92:Math.pow((E+.055)/1.055,2.4)}isLighter(){return(299*this.rgba.r+587*this.rgba.g+114*this.rgba.b)/1e3>=128}isLighterThan(T){return this.getRelativeLuminance()>T.getRelativeLuminance()}isDarkerThan(T){return this.getRelativeLuminance()<T.getRelativeLuminance()}lighten(T){return new v(new r(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*T,this.hsla.a))}darken(T){return new v(new r(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*T,this.hsla.a))}transparent(T){const{r:E,g:L,b:p,a:c}=this.rgba;return new v(new P(E,L,p,c*T))}isTransparent(){return 0===this.rgba.a}isOpaque(){return 1===this.rgba.a}opposite(){return new v(new P(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))}makeOpaque(T){if(this.isOpaque()||1!==T.rgba.a)return this;const{r:E,g:L,b:p,a:c}=this.rgba;return new v(new P(T.rgba.r-c*(T.rgba.r-E),T.rgba.g-c*(T.rgba.g-L),T.rgba.b-c*(T.rgba.b-p),1))}toString(){return this._toString||(this._toString=v.Format.CSS.format(this)),this._toString}static getLighterColor(T,E,L){if(T.isLighterThan(E))return T;L=L||.5;const p=T.getRelativeLuminance(),c=E.getRelativeLuminance();return T.lighten(L=L*(c-p)/c)}static getDarkerColor(T,E,L){if(T.isDarkerThan(E))return T;L=L||.5;const p=T.getRelativeLuminance(),c=E.getRelativeLuminance();return T.darken(L=L*(p-c)/p)}}v.white=new v(new P(255,255,255,1)),v.black=new v(new P(0,0,0,1)),v.red=new v(new P(255,0,0,1)),v.blue=new v(new P(0,0,255,1)),v.green=new v(new P(0,255,0,1)),v.cyan=new v(new P(0,255,255,1)),v.lightgrey=new v(new P(211,211,211,1)),v.transparent=new v(new P(0,0,0,0)),function(S){let T;!function(E){let L;!function(p){function d(D){const N=D.toString(16);return 2!==N.length?"0"+N:N}function w(D){switch(D){case 48:return 0;case 49:return 1;case 50:return 2;case 51:return 3;case 52:return 4;case 53:return 5;case 54:return 6;case 55:return 7;case 56:return 8;case 57:return 9;case 97:case 65:return 10;case 98:case 66:return 11;case 99:case 67:return 12;case 100:case 68:return 13;case 101:case 69:return 14;case 102:case 70:return 15}return 0}p.formatRGB=function c(D){return 1===D.rgba.a?`rgb(${D.rgba.r}, ${D.rgba.g}, ${D.rgba.b})`:S.Format.CSS.formatRGBA(D)},p.formatRGBA=function u(D){return`rgba(${D.rgba.r}, ${D.rgba.g}, ${D.rgba.b}, ${+D.rgba.a.toFixed(2)})`},p.formatHSL=function g(D){return 1===D.hsla.a?`hsl(${D.hsla.h}, ${(100*D.hsla.s).toFixed(2)}%, ${(100*D.hsla.l).toFixed(2)}%)`:S.Format.CSS.formatHSLA(D)},p.formatHSLA=function i(D){return`hsla(${D.hsla.h}, ${(100*D.hsla.s).toFixed(2)}%, ${(100*D.hsla.l).toFixed(2)}%, ${D.hsla.a.toFixed(2)})`},p.formatHex=function a(D){return`#${d(D.rgba.r)}${d(D.rgba.g)}${d(D.rgba.b)}`},p.formatHexA=function m(D,N=!1){return N&&1===D.rgba.a?S.Format.CSS.formatHex(D):`#${d(D.rgba.r)}${d(D.rgba.g)}${d(D.rgba.b)}${d(Math.round(255*D.rgba.a))}`},p.format=function l(D){return D.isOpaque()?S.Format.CSS.formatHex(D):S.Format.CSS.formatRGBA(D)},p.parseHex=function I(D){const N=D.length;if(0===N||35!==D.charCodeAt(0))return null;if(7===N){const A=16*w(D.charCodeAt(1))+w(D.charCodeAt(2)),k=16*w(D.charCodeAt(3))+w(D.charCodeAt(4)),R=16*w(D.charCodeAt(5))+w(D.charCodeAt(6));return new S(new P(A,k,R,1))}if(9===N){const A=16*w(D.charCodeAt(1))+w(D.charCodeAt(2)),k=16*w(D.charCodeAt(3))+w(D.charCodeAt(4)),R=16*w(D.charCodeAt(5))+w(D.charCodeAt(6)),O=16*w(D.charCodeAt(7))+w(D.charCodeAt(8));return new S(new P(A,k,R,O/255))}if(4===N){const A=w(D.charCodeAt(1)),k=w(D.charCodeAt(2)),R=w(D.charCodeAt(3));return new S(new P(16*A+A,16*k+k,16*R+R))}if(5===N){const A=w(D.charCodeAt(1)),k=w(D.charCodeAt(2)),R=w(D.charCodeAt(3)),O=w(D.charCodeAt(4));return new S(new P(16*A+A,16*k+k,16*R+R,(16*O+O)/255))}return null}}(L=E.CSS||(E.CSS={}))}(T=S.Format||(S.Format={}))}(v||(v={}))},16813:(Xe,we,e)=>{e.d(we,{Hl:()=>T,Ix:()=>S,SN:()=>L,Z0:()=>c,ZO:()=>v});var f=e(31738),P=e(68733),r=e(58778),y=function(u,g,i,d){return new(i||(i=Promise))(function(m,l){function I(N){try{D(d.next(N))}catch(A){l(A)}}function w(N){try{D(d.throw(N))}catch(A){l(A)}}function D(N){N.done?m(N.value):function a(m){return m instanceof i?m:new i(function(l){l(m)})}(N.value).then(I,w)}D((d=d.apply(u,g||[])).next())})};function v(u){return{asString:()=>y(this,void 0,void 0,function*(){return u}),asFile:()=>{},value:"string"==typeof u?u:void 0}}function S(u,g,i){const d={id:(0,r.R)(),name:u,uri:g,data:i};return{asString:()=>y(this,void 0,void 0,function*(){return""}),asFile:()=>d,value:void 0}}class T{constructor(){this._entries=new Map}get size(){let g=0;for(const i of this._entries)g++;return g}has(g){return this._entries.has(this.toKey(g))}matches(g){const i=[...this._entries.keys()];return P.$.some(this,([d,a])=>a.asFile())&&i.push("files"),p(E(g),i)}get(g){var i;return null===(i=this._entries.get(this.toKey(g)))||void 0===i?void 0:i[0]}append(g,i){const d=this._entries.get(g);d?d.push(i):this._entries.set(this.toKey(g),[i])}replace(g,i){this._entries.set(this.toKey(g),[i])}delete(g){this._entries.delete(this.toKey(g))}*[Symbol.iterator](){for(const[g,i]of this._entries)for(const d of i)yield[g,d]}toKey(g){return E(g)}}function E(u){return u.toLowerCase()}function L(u,g){return p(E(u),g.map(E))}function p(u,g){if("*/*"===u)return g.length>0;if(g.includes(u))return!0;const i=u.match(/^([a-z]+)\/([a-z]+|\*)$/i);if(!i)return!1;const[d,a,m]=i;return"*"===m&&g.some(l=>l.startsWith(a+"/"))}const c=Object.freeze({create:u=>(0,f.EB)(u.map(g=>g.toString())).join("\r\n"),split:u=>u.split("\r\n"),parse:u=>c.split(u).filter(g=>!g.startsWith("#"))})},20354:(Xe,we,e)=>{function f(P,r,y){let v=null,S=null;if("function"==typeof y.value?(v="value",S=y.value,0!==S.length&&console.warn("Memoize should only be used in functions with zero parameters")):"function"==typeof y.get&&(v="get",S=y.get),!S)throw new Error("not supported");const T=`$memoize$${r}`;y[v]=function(...E){return this.hasOwnProperty(T)||Object.defineProperty(this,T,{configurable:!1,enumerable:!1,writable:!1,value:S.apply(this,E)}),this[T]}}e.d(we,{H:()=>f})},55507:(Xe,we,e)=>{e.d(we,{Hs:()=>E,a$:()=>y});class f{constructor(p,c,u,g){this.originalStart=p,this.originalLength=c,this.modifiedStart=u,this.modifiedLength=g}getOriginalEnd(){return this.originalStart+this.originalLength}getModifiedEnd(){return this.modifiedStart+this.modifiedLength}}var P=e(27388);class r{constructor(p){this.source=p}getElements(){const p=this.source,c=new Int32Array(p.length);for(let u=0,g=p.length;u<g;u++)c[u]=p.charCodeAt(u);return c}}function y(L,p,c){return new E(new r(L),new r(p)).ComputeDiff(c).changes}class v{static Assert(p,c){if(!p)throw new Error(c)}}class S{static Copy(p,c,u,g,i){for(let d=0;d<i;d++)u[g+d]=p[c+d]}static Copy2(p,c,u,g,i){for(let d=0;d<i;d++)u[g+d]=p[c+d]}}class T{constructor(){this.m_changes=[],this.m_originalStart=1073741824,this.m_modifiedStart=1073741824,this.m_originalCount=0,this.m_modifiedCount=0}MarkNextChange(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.m_changes.push(new f(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=1073741824,this.m_modifiedStart=1073741824}AddOriginalElement(p,c){this.m_originalStart=Math.min(this.m_originalStart,p),this.m_modifiedStart=Math.min(this.m_modifiedStart,c),this.m_originalCount++}AddModifiedElement(p,c){this.m_originalStart=Math.min(this.m_originalStart,p),this.m_modifiedStart=Math.min(this.m_modifiedStart,c),this.m_modifiedCount++}getChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes}getReverseChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes}}class E{constructor(p,c,u=null){this.ContinueProcessingPredicate=u,this._originalSequence=p,this._modifiedSequence=c;const[g,i,d]=E._getElements(p),[a,m,l]=E._getElements(c);this._hasStrings=d&&l,this._originalStringElements=g,this._originalElementsOrHash=i,this._modifiedStringElements=a,this._modifiedElementsOrHash=m,this.m_forwardHistory=[],this.m_reverseHistory=[]}static _isStringArray(p){return p.length>0&&"string"==typeof p[0]}static _getElements(p){const c=p.getElements();if(E._isStringArray(c)){const u=new Int32Array(c.length);for(let g=0,i=c.length;g<i;g++)u[g]=(0,P.Cv)(c[g],0);return[c,u,!0]}return c instanceof Int32Array?[[],c,!1]:[[],new Int32Array(c),!1]}ElementsAreEqual(p,c){return this._originalElementsOrHash[p]===this._modifiedElementsOrHash[c]&&(!this._hasStrings||this._originalStringElements[p]===this._modifiedStringElements[c])}ElementsAreStrictEqual(p,c){return!!this.ElementsAreEqual(p,c)&&E._getStrictElement(this._originalSequence,p)===E._getStrictElement(this._modifiedSequence,c)}static _getStrictElement(p,c){return"function"==typeof p.getStrictElement?p.getStrictElement(c):null}OriginalElementsAreEqual(p,c){return this._originalElementsOrHash[p]===this._originalElementsOrHash[c]&&(!this._hasStrings||this._originalStringElements[p]===this._originalStringElements[c])}ModifiedElementsAreEqual(p,c){return this._modifiedElementsOrHash[p]===this._modifiedElementsOrHash[c]&&(!this._hasStrings||this._modifiedStringElements[p]===this._modifiedStringElements[c])}ComputeDiff(p){return this._ComputeDiff(0,this._originalElementsOrHash.length-1,0,this._modifiedElementsOrHash.length-1,p)}_ComputeDiff(p,c,u,g,i){const d=[!1];let a=this.ComputeDiffRecursive(p,c,u,g,d);return i&&(a=this.PrettifyChanges(a)),{quitEarly:d[0],changes:a}}ComputeDiffRecursive(p,c,u,g,i){for(i[0]=!1;p<=c&&u<=g&&this.ElementsAreEqual(p,u);)p++,u++;for(;c>=p&&g>=u&&this.ElementsAreEqual(c,g);)c--,g--;if(p>c||u>g){let w;return u<=g?(v.Assert(p===c+1,"originalStart should only be one more than originalEnd"),w=[new f(p,0,u,g-u+1)]):p<=c?(v.Assert(u===g+1,"modifiedStart should only be one more than modifiedEnd"),w=[new f(p,c-p+1,u,0)]):(v.Assert(p===c+1,"originalStart should only be one more than originalEnd"),v.Assert(u===g+1,"modifiedStart should only be one more than modifiedEnd"),w=[]),w}const d=[0],a=[0],m=this.ComputeRecursionPoint(p,c,u,g,d,a,i),l=d[0],I=a[0];if(null!==m)return m;if(!i[0]){const w=this.ComputeDiffRecursive(p,l,u,I,i);let D=[];return D=i[0]?[new f(l+1,c-(l+1)+1,I+1,g-(I+1)+1)]:this.ComputeDiffRecursive(l+1,c,I+1,g,i),this.ConcatenateChanges(w,D)}return[new f(p,c-p+1,u,g-u+1)]}WALKTRACE(p,c,u,g,i,d,a,m,l,I,w,D,N,A,k,R,O,W){let z=null,U=null,ee=new T,B=c,G=u,se=N[0]-R[0]-g,j=-1073741824,$=this.m_forwardHistory.length-1;do{const K=se+p;K===B||K<G&&l[K-1]<l[K+1]?(A=(w=l[K+1])-se-g,w<j&&ee.MarkNextChange(),j=w,ee.AddModifiedElement(w+1,A),se=K+1-p):(A=(w=l[K-1]+1)-se-g,w<j&&ee.MarkNextChange(),j=w-1,ee.AddOriginalElement(w,A+1),se=K-1-p),$>=0&&(p=(l=this.m_forwardHistory[$])[0],B=1,G=l.length-1)}while(--$>=-1);if(z=ee.getReverseChanges(),W[0]){let K=N[0]+1,J=R[0]+1;if(null!==z&&z.length>0){const te=z[z.length-1];K=Math.max(K,te.getOriginalEnd()),J=Math.max(J,te.getModifiedEnd())}U=[new f(K,D-K+1,J,k-J+1)]}else{ee=new T,B=d,G=a,se=N[0]-R[0]-m,j=1073741824,$=O?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do{const K=se+i;K===B||K<G&&I[K-1]>=I[K+1]?(A=(w=I[K+1]-1)-se-m,w>j&&ee.MarkNextChange(),j=w+1,ee.AddOriginalElement(w+1,A+1),se=K+1-i):(A=(w=I[K-1])-se-m,w>j&&ee.MarkNextChange(),j=w,ee.AddModifiedElement(w+1,A+1),se=K-1-i),$>=0&&(i=(I=this.m_reverseHistory[$])[0],B=1,G=I.length-1)}while(--$>=-1);U=ee.getChanges()}return this.ConcatenateChanges(z,U)}ComputeRecursionPoint(p,c,u,g,i,d,a){let m=0,l=0,I=0,w=0,D=0,N=0;p--,u--,i[0]=0,d[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];const A=c-p+(g-u),k=A+1,R=new Int32Array(k),O=new Int32Array(k),W=g-u,z=c-p,U=p-u,ee=c-g,G=(z-W)%2==0;R[W]=p,O[z]=c,a[0]=!1;for(let se=1;se<=A/2+1;se++){let j=0,$=0;I=this.ClipDiagonalBound(W-se,se,W,k),w=this.ClipDiagonalBound(W+se,se,W,k);for(let J=I;J<=w;J+=2){m=J===I||J<w&&R[J-1]<R[J+1]?R[J+1]:R[J-1]+1,l=m-(J-W)-U;const te=m;for(;m<c&&l<g&&this.ElementsAreEqual(m+1,l+1);)m++,l++;if(R[J]=m,m+l>j+$&&(j=m,$=l),!G&&Math.abs(J-z)<=se-1&&m>=O[J])return i[0]=m,d[0]=l,te<=O[J]&&se<=1448?this.WALKTRACE(W,I,w,U,z,D,N,ee,R,O,m,c,i,l,g,d,G,a):null}const K=(j-p+($-u)-se)/2;if(null!==this.ContinueProcessingPredicate&&!this.ContinueProcessingPredicate(j,K))return a[0]=!0,i[0]=j,d[0]=$,K>0&&se<=1448?this.WALKTRACE(W,I,w,U,z,D,N,ee,R,O,m,c,i,l,g,d,G,a):(p++,u++,[new f(p,c-p+1,u,g-u+1)]);D=this.ClipDiagonalBound(z-se,se,z,k),N=this.ClipDiagonalBound(z+se,se,z,k);for(let J=D;J<=N;J+=2){m=J===D||J<N&&O[J-1]>=O[J+1]?O[J+1]-1:O[J-1],l=m-(J-z)-ee;const te=m;for(;m>p&&l>u&&this.ElementsAreEqual(m,l);)m--,l--;if(O[J]=m,G&&Math.abs(J-W)<=se&&m<=R[J])return i[0]=m,d[0]=l,te>=R[J]&&se<=1448?this.WALKTRACE(W,I,w,U,z,D,N,ee,R,O,m,c,i,l,g,d,G,a):null}if(se<=1447){let J=new Int32Array(w-I+2);J[0]=W-I+1,S.Copy2(R,I,J,1,w-I+1),this.m_forwardHistory.push(J),J=new Int32Array(N-D+2),J[0]=z-D+1,S.Copy2(O,D,J,1,N-D+1),this.m_reverseHistory.push(J)}}return this.WALKTRACE(W,I,w,U,z,D,N,ee,R,O,m,c,i,l,g,d,G,a)}PrettifyChanges(p){for(let c=0;c<p.length;c++){const u=p[c],g=c<p.length-1?p[c+1].originalStart:this._originalElementsOrHash.length,i=c<p.length-1?p[c+1].modifiedStart:this._modifiedElementsOrHash.length,d=u.originalLength>0,a=u.modifiedLength>0;for(;u.originalStart+u.originalLength<g&&u.modifiedStart+u.modifiedLength<i&&(!d||this.OriginalElementsAreEqual(u.originalStart,u.originalStart+u.originalLength))&&(!a||this.ModifiedElementsAreEqual(u.modifiedStart,u.modifiedStart+u.modifiedLength));){const l=this.ElementsAreStrictEqual(u.originalStart,u.modifiedStart);if(this.ElementsAreStrictEqual(u.originalStart+u.originalLength,u.modifiedStart+u.modifiedLength)&&!l)break;u.originalStart++,u.modifiedStart++}const m=[null];c<p.length-1&&this.ChangesOverlap(p[c],p[c+1],m)&&(p[c]=m[0],p.splice(c+1,1),c--)}for(let c=p.length-1;c>=0;c--){const u=p[c];let g=0,i=0;if(c>0){const w=p[c-1];g=w.originalStart+w.originalLength,i=w.modifiedStart+w.modifiedLength}const d=u.originalLength>0,a=u.modifiedLength>0;let m=0,l=this._boundaryScore(u.originalStart,u.originalLength,u.modifiedStart,u.modifiedLength);for(let w=1;;w++){const D=u.originalStart-w,N=u.modifiedStart-w;if(D<g||N<i||d&&!this.OriginalElementsAreEqual(D,D+u.originalLength)||a&&!this.ModifiedElementsAreEqual(N,N+u.modifiedLength))break;const k=(D===g&&N===i?5:0)+this._boundaryScore(D,u.originalLength,N,u.modifiedLength);k>l&&(l=k,m=w)}u.originalStart-=m,u.modifiedStart-=m;const I=[null];c>0&&this.ChangesOverlap(p[c-1],p[c],I)&&(p[c-1]=I[0],p.splice(c,1),c++)}if(this._hasStrings)for(let c=1,u=p.length;c<u;c++){const g=p[c-1],i=p[c],d=i.originalStart-g.originalStart-g.originalLength,a=g.originalStart,m=i.originalStart+i.originalLength,l=m-a,I=g.modifiedStart,w=i.modifiedStart+i.modifiedLength,D=w-I;if(d<5&&l<20&&D<20){const N=this._findBetterContiguousSequence(a,l,I,D,d);if(N){const[A,k]=N;(A!==g.originalStart+g.originalLength||k!==g.modifiedStart+g.modifiedLength)&&(g.originalLength=A-g.originalStart,g.modifiedLength=k-g.modifiedStart,i.originalStart=A+d,i.modifiedStart=k+d,i.originalLength=m-i.originalStart,i.modifiedLength=w-i.modifiedStart)}}}return p}_findBetterContiguousSequence(p,c,u,g,i){if(c<i||g<i)return null;const d=p+c-i+1,a=u+g-i+1;let m=0,l=0,I=0;for(let w=p;w<d;w++)for(let D=u;D<a;D++){const N=this._contiguousSequenceScore(w,D,i);N>0&&N>m&&(m=N,l=w,I=D)}return m>0?[l,I]:null}_contiguousSequenceScore(p,c,u){let g=0;for(let i=0;i<u;i++){if(!this.ElementsAreEqual(p+i,c+i))return 0;g+=this._originalStringElements[p+i].length}return g}_OriginalIsBoundary(p){return p<=0||p>=this._originalElementsOrHash.length-1||this._hasStrings&&/^\s*$/.test(this._originalStringElements[p])}_OriginalRegionIsBoundary(p,c){if(this._OriginalIsBoundary(p)||this._OriginalIsBoundary(p-1))return!0;if(c>0){const u=p+c;if(this._OriginalIsBoundary(u-1)||this._OriginalIsBoundary(u))return!0}return!1}_ModifiedIsBoundary(p){return p<=0||p>=this._modifiedElementsOrHash.length-1||this._hasStrings&&/^\s*$/.test(this._modifiedStringElements[p])}_ModifiedRegionIsBoundary(p,c){if(this._ModifiedIsBoundary(p)||this._ModifiedIsBoundary(p-1))return!0;if(c>0){const u=p+c;if(this._ModifiedIsBoundary(u-1)||this._ModifiedIsBoundary(u))return!0}return!1}_boundaryScore(p,c,u,g){return(this._OriginalRegionIsBoundary(p,c)?1:0)+(this._ModifiedRegionIsBoundary(u,g)?1:0)}ConcatenateChanges(p,c){const u=[];if(0===p.length||0===c.length)return c.length>0?c:p;if(this.ChangesOverlap(p[p.length-1],c[0],u)){const g=new Array(p.length+c.length-1);return S.Copy(p,0,g,0,p.length-1),g[p.length-1]=u[0],S.Copy(c,1,g,p.length,c.length-1),g}{const g=new Array(p.length+c.length);return S.Copy(p,0,g,0,p.length),S.Copy(c,0,g,p.length,c.length),g}}ChangesOverlap(p,c,u){if(v.Assert(p.originalStart<=c.originalStart,"Left change is not less than or equal to right change"),v.Assert(p.modifiedStart<=c.modifiedStart,"Left change is not less than or equal to right change"),p.originalStart+p.originalLength>=c.originalStart||p.modifiedStart+p.modifiedLength>=c.modifiedStart){let i=p.originalLength,a=p.modifiedLength;return p.originalStart+p.originalLength>=c.originalStart&&(i=c.originalStart+c.originalLength-p.originalStart),p.modifiedStart+p.modifiedLength>=c.modifiedStart&&(a=c.modifiedStart+c.modifiedLength-p.modifiedStart),u[0]=new f(p.originalStart,i,p.modifiedStart,a),!0}return u[0]=null,!1}ClipDiagonalBound(p,c,u,g){if(p>=0&&p<g)return p;const a=c%2==0;return p<0?a===(u%2==0)?0:1:a===((g-u-1)%2==0)?g-1:g-2}}},17967:(Xe,we,e)=>{e.d(we,{B8:()=>u,Cp:()=>y,F0:()=>L,FU:()=>E,L6:()=>c,b1:()=>p,dL:()=>r,he:()=>i,n2:()=>T,ri:()=>v});const P=new class f{constructor(){this.listeners=[],this.unexpectedErrorHandler=function(a){setTimeout(()=>{throw a.stack?g.isErrorNoTelemetry(a)?new g(a.message+"\n\n"+a.stack):new Error(a.message+"\n\n"+a.stack):a},0)}}emit(a){this.listeners.forEach(m=>{m(a)})}onUnexpectedError(a){this.unexpectedErrorHandler(a),this.emit(a)}onUnexpectedExternalError(a){this.unexpectedErrorHandler(a)}};function r(d){T(d)||P.onUnexpectedError(d)}function y(d){T(d)||P.onUnexpectedExternalError(d)}function v(d){if(d instanceof Error){const{name:a,message:m}=d;return{$isError:!0,name:a,message:m,stack:d.stacktrace||d.stack,noTelemetry:g.isErrorNoTelemetry(d)}}return d}const S="Canceled";function T(d){return d instanceof E||d instanceof Error&&d.name===S&&d.message===S}class E extends Error{constructor(){super(S),this.name=this.message}}function L(){const d=new Error(S);return d.name=d.message,d}function p(d){return d?new Error(`Illegal argument: ${d}`):new Error("Illegal argument")}function c(d){return d?new Error(`Illegal state: ${d}`):new Error("Illegal state")}class u extends Error{constructor(a){super("NotSupported"),a&&(this.message=a)}}class g extends Error{constructor(a){super(a),this.name="CodeExpectedError"}static fromError(a){if(a instanceof g)return a;const m=new g;return m.message=a.message,m.stack=a.stack,m}static isErrorNoTelemetry(a){return"CodeExpectedError"===a.name}}class i extends Error{constructor(a){super(a||"An unexpected bug occurred."),Object.setPrototypeOf(this,i.prototype)}}},58178:(Xe,we,e)=>{e.d(we,{D0:()=>w,E7:()=>A,K3:()=>I,Q5:()=>a,SZ:()=>D,Sp:()=>m,ZD:()=>k,ju:()=>E,z5:()=>N});var E,f=e(17967),P=e(45644),r=e(78694),y=e(86211),v=e(11664);!function(R){function z(Y){return(x,F=null,ie)=>{let ke,Ce=!1;return ke=Y(Pe=>{if(!Ce)return ke?ke.dispose():Ce=!0,x.call(F,Pe)},null,ie),Ce&&ke.dispose(),ke}}function U(Y,x,F){return $((ie,Ce=null,ke)=>Y(Pe=>ie.call(Ce,x(Pe)),null,ke),F)}function ee(Y,x,F){return $((ie,Ce=null,ke)=>Y(Pe=>{x(Pe),ie.call(Ce,Pe)},null,ke),F)}function B(Y,x,F){return $((ie,Ce=null,ke)=>Y(Pe=>x(Pe)&&ie.call(Ce,Pe),null,ke),F)}function j(Y,x,F,ie){let Ce=F;return U(Y,ke=>(Ce=x(Ce,ke),Ce),ie)}function $(Y,x){let F;const Ce=new a({onWillAddFirstListener(){F=Y(Ce.fire,Ce)},onDidRemoveLastListener(){F?.dispose()}});return x?.add(Ce),Ce.event}function K(Y,x,F=100,ie=!1,Ce=!1,ke,Pe){let xe,fe,be,Q,pe=0;const Fe=new a({leakWarningThreshold:ke,onWillAddFirstListener(){xe=Y(He=>{pe++,fe=x(fe,He),ie&&!be&&(Fe.fire(fe),fe=void 0),Q=()=>{const Je=fe;fe=void 0,be=void 0,(!ie||pe>1)&&Fe.fire(Je),pe=0},"number"==typeof F?(clearTimeout(be),be=setTimeout(Q,F)):void 0===be&&(be=0,queueMicrotask(Q))})},onWillRemoveListener(){Ce&&pe>0&&Q?.()},onDidRemoveLastListener(){Q=void 0,xe.dispose()}});return Pe?.add(Fe),Fe.event}function te(Y,x=((ie,Ce)=>ie===Ce),F){let Ce,ie=!0;return B(Y,ke=>{const Pe=ie||!x(ke,Ce);return ie=!1,Ce=ke,Pe},F)}R.None=()=>r.JT.None,R.defer=function W(Y,x){return K(Y,()=>{},0,void 0,!0,void 0,x)},R.once=z,R.map=U,R.forEach=ee,R.filter=B,R.signal=function G(Y){return Y},R.any=function se(...Y){return(x,F=null,ie)=>(0,r.F8)(...Y.map(Ce=>Ce(ke=>x.call(F,ke),null,ie)))},R.reduce=j,R.debounce=K,R.accumulate=function J(Y,x=0,F){return R.debounce(Y,(ie,Ce)=>ie?(ie.push(Ce),ie):[Ce],x,void 0,!0,void 0,F)},R.latch=te,R.split=function ne(Y,x,F){return[R.filter(Y,x,F),R.filter(Y,ie=>!x(ie),F)]},R.buffer=function _(Y,x=!1,F=[]){let ie=F.slice(),Ce=Y(xe=>{ie?ie.push(xe):Pe.fire(xe)});const ke=()=>{ie?.forEach(xe=>Pe.fire(xe)),ie=null},Pe=new a({onWillAddFirstListener(){Ce||(Ce=Y(xe=>Pe.fire(xe)))},onDidAddFirstListener(){ie&&(x?setTimeout(ke):ke())},onDidRemoveLastListener(){Ce&&Ce.dispose(),Ce=null}});return Pe.event};class ae{constructor(x){this.event=x,this.disposables=new r.SL}map(x){return new ae(U(this.event,x,this.disposables))}forEach(x){return new ae(ee(this.event,x,this.disposables))}filter(x){return new ae(B(this.event,x,this.disposables))}reduce(x,F){return new ae(j(this.event,x,F,this.disposables))}latch(){return new ae(te(this.event,void 0,this.disposables))}debounce(x,F=100,ie=!1,Ce=!1,ke){return new ae(K(this.event,x,F,ie,Ce,ke,this.disposables))}on(x,F,ie){return this.event(x,F,ie)}once(x,F,ie){return z(this.event)(x,F,ie)}dispose(){this.disposables.dispose()}}R.chain=function ge(Y){return new ae(Y)},R.fromNodeEventEmitter=function _e(Y,x,F=(ie=>ie)){const ie=(...xe)=>Pe.fire(F(...xe)),Pe=new a({onWillAddFirstListener:()=>Y.on(x,ie),onDidRemoveLastListener:()=>Y.removeListener(x,ie)});return Pe.event},R.fromDOMEventEmitter=function ue(Y,x,F=(ie=>ie)){const ie=(...xe)=>Pe.fire(F(...xe)),Pe=new a({onWillAddFirstListener:()=>Y.addEventListener(x,ie),onDidRemoveLastListener:()=>Y.removeEventListener(x,ie)});return Pe.event},R.toPromise=function ve(Y){return new Promise(x=>z(Y)(x))},R.fromPromise=function Ie(Y){const x=new a;return Y.then(F=>{x.fire(F)},()=>{x.fire(void 0)}).finally(()=>{x.dispose()}),x.event},R.runAndSubscribe=function Se(Y,x){return x(void 0),Y(F=>x(F))},R.runAndSubscribeWithStore=function Ve(Y,x){let F=null;function ie(ke){F?.dispose(),F=new r.SL,x(ke,F)}ie(void 0);const Ce=Y(ke=>ie(ke));return(0,r.OF)(()=>{Ce.dispose(),F?.dispose()})};class De{constructor(x,F){this._observable=x,this._counter=0,this._hasChanged=!1;this.emitter=new a({onWillAddFirstListener:()=>{x.addObserver(this)},onDidRemoveLastListener:()=>{x.removeObserver(this)}}),F&&F.add(this.emitter)}beginUpdate(x){this._counter++}handlePossibleChange(x){}handleChange(x,F){this._hasChanged=!0}endUpdate(x){this._counter--,0===this._counter&&(this._observable.reportChanges(),this._hasChanged&&(this._hasChanged=!1,this.emitter.fire(this._observable.get())))}}R.fromObservable=function ye(Y,x){return new De(Y,x).emitter.event},R.fromObservableLight=function oe(Y){return x=>{let F=0,ie=!1;const Ce={beginUpdate(){F++},endUpdate(){F--,0===F&&(Y.reportChanges(),ie&&(ie=!1,x()))},handlePossibleChange(){},handleChange(){ie=!0}};return Y.addObserver(Ce),Y.reportChanges(),{dispose(){Y.removeObserver(Ce)}}}}}(E||(E={}));class L{constructor(O){this.listenerCount=0,this.invocationCount=0,this.elapsedOverall=0,this.durations=[],this.name=`${O}_${L._idPool++}`,L.all.add(this)}start(O){this._stopWatch=new v.G,this.listenerCount=O}stop(){if(this._stopWatch){const O=this._stopWatch.elapsed();this.durations.push(O),this.elapsedOverall+=O,this.invocationCount+=1,this._stopWatch=void 0}}}L.all=new Set,L._idPool=0;class c{constructor(O,W=Math.random().toString(18).slice(2,5)){this.threshold=O,this.name=W,this._warnCountdown=0}dispose(){var O;null===(O=this._stacks)||void 0===O||O.clear()}check(O,W){const z=this.threshold;if(z<=0||W<z)return;this._stacks||(this._stacks=new Map);const U=this._stacks.get(O.value)||0;if(this._stacks.set(O.value,U+1),this._warnCountdown-=1,this._warnCountdown<=0){this._warnCountdown=.5*z;let ee,B=0;for(const[G,se]of this._stacks)(!ee||B<se)&&(ee=G,B=se);console.warn(`[${this.name}] potential listener LEAK detected, having ${W} listeners already. MOST frequent listener (${B}):`),console.warn(ee)}return()=>{const ee=this._stacks.get(O.value)||0;this._stacks.set(O.value,ee-1)}}}class u{static create(){var O;return new u(null!==(O=(new Error).stack)&&void 0!==O?O:"")}constructor(O){this.value=O}print(){console.warn(this.value.split("\n").slice(2).join("\n"))}}class g{constructor(O){this.value=O}}class a{constructor(O){var W,z,U,ee,B;this._size=0,this._options=O,this._leakageMon=null!==(W=this._options)&&void 0!==W&&W.leakWarningThreshold?new c(null!==(U=null===(z=this._options)||void 0===z?void 0:z.leakWarningThreshold)&&void 0!==U?U:-1):void 0,this._perfMon=null!==(ee=this._options)&&void 0!==ee&&ee._profName?new L(this._options._profName):void 0,this._deliveryQueue=null===(B=this._options)||void 0===B?void 0:B.deliveryQueue}dispose(){var O,W,z,U;this._disposed||(this._disposed=!0,(null===(O=this._deliveryQueue)||void 0===O?void 0:O.current)===this&&this._deliveryQueue.reset(),this._listeners&&(this._listeners=void 0,this._size=0),null===(z=null===(W=this._options)||void 0===W?void 0:W.onDidRemoveLastListener)||void 0===z||z.call(W),null===(U=this._leakageMon)||void 0===U||U.dispose())}get event(){var O;return null!==(O=this._event)&&void 0!==O||(this._event=(W,z,U)=>{var ee,B,G,se,j;if(this._leakageMon&&this._size>3*this._leakageMon.threshold)return console.warn(`[${this._leakageMon.name}] REFUSES to accept new listeners because it exceeded its threshold by far`),r.JT.None;if(this._disposed)return r.JT.None;z&&(W=W.bind(z));const $=new g(W);let K;this._leakageMon&&this._size>=Math.ceil(.2*this._leakageMon.threshold)&&($.stack=u.create(),K=this._leakageMon.check($.stack,this._size+1)),this._listeners?this._listeners instanceof g?(null!==(j=this._deliveryQueue)&&void 0!==j||(this._deliveryQueue=new l),this._listeners=[this._listeners,$]):this._listeners.push($):(null===(B=null===(ee=this._options)||void 0===ee?void 0:ee.onWillAddFirstListener)||void 0===B||B.call(ee,this),this._listeners=$,null===(se=null===(G=this._options)||void 0===G?void 0:G.onDidAddFirstListener)||void 0===se||se.call(G,this)),this._size++;const te=(0,r.OF)(()=>{K?.(),this._removeListener($)});return U instanceof r.SL?U.add(te):Array.isArray(U)&&U.push(te),te}),this._event}_removeListener(O){var W,z,U,ee;if(null===(z=null===(W=this._options)||void 0===W?void 0:W.onWillRemoveListener)||void 0===z||z.call(W,this),!this._listeners)return;if(1===this._size)return this._listeners=void 0,null===(ee=null===(U=this._options)||void 0===U?void 0:U.onDidRemoveLastListener)||void 0===ee||ee.call(U,this),void(this._size=0);const B=this._listeners,G=B.indexOf(O);if(-1===G)throw console.log("disposed?",this._disposed),console.log("size?",this._size),console.log("arr?",JSON.stringify(this._listeners)),new Error("Attempted to dispose unknown listener");this._size--,B[G]=void 0;const se=this._deliveryQueue.current===this;if(2*this._size<=B.length){let j=0;for(let $=0;$<B.length;$++)B[$]?B[j++]=B[$]:se&&(this._deliveryQueue.end--,j<this._deliveryQueue.i&&this._deliveryQueue.i--);B.length=j}}_deliver(O,W){var z;if(!O)return;const U=(null===(z=this._options)||void 0===z?void 0:z.onListenerError)||f.dL;if(U)try{O.value(W)}catch(ee){U(ee)}else O.value(W)}_deliverQueue(O){const W=O.current._listeners;for(;O.i<O.end;)this._deliver(W[O.i++],O.value);O.reset()}fire(O){var W,z,U,ee;if(!(null===(W=this._deliveryQueue)||void 0===W)&&W.current&&(this._deliverQueue(this._deliveryQueue),null===(z=this._perfMon)||void 0===z||z.stop()),null===(U=this._perfMon)||void 0===U||U.start(this._size),this._listeners)if(this._listeners instanceof g)this._deliver(this._listeners,O);else{const B=this._deliveryQueue;B.enqueue(this,O,this._listeners.length),this._deliverQueue(B)}null===(ee=this._perfMon)||void 0===ee||ee.stop()}hasListeners(){return this._size>0}}const m=()=>new l;class l{constructor(){this.i=-1,this.end=0}enqueue(O,W,z){this.i=0,this.end=z,this.current=O,this.value=W}reset(){this.i=this.end,this.current=void 0,this.value=void 0}}class I extends a{constructor(O){super(O),this._isPaused=0,this._eventQueue=new y.S,this._mergeFn=O?.merge}pause(){this._isPaused++}resume(){if(0!==this._isPaused&&0==--this._isPaused)if(this._mergeFn){if(this._eventQueue.size>0){const O=Array.from(this._eventQueue);this._eventQueue.clear(),super.fire(this._mergeFn(O))}}else for(;!this._isPaused&&0!==this._eventQueue.size;)super.fire(this._eventQueue.shift())}fire(O){this._size&&(0!==this._isPaused?this._eventQueue.push(O):super.fire(O))}}class w extends I{constructor(O){var W;super(O),this._delay=null!==(W=O.delay)&&void 0!==W?W:100}fire(O){this._handle||(this.pause(),this._handle=setTimeout(()=>{this._handle=void 0,this.resume()},this._delay)),super.fire(O)}}class D extends a{constructor(O){super(O),this._queuedEvents=[],this._mergeFn=O?.merge}fire(O){this.hasListeners()&&(this._queuedEvents.push(O),1===this._queuedEvents.length&&queueMicrotask(()=>{this._mergeFn?super.fire(this._mergeFn(this._queuedEvents)):this._queuedEvents.forEach(W=>super.fire(W)),this._queuedEvents=[]}))}}class N{constructor(){this.hasListeners=!1,this.events=[],this.emitter=new a({onWillAddFirstListener:()=>this.onFirstListenerAdd(),onDidRemoveLastListener:()=>this.onLastListenerRemove()})}get event(){return this.emitter.event}add(O){const W={event:O,listener:null};return this.events.push(W),this.hasListeners&&this.hook(W),(0,r.OF)((0,P.I)(()=>{this.hasListeners&&this.unhook(W);const U=this.events.indexOf(W);this.events.splice(U,1)}))}onFirstListenerAdd(){this.hasListeners=!0,this.events.forEach(O=>this.hook(O))}onLastListenerRemove(){this.hasListeners=!1,this.events.forEach(O=>this.unhook(O))}hook(O){O.listener=O.event(W=>this.emitter.fire(W))}unhook(O){O.listener&&O.listener.dispose(),O.listener=null}dispose(){this.emitter.dispose()}}class A{constructor(){this.buffers=[]}wrapEvent(O){return(W,z,U)=>O(ee=>{const B=this.buffers[this.buffers.length-1];B?B.push(()=>W.call(z,ee)):W.call(z,ee)},void 0,U)}bufferEvents(O){const W=[];this.buffers.push(W);const z=O();return this.buffers.pop(),W.forEach(U=>U()),z}}class k{constructor(){this.listening=!1,this.inputEvent=E.None,this.inputEventListener=r.JT.None,this.emitter=new a({onDidAddFirstListener:()=>{this.listening=!0,this.inputEventListener=this.inputEvent(this.emitter.fire,this.emitter)},onDidRemoveLastListener:()=>{this.listening=!1,this.inputEventListener.dispose()}}),this.event=this.emitter.event}set input(O){this.inputEvent=O,this.listening&&(this.inputEventListener.dispose(),this.inputEventListener=O(this.emitter.fire,this.emitter))}dispose(){this.inputEventListener.dispose(),this.emitter.dispose()}}},20226:(Xe,we,e)=>{e.d(we,{KM:()=>E,ej:()=>v,fn:()=>S,oP:()=>p,yj:()=>T});var f=e(52356),P=e(88593),r=e(16055);function y(c){return 47===c||92===c}function v(c){return c.replace(/[\\/]/g,f.KR.sep)}function S(c){return-1===c.indexOf("/")&&(c=v(c)),/^[a-zA-Z]:(\/|$)/.test(c)&&(c="/"+c),c}function T(c,u=f.KR.sep){if(!c)return"";const g=c.length,i=c.charCodeAt(0);if(y(i)){if(y(c.charCodeAt(1))&&!y(c.charCodeAt(2))){let a=3;const m=a;for(;a<g&&!y(c.charCodeAt(a));a++);if(m!==a&&!y(c.charCodeAt(a+1)))for(a+=1;a<g;a++)if(y(c.charCodeAt(a)))return c.slice(0,a+1).replace(/[\\/]/g,u)}return u}if(L(i)&&58===c.charCodeAt(1))return y(c.charCodeAt(2))?c.slice(0,2)+u:c.slice(0,2);let d=c.indexOf("://");if(-1!==d)for(d+=3;d<g;d++)if(y(c.charCodeAt(d)))return c.slice(0,d+1);return""}function E(c,u,g,i=f.ir){if(c===u)return!0;if(!c||!u||u.length>c.length)return!1;if(g){if(!(0,r.ok)(c,u))return!1;if(u.length===c.length)return!0;let a=u.length;return u.charAt(u.length-1)===i&&a--,c.charAt(a)===i}return u.charAt(u.length-1)!==i&&(u+=i),0===c.indexOf(u)}function L(c){return c>=65&&c<=90||c>=97&&c<=122}function p(c,u=P.ED){return!!u&&L(c.charCodeAt(0))&&58===c.charCodeAt(1)}},55769:(Xe,we,e)=>{e.d(we,{CL:()=>oe,EW:()=>x,Ji:()=>v,KZ:()=>O,Oh:()=>G,Sy:()=>E,XU:()=>se,ir:()=>T,jB:()=>j,l7:()=>Ce,mB:()=>$,mX:()=>Y,or:()=>r});var f=e(38164),P=e(16055);function r(...xe){return function(fe,be){for(let pe=0,Q=xe.length;pe<Q;pe++){const le=xe[pe](fe,be);if(le)return le}return null}}S.bind(void 0,!1);const v=S.bind(void 0,!0);function S(xe,fe,be){if(!be||be.length<fe.length)return null;let pe;return pe=xe?P.ok(be,fe):0===be.indexOf(fe),pe?fe.length>0?[{start:0,end:fe.length}]:[]:null}function T(xe,fe){const be=fe.toLowerCase().indexOf(xe.toLowerCase());return-1===be?null:[{start:be,end:be+xe.length}]}function E(xe,fe){return L(xe.toLowerCase(),fe.toLowerCase(),0,0)}function L(xe,fe,be,pe){if(be===xe.length)return[];if(pe===fe.length)return null;if(xe[be]===fe[pe]){let Q=null;return(Q=L(xe,fe,be+1,pe+1))?l({start:pe,end:pe+1},Q):null}return L(xe,fe,be,pe+1)}function p(xe){return 97<=xe&&xe<=122}function c(xe){return 65<=xe&&xe<=90}function u(xe){return 48<=xe&&xe<=57}function g(xe){return 32===xe||9===xe||10===xe||13===xe}const i=new Set;function d(xe){return g(xe)||i.has(xe)}function m(xe){return p(xe)||c(xe)||u(xe)}function l(xe,fe){return 0===fe.length?fe=[xe]:xe.end===fe[0].start?fe[0].start=xe.start:fe.unshift(xe),fe}function I(xe,fe){for(let be=fe;be<xe.length;be++){const pe=xe.charCodeAt(be);if(c(pe)||u(pe)||be>0&&!m(xe.charCodeAt(be-1)))return be}return xe.length}function w(xe,fe,be,pe){if(be===xe.length)return[];if(pe===fe.length)return null;if(xe[be]!==fe[pe].toLowerCase())return null;{let Q=null,le=pe+1;for(Q=w(xe,fe,be+1,pe+1);!Q&&(le=I(fe,le))<fe.length;)Q=w(xe,fe,be+1,le),le++;return null===Q?null:l({start:pe,end:pe+1},Q)}}function R(xe,fe){if(!fe||0===(fe=fe.trim()).length||!function k(xe){let fe=0,be=0,pe=0,Q=0;for(let le=0;le<xe.length;le++)pe=xe.charCodeAt(le),c(pe)&&fe++,p(pe)&&be++,g(pe)&&Q++;return 0!==fe&&0!==be||0!==Q?fe<=5:xe.length<=30}(xe)||fe.length>60)return null;const be=function D(xe){let fe=0,be=0,pe=0,Q=0,le=0;for(let lt=0;lt<xe.length;lt++)le=xe.charCodeAt(lt),c(le)&&fe++,p(le)&&be++,m(le)&&pe++,u(le)&&Q++;return{upperPercent:fe/xe.length,lowerPercent:be/xe.length,alphaPercent:pe/xe.length,numericPercent:Q/xe.length}}(fe);if(!function A(xe){const{upperPercent:fe,lowerPercent:be,alphaPercent:pe,numericPercent:Q}=xe;return be>.2&&fe<.8&&pe>.6&&Q<.2}(be)){if(!function N(xe){const{upperPercent:fe,lowerPercent:be}=xe;return 0===be&&fe>.6}(be))return null;fe=fe.toLowerCase()}let pe=null,Q=0;for(xe=xe.toLowerCase();Q<fe.length&&null===(pe=w(xe,fe,0,Q));)Q=I(fe,Q+1);return pe}function O(xe,fe,be=!1){if(!fe||0===fe.length)return null;let pe=null,Q=0;for(xe=xe.toLowerCase(),fe=fe.toLowerCase();Q<fe.length&&null===(pe=W(xe,fe,0,Q,be));)Q=z(fe,Q+1);return pe}function W(xe,fe,be,pe,Q){if(be===xe.length)return[];if(pe===fe.length)return null;if(function a(xe,fe){return xe===fe||d(xe)&&d(fe)}(xe.charCodeAt(be),fe.charCodeAt(pe))){let le=null,Fe=pe+1;if(le=W(xe,fe,be+1,pe+1,Q),!Q)for(;!le&&(Fe=z(fe,Fe))<fe.length;)le=W(xe,fe,be+1,Fe,Q),Fe++;return le?xe.charCodeAt(be)!==fe.charCodeAt(pe)?le:l({start:pe,end:pe+1},le):null}return null}function z(xe,fe){for(let be=fe;be<xe.length;be++)if(d(xe.charCodeAt(be))||be>0&&d(xe.charCodeAt(be-1)))return be;return xe.length}"()[]{}<>`'\"-/;:,.?!".split("").forEach(xe=>i.add(xe.charCodeAt(0)));const U=r(v,R,T),ee=r(v,R,E),B=new f.z6(1e4);function G(xe,fe,be=!1){if("string"!=typeof xe||"string"!=typeof fe)return null;let pe=B.get(xe);pe||(pe=new RegExp(P.un(xe),"i"),B.set(xe,pe));const Q=pe.exec(fe);return Q?[{start:Q.index,end:Q.index+Q[0].length}]:be?ee(xe,fe):U(xe,fe)}function se(xe,fe){const be=x(xe,xe.toLowerCase(),0,fe,fe.toLowerCase(),0,{firstMatchCanBeWeak:!0,boostFullMatch:!0});return be?$(be):null}function j(xe,fe,be,pe,Q,le){const Fe=Math.min(13,xe.length);for(;be<Fe;be++){const He=x(xe,fe,be,pe,Q,le,{firstMatchCanBeWeak:!0,boostFullMatch:!0});if(He)return He}return[0,le]}function $(xe){if(typeof xe>"u")return[];const fe=[],be=xe[1];for(let pe=xe.length-1;pe>1;pe--){const Q=xe[pe]+be,le=fe[fe.length-1];le&&le.end===Q?le.end=Q+1:fe.push({start:Q,end:Q+1})}return fe}const K=128;function J(){const xe=[],fe=[];for(let be=0;be<=K;be++)fe[be]=0;for(let be=0;be<=K;be++)xe.push(fe.slice(0));return xe}function te(xe){const fe=[];for(let be=0;be<=xe;be++)fe[be]=0;return fe}const ne=te(2*K),_=te(2*K),ae=J(),ge=J(),_e=J(),ue=!1;function ve(xe,fe,be,pe,Q){function le(He,Je,ot=" "){for(;He.length<Je;)He=ot+He;return He}let Fe=` |   |${pe.split("").map(He=>le(He,3)).join("|")}\n`;for(let He=0;He<=be;He++)Fe+=0===He?" |":`${fe[He-1]}|`,Fe+=xe[He].slice(0,Q+1).map(Je=>le(Je.toString(),3)).join("|")+"\n";return Fe}function Se(xe,fe){if(fe<0||fe>=xe.length)return!1;const be=xe.codePointAt(fe);switch(be){case 95:case 45:case 46:case 32:case 47:case 92:case 39:case 34:case 58:case 36:case 60:case 62:case 40:case 41:case 91:case 93:case 123:case 125:return!0;case void 0:return!1;default:return!!P.C8(be)}}function Ve(xe,fe){if(fe<0||fe>=xe.length)return!1;switch(xe.charCodeAt(fe)){case 32:case 9:return!0;default:return!1}}function De(xe,fe,be){return fe[xe]!==be[xe]}var oe,xe;(xe=oe||(oe={})).Default=[-100,0],xe.isDefault=function fe(be){return!be||2===be.length&&-100===be[0]&&0===be[1]};let Y=(()=>{class xe{constructor(be,pe){this.firstMatchCanBeWeak=be,this.boostFullMatch=pe}}return xe.default={boostFullMatch:!0,firstMatchCanBeWeak:!1},xe})();function x(xe,fe,be,pe,Q,le,Fe=Y.default){const He=xe.length>K?K:xe.length,Je=pe.length>K?K:pe.length;if(be>=He||le>=Je||He-be>Je-le||!function ye(xe,fe,be,pe,Q,le,Fe=!1){for(;fe<be&&Q<le;)xe[fe]===pe[Q]&&(Fe&&(ne[fe]=Q),fe+=1),Q+=1;return fe===be}(fe,be,He,Q,le,Je,!0))return;!function F(xe,fe,be,pe,Q,le){let Fe=xe-1,He=fe-1;for(;Fe>=be&&He>=pe;)Q[Fe]===le[He]&&(_[Fe]=He,Fe--),He--}(He,Je,be,le,fe,Q);let ot=1,lt=1,mt=be,ft=le;const Lt=[!1];for(ot=1,mt=be;mt<He;ot++,mt++){const It=ne[mt],it=_[mt],qe=mt+1<He?_[mt+1]:Je;for(lt=It-le+1,ft=It;ft<qe;lt++,ft++){let Ze=Number.MIN_SAFE_INTEGER,Ee=!1;ft<=it&&(Ze=ie(xe,fe,mt,be,pe,Q,ft,Je,le,0===ae[ot-1][lt-1],Lt));let Te=0;Ze!==Number.MAX_SAFE_INTEGER&&(Ee=!0,Te=Ze+ge[ot-1][lt-1]);const Ae=ft>It,ht=Ae?ge[ot][lt-1]+(ae[ot][lt-1]>0?-5:0):0,yt=ft>It+1&&ae[ot][lt-1]>0,Dt=yt?ge[ot][lt-2]+(ae[ot][lt-2]>0?-5:0):0;if(yt&&(!Ae||Dt>=ht)&&(!Ee||Dt>=Te))ge[ot][lt]=Dt,_e[ot][lt]=3,ae[ot][lt]=0;else if(Ae&&(!Ee||ht>=Te))ge[ot][lt]=ht,_e[ot][lt]=2,ae[ot][lt]=0;else{if(!Ee)throw new Error("not possible");ge[ot][lt]=Te,_e[ot][lt]=1,ae[ot][lt]=ae[ot-1][lt-1]+1}}}if(ue&&function Ie(xe,fe,be,pe){xe=xe.substr(fe),be=be.substr(pe),console.log(ve(ge,xe,xe.length,be,be.length)),console.log(ve(_e,xe,xe.length,be,be.length)),console.log(ve(ae,xe,xe.length,be,be.length))}(xe,be,pe,le),!Lt[0]&&!Fe.firstMatchCanBeWeak)return;ot--,lt--;const Tt=[ge[ot][lt],le];let Mt=0,Ut=0;for(;ot>=1;){let It=lt;do{const it=_e[ot][It];if(3===it)It-=2;else{if(2!==it)break;It-=1}}while(It>=1);Mt>1&&fe[be+ot-1]===Q[le+lt-1]&&!De(It+le-1,pe,Q)&&Mt+1>ae[ot][It]&&(It=lt),It===lt?Mt++:Mt=1,Ut||(Ut=It),ot--,lt=It-1,Tt.push(lt)}return Je===He&&Fe.boostFullMatch&&(Tt[0]+=2),Tt[0]-=Ut-He,Tt}function ie(xe,fe,be,pe,Q,le,Fe,He,Je,ot,lt){if(fe[be]!==le[Fe])return Number.MIN_SAFE_INTEGER;let mt=1,ft=!1;return Fe===be-pe?mt=xe[be]===Q[Fe]?7:5:!De(Fe,Q,le)||0!==Fe&&De(Fe-1,Q,le)?!Se(le,Fe)||0!==Fe&&Se(le,Fe-1)?(Se(le,Fe-1)||Ve(le,Fe-1))&&(mt=5,ft=!0):mt=5:(mt=xe[be]===Q[Fe]?7:5,ft=!0),mt>1&&be===pe&&(lt[0]=!0),ft||(ft=De(Fe,Q,le)||Se(le,Fe-1)||Ve(le,Fe-1)),be===pe?Fe>Je&&(mt-=ft?3:5):mt+=ot?ft?2:0:ft?0:1,Fe+1===He&&(mt-=ft?3:5),mt}function Ce(xe,fe,be,pe,Q,le,Fe){return function ke(xe,fe,be,pe,Q,le,Fe,He){let Je=x(xe,fe,be,pe,Q,le,He);if(Je&&!Fe)return Je;if(xe.length>=3){const ot=Math.min(7,xe.length-1);for(let lt=be+1;lt<ot;lt++){const mt=Pe(xe,lt);if(mt){const ft=x(mt,mt.toLowerCase(),be,pe,Q,le,He);ft&&(ft[0]-=3,(!Je||ft[0]>Je[0])&&(Je=ft))}}}return Je}(xe,fe,be,pe,Q,le,!0,Fe)}function Pe(xe,fe){if(fe+1>=xe.length)return;const be=xe[fe],pe=xe[fe+1];return be!==pe?xe.slice(0,fe)+pe+be+xe.slice(fe+2):void 0}},45644:(Xe,we,e)=>{function f(P){const r=this;let v,y=!1;return function(){return y||(y=!0,v=P.apply(r,arguments)),v}}e.d(we,{I:()=>f})},27388:(Xe,we,e)=>{e.d(we,{Cv:()=>S,SP:()=>r,vp:()=>P,yP:()=>g});var f=e(16055);function P(i){return r(i,0)}function r(i,d){switch(typeof i){case"object":return null===i?y(349,d):Array.isArray(i)?function T(i,d){return d=y(104579,d),i.reduce((a,m)=>r(m,a),d)}(i,d):function E(i,d){return d=y(181387,d),Object.keys(i).sort().reduce((a,m)=>(a=S(m,a),r(i[m],a)),d)}(i,d);case"string":return S(i,d);case"boolean":return function v(i,d){return y(i?433:863,d)}(i,d);case"number":return y(i,d);case"undefined":return y(937,d);default:return y(617,d)}}function y(i,d){return(d<<5)-d+i|0}function S(i,d){d=y(149417,d);for(let a=0,m=i.length;a<m;a++)d=y(i.charCodeAt(a),d);return d}function L(i,d,a=32){const m=a-d;return(i<<d|(~((1<<m)-1)&i)>>>m)>>>0}function p(i,d=0,a=i.byteLength,m=0){for(let l=0;l<a;l++)i[d+l]=m}function u(i,d=32){return i instanceof ArrayBuffer?Array.from(new Uint8Array(i)).map(a=>a.toString(16).padStart(2,"0")).join(""):function c(i,d,a="0"){for(;i.length<d;)i=a+i;return i}((i>>>0).toString(16),d/4)}class g{constructor(){this._h0=1732584193,this._h1=4023233417,this._h2=2562383102,this._h3=271733878,this._h4=3285377520,this._buff=new Uint8Array(67),this._buffDV=new DataView(this._buff.buffer),this._buffLen=0,this._totalLen=0,this._leftoverHighSurrogate=0,this._finished=!1}update(d){const a=d.length;if(0===a)return;const m=this._buff;let w,D,l=this._buffLen,I=this._leftoverHighSurrogate;for(0!==I?(w=I,D=-1,I=0):(w=d.charCodeAt(0),D=0);;){let N=w;if(f.ZG(w)){if(!(D+1<a)){I=w;break}{const A=d.charCodeAt(D+1);f.YK(A)?(D++,N=f.rL(w,A)):N=65533}}else f.YK(w)&&(N=65533);if(l=this._push(m,l,N),D++,!(D<a))break;w=d.charCodeAt(D)}this._buffLen=l,this._leftoverHighSurrogate=I}_push(d,a,m){return m<128?d[a++]=m:m<2048?(d[a++]=192|(1984&m)>>>6,d[a++]=128|(63&m)>>>0):m<65536?(d[a++]=224|(61440&m)>>>12,d[a++]=128|(4032&m)>>>6,d[a++]=128|(63&m)>>>0):(d[a++]=240|(1835008&m)>>>18,d[a++]=128|(258048&m)>>>12,d[a++]=128|(4032&m)>>>6,d[a++]=128|(63&m)>>>0),a>=64&&(this._step(),a-=64,this._totalLen+=64,d[0]=d[64],d[1]=d[65],d[2]=d[66]),a}digest(){return this._finished||(this._finished=!0,this._leftoverHighSurrogate&&(this._leftoverHighSurrogate=0,this._buffLen=this._push(this._buff,this._buffLen,65533)),this._totalLen+=this._buffLen,this._wrapUp()),u(this._h0)+u(this._h1)+u(this._h2)+u(this._h3)+u(this._h4)}_wrapUp(){this._buff[this._buffLen++]=128,p(this._buff,this._buffLen),this._buffLen>56&&(this._step(),p(this._buff));const d=8*this._totalLen;this._buffDV.setUint32(56,Math.floor(d/4294967296),!1),this._buffDV.setUint32(60,d%4294967296,!1),this._step()}_step(){const d=g._bigBlock32,a=this._buffDV;for(let R=0;R<64;R+=4)d.setUint32(R,a.getUint32(R,!1),!1);for(let R=64;R<320;R+=4)d.setUint32(R,L(d.getUint32(R-12,!1)^d.getUint32(R-32,!1)^d.getUint32(R-56,!1)^d.getUint32(R-64,!1),1),!1);let N,A,k,m=this._h0,l=this._h1,I=this._h2,w=this._h3,D=this._h4;for(let R=0;R<80;R++)R<20?(N=l&I|~l&w,A=1518500249):R<40?(N=l^I^w,A=1859775393):R<60?(N=l&I|l&w|I&w,A=2400959708):(N=l^I^w,A=3395469782),k=L(m,5)+N+D+A+d.getUint32(4*R,!1)&4294967295,D=w,w=I,I=L(l,30),l=m,m=k;this._h0=this._h0+m&4294967295,this._h1=this._h1+l&4294967295,this._h2=this._h2+I&4294967295,this._h3=this._h3+w&4294967295,this._h4=this._h4+D&4294967295}}g._bigBlock32=new DataView(new ArrayBuffer(320))},10878:(Xe,we,e)=>{e.d(we,{CP:()=>T,Fr:()=>E,W5:()=>S,d9:()=>c,g_:()=>L,oR:()=>u,v1:()=>g});var f=e(17967),P=e(53385),r=e(9001),y=e(16055),v=e(15850);class S{constructor(d="",a=!1){var m,l,I;if(this.value=d,"string"!=typeof this.value)throw(0,f.b1)("value");"boolean"==typeof a?(this.isTrusted=a,this.supportThemeIcons=!1,this.supportHtml=!1):(this.isTrusted=null!==(m=a.isTrusted)&&void 0!==m?m:void 0,this.supportThemeIcons=null!==(l=a.supportThemeIcons)&&void 0!==l&&l,this.supportHtml=null!==(I=a.supportHtml)&&void 0!==I&&I)}appendText(d,a=0){return this.value+=function p(i){return i.replace(/[\\`*_{}[\]()#+\-!~]/g,"\\$&")}(this.supportThemeIcons?(0,P.Qo)(d):d).replace(/([ \t]+)/g,(m,l)=>"&nbsp;".repeat(l.length)).replace(/\>/gm,"\\>").replace(/\n/g,1===a?"\\\n":"\n\n"),this}appendMarkdown(d){return this.value+=d,this}appendCodeblock(d,a){return this.value+="\n```",this.value+=d,this.value+="\n",this.value+=a,this.value+="\n```\n",this}appendLink(d,a,m){return this.value+="[",this.value+=this._escape(a,"]"),this.value+="](",this.value+=this._escape(String(d),")"),m&&(this.value+=` "${this._escape(this._escape(m,'"'),")")}"`),this.value+=")",this}_escape(d,a){const m=new RegExp((0,y.ec)(a),"g");return d.replace(m,(l,I)=>"\\"!==d.charAt(I-1)?`\\${l}`:l)}}function T(i){return E(i)?!i.value:!Array.isArray(i)||i.every(T)}function E(i){return i instanceof S||!(!i||"object"!=typeof i)&&!("string"!=typeof i.value||"boolean"!=typeof i.isTrusted&&"object"!=typeof i.isTrusted&&void 0!==i.isTrusted||"boolean"!=typeof i.supportThemeIcons&&void 0!==i.supportThemeIcons)}function L(i,d){return i===d||!(!i||!d)&&i.value===d.value&&i.isTrusted===d.isTrusted&&i.supportThemeIcons===d.supportThemeIcons&&i.supportHtml===d.supportHtml&&(i.baseUri===d.baseUri||!!i.baseUri&&!!d.baseUri&&(0,r.Xy)(v.o.from(i.baseUri),v.o.from(d.baseUri)))}function c(i){return i.replace(/"/g,"&quot;")}function u(i){return i&&i.replace(/\\([\\`*_{}[\]()#+\-.!~])/g,"$1")}function g(i){const d=[],a=i.split("|").map(l=>l.trim());i=a[0];const m=a[1];if(m){const l=/height=(\d+)/.exec(m),I=/width=(\d+)/.exec(m),w=l?l[1]:"",D=I?I[1]:"",N=isFinite(parseInt(D)),A=isFinite(parseInt(w));N&&d.push(`width="${D}"`),A&&d.push(`height="${w}"`)}return{href:i,dimensions:d}}},53385:(Xe,we,e)=>{e.d(we,{Gt:()=>d,Ho:()=>i,JL:()=>u,Qo:()=>T,f$:()=>L,x$:()=>c});var f=e(55769),P=e(16055),r=e(35053);const y="$(",v=new RegExp(`\\$\\(${r.k.iconNameExpression}(?:${r.k.iconModifierExpression})?\\)`,"g"),S=new RegExp(`(\\\\)?${v.source}`,"g");function T(a){return a.replace(S,(m,l)=>l?m:`\\${m}`)}const E=new RegExp(`\\\\${v.source}`,"g");function L(a){return a.replace(E,m=>`\\${m}`)}const p=new RegExp(`(\\s)?(\\\\)?${v.source}(\\s)?`,"g");function c(a){return-1===a.indexOf(y)?a:a.replace(p,(m,l,I,w)=>I?m:l||w||"")}function u(a){return a?a.replace(/\$\((.*?)\)/g,(m,l)=>` ${l} `).trim():""}const g=new RegExp(`\\$\\(${r.k.iconNameCharacter}+\\)`,"g");function i(a){g.lastIndex=0;let m="";const l=[];let I=0;for(;;){const w=g.lastIndex,D=g.exec(a),N=a.substring(w,D?.index);if(N.length>0){m+=N;for(let A=0;A<N.length;A++)l.push(I)}if(!D)break;I+=D[0].length}return{text:m,iconOffsets:l}}function d(a,m,l=!1){const{text:I,iconOffsets:w}=m;if(!w||0===w.length)return(0,f.Oh)(a,I,l);const D=(0,P.j3)(I," "),N=I.length-D.length,A=(0,f.Oh)(a,D,l);if(A)for(const k of A){const R=w[k.start+N]+N;k.start+=R,k.end+=R}return A}},24791:(Xe,we,e)=>{e.d(we,{R:()=>f,a:()=>P});class f{constructor(y){this._prefix=y,this._lastId=0}nextId(){return this._prefix+ ++this._lastId}}const P=new f("id#")},77872:(Xe,we,e)=>{e.d(we,{F:()=>r});var f=e(58178);const r=new class P{constructor(){this._onDidChange=new f.Q5,this.onDidChange=this._onDidChange.event,this._enabled=!0}get enabled(){return this._enabled}enable(){this._enabled=!0,this._onDidChange.fire()}disable(){this._enabled=!1,this._onDidChange.fire()}}},68733:(Xe,we,e)=>{var f;e.d(we,{$:()=>f}),function(P){function r(I){return I&&"object"==typeof I&&"function"==typeof I[Symbol.iterator]}P.is=r;const y=Object.freeze([]);function*S(I){yield I}P.empty=function v(){return y},P.single=S,P.wrap=function T(I){return r(I)?I:S(I)},P.from=function E(I){return I||y},P.isEmpty=function L(I){return!I||!0===I[Symbol.iterator]().next().done},P.first=function p(I){return I[Symbol.iterator]().next().value},P.some=function c(I,w){for(const D of I)if(w(D))return!0;return!1},P.find=function u(I,w){for(const D of I)if(w(D))return D},P.filter=function*g(I,w){for(const D of I)w(D)&&(yield D)},P.map=function*i(I,w){let D=0;for(const N of I)yield w(N,D++)},P.concat=function*d(...I){for(const w of I)for(const D of w)yield D},P.reduce=function a(I,w,D){let N=D;for(const A of I)N=w(N,A);return N},P.slice=function*m(I,w,D=I.length){for(w<0&&(w+=I.length),D<0?D+=I.length:D>I.length&&(D=I.length);w<D;w++)yield I[w]},P.consume=function l(I,w=Number.POSITIVE_INFINITY){const D=[];if(0===w)return[D,I];const N=I[Symbol.iterator]();for(let A=0;A<w;A++){const k=N.next();if(k.done)return[D,P.empty()];D.push(k.value)}return[D,{[Symbol.iterator]:()=>N}]}}(f||(f={}))},48994:(Xe,we,e)=>{e.d(we,{H_:()=>v,Vd:()=>p,gx:()=>g,kL:()=>u});class f{constructor(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}define(d,a){this._keyCodeToStr[d]=a,this._strToKeyCode[a.toLowerCase()]=d}keyCodeToStr(d){return this._keyCodeToStr[d]}strToKeyCode(d){return this._strToKeyCode[d.toLowerCase()]||0}}const P=new f,r=new f,y=new f,v=new Array(230),S={},T=[],E=Object.create(null),L=Object.create(null),p=[],c=[];for(let i=0;i<=193;i++)p[i]=-1;for(let i=0;i<=132;i++)c[i]=-1;var u,i;function g(i,d){return(i|(65535&d)<<16>>>0)>>>0}!function(){const i="",d=[[1,0,"None",0,"unknown",0,"VK_UNKNOWN",i,i],[1,1,"Hyper",0,i,0,i,i,i],[1,2,"Super",0,i,0,i,i,i],[1,3,"Fn",0,i,0,i,i,i],[1,4,"FnLock",0,i,0,i,i,i],[1,5,"Suspend",0,i,0,i,i,i],[1,6,"Resume",0,i,0,i,i,i],[1,7,"Turbo",0,i,0,i,i,i],[1,8,"Sleep",0,i,0,"VK_SLEEP",i,i],[1,9,"WakeUp",0,i,0,i,i,i],[0,10,"KeyA",31,"A",65,"VK_A",i,i],[0,11,"KeyB",32,"B",66,"VK_B",i,i],[0,12,"KeyC",33,"C",67,"VK_C",i,i],[0,13,"KeyD",34,"D",68,"VK_D",i,i],[0,14,"KeyE",35,"E",69,"VK_E",i,i],[0,15,"KeyF",36,"F",70,"VK_F",i,i],[0,16,"KeyG",37,"G",71,"VK_G",i,i],[0,17,"KeyH",38,"H",72,"VK_H",i,i],[0,18,"KeyI",39,"I",73,"VK_I",i,i],[0,19,"KeyJ",40,"J",74,"VK_J",i,i],[0,20,"KeyK",41,"K",75,"VK_K",i,i],[0,21,"KeyL",42,"L",76,"VK_L",i,i],[0,22,"KeyM",43,"M",77,"VK_M",i,i],[0,23,"KeyN",44,"N",78,"VK_N",i,i],[0,24,"KeyO",45,"O",79,"VK_O",i,i],[0,25,"KeyP",46,"P",80,"VK_P",i,i],[0,26,"KeyQ",47,"Q",81,"VK_Q",i,i],[0,27,"KeyR",48,"R",82,"VK_R",i,i],[0,28,"KeyS",49,"S",83,"VK_S",i,i],[0,29,"KeyT",50,"T",84,"VK_T",i,i],[0,30,"KeyU",51,"U",85,"VK_U",i,i],[0,31,"KeyV",52,"V",86,"VK_V",i,i],[0,32,"KeyW",53,"W",87,"VK_W",i,i],[0,33,"KeyX",54,"X",88,"VK_X",i,i],[0,34,"KeyY",55,"Y",89,"VK_Y",i,i],[0,35,"KeyZ",56,"Z",90,"VK_Z",i,i],[0,36,"Digit1",22,"1",49,"VK_1",i,i],[0,37,"Digit2",23,"2",50,"VK_2",i,i],[0,38,"Digit3",24,"3",51,"VK_3",i,i],[0,39,"Digit4",25,"4",52,"VK_4",i,i],[0,40,"Digit5",26,"5",53,"VK_5",i,i],[0,41,"Digit6",27,"6",54,"VK_6",i,i],[0,42,"Digit7",28,"7",55,"VK_7",i,i],[0,43,"Digit8",29,"8",56,"VK_8",i,i],[0,44,"Digit9",30,"9",57,"VK_9",i,i],[0,45,"Digit0",21,"0",48,"VK_0",i,i],[1,46,"Enter",3,"Enter",13,"VK_RETURN",i,i],[1,47,"Escape",9,"Escape",27,"VK_ESCAPE",i,i],[1,48,"Backspace",1,"Backspace",8,"VK_BACK",i,i],[1,49,"Tab",2,"Tab",9,"VK_TAB",i,i],[1,50,"Space",10,"Space",32,"VK_SPACE",i,i],[0,51,"Minus",88,"-",189,"VK_OEM_MINUS","-","OEM_MINUS"],[0,52,"Equal",86,"=",187,"VK_OEM_PLUS","=","OEM_PLUS"],[0,53,"BracketLeft",92,"[",219,"VK_OEM_4","[","OEM_4"],[0,54,"BracketRight",94,"]",221,"VK_OEM_6","]","OEM_6"],[0,55,"Backslash",93,"\\",220,"VK_OEM_5","\\","OEM_5"],[0,56,"IntlHash",0,i,0,i,i,i],[0,57,"Semicolon",85,";",186,"VK_OEM_1",";","OEM_1"],[0,58,"Quote",95,"'",222,"VK_OEM_7","'","OEM_7"],[0,59,"Backquote",91,"`",192,"VK_OEM_3","`","OEM_3"],[0,60,"Comma",87,",",188,"VK_OEM_COMMA",",","OEM_COMMA"],[0,61,"Period",89,".",190,"VK_OEM_PERIOD",".","OEM_PERIOD"],[0,62,"Slash",90,"/",191,"VK_OEM_2","/","OEM_2"],[1,63,"CapsLock",8,"CapsLock",20,"VK_CAPITAL",i,i],[1,64,"F1",59,"F1",112,"VK_F1",i,i],[1,65,"F2",60,"F2",113,"VK_F2",i,i],[1,66,"F3",61,"F3",114,"VK_F3",i,i],[1,67,"F4",62,"F4",115,"VK_F4",i,i],[1,68,"F5",63,"F5",116,"VK_F5",i,i],[1,69,"F6",64,"F6",117,"VK_F6",i,i],[1,70,"F7",65,"F7",118,"VK_F7",i,i],[1,71,"F8",66,"F8",119,"VK_F8",i,i],[1,72,"F9",67,"F9",120,"VK_F9",i,i],[1,73,"F10",68,"F10",121,"VK_F10",i,i],[1,74,"F11",69,"F11",122,"VK_F11",i,i],[1,75,"F12",70,"F12",123,"VK_F12",i,i],[1,76,"PrintScreen",0,i,0,i,i,i],[1,77,"ScrollLock",84,"ScrollLock",145,"VK_SCROLL",i,i],[1,78,"Pause",7,"PauseBreak",19,"VK_PAUSE",i,i],[1,79,"Insert",19,"Insert",45,"VK_INSERT",i,i],[1,80,"Home",14,"Home",36,"VK_HOME",i,i],[1,81,"PageUp",11,"PageUp",33,"VK_PRIOR",i,i],[1,82,"Delete",20,"Delete",46,"VK_DELETE",i,i],[1,83,"End",13,"End",35,"VK_END",i,i],[1,84,"PageDown",12,"PageDown",34,"VK_NEXT",i,i],[1,85,"ArrowRight",17,"RightArrow",39,"VK_RIGHT","Right",i],[1,86,"ArrowLeft",15,"LeftArrow",37,"VK_LEFT","Left",i],[1,87,"ArrowDown",18,"DownArrow",40,"VK_DOWN","Down",i],[1,88,"ArrowUp",16,"UpArrow",38,"VK_UP","Up",i],[1,89,"NumLock",83,"NumLock",144,"VK_NUMLOCK",i,i],[1,90,"NumpadDivide",113,"NumPad_Divide",111,"VK_DIVIDE",i,i],[1,91,"NumpadMultiply",108,"NumPad_Multiply",106,"VK_MULTIPLY",i,i],[1,92,"NumpadSubtract",111,"NumPad_Subtract",109,"VK_SUBTRACT",i,i],[1,93,"NumpadAdd",109,"NumPad_Add",107,"VK_ADD",i,i],[1,94,"NumpadEnter",3,i,0,i,i,i],[1,95,"Numpad1",99,"NumPad1",97,"VK_NUMPAD1",i,i],[1,96,"Numpad2",100,"NumPad2",98,"VK_NUMPAD2",i,i],[1,97,"Numpad3",101,"NumPad3",99,"VK_NUMPAD3",i,i],[1,98,"Numpad4",102,"NumPad4",100,"VK_NUMPAD4",i,i],[1,99,"Numpad5",103,"NumPad5",101,"VK_NUMPAD5",i,i],[1,100,"Numpad6",104,"NumPad6",102,"VK_NUMPAD6",i,i],[1,101,"Numpad7",105,"NumPad7",103,"VK_NUMPAD7",i,i],[1,102,"Numpad8",106,"NumPad8",104,"VK_NUMPAD8",i,i],[1,103,"Numpad9",107,"NumPad9",105,"VK_NUMPAD9",i,i],[1,104,"Numpad0",98,"NumPad0",96,"VK_NUMPAD0",i,i],[1,105,"NumpadDecimal",112,"NumPad_Decimal",110,"VK_DECIMAL",i,i],[0,106,"IntlBackslash",97,"OEM_102",226,"VK_OEM_102",i,i],[1,107,"ContextMenu",58,"ContextMenu",93,i,i,i],[1,108,"Power",0,i,0,i,i,i],[1,109,"NumpadEqual",0,i,0,i,i,i],[1,110,"F13",71,"F13",124,"VK_F13",i,i],[1,111,"F14",72,"F14",125,"VK_F14",i,i],[1,112,"F15",73,"F15",126,"VK_F15",i,i],[1,113,"F16",74,"F16",127,"VK_F16",i,i],[1,114,"F17",75,"F17",128,"VK_F17",i,i],[1,115,"F18",76,"F18",129,"VK_F18",i,i],[1,116,"F19",77,"F19",130,"VK_F19",i,i],[1,117,"F20",78,"F20",131,"VK_F20",i,i],[1,118,"F21",79,"F21",132,"VK_F21",i,i],[1,119,"F22",80,"F22",133,"VK_F22",i,i],[1,120,"F23",81,"F23",134,"VK_F23",i,i],[1,121,"F24",82,"F24",135,"VK_F24",i,i],[1,122,"Open",0,i,0,i,i,i],[1,123,"Help",0,i,0,i,i,i],[1,124,"Select",0,i,0,i,i,i],[1,125,"Again",0,i,0,i,i,i],[1,126,"Undo",0,i,0,i,i,i],[1,127,"Cut",0,i,0,i,i,i],[1,128,"Copy",0,i,0,i,i,i],[1,129,"Paste",0,i,0,i,i,i],[1,130,"Find",0,i,0,i,i,i],[1,131,"AudioVolumeMute",117,"AudioVolumeMute",173,"VK_VOLUME_MUTE",i,i],[1,132,"AudioVolumeUp",118,"AudioVolumeUp",175,"VK_VOLUME_UP",i,i],[1,133,"AudioVolumeDown",119,"AudioVolumeDown",174,"VK_VOLUME_DOWN",i,i],[1,134,"NumpadComma",110,"NumPad_Separator",108,"VK_SEPARATOR",i,i],[0,135,"IntlRo",115,"ABNT_C1",193,"VK_ABNT_C1",i,i],[1,136,"KanaMode",0,i,0,i,i,i],[0,137,"IntlYen",0,i,0,i,i,i],[1,138,"Convert",0,i,0,i,i,i],[1,139,"NonConvert",0,i,0,i,i,i],[1,140,"Lang1",0,i,0,i,i,i],[1,141,"Lang2",0,i,0,i,i,i],[1,142,"Lang3",0,i,0,i,i,i],[1,143,"Lang4",0,i,0,i,i,i],[1,144,"Lang5",0,i,0,i,i,i],[1,145,"Abort",0,i,0,i,i,i],[1,146,"Props",0,i,0,i,i,i],[1,147,"NumpadParenLeft",0,i,0,i,i,i],[1,148,"NumpadParenRight",0,i,0,i,i,i],[1,149,"NumpadBackspace",0,i,0,i,i,i],[1,150,"NumpadMemoryStore",0,i,0,i,i,i],[1,151,"NumpadMemoryRecall",0,i,0,i,i,i],[1,152,"NumpadMemoryClear",0,i,0,i,i,i],[1,153,"NumpadMemoryAdd",0,i,0,i,i,i],[1,154,"NumpadMemorySubtract",0,i,0,i,i,i],[1,155,"NumpadClear",131,"Clear",12,"VK_CLEAR",i,i],[1,156,"NumpadClearEntry",0,i,0,i,i,i],[1,0,i,5,"Ctrl",17,"VK_CONTROL",i,i],[1,0,i,4,"Shift",16,"VK_SHIFT",i,i],[1,0,i,6,"Alt",18,"VK_MENU",i,i],[1,0,i,57,"Meta",91,"VK_COMMAND",i,i],[1,157,"ControlLeft",5,i,0,"VK_LCONTROL",i,i],[1,158,"ShiftLeft",4,i,0,"VK_LSHIFT",i,i],[1,159,"AltLeft",6,i,0,"VK_LMENU",i,i],[1,160,"MetaLeft",57,i,0,"VK_LWIN",i,i],[1,161,"ControlRight",5,i,0,"VK_RCONTROL",i,i],[1,162,"ShiftRight",4,i,0,"VK_RSHIFT",i,i],[1,163,"AltRight",6,i,0,"VK_RMENU",i,i],[1,164,"MetaRight",57,i,0,"VK_RWIN",i,i],[1,165,"BrightnessUp",0,i,0,i,i,i],[1,166,"BrightnessDown",0,i,0,i,i,i],[1,167,"MediaPlay",0,i,0,i,i,i],[1,168,"MediaRecord",0,i,0,i,i,i],[1,169,"MediaFastForward",0,i,0,i,i,i],[1,170,"MediaRewind",0,i,0,i,i,i],[1,171,"MediaTrackNext",124,"MediaTrackNext",176,"VK_MEDIA_NEXT_TRACK",i,i],[1,172,"MediaTrackPrevious",125,"MediaTrackPrevious",177,"VK_MEDIA_PREV_TRACK",i,i],[1,173,"MediaStop",126,"MediaStop",178,"VK_MEDIA_STOP",i,i],[1,174,"Eject",0,i,0,i,i,i],[1,175,"MediaPlayPause",127,"MediaPlayPause",179,"VK_MEDIA_PLAY_PAUSE",i,i],[1,176,"MediaSelect",128,"LaunchMediaPlayer",181,"VK_MEDIA_LAUNCH_MEDIA_SELECT",i,i],[1,177,"LaunchMail",129,"LaunchMail",180,"VK_MEDIA_LAUNCH_MAIL",i,i],[1,178,"LaunchApp2",130,"LaunchApp2",183,"VK_MEDIA_LAUNCH_APP2",i,i],[1,179,"LaunchApp1",0,i,0,"VK_MEDIA_LAUNCH_APP1",i,i],[1,180,"SelectTask",0,i,0,i,i,i],[1,181,"LaunchScreenSaver",0,i,0,i,i,i],[1,182,"BrowserSearch",120,"BrowserSearch",170,"VK_BROWSER_SEARCH",i,i],[1,183,"BrowserHome",121,"BrowserHome",172,"VK_BROWSER_HOME",i,i],[1,184,"BrowserBack",122,"BrowserBack",166,"VK_BROWSER_BACK",i,i],[1,185,"BrowserForward",123,"BrowserForward",167,"VK_BROWSER_FORWARD",i,i],[1,186,"BrowserStop",0,i,0,"VK_BROWSER_STOP",i,i],[1,187,"BrowserRefresh",0,i,0,"VK_BROWSER_REFRESH",i,i],[1,188,"BrowserFavorites",0,i,0,"VK_BROWSER_FAVORITES",i,i],[1,189,"ZoomToggle",0,i,0,i,i,i],[1,190,"MailReply",0,i,0,i,i,i],[1,191,"MailForward",0,i,0,i,i,i],[1,192,"MailSend",0,i,0,i,i,i],[1,0,i,114,"KeyInComposition",229,i,i,i],[1,0,i,116,"ABNT_C2",194,"VK_ABNT_C2",i,i],[1,0,i,96,"OEM_8",223,"VK_OEM_8",i,i],[1,0,i,0,i,0,"VK_KANA",i,i],[1,0,i,0,i,0,"VK_HANGUL",i,i],[1,0,i,0,i,0,"VK_JUNJA",i,i],[1,0,i,0,i,0,"VK_FINAL",i,i],[1,0,i,0,i,0,"VK_HANJA",i,i],[1,0,i,0,i,0,"VK_KANJI",i,i],[1,0,i,0,i,0,"VK_CONVERT",i,i],[1,0,i,0,i,0,"VK_NONCONVERT",i,i],[1,0,i,0,i,0,"VK_ACCEPT",i,i],[1,0,i,0,i,0,"VK_MODECHANGE",i,i],[1,0,i,0,i,0,"VK_SELECT",i,i],[1,0,i,0,i,0,"VK_PRINT",i,i],[1,0,i,0,i,0,"VK_EXECUTE",i,i],[1,0,i,0,i,0,"VK_SNAPSHOT",i,i],[1,0,i,0,i,0,"VK_HELP",i,i],[1,0,i,0,i,0,"VK_APPS",i,i],[1,0,i,0,i,0,"VK_PROCESSKEY",i,i],[1,0,i,0,i,0,"VK_PACKET",i,i],[1,0,i,0,i,0,"VK_DBE_SBCSCHAR",i,i],[1,0,i,0,i,0,"VK_DBE_DBCSCHAR",i,i],[1,0,i,0,i,0,"VK_ATTN",i,i],[1,0,i,0,i,0,"VK_CRSEL",i,i],[1,0,i,0,i,0,"VK_EXSEL",i,i],[1,0,i,0,i,0,"VK_EREOF",i,i],[1,0,i,0,i,0,"VK_PLAY",i,i],[1,0,i,0,i,0,"VK_ZOOM",i,i],[1,0,i,0,i,0,"VK_NONAME",i,i],[1,0,i,0,i,0,"VK_PA1",i,i],[1,0,i,0,i,0,"VK_OEM_CLEAR",i,i]],a=[],m=[];for(const l of d){const[I,w,D,N,A,k,R,O,W]=l;if(m[w]||(m[w]=!0,T[w]=D,E[D]=w,L[D.toLowerCase()]=w,I&&(p[w]=N,0!==N&&3!==N&&5!==N&&4!==N&&6!==N&&57!==N&&(c[N]=w))),!a[N]){if(a[N]=!0,!A)throw new Error(`String representation missing for key code ${N} around scan code ${D}`);P.define(N,A),r.define(N,O||A),y.define(N,W||O||A)}k&&(v[k]=N),R&&(S[R]=N)}c[3]=46}(),(i=u||(u={})).toString=function d(D){return P.keyCodeToStr(D)},i.fromString=function a(D){return P.strToKeyCode(D)},i.toUserSettingsUS=function m(D){return r.keyCodeToStr(D)},i.toUserSettingsGeneral=function l(D){return y.keyCodeToStr(D)},i.fromUserSettings=function I(D){return r.strToKeyCode(D)||y.strToKeyCode(D)},i.toElectronAccelerator=function w(D){if(D>=98&&D<=113)return null;switch(D){case 16:return"Up";case 18:return"Down";case 15:return"Left";case 17:return"Right"}return P.keyCodeToStr(D)}},9467:(Xe,we,e)=>{e.d(we,{X4:()=>y,jC:()=>v,r6:()=>S,xo:()=>r});var f=e(37190);class P{constructor(L,p,c=p){this.modifierLabels=[null],this.modifierLabels[2]=L,this.modifierLabels[1]=p,this.modifierLabels[3]=c}toLabel(L,p,c){if(0===p.length)return null;const u=[];for(let g=0,i=p.length;g<i;g++){const d=p[g],a=c(d);if(null===a)return null;u[g]=T(d,a,this.modifierLabels[L])}return u.join(" ")}}const r=new P({ctrlKey:"\u2303",shiftKey:"\u21e7",altKey:"\u2325",metaKey:"\u2318",separator:""},{ctrlKey:f.NC({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:f.NC({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:f.NC({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:f.NC({key:"windowsKey",comment:["This is the short form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:f.NC({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:f.NC({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:f.NC({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:f.NC({key:"superKey",comment:["This is the short form for the Super key on the keyboard"]},"Super"),separator:"+"}),y=new P({ctrlKey:f.NC({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:f.NC({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:f.NC({key:"optKey.long",comment:["This is the long form for the Alt/Option key on the keyboard"]},"Option"),metaKey:f.NC({key:"cmdKey.long",comment:["This is the long form for the Command key on the keyboard"]},"Command"),separator:"+"},{ctrlKey:f.NC({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:f.NC({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:f.NC({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:f.NC({key:"windowsKey.long",comment:["This is the long form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:f.NC({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:f.NC({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:f.NC({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:f.NC({key:"superKey.long",comment:["This is the long form for the Super key on the keyboard"]},"Super"),separator:"+"}),v=new P({ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Cmd",separator:"+"},{ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Super",separator:"+"}),S=new P({ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"cmd",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"win",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"meta",separator:"+"});function T(E,L,p){if(null===L)return"";const c=[];return E.ctrlKey&&c.push(p.ctrlKey),E.shiftKey&&c.push(p.shiftKey),E.altKey&&c.push(p.altKey),E.metaKey&&c.push(p.metaKey),""!==L&&c.push(L),c.join(p.separator)}},88565:(Xe,we,e)=>{e.d(we,{$M:()=>y,Z9:()=>P,aZ:()=>T,f1:()=>E});var f=e(17967);function P(L,p){if("number"==typeof L){if(0===L)return null;const c=(65535&L)>>>0,u=(4294901760&L)>>>16;return new S(0!==u?[r(c,p),r(u,p)]:[r(c,p)])}{const c=[];for(let u=0;u<L.length;u++)c.push(r(L[u],p));return new S(c)}}function r(L,p){const c=!!(2048&L),u=!!(256&L);return new y(2===p?u:c,!!(1024&L),!!(512&L),2===p?c:u,255&L)}class y{constructor(p,c,u,g,i){this.ctrlKey=p,this.shiftKey=c,this.altKey=u,this.metaKey=g,this.keyCode=i}equals(p){return p instanceof y&&this.ctrlKey===p.ctrlKey&&this.shiftKey===p.shiftKey&&this.altKey===p.altKey&&this.metaKey===p.metaKey&&this.keyCode===p.keyCode}isModifierKey(){return 0===this.keyCode||5===this.keyCode||57===this.keyCode||6===this.keyCode||4===this.keyCode}isDuplicateModifierCase(){return this.ctrlKey&&5===this.keyCode||this.shiftKey&&4===this.keyCode||this.altKey&&6===this.keyCode||this.metaKey&&57===this.keyCode}}class S{constructor(p){if(0===p.length)throw(0,f.b1)("chords");this.chords=p}}class T{constructor(p,c,u,g,i,d){this.ctrlKey=p,this.shiftKey=c,this.altKey=u,this.metaKey=g,this.keyLabel=i,this.keyAriaLabel=d}}class E{}},81183:(Xe,we,e)=>{e.d(we,{o:()=>f});class f{constructor(r){this.executor=r,this._didRun=!1}get value(){if(!this._didRun)try{this._value=this.executor()}catch(r){this._error=r}finally{this._didRun=!0}if(this._error)throw this._error;return this._value}get rawValue(){return this._value}}},78694:(Xe,we,e)=>{e.d(we,{B9:()=>u,F8:()=>g,JT:()=>a,Jz:()=>I,L6:()=>l,OF:()=>i,SL:()=>d,Wf:()=>c,XK:()=>m,b2:()=>w,dk:()=>p});var f=e(45644),P=e(68733);let y=null;function S(D){return y?.trackDisposable(D),D}function T(D){y?.markAsDisposed(D)}function E(D,N){y?.setParent(D,N)}function p(D){return y?.markAsSingleton(D),D}function c(D){return"function"==typeof D.dispose&&0===D.dispose.length}function u(D){if(P.$.is(D)){const N=[];for(const A of D)if(A)try{A.dispose()}catch(k){N.push(k)}if(1===N.length)throw N[0];if(N.length>1)throw new AggregateError(N,"Encountered errors while disposing of store");return Array.isArray(D)?[]:D}if(D)return D.dispose(),D}function g(...D){const N=i(()=>u(D));return function L(D,N){if(y)for(const A of D)y.setParent(A,N)}(D,N),N}function i(D){const N=S({dispose:(0,f.I)(()=>{T(N),D()})});return N}let d=(()=>{class D{constructor(){this._toDispose=new Set,this._isDisposed=!1,S(this)}dispose(){this._isDisposed||(T(this),this._isDisposed=!0,this.clear())}get isDisposed(){return this._isDisposed}clear(){if(0!==this._toDispose.size)try{u(this._toDispose)}finally{this._toDispose.clear()}}add(A){if(!A)return A;if(A===this)throw new Error("Cannot register a disposable on itself!");return E(A,this),this._isDisposed?D.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(A),A}}return D.DISABLE_DISPOSED_WARNING=!1,D})();class a{constructor(){this._store=new d,S(this),E(this._store,this)}dispose(){T(this),this._store.dispose()}_register(N){if(N===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(N)}}a.None=Object.freeze({dispose(){}});class m{constructor(){this._isDisposed=!1,S(this)}get value(){return this._isDisposed?void 0:this._value}set value(N){var A;this._isDisposed||N===this._value||(null===(A=this._value)||void 0===A||A.dispose(),N&&E(N,this),this._value=N)}clear(){this.value=void 0}dispose(){var N;this._isDisposed=!0,T(this),null===(N=this._value)||void 0===N||N.dispose(),this._value=void 0}}class l{constructor(N){this._disposable=N,this._counter=1}acquire(){return this._counter++,this}release(){return 0==--this._counter&&this._disposable.dispose(),this}}class I{constructor(N){this.object=N}dispose(){}}class w{constructor(){this._store=new Map,this._isDisposed=!1,S(this)}dispose(){T(this),this._isDisposed=!0,this.clearAndDisposeAll()}clearAndDisposeAll(){if(this._store.size)try{u(this._store.values())}finally{this._store.clear()}}get(N){return this._store.get(N)}set(N,A,k=!1){var R;this._isDisposed&&console.warn(new Error("Trying to add a disposable to a DisposableMap that has already been disposed of. The added object will be leaked!").stack),k||null===(R=this._store.get(N))||void 0===R||R.dispose(),this._store.set(N,A)}deleteAndDispose(N){var A;null===(A=this._store.get(N))||void 0===A||A.dispose(),this._store.delete(N)}[Symbol.iterator](){return this._store[Symbol.iterator]()}}},86211:(Xe,we,e)=>{e.d(we,{S:()=>P});class f{constructor(y){this.element=y,this.next=f.Undefined,this.prev=f.Undefined}}f.Undefined=new f(void 0);class P{constructor(){this._first=f.Undefined,this._last=f.Undefined,this._size=0}get size(){return this._size}isEmpty(){return this._first===f.Undefined}clear(){let y=this._first;for(;y!==f.Undefined;){const v=y.next;y.prev=f.Undefined,y.next=f.Undefined,y=v}this._first=f.Undefined,this._last=f.Undefined,this._size=0}unshift(y){return this._insert(y,!1)}push(y){return this._insert(y,!0)}_insert(y,v){const S=new f(y);if(this._first===f.Undefined)this._first=S,this._last=S;else if(v){const E=this._last;this._last=S,S.prev=E,E.next=S}else{const E=this._first;this._first=S,S.next=E,E.prev=S}this._size+=1;let T=!1;return()=>{T||(T=!0,this._remove(S))}}shift(){if(this._first!==f.Undefined){const y=this._first.element;return this._remove(this._first),y}}pop(){if(this._last!==f.Undefined){const y=this._last.element;return this._remove(this._last),y}}_remove(y){if(y.prev!==f.Undefined&&y.next!==f.Undefined){const v=y.prev;v.next=y.next,y.next.prev=v}else y.prev===f.Undefined&&y.next===f.Undefined?(this._first=f.Undefined,this._last=f.Undefined):y.next===f.Undefined?(this._last=this._last.prev,this._last.next=f.Undefined):y.prev===f.Undefined&&(this._first=this._first.next,this._first.prev=f.Undefined);this._size-=1}*[Symbol.iterator](){let y=this._first;for(;y!==f.Undefined;)yield y.element,y=y.next}}},38164:(Xe,we,e)=>{var f,P;e.d(we,{Y9:()=>y,z6:()=>S});class r{constructor(E,L){this.uri=E,this.value=L}}let y=(()=>{class T{constructor(L,p){this[f]="ResourceMap",L instanceof T?(this.map=new Map(L.map),this.toKey=p??T.defaultToKey):(this.map=new Map,this.toKey=L??T.defaultToKey)}set(L,p){return this.map.set(this.toKey(L),new r(L,p)),this}get(L){var p;return null===(p=this.map.get(this.toKey(L)))||void 0===p?void 0:p.value}has(L){return this.map.has(this.toKey(L))}get size(){return this.map.size}clear(){this.map.clear()}delete(L){return this.map.delete(this.toKey(L))}forEach(L,p){typeof p<"u"&&(L=L.bind(p));for(const[c,u]of this.map)L(u.value,u.uri,this)}*values(){for(const L of this.map.values())yield L.value}*keys(){for(const L of this.map.values())yield L.uri}*entries(){for(const L of this.map.values())yield[L.uri,L.value]}*[(f=Symbol.toStringTag,Symbol.iterator)](){for(const[,L]of this.map)yield[L.uri,L.value]}}return T.defaultToKey=E=>E.toString(),T})();class v{constructor(){this[P]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var E;return null===(E=this._head)||void 0===E?void 0:E.value}get last(){var E;return null===(E=this._tail)||void 0===E?void 0:E.value}has(E){return this._map.has(E)}get(E,L=0){const p=this._map.get(E);if(p)return 0!==L&&this.touch(p,L),p.value}set(E,L,p=0){let c=this._map.get(E);if(c)c.value=L,0!==p&&this.touch(c,p);else{switch(c={key:E,value:L,next:void 0,previous:void 0},p){case 0:case 2:default:this.addItemLast(c);break;case 1:this.addItemFirst(c)}this._map.set(E,c),this._size++}return this}delete(E){return!!this.remove(E)}remove(E){const L=this._map.get(E);if(L)return this._map.delete(E),this.removeItem(L),this._size--,L.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const E=this._head;return this._map.delete(E.key),this.removeItem(E),this._size--,E.value}forEach(E,L){const p=this._state;let c=this._head;for(;c;){if(L?E.bind(L)(c.value,c.key,this):E(c.value,c.key,this),this._state!==p)throw new Error("LinkedMap got modified during iteration.");c=c.next}}keys(){const E=this,L=this._state;let p=this._head;const c={[Symbol.iterator]:()=>c,next(){if(E._state!==L)throw new Error("LinkedMap got modified during iteration.");if(p){const u={value:p.key,done:!1};return p=p.next,u}return{value:void 0,done:!0}}};return c}values(){const E=this,L=this._state;let p=this._head;const c={[Symbol.iterator]:()=>c,next(){if(E._state!==L)throw new Error("LinkedMap got modified during iteration.");if(p){const u={value:p.value,done:!1};return p=p.next,u}return{value:void 0,done:!0}}};return c}entries(){const E=this,L=this._state;let p=this._head;const c={[Symbol.iterator]:()=>c,next(){if(E._state!==L)throw new Error("LinkedMap got modified during iteration.");if(p){const u={value:[p.key,p.value],done:!1};return p=p.next,u}return{value:void 0,done:!0}}};return c}[(P=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(E){if(E>=this.size)return;if(0===E)return void this.clear();let L=this._head,p=this.size;for(;L&&p>E;)this._map.delete(L.key),L=L.next,p--;this._head=L,this._size=p,L&&(L.previous=void 0),this._state++}addItemFirst(E){if(this._head||this._tail){if(!this._head)throw new Error("Invalid list");E.next=this._head,this._head.previous=E}else this._tail=E;this._head=E,this._state++}addItemLast(E){if(this._head||this._tail){if(!this._tail)throw new Error("Invalid list");E.previous=this._tail,this._tail.next=E}else this._head=E;this._tail=E,this._state++}removeItem(E){if(E===this._head&&E===this._tail)this._head=void 0,this._tail=void 0;else if(E===this._head){if(!E.next)throw new Error("Invalid list");E.next.previous=void 0,this._head=E.next}else if(E===this._tail){if(!E.previous)throw new Error("Invalid list");E.previous.next=void 0,this._tail=E.previous}else{const L=E.next,p=E.previous;if(!L||!p)throw new Error("Invalid list");L.previous=p,p.next=L}E.next=void 0,E.previous=void 0,this._state++}touch(E,L){if(!this._head||!this._tail)throw new Error("Invalid list");if(1===L||2===L)if(1===L){if(E===this._head)return;const p=E.next,c=E.previous;E===this._tail?(c.next=void 0,this._tail=c):(p.previous=c,c.next=p),E.previous=void 0,E.next=this._head,this._head.previous=E,this._head=E,this._state++}else if(2===L){if(E===this._tail)return;const p=E.next,c=E.previous;E===this._head?(p.previous=void 0,this._head=p):(p.previous=c,c.next=p),E.next=void 0,E.previous=this._tail,this._tail.next=E,this._tail=E,this._state++}}toJSON(){const E=[];return this.forEach((L,p)=>{E.push([p,L])}),E}fromJSON(E){this.clear();for(const[L,p]of E)this.set(L,p)}}class S extends v{constructor(E,L=1){super(),this._limit=E,this._ratio=Math.min(Math.max(0,L),1)}get limit(){return this._limit}set limit(E){this._limit=E,this.checkTrim()}get(E,L=2){return super.get(E,L)}peek(E){return super.get(E,0)}set(E,L){return super.set(E,L,2),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}},57117:(Xe,we,e)=>{e.d(we,{Pz:()=>r,Qc:()=>y});var f=e(58204),P=e(15850);function r(T){return JSON.stringify(T,v)}function y(T){let E=JSON.parse(T);return E=S(E),E}function v(T,E){return E instanceof RegExp?{$mid:2,source:E.source,flags:E.flags}:E}function S(T,E=0){if(!T||E>200)return T;if("object"==typeof T){switch(T.$mid){case 1:return P.o.revive(T);case 2:return new RegExp(T.source,T.flags);case 16:return new Date(T.source)}if(T instanceof f.KN||T instanceof Uint8Array)return T;if(Array.isArray(T))for(let L=0;L<T.length;++L)T[L]=S(T[L],E+1);else for(const L in T)Object.hasOwnProperty.call(T,L)&&(T[L]=S(T[L],E+1))}return T}},90361:(Xe,we,e)=>{e.d(we,{v:()=>f});const f=Object.freeze({text:"text/plain",binary:"application/octet-stream",unknown:"application/unknown",markdown:"text/markdown",latex:"text/latex",uriList:"text/uri-list"})},42685:(Xe,we,e)=>{e.d(we,{Gi:()=>L,WX:()=>T,lg:()=>y});var f=e(17967),P=e(88593),r=e(15850),y=function(c){return c.inMemory="inmemory",c.vscode="vscode",c.internal="private",c.walkThrough="walkThrough",c.walkThroughSnippet="walkThroughSnippet",c.http="http",c.https="https",c.file="file",c.mailto="mailto",c.untitled="untitled",c.data="data",c.command="command",c.vscodeRemote="vscode-remote",c.vscodeRemoteResource="vscode-remote-resource",c.vscodeManagedRemoteResource="vscode-managed-remote-resource",c.vscodeUserData="vscode-userdata",c.vscodeCustomEditor="vscode-custom-editor",c.vscodeNotebookCell="vscode-notebook-cell",c.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",c.vscodeNotebookCellOutput="vscode-notebook-cell-output",c.vscodeInteractiveInput="vscode-interactive-input",c.vscodeSettings="vscode-settings",c.vscodeWorkspaceTrust="vscode-workspace-trust",c.vscodeTerminal="vscode-terminal",c.vscodeChatSesssion="vscode-chat-editor",c.webviewPanel="webview-panel",c.vscodeWebview="vscode-webview",c.extension="extension",c.vscodeFileResource="vscode-file",c.tmp="tmp",c.vsls="vsls",c.vscodeSourceControl="vscode-scm",c}(y||{});const T=new class S{constructor(){this._hosts=Object.create(null),this._ports=Object.create(null),this._connectionTokens=Object.create(null),this._preferredWebSchema="http",this._delegate=null,this._remoteResourcesPath=`/${y.vscodeRemoteResource}`}setPreferredWebSchema(u){this._preferredWebSchema=u}rewrite(u){if(this._delegate)try{return this._delegate(u)}catch(l){return f.dL(l),u}const g=u.authority;let i=this._hosts[g];i&&-1!==i.indexOf(":")&&-1===i.indexOf("[")&&(i=`[${i}]`);const d=this._ports[g],a=this._connectionTokens[g];let m=`path=${encodeURIComponent(u.path)}`;return"string"==typeof a&&(m+=`&tkn=${encodeURIComponent(a)}`),r.o.from({scheme:P.$L?this._preferredWebSchema:y.vscodeRemoteResource,authority:`${i}:${d}`,path:this._remoteResourcesPath,query:m})}},L=new((()=>{class c{uriToBrowserUri(g){return g.scheme===y.vscodeRemote?T.rewrite(g):g.scheme===y.file&&(P.tY||P.n2&&P.li.origin===`${y.vscodeFileResource}://${c.FALLBACK_AUTHORITY}`)?g.with({scheme:y.vscodeFileResource,authority:g.authority||c.FALLBACK_AUTHORITY,query:null,fragment:null}):g}}return c.FALLBACK_AUTHORITY="vscode-app",c})());var p;!function(c){const u=new Map([["1",{"Cross-Origin-Opener-Policy":"same-origin"}],["2",{"Cross-Origin-Embedder-Policy":"require-corp"}],["3",{"Cross-Origin-Opener-Policy":"same-origin","Cross-Origin-Embedder-Policy":"require-corp"}]]);c.CoopAndCoep=Object.freeze(u.get("3"));const g="vscode-coi";c.getHeadersFromQuery=function i(a){let m;"string"==typeof a?m=new URL(a).searchParams:a instanceof URL?m=a.searchParams:r.o.isUri(a)&&(m=new URL(a.toString(!0)).searchParams);const l=m?.get(g);if(l)return u.get(l)},c.addSearchParam=function d(a,m,l){if(!globalThis.crossOriginIsolated)return;const I=m&&l?"3":l?"2":"1";a instanceof URLSearchParams?a.set(g,I):a[g]=I}}(p||(p={}))},53499:(Xe,we,e)=>{function f(y,v,S){return Math.min(Math.max(y,v),S)}e.d(we,{N:()=>r,nM:()=>P,uZ:()=>f});class P{constructor(){this._n=1,this._val=0}update(v){return this._val=this._val+(v-this._val)/this._n,this._n+=1,this._val}get value(){return this._val}}class r{constructor(v){this._n=0,this._val=0,this._values=[],this._index=0,this._sum=0,this._values=new Array(v),this._values.fill(0,0,v)}update(v){const S=this._values[this._index];return this._values[this._index]=v,this._index=(this._index+1)%this._values.length,this._sum-=S,this._sum+=v,this._n<this._values.length&&(this._n+=1),this._val=this._sum/this._n,this._val}get value(){return this._val}}},52209:(Xe,we,e)=>{e.d(we,{$E:()=>p,I8:()=>P,IU:()=>c,_A:()=>r,fS:()=>E,jB:()=>T,rs:()=>v});var f=e(91402);function P(u){if(!u||"object"!=typeof u||u instanceof RegExp)return u;const g=Array.isArray(u)?[]:{};return Object.entries(u).forEach(([i,d])=>{g[i]=d&&"object"==typeof d?P(d):d}),g}function r(u){if(!u||"object"!=typeof u)return u;const g=[u];for(;g.length>0;){const i=g.shift();Object.freeze(i);for(const d in i)if(y.call(i,d)){const a=i[d];"object"==typeof a&&!Object.isFrozen(a)&&!(0,f.fU)(a)&&g.push(a)}}return u}const y=Object.prototype.hasOwnProperty;function v(u,g){return S(u,g,new Set)}function S(u,g,i){if((0,f.Jp)(u))return u;const d=g(u);if(typeof d<"u")return d;if(Array.isArray(u)){const a=[];for(const m of u)a.push(S(m,g,i));return a}if((0,f.Kn)(u)){if(i.has(u))throw new Error("Cannot clone recursive data-structure");i.add(u);const a={};for(const m in u)y.call(u,m)&&(a[m]=S(u[m],g,i));return i.delete(u),a}return u}function T(u,g,i=!0){return(0,f.Kn)(u)?((0,f.Kn)(g)&&Object.keys(g).forEach(d=>{d in u?i&&((0,f.Kn)(u[d])&&(0,f.Kn)(g[d])?T(u[d],g[d],i):u[d]=g[d]):u[d]=g[d]}),u):g}function E(u,g){if(u===g)return!0;if(null==u||null==g||typeof u!=typeof g||"object"!=typeof u||Array.isArray(u)!==Array.isArray(g))return!1;let i,d;if(Array.isArray(u)){if(u.length!==g.length)return!1;for(i=0;i<u.length;i++)if(!E(u[i],g[i]))return!1}else{const a=[];for(d in u)a.push(d);a.sort();const m=[];for(d in g)m.push(d);if(m.sort(),!E(a,m))return!1;for(i=0;i<a.length;i++)if(!E(u[a[i]],g[a[i]]))return!1}return!0}function p(u){const g=[];for(const i of function L(u){let g=[];for(;Object.prototype!==u;)g=g.concat(Object.getOwnPropertyNames(u)),u=Object.getPrototypeOf(u);return g}(u))"function"==typeof u[i]&&g.push(i);return g}function c(u,g){const i=a=>function(){const m=Array.prototype.slice.call(arguments,0);return g(a,m)},d={};for(const a of u)d[a]=i(a);return d}},88976:(Xe,we,e)=>{let i;e.d(we,{EH:()=>K,nJ:()=>J,UV:()=>$,gp:()=>te,Dz:()=>_,nK:()=>U,aK:()=>B,bk:()=>ee,Be:()=>G,DN:()=>k,$g:()=>De,rD:()=>_e,GN:()=>Se,aq:()=>ve,uh:()=>N,c8:()=>I,PS:()=>l,F_:()=>ge});class a{get TChange(){return null}reportChanges(){this.get()}read(x){return x?x.readObservable(this):this.get()}map(x){return i(F=>x(this.read(F),F),()=>{const F=D(x);if(void 0!==F)return F;const Ce=/^\s*\(?\s*([a-zA-Z_$][a-zA-Z_$0-9]*)\s*\)?\s*=>\s*\1\.([a-zA-Z_$][a-zA-Z_$0-9]*)\s*$/.exec(x.toString());return Ce?`${this.debugName}.${Ce[2]}`:`${this.debugName} (mapped)`})}}class m extends a{constructor(){super(...arguments),this.observers=new Set}addObserver(x){const F=this.observers.size;this.observers.add(x),0===F&&this.onFirstObserverAdded()}removeObserver(x){this.observers.delete(x)&&0===this.observers.size&&this.onLastObserverRemoved()}onFirstObserverAdded(){}onLastObserverRemoved(){}}function l(Y,x){const F=new w(Y,x);try{Y(F)}finally{F.finish()}}function I(Y,x,F){Y?x(Y):l(x,F)}class w{constructor(x,F){var ie;this._fn=x,this._getDebugName=F,this.updatingObservers=[],null===(ie=void 0)||void 0===ie||ie.handleBeginTransaction(this)}getDebugName(){return this._getDebugName?this._getDebugName():D(this._fn)}updateObserver(x,F){this.updatingObservers.push({observer:x,observable:F}),x.beginUpdate(F)}finish(){var x;const F=this.updatingObservers;this.updatingObservers=null;for(const{observer:ie,observable:Ce}of F)ie.endUpdate(Ce);null===(x=void 0)||void 0===x||x.handleEndTransaction()}}function D(Y){const x=Y.toString(),ie=/\/\*\*\s*@description\s*([^*]*)\*\//.exec(x),Ce=ie?ie[1]:void 0;return Ce?.trim()}function N(Y,x){return new A(Y,x)}class A extends m{constructor(x,F){super(),this.debugName=x,this._value=F}get(){return this._value}set(x,F,ie){var Ce;if(this._value===x)return;let ke;F||(F=ke=new w(()=>{},()=>`Setting ${this.debugName}`));try{const Pe=this._value;this._setValue(x),null===(Ce=void 0)||void 0===Ce||Ce.handleObservableChanged(this,{oldValue:Pe,newValue:x,change:ie,didChange:!0,hadValue:!0});for(const xe of this.observers)F.updateObserver(xe,this),xe.handleChange(this,ie)}finally{ke&&ke.finish()}}toString(){return`${this.debugName}: ${this._value}`}_setValue(x){this._value=x}}function k(Y,x){return new R(Y,x)}class R extends A{_setValue(x){this._value!==x&&(this._value&&this._value.dispose(),this._value=x)}dispose(){var x;null===(x=this._value)||void 0===x||x.dispose()}}var O=e(17967),W=e(78694);const z=(Y,x)=>Y===x;function U(Y,x){return new se(x,Y,void 0,void 0,void 0,z)}function ee(Y,x){var F;return new se(Y.debugName,x,void 0,void 0,void 0,null!==(F=Y.equalityComparer)&&void 0!==F?F:z)}function B(Y,x,F){return new se(Y,F,x.createEmptyChangeSummary,x.handleChange,void 0,z)}function G(Y,x){const F=new W.SL;return new se(Y,ie=>(F.clear(),x(ie,F)),void 0,void 0,()=>F.dispose(),z)}!function d(Y){i=Y}(U);class se extends m{get debugName(){return this._debugName?"function"==typeof this._debugName?this._debugName():this._debugName:D(this._computeFn)||"(anonymous)"}constructor(x,F,ie,Ce,ke=void 0,Pe){var xe,fe;super(),this._debugName=x,this._computeFn=F,this.createChangeSummary=ie,this._handleChange=Ce,this._handleLastObserverRemoved=ke,this._equalityComparator=Pe,this.state=0,this.value=void 0,this.updateCount=0,this.dependencies=new Set,this.dependenciesToBeRemoved=new Set,this.changeSummary=void 0,this.changeSummary=null===(xe=this.createChangeSummary)||void 0===xe?void 0:xe.call(this),null===(fe=void 0)||void 0===fe||fe.handleDerivedCreated(this)}onLastObserverRemoved(){var x;this.state=0,this.value=void 0;for(const F of this.dependencies)F.removeObserver(this);this.dependencies.clear(),null===(x=this._handleLastObserverRemoved)||void 0===x||x.call(this)}get(){var x;if(0===this.observers.size){const F=this._computeFn(this,null===(x=this.createChangeSummary)||void 0===x?void 0:x.call(this));return this.onLastObserverRemoved(),F}do{if(1===this.state)for(const F of this.dependencies)if(F.reportChanges(),2===this.state)break;1===this.state&&(this.state=3),this._recomputeIfNeeded()}while(3!==this.state);return this.value}_recomputeIfNeeded(){var x,F;if(3===this.state)return;const ie=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=ie;const Ce=0!==this.state,ke=this.value;this.state=3;const Pe=this.changeSummary;this.changeSummary=null===(x=this.createChangeSummary)||void 0===x?void 0:x.call(this);try{this.value=this._computeFn(this,Pe)}finally{for(const fe of this.dependenciesToBeRemoved)fe.removeObserver(this);this.dependenciesToBeRemoved.clear()}const xe=Ce&&!this._equalityComparator(ke,this.value);if(null===(F=void 0)||void 0===F||F.handleDerivedRecomputed(this,{oldValue:ke,newValue:this.value,change:void 0,didChange:xe,hadValue:Ce}),xe)for(const fe of this.observers)fe.handleChange(this,void 0)}toString(){return`LazyDerived<${this.debugName}>`}beginUpdate(x){this.updateCount++;const F=1===this.updateCount;if(3===this.state&&(this.state=1,!F))for(const ie of this.observers)ie.handlePossibleChange(this);if(F)for(const ie of this.observers)ie.beginUpdate(this)}endUpdate(x){if(this.updateCount--,0===this.updateCount){const F=[...this.observers];for(const ie of F)ie.endUpdate(this)}if(this.updateCount<0)throw new O.he}handlePossibleChange(x){if(3===this.state&&this.dependencies.has(x)&&!this.dependenciesToBeRemoved.has(x)){this.state=1;for(const F of this.observers)F.handlePossibleChange(this)}}handleChange(x,F){if(this.dependencies.has(x)&&!this.dependenciesToBeRemoved.has(x)){const ie=!this._handleChange||this._handleChange({changedObservable:x,change:F,didChange:ke=>ke===x},this.changeSummary),Ce=3===this.state;if(ie&&(1===this.state||Ce)&&(this.state=2,Ce))for(const ke of this.observers)ke.handlePossibleChange(this)}}readObservable(x){x.addObserver(this);const F=x.get();return this.dependencies.add(x),this.dependenciesToBeRemoved.delete(x),F}addObserver(x){const F=!this.observers.has(x)&&this.updateCount>0;super.addObserver(x),F&&x.beginUpdate(this)}removeObserver(x){const F=this.observers.has(x)&&this.updateCount>0;super.removeObserver(x),F&&x.endUpdate(this)}}var j=e(37836);function $(Y,x){return new ne(Y.debugName,x,void 0,void 0)}function K(Y){return new ne(void 0,Y,void 0,void 0)}function J(Y,x){return new ne(Y.debugName,x,Y.createEmptyChangeSummary,Y.handleChange)}function te(Y){const x=new W.SL,F=$({debugName:()=>D(Y)||"(anonymous)"},ie=>{x.clear(),Y(ie,x)});return(0,W.OF)(()=>{F.dispose(),x.dispose()})}class ne{get debugName(){if("string"==typeof this._debugName)return this._debugName;if("function"==typeof this._debugName){const F=this._debugName();if(void 0!==F)return F}const x=D(this._runFn);return void 0!==x?x:"(anonymous)"}constructor(x,F,ie,Ce){var ke,Pe;this._debugName=x,this._runFn=F,this.createChangeSummary=ie,this._handleChange=Ce,this.state=2,this.updateCount=0,this.disposed=!1,this.dependencies=new Set,this.dependenciesToBeRemoved=new Set,this.changeSummary=null===(ke=this.createChangeSummary)||void 0===ke?void 0:ke.call(this),null===(Pe=void 0)||void 0===Pe||Pe.handleAutorunCreated(this),this._runIfNeeded()}dispose(){this.disposed=!0;for(const x of this.dependencies)x.removeObserver(this);this.dependencies.clear()}_runIfNeeded(){var x,F,ie;if(3===this.state)return;const Ce=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=Ce,this.state=3;try{if(!this.disposed){null===(x=void 0)||void 0===x||x.handleAutorunTriggered(this);const ke=this.changeSummary;this.changeSummary=null===(F=this.createChangeSummary)||void 0===F?void 0:F.call(this),this._runFn(this,ke)}}finally{null===(ie=void 0)||void 0===ie||ie.handleAutorunFinished(this);for(const ke of this.dependenciesToBeRemoved)ke.removeObserver(this);this.dependenciesToBeRemoved.clear()}}toString(){return`Autorun<${this.debugName}>`}beginUpdate(){3===this.state&&(this.state=1),this.updateCount++}endUpdate(){if(1===this.updateCount)do{if(1===this.state){this.state=3;for(const x of this.dependencies)if(x.reportChanges(),2===this.state)break}this._runIfNeeded()}while(3!==this.state);this.updateCount--,(0,j.eZ)(()=>this.updateCount>=0)}handlePossibleChange(x){3===this.state&&this.dependencies.has(x)&&!this.dependenciesToBeRemoved.has(x)&&(this.state=1)}handleChange(x,F){this.dependencies.has(x)&&!this.dependenciesToBeRemoved.has(x)&&(!this._handleChange||this._handleChange({changedObservable:x,change:F,didChange:Ce=>Ce===x},this.changeSummary))&&(this.state=2)}readObservable(x){if(this.disposed)return x.get();x.addObserver(this);const F=x.get();return this.dependencies.add(x),this.dependenciesToBeRemoved.delete(x),F}}function _(Y){return new ae(Y)}(K||(K={})).Observer=ne;class ae extends a{constructor(x){super(),this.value=x}get debugName(){return this.toString()}get(){return this.value}addObserver(x){}removeObserver(x){}toString(){return`Const: ${this.value}`}}function ge(Y,x){return new Promise(F=>{let ie=!1,Ce=!1;const ke=K(Pe=>{const xe=Y.read(Pe);x(xe)&&(ie?ke.dispose():Ce=!0,F(xe))});ie=!0,Ce&&ke.dispose()})}function _e(Y,x){return new ue(Y,x)}class ue extends m{constructor(x,F){super(),this.event=x,this._getValue=F,this.hasValue=!1,this.handleEvent=ie=>{var Ce;const ke=this._getValue(ie),Pe=!this.hasValue||this.value!==ke;null===(Ce=void 0)||void 0===Ce||Ce.handleFromEventObservableTriggered(this,{oldValue:this.value,newValue:ke,change:void 0,didChange:Pe,hadValue:this.hasValue}),Pe&&(this.value=ke,this.hasValue&&l(xe=>{for(const fe of this.observers)xe.updateObserver(fe,this),fe.handleChange(this,void 0)},()=>{const xe=this.getDebugName();return"Event fired"+(xe?`: ${xe}`:"")}),this.hasValue=!0)}}getDebugName(){return D(this._getValue)}get debugName(){const x=this.getDebugName();return"From Event"+(x?`: ${x}`:"")}onFirstObserverAdded(){this.subscription=this.event(this.handleEvent)}onLastObserverRemoved(){this.subscription.dispose(),this.subscription=void 0,this.hasValue=!1,this.value=void 0}get(){return this.subscription?(this.hasValue||this.handleEvent(void 0),this.value):this._getValue(void 0)}}function ve(Y,x){return new Ie(Y,x)}(_e||(_e={})).Observer=ue;class Ie extends m{constructor(x,F){super(),this.debugName=x,this.event=F,this.handleEvent=()=>{l(ie=>{for(const Ce of this.observers)ie.updateObserver(Ce,this),Ce.handleChange(this,void 0)},()=>this.debugName)}}onFirstObserverAdded(){this.subscription=this.event(this.handleEvent)}onLastObserverRemoved(){this.subscription.dispose(),this.subscription=void 0}get(){}}function Se(Y){return new Ve(Y)}class Ve extends m{constructor(x){super(),this.debugName=x}trigger(x,F){if(x)for(const ie of this.observers)x.updateObserver(ie,this),ie.handleChange(this,F);else l(ie=>{this.trigger(ie,F)},()=>`Trigger signal ${this.debugName}`)}get(){}}function De(Y,x){const F=new ye(x??!1);return Y.addObserver(F),x&&Y.reportChanges(),(0,W.OF)(()=>{Y.removeObserver(F)})}class ye{constructor(x){this.forceRecompute=x,this.counter=0}beginUpdate(x){this.counter++}endUpdate(x){this.counter--,0===this.counter&&this.forceRecompute&&x.reportChanges()}handlePossibleChange(x){}handleChange(x,F){}}},52356:(Xe,we,e)=>{e.d(we,{EZ:()=>B,XX:()=>ee,DZ:()=>G,Fv:()=>W,KR:()=>O,Gf:()=>U,DB:()=>z,ir:()=>se,Ku:()=>k});var f=e(88593);let P;if(typeof f.li.vscode<"u"&&typeof f.li.vscode.process<"u"){const j=f.li.vscode.process;P={get platform(){return j.platform},get arch(){return j.arch},get env(){return j.env},cwd:()=>j.cwd()}}else P=typeof process<"u"?{get platform(){return process.platform},get arch(){return process.arch},get env(){return process.env},cwd:()=>process.env.VSCODE_CWD||process.cwd()}:{get platform(){return f.ED?"win32":f.dz?"darwin":"linux"},get arch(){},get env(){return{}},cwd:()=>"/"};const r=P.cwd,y=P.env,v=P.platform,p=46,c=47,u=92,g=58;class d extends Error{constructor($,K,J){let te;"string"==typeof K&&0===K.indexOf("not ")?(te="must not be",K=K.replace(/^not /,"")):te="must be";const ne=-1!==$.indexOf(".")?"property":"argument";let _=`The "${$}" ${ne} ${te} of type ${K}`;_+=". Received type "+typeof J,super(_),this.code="ERR_INVALID_ARG_TYPE"}}function m(j,$){if("string"!=typeof j)throw new d($,"string",j)}const l="win32"===v;function I(j){return j===c||j===u}function w(j){return j===c}function D(j){return j>=65&&j<=90||j>=97&&j<=122}function N(j,$,K,J){let te="",ne=0,_=-1,ae=0,ge=0;for(let _e=0;_e<=j.length;++_e){if(_e<j.length)ge=j.charCodeAt(_e);else{if(J(ge))break;ge=c}if(J(ge)){if(_!==_e-1&&1!==ae)if(2===ae){if(te.length<2||2!==ne||te.charCodeAt(te.length-1)!==p||te.charCodeAt(te.length-2)!==p){if(te.length>2){const ue=te.lastIndexOf(K);-1===ue?(te="",ne=0):(te=te.slice(0,ue),ne=te.length-1-te.lastIndexOf(K)),_=_e,ae=0;continue}if(0!==te.length){te="",ne=0,_=_e,ae=0;continue}}$&&(te+=te.length>0?`${K}..`:"..",ne=2)}else te.length>0?te+=`${K}${j.slice(_+1,_e)}`:te=j.slice(_+1,_e),ne=_e-_-1;_=_e,ae=0}else ge===p&&-1!==ae?++ae:ae=-1}return te}function A(j,$){!function a(j,$){if(null===j||"object"!=typeof j)throw new d($,"Object",j)}($,"pathObject");const K=$.dir||$.root,J=$.base||`${$.name||""}${$.ext||""}`;return K?K===$.root?`${K}${J}`:`${K}${j}${J}`:J}const k={resolve(...j){let $="",K="",J=!1;for(let te=j.length-1;te>=-1;te--){let ne;if(te>=0){if(ne=j[te],m(ne,"path"),0===ne.length)continue}else 0===$.length?ne=r():(ne=y[`=${$}`]||r(),(void 0===ne||ne.slice(0,2).toLowerCase()!==$.toLowerCase()&&ne.charCodeAt(2)===u)&&(ne=`${$}\\`));const _=ne.length;let ae=0,ge="",_e=!1;const ue=ne.charCodeAt(0);if(1===_)I(ue)&&(ae=1,_e=!0);else if(I(ue))if(_e=!0,I(ne.charCodeAt(1))){let ve=2,Ie=ve;for(;ve<_&&!I(ne.charCodeAt(ve));)ve++;if(ve<_&&ve!==Ie){const Se=ne.slice(Ie,ve);for(Ie=ve;ve<_&&I(ne.charCodeAt(ve));)ve++;if(ve<_&&ve!==Ie){for(Ie=ve;ve<_&&!I(ne.charCodeAt(ve));)ve++;(ve===_||ve!==Ie)&&(ge=`\\\\${Se}\\${ne.slice(Ie,ve)}`,ae=ve)}}}else ae=1;else D(ue)&&ne.charCodeAt(1)===g&&(ge=ne.slice(0,2),ae=2,_>2&&I(ne.charCodeAt(2))&&(_e=!0,ae=3));if(ge.length>0)if($.length>0){if(ge.toLowerCase()!==$.toLowerCase())continue}else $=ge;if(J){if($.length>0)break}else if(K=`${ne.slice(ae)}\\${K}`,J=_e,_e&&$.length>0)break}return K=N(K,!J,"\\",I),J?`${$}\\${K}`:`${$}${K}`||"."},normalize(j){m(j,"path");const $=j.length;if(0===$)return".";let J,K=0,te=!1;const ne=j.charCodeAt(0);if(1===$)return w(ne)?"\\":j;if(I(ne))if(te=!0,I(j.charCodeAt(1))){let ae=2,ge=ae;for(;ae<$&&!I(j.charCodeAt(ae));)ae++;if(ae<$&&ae!==ge){const _e=j.slice(ge,ae);for(ge=ae;ae<$&&I(j.charCodeAt(ae));)ae++;if(ae<$&&ae!==ge){for(ge=ae;ae<$&&!I(j.charCodeAt(ae));)ae++;if(ae===$)return`\\\\${_e}\\${j.slice(ge)}\\`;ae!==ge&&(J=`\\\\${_e}\\${j.slice(ge,ae)}`,K=ae)}}}else K=1;else D(ne)&&j.charCodeAt(1)===g&&(J=j.slice(0,2),K=2,$>2&&I(j.charCodeAt(2))&&(te=!0,K=3));let _=K<$?N(j.slice(K),!te,"\\",I):"";return 0===_.length&&!te&&(_="."),_.length>0&&I(j.charCodeAt($-1))&&(_+="\\"),void 0===J?te?`\\${_}`:_:te?`${J}\\${_}`:`${J}${_}`},isAbsolute(j){m(j,"path");const $=j.length;if(0===$)return!1;const K=j.charCodeAt(0);return I(K)||$>2&&D(K)&&j.charCodeAt(1)===g&&I(j.charCodeAt(2))},join(...j){if(0===j.length)return".";let $,K;for(let ne=0;ne<j.length;++ne){const _=j[ne];m(_,"path"),_.length>0&&(void 0===$?$=K=_:$+=`\\${_}`)}if(void 0===$)return".";let J=!0,te=0;if("string"==typeof K&&I(K.charCodeAt(0))){++te;const ne=K.length;ne>1&&I(K.charCodeAt(1))&&(++te,ne>2&&(I(K.charCodeAt(2))?++te:J=!1))}if(J){for(;te<$.length&&I($.charCodeAt(te));)te++;te>=2&&($=`\\${$.slice(te)}`)}return k.normalize($)},relative(j,$){if(m(j,"from"),m($,"to"),j===$)return"";const K=k.resolve(j),J=k.resolve($);if(K===J||(j=K.toLowerCase())===($=J.toLowerCase()))return"";let te=0;for(;te<j.length&&j.charCodeAt(te)===u;)te++;let ne=j.length;for(;ne-1>te&&j.charCodeAt(ne-1)===u;)ne--;const _=ne-te;let ae=0;for(;ae<$.length&&$.charCodeAt(ae)===u;)ae++;let ge=$.length;for(;ge-1>ae&&$.charCodeAt(ge-1)===u;)ge--;const _e=ge-ae,ue=_<_e?_:_e;let ve=-1,Ie=0;for(;Ie<ue;Ie++){const Ve=j.charCodeAt(te+Ie);if(Ve!==$.charCodeAt(ae+Ie))break;Ve===u&&(ve=Ie)}if(Ie!==ue){if(-1===ve)return J}else{if(_e>ue){if($.charCodeAt(ae+Ie)===u)return J.slice(ae+Ie+1);if(2===Ie)return J.slice(ae+Ie)}_>ue&&(j.charCodeAt(te+Ie)===u?ve=Ie:2===Ie&&(ve=3)),-1===ve&&(ve=0)}let Se="";for(Ie=te+ve+1;Ie<=ne;++Ie)(Ie===ne||j.charCodeAt(Ie)===u)&&(Se+=0===Se.length?"..":"\\..");return ae+=ve,Se.length>0?`${Se}${J.slice(ae,ge)}`:(J.charCodeAt(ae)===u&&++ae,J.slice(ae,ge))},toNamespacedPath(j){if("string"!=typeof j||0===j.length)return j;const $=k.resolve(j);if($.length<=2)return j;if($.charCodeAt(0)===u){if($.charCodeAt(1)===u){const K=$.charCodeAt(2);if(63!==K&&K!==p)return`\\\\?\\UNC\\${$.slice(2)}`}}else if(D($.charCodeAt(0))&&$.charCodeAt(1)===g&&$.charCodeAt(2)===u)return`\\\\?\\${$}`;return j},dirname(j){m(j,"path");const $=j.length;if(0===$)return".";let K=-1,J=0;const te=j.charCodeAt(0);if(1===$)return I(te)?j:".";if(I(te)){if(K=J=1,I(j.charCodeAt(1))){let ae=2,ge=ae;for(;ae<$&&!I(j.charCodeAt(ae));)ae++;if(ae<$&&ae!==ge){for(ge=ae;ae<$&&I(j.charCodeAt(ae));)ae++;if(ae<$&&ae!==ge){for(ge=ae;ae<$&&!I(j.charCodeAt(ae));)ae++;if(ae===$)return j;ae!==ge&&(K=J=ae+1)}}}}else D(te)&&j.charCodeAt(1)===g&&(K=$>2&&I(j.charCodeAt(2))?3:2,J=K);let ne=-1,_=!0;for(let ae=$-1;ae>=J;--ae)if(I(j.charCodeAt(ae))){if(!_){ne=ae;break}}else _=!1;if(-1===ne){if(-1===K)return".";ne=K}return j.slice(0,ne)},basename(j,$){void 0!==$&&m($,"ext"),m(j,"path");let ne,K=0,J=-1,te=!0;if(j.length>=2&&D(j.charCodeAt(0))&&j.charCodeAt(1)===g&&(K=2),void 0!==$&&$.length>0&&$.length<=j.length){if($===j)return"";let _=$.length-1,ae=-1;for(ne=j.length-1;ne>=K;--ne){const ge=j.charCodeAt(ne);if(I(ge)){if(!te){K=ne+1;break}}else-1===ae&&(te=!1,ae=ne+1),_>=0&&(ge===$.charCodeAt(_)?-1==--_&&(J=ne):(_=-1,J=ae))}return K===J?J=ae:-1===J&&(J=j.length),j.slice(K,J)}for(ne=j.length-1;ne>=K;--ne)if(I(j.charCodeAt(ne))){if(!te){K=ne+1;break}}else-1===J&&(te=!1,J=ne+1);return-1===J?"":j.slice(K,J)},extname(j){m(j,"path");let $=0,K=-1,J=0,te=-1,ne=!0,_=0;j.length>=2&&j.charCodeAt(1)===g&&D(j.charCodeAt(0))&&($=J=2);for(let ae=j.length-1;ae>=$;--ae){const ge=j.charCodeAt(ae);if(I(ge)){if(!ne){J=ae+1;break}}else-1===te&&(ne=!1,te=ae+1),ge===p?-1===K?K=ae:1!==_&&(_=1):-1!==K&&(_=-1)}return-1===K||-1===te||0===_||1===_&&K===te-1&&K===J+1?"":j.slice(K,te)},format:A.bind(null,"\\"),parse(j){m(j,"path");const $={root:"",dir:"",base:"",ext:"",name:""};if(0===j.length)return $;const K=j.length;let J=0,te=j.charCodeAt(0);if(1===K)return I(te)?($.root=$.dir=j,$):($.base=$.name=j,$);if(I(te)){if(J=1,I(j.charCodeAt(1))){let ve=2,Ie=ve;for(;ve<K&&!I(j.charCodeAt(ve));)ve++;if(ve<K&&ve!==Ie){for(Ie=ve;ve<K&&I(j.charCodeAt(ve));)ve++;if(ve<K&&ve!==Ie){for(Ie=ve;ve<K&&!I(j.charCodeAt(ve));)ve++;ve===K?J=ve:ve!==Ie&&(J=ve+1)}}}}else if(D(te)&&j.charCodeAt(1)===g){if(K<=2)return $.root=$.dir=j,$;if(J=2,I(j.charCodeAt(2))){if(3===K)return $.root=$.dir=j,$;J=3}}J>0&&($.root=j.slice(0,J));let ne=-1,_=J,ae=-1,ge=!0,_e=j.length-1,ue=0;for(;_e>=J;--_e)if(te=j.charCodeAt(_e),I(te)){if(!ge){_=_e+1;break}}else-1===ae&&(ge=!1,ae=_e+1),te===p?-1===ne?ne=_e:1!==ue&&(ue=1):-1!==ne&&(ue=-1);return-1!==ae&&(-1===ne||0===ue||1===ue&&ne===ae-1&&ne===_+1?$.base=$.name=j.slice(_,ae):($.name=j.slice(_,ne),$.base=j.slice(_,ae),$.ext=j.slice(ne,ae))),$.dir=_>0&&_!==J?j.slice(0,_-1):$.root,$},sep:"\\",delimiter:";",win32:null,posix:null},R=(()=>{if(l){const j=/\\/g;return()=>{const $=r().replace(j,"/");return $.slice($.indexOf("/"))}}return()=>r()})(),O={resolve(...j){let $="",K=!1;for(let J=j.length-1;J>=-1&&!K;J--){const te=J>=0?j[J]:R();m(te,"path"),0!==te.length&&($=`${te}/${$}`,K=te.charCodeAt(0)===c)}return $=N($,!K,"/",w),K?`/${$}`:$.length>0?$:"."},normalize(j){if(m(j,"path"),0===j.length)return".";const $=j.charCodeAt(0)===c,K=j.charCodeAt(j.length-1)===c;return 0===(j=N(j,!$,"/",w)).length?$?"/":K?"./":".":(K&&(j+="/"),$?`/${j}`:j)},isAbsolute:j=>(m(j,"path"),j.length>0&&j.charCodeAt(0)===c),join(...j){if(0===j.length)return".";let $;for(let K=0;K<j.length;++K){const J=j[K];m(J,"path"),J.length>0&&(void 0===$?$=J:$+=`/${J}`)}return void 0===$?".":O.normalize($)},relative(j,$){if(m(j,"from"),m($,"to"),j===$||(j=O.resolve(j))===($=O.resolve($)))return"";const J=j.length,te=J-1,_=$.length-1,ae=te<_?te:_;let ge=-1,_e=0;for(;_e<ae;_e++){const ve=j.charCodeAt(1+_e);if(ve!==$.charCodeAt(1+_e))break;ve===c&&(ge=_e)}if(_e===ae)if(_>ae){if($.charCodeAt(1+_e)===c)return $.slice(1+_e+1);if(0===_e)return $.slice(1+_e)}else te>ae&&(j.charCodeAt(1+_e)===c?ge=_e:0===_e&&(ge=0));let ue="";for(_e=1+ge+1;_e<=J;++_e)(_e===J||j.charCodeAt(_e)===c)&&(ue+=0===ue.length?"..":"/..");return`${ue}${$.slice(1+ge)}`},toNamespacedPath:j=>j,dirname(j){if(m(j,"path"),0===j.length)return".";const $=j.charCodeAt(0)===c;let K=-1,J=!0;for(let te=j.length-1;te>=1;--te)if(j.charCodeAt(te)===c){if(!J){K=te;break}}else J=!1;return-1===K?$?"/":".":$&&1===K?"//":j.slice(0,K)},basename(j,$){void 0!==$&&m($,"ext"),m(j,"path");let ne,K=0,J=-1,te=!0;if(void 0!==$&&$.length>0&&$.length<=j.length){if($===j)return"";let _=$.length-1,ae=-1;for(ne=j.length-1;ne>=0;--ne){const ge=j.charCodeAt(ne);if(ge===c){if(!te){K=ne+1;break}}else-1===ae&&(te=!1,ae=ne+1),_>=0&&(ge===$.charCodeAt(_)?-1==--_&&(J=ne):(_=-1,J=ae))}return K===J?J=ae:-1===J&&(J=j.length),j.slice(K,J)}for(ne=j.length-1;ne>=0;--ne)if(j.charCodeAt(ne)===c){if(!te){K=ne+1;break}}else-1===J&&(te=!1,J=ne+1);return-1===J?"":j.slice(K,J)},extname(j){m(j,"path");let $=-1,K=0,J=-1,te=!0,ne=0;for(let _=j.length-1;_>=0;--_){const ae=j.charCodeAt(_);if(ae!==c)-1===J&&(te=!1,J=_+1),ae===p?-1===$?$=_:1!==ne&&(ne=1):-1!==$&&(ne=-1);else if(!te){K=_+1;break}}return-1===$||-1===J||0===ne||1===ne&&$===J-1&&$===K+1?"":j.slice($,J)},format:A.bind(null,"/"),parse(j){m(j,"path");const $={root:"",dir:"",base:"",ext:"",name:""};if(0===j.length)return $;const K=j.charCodeAt(0)===c;let J;K?($.root="/",J=1):J=0;let te=-1,ne=0,_=-1,ae=!0,ge=j.length-1,_e=0;for(;ge>=J;--ge){const ue=j.charCodeAt(ge);if(ue!==c)-1===_&&(ae=!1,_=ge+1),ue===p?-1===te?te=ge:1!==_e&&(_e=1):-1!==te&&(_e=-1);else if(!ae){ne=ge+1;break}}if(-1!==_){const ue=0===ne&&K?1:ne;-1===te||0===_e||1===_e&&te===_-1&&te===ne+1?$.base=$.name=j.slice(ue,_):($.name=j.slice(ue,te),$.base=j.slice(ue,_),$.ext=j.slice(te,_))}return ne>0?$.dir=j.slice(0,ne-1):K&&($.dir="/"),$},sep:"/",delimiter:":",win32:null,posix:null};O.win32=k.win32=k,O.posix=k.posix=O;const W=l?k.normalize:O.normalize,z=l?k.resolve:O.resolve,U=l?k.relative:O.relative,ee=l?k.dirname:O.dirname,B=l?k.basename:O.basename,G=l?k.extname:O.extname,se=l?k.sep:O.sep},88593:(Xe,we,e)=>{e.d(we,{$L:()=>z,ED:()=>k,G6:()=>ge,IJ:()=>O,OS:()=>K,dK:()=>se,dz:()=>R,fn:()=>$,gn:()=>ee,i7:()=>_,li:()=>I,n2:()=>U,r:()=>ne,tY:()=>W,tq:()=>B,un:()=>_e,vU:()=>ae});var P,f=e(37190);const r="en";let i,l,y=!1,v=!1,S=!1,T=!1,E=!1,L=!1,p=!1,c=!1,u=!1,g=!1,d=r,a=null,m=null;const I="object"==typeof self?self:"object"==typeof global?global:{};let w;typeof I.vscode<"u"&&typeof I.vscode.process<"u"?w=I.vscode.process:typeof process<"u"&&(w=process);const D="string"==typeof(null===(P=w?.versions)||void 0===P?void 0:P.electron);if("object"!=typeof navigator||D&&"renderer"===w?.type)if("object"==typeof w){y="win32"===w.platform,v="darwin"===w.platform,S="linux"===w.platform,T=S&&!!w.env.SNAP&&!!w.env.SNAP_REVISION,p=D,u=!!w.env.CI||!!w.env.BUILD_ARTIFACTSTAGINGDIRECTORY,i=r,d=r;const ve=w.env.VSCODE_NLS_CONFIG;if(ve)try{const Ie=JSON.parse(ve);i=Ie.locale,a=Ie.osLocale,d=Ie.availableLanguages["*"]||r,m=Ie._translationsConfigFile}catch{}E=!0}else console.error("Unable to resolve platform.");else l=navigator.userAgent,y=l.indexOf("Windows")>=0,v=l.indexOf("Macintosh")>=0,c=(l.indexOf("Macintosh")>=0||l.indexOf("iPad")>=0||l.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,S=l.indexOf("Linux")>=0,g=l?.indexOf("Mobi")>=0,L=!0,i=f.aj(f.NC({key:"ensureLoaderPluginIsLoaded",comment:["{Locked}"]},"_"))||r,d=i,a=navigator.language;let A=0;v?A=1:y?A=3:S&&(A=2);const k=y,R=v,O=S,W=E,z=L,U=L&&"function"==typeof I.importScripts,ee=c,B=g,G=l,se=d,j="function"==typeof I.postMessage&&!I.importScripts,$=(()=>{if(j){const ve=[];I.addEventListener("message",Se=>{if(Se.data&&Se.data.vscodeScheduleAsyncWork)for(let Ve=0,De=ve.length;Ve<De;Ve++){const ye=ve[Ve];if(ye.id===Se.data.vscodeScheduleAsyncWork)return ve.splice(Ve,1),void ye.callback()}});let Ie=0;return Se=>{const Ve=++Ie;ve.push({id:Ve,callback:Se}),I.postMessage({vscodeScheduleAsyncWork:Ve},"*")}}return ve=>setTimeout(ve)})(),K=v||c?2:y?1:3;let J=!0,te=!1;function ne(){if(!te){te=!0;const ve=new Uint8Array(2);ve[0]=1,ve[1]=2,J=513===new Uint16Array(ve.buffer)[0]}return J}const _=!!(G&&G.indexOf("Chrome")>=0),ae=!!(G&&G.indexOf("Firefox")>=0),ge=!!(!_&&G&&G.indexOf("Safari")>=0),_e=!!(G&&G.indexOf("Edg/")>=0);G&&G.indexOf("Android")},23137:(Xe,we,e)=>{var f;e.d(we,{e:()=>f}),function(P){function r(T,E){if(T.start>=E.end||E.start>=T.end)return{start:0,end:0};const L=Math.max(T.start,E.start),p=Math.min(T.end,E.end);return p-L<=0?{start:0,end:0}:{start:L,end:p}}function y(T){return T.end-T.start<=0}P.intersect=r,P.isEmpty=y,P.intersects=function v(T,E){return!y(r(T,E))},P.relativeComplement=function S(T,E){const L=[],p={start:T.start,end:Math.min(E.start,T.end)},c={start:Math.max(E.end,T.start),end:T.end};return y(p)||L.push(p),y(c)||L.push(c),L}}(f||(f={}))},9001:(Xe,we,e)=>{e.d(we,{AH:()=>w,DZ:()=>m,EZ:()=>a,Hx:()=>d,SF:()=>L,Vb:()=>z,Vo:()=>I,XX:()=>l,Xy:()=>u,i3:()=>N,lX:()=>D,z_:()=>T});var f=e(20226),P=e(42685),r=e(52356),y=e(88593),v=e(16055),S=e(15850);function T(U){return(0,S.q)(U,!0)}class E{constructor(ee){this._ignorePathCasing=ee}compare(ee,B,G=!1){return ee===B?0:(0,v.qu)(this.getComparisonKey(ee,G),this.getComparisonKey(B,G))}isEqual(ee,B,G=!1){return ee===B||!(!ee||!B)&&this.getComparisonKey(ee,G)===this.getComparisonKey(B,G)}getComparisonKey(ee,B=!1){return ee.with({path:this._ignorePathCasing(ee)?ee.path.toLowerCase():void 0,fragment:B?null:void 0}).toString()}isEqualOrParent(ee,B,G=!1){if(ee.scheme===B.scheme){if(ee.scheme===P.lg.file)return f.KM(T(ee),T(B),this._ignorePathCasing(ee))&&ee.query===B.query&&(G||ee.fragment===B.fragment);if(k(ee.authority,B.authority))return f.KM(ee.path,B.path,this._ignorePathCasing(ee),"/")&&ee.query===B.query&&(G||ee.fragment===B.fragment)}return!1}joinPath(ee,...B){return S.o.joinPath(ee,...B)}basenameOrAuthority(ee){return a(ee)||ee.authority}basename(ee){return r.KR.basename(ee.path)}extname(ee){return r.KR.extname(ee.path)}dirname(ee){if(0===ee.path.length)return ee;let B;return ee.scheme===P.lg.file?B=S.o.file(r.XX(T(ee))).path:(B=r.KR.dirname(ee.path),ee.authority&&B.length&&47!==B.charCodeAt(0)&&(console.error(`dirname("${ee.toString})) resulted in a relative path`),B="/")),ee.with({path:B})}normalizePath(ee){if(!ee.path.length)return ee;let B;return B=ee.scheme===P.lg.file?S.o.file(r.Fv(T(ee))).path:r.KR.normalize(ee.path),ee.with({path:B})}relativePath(ee,B){if(ee.scheme!==B.scheme||!k(ee.authority,B.authority))return;if(ee.scheme===P.lg.file){const j=r.Gf(T(ee),T(B));return y.ED?f.ej(j):j}let G=ee.path||"/";const se=B.path||"/";if(this._ignorePathCasing(ee)){let j=0;for(const $=Math.min(G.length,se.length);j<$&&(G.charCodeAt(j)===se.charCodeAt(j)||G.charAt(j).toLowerCase()===se.charAt(j).toLowerCase());j++);G=se.substr(0,j)+G.substr(j)}return r.KR.relative(G,se)}resolvePath(ee,B){if(ee.scheme===P.lg.file){const G=S.o.file(r.DB(T(ee),B));return ee.with({authority:G.authority,path:G.path})}return B=f.fn(B),ee.with({path:r.KR.resolve(ee.path,B)})}isAbsolutePath(ee){return!!ee.path&&"/"===ee.path[0]}isEqualAuthority(ee,B){return ee===B||void 0!==ee&&void 0!==B&&(0,v.qq)(ee,B)}hasTrailingPathSeparator(ee,B=r.ir){if(ee.scheme===P.lg.file){const G=T(ee);return G.length>f.yj(G).length&&G[G.length-1]===B}{const G=ee.path;return G.length>1&&47===G.charCodeAt(G.length-1)&&!/^[a-zA-Z]:(\/$|\\$)/.test(ee.fsPath)}}removeTrailingPathSeparator(ee,B=r.ir){return R(ee,B)?ee.with({path:ee.path.substr(0,ee.path.length-1)}):ee}addTrailingPathSeparator(ee,B=r.ir){let G=!1;if(ee.scheme===P.lg.file){const se=T(ee);G=void 0!==se&&se.length===f.yj(se).length&&se[se.length-1]===B}else{B="/";const se=ee.path;G=1===se.length&&47===se.charCodeAt(se.length-1)}return G||R(ee,B)?ee:ee.with({path:ee.path+"/"})}}const L=new E(()=>!1),u=(new E(U=>U.scheme!==P.lg.file||!y.IJ),new E(U=>!0),L.isEqual.bind(L)),d=(L.isEqualOrParent.bind(L),L.getComparisonKey.bind(L),L.basenameOrAuthority.bind(L)),a=L.basename.bind(L),m=L.extname.bind(L),l=L.dirname.bind(L),I=L.joinPath.bind(L),w=L.normalizePath.bind(L),D=L.relativePath.bind(L),N=L.resolvePath.bind(L),k=(L.isAbsolutePath.bind(L),L.isEqualAuthority.bind(L)),R=L.hasTrailingPathSeparator.bind(L);var z,U;L.removeTrailingPathSeparator.bind(L),L.addTrailingPathSeparator.bind(L),(U=z||(z={})).META_DATA_LABEL="label",U.META_DATA_DESCRIPTION="description",U.META_DATA_SIZE="size",U.META_DATA_MIME="mime",U.parseMetaData=function ee(B){const G=new Map;B.path.substring(B.path.indexOf(";")+1,B.path.lastIndexOf(";")).split(";").forEach($=>{const[K,J]=$.split(":");K&&J&&G.set(K,J)});const j=B.path.substring(0,B.path.indexOf(";"));return j&&G.set(U.META_DATA_MIME,j),G}},15962:(Xe,we,e)=>{e.d(we,{Rm:()=>y});var f=e(58178),P=e(78694);class r{constructor(u,g,i,d,a,m,l){this._forceIntegerValues=u,this._scrollStateBrand=void 0,this._forceIntegerValues&&(g|=0,i|=0,d|=0,a|=0,m|=0,l|=0),this.rawScrollLeft=d,this.rawScrollTop=l,g<0&&(g=0),d+g>i&&(d=i-g),d<0&&(d=0),a<0&&(a=0),l+a>m&&(l=m-a),l<0&&(l=0),this.width=g,this.scrollWidth=i,this.scrollLeft=d,this.height=a,this.scrollHeight=m,this.scrollTop=l}equals(u){return this.rawScrollLeft===u.rawScrollLeft&&this.rawScrollTop===u.rawScrollTop&&this.width===u.width&&this.scrollWidth===u.scrollWidth&&this.scrollLeft===u.scrollLeft&&this.height===u.height&&this.scrollHeight===u.scrollHeight&&this.scrollTop===u.scrollTop}withScrollDimensions(u,g){return new r(this._forceIntegerValues,typeof u.width<"u"?u.width:this.width,typeof u.scrollWidth<"u"?u.scrollWidth:this.scrollWidth,g?this.rawScrollLeft:this.scrollLeft,typeof u.height<"u"?u.height:this.height,typeof u.scrollHeight<"u"?u.scrollHeight:this.scrollHeight,g?this.rawScrollTop:this.scrollTop)}withScrollPosition(u){return new r(this._forceIntegerValues,this.width,this.scrollWidth,typeof u.scrollLeft<"u"?u.scrollLeft:this.rawScrollLeft,this.height,this.scrollHeight,typeof u.scrollTop<"u"?u.scrollTop:this.rawScrollTop)}createScrollEvent(u,g){return{inSmoothScrolling:g,oldWidth:u.width,oldScrollWidth:u.scrollWidth,oldScrollLeft:u.scrollLeft,width:this.width,scrollWidth:this.scrollWidth,scrollLeft:this.scrollLeft,oldHeight:u.height,oldScrollHeight:u.scrollHeight,oldScrollTop:u.scrollTop,height:this.height,scrollHeight:this.scrollHeight,scrollTop:this.scrollTop,widthChanged:this.width!==u.width,scrollWidthChanged:this.scrollWidth!==u.scrollWidth,scrollLeftChanged:this.scrollLeft!==u.scrollLeft,heightChanged:this.height!==u.height,scrollHeightChanged:this.scrollHeight!==u.scrollHeight,scrollTopChanged:this.scrollTop!==u.scrollTop}}}class y extends P.JT{constructor(u){super(),this._scrollableBrand=void 0,this._onScroll=this._register(new f.Q5),this.onScroll=this._onScroll.event,this._smoothScrollDuration=u.smoothScrollDuration,this._scheduleAtNextAnimationFrame=u.scheduleAtNextAnimationFrame,this._state=new r(u.forceIntegerValues,0,0,0,0,0,0),this._smoothScrolling=null}dispose(){this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),super.dispose()}setSmoothScrollDuration(u){this._smoothScrollDuration=u}validateScrollPosition(u){return this._state.withScrollPosition(u)}getScrollDimensions(){return this._state}setScrollDimensions(u,g){var i;const d=this._state.withScrollDimensions(u,g);this._setState(d,!!this._smoothScrolling),null===(i=this._smoothScrolling)||void 0===i||i.acceptScrollDimensions(this._state)}getFutureScrollPosition(){return this._smoothScrolling?this._smoothScrolling.to:this._state}getCurrentScrollPosition(){return this._state}setScrollPositionNow(u){const g=this._state.withScrollPosition(u);this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),this._setState(g,!1)}setScrollPositionSmooth(u,g){if(0===this._smoothScrollDuration)return this.setScrollPositionNow(u);if(this._smoothScrolling){const i=this._state.withScrollPosition(u={scrollLeft:typeof u.scrollLeft>"u"?this._smoothScrolling.to.scrollLeft:u.scrollLeft,scrollTop:typeof u.scrollTop>"u"?this._smoothScrolling.to.scrollTop:u.scrollTop});if(this._smoothScrolling.to.scrollLeft===i.scrollLeft&&this._smoothScrolling.to.scrollTop===i.scrollTop)return;let d;d=g?new E(this._smoothScrolling.from,i,this._smoothScrolling.startTime,this._smoothScrolling.duration):this._smoothScrolling.combine(this._state,i,this._smoothScrollDuration),this._smoothScrolling.dispose(),this._smoothScrolling=d}else{const i=this._state.withScrollPosition(u);this._smoothScrolling=E.start(this._state,i,this._smoothScrollDuration)}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{this._smoothScrolling&&(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}hasPendingScrollAnimation(){return!!this._smoothScrolling}_performSmoothScrolling(){if(!this._smoothScrolling)return;const u=this._smoothScrolling.tick(),g=this._state.withScrollPosition(u);if(this._setState(g,!0),this._smoothScrolling){if(u.isDone)return this._smoothScrolling.dispose(),void(this._smoothScrolling=null);this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{this._smoothScrolling&&(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}}_setState(u,g){const i=this._state;i.equals(u)||(this._state=u,this._onScroll.fire(this._state.createScrollEvent(i,g)))}}class v{constructor(u,g,i){this.scrollLeft=u,this.scrollTop=g,this.isDone=i}}function S(c,u){const g=u-c;return function(i){return c+g*function p(c){return 1-function L(c){return Math.pow(c,3)}(1-c)}(i)}}class E{constructor(u,g,i,d){this.from=u,this.to=g,this.duration=d,this.startTime=i,this.animationFrameDisposable=null,this._initAnimations()}_initAnimations(){this.scrollLeft=this._initAnimation(this.from.scrollLeft,this.to.scrollLeft,this.to.width),this.scrollTop=this._initAnimation(this.from.scrollTop,this.to.scrollTop,this.to.height)}_initAnimation(u,g,i){if(Math.abs(u-g)>2.5*i){let a,m;return u<g?(a=u+.75*i,m=g-.75*i):(a=u-.75*i,m=g+.75*i),function T(c,u,g){return function(i){return i<g?c(i/g):u((i-g)/(1-g))}}(S(u,a),S(m,g),.33)}return S(u,g)}dispose(){null!==this.animationFrameDisposable&&(this.animationFrameDisposable.dispose(),this.animationFrameDisposable=null)}acceptScrollDimensions(u){this.to=u.withScrollPosition(this.to),this._initAnimations()}tick(){return this._tick(Date.now())}_tick(u){const g=(u-this.startTime)/this.duration;if(g<1){const i=this.scrollLeft(g),d=this.scrollTop(g);return new v(i,d,!1)}return new v(this.to.scrollLeft,this.to.scrollTop,!0)}combine(u,g,i){return E.start(u,g,i)}static start(u,g,i){i+=10;const d=Date.now()-10;return new E(u,g,d,i)}}},17130:(Xe,we,e)=>{e.d(we,{Z:()=>r});var f=e(16055),P=function(y){return y[y.Ignore=0]="Ignore",y[y.Info=1]="Info",y[y.Warning=2]="Warning",y[y.Error=3]="Error",y}(P||{});!function(y){const v="error",S="warning",E="info";y.fromValue=function p(u){return u?f.qq(v,u)?y.Error:f.qq(S,u)||f.qq("warn",u)?y.Warning:f.qq(E,u)?y.Info:y.Ignore:y.Ignore},y.toString=function c(u){switch(u){case y.Error:return v;case y.Warning:return S;case y.Info:return E;default:return"ignore"}}}(P||(P={}));const r=P},11664:(Xe,we,e)=>{e.d(we,{G:()=>P});const f=globalThis.performance&&"function"==typeof globalThis.performance.now;class P{static create(y){return new P(y)}constructor(y){this._now=f&&!1===y?Date.now:globalThis.performance.now.bind(globalThis.performance),this._startTime=this._now(),this._stopTime=-1}stop(){this._stopTime=this._now()}elapsed(){return-1!==this._stopTime?this._stopTime-this._startTime:this._now()-this._startTime}}},16055:(Xe,we,e)=>{e.d(we,{$i:()=>ve,B4:()=>fe,C8:()=>De,GF:()=>i,HO:()=>ne,IO:()=>d,J_:()=>_,K7:()=>Ve,Kw:()=>Y,LC:()=>m,Mh:()=>U,P1:()=>ee,PJ:()=>x,Qe:()=>Ie,R1:()=>g,T5:()=>k,TT:()=>D,Ut:()=>_e,V8:()=>l,W1:()=>J,WU:()=>S,YK:()=>G,YU:()=>T,ZG:()=>B,ZH:()=>j,ZK:()=>be,ab:()=>Se,c1:()=>ye,df:()=>O,ec:()=>E,fy:()=>L,j3:()=>p,j_:()=>A,m5:()=>y,mK:()=>R,oH:()=>ke,oL:()=>c,ok:()=>z,ow:()=>I,qq:()=>W,qu:()=>w,rL:()=>se,uS:()=>oe,un:()=>u,uq:()=>a,vH:()=>te,vU:()=>pe,zY:()=>N});var r,f=e(34762),P=e(81183);function y(Q){return!Q||"string"!=typeof Q||0===Q.trim().length}const v=/{(\d+)}/g;function S(Q,...le){return 0===le.length?Q:Q.replace(v,function(Fe,He){const Je=parseInt(He,10);return isNaN(Je)||Je<0||Je>=le.length?Fe:le[Je]})}function T(Q){return Q.replace(/[<>&]/g,function(le){switch(le){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return le}})}function E(Q){return Q.replace(/[\\\{\}\*\+\?\|\^\$\.\[\]\(\)]/g,"\\$&")}function L(Q,le=" "){return c(p(Q,le),le)}function p(Q,le){if(!Q||!le)return Q;const Fe=le.length;if(0===Fe||0===Q.length)return Q;let He=0;for(;Q.indexOf(le,He)===He;)He+=Fe;return Q.substring(He)}function c(Q,le){if(!Q||!le)return Q;const Fe=le.length,He=Q.length;if(0===Fe||0===He)return Q;let Je=He,ot=-1;for(;ot=Q.lastIndexOf(le,Je-1),-1!==ot&&ot+Fe===Je;){if(0===ot)return"";Je=ot}return Q.substring(0,Je)}function u(Q){return Q.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*")}function g(Q){return Q.replace(/\*/g,"")}function i(Q,le,Fe={}){if(!Q)throw new Error("Cannot create regex from empty string");le||(Q=E(Q)),Fe.wholeWord&&(/\B/.test(Q.charAt(0))||(Q="\\b"+Q),/\B/.test(Q.charAt(Q.length-1))||(Q+="\\b"));let He="";return Fe.global&&(He+="g"),Fe.matchCase||(He+="i"),Fe.multiline&&(He+="m"),Fe.unicode&&(He+="u"),new RegExp(Q,He)}function d(Q){return"^"!==Q.source&&"^$"!==Q.source&&"$"!==Q.source&&"^\\s*$"!==Q.source&&!(!Q.exec("")||0!==Q.lastIndex)}function a(Q){return Q.split(/\r\n|\r|\n/)}function m(Q){for(let le=0,Fe=Q.length;le<Fe;le++){const He=Q.charCodeAt(le);if(32!==He&&9!==He)return le}return-1}function l(Q,le=0,Fe=Q.length){for(let He=le;He<Fe;He++){const Je=Q.charCodeAt(He);if(32!==Je&&9!==Je)return Q.substring(le,He)}return Q.substring(le,Fe)}function I(Q,le=Q.length-1){for(let Fe=le;Fe>=0;Fe--){const He=Q.charCodeAt(Fe);if(32!==He&&9!==He)return Fe}return-1}function w(Q,le){return Q<le?-1:Q>le?1:0}function D(Q,le,Fe=0,He=Q.length,Je=0,ot=le.length){for(;Fe<He&&Je<ot;Fe++,Je++){const ft=Q.charCodeAt(Fe),Lt=le.charCodeAt(Je);if(ft<Lt)return-1;if(ft>Lt)return 1}const lt=He-Fe,mt=ot-Je;return lt<mt?-1:lt>mt?1:0}function N(Q,le){return A(Q,le,0,Q.length,0,le.length)}function A(Q,le,Fe=0,He=Q.length,Je=0,ot=le.length){for(;Fe<He&&Je<ot;Fe++,Je++){let ft=Q.charCodeAt(Fe),Lt=le.charCodeAt(Je);if(ft===Lt)continue;if(ft>=128||Lt>=128)return D(Q.toLowerCase(),le.toLowerCase(),Fe,He,Je,ot);R(ft)&&(ft-=32),R(Lt)&&(Lt-=32);const Tt=ft-Lt;if(0!==Tt)return Tt}const lt=He-Fe,mt=ot-Je;return lt<mt?-1:lt>mt?1:0}function k(Q){return Q>=48&&Q<=57}function R(Q){return Q>=97&&Q<=122}function O(Q){return Q>=65&&Q<=90}function W(Q,le){return Q.length===le.length&&0===A(Q,le)}function z(Q,le){return!(le.length>Q.length)&&0===A(Q,le,0,le.length)}function U(Q,le){const Fe=Math.min(Q.length,le.length);let He;for(He=0;He<Fe;He++)if(Q.charCodeAt(He)!==le.charCodeAt(He))return He;return Fe}function ee(Q,le){const Fe=Math.min(Q.length,le.length);let He;const Je=Q.length-1,ot=le.length-1;for(He=0;He<Fe;He++)if(Q.charCodeAt(Je-He)!==le.charCodeAt(ot-He))return He;return Fe}function B(Q){return 55296<=Q&&Q<=56319}function G(Q){return 56320<=Q&&Q<=57343}function se(Q,le){return le-56320+(Q-55296<<10)+65536}function j(Q,le,Fe){const He=Q.charCodeAt(Fe);if(B(He)&&Fe+1<le){const Je=Q.charCodeAt(Fe+1);if(G(Je))return se(He,Je)}return He}class K{get offset(){return this._offset}constructor(le,Fe=0){this._str=le,this._len=le.length,this._offset=Fe}setOffset(le){this._offset=le}prevCodePoint(){const le=function $(Q,le){const Fe=Q.charCodeAt(le-1);if(G(Fe)&&le>1){const He=Q.charCodeAt(le-2);if(B(He))return se(He,Fe)}return Fe}(this._str,this._offset);return this._offset-=le>=65536?2:1,le}nextCodePoint(){const le=j(this._str,this._len,this._offset);return this._offset+=le>=65536?2:1,le}eol(){return this._offset>=this._len}}class J{get offset(){return this._iterator.offset}constructor(le,Fe=0){this._iterator=new K(le,Fe)}nextGraphemeLength(){const le=ie.getInstance(),Fe=this._iterator,He=Fe.offset;let Je=le.getGraphemeBreakType(Fe.nextCodePoint());for(;!Fe.eol();){const ot=Fe.offset,lt=le.getGraphemeBreakType(Fe.nextCodePoint());if(F(Je,lt)){Fe.setOffset(ot);break}Je=lt}return Fe.offset-He}prevGraphemeLength(){const le=ie.getInstance(),Fe=this._iterator,He=Fe.offset;let Je=le.getGraphemeBreakType(Fe.prevCodePoint());for(;Fe.offset>0;){const ot=Fe.offset,lt=le.getGraphemeBreakType(Fe.prevCodePoint());if(F(lt,Je)){Fe.setOffset(ot);break}Je=lt}return He-Fe.offset}eol(){return this._iterator.eol()}}function te(Q,le){return new J(Q,le).nextGraphemeLength()}function ne(Q,le){return new J(Q,le).prevGraphemeLength()}function _(Q,le){le>0&&G(Q.charCodeAt(le))&&le--;const Fe=le+te(Q,le);return[Fe-ne(Q,Fe),Fe]}let ae;function _e(Q){return ae||(ae=/(?:[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05F4\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u0710\u0712-\u072F\u074D-\u07A5\u07B1-\u07EA\u07F4\u07F5\u07FA\u07FE-\u0815\u081A\u0824\u0828\u0830-\u0858\u085E-\u088E\u08A0-\u08C9\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFD3D\uFD50-\uFDC7\uFDF0-\uFDFC\uFE70-\uFEFC]|\uD802[\uDC00-\uDD1B\uDD20-\uDE00\uDE10-\uDE35\uDE40-\uDEE4\uDEEB-\uDF35\uDF40-\uDFFF]|\uD803[\uDC00-\uDD23\uDE80-\uDEA9\uDEAD-\uDF45\uDF51-\uDF81\uDF86-\uDFF6]|\uD83A[\uDC00-\uDCCF\uDD00-\uDD43\uDD4B-\uDFFF]|\uD83B[\uDC00-\uDEBB])/),ae.test(Q)}const ue=/^[\t\n\r\x20-\x7E]*$/;function ve(Q){return ue.test(Q)}const Ie=/[\u2028\u2029]/;function Se(Q){return Ie.test(Q)}function Ve(Q){return Q>=11904&&Q<=55215||Q>=63744&&Q<=64255||Q>=65281&&Q<=65374}function De(Q){return Q>=127462&&Q<=127487||8986===Q||8987===Q||9200===Q||9203===Q||Q>=9728&&Q<=10175||11088===Q||11093===Q||Q>=127744&&Q<=128591||Q>=128640&&Q<=128764||Q>=128992&&Q<=129008||Q>=129280&&Q<=129535||Q>=129648&&Q<=129782}const ye=String.fromCharCode(65279);function oe(Q){return!!(Q&&Q.length>0&&65279===Q.charCodeAt(0))}function Y(Q,le=!1){return!!Q&&(le&&(Q=Q.replace(/\\./g,"")),Q.toLowerCase()!==Q)}function x(Q){return Q%=52,String.fromCharCode(Q<26?97+Q:65+Q-26)}function F(Q,le){return 0===Q?5!==le&&7!==le:!(2===Q&&3===le||4!==Q&&2!==Q&&3!==Q&&4!==le&&2!==le&&3!==le&&(8===Q&&(8===le||9===le||11===le||12===le)||(11===Q||9===Q)&&(9===le||10===le)||(12===Q||10===Q)&&10===le||5===le||13===le||7===le||1===Q||13===Q&&14===le||6===Q&&6===le))}let ie=(()=>{class Q{static getInstance(){return Q._INSTANCE||(Q._INSTANCE=new Q),Q._INSTANCE}constructor(){this._data=function Ce(){return JSON.parse("[0,0,0,51229,51255,12,44061,44087,12,127462,127487,6,7083,7085,5,47645,47671,12,54813,54839,12,128678,128678,14,3270,3270,5,9919,9923,14,45853,45879,12,49437,49463,12,53021,53047,12,71216,71218,7,128398,128399,14,129360,129374,14,2519,2519,5,4448,4519,9,9742,9742,14,12336,12336,14,44957,44983,12,46749,46775,12,48541,48567,12,50333,50359,12,52125,52151,12,53917,53943,12,69888,69890,5,73018,73018,5,127990,127990,14,128558,128559,14,128759,128760,14,129653,129655,14,2027,2035,5,2891,2892,7,3761,3761,5,6683,6683,5,8293,8293,4,9825,9826,14,9999,9999,14,43452,43453,5,44509,44535,12,45405,45431,12,46301,46327,12,47197,47223,12,48093,48119,12,48989,49015,12,49885,49911,12,50781,50807,12,51677,51703,12,52573,52599,12,53469,53495,12,54365,54391,12,65279,65279,4,70471,70472,7,72145,72147,7,119173,119179,5,127799,127818,14,128240,128244,14,128512,128512,14,128652,128652,14,128721,128722,14,129292,129292,14,129445,129450,14,129734,129743,14,1476,1477,5,2366,2368,7,2750,2752,7,3076,3076,5,3415,3415,5,4141,4144,5,6109,6109,5,6964,6964,5,7394,7400,5,9197,9198,14,9770,9770,14,9877,9877,14,9968,9969,14,10084,10084,14,43052,43052,5,43713,43713,5,44285,44311,12,44733,44759,12,45181,45207,12,45629,45655,12,46077,46103,12,46525,46551,12,46973,46999,12,47421,47447,12,47869,47895,12,48317,48343,12,48765,48791,12,49213,49239,12,49661,49687,12,50109,50135,12,50557,50583,12,51005,51031,12,51453,51479,12,51901,51927,12,52349,52375,12,52797,52823,12,53245,53271,12,53693,53719,12,54141,54167,12,54589,54615,12,55037,55063,12,69506,69509,5,70191,70193,5,70841,70841,7,71463,71467,5,72330,72342,5,94031,94031,5,123628,123631,5,127763,127765,14,127941,127941,14,128043,128062,14,128302,128317,14,128465,128467,14,128539,128539,14,128640,128640,14,128662,128662,14,128703,128703,14,128745,128745,14,129004,129007,14,129329,129330,14,129402,129402,14,129483,129483,14,129686,129704,14,130048,131069,14,173,173,4,1757,1757,1,2200,2207,5,2434,2435,7,2631,2632,5,2817,2817,5,3008,3008,5,3201,3201,5,3387,3388,5,3542,3542,5,3902,3903,7,4190,4192,5,6002,6003,5,6439,6440,5,6765,6770,7,7019,7027,5,7154,7155,7,8205,8205,13,8505,8505,14,9654,9654,14,9757,9757,14,9792,9792,14,9852,9853,14,9890,9894,14,9937,9937,14,9981,9981,14,10035,10036,14,11035,11036,14,42654,42655,5,43346,43347,7,43587,43587,5,44006,44007,7,44173,44199,12,44397,44423,12,44621,44647,12,44845,44871,12,45069,45095,12,45293,45319,12,45517,45543,12,45741,45767,12,45965,45991,12,46189,46215,12,46413,46439,12,46637,46663,12,46861,46887,12,47085,47111,12,47309,47335,12,47533,47559,12,47757,47783,12,47981,48007,12,48205,48231,12,48429,48455,12,48653,48679,12,48877,48903,12,49101,49127,12,49325,49351,12,49549,49575,12,49773,49799,12,49997,50023,12,50221,50247,12,50445,50471,12,50669,50695,12,50893,50919,12,51117,51143,12,51341,51367,12,51565,51591,12,51789,51815,12,52013,52039,12,52237,52263,12,52461,52487,12,52685,52711,12,52909,52935,12,53133,53159,12,53357,53383,12,53581,53607,12,53805,53831,12,54029,54055,12,54253,54279,12,54477,54503,12,54701,54727,12,54925,54951,12,55149,55175,12,68101,68102,5,69762,69762,7,70067,70069,7,70371,70378,5,70720,70721,7,71087,71087,5,71341,71341,5,71995,71996,5,72249,72249,7,72850,72871,5,73109,73109,5,118576,118598,5,121505,121519,5,127245,127247,14,127568,127569,14,127777,127777,14,127872,127891,14,127956,127967,14,128015,128016,14,128110,128172,14,128259,128259,14,128367,128368,14,128424,128424,14,128488,128488,14,128530,128532,14,128550,128551,14,128566,128566,14,128647,128647,14,128656,128656,14,128667,128673,14,128691,128693,14,128715,128715,14,128728,128732,14,128752,128752,14,128765,128767,14,129096,129103,14,129311,129311,14,129344,129349,14,129394,129394,14,129413,129425,14,129466,129471,14,129511,129535,14,129664,129666,14,129719,129722,14,129760,129767,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2307,2307,7,2382,2383,7,2497,2500,5,2563,2563,7,2677,2677,5,2763,2764,7,2879,2879,5,2914,2915,5,3021,3021,5,3142,3144,5,3263,3263,5,3285,3286,5,3398,3400,7,3530,3530,5,3633,3633,5,3864,3865,5,3974,3975,5,4155,4156,7,4229,4230,5,5909,5909,7,6078,6085,7,6277,6278,5,6451,6456,7,6744,6750,5,6846,6846,5,6972,6972,5,7074,7077,5,7146,7148,7,7222,7223,5,7416,7417,5,8234,8238,4,8417,8417,5,9000,9000,14,9203,9203,14,9730,9731,14,9748,9749,14,9762,9763,14,9776,9783,14,9800,9811,14,9831,9831,14,9872,9873,14,9882,9882,14,9900,9903,14,9929,9933,14,9941,9960,14,9974,9974,14,9989,9989,14,10006,10006,14,10062,10062,14,10160,10160,14,11647,11647,5,12953,12953,14,43019,43019,5,43232,43249,5,43443,43443,5,43567,43568,7,43696,43696,5,43765,43765,7,44013,44013,5,44117,44143,12,44229,44255,12,44341,44367,12,44453,44479,12,44565,44591,12,44677,44703,12,44789,44815,12,44901,44927,12,45013,45039,12,45125,45151,12,45237,45263,12,45349,45375,12,45461,45487,12,45573,45599,12,45685,45711,12,45797,45823,12,45909,45935,12,46021,46047,12,46133,46159,12,46245,46271,12,46357,46383,12,46469,46495,12,46581,46607,12,46693,46719,12,46805,46831,12,46917,46943,12,47029,47055,12,47141,47167,12,47253,47279,12,47365,47391,12,47477,47503,12,47589,47615,12,47701,47727,12,47813,47839,12,47925,47951,12,48037,48063,12,48149,48175,12,48261,48287,12,48373,48399,12,48485,48511,12,48597,48623,12,48709,48735,12,48821,48847,12,48933,48959,12,49045,49071,12,49157,49183,12,49269,49295,12,49381,49407,12,49493,49519,12,49605,49631,12,49717,49743,12,49829,49855,12,49941,49967,12,50053,50079,12,50165,50191,12,50277,50303,12,50389,50415,12,50501,50527,12,50613,50639,12,50725,50751,12,50837,50863,12,50949,50975,12,51061,51087,12,51173,51199,12,51285,51311,12,51397,51423,12,51509,51535,12,51621,51647,12,51733,51759,12,51845,51871,12,51957,51983,12,52069,52095,12,52181,52207,12,52293,52319,12,52405,52431,12,52517,52543,12,52629,52655,12,52741,52767,12,52853,52879,12,52965,52991,12,53077,53103,12,53189,53215,12,53301,53327,12,53413,53439,12,53525,53551,12,53637,53663,12,53749,53775,12,53861,53887,12,53973,53999,12,54085,54111,12,54197,54223,12,54309,54335,12,54421,54447,12,54533,54559,12,54645,54671,12,54757,54783,12,54869,54895,12,54981,55007,12,55093,55119,12,55243,55291,10,66045,66045,5,68325,68326,5,69688,69702,5,69817,69818,5,69957,69958,7,70089,70092,5,70198,70199,5,70462,70462,5,70502,70508,5,70750,70750,5,70846,70846,7,71100,71101,5,71230,71230,7,71351,71351,5,71737,71738,5,72000,72000,7,72160,72160,5,72273,72278,5,72752,72758,5,72882,72883,5,73031,73031,5,73461,73462,7,94192,94193,7,119149,119149,7,121403,121452,5,122915,122916,5,126980,126980,14,127358,127359,14,127535,127535,14,127759,127759,14,127771,127771,14,127792,127793,14,127825,127867,14,127897,127899,14,127945,127945,14,127985,127986,14,128000,128007,14,128021,128021,14,128066,128100,14,128184,128235,14,128249,128252,14,128266,128276,14,128335,128335,14,128379,128390,14,128407,128419,14,128444,128444,14,128481,128481,14,128499,128499,14,128526,128526,14,128536,128536,14,128543,128543,14,128556,128556,14,128564,128564,14,128577,128580,14,128643,128645,14,128649,128649,14,128654,128654,14,128660,128660,14,128664,128664,14,128675,128675,14,128686,128689,14,128695,128696,14,128705,128709,14,128717,128719,14,128725,128725,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129009,129023,14,129160,129167,14,129296,129304,14,129320,129327,14,129340,129342,14,129356,129356,14,129388,129392,14,129399,129400,14,129404,129407,14,129432,129442,14,129454,129455,14,129473,129474,14,129485,129487,14,129648,129651,14,129659,129660,14,129671,129679,14,129709,129711,14,129728,129730,14,129751,129753,14,129776,129782,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2274,2274,1,2363,2363,7,2377,2380,7,2402,2403,5,2494,2494,5,2507,2508,7,2558,2558,5,2622,2624,7,2641,2641,5,2691,2691,7,2759,2760,5,2786,2787,5,2876,2876,5,2881,2884,5,2901,2902,5,3006,3006,5,3014,3016,7,3072,3072,5,3134,3136,5,3157,3158,5,3260,3260,5,3266,3266,5,3274,3275,7,3328,3329,5,3391,3392,7,3405,3405,5,3457,3457,5,3536,3537,7,3551,3551,5,3636,3642,5,3764,3772,5,3895,3895,5,3967,3967,7,3993,4028,5,4146,4151,5,4182,4183,7,4226,4226,5,4253,4253,5,4957,4959,5,5940,5940,7,6070,6070,7,6087,6088,7,6158,6158,4,6432,6434,5,6448,6449,7,6679,6680,5,6742,6742,5,6754,6754,5,6783,6783,5,6912,6915,5,6966,6970,5,6978,6978,5,7042,7042,7,7080,7081,5,7143,7143,7,7150,7150,7,7212,7219,5,7380,7392,5,7412,7412,5,8203,8203,4,8232,8232,4,8265,8265,14,8400,8412,5,8421,8432,5,8617,8618,14,9167,9167,14,9200,9200,14,9410,9410,14,9723,9726,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9774,14,9786,9786,14,9794,9794,14,9823,9823,14,9828,9828,14,9833,9850,14,9855,9855,14,9875,9875,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9935,9935,14,9939,9939,14,9962,9962,14,9972,9972,14,9978,9978,14,9986,9986,14,9997,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10133,10135,14,10548,10549,14,11093,11093,14,12330,12333,5,12441,12442,5,42608,42610,5,43010,43010,5,43045,43046,5,43188,43203,7,43302,43309,5,43392,43394,5,43446,43449,5,43493,43493,5,43571,43572,7,43597,43597,7,43703,43704,5,43756,43757,5,44003,44004,7,44009,44010,7,44033,44059,12,44089,44115,12,44145,44171,12,44201,44227,12,44257,44283,12,44313,44339,12,44369,44395,12,44425,44451,12,44481,44507,12,44537,44563,12,44593,44619,12,44649,44675,12,44705,44731,12,44761,44787,12,44817,44843,12,44873,44899,12,44929,44955,12,44985,45011,12,45041,45067,12,45097,45123,12,45153,45179,12,45209,45235,12,45265,45291,12,45321,45347,12,45377,45403,12,45433,45459,12,45489,45515,12,45545,45571,12,45601,45627,12,45657,45683,12,45713,45739,12,45769,45795,12,45825,45851,12,45881,45907,12,45937,45963,12,45993,46019,12,46049,46075,12,46105,46131,12,46161,46187,12,46217,46243,12,46273,46299,12,46329,46355,12,46385,46411,12,46441,46467,12,46497,46523,12,46553,46579,12,46609,46635,12,46665,46691,12,46721,46747,12,46777,46803,12,46833,46859,12,46889,46915,12,46945,46971,12,47001,47027,12,47057,47083,12,47113,47139,12,47169,47195,12,47225,47251,12,47281,47307,12,47337,47363,12,47393,47419,12,47449,47475,12,47505,47531,12,47561,47587,12,47617,47643,12,47673,47699,12,47729,47755,12,47785,47811,12,47841,47867,12,47897,47923,12,47953,47979,12,48009,48035,12,48065,48091,12,48121,48147,12,48177,48203,12,48233,48259,12,48289,48315,12,48345,48371,12,48401,48427,12,48457,48483,12,48513,48539,12,48569,48595,12,48625,48651,12,48681,48707,12,48737,48763,12,48793,48819,12,48849,48875,12,48905,48931,12,48961,48987,12,49017,49043,12,49073,49099,12,49129,49155,12,49185,49211,12,49241,49267,12,49297,49323,12,49353,49379,12,49409,49435,12,49465,49491,12,49521,49547,12,49577,49603,12,49633,49659,12,49689,49715,12,49745,49771,12,49801,49827,12,49857,49883,12,49913,49939,12,49969,49995,12,50025,50051,12,50081,50107,12,50137,50163,12,50193,50219,12,50249,50275,12,50305,50331,12,50361,50387,12,50417,50443,12,50473,50499,12,50529,50555,12,50585,50611,12,50641,50667,12,50697,50723,12,50753,50779,12,50809,50835,12,50865,50891,12,50921,50947,12,50977,51003,12,51033,51059,12,51089,51115,12,51145,51171,12,51201,51227,12,51257,51283,12,51313,51339,12,51369,51395,12,51425,51451,12,51481,51507,12,51537,51563,12,51593,51619,12,51649,51675,12,51705,51731,12,51761,51787,12,51817,51843,12,51873,51899,12,51929,51955,12,51985,52011,12,52041,52067,12,52097,52123,12,52153,52179,12,52209,52235,12,52265,52291,12,52321,52347,12,52377,52403,12,52433,52459,12,52489,52515,12,52545,52571,12,52601,52627,12,52657,52683,12,52713,52739,12,52769,52795,12,52825,52851,12,52881,52907,12,52937,52963,12,52993,53019,12,53049,53075,12,53105,53131,12,53161,53187,12,53217,53243,12,53273,53299,12,53329,53355,12,53385,53411,12,53441,53467,12,53497,53523,12,53553,53579,12,53609,53635,12,53665,53691,12,53721,53747,12,53777,53803,12,53833,53859,12,53889,53915,12,53945,53971,12,54001,54027,12,54057,54083,12,54113,54139,12,54169,54195,12,54225,54251,12,54281,54307,12,54337,54363,12,54393,54419,12,54449,54475,12,54505,54531,12,54561,54587,12,54617,54643,12,54673,54699,12,54729,54755,12,54785,54811,12,54841,54867,12,54897,54923,12,54953,54979,12,55009,55035,12,55065,55091,12,55121,55147,12,55177,55203,12,65024,65039,5,65520,65528,4,66422,66426,5,68152,68154,5,69291,69292,5,69633,69633,5,69747,69748,5,69811,69814,5,69826,69826,5,69932,69932,7,70016,70017,5,70079,70080,7,70095,70095,5,70196,70196,5,70367,70367,5,70402,70403,7,70464,70464,5,70487,70487,5,70709,70711,7,70725,70725,7,70833,70834,7,70843,70844,7,70849,70849,7,71090,71093,5,71103,71104,5,71227,71228,7,71339,71339,5,71344,71349,5,71458,71461,5,71727,71735,5,71985,71989,7,71998,71998,5,72002,72002,7,72154,72155,5,72193,72202,5,72251,72254,5,72281,72283,5,72344,72345,5,72766,72766,7,72874,72880,5,72885,72886,5,73023,73029,5,73104,73105,5,73111,73111,5,92912,92916,5,94095,94098,5,113824,113827,4,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,125252,125258,5,127183,127183,14,127340,127343,14,127377,127386,14,127491,127503,14,127548,127551,14,127744,127756,14,127761,127761,14,127769,127769,14,127773,127774,14,127780,127788,14,127796,127797,14,127820,127823,14,127869,127869,14,127894,127895,14,127902,127903,14,127943,127943,14,127947,127950,14,127972,127972,14,127988,127988,14,127992,127994,14,128009,128011,14,128019,128019,14,128023,128041,14,128064,128064,14,128102,128107,14,128174,128181,14,128238,128238,14,128246,128247,14,128254,128254,14,128264,128264,14,128278,128299,14,128329,128330,14,128348,128359,14,128371,128377,14,128392,128393,14,128401,128404,14,128421,128421,14,128433,128434,14,128450,128452,14,128476,128478,14,128483,128483,14,128495,128495,14,128506,128506,14,128519,128520,14,128528,128528,14,128534,128534,14,128538,128538,14,128540,128542,14,128544,128549,14,128552,128555,14,128557,128557,14,128560,128563,14,128565,128565,14,128567,128576,14,128581,128591,14,128641,128642,14,128646,128646,14,128648,128648,14,128650,128651,14,128653,128653,14,128655,128655,14,128657,128659,14,128661,128661,14,128663,128663,14,128665,128666,14,128674,128674,14,128676,128677,14,128679,128685,14,128690,128690,14,128694,128694,14,128697,128702,14,128704,128704,14,128710,128714,14,128716,128716,14,128720,128720,14,128723,128724,14,128726,128727,14,128733,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129008,129008,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129661,129663,14,129667,129670,14,129680,129685,14,129705,129708,14,129712,129718,14,129723,129727,14,129731,129733,14,129744,129750,14,129754,129759,14,129768,129775,14,129783,129791,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2192,2193,1,2250,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3132,3132,5,3137,3140,7,3146,3149,5,3170,3171,5,3202,3203,7,3262,3262,7,3264,3265,7,3267,3268,7,3271,3272,7,3276,3277,5,3298,3299,5,3330,3331,7,3390,3390,5,3393,3396,5,3402,3404,7,3406,3406,1,3426,3427,5,3458,3459,7,3535,3535,5,3538,3540,5,3544,3550,7,3570,3571,7,3635,3635,7,3655,3662,5,3763,3763,7,3784,3789,5,3893,3893,5,3897,3897,5,3953,3966,5,3968,3972,5,3981,3991,5,4038,4038,5,4145,4145,7,4153,4154,5,4157,4158,5,4184,4185,5,4209,4212,5,4228,4228,7,4237,4237,5,4352,4447,8,4520,4607,10,5906,5908,5,5938,5939,5,5970,5971,5,6068,6069,5,6071,6077,5,6086,6086,5,6089,6099,5,6155,6157,5,6159,6159,5,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6862,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7679,5,8204,8204,5,8206,8207,4,8233,8233,4,8252,8252,14,8288,8292,4,8294,8303,4,8413,8416,5,8418,8420,5,8482,8482,14,8596,8601,14,8986,8987,14,9096,9096,14,9193,9196,14,9199,9199,14,9201,9202,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9729,14,9732,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9775,9775,14,9784,9785,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9874,14,9876,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9934,14,9936,9936,14,9938,9938,14,9940,9940,14,9961,9961,14,9963,9967,14,9970,9971,14,9973,9973,14,9975,9977,14,9979,9980,14,9982,9985,14,9987,9988,14,9992,9996,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10083,14,10085,10087,14,10145,10145,14,10175,10175,14,11013,11015,14,11088,11088,14,11503,11505,5,11744,11775,5,12334,12335,5,12349,12349,14,12951,12951,14,42607,42607,5,42612,42621,5,42736,42737,5,43014,43014,5,43043,43044,7,43047,43047,7,43136,43137,7,43204,43205,5,43263,43263,5,43335,43345,5,43360,43388,8,43395,43395,7,43444,43445,7,43450,43451,7,43454,43456,7,43561,43566,5,43569,43570,5,43573,43574,5,43596,43596,5,43644,43644,5,43698,43700,5,43710,43711,5,43755,43755,7,43758,43759,7,43766,43766,5,44005,44005,5,44008,44008,5,44012,44012,7,44032,44032,11,44060,44060,11,44088,44088,11,44116,44116,11,44144,44144,11,44172,44172,11,44200,44200,11,44228,44228,11,44256,44256,11,44284,44284,11,44312,44312,11,44340,44340,11,44368,44368,11,44396,44396,11,44424,44424,11,44452,44452,11,44480,44480,11,44508,44508,11,44536,44536,11,44564,44564,11,44592,44592,11,44620,44620,11,44648,44648,11,44676,44676,11,44704,44704,11,44732,44732,11,44760,44760,11,44788,44788,11,44816,44816,11,44844,44844,11,44872,44872,11,44900,44900,11,44928,44928,11,44956,44956,11,44984,44984,11,45012,45012,11,45040,45040,11,45068,45068,11,45096,45096,11,45124,45124,11,45152,45152,11,45180,45180,11,45208,45208,11,45236,45236,11,45264,45264,11,45292,45292,11,45320,45320,11,45348,45348,11,45376,45376,11,45404,45404,11,45432,45432,11,45460,45460,11,45488,45488,11,45516,45516,11,45544,45544,11,45572,45572,11,45600,45600,11,45628,45628,11,45656,45656,11,45684,45684,11,45712,45712,11,45740,45740,11,45768,45768,11,45796,45796,11,45824,45824,11,45852,45852,11,45880,45880,11,45908,45908,11,45936,45936,11,45964,45964,11,45992,45992,11,46020,46020,11,46048,46048,11,46076,46076,11,46104,46104,11,46132,46132,11,46160,46160,11,46188,46188,11,46216,46216,11,46244,46244,11,46272,46272,11,46300,46300,11,46328,46328,11,46356,46356,11,46384,46384,11,46412,46412,11,46440,46440,11,46468,46468,11,46496,46496,11,46524,46524,11,46552,46552,11,46580,46580,11,46608,46608,11,46636,46636,11,46664,46664,11,46692,46692,11,46720,46720,11,46748,46748,11,46776,46776,11,46804,46804,11,46832,46832,11,46860,46860,11,46888,46888,11,46916,46916,11,46944,46944,11,46972,46972,11,47000,47000,11,47028,47028,11,47056,47056,11,47084,47084,11,47112,47112,11,47140,47140,11,47168,47168,11,47196,47196,11,47224,47224,11,47252,47252,11,47280,47280,11,47308,47308,11,47336,47336,11,47364,47364,11,47392,47392,11,47420,47420,11,47448,47448,11,47476,47476,11,47504,47504,11,47532,47532,11,47560,47560,11,47588,47588,11,47616,47616,11,47644,47644,11,47672,47672,11,47700,47700,11,47728,47728,11,47756,47756,11,47784,47784,11,47812,47812,11,47840,47840,11,47868,47868,11,47896,47896,11,47924,47924,11,47952,47952,11,47980,47980,11,48008,48008,11,48036,48036,11,48064,48064,11,48092,48092,11,48120,48120,11,48148,48148,11,48176,48176,11,48204,48204,11,48232,48232,11,48260,48260,11,48288,48288,11,48316,48316,11,48344,48344,11,48372,48372,11,48400,48400,11,48428,48428,11,48456,48456,11,48484,48484,11,48512,48512,11,48540,48540,11,48568,48568,11,48596,48596,11,48624,48624,11,48652,48652,11,48680,48680,11,48708,48708,11,48736,48736,11,48764,48764,11,48792,48792,11,48820,48820,11,48848,48848,11,48876,48876,11,48904,48904,11,48932,48932,11,48960,48960,11,48988,48988,11,49016,49016,11,49044,49044,11,49072,49072,11,49100,49100,11,49128,49128,11,49156,49156,11,49184,49184,11,49212,49212,11,49240,49240,11,49268,49268,11,49296,49296,11,49324,49324,11,49352,49352,11,49380,49380,11,49408,49408,11,49436,49436,11,49464,49464,11,49492,49492,11,49520,49520,11,49548,49548,11,49576,49576,11,49604,49604,11,49632,49632,11,49660,49660,11,49688,49688,11,49716,49716,11,49744,49744,11,49772,49772,11,49800,49800,11,49828,49828,11,49856,49856,11,49884,49884,11,49912,49912,11,49940,49940,11,49968,49968,11,49996,49996,11,50024,50024,11,50052,50052,11,50080,50080,11,50108,50108,11,50136,50136,11,50164,50164,11,50192,50192,11,50220,50220,11,50248,50248,11,50276,50276,11,50304,50304,11,50332,50332,11,50360,50360,11,50388,50388,11,50416,50416,11,50444,50444,11,50472,50472,11,50500,50500,11,50528,50528,11,50556,50556,11,50584,50584,11,50612,50612,11,50640,50640,11,50668,50668,11,50696,50696,11,50724,50724,11,50752,50752,11,50780,50780,11,50808,50808,11,50836,50836,11,50864,50864,11,50892,50892,11,50920,50920,11,50948,50948,11,50976,50976,11,51004,51004,11,51032,51032,11,51060,51060,11,51088,51088,11,51116,51116,11,51144,51144,11,51172,51172,11,51200,51200,11,51228,51228,11,51256,51256,11,51284,51284,11,51312,51312,11,51340,51340,11,51368,51368,11,51396,51396,11,51424,51424,11,51452,51452,11,51480,51480,11,51508,51508,11,51536,51536,11,51564,51564,11,51592,51592,11,51620,51620,11,51648,51648,11,51676,51676,11,51704,51704,11,51732,51732,11,51760,51760,11,51788,51788,11,51816,51816,11,51844,51844,11,51872,51872,11,51900,51900,11,51928,51928,11,51956,51956,11,51984,51984,11,52012,52012,11,52040,52040,11,52068,52068,11,52096,52096,11,52124,52124,11,52152,52152,11,52180,52180,11,52208,52208,11,52236,52236,11,52264,52264,11,52292,52292,11,52320,52320,11,52348,52348,11,52376,52376,11,52404,52404,11,52432,52432,11,52460,52460,11,52488,52488,11,52516,52516,11,52544,52544,11,52572,52572,11,52600,52600,11,52628,52628,11,52656,52656,11,52684,52684,11,52712,52712,11,52740,52740,11,52768,52768,11,52796,52796,11,52824,52824,11,52852,52852,11,52880,52880,11,52908,52908,11,52936,52936,11,52964,52964,11,52992,52992,11,53020,53020,11,53048,53048,11,53076,53076,11,53104,53104,11,53132,53132,11,53160,53160,11,53188,53188,11,53216,53216,11,53244,53244,11,53272,53272,11,53300,53300,11,53328,53328,11,53356,53356,11,53384,53384,11,53412,53412,11,53440,53440,11,53468,53468,11,53496,53496,11,53524,53524,11,53552,53552,11,53580,53580,11,53608,53608,11,53636,53636,11,53664,53664,11,53692,53692,11,53720,53720,11,53748,53748,11,53776,53776,11,53804,53804,11,53832,53832,11,53860,53860,11,53888,53888,11,53916,53916,11,53944,53944,11,53972,53972,11,54000,54000,11,54028,54028,11,54056,54056,11,54084,54084,11,54112,54112,11,54140,54140,11,54168,54168,11,54196,54196,11,54224,54224,11,54252,54252,11,54280,54280,11,54308,54308,11,54336,54336,11,54364,54364,11,54392,54392,11,54420,54420,11,54448,54448,11,54476,54476,11,54504,54504,11,54532,54532,11,54560,54560,11,54588,54588,11,54616,54616,11,54644,54644,11,54672,54672,11,54700,54700,11,54728,54728,11,54756,54756,11,54784,54784,11,54812,54812,11,54840,54840,11,54868,54868,11,54896,54896,11,54924,54924,11,54952,54952,11,54980,54980,11,55008,55008,11,55036,55036,11,55064,55064,11,55092,55092,11,55120,55120,11,55148,55148,11,55176,55176,11,55216,55238,9,64286,64286,5,65056,65071,5,65438,65439,5,65529,65531,4,66272,66272,5,68097,68099,5,68108,68111,5,68159,68159,5,68900,68903,5,69446,69456,5,69632,69632,7,69634,69634,7,69744,69744,5,69759,69761,5,69808,69810,7,69815,69816,7,69821,69821,1,69837,69837,1,69927,69931,5,69933,69940,5,70003,70003,5,70018,70018,7,70070,70078,5,70082,70083,1,70094,70094,7,70188,70190,7,70194,70195,7,70197,70197,7,70206,70206,5,70368,70370,7,70400,70401,5,70459,70460,5,70463,70463,7,70465,70468,7,70475,70477,7,70498,70499,7,70512,70516,5,70712,70719,5,70722,70724,5,70726,70726,5,70832,70832,5,70835,70840,5,70842,70842,5,70845,70845,5,70847,70848,5,70850,70851,5,71088,71089,7,71096,71099,7,71102,71102,7,71132,71133,5,71219,71226,5,71229,71229,5,71231,71232,5,71340,71340,7,71342,71343,7,71350,71350,7,71453,71455,5,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,118528,118573,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123566,123566,5,125136,125142,5,126976,126979,14,126981,127182,14,127184,127231,14,127279,127279,14,127344,127345,14,127374,127374,14,127405,127461,14,127489,127490,14,127514,127514,14,127538,127546,14,127561,127567,14,127570,127743,14,127757,127758,14,127760,127760,14,127762,127762,14,127766,127768,14,127770,127770,14,127772,127772,14,127775,127776,14,127778,127779,14,127789,127791,14,127794,127795,14,127798,127798,14,127819,127819,14,127824,127824,14,127868,127868,14,127870,127871,14,127892,127893,14,127896,127896,14,127900,127901,14,127904,127940,14,127942,127942,14,127944,127944,14,127946,127946,14,127951,127955,14,127968,127971,14,127973,127984,14,127987,127987,14,127989,127989,14,127991,127991,14,127995,127999,5,128008,128008,14,128012,128014,14,128017,128018,14,128020,128020,14,128022,128022,14,128042,128042,14,128063,128063,14,128065,128065,14,128101,128101,14,128108,128109,14,128173,128173,14,128182,128183,14,128236,128237,14,128239,128239,14,128245,128245,14,128248,128248,14,128253,128253,14,128255,128258,14,128260,128263,14,128265,128265,14,128277,128277,14,128300,128301,14,128326,128328,14,128331,128334,14,128336,128347,14,128360,128366,14,128369,128370,14,128378,128378,14,128391,128391,14,128394,128397,14,128400,128400,14,128405,128406,14,128420,128420,14,128422,128423,14,128425,128432,14,128435,128443,14,128445,128449,14,128453,128464,14,128468,128475,14,128479,128480,14,128482,128482,14,128484,128487,14,128489,128494,14,128496,128498,14,128500,128505,14,128507,128511,14,128513,128518,14,128521,128525,14,128527,128527,14,128529,128529,14,128533,128533,14,128535,128535,14,128537,128537,14]")}()}getGraphemeBreakType(Fe){if(Fe<32)return 10===Fe?3:13===Fe?2:4;if(Fe<127)return 0;const He=this._data,Je=He.length/3;let ot=1;for(;ot<=Je;)if(Fe<He[3*ot])ot*=2;else{if(!(Fe>He[3*ot+1]))return He[3*ot+2];ot=2*ot+1}return 0}}return Q._INSTANCE=null,Q})();function ke(Q,le){if(0===Q)return 0;const Fe=function Pe(Q,le){const Fe=new K(le,Q);let He=Fe.prevCodePoint();for(;xe(He)||65039===He||8419===He;){if(0===Fe.offset)return;He=Fe.prevCodePoint()}if(!De(He))return;let Je=Fe.offset;return Je>0&&8205===Fe.prevCodePoint()&&(Je=Fe.offset),Je}(Q,le);if(void 0!==Fe)return Fe;const He=new K(le,Q);return He.prevCodePoint(),He.offset}function xe(Q){return 127995<=Q&&Q<=127999}const fe="\xa0";class be{static getInstance(le){return r.cache.get(Array.from(le))}static getLocales(){return r._locales.value}constructor(le){this.confusableDictionary=le}isAmbiguous(le){return this.confusableDictionary.has(le)}getPrimaryConfusable(le){return this.confusableDictionary.get(le)}getConfusableCodePoints(){return new Set(this.confusableDictionary.keys())}}r=be,be.ambiguousCharacterData=new P.o(()=>JSON.parse('{"_common":[8232,32,8233,32,5760,32,8192,32,8193,32,8194,32,8195,32,8196,32,8197,32,8198,32,8200,32,8201,32,8202,32,8287,32,8199,32,8239,32,2042,95,65101,95,65102,95,65103,95,8208,45,8209,45,8210,45,65112,45,1748,45,8259,45,727,45,8722,45,10134,45,11450,45,1549,44,1643,44,8218,44,184,44,42233,44,894,59,2307,58,2691,58,1417,58,1795,58,1796,58,5868,58,65072,58,6147,58,6153,58,8282,58,1475,58,760,58,42889,58,8758,58,720,58,42237,58,451,33,11601,33,660,63,577,63,2429,63,5038,63,42731,63,119149,46,8228,46,1793,46,1794,46,42510,46,68176,46,1632,46,1776,46,42232,46,1373,96,65287,96,8219,96,8242,96,1370,96,1523,96,8175,96,65344,96,900,96,8189,96,8125,96,8127,96,8190,96,697,96,884,96,712,96,714,96,715,96,756,96,699,96,701,96,700,96,702,96,42892,96,1497,96,2036,96,2037,96,5194,96,5836,96,94033,96,94034,96,65339,91,10088,40,10098,40,12308,40,64830,40,65341,93,10089,41,10099,41,12309,41,64831,41,10100,123,119060,123,10101,125,65342,94,8270,42,1645,42,8727,42,66335,42,5941,47,8257,47,8725,47,8260,47,9585,47,10187,47,10744,47,119354,47,12755,47,12339,47,11462,47,20031,47,12035,47,65340,92,65128,92,8726,92,10189,92,10741,92,10745,92,119311,92,119355,92,12756,92,20022,92,12034,92,42872,38,708,94,710,94,5869,43,10133,43,66203,43,8249,60,10094,60,706,60,119350,60,5176,60,5810,60,5120,61,11840,61,12448,61,42239,61,8250,62,10095,62,707,62,119351,62,5171,62,94015,62,8275,126,732,126,8128,126,8764,126,65372,124,65293,45,120784,50,120794,50,120804,50,120814,50,120824,50,130034,50,42842,50,423,50,1000,50,42564,50,5311,50,42735,50,119302,51,120785,51,120795,51,120805,51,120815,51,120825,51,130035,51,42923,51,540,51,439,51,42858,51,11468,51,1248,51,94011,51,71882,51,120786,52,120796,52,120806,52,120816,52,120826,52,130036,52,5070,52,71855,52,120787,53,120797,53,120807,53,120817,53,120827,53,130037,53,444,53,71867,53,120788,54,120798,54,120808,54,120818,54,120828,54,130038,54,11474,54,5102,54,71893,54,119314,55,120789,55,120799,55,120809,55,120819,55,120829,55,130039,55,66770,55,71878,55,2819,56,2538,56,2666,56,125131,56,120790,56,120800,56,120810,56,120820,56,120830,56,130040,56,547,56,546,56,66330,56,2663,57,2920,57,2541,57,3437,57,120791,57,120801,57,120811,57,120821,57,120831,57,130041,57,42862,57,11466,57,71884,57,71852,57,71894,57,9082,97,65345,97,119834,97,119886,97,119938,97,119990,97,120042,97,120094,97,120146,97,120198,97,120250,97,120302,97,120354,97,120406,97,120458,97,593,97,945,97,120514,97,120572,97,120630,97,120688,97,120746,97,65313,65,119808,65,119860,65,119912,65,119964,65,120016,65,120068,65,120120,65,120172,65,120224,65,120276,65,120328,65,120380,65,120432,65,913,65,120488,65,120546,65,120604,65,120662,65,120720,65,5034,65,5573,65,42222,65,94016,65,66208,65,119835,98,119887,98,119939,98,119991,98,120043,98,120095,98,120147,98,120199,98,120251,98,120303,98,120355,98,120407,98,120459,98,388,98,5071,98,5234,98,5551,98,65314,66,8492,66,119809,66,119861,66,119913,66,120017,66,120069,66,120121,66,120173,66,120225,66,120277,66,120329,66,120381,66,120433,66,42932,66,914,66,120489,66,120547,66,120605,66,120663,66,120721,66,5108,66,5623,66,42192,66,66178,66,66209,66,66305,66,65347,99,8573,99,119836,99,119888,99,119940,99,119992,99,120044,99,120096,99,120148,99,120200,99,120252,99,120304,99,120356,99,120408,99,120460,99,7428,99,1010,99,11429,99,43951,99,66621,99,128844,67,71922,67,71913,67,65315,67,8557,67,8450,67,8493,67,119810,67,119862,67,119914,67,119966,67,120018,67,120174,67,120226,67,120278,67,120330,67,120382,67,120434,67,1017,67,11428,67,5087,67,42202,67,66210,67,66306,67,66581,67,66844,67,8574,100,8518,100,119837,100,119889,100,119941,100,119993,100,120045,100,120097,100,120149,100,120201,100,120253,100,120305,100,120357,100,120409,100,120461,100,1281,100,5095,100,5231,100,42194,100,8558,68,8517,68,119811,68,119863,68,119915,68,119967,68,120019,68,120071,68,120123,68,120175,68,120227,68,120279,68,120331,68,120383,68,120435,68,5024,68,5598,68,5610,68,42195,68,8494,101,65349,101,8495,101,8519,101,119838,101,119890,101,119942,101,120046,101,120098,101,120150,101,120202,101,120254,101,120306,101,120358,101,120410,101,120462,101,43826,101,1213,101,8959,69,65317,69,8496,69,119812,69,119864,69,119916,69,120020,69,120072,69,120124,69,120176,69,120228,69,120280,69,120332,69,120384,69,120436,69,917,69,120492,69,120550,69,120608,69,120666,69,120724,69,11577,69,5036,69,42224,69,71846,69,71854,69,66182,69,119839,102,119891,102,119943,102,119995,102,120047,102,120099,102,120151,102,120203,102,120255,102,120307,102,120359,102,120411,102,120463,102,43829,102,42905,102,383,102,7837,102,1412,102,119315,70,8497,70,119813,70,119865,70,119917,70,120021,70,120073,70,120125,70,120177,70,120229,70,120281,70,120333,70,120385,70,120437,70,42904,70,988,70,120778,70,5556,70,42205,70,71874,70,71842,70,66183,70,66213,70,66853,70,65351,103,8458,103,119840,103,119892,103,119944,103,120048,103,120100,103,120152,103,120204,103,120256,103,120308,103,120360,103,120412,103,120464,103,609,103,7555,103,397,103,1409,103,119814,71,119866,71,119918,71,119970,71,120022,71,120074,71,120126,71,120178,71,120230,71,120282,71,120334,71,120386,71,120438,71,1292,71,5056,71,5107,71,42198,71,65352,104,8462,104,119841,104,119945,104,119997,104,120049,104,120101,104,120153,104,120205,104,120257,104,120309,104,120361,104,120413,104,120465,104,1211,104,1392,104,5058,104,65320,72,8459,72,8460,72,8461,72,119815,72,119867,72,119919,72,120023,72,120179,72,120231,72,120283,72,120335,72,120387,72,120439,72,919,72,120494,72,120552,72,120610,72,120668,72,120726,72,11406,72,5051,72,5500,72,42215,72,66255,72,731,105,9075,105,65353,105,8560,105,8505,105,8520,105,119842,105,119894,105,119946,105,119998,105,120050,105,120102,105,120154,105,120206,105,120258,105,120310,105,120362,105,120414,105,120466,105,120484,105,618,105,617,105,953,105,8126,105,890,105,120522,105,120580,105,120638,105,120696,105,120754,105,1110,105,42567,105,1231,105,43893,105,5029,105,71875,105,65354,106,8521,106,119843,106,119895,106,119947,106,119999,106,120051,106,120103,106,120155,106,120207,106,120259,106,120311,106,120363,106,120415,106,120467,106,1011,106,1112,106,65322,74,119817,74,119869,74,119921,74,119973,74,120025,74,120077,74,120129,74,120181,74,120233,74,120285,74,120337,74,120389,74,120441,74,42930,74,895,74,1032,74,5035,74,5261,74,42201,74,119844,107,119896,107,119948,107,120000,107,120052,107,120104,107,120156,107,120208,107,120260,107,120312,107,120364,107,120416,107,120468,107,8490,75,65323,75,119818,75,119870,75,119922,75,119974,75,120026,75,120078,75,120130,75,120182,75,120234,75,120286,75,120338,75,120390,75,120442,75,922,75,120497,75,120555,75,120613,75,120671,75,120729,75,11412,75,5094,75,5845,75,42199,75,66840,75,1472,108,8739,73,9213,73,65512,73,1633,108,1777,73,66336,108,125127,108,120783,73,120793,73,120803,73,120813,73,120823,73,130033,73,65321,73,8544,73,8464,73,8465,73,119816,73,119868,73,119920,73,120024,73,120128,73,120180,73,120232,73,120284,73,120336,73,120388,73,120440,73,65356,108,8572,73,8467,108,119845,108,119897,108,119949,108,120001,108,120053,108,120105,73,120157,73,120209,73,120261,73,120313,73,120365,73,120417,73,120469,73,448,73,120496,73,120554,73,120612,73,120670,73,120728,73,11410,73,1030,73,1216,73,1493,108,1503,108,1575,108,126464,108,126592,108,65166,108,65165,108,1994,108,11599,73,5825,73,42226,73,93992,73,66186,124,66313,124,119338,76,8556,76,8466,76,119819,76,119871,76,119923,76,120027,76,120079,76,120131,76,120183,76,120235,76,120287,76,120339,76,120391,76,120443,76,11472,76,5086,76,5290,76,42209,76,93974,76,71843,76,71858,76,66587,76,66854,76,65325,77,8559,77,8499,77,119820,77,119872,77,119924,77,120028,77,120080,77,120132,77,120184,77,120236,77,120288,77,120340,77,120392,77,120444,77,924,77,120499,77,120557,77,120615,77,120673,77,120731,77,1018,77,11416,77,5047,77,5616,77,5846,77,42207,77,66224,77,66321,77,119847,110,119899,110,119951,110,120003,110,120055,110,120107,110,120159,110,120211,110,120263,110,120315,110,120367,110,120419,110,120471,110,1400,110,1404,110,65326,78,8469,78,119821,78,119873,78,119925,78,119977,78,120029,78,120081,78,120185,78,120237,78,120289,78,120341,78,120393,78,120445,78,925,78,120500,78,120558,78,120616,78,120674,78,120732,78,11418,78,42208,78,66835,78,3074,111,3202,111,3330,111,3458,111,2406,111,2662,111,2790,111,3046,111,3174,111,3302,111,3430,111,3664,111,3792,111,4160,111,1637,111,1781,111,65359,111,8500,111,119848,111,119900,111,119952,111,120056,111,120108,111,120160,111,120212,111,120264,111,120316,111,120368,111,120420,111,120472,111,7439,111,7441,111,43837,111,959,111,120528,111,120586,111,120644,111,120702,111,120760,111,963,111,120532,111,120590,111,120648,111,120706,111,120764,111,11423,111,4351,111,1413,111,1505,111,1607,111,126500,111,126564,111,126596,111,65259,111,65260,111,65258,111,65257,111,1726,111,64428,111,64429,111,64427,111,64426,111,1729,111,64424,111,64425,111,64423,111,64422,111,1749,111,3360,111,4125,111,66794,111,71880,111,71895,111,66604,111,1984,79,2534,79,2918,79,12295,79,70864,79,71904,79,120782,79,120792,79,120802,79,120812,79,120822,79,130032,79,65327,79,119822,79,119874,79,119926,79,119978,79,120030,79,120082,79,120134,79,120186,79,120238,79,120290,79,120342,79,120394,79,120446,79,927,79,120502,79,120560,79,120618,79,120676,79,120734,79,11422,79,1365,79,11604,79,4816,79,2848,79,66754,79,42227,79,71861,79,66194,79,66219,79,66564,79,66838,79,9076,112,65360,112,119849,112,119901,112,119953,112,120005,112,120057,112,120109,112,120161,112,120213,112,120265,112,120317,112,120369,112,120421,112,120473,112,961,112,120530,112,120544,112,120588,112,120602,112,120646,112,120660,112,120704,112,120718,112,120762,112,120776,112,11427,112,65328,80,8473,80,119823,80,119875,80,119927,80,119979,80,120031,80,120083,80,120187,80,120239,80,120291,80,120343,80,120395,80,120447,80,929,80,120504,80,120562,80,120620,80,120678,80,120736,80,11426,80,5090,80,5229,80,42193,80,66197,80,119850,113,119902,113,119954,113,120006,113,120058,113,120110,113,120162,113,120214,113,120266,113,120318,113,120370,113,120422,113,120474,113,1307,113,1379,113,1382,113,8474,81,119824,81,119876,81,119928,81,119980,81,120032,81,120084,81,120188,81,120240,81,120292,81,120344,81,120396,81,120448,81,11605,81,119851,114,119903,114,119955,114,120007,114,120059,114,120111,114,120163,114,120215,114,120267,114,120319,114,120371,114,120423,114,120475,114,43847,114,43848,114,7462,114,11397,114,43905,114,119318,82,8475,82,8476,82,8477,82,119825,82,119877,82,119929,82,120033,82,120189,82,120241,82,120293,82,120345,82,120397,82,120449,82,422,82,5025,82,5074,82,66740,82,5511,82,42211,82,94005,82,65363,115,119852,115,119904,115,119956,115,120008,115,120060,115,120112,115,120164,115,120216,115,120268,115,120320,115,120372,115,120424,115,120476,115,42801,115,445,115,1109,115,43946,115,71873,115,66632,115,65331,83,119826,83,119878,83,119930,83,119982,83,120034,83,120086,83,120138,83,120190,83,120242,83,120294,83,120346,83,120398,83,120450,83,1029,83,1359,83,5077,83,5082,83,42210,83,94010,83,66198,83,66592,83,119853,116,119905,116,119957,116,120009,116,120061,116,120113,116,120165,116,120217,116,120269,116,120321,116,120373,116,120425,116,120477,116,8868,84,10201,84,128872,84,65332,84,119827,84,119879,84,119931,84,119983,84,120035,84,120087,84,120139,84,120191,84,120243,84,120295,84,120347,84,120399,84,120451,84,932,84,120507,84,120565,84,120623,84,120681,84,120739,84,11430,84,5026,84,42196,84,93962,84,71868,84,66199,84,66225,84,66325,84,119854,117,119906,117,119958,117,120010,117,120062,117,120114,117,120166,117,120218,117,120270,117,120322,117,120374,117,120426,117,120478,117,42911,117,7452,117,43854,117,43858,117,651,117,965,117,120534,117,120592,117,120650,117,120708,117,120766,117,1405,117,66806,117,71896,117,8746,85,8899,85,119828,85,119880,85,119932,85,119984,85,120036,85,120088,85,120140,85,120192,85,120244,85,120296,85,120348,85,120400,85,120452,85,1357,85,4608,85,66766,85,5196,85,42228,85,94018,85,71864,85,8744,118,8897,118,65366,118,8564,118,119855,118,119907,118,119959,118,120011,118,120063,118,120115,118,120167,118,120219,118,120271,118,120323,118,120375,118,120427,118,120479,118,7456,118,957,118,120526,118,120584,118,120642,118,120700,118,120758,118,1141,118,1496,118,71430,118,43945,118,71872,118,119309,86,1639,86,1783,86,8548,86,119829,86,119881,86,119933,86,119985,86,120037,86,120089,86,120141,86,120193,86,120245,86,120297,86,120349,86,120401,86,120453,86,1140,86,11576,86,5081,86,5167,86,42719,86,42214,86,93960,86,71840,86,66845,86,623,119,119856,119,119908,119,119960,119,120012,119,120064,119,120116,119,120168,119,120220,119,120272,119,120324,119,120376,119,120428,119,120480,119,7457,119,1121,119,1309,119,1377,119,71434,119,71438,119,71439,119,43907,119,71919,87,71910,87,119830,87,119882,87,119934,87,119986,87,120038,87,120090,87,120142,87,120194,87,120246,87,120298,87,120350,87,120402,87,120454,87,1308,87,5043,87,5076,87,42218,87,5742,120,10539,120,10540,120,10799,120,65368,120,8569,120,119857,120,119909,120,119961,120,120013,120,120065,120,120117,120,120169,120,120221,120,120273,120,120325,120,120377,120,120429,120,120481,120,5441,120,5501,120,5741,88,9587,88,66338,88,71916,88,65336,88,8553,88,119831,88,119883,88,119935,88,119987,88,120039,88,120091,88,120143,88,120195,88,120247,88,120299,88,120351,88,120403,88,120455,88,42931,88,935,88,120510,88,120568,88,120626,88,120684,88,120742,88,11436,88,11613,88,5815,88,42219,88,66192,88,66228,88,66327,88,66855,88,611,121,7564,121,65369,121,119858,121,119910,121,119962,121,120014,121,120066,121,120118,121,120170,121,120222,121,120274,121,120326,121,120378,121,120430,121,120482,121,655,121,7935,121,43866,121,947,121,8509,121,120516,121,120574,121,120632,121,120690,121,120748,121,1199,121,4327,121,71900,121,65337,89,119832,89,119884,89,119936,89,119988,89,120040,89,120092,89,120144,89,120196,89,120248,89,120300,89,120352,89,120404,89,120456,89,933,89,978,89,120508,89,120566,89,120624,89,120682,89,120740,89,11432,89,1198,89,5033,89,5053,89,42220,89,94019,89,71844,89,66226,89,119859,122,119911,122,119963,122,120015,122,120067,122,120119,122,120171,122,120223,122,120275,122,120327,122,120379,122,120431,122,120483,122,7458,122,43923,122,71876,122,66293,90,71909,90,65338,90,8484,90,8488,90,119833,90,119885,90,119937,90,119989,90,120041,90,120197,90,120249,90,120301,90,120353,90,120405,90,120457,90,918,90,120493,90,120551,90,120609,90,120667,90,120725,90,5059,90,42204,90,71849,90,65282,34,65284,36,65285,37,65286,38,65290,42,65291,43,65294,46,65295,47,65296,48,65297,49,65298,50,65299,51,65300,52,65301,53,65302,54,65303,55,65304,56,65305,57,65308,60,65309,61,65310,62,65312,64,65316,68,65318,70,65319,71,65324,76,65329,81,65330,82,65333,85,65334,86,65335,87,65343,95,65346,98,65348,100,65350,102,65355,107,65357,109,65358,110,65361,113,65362,114,65364,116,65365,117,65367,119,65370,122,65371,123,65373,125,119846,109],"_default":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"cs":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"de":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"es":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"fr":[65374,126,65306,58,65281,33,8216,96,8245,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"it":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ja":[8211,45,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65292,44,65307,59],"ko":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pl":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pt-BR":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"qps-ploc":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ru":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,305,105,921,73,1009,112,215,120,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"tr":[160,32,8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"zh-hans":[65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41],"zh-hant":[8211,45,65374,126,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65307,59]}')),be.cache=new f.t(Q=>{function le(Lt){const Tt=new Map;for(let Mt=0;Mt<Lt.length;Mt+=2)Tt.set(Lt[Mt],Lt[Mt+1]);return Tt}function He(Lt,Tt){if(!Lt)return Tt;const Mt=new Map;for(const[Ut,At]of Lt)Tt.has(Ut)&&Mt.set(Ut,At);return Mt}const Je=r.ambiguousCharacterData.value;let lt,ot=Q.filter(Lt=>!Lt.startsWith("_")&&Lt in Je);0===ot.length&&(ot=["_default"]);for(const Lt of ot)lt=He(lt,le(Je[Lt]));const ft=function Fe(Lt,Tt){const Mt=new Map(Lt);for(const[Ut,At]of Tt)Mt.set(Ut,At);return Mt}(le(Je._common),lt);return new r(ft)}),be._locales=new P.o(()=>Object.keys(r.ambiguousCharacterData.value).filter(Q=>!Q.startsWith("_")));class pe{static getRawData(){return JSON.parse("[9,10,11,12,13,32,127,160,173,847,1564,4447,4448,6068,6069,6155,6156,6157,6158,7355,7356,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8203,8204,8205,8206,8207,8234,8235,8236,8237,8238,8239,8287,8288,8289,8290,8291,8292,8293,8294,8295,8296,8297,8298,8299,8300,8301,8302,8303,10240,12288,12644,65024,65025,65026,65027,65028,65029,65030,65031,65032,65033,65034,65035,65036,65037,65038,65039,65279,65440,65520,65521,65522,65523,65524,65525,65526,65527,65528,65532,78844,119155,119156,119157,119158,119159,119160,119161,119162,917504,917505,917506,917507,917508,917509,917510,917511,917512,917513,917514,917515,917516,917517,917518,917519,917520,917521,917522,917523,917524,917525,917526,917527,917528,917529,917530,917531,917532,917533,917534,917535,917536,917537,917538,917539,917540,917541,917542,917543,917544,917545,917546,917547,917548,917549,917550,917551,917552,917553,917554,917555,917556,917557,917558,917559,917560,917561,917562,917563,917564,917565,917566,917567,917568,917569,917570,917571,917572,917573,917574,917575,917576,917577,917578,917579,917580,917581,917582,917583,917584,917585,917586,917587,917588,917589,917590,917591,917592,917593,917594,917595,917596,917597,917598,917599,917600,917601,917602,917603,917604,917605,917606,917607,917608,917609,917610,917611,917612,917613,917614,917615,917616,917617,917618,917619,917620,917621,917622,917623,917624,917625,917626,917627,917628,917629,917630,917631,917760,917761,917762,917763,917764,917765,917766,917767,917768,917769,917770,917771,917772,917773,917774,917775,917776,917777,917778,917779,917780,917781,917782,917783,917784,917785,917786,917787,917788,917789,917790,917791,917792,917793,917794,917795,917796,917797,917798,917799,917800,917801,917802,917803,917804,917805,917806,917807,917808,917809,917810,917811,917812,917813,917814,917815,917816,917817,917818,917819,917820,917821,917822,917823,917824,917825,917826,917827,917828,917829,917830,917831,917832,917833,917834,917835,917836,917837,917838,917839,917840,917841,917842,917843,917844,917845,917846,917847,917848,917849,917850,917851,917852,917853,917854,917855,917856,917857,917858,917859,917860,917861,917862,917863,917864,917865,917866,917867,917868,917869,917870,917871,917872,917873,917874,917875,917876,917877,917878,917879,917880,917881,917882,917883,917884,917885,917886,917887,917888,917889,917890,917891,917892,917893,917894,917895,917896,917897,917898,917899,917900,917901,917902,917903,917904,917905,917906,917907,917908,917909,917910,917911,917912,917913,917914,917915,917916,917917,917918,917919,917920,917921,917922,917923,917924,917925,917926,917927,917928,917929,917930,917931,917932,917933,917934,917935,917936,917937,917938,917939,917940,917941,917942,917943,917944,917945,917946,917947,917948,917949,917950,917951,917952,917953,917954,917955,917956,917957,917958,917959,917960,917961,917962,917963,917964,917965,917966,917967,917968,917969,917970,917971,917972,917973,917974,917975,917976,917977,917978,917979,917980,917981,917982,917983,917984,917985,917986,917987,917988,917989,917990,917991,917992,917993,917994,917995,917996,917997,917998,917999]")}static getData(){return this._data||(this._data=new Set(pe.getRawData())),this._data}static isInvisibleCharacter(le){return pe.getData().has(le)}static get codePoints(){return pe.getData()}}pe._data=void 0},73447:(Xe,we,e)=>{e.d(we,{n:()=>f});const f=Symbol("MicrotaskDelay")},95619:(Xe,we,e)=>{e.d(we,{Id:()=>T});var f=e(16055);class P{constructor(){this._value="",this._pos=0}reset(L){return this._value=L,this._pos=0,this}next(){return this._pos+=1,this}hasNext(){return this._pos<this._value.length-1}cmp(L){return L.charCodeAt(0)-this._value.charCodeAt(this._pos)}value(){return this._value[this._pos]}}class r{constructor(L=!0){this._caseSensitive=L}reset(L){return this._value=L,this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let L=!0;for(;this._to<this._value.length;this._to++)if(46===this._value.charCodeAt(this._to)){if(!L)break;this._from++}else L=!1;return this}cmp(L){return this._caseSensitive?(0,f.TT)(L,this._value,0,L.length,this._from,this._to):(0,f.j_)(L,this._value,0,L.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class y{constructor(L=!0,p=!0){this._splitOnBackslash=L,this._caseSensitive=p}reset(L){this._from=0,this._to=0,this._value=L,this._valueLen=L.length;for(let p=L.length-1;p>=0;p--,this._valueLen--){const c=this._value.charCodeAt(p);if(!(47===c||this._splitOnBackslash&&92===c))break}return this.next()}hasNext(){return this._to<this._valueLen}next(){this._from=this._to;let L=!0;for(;this._to<this._valueLen;this._to++){const p=this._value.charCodeAt(this._to);if(47===p||this._splitOnBackslash&&92===p){if(!L)break;this._from++}else L=!1}return this}cmp(L){return this._caseSensitive?(0,f.TT)(L,this._value,0,L.length,this._from,this._to):(0,f.j_)(L,this._value,0,L.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class v{constructor(L,p){this._ignorePathCasing=L,this._ignoreQueryAndFragment=p,this._states=[],this._stateIdx=0}reset(L){return this._value=L,this._states=[],this._value.scheme&&this._states.push(1),this._value.authority&&this._states.push(2),this._value.path&&(this._pathIterator=new y(!1,!this._ignorePathCasing(L)),this._pathIterator.reset(L.path),this._pathIterator.value()&&this._states.push(3)),this._ignoreQueryAndFragment(L)||(this._value.query&&this._states.push(4),this._value.fragment&&this._states.push(5)),this._stateIdx=0,this}next(){return 3===this._states[this._stateIdx]&&this._pathIterator.hasNext()?this._pathIterator.next():this._stateIdx+=1,this}hasNext(){return 3===this._states[this._stateIdx]&&this._pathIterator.hasNext()||this._stateIdx<this._states.length-1}cmp(L){if(1===this._states[this._stateIdx])return(0,f.zY)(L,this._value.scheme);if(2===this._states[this._stateIdx])return(0,f.zY)(L,this._value.authority);if(3===this._states[this._stateIdx])return this._pathIterator.cmp(L);if(4===this._states[this._stateIdx])return(0,f.qu)(L,this._value.query);if(5===this._states[this._stateIdx])return(0,f.qu)(L,this._value.fragment);throw new Error}value(){if(1===this._states[this._stateIdx])return this._value.scheme;if(2===this._states[this._stateIdx])return this._value.authority;if(3===this._states[this._stateIdx])return this._pathIterator.value();if(4===this._states[this._stateIdx])return this._value.query;if(5===this._states[this._stateIdx])return this._value.fragment;throw new Error}}class S{constructor(){this.height=1}rotateLeft(){const L=this.right;return this.right=L.left,L.left=this,this.updateHeight(),L.updateHeight(),L}rotateRight(){const L=this.left;return this.left=L.right,L.right=this,this.updateHeight(),L.updateHeight(),L}updateHeight(){this.height=1+Math.max(this.heightLeft,this.heightRight)}balanceFactor(){return this.heightRight-this.heightLeft}get heightLeft(){var L,p;return null!==(p=null===(L=this.left)||void 0===L?void 0:L.height)&&void 0!==p?p:0}get heightRight(){var L,p;return null!==(p=null===(L=this.right)||void 0===L?void 0:L.height)&&void 0!==p?p:0}}class T{static forUris(L=(()=>!1),p=(()=>!1)){return new T(new v(L,p))}static forStrings(){return new T(new P)}static forConfigKeys(){return new T(new r)}constructor(L){this._iter=L}clear(){this._root=void 0}set(L,p){const c=this._iter.reset(L);let u;this._root||(this._root=new S,this._root.segment=c.value());const g=[];for(u=this._root;;){const d=c.cmp(u.segment);if(d>0)u.left||(u.left=new S,u.left.segment=c.value()),g.push([-1,u]),u=u.left;else if(d<0)u.right||(u.right=new S,u.right.segment=c.value()),g.push([1,u]),u=u.right;else{if(!c.hasNext())break;c.next(),u.mid||(u.mid=new S,u.mid.segment=c.value()),g.push([0,u]),u=u.mid}}const i=u.value;u.value=p,u.key=L;for(let d=g.length-1;d>=0;d--){const a=g[d][1];a.updateHeight();const m=a.balanceFactor();if(m<-1||m>1){const l=g[d][0],I=g[d+1][0];if(1===l&&1===I)g[d][1]=a.rotateLeft();else if(-1===l&&-1===I)g[d][1]=a.rotateRight();else if(1===l&&-1===I)a.right=g[d+1][1]=g[d+1][1].rotateRight(),g[d][1]=a.rotateLeft();else{if(-1!==l||1!==I)throw new Error;a.left=g[d+1][1]=g[d+1][1].rotateLeft(),g[d][1]=a.rotateRight()}if(d>0)switch(g[d-1][0]){case-1:g[d-1][1].left=g[d][1];break;case 1:g[d-1][1].right=g[d][1];break;case 0:g[d-1][1].mid=g[d][1]}else this._root=g[0][1]}}return i}get(L){var p;return null===(p=this._getNode(L))||void 0===p?void 0:p.value}_getNode(L){const p=this._iter.reset(L);let c=this._root;for(;c;){const u=p.cmp(c.segment);if(u>0)c=c.left;else if(u<0)c=c.right;else{if(!p.hasNext())break;p.next(),c=c.mid}}return c}has(L){const p=this._getNode(L);return!(void 0===p?.value&&void 0===p?.mid)}delete(L){return this._delete(L,!1)}deleteSuperstr(L){return this._delete(L,!0)}_delete(L,p){var c;const u=this._iter.reset(L),g=[];let i=this._root;for(;i;){const d=u.cmp(i.segment);if(d>0)g.push([-1,i]),i=i.left;else if(d<0)g.push([1,i]),i=i.right;else{if(!u.hasNext())break;u.next(),g.push([0,i]),i=i.mid}}if(i){if(p?(i.left=void 0,i.mid=void 0,i.right=void 0,i.height=1):(i.key=void 0,i.value=void 0),!i.mid&&!i.value)if(i.left&&i.right){const d=this._min(i.right);if(d.key){const{key:a,value:m,segment:l}=d;this._delete(d.key,!1),i.key=a,i.value=m,i.segment=l}}else{const d=null!==(c=i.left)&&void 0!==c?c:i.right;if(g.length>0){const[a,m]=g[g.length-1];switch(a){case-1:m.left=d;break;case 0:m.mid=d;break;case 1:m.right=d}}else this._root=d}for(let d=g.length-1;d>=0;d--){const a=g[d][1];a.updateHeight();const m=a.balanceFactor();if(m>1?(a.right.balanceFactor()>=0||(a.right=a.right.rotateRight()),g[d][1]=a.rotateLeft()):m<-1&&(a.left.balanceFactor()<=0||(a.left=a.left.rotateLeft()),g[d][1]=a.rotateRight()),d>0)switch(g[d-1][0]){case-1:g[d-1][1].left=g[d][1];break;case 1:g[d-1][1].right=g[d][1];break;case 0:g[d-1][1].mid=g[d][1]}else this._root=g[0][1]}}}_min(L){for(;L.left;)L=L.left;return L}findSubstr(L){const p=this._iter.reset(L);let u,c=this._root;for(;c;){const g=p.cmp(c.segment);if(g>0)c=c.left;else if(g<0)c=c.right;else{if(!p.hasNext())break;p.next(),u=c.value||u,c=c.mid}}return c&&c.value||u}findSuperstr(L){return this._findSuperstrOrElement(L,!1)}_findSuperstrOrElement(L,p){const c=this._iter.reset(L);let u=this._root;for(;u;){const g=c.cmp(u.segment);if(g>0)u=u.left;else if(g<0)u=u.right;else{if(!c.hasNext())return u.mid?this._entries(u.mid):p?u.value:void 0;c.next(),u=u.mid}}}forEach(L){for(const[p,c]of this)L(c,p)}*[Symbol.iterator](){yield*this._entries(this._root)}_entries(L){const p=[];return this._dfsEntries(L,p),p[Symbol.iterator]()}_dfsEntries(L,p){L&&(L.left&&this._dfsEntries(L.left,p),L.value&&p.push([L.key,L.value]),L.mid&&this._dfsEntries(L.mid,p),L.right&&this._dfsEntries(L.right,p))}}},35053:(Xe,we,e)=>{e.d(we,{k:()=>r});var P,r,f=e(27222);(P||(P={})).isThemeColor=function v(S){return S&&"object"==typeof S&&"string"==typeof S.id},function(y){y.iconNameSegment="[A-Za-z0-9]+",y.iconNameExpression="[A-Za-z0-9-]+",y.iconModifierExpression="~[A-Za-z]+",y.iconNameCharacter="[A-Za-z0-9~-]";const v=new RegExp(`^(${y.iconNameExpression})(${y.iconModifierExpression})?$`);function S(a){const m=v.exec(a.id);if(!m)return S(f.l.error);const[,l,I]=m,w=["codicon","codicon-"+l];return I&&w.push("codicon-modifier-"+I.substring(1)),w}y.asClassNameArray=S,y.asClassName=function T(a){return S(a).join(" ")},y.asCSSSelector=function E(a){return"."+S(a).join(".")},y.isThemeIcon=function L(a){return a&&"object"==typeof a&&"string"==typeof a.id&&(typeof a.color>"u"||P.isThemeColor(a.color))};const p=new RegExp(`^\\$\\((${y.iconNameExpression}(?:${y.iconModifierExpression})?)\\)$`);y.fromString=function c(a){const m=p.exec(a);if(!m)return;const[,l]=m;return{id:l}},y.fromId=function u(a){return{id:a}},y.modify=function g(a,m){let l=a.id;const I=l.lastIndexOf("~");return-1!==I&&(l=l.substring(0,I)),m&&(l=`${l}~${m}`),{id:l}},y.getModifier=function i(a){const m=a.id.lastIndexOf("~");if(-1!==m)return a.id.substring(m+1)},y.isEqual=function d(a,m){var l,I;return a.id===m.id&&(null===(l=a.color)||void 0===l?void 0:l.id)===(null===(I=m.color)||void 0===I?void 0:I.id)}}(r||(r={}))},91402:(Xe,we,e)=>{function f(d){return"string"==typeof d}function P(d){return!("object"!=typeof d||null===d||Array.isArray(d)||d instanceof RegExp||d instanceof Date)}function r(d){const a=Object.getPrototypeOf(Uint8Array);return"object"==typeof d&&d instanceof a}function y(d){return"number"==typeof d&&!isNaN(d)}function v(d){return!!d&&"function"==typeof d[Symbol.iterator]}function S(d){return!0===d||!1===d}function T(d){return typeof d>"u"}function E(d){return!L(d)}function L(d){return T(d)||null===d}function p(d,a){if(!d)throw new Error(a?`Unexpected type, expected '${a}'`:"Unexpected type")}function c(d){if(L(d))throw new Error("Assertion Failed: argument is undefined or null");return d}function u(d){return"function"==typeof d}function g(d,a){const m=Math.min(d.length,a.length);for(let l=0;l<m;l++)i(d[l],a[l])}function i(d,a){if(f(a)){if(typeof d!==a)throw new Error(`argument does not match constraint: typeof ${a}`)}else if(u(a)){try{if(d instanceof a)return}catch{}if(!L(d)&&d.constructor===a||1===a.length&&!0===a.call(void 0,d))return;throw new Error("argument does not match one of these constraints: arg instanceof constraint, arg.constructor === constraint, nor constraint(arg) === true")}}e.d(we,{$K:()=>E,D8:()=>g,HD:()=>f,Jp:()=>L,Kn:()=>P,TW:()=>v,cW:()=>c,fU:()=>r,hj:()=>y,jn:()=>S,mf:()=>u,o8:()=>T,p_:()=>p})},7309:(Xe,we,e)=>{function f(r){return r<0?0:r>255?255:0|r}function P(r){return r<0?0:r>4294967295?4294967295:0|r}e.d(we,{A:()=>P,K:()=>f})},15850:(Xe,we,e)=>{e.d(we,{o:()=>u,q:()=>l});var f=e(52356),P=e(88593);const r=/^\w[\w\d+.-]*$/,y=/^\//,v=/^\/\//,L="",p="/",c=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class u{static isUri(k){return k instanceof u||!!k&&"string"==typeof k.authority&&"string"==typeof k.fragment&&"string"==typeof k.path&&"string"==typeof k.query&&"string"==typeof k.scheme&&"string"==typeof k.fsPath&&"function"==typeof k.with&&"function"==typeof k.toString}constructor(k,R,O,W,z,U=!1){"object"==typeof k?(this.scheme=k.scheme||L,this.authority=k.authority||L,this.path=k.path||L,this.query=k.query||L,this.fragment=k.fragment||L):(this.scheme=function T(A,k){return A||k?A:"file"}(k,U),this.authority=R||L,this.path=function E(A,k){switch(A){case"https":case"http":case"file":k?k[0]!==p&&(k=p+k):k=p}return k}(this.scheme,O||L),this.query=W||L,this.fragment=z||L,function S(A,k){if(!A.scheme&&k)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${A.authority}", path: "${A.path}", query: "${A.query}", fragment: "${A.fragment}"}`);if(A.scheme&&!r.test(A.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(A.path)if(A.authority){if(!y.test(A.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(v.test(A.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}(this,U))}get fsPath(){return l(this,!1)}with(k){if(!k)return this;let{scheme:R,authority:O,path:W,query:z,fragment:U}=k;return void 0===R?R=this.scheme:null===R&&(R=L),void 0===O?O=this.authority:null===O&&(O=L),void 0===W?W=this.path:null===W&&(W=L),void 0===z?z=this.query:null===z&&(z=L),void 0===U?U=this.fragment:null===U&&(U=L),R===this.scheme&&O===this.authority&&W===this.path&&z===this.query&&U===this.fragment?this:new i(R,O,W,z,U)}static parse(k,R=!1){const O=c.exec(k);return O?new i(O[2]||L,N(O[4]||L),N(O[5]||L),N(O[7]||L),N(O[9]||L),R):new i(L,L,L,L,L)}static file(k){let R=L;if(P.ED&&(k=k.replace(/\\/g,p)),k[0]===p&&k[1]===p){const O=k.indexOf(p,2);-1===O?(R=k.substring(2),k=p):(R=k.substring(2,O),k=k.substring(O)||p)}return new i("file",R,k,L,L)}static from(k,R){return new i(k.scheme,k.authority,k.path,k.query,k.fragment,R)}static joinPath(k,...R){if(!k.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let O;return O=P.ED&&"file"===k.scheme?u.file(f.Ku.join(l(k,!0),...R)).path:f.KR.join(k.path,...R),k.with({path:O})}toString(k=!1){return I(this,k)}toJSON(){return this}static revive(k){var R,O;if(k){if(k instanceof u)return k;{const W=new i(k);return W._formatted=null!==(R=k.external)&&void 0!==R?R:null,W._fsPath=k._sep===g&&null!==(O=k.fsPath)&&void 0!==O?O:null,W}}return k}}const g=P.ED?1:void 0;class i extends u{constructor(){super(...arguments),this._formatted=null,this._fsPath=null}get fsPath(){return this._fsPath||(this._fsPath=l(this,!1)),this._fsPath}toString(k=!1){return k?I(this,!0):(this._formatted||(this._formatted=I(this,!1)),this._formatted)}toJSON(){const k={$mid:1};return this._fsPath&&(k.fsPath=this._fsPath,k._sep=g),this._formatted&&(k.external=this._formatted),this.path&&(k.path=this.path),this.scheme&&(k.scheme=this.scheme),this.authority&&(k.authority=this.authority),this.query&&(k.query=this.query),this.fragment&&(k.fragment=this.fragment),k}}const d={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function a(A,k,R){let O,W=-1;for(let z=0;z<A.length;z++){const U=A.charCodeAt(z);if(U>=97&&U<=122||U>=65&&U<=90||U>=48&&U<=57||45===U||46===U||95===U||126===U||k&&47===U||R&&91===U||R&&93===U||R&&58===U)-1!==W&&(O+=encodeURIComponent(A.substring(W,z)),W=-1),void 0!==O&&(O+=A.charAt(z));else{void 0===O&&(O=A.substr(0,z));const ee=d[U];void 0!==ee?(-1!==W&&(O+=encodeURIComponent(A.substring(W,z)),W=-1),O+=ee):-1===W&&(W=z)}}return-1!==W&&(O+=encodeURIComponent(A.substring(W))),void 0!==O?O:A}function m(A){let k;for(let R=0;R<A.length;R++){const O=A.charCodeAt(R);35===O||63===O?(void 0===k&&(k=A.substr(0,R)),k+=d[O]):void 0!==k&&(k+=A[R])}return void 0!==k?k:A}function l(A,k){let R;return R=A.authority&&A.path.length>1&&"file"===A.scheme?`//${A.authority}${A.path}`:47===A.path.charCodeAt(0)&&(A.path.charCodeAt(1)>=65&&A.path.charCodeAt(1)<=90||A.path.charCodeAt(1)>=97&&A.path.charCodeAt(1)<=122)&&58===A.path.charCodeAt(2)?k?A.path.substr(1):A.path[1].toLowerCase()+A.path.substr(2):A.path,P.ED&&(R=R.replace(/\//g,"\\")),R}function I(A,k){const R=k?m:a;let O="",{scheme:W,authority:z,path:U,query:ee,fragment:B}=A;if(W&&(O+=W,O+=":"),(z||"file"===W)&&(O+=p,O+=p),z){let G=z.indexOf("@");if(-1!==G){const se=z.substr(0,G);z=z.substr(G+1),G=se.lastIndexOf(":"),-1===G?O+=R(se,!1,!1):(O+=R(se.substr(0,G),!1,!1),O+=":",O+=R(se.substr(G+1),!1,!0)),O+="@"}z=z.toLowerCase(),G=z.lastIndexOf(":"),-1===G?O+=R(z,!1,!0):(O+=R(z.substr(0,G),!1,!0),O+=z.substr(G))}if(U){if(U.length>=3&&47===U.charCodeAt(0)&&58===U.charCodeAt(2)){const G=U.charCodeAt(1);G>=65&&G<=90&&(U=`/${String.fromCharCode(G+32)}:${U.substr(3)}`)}else if(U.length>=2&&58===U.charCodeAt(1)){const G=U.charCodeAt(0);G>=65&&G<=90&&(U=`${String.fromCharCode(G+32)}:${U.substr(2)}`)}O+=R(U,!0,!1)}return ee&&(O+="?",O+=R(ee,!1,!1)),B&&(O+="#",O+=k?B:a(B,!1,!1)),O}function w(A){try{return decodeURIComponent(A)}catch{return A.length>3?A.substr(0,3)+w(A.substr(3)):A}}const D=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function N(A){return A.match(D)?A.replace(D,k=>w(k)):A}},58778:(Xe,we,e)=>{e.d(we,{R:()=>f});const f=function(){if("object"==typeof crypto&&"function"==typeof crypto.randomUUID)return crypto.randomUUID.bind(crypto);let P;P="object"==typeof crypto&&"function"==typeof crypto.getRandomValues?crypto.getRandomValues.bind(crypto):function(v){for(let S=0;S<v.length;S++)v[S]=Math.floor(256*Math.random());return v};const r=new Uint8Array(16),y=[];for(let v=0;v<256;v++)y.push(v.toString(16).padStart(2,"0"));return function(){P(r),r[6]=15&r[6]|64,r[8]=63&r[8]|128;let S=0,T="";return T+=y[r[S++]],T+=y[r[S++]],T+=y[r[S++]],T+=y[r[S++]],T+="-",T+=y[r[S++]],T+=y[r[S++]],T+="-",T+=y[r[S++]],T+=y[r[S++]],T+="-",T+=y[r[S++]],T+=y[r[S++]],T+="-",T+=y[r[S++]],T+=y[r[S++]],T+=y[r[S++]],T+=y[r[S++]],T+=y[r[S++]],T+=y[r[S++]],T}}()},74887:(Xe,we,e)=>{e.d(we,{H:()=>d});var f=e(15861),P=e(8673),r=Object.defineProperty,y=Object.getOwnPropertyDescriptor,v=Object.getOwnPropertyNames,S=Object.prototype.hasOwnProperty,T=(a,m,l,I)=>{if(m&&"object"==typeof m||"function"==typeof m)for(let w of v(m))!S.call(a,w)&&w!==l&&r(a,w,{get:()=>m[w],enumerable:!(I=y(m,w))||I.enumerable});return a},L={};T(L,P,"default");var p={},c={},u=class{static getOrCreate(a){return c[a]||(c[a]=new u(a)),c[a]}_languageId;_loadingTriggered;_lazyLoadPromise;_lazyLoadPromiseResolve;_lazyLoadPromiseReject;constructor(a){this._languageId=a,this._loadingTriggered=!1,this._lazyLoadPromise=new Promise((m,l)=>{this._lazyLoadPromiseResolve=m,this._lazyLoadPromiseReject=l})}load(){return this._loadingTriggered||(this._loadingTriggered=!0,p[this._languageId].loader().then(a=>this._lazyLoadPromiseResolve(a),a=>this._lazyLoadPromiseReject(a))),this._lazyLoadPromise}};function d(a){const m=a.id;p[m]=a,L.languages.register(a);const l=u.getOrCreate(m);var I;L.languages.registerTokensProviderFactory(m,{create:(I=(0,f.Z)(function*(){return(yield l.load()).language}),function(){return I.apply(this,arguments)})}),L.languages.onLanguageEncountered(m,(0,f.Z)(function*(){const I=yield l.load();L.languages.setLanguageConfiguration(m,I.conf)}))}},19550:(Xe,we,e)=>{(0,e(74887).H)({id:"abap",extensions:[".abap"],aliases:["abap","ABAP"],loader:()=>e.e(9339).then(e.bind(e,99339))})},52782:(Xe,we,e)=>{(0,e(74887).H)({id:"apex",extensions:[".cls"],aliases:["Apex","apex"],mimetypes:["text/x-apex-source","text/x-apex"],loader:()=>e.e(9802).then(e.bind(e,29802))})},53669:(Xe,we,e)=>{(0,e(74887).H)({id:"azcli",extensions:[".azcli"],aliases:["Azure CLI","azcli"],loader:()=>e.e(7557).then(e.bind(e,87557))})},95548:(Xe,we,e)=>{(0,e(74887).H)({id:"bat",extensions:[".bat",".cmd"],aliases:["Batch","bat"],loader:()=>e.e(2752).then(e.bind(e,2752))})},9117:(Xe,we,e)=>{(0,e(74887).H)({id:"bicep",extensions:[".bicep"],aliases:["Bicep"],loader:()=>e.e(7540).then(e.bind(e,57540))})},37899:(Xe,we,e)=>{(0,e(74887).H)({id:"cameligo",extensions:[".mligo"],aliases:["Cameligo"],loader:()=>e.e(1699).then(e.bind(e,51699))})},68144:(Xe,we,e)=>{(0,e(74887).H)({id:"clojure",extensions:[".clj",".cljs",".cljc",".edn"],aliases:["clojure","Clojure"],loader:()=>e.e(948).then(e.bind(e,80948))})},40312:(Xe,we,e)=>{(0,e(74887).H)({id:"coffeescript",extensions:[".coffee"],aliases:["CoffeeScript","coffeescript","coffee"],mimetypes:["text/x-coffeescript","text/coffeescript"],loader:()=>e.e(3628).then(e.bind(e,13628))})},3505:(Xe,we,e)=>{var f=e(74887);(0,f.H)({id:"c",extensions:[".c",".h"],aliases:["C","c"],loader:()=>e.e(2168).then(e.bind(e,22168))}),(0,f.H)({id:"cpp",extensions:[".cpp",".cc",".cxx",".hpp",".hh",".hxx"],aliases:["C++","Cpp","cpp"],loader:()=>e.e(2168).then(e.bind(e,22168))})},87802:(Xe,we,e)=>{(0,e(74887).H)({id:"csharp",extensions:[".cs",".csx",".cake"],aliases:["C#","csharp"],loader:()=>e.e(3906).then(e.bind(e,43906))})},61431:(Xe,we,e)=>{(0,e(74887).H)({id:"csp",extensions:[],aliases:["CSP","csp"],loader:()=>e.e(5603).then(e.bind(e,15603))})},57982:(Xe,we,e)=>{(0,e(74887).H)({id:"css",extensions:[".css"],aliases:["CSS","css"],mimetypes:["text/css"],loader:()=>e.e(1772).then(e.bind(e,31772))})},37751:(Xe,we,e)=>{(0,e(74887).H)({id:"cypher",extensions:[".cypher",".cyp"],aliases:["Cypher","OpenCypher"],loader:()=>e.e(1674).then(e.bind(e,79913))})},50489:(Xe,we,e)=>{(0,e(74887).H)({id:"dart",extensions:[".dart"],aliases:["Dart","dart"],mimetypes:["text/x-dart-source","text/x-dart"],loader:()=>e.e(4791).then(e.bind(e,4791))})},8001:(Xe,we,e)=>{(0,e(74887).H)({id:"dockerfile",extensions:[".dockerfile"],filenames:["Dockerfile"],aliases:["Dockerfile"],loader:()=>e.e(1379).then(e.bind(e,21379))})},35372:(Xe,we,e)=>{(0,e(74887).H)({id:"ecl",extensions:[".ecl"],aliases:["ECL","Ecl","ecl"],loader:()=>e.e(2887).then(e.bind(e,62887))})},29728:(Xe,we,e)=>{(0,e(74887).H)({id:"elixir",extensions:[".ex",".exs"],aliases:["Elixir","elixir","ex"],loader:()=>e.e(5506).then(e.bind(e,95506))})},39846:(Xe,we,e)=>{(0,e(74887).H)({id:"flow9",extensions:[".flow"],aliases:["Flow9","Flow","flow9","flow"],loader:()=>e.e(8331).then(e.bind(e,28331))})},58004:(Xe,we,e)=>{var f=e(74887);(0,f.H)({id:"freemarker2",extensions:[".ftl",".ftlh",".ftlx"],aliases:["FreeMarker2","Apache FreeMarker2"],loader:()=>e.e(9975).then(e.bind(e,9975)).then(P=>P.TagAutoInterpolationDollar)}),(0,f.H)({id:"freemarker2.tag-angle.interpolation-dollar",aliases:["FreeMarker2 (Angle/Dollar)","Apache FreeMarker2 (Angle/Dollar)"],loader:()=>e.e(9975).then(e.bind(e,9975)).then(P=>P.TagAngleInterpolationDollar)}),(0,f.H)({id:"freemarker2.tag-bracket.interpolation-dollar",aliases:["FreeMarker2 (Bracket/Dollar)","Apache FreeMarker2 (Bracket/Dollar)"],loader:()=>e.e(9975).then(e.bind(e,9975)).then(P=>P.TagBracketInterpolationDollar)}),(0,f.H)({id:"freemarker2.tag-angle.interpolation-bracket",aliases:["FreeMarker2 (Angle/Bracket)","Apache FreeMarker2 (Angle/Bracket)"],loader:()=>e.e(9975).then(e.bind(e,9975)).then(P=>P.TagAngleInterpolationBracket)}),(0,f.H)({id:"freemarker2.tag-bracket.interpolation-bracket",aliases:["FreeMarker2 (Bracket/Bracket)","Apache FreeMarker2 (Bracket/Bracket)"],loader:()=>e.e(9975).then(e.bind(e,9975)).then(P=>P.TagBracketInterpolationBracket)}),(0,f.H)({id:"freemarker2.tag-auto.interpolation-dollar",aliases:["FreeMarker2 (Auto/Dollar)","Apache FreeMarker2 (Auto/Dollar)"],loader:()=>e.e(9975).then(e.bind(e,9975)).then(P=>P.TagAutoInterpolationDollar)}),(0,f.H)({id:"freemarker2.tag-auto.interpolation-bracket",aliases:["FreeMarker2 (Auto/Bracket)","Apache FreeMarker2 (Auto/Bracket)"],loader:()=>e.e(9975).then(e.bind(e,9975)).then(P=>P.TagAutoInterpolationBracket)})},9768:(Xe,we,e)=>{(0,e(74887).H)({id:"fsharp",extensions:[".fs",".fsi",".ml",".mli",".fsx",".fsscript"],aliases:["F#","FSharp","fsharp"],loader:()=>e.e(5966).then(e.bind(e,35966))})},48329:(Xe,we,e)=>{(0,e(74887).H)({id:"go",extensions:[".go"],aliases:["Go"],loader:()=>e.e(7794).then(e.bind(e,77794))})},66077:(Xe,we,e)=>{(0,e(74887).H)({id:"graphql",extensions:[".graphql",".gql"],aliases:["GraphQL","graphql","gql"],mimetypes:["application/graphql"],loader:()=>e.e(7300).then(e.bind(e,27300))})},40812:(Xe,we,e)=>{(0,e(74887).H)({id:"handlebars",extensions:[".handlebars",".hbs"],aliases:["Handlebars","handlebars","hbs"],mimetypes:["text/x-handlebars-template"],loader:()=>e.e(2639).then(e.bind(e,92639))})},27816:(Xe,we,e)=>{(0,e(74887).H)({id:"hcl",extensions:[".tf",".tfvars",".hcl"],aliases:["Terraform","tf","HCL","hcl"],loader:()=>e.e(3231).then(e.bind(e,3231))})},11503:(Xe,we,e)=>{(0,e(74887).H)({id:"html",extensions:[".html",".htm",".shtml",".xhtml",".mdoc",".jsp",".asp",".aspx",".jshtm"],aliases:["HTML","htm","html","xhtml"],mimetypes:["text/html","text/x-jshtm","text/template","text/ng-template"],loader:()=>e.e(2493).then(e.bind(e,52493))})},67310:(Xe,we,e)=>{(0,e(74887).H)({id:"ini",extensions:[".ini",".properties",".gitconfig"],filenames:["config",".gitattributes",".gitconfig",".editorconfig"],aliases:["Ini","ini"],loader:()=>e.e(8350).then(e.bind(e,28350))})},27042:(Xe,we,e)=>{(0,e(74887).H)({id:"java",extensions:[".java",".jav"],aliases:["Java","java"],mimetypes:["text/x-java-source","text/x-java"],loader:()=>e.e(6676).then(e.bind(e,6676))})},25443:(Xe,we,e)=>{(0,e(74887).H)({id:"javascript",extensions:[".js",".es6",".jsx",".mjs",".cjs"],firstLine:"^#!.*\\bnode",filenames:["jakefile"],aliases:["JavaScript","javascript","js"],mimetypes:["text/javascript"],loader:()=>Promise.all([e.e(8592),e.e(2651)]).then(e.bind(e,22651))})},6835:(Xe,we,e)=>{(0,e(74887).H)({id:"julia",extensions:[".jl"],aliases:["julia","Julia"],loader:()=>e.e(6832).then(e.bind(e,6832))})},75750:(Xe,we,e)=>{(0,e(74887).H)({id:"kotlin",extensions:[".kt",".kts"],aliases:["Kotlin","kotlin"],mimetypes:["text/x-kotlin-source","text/x-kotlin"],loader:()=>e.e(3100).then(e.bind(e,73100))})},22550:(Xe,we,e)=>{(0,e(74887).H)({id:"less",extensions:[".less"],aliases:["Less","less"],mimetypes:["text/x-less","text/less"],loader:()=>e.e(5279).then(e.bind(e,55279))})},60887:(Xe,we,e)=>{(0,e(74887).H)({id:"lexon",extensions:[".lex"],aliases:["Lexon"],loader:()=>e.e(2511).then(e.bind(e,82511))})},84969:(Xe,we,e)=>{(0,e(74887).H)({id:"liquid",extensions:[".liquid",".html.liquid"],aliases:["Liquid","liquid"],mimetypes:["application/liquid"],loader:()=>e.e(3218).then(e.bind(e,63218))})},27315:(Xe,we,e)=>{(0,e(74887).H)({id:"lua",extensions:[".lua"],aliases:["Lua","lua"],loader:()=>e.e(3399).then(e.bind(e,83399))})},76398:(Xe,we,e)=>{(0,e(74887).H)({id:"m3",extensions:[".m3",".i3",".mg",".ig"],aliases:["Modula-3","Modula3","modula3","m3"],loader:()=>e.e(1509).then(e.bind(e,71509))})},69695:(Xe,we,e)=>{(0,e(74887).H)({id:"markdown",extensions:[".md",".markdown",".mdown",".mkdn",".mkd",".mdwn",".mdtxt",".mdtext"],aliases:["Markdown","markdown"],loader:()=>e.e(378).then(e.bind(e,378))})},66049:(Xe,we,e)=>{(0,e(74887).H)({id:"mdx",extensions:[".mdx"],aliases:["MDX","mdx"],loader:()=>e.e(2725).then(e.bind(e,62725))})},32794:(Xe,we,e)=>{(0,e(74887).H)({id:"mips",extensions:[".s"],aliases:["MIPS","MIPS-V"],mimetypes:["text/x-mips","text/mips","text/plaintext"],loader:()=>e.e(9589).then(e.bind(e,29589))})},36212:(Xe,we,e)=>{(0,e(74887).H)({id:"msdax",extensions:[".dax",".msdax"],aliases:["DAX","MSDAX"],loader:()=>e.e(5376).then(e.bind(e,5376))})},57910:(Xe,we,e)=>{(0,e(74887).H)({id:"mysql",extensions:[],aliases:["MySQL","mysql"],loader:()=>e.e(6368).then(e.bind(e,76368))})},52938:(Xe,we,e)=>{(0,e(74887).H)({id:"objective-c",extensions:[".m"],aliases:["Objective-C"],loader:()=>e.e(4845).then(e.bind(e,84845))})},11735:(Xe,we,e)=>{(0,e(74887).H)({id:"pascal",extensions:[".pas",".p",".pp"],aliases:["Pascal","pas"],mimetypes:["text/x-pascal-source","text/x-pascal"],loader:()=>e.e(6872).then(e.bind(e,96872))})},81930:(Xe,we,e)=>{(0,e(74887).H)({id:"pascaligo",extensions:[".ligo"],aliases:["Pascaligo","ligo"],loader:()=>e.e(3198).then(e.bind(e,33198))})},79417:(Xe,we,e)=>{(0,e(74887).H)({id:"perl",extensions:[".pl",".pm"],aliases:["Perl","pl"],loader:()=>e.e(5378).then(e.bind(e,95378))})},12801:(Xe,we,e)=>{(0,e(74887).H)({id:"pgsql",extensions:[],aliases:["PostgreSQL","postgres","pg","postgre"],loader:()=>e.e(7792).then(e.bind(e,27792))})},7446:(Xe,we,e)=>{(0,e(74887).H)({id:"php",extensions:[".php",".php4",".php5",".phtml",".ctp"],aliases:["PHP","php"],mimetypes:["application/x-php"],loader:()=>e.e(6716).then(e.bind(e,66716))})},77020:(Xe,we,e)=>{(0,e(74887).H)({id:"pla",extensions:[".pla"],loader:()=>e.e(347).then(e.bind(e,347))})},23180:(Xe,we,e)=>{(0,e(74887).H)({id:"postiats",extensions:[".dats",".sats",".hats"],aliases:["ATS","ATS/Postiats"],loader:()=>e.e(7047).then(e.bind(e,37047))})},44247:(Xe,we,e)=>{(0,e(74887).H)({id:"powerquery",extensions:[".pq",".pqm"],aliases:["PQ","M","Power Query","Power Query M"],loader:()=>e.e(9870).then(e.bind(e,29870))})},23594:(Xe,we,e)=>{(0,e(74887).H)({id:"powershell",extensions:[".ps1",".psm1",".psd1"],aliases:["PowerShell","powershell","ps","ps1"],loader:()=>e.e(6354).then(e.bind(e,6354))})},68822:(Xe,we,e)=>{(0,e(74887).H)({id:"proto",extensions:[".proto"],aliases:["protobuf","Protocol Buffers"],loader:()=>e.e(8946).then(e.bind(e,88946))})},51212:(Xe,we,e)=>{(0,e(74887).H)({id:"pug",extensions:[".jade",".pug"],aliases:["Pug","Jade","jade"],loader:()=>e.e(1129).then(e.bind(e,11129))})},96042:(Xe,we,e)=>{(0,e(74887).H)({id:"python",extensions:[".py",".rpy",".pyw",".cpy",".gyp",".gypi"],aliases:["Python","py"],firstLine:"^#!/.*\\bpython[0-9.-]*\\b",loader:()=>e.e(3596).then(e.bind(e,63596))})},41407:(Xe,we,e)=>{(0,e(74887).H)({id:"qsharp",extensions:[".qs"],aliases:["Q#","qsharp"],loader:()=>e.e(3968).then(e.bind(e,93968))})},28788:(Xe,we,e)=>{(0,e(74887).H)({id:"r",extensions:[".r",".rhistory",".rmd",".rprofile",".rt"],aliases:["R","r"],loader:()=>e.e(7345).then(e.bind(e,47345))})},65156:(Xe,we,e)=>{(0,e(74887).H)({id:"razor",extensions:[".cshtml"],aliases:["Razor","razor"],mimetypes:["text/x-cshtml"],loader:()=>e.e(1249).then(e.bind(e,41249))})},86792:(Xe,we,e)=>{(0,e(74887).H)({id:"redis",extensions:[".redis"],aliases:["redis"],loader:()=>e.e(3659).then(e.bind(e,63659))})},14474:(Xe,we,e)=>{(0,e(74887).H)({id:"redshift",extensions:[],aliases:["Redshift","redshift"],loader:()=>e.e(4469).then(e.bind(e,44469))})},76695:(Xe,we,e)=>{(0,e(74887).H)({id:"restructuredtext",extensions:[".rst"],aliases:["reStructuredText","restructuredtext"],loader:()=>e.e(9103).then(e.bind(e,59103))})},27446:(Xe,we,e)=>{(0,e(74887).H)({id:"ruby",extensions:[".rb",".rbx",".rjs",".gemspec",".pp"],filenames:["rakefile","Gemfile"],aliases:["Ruby","rb"],loader:()=>e.e(2682).then(e.bind(e,32682))})},24478:(Xe,we,e)=>{(0,e(74887).H)({id:"rust",extensions:[".rs",".rlib"],aliases:["Rust","rust"],loader:()=>e.e(9482).then(e.bind(e,79482))})},36230:(Xe,we,e)=>{(0,e(74887).H)({id:"sb",extensions:[".sb"],aliases:["Small Basic","sb"],loader:()=>e.e(94).then(e.bind(e,70094))})},48389:(Xe,we,e)=>{(0,e(74887).H)({id:"scala",extensions:[".scala",".sc",".sbt"],aliases:["Scala","scala","SBT","Sbt","sbt","Dotty","dotty"],mimetypes:["text/x-scala-source","text/x-scala","text/x-sbt","text/x-dotty"],loader:()=>e.e(498).then(e.bind(e,50498))})},96936:(Xe,we,e)=>{(0,e(74887).H)({id:"scheme",extensions:[".scm",".ss",".sch",".rkt"],aliases:["scheme","Scheme"],loader:()=>e.e(696).then(e.bind(e,20696))})},12457:(Xe,we,e)=>{(0,e(74887).H)({id:"scss",extensions:[".scss"],aliases:["Sass","sass","scss"],mimetypes:["text/x-scss","text/scss"],loader:()=>e.e(662).then(e.bind(e,60662))})},75751:(Xe,we,e)=>{(0,e(74887).H)({id:"shell",extensions:[".sh",".bash"],aliases:["Shell","sh"],loader:()=>e.e(2851).then(e.bind(e,52851))})},98491:(Xe,we,e)=>{(0,e(74887).H)({id:"sol",extensions:[".sol"],aliases:["sol","solidity","Solidity"],loader:()=>e.e(7646).then(e.bind(e,17646))})},43708:(Xe,we,e)=>{(0,e(74887).H)({id:"aes",extensions:[".aes"],aliases:["aes","sophia","Sophia"],loader:()=>e.e(8065).then(e.bind(e,8065))})},86739:(Xe,we,e)=>{(0,e(74887).H)({id:"sparql",extensions:[".rq"],aliases:["sparql","SPARQL"],loader:()=>e.e(1241).then(e.bind(e,31241))})},73321:(Xe,we,e)=>{(0,e(74887).H)({id:"sql",extensions:[".sql"],aliases:["SQL"],loader:()=>e.e(9731).then(e.bind(e,49731))})},64699:(Xe,we,e)=>{(0,e(74887).H)({id:"st",extensions:[".st",".iecst",".iecplc",".lc3lib",".TcPOU",".TcDUT",".TcGVL",".TcIO"],aliases:["StructuredText","scl","stl"],loader:()=>e.e(5576).then(e.bind(e,15576))})},43342:(Xe,we,e)=>{(0,e(74887).H)({id:"swift",aliases:["Swift","swift"],extensions:[".swift"],mimetypes:["text/swift"],loader:()=>e.e(5508).then(e.bind(e,45508))})},33035:(Xe,we,e)=>{var f=e(74887);(0,f.H)({id:"systemverilog",extensions:[".sv",".svh"],aliases:["SV","sv","SystemVerilog","systemverilog"],loader:()=>e.e(7222).then(e.bind(e,77559))}),(0,f.H)({id:"verilog",extensions:[".v",".vh"],aliases:["V","v","Verilog","verilog"],loader:()=>e.e(7222).then(e.bind(e,77559))})},33685:(Xe,we,e)=>{(0,e(74887).H)({id:"tcl",extensions:[".tcl"],aliases:["tcl","Tcl","tcltk","TclTk","tcl/tk","Tcl/Tk"],loader:()=>e.e(5434).then(e.bind(e,25434))})},46682:(Xe,we,e)=>{(0,e(74887).H)({id:"twig",extensions:[".twig"],aliases:["Twig","twig"],mimetypes:["text/x-twig"],loader:()=>e.e(1139).then(e.bind(e,31139))})},10174:(Xe,we,e)=>{(0,e(74887).H)({id:"typescript",extensions:[".ts",".tsx",".cts",".mts"],aliases:["TypeScript","ts","typescript"],mimetypes:["text/typescript"],loader:()=>e.e(8592).then(e.bind(e,27740))})},98184:(Xe,we,e)=>{(0,e(74887).H)({id:"vb",extensions:[".vb"],aliases:["Visual Basic","vb"],loader:()=>e.e(8055).then(e.bind(e,58055))})},68997:(Xe,we,e)=>{(0,e(74887).H)({id:"wgsl",extensions:[".wgsl"],aliases:["WebGPU Shading Language","WGSL","wgsl"],loader:()=>e.e(973).then(e.bind(e,50973))})},56671:(Xe,we,e)=>{(0,e(74887).H)({id:"xml",extensions:[".xml",".xsd",".dtd",".ascx",".csproj",".config",".props",".targets",".wxi",".wxl",".wxs",".xaml",".svg",".svgz",".opf",".xslt",".xsl"],firstLine:"(\\<\\?xml.*)|(\\<svg)|(\\<\\!doctype\\s+svg)",aliases:["XML","xml"],mimetypes:["text/xml","application/xml","application/xaml+xml","application/xml-dtd"],loader:()=>e.e(600).then(e.bind(e,60600))})},26263:(Xe,we,e)=>{(0,e(74887).H)({id:"yaml",extensions:[".yaml",".yml"],aliases:["YAML","yaml","YML","yml"],mimetypes:["application/x-yaml","text/x-yaml"],loader:()=>e.e(6474).then(e.bind(e,16474))})},91988:(Xe,we,e)=>{e.d(we,{N:()=>P});var f=e(25937);function P(r,y){r instanceof f.Z?(r.setFontFamily(y.getMassagedFontFamily()),r.setFontWeight(y.fontWeight),r.setFontSize(y.fontSize),r.setFontFeatureSettings(y.fontFeatureSettings),r.setFontVariationSettings(y.fontVariationSettings),r.setLineHeight(y.lineHeight),r.setLetterSpacing(y.letterSpacing)):(r.style.fontFamily=y.getMassagedFontFamily(),r.style.fontWeight=y.fontWeight,r.style.fontSize=y.fontSize+"px",r.style.fontFeatureSettings=y.fontFeatureSettings,r.style.fontVariationSettings=y.fontVariationSettings,r.style.lineHeight=y.lineHeight+"px",r.style.letterSpacing=y.letterSpacing+"px")}},81772:(Xe,we,e)=>{e.d(we,{I:()=>r});var f=e(78694),P=e(58178);class r extends f.JT{constructor(v,S){super(),this._onDidChange=this._register(new P.Q5),this.onDidChange=this._onDidChange.event,this._referenceDomElement=v,this._width=-1,this._height=-1,this._resizeObserver=null,this.measureReferenceDomElement(!1,S)}dispose(){this.stopObserving(),super.dispose()}getWidth(){return this._width}getHeight(){return this._height}startObserving(){if(!this._resizeObserver&&this._referenceDomElement){let v=null;const S=()=>{v?this.observe({width:v.width,height:v.height}):this.observe()};let T=!1,E=!1;const L=()=>{if(T&&!E)try{T=!1,E=!0,S()}finally{requestAnimationFrame(()=>{E=!1,L()})}};this._resizeObserver=new ResizeObserver(p=>{v=p&&p[0]&&p[0].contentRect?p[0].contentRect:null,T=!0,L()}),this._resizeObserver.observe(this._referenceDomElement)}}stopObserving(){this._resizeObserver&&(this._resizeObserver.disconnect(),this._resizeObserver=null)}observe(v){this.measureReferenceDomElement(!0,v)}measureReferenceDomElement(v,S){let T=0,E=0;S?(T=S.width,E=S.height):this._referenceDomElement&&(T=this._referenceDomElement.clientWidth,E=this._referenceDomElement.clientHeight),T=Math.max(5,T),E=Math.max(5,E),(this._width!==T||this._height!==E)&&(this._width=T,this._height=E,v&&this._onDidChange.fire())}}},50030:(Xe,we,e)=>{e.d(we,{g:()=>u});var f=e(47492),P=e(58178),r=e(78694),y=e(91988);class v{constructor(i,d){this.chr=i,this.type=d,this.width=0}fulfill(i){this.width=i}}class S{constructor(i,d){this._bareFontInfo=i,this._requests=d,this._container=null,this._testElements=null}read(){this._createDomElements(),document.body.appendChild(this._container),this._readFromDomElements(),document.body.removeChild(this._container),this._container=null,this._testElements=null}_createDomElements(){const i=document.createElement("div");i.style.position="absolute",i.style.top="-50000px",i.style.width="50000px";const d=document.createElement("div");(0,y.N)(d,this._bareFontInfo),i.appendChild(d);const a=document.createElement("div");(0,y.N)(a,this._bareFontInfo),a.style.fontWeight="bold",i.appendChild(a);const m=document.createElement("div");(0,y.N)(m,this._bareFontInfo),m.style.fontStyle="italic",i.appendChild(m);const l=[];for(const I of this._requests){let w;0===I.type&&(w=d),2===I.type&&(w=a),1===I.type&&(w=m),w.appendChild(document.createElement("br"));const D=document.createElement("span");S._render(D,I),w.appendChild(D),l.push(D)}this._container=i,this._testElements=l}static _render(i,d){if(" "===d.chr){let a="\xa0";for(let m=0;m<8;m++)a+=a;i.innerText=a}else{let a=d.chr;for(let m=0;m<8;m++)a+=a;i.textContent=a}}_readFromDomElements(){for(let i=0,d=this._requests.length;i<d;i++)this._requests[i].fulfill(this._testElements[i].offsetWidth/256)}}var E=e(36413),L=e(25349);class c{constructor(){this._keys=Object.create(null),this._values=Object.create(null)}has(i){const d=i.getId();return!!this._values[d]}get(i){const d=i.getId();return this._values[d]}put(i,d){const a=i.getId();this._keys[a]=i,this._values[a]=d}remove(i){const d=i.getId();delete this._keys[d],delete this._values[d]}getValues(){return Object.keys(this._keys).map(i=>this._values[i])}}const u=new class p extends r.JT{constructor(){super(),this._onDidChange=this._register(new P.Q5),this.onDidChange=this._onDidChange.event,this._cache=new c,this._evictUntrustedReadingsTimeout=-1}dispose(){-1!==this._evictUntrustedReadingsTimeout&&(window.clearTimeout(this._evictUntrustedReadingsTimeout),this._evictUntrustedReadingsTimeout=-1),super.dispose()}clearAllFontInfos(){this._cache=new c,this._onDidChange.fire()}_writeToCache(i,d){this._cache.put(i,d),!d.isTrusted&&-1===this._evictUntrustedReadingsTimeout&&(this._evictUntrustedReadingsTimeout=window.setTimeout(()=>{this._evictUntrustedReadingsTimeout=-1,this._evictUntrustedReadings()},5e3))}_evictUntrustedReadings(){const i=this._cache.getValues();let d=!1;for(const a of i)a.isTrusted||(d=!0,this._cache.remove(a));d&&this._onDidChange.fire()}readFontInfo(i){if(!this._cache.has(i)){let d=this._actualReadFontInfo(i);(d.typicalHalfwidthCharacterWidth<=2||d.typicalFullwidthCharacterWidth<=2||d.spaceWidth<=2||d.maxDigitWidth<=2)&&(d=new L.pR({pixelRatio:f.Tz.value,fontFamily:d.fontFamily,fontWeight:d.fontWeight,fontSize:d.fontSize,fontFeatureSettings:d.fontFeatureSettings,fontVariationSettings:d.fontVariationSettings,lineHeight:d.lineHeight,letterSpacing:d.letterSpacing,isMonospace:d.isMonospace,typicalHalfwidthCharacterWidth:Math.max(d.typicalHalfwidthCharacterWidth,5),typicalFullwidthCharacterWidth:Math.max(d.typicalFullwidthCharacterWidth,5),canUseHalfwidthRightwardsArrow:d.canUseHalfwidthRightwardsArrow,spaceWidth:Math.max(d.spaceWidth,5),middotWidth:Math.max(d.middotWidth,5),wsmiddotWidth:Math.max(d.wsmiddotWidth,5),maxDigitWidth:Math.max(d.maxDigitWidth,5)},!1)),this._writeToCache(i,d)}return this._cache.get(i)}_createRequest(i,d,a,m){const l=new v(i,d);return a.push(l),m?.push(l),l}_actualReadFontInfo(i){const d=[],a=[],m=this._createRequest("n",0,d,a),l=this._createRequest("\uff4d",0,d,null),I=this._createRequest(" ",0,d,a),w=this._createRequest("0",0,d,a),D=this._createRequest("1",0,d,a),N=this._createRequest("2",0,d,a),A=this._createRequest("3",0,d,a),k=this._createRequest("4",0,d,a),R=this._createRequest("5",0,d,a),O=this._createRequest("6",0,d,a),W=this._createRequest("7",0,d,a),z=this._createRequest("8",0,d,a),U=this._createRequest("9",0,d,a),ee=this._createRequest("\u2192",0,d,a),B=this._createRequest("\uffeb",0,d,null),G=this._createRequest("\xb7",0,d,a),se=this._createRequest(String.fromCharCode(11825),0,d,null),j="|/-_ilm%";for(let ne=0,_=8;ne<_;ne++)this._createRequest(j.charAt(ne),0,d,a),this._createRequest(j.charAt(ne),1,d,a),this._createRequest(j.charAt(ne),2,d,a);!function T(g,i){new S(g,i).read()}(i,d);const $=Math.max(w.width,D.width,N.width,A.width,k.width,R.width,O.width,W.width,z.width,U.width);let K=i.fontFeatureSettings===E.n0.OFF;const J=a[0].width;for(let ne=1,_=a.length;K&&ne<_;ne++){const ae=J-a[ne].width;if(ae<-.001||ae>.001){K=!1;break}}let te=!0;return K&&B.width!==J&&(te=!1),B.width>ee.width&&(te=!1),new L.pR({pixelRatio:f.Tz.value,fontFamily:i.fontFamily,fontWeight:i.fontWeight,fontSize:i.fontSize,fontFeatureSettings:i.fontFeatureSettings,fontVariationSettings:i.fontVariationSettings,lineHeight:i.lineHeight,letterSpacing:i.letterSpacing,isMonospace:K,typicalHalfwidthCharacterWidth:m.width,typicalFullwidthCharacterWidth:l.width,canUseHalfwidthRightwardsArrow:te,spaceWidth:I.width,middotWidth:G.width,wsmiddotWidth:se.width,maxDigitWidth:$},!0)}}},88089:(Xe,we,e)=>{e.d(we,{n:()=>r});var f=e(58178);const r=new class P{constructor(){this._tabFocusTerminal=!1,this._tabFocusEditor=!1,this._onDidChangeTabFocus=new f.Q5,this.onDidChangeTabFocus=this._onDidChangeTabFocus.event}getTabFocusMode(v){return"terminalFocus"===v?this._tabFocusTerminal:this._tabFocusEditor}setTabFocusMode(v,S){"terminalFocus"===S?this._tabFocusTerminal=v:this._tabFocusEditor=v,this._onDidChangeTabFocus.fire()}}},44114:(Xe,we,e)=>{e.d(we,{Fz:()=>m,Nl:()=>d,RA:()=>i,Tj:()=>I,b6:()=>l,pd:()=>g});var f=e(47492),P=e(20274),r=e(49489),y=e(89271),v=e(81308),S=e(85328),T=e(58178),E=e(78694),L=e(90361),p=e(16055),c=e(17737),u=e(81534),g=function(w){return w.Tap="-monaco-textarea-synthetic-tap",w}(g||{});const i={forceCopyWithSyntaxHighlighting:!1};class d{constructor(){this._lastState=null}set(D,N){this._lastState={lastCopiedValue:D,data:N}}get(D){return this._lastState&&this._lastState.lastCopiedValue===D?this._lastState.data:(this._lastState=null,null)}}d.INSTANCE=new d;class a{constructor(){this._lastTypeTextLength=0}handleCompositionUpdate(D){const N={text:D=D||"",replacePrevCharCnt:this._lastTypeTextLength,replaceNextCharCnt:0,positionDelta:0};return this._lastTypeTextLength=D.length,N}}class m extends E.JT{get textAreaState(){return this._textAreaState}constructor(D,N,A,k){super(),this._host=D,this._textArea=N,this._OS=A,this._browser=k,this._onFocus=this._register(new T.Q5),this.onFocus=this._onFocus.event,this._onBlur=this._register(new T.Q5),this.onBlur=this._onBlur.event,this._onKeyDown=this._register(new T.Q5),this.onKeyDown=this._onKeyDown.event,this._onKeyUp=this._register(new T.Q5),this.onKeyUp=this._onKeyUp.event,this._onCut=this._register(new T.Q5),this.onCut=this._onCut.event,this._onPaste=this._register(new T.Q5),this.onPaste=this._onPaste.event,this._onType=this._register(new T.Q5),this.onType=this._onType.event,this._onCompositionStart=this._register(new T.Q5),this.onCompositionStart=this._onCompositionStart.event,this._onCompositionUpdate=this._register(new T.Q5),this.onCompositionUpdate=this._onCompositionUpdate.event,this._onCompositionEnd=this._register(new T.Q5),this.onCompositionEnd=this._onCompositionEnd.event,this._onSelectionChangeRequest=this._register(new T.Q5),this.onSelectionChangeRequest=this._onSelectionChangeRequest.event,this._asyncTriggerCut=this._register(new S.pY(()=>this._onCut.fire(),0)),this._asyncFocusGainWriteScreenReaderContent=this._register(new S.pY(()=>this.writeScreenReaderContent("asyncFocusGain"),0)),this._textAreaState=c.un.EMPTY,this._selectionChangeListener=null,this.writeScreenReaderContent("ctor"),this._hasFocus=!1,this._currentComposition=null;let R=null;this._register(this._textArea.onKeyDown(O=>{const W=new y.y(O);(114===W.keyCode||this._currentComposition&&1===W.keyCode)&&W.stopPropagation(),W.equals(9)&&W.preventDefault(),R=W,this._onKeyDown.fire(W)})),this._register(this._textArea.onKeyUp(O=>{const W=new y.y(O);this._onKeyUp.fire(W)})),this._register(this._textArea.onCompositionStart(O=>{c.al&&console.log("[compositionstart]",O);const W=new a;if(!this._currentComposition)return this._currentComposition=W,2===this._OS&&R&&R.equals(114)&&this._textAreaState.selectionStart===this._textAreaState.selectionEnd&&this._textAreaState.selectionStart>0&&this._textAreaState.value.substr(this._textAreaState.selectionStart-1,1)===O.data&&("ArrowRight"===R.code||"ArrowLeft"===R.code)?(c.al&&console.log("[compositionstart] Handling long press case on macOS + arrow key",O),W.handleCompositionUpdate("x"),void this._onCompositionStart.fire({data:O.data})):void this._onCompositionStart.fire({data:O.data});this._currentComposition=W})),this._register(this._textArea.onCompositionUpdate(O=>{c.al&&console.log("[compositionupdate]",O);const W=this._currentComposition;if(!W)return;if(this._browser.isAndroid){const U=c.un.readFromTextArea(this._textArea,this._textAreaState),ee=c.un.deduceAndroidCompositionInput(this._textAreaState,U);return this._textAreaState=U,this._onType.fire(ee),void this._onCompositionUpdate.fire(O)}const z=W.handleCompositionUpdate(O.data);this._textAreaState=c.un.readFromTextArea(this._textArea,this._textAreaState),this._onType.fire(z),this._onCompositionUpdate.fire(O)})),this._register(this._textArea.onCompositionEnd(O=>{c.al&&console.log("[compositionend]",O);const W=this._currentComposition;if(!W)return;if(this._currentComposition=null,this._browser.isAndroid){const U=c.un.readFromTextArea(this._textArea,this._textAreaState),ee=c.un.deduceAndroidCompositionInput(this._textAreaState,U);return this._textAreaState=U,this._onType.fire(ee),void this._onCompositionEnd.fire()}const z=W.handleCompositionUpdate(O.data);this._textAreaState=c.un.readFromTextArea(this._textArea,this._textAreaState),this._onType.fire(z),this._onCompositionEnd.fire()})),this._register(this._textArea.onInput(O=>{if(c.al&&console.log("[input]",O),this._textArea.setIgnoreSelectionChangeTime("received input event"),this._currentComposition)return;const W=c.un.readFromTextArea(this._textArea,this._textAreaState),z=c.un.deduceInput(this._textAreaState,W,2===this._OS);0===z.replacePrevCharCnt&&1===z.text.length&&(p.ZG(z.text.charCodeAt(0))||127===z.text.charCodeAt(0))||(this._textAreaState=W,(""!==z.text||0!==z.replacePrevCharCnt||0!==z.replaceNextCharCnt||0!==z.positionDelta)&&this._onType.fire(z))})),this._register(this._textArea.onCut(O=>{this._textArea.setIgnoreSelectionChangeTime("received cut event"),this._ensureClipboardGetsEditorSelection(O),this._asyncTriggerCut.schedule()})),this._register(this._textArea.onCopy(O=>{this._ensureClipboardGetsEditorSelection(O)})),this._register(this._textArea.onPaste(O=>{if(this._textArea.setIgnoreSelectionChangeTime("received paste event"),O.preventDefault(),!O.clipboardData)return;let[W,z]=l.getTextData(O.clipboardData);W&&(z=z||d.INSTANCE.get(W),this._onPaste.fire({text:W,metadata:z}))})),this._register(this._textArea.onFocus(()=>{const O=this._hasFocus;this._setHasFocus(!0),this._browser.isSafari&&!O&&this._hasFocus&&this._asyncFocusGainWriteScreenReaderContent.schedule()})),this._register(this._textArea.onBlur(()=>{this._currentComposition&&(this._currentComposition=null,this.writeScreenReaderContent("blurWithoutCompositionEnd"),this._onCompositionEnd.fire()),this._setHasFocus(!1)})),this._register(this._textArea.onSyntheticTap(()=>{this._browser.isAndroid&&this._currentComposition&&(this._currentComposition=null,this.writeScreenReaderContent("tapWithoutCompositionEnd"),this._onCompositionEnd.fire())}))}_installSelectionChangeListener(){let D=0;return P.nm(document,"selectionchange",N=>{if(v.B.onSelectionChange(),!this._hasFocus||this._currentComposition||!this._browser.isChrome)return;const A=Date.now(),k=A-D;if(D=A,k<5)return;const R=A-this._textArea.getIgnoreSelectionChangeTime();if(this._textArea.resetSelectionChangeTime(),R<100||!this._textAreaState.selection)return;const O=this._textArea.getValue();if(this._textAreaState.value!==O)return;const W=this._textArea.getSelectionStart(),z=this._textArea.getSelectionEnd();if(this._textAreaState.selectionStart===W&&this._textAreaState.selectionEnd===z)return;const U=this._textAreaState.deduceEditorPosition(W),ee=this._host.deduceModelPosition(U[0],U[1],U[2]),B=this._textAreaState.deduceEditorPosition(z),G=this._host.deduceModelPosition(B[0],B[1],B[2]),se=new u.Y(ee.lineNumber,ee.column,G.lineNumber,G.column);this._onSelectionChangeRequest.fire(se)})}dispose(){super.dispose(),this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null)}focusTextArea(){this._setHasFocus(!0),this.refreshFocusState()}isFocused(){return this._hasFocus}refreshFocusState(){this._setHasFocus(this._textArea.hasFocus())}_setHasFocus(D){this._hasFocus!==D&&(this._hasFocus=D,this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null),this._hasFocus&&(this._selectionChangeListener=this._installSelectionChangeListener()),this._hasFocus&&this.writeScreenReaderContent("focusgain"),this._hasFocus?this._onFocus.fire():this._onBlur.fire())}_setAndWriteTextAreaState(D,N){this._hasFocus||(N=N.collapseSelection()),N.writeToTextArea(D,this._textArea,this._hasFocus),this._textAreaState=N}writeScreenReaderContent(D){this._currentComposition||this._setAndWriteTextAreaState(D,this._host.getScreenReaderContent())}_ensureClipboardGetsEditorSelection(D){const N=this._host.getDataToCopy(),A={version:1,isFromEmptySelection:N.isFromEmptySelection,multicursorText:N.multicursorText,mode:N.mode};d.INSTANCE.set(this._browser.isFirefox?N.text.replace(/\r\n/g,"\n"):N.text,A),D.preventDefault(),D.clipboardData&&l.setTextData(D.clipboardData,N.text,N.html,A)}}const l={getTextData(w){const D=w.getData(L.v.text);let N=null;const A=w.getData("vscode-editor-data");if("string"==typeof A)try{N=JSON.parse(A),1!==N.version&&(N=null)}catch{}return 0===D.length&&null===N&&w.files.length>0?[Array.prototype.slice.call(w.files,0).map(R=>R.name).join("\n"),null]:[D,N]},setTextData(w,D,N,A){w.setData(L.v.text,D),"string"==typeof N&&w.setData("text/html",N),w.setData("vscode-editor-data",JSON.stringify(A))}};class I extends E.JT{constructor(D){super(),this._actual=D,this.onKeyDown=this._register(new r.Y(this._actual,"keydown")).event,this.onKeyUp=this._register(new r.Y(this._actual,"keyup")).event,this.onCompositionStart=this._register(new r.Y(this._actual,"compositionstart")).event,this.onCompositionUpdate=this._register(new r.Y(this._actual,"compositionupdate")).event,this.onCompositionEnd=this._register(new r.Y(this._actual,"compositionend")).event,this.onBeforeInput=this._register(new r.Y(this._actual,"beforeinput")).event,this.onInput=this._register(new r.Y(this._actual,"input")).event,this.onCut=this._register(new r.Y(this._actual,"cut")).event,this.onCopy=this._register(new r.Y(this._actual,"copy")).event,this.onPaste=this._register(new r.Y(this._actual,"paste")).event,this.onFocus=this._register(new r.Y(this._actual,"focus")).event,this.onBlur=this._register(new r.Y(this._actual,"blur")).event,this._onSyntheticTap=this._register(new T.Q5),this.onSyntheticTap=this._onSyntheticTap.event,this._ignoreSelectionChangeTime=0,this._register(this.onKeyDown(()=>v.B.onKeyDown())),this._register(this.onBeforeInput(()=>v.B.onBeforeInput())),this._register(this.onInput(()=>v.B.onInput())),this._register(this.onKeyUp(()=>v.B.onKeyUp())),this._register(P.nm(this._actual,g.Tap,()=>this._onSyntheticTap.fire()))}hasFocus(){const D=P.Ay(this._actual);return D?D.activeElement===this._actual:!!P.Uw(this._actual)&&document.activeElement===this._actual}setIgnoreSelectionChangeTime(D){this._ignoreSelectionChangeTime=Date.now()}getIgnoreSelectionChangeTime(){return this._ignoreSelectionChangeTime}resetSelectionChangeTime(){this._ignoreSelectionChangeTime=0}getValue(){return this._actual.value}setValue(D,N){const A=this._actual;A.value!==N&&(this.setIgnoreSelectionChangeTime("setValue"),A.value=N)}getSelectionStart(){return"backward"===this._actual.selectionDirection?this._actual.selectionEnd:this._actual.selectionStart}getSelectionEnd(){return"backward"===this._actual.selectionDirection?this._actual.selectionStart:this._actual.selectionEnd}setSelectionRange(D,N,A){const k=this._actual;let R=null;const O=P.Ay(k);R=O?O.activeElement:document.activeElement;const W=R===k;if(W&&k.selectionStart===N&&k.selectionEnd===A)f.vU&&window.parent!==window&&k.focus();else{if(W)return this.setIgnoreSelectionChangeTime("setSelectionRange"),k.setSelectionRange(N,A),void(f.vU&&window.parent!==window&&k.focus());try{const ee=P.vL(k);this.setIgnoreSelectionChangeTime("setSelectionRange"),k.focus(),k.setSelectionRange(N,A),P._0(k,ee)}catch{}}}}},17737:(Xe,we,e)=>{e.d(we,{al:()=>r,ee:()=>v,un:()=>y});var f=e(16055),P=e(96726);const r=!1;class y{constructor(T,E,L,p,c){this.value=T,this.selectionStart=E,this.selectionEnd=L,this.selection=p,this.newlineCountBeforeSelection=c}toString(){return`[ <${this.value}>, selectionStart: ${this.selectionStart}, selectionEnd: ${this.selectionEnd}]`}static readFromTextArea(T,E){const L=T.getValue(),p=T.getSelectionStart(),c=T.getSelectionEnd();let u;return E&&L.substring(0,p)===E.value.substring(0,E.selectionStart)&&(u=E.newlineCountBeforeSelection),new y(L,p,c,null,u)}collapseSelection(){return this.selectionStart===this.value.length?this:new y(this.value,this.value.length,this.value.length,null,void 0)}writeToTextArea(T,E,L){r&&console.log(`writeToTextArea ${T}: ${this.toString()}`),E.setValue(T,this.value),L&&E.setSelectionRange(T,this.selectionStart,this.selectionEnd)}deduceEditorPosition(T){var E,L,p,c,u,g,i,d;if(T<=this.selectionStart){const l=this.value.substring(T,this.selectionStart);return this._finishDeduceEditorPosition(null!==(L=null===(E=this.selection)||void 0===E?void 0:E.getStartPosition())&&void 0!==L?L:null,l,-1)}if(T>=this.selectionEnd){const l=this.value.substring(this.selectionEnd,T);return this._finishDeduceEditorPosition(null!==(c=null===(p=this.selection)||void 0===p?void 0:p.getEndPosition())&&void 0!==c?c:null,l,1)}const a=this.value.substring(this.selectionStart,T);if(-1===a.indexOf(String.fromCharCode(8230)))return this._finishDeduceEditorPosition(null!==(g=null===(u=this.selection)||void 0===u?void 0:u.getStartPosition())&&void 0!==g?g:null,a,1);const m=this.value.substring(T,this.selectionEnd);return this._finishDeduceEditorPosition(null!==(d=null===(i=this.selection)||void 0===i?void 0:i.getEndPosition())&&void 0!==d?d:null,m,-1)}_finishDeduceEditorPosition(T,E,L){let p=0,c=-1;for(;-1!==(c=E.indexOf("\n",c+1));)p++;return[T,L*E.length,p]}static deduceInput(T,E,L){if(!T)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};r&&(console.log("------------------------deduceInput"),console.log(`PREVIOUS STATE: ${T.toString()}`),console.log(`CURRENT STATE: ${E.toString()}`));const p=Math.min(f.Mh(T.value,E.value),T.selectionStart,E.selectionStart),c=Math.min(f.P1(T.value,E.value),T.value.length-T.selectionEnd,E.value.length-E.selectionEnd),u=T.value.substring(p,T.value.length-c),g=E.value.substring(p,E.value.length-c),i=T.selectionStart-p,d=T.selectionEnd-p,a=E.selectionStart-p,m=E.selectionEnd-p;if(r&&(console.log(`AFTER DIFFING PREVIOUS STATE: <${u}>, selectionStart: ${i}, selectionEnd: ${d}`),console.log(`AFTER DIFFING CURRENT STATE: <${g}>, selectionStart: ${a}, selectionEnd: ${m}`)),a===m){const I=T.selectionStart-p;return r&&console.log(`REMOVE PREVIOUS: ${I} chars`),{text:g,replacePrevCharCnt:I,replaceNextCharCnt:0,positionDelta:0}}return{text:g,replacePrevCharCnt:d-i,replaceNextCharCnt:0,positionDelta:0}}static deduceAndroidCompositionInput(T,E){if(!T)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};if(r&&(console.log("------------------------deduceAndroidCompositionInput"),console.log(`PREVIOUS STATE: ${T.toString()}`),console.log(`CURRENT STATE: ${E.toString()}`)),T.value===E.value)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:E.selectionEnd-T.selectionEnd};const L=Math.min(f.Mh(T.value,E.value),T.selectionEnd),p=Math.min(f.P1(T.value,E.value),T.value.length-T.selectionEnd),c=T.value.substring(L,T.value.length-p),u=E.value.substring(L,E.value.length-p),i=T.selectionEnd-L,d=E.selectionStart-L,a=E.selectionEnd-L;return r&&(console.log(`AFTER DIFFING PREVIOUS STATE: <${c}>, selectionStart: ${T.selectionStart-L}, selectionEnd: ${i}`),console.log(`AFTER DIFFING CURRENT STATE: <${u}>, selectionStart: ${d}, selectionEnd: ${a}`)),{text:u,replacePrevCharCnt:i,replaceNextCharCnt:c.length-i,positionDelta:a-u.length}}}y.EMPTY=new y("",0,0,null,void 0);class v{static _getPageOfLine(T,E){return Math.floor((T-1)/E)}static _getRangeForPage(T,E){const L=T*E;return new P.e(L+1,1,L+E+1,1)}static fromEditorSelection(T,E,L,p){const u=v._getPageOfLine(E.startLineNumber,L),g=v._getRangeForPage(u,L),i=v._getPageOfLine(E.endLineNumber,L),d=v._getRangeForPage(i,L);let a=g.intersectRanges(new P.e(1,1,E.startLineNumber,E.startColumn));if(p&&T.getValueLengthInRange(a,1)>500){const A=T.modifyPosition(a.getEndPosition(),-500);a=P.e.fromPositions(A,a.getEndPosition())}const m=T.getValueInRange(a,1),l=T.getLineCount(),I=T.getLineMaxColumn(l);let w=d.intersectRanges(new P.e(E.endLineNumber,E.endColumn,l,I));if(p&&T.getValueLengthInRange(w,1)>500){const A=T.modifyPosition(w.getStartPosition(),500);w=P.e.fromPositions(w.getStartPosition(),A)}const D=T.getValueInRange(w,1);let N;if(u===i||u+1===i)N=T.getValueInRange(E,1);else{const A=g.intersectRanges(E),k=d.intersectRanges(E);N=T.getValueInRange(A,1)+String.fromCharCode(8230)+T.getValueInRange(k,1)}return p&&N.length>1e3&&(N=N.substring(0,500)+String.fromCharCode(8230)+N.substring(N.length-500,N.length)),new y(m+N+D,m.length,m.length+N.length,E,a.endLineNumber-a.startLineNumber)}}},92987:(Xe,we,e)=>{e.d(we,{wk:()=>O,Ox:()=>N});var f=e(37190),P=e(47492),r=e(91402),y=e(41539),v=e(8256),S=e(51617),T=e(5250),E=e(68678),L=e(96726);class p{static columnSelect(ee,B,G,se,j,$){const K=Math.abs(j-G)+1,J=G>j,te=se>$,ne=se<$,_=[];for(let ae=0;ae<K;ae++){const ge=G+(J?-ae:ae),_e=ee.columnFromVisibleColumn(B,ge,se),ue=ee.columnFromVisibleColumn(B,ge,$),ve=ee.visibleColumnFromColumn(B,new E.L(ge,_e)),Ie=ee.visibleColumnFromColumn(B,new E.L(ge,ue));ne&&(ve>$||Ie<se)||te&&(Ie>se||ve<$)||_.push(new T.rS(new L.e(ge,_e,ge,_e),0,0,new E.L(ge,ue),0))}if(0===_.length)for(let ae=0;ae<K;ae++){const ge=G+(J?-ae:ae),_e=B.getLineMaxColumn(ge);_.push(new T.rS(new L.e(ge,_e,ge,_e),0,0,new E.L(ge,_e),0))}return{viewStates:_,reversed:J,fromLineNumber:G,fromVisualColumn:se,toLineNumber:j,toVisualColumn:$}}static columnSelectLeft(ee,B,G){let se=G.toViewVisualColumn;return se>0&&se--,p.columnSelect(ee,B,G.fromViewLineNumber,G.fromViewVisualColumn,G.toViewLineNumber,se)}static columnSelectRight(ee,B,G){let se=0;const j=Math.min(G.fromViewLineNumber,G.toViewLineNumber),$=Math.max(G.fromViewLineNumber,G.toViewLineNumber);for(let J=j;J<=$;J++){const te=B.getLineMaxColumn(J),ne=ee.visibleColumnFromColumn(B,new E.L(J,te));se=Math.max(se,ne)}let K=G.toViewVisualColumn;return K<se&&K++,this.columnSelect(ee,B,G.fromViewLineNumber,G.fromViewVisualColumn,G.toViewLineNumber,K)}static columnSelectUp(ee,B,G,se){const $=Math.max(1,G.toViewLineNumber-(se?ee.pageSize:1));return this.columnSelect(ee,B,G.fromViewLineNumber,G.fromViewVisualColumn,$,G.toViewVisualColumn)}static columnSelectDown(ee,B,G,se){const j=se?ee.pageSize:1,$=Math.min(B.getLineCount(),G.toViewLineNumber+j);return this.columnSelect(ee,B,G.fromViewLineNumber,G.fromViewVisualColumn,$,G.toViewVisualColumn)}}var I,U,w,N,c=e(71009),u=e(18051),g=e(89593),i=e(15446),d=e(66221),a=e(31498);class l extends v._l{runEditorCommand(ee,B,G){const se=B._getViewModel();se&&this.runCoreEditorCommand(se,G||{})}}(U=I||(I={})).description={description:"Scroll editor in the given direction",args:[{name:"Editor scroll argument object",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t* 'to': A mandatory direction value.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'up', 'down'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'by': Unit to move. Default is computed based on 'to' value.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'line', 'wrappedLine', 'page', 'halfPage', 'editor'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'value': Number of units to move. Default is '1'.\n\t\t\t\t\t* 'revealCursor': If 'true' reveals the cursor if it is outside view port.\n\t\t\t\t",constraint:function(G){if(!r.Kn(G))return!1;const se=G;return!(!r.HD(se.to)||!r.o8(se.by)&&!r.HD(se.by)||!r.o8(se.value)&&!r.hj(se.value)||!r.o8(se.revealCursor)&&!r.jn(se.revealCursor))},schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["up","down"]},by:{type:"string",enum:["line","wrappedLine","page","halfPage","editor"]},value:{type:"number",default:1},revealCursor:{type:"boolean"}}}}]},U.RawDirection={Up:"up",Right:"right",Down:"down",Left:"left"},U.RawUnit={Line:"line",WrappedLine:"wrappedLine",Page:"page",HalfPage:"halfPage",Editor:"editor",Column:"column"},U.parse=function B(G){let se,j;switch(G.to){case U.RawDirection.Up:se=1;break;case U.RawDirection.Right:se=2;break;case U.RawDirection.Down:se=3;break;case U.RawDirection.Left:se=4;break;default:return null}switch(G.by){case U.RawUnit.Line:j=1;break;case U.RawUnit.WrappedLine:j=2;break;case U.RawUnit.Page:j=3;break;case U.RawUnit.HalfPage:j=4;break;case U.RawUnit.Editor:j=5;break;case U.RawUnit.Column:j=6;break;default:j=2}return{direction:se,unit:j,value:Math.floor(G.value||1),revealCursor:!!G.revealCursor,select:!!G.select}},function(U){U.description={description:"Reveal the given line at the given logical position",args:[{name:"Reveal line argument object",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t* 'lineNumber': A mandatory line number value.\n\t\t\t\t\t* 'at': Logical position at which line has to be revealed.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'top', 'center', 'bottom'\n\t\t\t\t\t\t```\n\t\t\t\t",constraint:function(B){if(!r.Kn(B))return!1;const G=B;return!(!r.hj(G.lineNumber)&&!r.HD(G.lineNumber)||!r.o8(G.at)&&!r.HD(G.at))},schema:{type:"object",required:["lineNumber"],properties:{lineNumber:{type:["number","string"]},at:{type:"string",enum:["top","center","bottom"]}}}}]},U.RawAtArgument={Top:"top",Center:"center",Bottom:"bottom"}}(w||(w={}));class D{constructor(ee){ee.addImplementation(1e4,"code-editor",(B,G)=>{const se=B.get(S.$).getFocusedCodeEditor();return!(!se||!se.hasTextFocus())&&this._runEditorCommand(B,se,G)}),ee.addImplementation(1e3,"generic-dom-input-textarea",(B,G)=>{const se=document.activeElement;return!!(se&&["input","textarea"].indexOf(se.tagName.toLowerCase())>=0)&&(this.runDOMCommand(),!0)}),ee.addImplementation(0,"generic-dom",(B,G)=>{const se=B.get(S.$).getActiveCodeEditor();return!!se&&(se.focus(),this._runEditorCommand(B,se,G))})}_runEditorCommand(ee,B,G){return this.runEditorCommand(ee,B,G)||!0}}!function(U){class ee extends l{constructor(Se){super(Se),this._inSelectionMode=Se.inSelectionMode}runCoreEditorCommand(Se,Ve){Ve.position&&(Se.model.pushStackElement(),Se.setCursorStates(Ve.source,3,[u.P.moveTo(Se,Se.getPrimaryCursorState(),this._inSelectionMode,Ve.position,Ve.viewPosition)])&&2!==Ve.revealType&&Se.revealPrimaryCursor(Ve.source,!0,!0))}}U.MoveTo=(0,v.fK)(new ee({id:"_moveTo",inSelectionMode:!1,precondition:void 0})),U.MoveToSelect=(0,v.fK)(new ee({id:"_moveToSelect",inSelectionMode:!0,precondition:void 0}));class B extends l{runCoreEditorCommand(Se,Ve){Se.model.pushStackElement();const De=this._getColumnSelectResult(Se,Se.getPrimaryCursorState(),Se.getCursorColumnSelectData(),Ve);null!==De&&(Se.setCursorStates(Ve.source,3,De.viewStates.map(ye=>T.Vi.fromViewState(ye))),Se.setCursorColumnSelectData({isReal:!0,fromViewLineNumber:De.fromLineNumber,fromViewVisualColumn:De.fromVisualColumn,toViewLineNumber:De.toLineNumber,toViewVisualColumn:De.toVisualColumn}),De.reversed?Se.revealTopMostCursor(Ve.source):Se.revealBottomMostCursor(Ve.source))}}U.ColumnSelect=(0,v.fK)(new class extends B{constructor(){super({id:"columnSelect",precondition:void 0})}_getColumnSelectResult(Ie,Se,Ve,De){if(typeof De.position>"u"||typeof De.viewPosition>"u"||typeof De.mouseColumn>"u")return null;const ye=Ie.model.validatePosition(De.position),oe=Ie.coordinatesConverter.validateViewPosition(new E.L(De.viewPosition.lineNumber,De.viewPosition.column),ye);return p.columnSelect(Ie.cursorConfig,Ie,De.doColumnSelect?Ve.fromViewLineNumber:oe.lineNumber,De.doColumnSelect?Ve.fromViewVisualColumn:De.mouseColumn-1,oe.lineNumber,De.mouseColumn-1)}}),U.CursorColumnSelectLeft=(0,v.fK)(new class extends B{constructor(){super({id:"cursorColumnSelectLeft",precondition:void 0,kbOpts:{weight:0,kbExpr:i.u.textInputFocus,primary:3599,linux:{primary:0}}})}_getColumnSelectResult(Ie,Se,Ve,De){return p.columnSelectLeft(Ie.cursorConfig,Ie,Ve)}}),U.CursorColumnSelectRight=(0,v.fK)(new class extends B{constructor(){super({id:"cursorColumnSelectRight",precondition:void 0,kbOpts:{weight:0,kbExpr:i.u.textInputFocus,primary:3601,linux:{primary:0}}})}_getColumnSelectResult(Ie,Se,Ve,De){return p.columnSelectRight(Ie.cursorConfig,Ie,Ve)}});class G extends B{constructor(Se){super(Se),this._isPaged=Se.isPaged}_getColumnSelectResult(Se,Ve,De,ye){return p.columnSelectUp(Se.cursorConfig,Se,De,this._isPaged)}}U.CursorColumnSelectUp=(0,v.fK)(new G({isPaged:!1,id:"cursorColumnSelectUp",precondition:void 0,kbOpts:{weight:0,kbExpr:i.u.textInputFocus,primary:3600,linux:{primary:0}}})),U.CursorColumnSelectPageUp=(0,v.fK)(new G({isPaged:!0,id:"cursorColumnSelectPageUp",precondition:void 0,kbOpts:{weight:0,kbExpr:i.u.textInputFocus,primary:3595,linux:{primary:0}}}));class se extends B{constructor(Se){super(Se),this._isPaged=Se.isPaged}_getColumnSelectResult(Se,Ve,De,ye){return p.columnSelectDown(Se.cursorConfig,Se,De,this._isPaged)}}U.CursorColumnSelectDown=(0,v.fK)(new se({isPaged:!1,id:"cursorColumnSelectDown",precondition:void 0,kbOpts:{weight:0,kbExpr:i.u.textInputFocus,primary:3602,linux:{primary:0}}})),U.CursorColumnSelectPageDown=(0,v.fK)(new se({isPaged:!0,id:"cursorColumnSelectPageDown",precondition:void 0,kbOpts:{weight:0,kbExpr:i.u.textInputFocus,primary:3596,linux:{primary:0}}}));class j extends l{constructor(){super({id:"cursorMove",precondition:void 0,description:u.N.description})}runCoreEditorCommand(Se,Ve){const De=u.N.parse(Ve);De&&this._runCursorMove(Se,Ve.source,De)}_runCursorMove(Se,Ve,De){Se.model.pushStackElement(),Se.setCursorStates(Ve,3,j._move(Se,Se.getCursorStates(),De)),Se.revealPrimaryCursor(Ve,!0)}static _move(Se,Ve,De){const ye=De.select,oe=De.value;switch(De.direction){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:return u.P.simpleMove(Se,Ve,De.direction,ye,oe,De.unit);case 11:case 13:case 12:case 14:return u.P.viewportMove(Se,Ve,De.direction,ye,oe);default:return null}}}U.CursorMoveImpl=j,U.CursorMove=(0,v.fK)(new j);class $ extends l{constructor(Se){super(Se),this._staticArgs=Se.args}runCoreEditorCommand(Se,Ve){let De=this._staticArgs;-1===this._staticArgs.value&&(De={direction:this._staticArgs.direction,unit:this._staticArgs.unit,select:this._staticArgs.select,value:Ve.pageSize||Se.cursorConfig.pageSize}),Se.model.pushStackElement(),Se.setCursorStates(Ve.source,3,u.P.simpleMove(Se,Se.getCursorStates(),De.direction,De.select,De.value,De.unit)),Se.revealPrimaryCursor(Ve.source,!0)}}U.CursorLeft=(0,v.fK)(new $({args:{direction:0,unit:0,select:!1,value:1},id:"cursorLeft",precondition:void 0,kbOpts:{weight:0,kbExpr:i.u.textInputFocus,primary:15,mac:{primary:15,secondary:[288]}}})),U.CursorLeftSelect=(0,v.fK)(new $({args:{direction:0,unit:0,select:!0,value:1},id:"cursorLeftSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:i.u.textInputFocus,primary:1039}})),U.CursorRight=(0,v.fK)(new $({args:{direction:1,unit:0,select:!1,value:1},id:"cursorRight",precondition:void 0,kbOpts:{weight:0,kbExpr:i.u.textInputFocus,primary:17,mac:{primary:17,secondary:[292]}}})),U.CursorRightSelect=(0,v.fK)(new $({args:{direction:1,unit:0,select:!0,value:1},id:"cursorRightSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:i.u.textInputFocus,primary:1041}})),U.CursorUp=(0,v.fK)(new $({args:{direction:2,unit:2,select:!1,value:1},id:"cursorUp",precondition:void 0,kbOpts:{weight:0,kbExpr:i.u.textInputFocus,primary:16,mac:{primary:16,secondary:[302]}}})),U.CursorUpSelect=(0,v.fK)(new $({args:{direction:2,unit:2,select:!0,value:1},id:"cursorUpSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:i.u.textInputFocus,primary:1040,secondary:[3088],mac:{primary:1040},linux:{primary:1040}}})),U.CursorPageUp=(0,v.fK)(new $({args:{direction:2,unit:2,select:!1,value:-1},id:"cursorPageUp",precondition:void 0,kbOpts:{weight:0,kbExpr:i.u.textInputFocus,primary:11}})),U.CursorPageUpSelect=(0,v.fK)(new $({args:{direction:2,unit:2,select:!0,value:-1},id:"cursorPageUpSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:i.u.textInputFocus,primary:1035}})),U.CursorDown=(0,v.fK)(new $({args:{direction:3,unit:2,select:!1,value:1},id:"cursorDown",precondition:void 0,kbOpts:{weight:0,kbExpr:i.u.textInputFocus,primary:18,mac:{primary:18,secondary:[300]}}})),U.CursorDownSelect=(0,v.fK)(new $({args:{direction:3,unit:2,select:!0,value:1},id:"cursorDownSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:i.u.textInputFocus,primary:1042,secondary:[3090],mac:{primary:1042},linux:{primary:1042}}})),U.CursorPageDown=(0,v.fK)(new $({args:{direction:3,unit:2,select:!1,value:-1},id:"cursorPageDown",precondition:void 0,kbOpts:{weight:0,kbExpr:i.u.textInputFocus,primary:12}})),U.CursorPageDownSelect=(0,v.fK)(new $({args:{direction:3,unit:2,select:!0,value:-1},id:"cursorPageDownSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:i.u.textInputFocus,primary:1036}})),U.CreateCursor=(0,v.fK)(new class extends l{constructor(){super({id:"createCursor",precondition:void 0})}runCoreEditorCommand(Ie,Se){if(!Se.position)return;let Ve;Ve=Se.wholeLine?u.P.line(Ie,Ie.getPrimaryCursorState(),!1,Se.position,Se.viewPosition):u.P.moveTo(Ie,Ie.getPrimaryCursorState(),!1,Se.position,Se.viewPosition);const De=Ie.getCursorStates();if(De.length>1){const ye=Ve.modelState?Ve.modelState.position:null,oe=Ve.viewState?Ve.viewState.position:null;for(let Y=0,x=De.length;Y<x;Y++){const F=De[Y];if((!ye||F.modelState.selection.containsPosition(ye))&&(!oe||F.viewState.selection.containsPosition(oe)))return De.splice(Y,1),Ie.model.pushStackElement(),void Ie.setCursorStates(Se.source,3,De)}}De.push(Ve),Ie.model.pushStackElement(),Ie.setCursorStates(Se.source,3,De)}}),U.LastCursorMoveToSelect=(0,v.fK)(new class extends l{constructor(){super({id:"_lastCursorMoveToSelect",precondition:void 0})}runCoreEditorCommand(Ie,Se){if(!Se.position)return;const Ve=Ie.getLastAddedCursorIndex(),De=Ie.getCursorStates(),ye=De.slice(0);ye[Ve]=u.P.moveTo(Ie,De[Ve],!0,Se.position,Se.viewPosition),Ie.model.pushStackElement(),Ie.setCursorStates(Se.source,3,ye)}});class K extends l{constructor(Se){super(Se),this._inSelectionMode=Se.inSelectionMode}runCoreEditorCommand(Se,Ve){Se.model.pushStackElement(),Se.setCursorStates(Ve.source,3,u.P.moveToBeginningOfLine(Se,Se.getCursorStates(),this._inSelectionMode)),Se.revealPrimaryCursor(Ve.source,!0)}}U.CursorHome=(0,v.fK)(new K({inSelectionMode:!1,id:"cursorHome",precondition:void 0,kbOpts:{weight:0,kbExpr:i.u.textInputFocus,primary:14,mac:{primary:14,secondary:[2063]}}})),U.CursorHomeSelect=(0,v.fK)(new K({inSelectionMode:!0,id:"cursorHomeSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:i.u.textInputFocus,primary:1038,mac:{primary:1038,secondary:[3087]}}}));class J extends l{constructor(Se){super(Se),this._inSelectionMode=Se.inSelectionMode}runCoreEditorCommand(Se,Ve){Se.model.pushStackElement(),Se.setCursorStates(Ve.source,3,this._exec(Se.getCursorStates())),Se.revealPrimaryCursor(Ve.source,!0)}_exec(Se){const Ve=[];for(let De=0,ye=Se.length;De<ye;De++){const oe=Se[De];Ve[De]=T.Vi.fromModelState(oe.modelState.move(this._inSelectionMode,oe.modelState.position.lineNumber,1,0))}return Ve}}U.CursorLineStart=(0,v.fK)(new J({inSelectionMode:!1,id:"cursorLineStart",precondition:void 0,kbOpts:{weight:0,kbExpr:i.u.textInputFocus,primary:0,mac:{primary:287}}})),U.CursorLineStartSelect=(0,v.fK)(new J({inSelectionMode:!0,id:"cursorLineStartSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:i.u.textInputFocus,primary:0,mac:{primary:1311}}}));class te extends l{constructor(Se){super(Se),this._inSelectionMode=Se.inSelectionMode}runCoreEditorCommand(Se,Ve){Se.model.pushStackElement(),Se.setCursorStates(Ve.source,3,u.P.moveToEndOfLine(Se,Se.getCursorStates(),this._inSelectionMode,Ve.sticky||!1)),Se.revealPrimaryCursor(Ve.source,!0)}}U.CursorEnd=(0,v.fK)(new te({inSelectionMode:!1,id:"cursorEnd",precondition:void 0,kbOpts:{args:{sticky:!1},weight:0,kbExpr:i.u.textInputFocus,primary:13,mac:{primary:13,secondary:[2065]}},description:{description:"Go to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:f.NC("stickydesc","Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}})),U.CursorEndSelect=(0,v.fK)(new te({inSelectionMode:!0,id:"cursorEndSelect",precondition:void 0,kbOpts:{args:{sticky:!1},weight:0,kbExpr:i.u.textInputFocus,primary:1037,mac:{primary:1037,secondary:[3089]}},description:{description:"Select to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:f.NC("stickydesc","Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}}));class ne extends l{constructor(Se){super(Se),this._inSelectionMode=Se.inSelectionMode}runCoreEditorCommand(Se,Ve){Se.model.pushStackElement(),Se.setCursorStates(Ve.source,3,this._exec(Se,Se.getCursorStates())),Se.revealPrimaryCursor(Ve.source,!0)}_exec(Se,Ve){const De=[];for(let ye=0,oe=Ve.length;ye<oe;ye++){const Y=Ve[ye],x=Y.modelState.position.lineNumber,F=Se.model.getLineMaxColumn(x);De[ye]=T.Vi.fromModelState(Y.modelState.move(this._inSelectionMode,x,F,0))}return De}}U.CursorLineEnd=(0,v.fK)(new ne({inSelectionMode:!1,id:"cursorLineEnd",precondition:void 0,kbOpts:{weight:0,kbExpr:i.u.textInputFocus,primary:0,mac:{primary:291}}})),U.CursorLineEndSelect=(0,v.fK)(new ne({inSelectionMode:!0,id:"cursorLineEndSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:i.u.textInputFocus,primary:0,mac:{primary:1315}}}));class _ extends l{constructor(Se){super(Se),this._inSelectionMode=Se.inSelectionMode}runCoreEditorCommand(Se,Ve){Se.model.pushStackElement(),Se.setCursorStates(Ve.source,3,u.P.moveToBeginningOfBuffer(Se,Se.getCursorStates(),this._inSelectionMode)),Se.revealPrimaryCursor(Ve.source,!0)}}U.CursorTop=(0,v.fK)(new _({inSelectionMode:!1,id:"cursorTop",precondition:void 0,kbOpts:{weight:0,kbExpr:i.u.textInputFocus,primary:2062,mac:{primary:2064}}})),U.CursorTopSelect=(0,v.fK)(new _({inSelectionMode:!0,id:"cursorTopSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:i.u.textInputFocus,primary:3086,mac:{primary:3088}}}));class ae extends l{constructor(Se){super(Se),this._inSelectionMode=Se.inSelectionMode}runCoreEditorCommand(Se,Ve){Se.model.pushStackElement(),Se.setCursorStates(Ve.source,3,u.P.moveToEndOfBuffer(Se,Se.getCursorStates(),this._inSelectionMode)),Se.revealPrimaryCursor(Ve.source,!0)}}U.CursorBottom=(0,v.fK)(new ae({inSelectionMode:!1,id:"cursorBottom",precondition:void 0,kbOpts:{weight:0,kbExpr:i.u.textInputFocus,primary:2061,mac:{primary:2066}}})),U.CursorBottomSelect=(0,v.fK)(new ae({inSelectionMode:!0,id:"cursorBottomSelect",precondition:void 0,kbOpts:{weight:0,kbExpr:i.u.textInputFocus,primary:3085,mac:{primary:3090}}}));class ge extends l{constructor(){super({id:"editorScroll",precondition:void 0,description:I.description})}determineScrollMethod(Se){return[6].includes(Se.unit)&&[4,2].includes(Se.direction)?this._runHorizontalEditorScroll.bind(this):[1,2,3,4,5,6].includes(Se.unit)&&[1,3].includes(Se.direction)?this._runVerticalEditorScroll.bind(this):null}runCoreEditorCommand(Se,Ve){const De=I.parse(Ve);if(!De)return;const ye=this.determineScrollMethod(De);ye&&ye(Se,Ve.source,De)}_runVerticalEditorScroll(Se,Ve,De){const ye=this._computeDesiredScrollTop(Se,De);if(De.revealCursor){const oe=Se.getCompletelyVisibleViewRangeAtScrollTop(ye);Se.setCursorStates(Ve,3,[u.P.findPositionInViewportIfOutside(Se,Se.getPrimaryCursorState(),oe,De.select)])}Se.viewLayout.setScrollPosition({scrollTop:ye},0)}_computeDesiredScrollTop(Se,Ve){if(1===Ve.unit){const oe=Se.viewLayout.getFutureViewport(),Y=Se.getCompletelyVisibleViewRangeAtScrollTop(oe.top),x=Se.coordinatesConverter.convertViewRangeToModelRange(Y);let F;F=1===Ve.direction?Math.max(1,x.startLineNumber-Ve.value):Math.min(Se.model.getLineCount(),x.startLineNumber+Ve.value);const ie=Se.coordinatesConverter.convertModelPositionToViewPosition(new E.L(F,1));return Se.viewLayout.getVerticalOffsetForLineNumber(ie.lineNumber)}if(5===Ve.unit){let oe=0;return 3===Ve.direction&&(oe=Se.model.getLineCount()-Se.cursorConfig.pageSize),Se.viewLayout.getVerticalOffsetForLineNumber(oe)}let De;De=3===Ve.unit?Se.cursorConfig.pageSize*Ve.value:4===Ve.unit?Math.round(Se.cursorConfig.pageSize/2)*Ve.value:Ve.value;const ye=(1===Ve.direction?-1:1)*De;return Se.viewLayout.getCurrentScrollTop()+ye*Se.cursorConfig.lineHeight}_runHorizontalEditorScroll(Se,Ve,De){const ye=this._computeDesiredScrollLeft(Se,De);Se.viewLayout.setScrollPosition({scrollLeft:ye},0)}_computeDesiredScrollLeft(Se,Ve){const De=(4===Ve.direction?-1:1)*Ve.value;return Se.viewLayout.getCurrentScrollLeft()+De*Se.cursorConfig.typicalHalfwidthCharacterWidth}}U.EditorScrollImpl=ge,U.EditorScroll=(0,v.fK)(new ge),U.ScrollLineUp=(0,v.fK)(new class extends l{constructor(){super({id:"scrollLineUp",precondition:void 0,kbOpts:{weight:0,kbExpr:i.u.textInputFocus,primary:2064,mac:{primary:267}}})}runCoreEditorCommand(Ie,Se){U.EditorScroll.runCoreEditorCommand(Ie,{to:I.RawDirection.Up,by:I.RawUnit.WrappedLine,value:1,revealCursor:!1,select:!1,source:Se.source})}}),U.ScrollPageUp=(0,v.fK)(new class extends l{constructor(){super({id:"scrollPageUp",precondition:void 0,kbOpts:{weight:0,kbExpr:i.u.textInputFocus,primary:2059,win:{primary:523},linux:{primary:523}}})}runCoreEditorCommand(Ie,Se){U.EditorScroll.runCoreEditorCommand(Ie,{to:I.RawDirection.Up,by:I.RawUnit.Page,value:1,revealCursor:!1,select:!1,source:Se.source})}}),U.ScrollEditorTop=(0,v.fK)(new class extends l{constructor(){super({id:"scrollEditorTop",precondition:void 0,kbOpts:{weight:0,kbExpr:i.u.textInputFocus}})}runCoreEditorCommand(Ie,Se){U.EditorScroll.runCoreEditorCommand(Ie,{to:I.RawDirection.Up,by:I.RawUnit.Editor,value:1,revealCursor:!1,select:!1,source:Se.source})}}),U.ScrollLineDown=(0,v.fK)(new class extends l{constructor(){super({id:"scrollLineDown",precondition:void 0,kbOpts:{weight:0,kbExpr:i.u.textInputFocus,primary:2066,mac:{primary:268}}})}runCoreEditorCommand(Ie,Se){U.EditorScroll.runCoreEditorCommand(Ie,{to:I.RawDirection.Down,by:I.RawUnit.WrappedLine,value:1,revealCursor:!1,select:!1,source:Se.source})}}),U.ScrollPageDown=(0,v.fK)(new class extends l{constructor(){super({id:"scrollPageDown",precondition:void 0,kbOpts:{weight:0,kbExpr:i.u.textInputFocus,primary:2060,win:{primary:524},linux:{primary:524}}})}runCoreEditorCommand(Ie,Se){U.EditorScroll.runCoreEditorCommand(Ie,{to:I.RawDirection.Down,by:I.RawUnit.Page,value:1,revealCursor:!1,select:!1,source:Se.source})}}),U.ScrollEditorBottom=(0,v.fK)(new class extends l{constructor(){super({id:"scrollEditorBottom",precondition:void 0,kbOpts:{weight:0,kbExpr:i.u.textInputFocus}})}runCoreEditorCommand(Ie,Se){U.EditorScroll.runCoreEditorCommand(Ie,{to:I.RawDirection.Down,by:I.RawUnit.Editor,value:1,revealCursor:!1,select:!1,source:Se.source})}}),U.ScrollLeft=(0,v.fK)(new class extends l{constructor(){super({id:"scrollLeft",precondition:void 0,kbOpts:{weight:0,kbExpr:i.u.textInputFocus}})}runCoreEditorCommand(Ie,Se){U.EditorScroll.runCoreEditorCommand(Ie,{to:I.RawDirection.Left,by:I.RawUnit.Column,value:2,revealCursor:!1,select:!1,source:Se.source})}}),U.ScrollRight=(0,v.fK)(new class extends l{constructor(){super({id:"scrollRight",precondition:void 0,kbOpts:{weight:0,kbExpr:i.u.textInputFocus}})}runCoreEditorCommand(Ie,Se){U.EditorScroll.runCoreEditorCommand(Ie,{to:I.RawDirection.Right,by:I.RawUnit.Column,value:2,revealCursor:!1,select:!1,source:Se.source})}});class _e extends l{constructor(Se){super(Se),this._inSelectionMode=Se.inSelectionMode}runCoreEditorCommand(Se,Ve){Ve.position&&(Se.model.pushStackElement(),Se.setCursorStates(Ve.source,3,[u.P.word(Se,Se.getPrimaryCursorState(),this._inSelectionMode,Ve.position)]),2!==Ve.revealType&&Se.revealPrimaryCursor(Ve.source,!0,!0))}}U.WordSelect=(0,v.fK)(new _e({inSelectionMode:!1,id:"_wordSelect",precondition:void 0})),U.WordSelectDrag=(0,v.fK)(new _e({inSelectionMode:!0,id:"_wordSelectDrag",precondition:void 0})),U.LastCursorWordSelect=(0,v.fK)(new class extends l{constructor(){super({id:"lastCursorWordSelect",precondition:void 0})}runCoreEditorCommand(Ie,Se){if(!Se.position)return;const Ve=Ie.getLastAddedCursorIndex(),De=Ie.getCursorStates(),ye=De.slice(0),oe=De[Ve];ye[Ve]=u.P.word(Ie,oe,oe.modelState.hasSelection(),Se.position),Ie.model.pushStackElement(),Ie.setCursorStates(Se.source,3,ye)}});class ue extends l{constructor(Se){super(Se),this._inSelectionMode=Se.inSelectionMode}runCoreEditorCommand(Se,Ve){Ve.position&&(Se.model.pushStackElement(),Se.setCursorStates(Ve.source,3,[u.P.line(Se,Se.getPrimaryCursorState(),this._inSelectionMode,Ve.position,Ve.viewPosition)]),2!==Ve.revealType&&Se.revealPrimaryCursor(Ve.source,!1,!0))}}U.LineSelect=(0,v.fK)(new ue({inSelectionMode:!1,id:"_lineSelect",precondition:void 0})),U.LineSelectDrag=(0,v.fK)(new ue({inSelectionMode:!0,id:"_lineSelectDrag",precondition:void 0}));class ve extends l{constructor(Se){super(Se),this._inSelectionMode=Se.inSelectionMode}runCoreEditorCommand(Se,Ve){if(!Ve.position)return;const De=Se.getLastAddedCursorIndex(),ye=Se.getCursorStates(),oe=ye.slice(0);oe[De]=u.P.line(Se,ye[De],this._inSelectionMode,Ve.position,Ve.viewPosition),Se.model.pushStackElement(),Se.setCursorStates(Ve.source,3,oe)}}U.LastCursorLineSelect=(0,v.fK)(new ve({inSelectionMode:!1,id:"lastCursorLineSelect",precondition:void 0})),U.LastCursorLineSelectDrag=(0,v.fK)(new ve({inSelectionMode:!0,id:"lastCursorLineSelectDrag",precondition:void 0})),U.CancelSelection=(0,v.fK)(new class extends l{constructor(){super({id:"cancelSelection",precondition:i.u.hasNonEmptySelection,kbOpts:{weight:0,kbExpr:i.u.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(Ie,Se){Ie.model.pushStackElement(),Ie.setCursorStates(Se.source,3,[u.P.cancelSelection(Ie,Ie.getPrimaryCursorState())]),Ie.revealPrimaryCursor(Se.source,!0)}}),U.RemoveSecondaryCursors=(0,v.fK)(new class extends l{constructor(){super({id:"removeSecondaryCursors",precondition:i.u.hasMultipleSelections,kbOpts:{weight:1,kbExpr:i.u.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(Ie,Se){Ie.model.pushStackElement(),Ie.setCursorStates(Se.source,3,[Ie.getPrimaryCursorState()]),Ie.revealPrimaryCursor(Se.source,!0),(0,y.i7)(f.NC("removedCursor","Removed secondary cursors"))}}),U.RevealLine=(0,v.fK)(new class extends l{constructor(){super({id:"revealLine",precondition:void 0,description:w.description})}runCoreEditorCommand(Ie,Se){const Ve=Se,De=Ve.lineNumber||0;let ye="number"==typeof De?De+1:parseInt(De)+1;ye<1&&(ye=1);const oe=Ie.model.getLineCount();ye>oe&&(ye=oe);const Y=new L.e(ye,1,ye,Ie.model.getLineMaxColumn(ye));let x=0;if(Ve.at)switch(Ve.at){case w.RawAtArgument.Top:x=3;break;case w.RawAtArgument.Center:x=1;break;case w.RawAtArgument.Bottom:x=4}const F=Ie.coordinatesConverter.convertModelRangeToViewRange(Y);Ie.revealRange(Se.source,!1,F,x,0)}}),U.SelectAll=new class extends D{constructor(){super(v.Sq)}runDOMCommand(){P.vU&&(document.activeElement.focus(),document.activeElement.select()),document.execCommand("selectAll")}runEditorCommand(Ie,Se,Ve){const De=Se._getViewModel();De&&this.runCoreEditorCommand(De,Ve)}runCoreEditorCommand(Ie,Se){Ie.model.pushStackElement(),Ie.setCursorStates("keyboard",3,[u.P.selectAll(Ie,Ie.getPrimaryCursorState())])}},U.SetSelection=(0,v.fK)(new class extends l{constructor(){super({id:"setSelection",precondition:void 0})}runCoreEditorCommand(Ie,Se){Se.selection&&(Ie.model.pushStackElement(),Ie.setCursorStates(Se.source,3,[T.Vi.fromModelSelection(Se.selection)]))}})}(N||(N={}));const A=d.Ao.and(i.u.textInputFocus,i.u.columnSelection);function k(U,ee){a.W.registerKeybindingRule({id:U,primary:ee,when:A,weight:1})}function R(U){return U.register(),U}var O;k(N.CursorColumnSelectLeft.id,1039),k(N.CursorColumnSelectRight.id,1041),k(N.CursorColumnSelectUp.id,1040),k(N.CursorColumnSelectPageUp.id,1035),k(N.CursorColumnSelectDown.id,1042),k(N.CursorColumnSelectPageDown.id,1036),function(U){class ee extends v._l{runEditorCommand(G,se,j){const $=se._getViewModel();$&&this.runCoreEditingCommand(se,$,j||{})}}U.CoreEditingCommand=ee,U.LineBreakInsert=(0,v.fK)(new class extends ee{constructor(){super({id:"lineBreakInsert",precondition:i.u.writable,kbOpts:{weight:0,kbExpr:i.u.textInputFocus,primary:0,mac:{primary:301}}})}runCoreEditingCommand(B,G,se){B.pushUndoStop(),B.executeCommands(this.id,g.u6.lineBreakInsert(G.cursorConfig,G.model,G.getCursorStates().map(j=>j.modelState.selection)))}}),U.Outdent=(0,v.fK)(new class extends ee{constructor(){super({id:"outdent",precondition:i.u.writable,kbOpts:{weight:0,kbExpr:d.Ao.and(i.u.editorTextFocus,i.u.tabDoesNotMoveFocus),primary:1026}})}runCoreEditingCommand(B,G,se){B.pushUndoStop(),B.executeCommands(this.id,g.u6.outdent(G.cursorConfig,G.model,G.getCursorStates().map(j=>j.modelState.selection))),B.pushUndoStop()}}),U.Tab=(0,v.fK)(new class extends ee{constructor(){super({id:"tab",precondition:i.u.writable,kbOpts:{weight:0,kbExpr:d.Ao.and(i.u.editorTextFocus,i.u.tabDoesNotMoveFocus),primary:2}})}runCoreEditingCommand(B,G,se){B.pushUndoStop(),B.executeCommands(this.id,g.u6.tab(G.cursorConfig,G.model,G.getCursorStates().map(j=>j.modelState.selection))),B.pushUndoStop()}}),U.DeleteLeft=(0,v.fK)(new class extends ee{constructor(){super({id:"deleteLeft",precondition:void 0,kbOpts:{weight:0,kbExpr:i.u.textInputFocus,primary:1,secondary:[1025],mac:{primary:1,secondary:[1025,294,257]}}})}runCoreEditingCommand(B,G,se){const[j,$]=c.A.deleteLeft(G.getPrevEditOperationType(),G.cursorConfig,G.model,G.getCursorStates().map(K=>K.modelState.selection),G.getCursorAutoClosedCharacters());j&&B.pushUndoStop(),B.executeCommands(this.id,$),G.setPrevEditOperationType(2)}}),U.DeleteRight=(0,v.fK)(new class extends ee{constructor(){super({id:"deleteRight",precondition:void 0,kbOpts:{weight:0,kbExpr:i.u.textInputFocus,primary:20,mac:{primary:20,secondary:[290,276]}}})}runCoreEditingCommand(B,G,se){const[j,$]=c.A.deleteRight(G.getPrevEditOperationType(),G.cursorConfig,G.model,G.getCursorStates().map(K=>K.modelState.selection));j&&B.pushUndoStop(),B.executeCommands(this.id,$),G.setPrevEditOperationType(3)}}),U.Undo=new class extends D{constructor(){super(v.n_)}runDOMCommand(){document.execCommand("undo")}runEditorCommand(B,G,se){if(G.hasModel()&&!0!==G.getOption(89))return G.getModel().undo()}},U.Redo=new class extends D{constructor(){super(v.kz)}runDOMCommand(){document.execCommand("redo")}runEditorCommand(B,G,se){if(G.hasModel()&&!0!==G.getOption(89))return G.getModel().redo()}}}(O||(O={}));class W extends v.mY{constructor(ee,B,G){super({id:ee,precondition:void 0,description:G}),this._handlerId=B}runCommand(ee,B){const G=ee.get(S.$).getFocusedCodeEditor();G&&G.trigger("keyboard",this._handlerId,B)}}function z(U,ee){R(new W("default:"+U,U)),R(new W(U,U,ee))}z("type",{description:"Type",args:[{name:"args",schema:{type:"object",required:["text"],properties:{text:{type:"string"}}}}]}),z("replacePreviousChar"),z("compositionType"),z("compositionStart"),z("compositionEnd"),z("paste"),z("cut")},40122:(Xe,we,e)=>{e.d(we,{B:()=>T,L:()=>p});var f=e(24872),P=e(16813),r=e(90361),y=e(15850),v=e(93152),S=function(c,u,g,i){return new(g||(g=Promise))(function(a,m){function l(D){try{w(i.next(D))}catch(N){m(N)}}function I(D){try{w(i.throw(D))}catch(N){m(N)}}function w(D){D.done?a(D.value):function d(a){return a instanceof g?a:new g(function(m){m(a)})}(D.value).then(l,I)}w((i=i.apply(c,u||[])).next())})};function T(c){const u=new P.Hl;for(const g of c.items){const i=g.type;if("string"===g.kind){const d=new Promise(a=>g.getAsString(a));u.append(i,(0,P.ZO)(d))}else if("file"===g.kind){const d=g.getAsFile();d&&u.append(i,E(d))}}return u}function E(c){const u=c.path?y.o.parse(c.path):void 0;return(0,P.Ix)(c.name,u,()=>S(this,void 0,void 0,function*(){return new Uint8Array(yield c.arrayBuffer())}))}const L=Object.freeze([v.Km.EDITORS,v.Km.FILES,f.g.RESOURCES,f.g.INTERNAL_URI_LIST]);function p(c,u=!1){const g=T(c),i=g.get(f.g.INTERNAL_URI_LIST);if(i)g.replace(r.v.uriList,i);else if(u||!g.has(r.v.uriList)){const d=[];for(const a of c.items){const m=a.getAsFile();if(m){const l=m.path;try{d.push(l?y.o.file(l).toString():y.o.parse(m.name,!0).toString())}catch{}}}d.length&&g.replace(r.v.uriList,(0,P.ZO)(P.Z0.create(d)))}for(const d of L)g.delete(d);return g}},37389:(Xe,we,e)=>{e.d(we,{CL:()=>P,Pi:()=>v,QI:()=>r});var f=e(50144);function P(S){return!(!S||"function"!=typeof S.getEditorType)&&S.getEditorType()===f.g.ICodeEditor}function r(S){return!(!S||"function"!=typeof S.getEditorType)&&S.getEditorType()===f.g.IDiffEditor}function v(S){return P(S)?S:r(S)?S.getModifiedEditor():function y(S){return!!S&&"object"==typeof S&&"function"==typeof S.onDidChangeActiveEditor}(S)&&P(S.activeCodeEditor)?S.activeCodeEditor:null}},58431:(Xe,we,e)=>{e.d(we,{AL:()=>a,N5:()=>i,Pp:()=>u,YN:()=>T,gy:()=>g,kG:()=>c,rU:()=>E,t7:()=>m,tC:()=>d});var f=e(20274),P=e(46738),r=e(20940),y=e(85328),v=e(78694),S=e(99745);class T{constructor(D,N){this.x=D,this.y=N,this._pageCoordinatesBrand=void 0}toClientCoordinates(){return new E(this.x-window.scrollX,this.y-window.scrollY)}}class E{constructor(D,N){this.clientX=D,this.clientY=N,this._clientCoordinatesBrand=void 0}toPageCoordinates(){return new T(this.clientX+window.scrollX,this.clientY+window.scrollY)}}class L{constructor(D,N,A,k){this.x=D,this.y=N,this.width=A,this.height=k,this._editorPagePositionBrand=void 0}}class p{constructor(D,N){this.x=D,this.y=N,this._positionRelativeToEditorBrand=void 0}}function c(w){const D=f.i(w);return new L(D.left,D.top,D.width,D.height)}function u(w,D,N){return new p((N.x-D.x)/(D.width/w.offsetWidth),(N.y-D.y)/(D.height/w.offsetHeight))}class g extends r.n{constructor(D,N,A){super(D),this._editorMouseEventBrand=void 0,this.isFromPointerCapture=N,this.pos=new T(this.posx,this.posy),this.editorPos=c(A),this.relativePos=u(A,this.editorPos,this.pos)}}class i{constructor(D){this._editorViewDomNode=D}_create(D){return new g(D,!1,this._editorViewDomNode)}onContextMenu(D,N){return f.nm(D,"contextmenu",A=>{N(this._create(A))})}onMouseUp(D,N){return f.nm(D,"mouseup",A=>{N(this._create(A))})}onMouseDown(D,N){return f.nm(D,f.tw.MOUSE_DOWN,A=>{N(this._create(A))})}onPointerDown(D,N){return f.nm(D,f.tw.POINTER_DOWN,A=>{N(this._create(A),A.pointerId)})}onMouseLeave(D,N){return f.nm(D,f.tw.MOUSE_LEAVE,A=>{N(this._create(A))})}onMouseMove(D,N){return f.nm(D,"mousemove",A=>N(this._create(A)))}}class d{constructor(D){this._editorViewDomNode=D}_create(D){return new g(D,!1,this._editorViewDomNode)}onPointerUp(D,N){return f.nm(D,"pointerup",A=>{N(this._create(A))})}onPointerDown(D,N){return f.nm(D,f.tw.POINTER_DOWN,A=>{N(this._create(A),A.pointerId)})}onPointerLeave(D,N){return f.nm(D,f.tw.POINTER_LEAVE,A=>{N(this._create(A))})}onPointerMove(D,N){return f.nm(D,"pointermove",A=>N(this._create(A)))}}class a extends v.JT{constructor(D){super(),this._editorViewDomNode=D,this._globalPointerMoveMonitor=this._register(new P.C),this._keydownListener=null}startMonitoring(D,N,A,k,R){this._keydownListener=f.mu(document,"keydown",O=>{O.toKeyCodeChord().isModifierKey()||this._globalPointerMoveMonitor.stopMonitoring(!0,O.browserEvent)},!0),this._globalPointerMoveMonitor.startMonitoring(D,N,A,O=>{k(new g(O,!0,this._editorViewDomNode))},O=>{this._keydownListener.dispose(),R(O)})}stopMonitoring(){this._globalPointerMoveMonitor.stopMonitoring(!0)}}let m=(()=>{class w{constructor(N){this._editor=N,this._instanceId=++w._idPool,this._counter=0,this._rules=new Map,this._garbageCollectionScheduler=new y.pY(()=>this.garbageCollect(),1e3)}createClassNameRef(N){const A=this.getOrCreateRule(N);return A.increaseRefCount(),{className:A.className,dispose:()=>{A.decreaseRefCount(),this._garbageCollectionScheduler.schedule()}}}getOrCreateRule(N){const A=this.computeUniqueKey(N);let k=this._rules.get(A);if(!k){const R=this._counter++;k=new l(A,`dyn-rule-${this._instanceId}-${R}`,f.OO(this._editor.getContainerDomNode())?this._editor.getContainerDomNode():void 0,N),this._rules.set(A,k)}return k}computeUniqueKey(N){return JSON.stringify(N)}garbageCollect(){for(const N of this._rules.values())N.hasReferences()||(this._rules.delete(N.key),N.dispose())}}return w._idPool=0,w})();class l{constructor(D,N,A,k){this.key=D,this.className=N,this.properties=k,this._referenceCount=0,this._styleElement=f.dS(A),this._styleElement.textContent=this.getCssText(this.className,this.properties)}getCssText(D,N){let A=`.${D} {`;for(const k in N){const R=N[k];let O;O="object"==typeof R?(0,S.n_1)(R.id):R;const W=k.replace(/(^[A-Z])/,([D])=>D.toLowerCase()).replace(/([A-Z])/g,([D])=>`-${D.toLowerCase()}`);A+=`\n\t${W}: ${O};`}return A+="\n}",A}dispose(){this._styleElement.remove()}increaseRefCount(){this._referenceCount++}decreaseRefCount(){this._referenceCount--}hasReferences(){return this._referenceCount>0}}},8256:(Xe,we,e)=>{e.d(we,{AJ:()=>m,QG:()=>W,Qr:()=>R,R6:()=>w,Sq:()=>$,Uc:()=>U,_K:()=>z,_l:()=>I,fK:()=>k,jY:()=>D,kz:()=>j,mY:()=>a,n_:()=>se,rn:()=>O,sb:()=>A,x1:()=>N});var U,K,f=e(37190),P=e(15850),r=e(51617),y=e(68678),v=e(41204),S=e(56230),T=e(63032),E=e(11813),L=e(66221),p=e(12065),c=e(31498),u=e(81834),g=e(58942),i=e(91402),d=e(22468);class a{constructor(J){this.id=J.id,this.precondition=J.precondition,this._kbOpts=J.kbOpts,this._menuOpts=J.menuOpts,this._description=J.description}register(){if(Array.isArray(this._menuOpts)?this._menuOpts.forEach(this._registerMenuItem,this):this._menuOpts&&this._registerMenuItem(this._menuOpts),this._kbOpts){const J=Array.isArray(this._kbOpts)?this._kbOpts:[this._kbOpts];for(const te of J){let ne=te.kbExpr;this.precondition&&(ne=ne?L.Ao.and(ne,this.precondition):this.precondition),c.W.registerKeybindingRule({id:this.id,weight:te.weight,args:te.args,when:ne,primary:te.primary,secondary:te.secondary,win:te.win,linux:te.linux,mac:te.mac})}}E.P.registerCommand({id:this.id,handler:(J,te)=>this.runCommand(J,te),description:this._description})}_registerMenuItem(J){T.BH.appendMenuItem(J.menuId,{group:J.group,command:{id:this.id,title:J.title,icon:J.icon,precondition:this.precondition},when:J.when,order:J.order})}}class m extends a{constructor(){super(...arguments),this._implementations=[]}addImplementation(J,te,ne,_){return this._implementations.push({priority:J,name:te,implementation:ne,when:_}),this._implementations.sort((ae,ge)=>ge.priority-ae.priority),{dispose:()=>{for(let ae=0;ae<this._implementations.length;ae++)if(this._implementations[ae].implementation===ne)return void this._implementations.splice(ae,1)}}}runCommand(J,te){const ne=J.get(d.VZ),_=J.get(L.i6);ne.trace(`Executing Command '${this.id}' which has ${this._implementations.length} bound.`);for(const ae of this._implementations){if(ae.when){const _e=_.getContext(document.activeElement);if(!ae.when.evaluate(_e))continue}const ge=ae.implementation(J,te);if(ge)return ne.trace(`Command '${this.id}' was handled by '${ae.name}'.`),"boolean"==typeof ge?void 0:ge}ne.trace(`The Command '${this.id}' was not handled by any implementation.`)}}class l extends a{constructor(J,te){super(te),this.command=J}runCommand(J,te){return this.command.runCommand(J,te)}}class I extends a{static bindToContribution(J){return class extends I{constructor(ne){super(ne),this._callback=ne.handler}runEditorCommand(ne,_,ae){const ge=J(_);ge&&this._callback(ge,ae)}}}static runEditorCommand(J,te,ne,_){const ae=J.get(r.$),ge=ae.getFocusedCodeEditor()||ae.getActiveCodeEditor();if(ge)return ge.invokeWithinContext(_e=>{if(_e.get(L.i6).contextMatchesRules(ne??void 0))return _(_e,ge,te)})}runCommand(J,te){return I.runEditorCommand(J,te,this.precondition,(ne,_,ae)=>this.runEditorCommand(ne,_,ae))}}class w extends I{static convertOptions(J){let te;function ne(_){return _.menuId||(_.menuId=T.eH.EditorContext),_.title||(_.title=J.label),_.when=L.Ao.and(J.precondition,_.when),_}return te=Array.isArray(J.menuOpts)?J.menuOpts:J.menuOpts?[J.menuOpts]:[],Array.isArray(J.contextMenuOpts)?te.push(...J.contextMenuOpts.map(ne)):J.contextMenuOpts&&te.push(ne(J.contextMenuOpts)),J.menuOpts=te,J}constructor(J){super(w.convertOptions(J)),this.label=J.label,this.alias=J.alias}runEditorCommand(J,te,ne){return this.reportTelemetry(J,te),this.run(J,te,ne||{})}reportTelemetry(J,te){J.get(g.b).publicLog2("editorActionInvoked",{name:this.label,id:this.id})}}class D extends w{constructor(){super(...arguments),this._implementations=[]}addImplementation(J,te){return this._implementations.push([J,te]),this._implementations.sort((ne,_)=>_[0]-ne[0]),{dispose:()=>{for(let ne=0;ne<this._implementations.length;ne++)if(this._implementations[ne][1]===te)return void this._implementations.splice(ne,1)}}}run(J,te,ne){for(const _ of this._implementations){const ae=_[1](J,te,ne);if(ae)return"boolean"==typeof ae?void 0:ae}}}class N extends T.Ke{run(J,...te){const ne=J.get(r.$),_=ne.getFocusedCodeEditor()||ne.getActiveCodeEditor();if(_)return _.invokeWithinContext(ae=>{var ge,_e;const ue=ae.get(L.i6),ve=ae.get(d.VZ);if(ue.contextMatchesRules(null!==(ge=this.desc.precondition)&&void 0!==ge?ge:void 0))return this.runEditorCommand(ae,_,...te);ve.debug("[EditorAction2] NOT running command because its precondition is FALSE",this.desc.id,null===(_e=this.desc.precondition)||void 0===_e?void 0:_e.serialize())})}}function A(K,J){E.P.registerCommand(K,function(te,...ne){const _=te.get(p.TG),[ae,ge]=ne;(0,i.p_)(P.o.isUri(ae)),(0,i.p_)(y.L.isIPosition(ge));const _e=te.get(v.q).getModel(ae);if(_e){const ue=y.L.lift(ge);return _.invokeFunction(J,_e,ue,...ne.slice(2))}return te.get(S.S).createModelReference(ae).then(ue=>new Promise((ve,Ie)=>{try{ve(_.invokeFunction(J,ue.object.textEditorModel,y.L.lift(ge),ne.slice(2)))}catch(Se){Ie(Se)}}).finally(()=>{ue.dispose()}))})}function k(K){return B.INSTANCE.registerEditorCommand(K),K}function R(K){const J=new K;return B.INSTANCE.registerEditorAction(J),J}function O(K){return B.INSTANCE.registerEditorAction(K),K}function W(K){B.INSTANCE.registerEditorAction(K)}function z(K,J,te){B.INSTANCE.registerEditorContribution(K,J,te)}(K=U||(U={})).getEditorCommand=function J(ge){return B.INSTANCE.getEditorCommand(ge)},K.getEditorActions=function te(){return B.INSTANCE.getEditorActions()},K.getEditorContributions=function ne(){return B.INSTANCE.getEditorContributions()},K.getSomeEditorContributions=function _(ge){return B.INSTANCE.getEditorContributions().filter(_e=>ge.indexOf(_e.id)>=0)},K.getDiffEditorContributions=function ae(){return B.INSTANCE.getDiffEditorContributions()};class B{constructor(){this.editorContributions=[],this.diffEditorContributions=[],this.editorActions=[],this.editorCommands=Object.create(null)}registerEditorContribution(J,te,ne){this.editorContributions.push({id:J,ctor:te,instantiation:ne})}getEditorContributions(){return this.editorContributions.slice(0)}getDiffEditorContributions(){return this.diffEditorContributions.slice(0)}registerEditorAction(J){J.register(),this.editorActions.push(J)}getEditorActions(){return this.editorActions}registerEditorCommand(J){J.register(),this.editorCommands[J.id]=J}getEditorCommand(J){return this.editorCommands[J]||null}}function G(K){return K.register(),K}B.INSTANCE=new B,u.B.add("editor.contributions",B.INSTANCE);const se=G(new m({id:"undo",precondition:void 0,kbOpts:{weight:0,primary:2104},menuOpts:[{menuId:T.eH.MenubarEditMenu,group:"1_do",title:f.NC({key:"miUndo",comment:["&& denotes a mnemonic"]},"&&Undo"),order:1},{menuId:T.eH.CommandPalette,group:"",title:f.NC("undo","Undo"),order:1}]}));G(new l(se,{id:"default:undo",precondition:void 0}));const j=G(new m({id:"redo",precondition:void 0,kbOpts:{weight:0,primary:2103,secondary:[3128],mac:{primary:3128}},menuOpts:[{menuId:T.eH.MenubarEditMenu,group:"1_do",title:f.NC({key:"miRedo",comment:["&& denotes a mnemonic"]},"&&Redo"),order:2},{menuId:T.eH.CommandPalette,group:"",title:f.NC("redo","Redo"),order:1}]}));G(new l(j,{id:"default:redo",precondition:void 0}));const $=G(new m({id:"editor.action.selectAll",precondition:void 0,kbOpts:{weight:0,kbExpr:null,primary:2079},menuOpts:[{menuId:T.eH.MenubarSelectionMenu,group:"1_basic",title:f.NC({key:"miSelectAll",comment:["&& denotes a mnemonic"]},"&&Select All"),order:1},{menuId:T.eH.CommandPalette,group:"",title:f.NC("selectAll","Select All"),order:1}]}))},97361:(Xe,we,e)=>{e.d(we,{Gl:()=>S,fo:()=>v,vu:()=>y});var f=e(12065),P=e(15850),r=e(91402);const y=(0,f.yh)("IWorkspaceEditService");class v{constructor(L){this.metadata=L}static convert(L){return L.edits.map(p=>{if(S.is(p))return S.lift(p);if(T.is(p))return T.lift(p);throw new Error("Unsupported edit")})}}class S extends v{static is(L){return L instanceof S||(0,r.Kn)(L)&&P.o.isUri(L.resource)&&(0,r.Kn)(L.textEdit)}static lift(L){return L instanceof S?L:new S(L.resource,L.textEdit,L.versionId,L.metadata)}constructor(L,p,c=void 0,u){super(u),this.resource=L,this.textEdit=p,this.versionId=c}}class T extends v{static is(L){return L instanceof T||(0,r.Kn)(L)&&(!!L.newResource||!!L.oldResource)}static lift(L){return L instanceof T?L:new T(L.oldResource,L.newResource,L.options,L.metadata)}constructor(L,p,c={},u){super(u),this.oldResource=L,this.newResource=p,this.options=c}}},51617:(Xe,we,e)=>{e.d(we,{$:()=>P});const P=(0,e(12065).yh)("codeEditorService")},11714:(Xe,we,e)=>{e.d(we,{Q8:()=>ut,eu:()=>ci});var f=e(85328),P=e(78694),r=e(17967),y=e(58178),v=e(52209),S=e(88593),T=e(16055);let L=!1;function p(pt){S.$L&&(L||(L=!0,console.warn("Could not create web worker(s). Falling back to loading web worker code in main thread, which might cause UI freezes. Please see https://github.com/microsoft/monaco-editor#faq")),console.warn(pt.message))}class c{constructor(Ne,je,et,wt){this.vsWorker=Ne,this.req=je,this.method=et,this.args=wt,this.type=0}}class u{constructor(Ne,je,et,wt){this.vsWorker=Ne,this.seq=je,this.res=et,this.err=wt,this.type=1}}class g{constructor(Ne,je,et,wt){this.vsWorker=Ne,this.req=je,this.eventName=et,this.arg=wt,this.type=2}}class i{constructor(Ne,je,et){this.vsWorker=Ne,this.req=je,this.event=et,this.type=3}}class d{constructor(Ne,je){this.vsWorker=Ne,this.req=je,this.type=4}}class a{constructor(Ne){this._workerId=-1,this._handler=Ne,this._lastSentReq=0,this._pendingReplies=Object.create(null),this._pendingEmitters=new Map,this._pendingEvents=new Map}setWorkerId(Ne){this._workerId=Ne}sendMessage(Ne,je){const et=String(++this._lastSentReq);return new Promise((wt,Bt)=>{this._pendingReplies[et]={resolve:wt,reject:Bt},this._send(new c(this._workerId,et,Ne,je))})}listen(Ne,je){let et=null;const wt=new y.Q5({onWillAddFirstListener:()=>{et=String(++this._lastSentReq),this._pendingEmitters.set(et,wt),this._send(new g(this._workerId,et,Ne,je))},onDidRemoveLastListener:()=>{this._pendingEmitters.delete(et),this._send(new d(this._workerId,et)),et=null}});return wt.event}handleMessage(Ne){!Ne||!Ne.vsWorker||-1!==this._workerId&&Ne.vsWorker!==this._workerId||this._handleMessage(Ne)}_handleMessage(Ne){switch(Ne.type){case 1:return this._handleReplyMessage(Ne);case 0:return this._handleRequestMessage(Ne);case 2:return this._handleSubscribeEventMessage(Ne);case 3:return this._handleEventMessage(Ne);case 4:return this._handleUnsubscribeEventMessage(Ne)}}_handleReplyMessage(Ne){if(!this._pendingReplies[Ne.seq])return void console.warn("Got reply to unknown seq");const je=this._pendingReplies[Ne.seq];if(delete this._pendingReplies[Ne.seq],Ne.err){let et=Ne.err;return Ne.err.$isError&&(et=new Error,et.name=Ne.err.name,et.message=Ne.err.message,et.stack=Ne.err.stack),void je.reject(et)}je.resolve(Ne.res)}_handleRequestMessage(Ne){const je=Ne.req;this._handler.handleMessage(Ne.method,Ne.args).then(wt=>{this._send(new u(this._workerId,je,wt,void 0))},wt=>{wt.detail instanceof Error&&(wt.detail=(0,r.ri)(wt.detail)),this._send(new u(this._workerId,je,void 0,(0,r.ri)(wt)))})}_handleSubscribeEventMessage(Ne){const je=Ne.req,et=this._handler.handleEvent(Ne.eventName,Ne.arg)(wt=>{this._send(new i(this._workerId,je,wt))});this._pendingEvents.set(je,et)}_handleEventMessage(Ne){this._pendingEmitters.has(Ne.req)?this._pendingEmitters.get(Ne.req).fire(Ne.event):console.warn("Got event for unknown req")}_handleUnsubscribeEventMessage(Ne){this._pendingEvents.has(Ne.req)?(this._pendingEvents.get(Ne.req).dispose(),this._pendingEvents.delete(Ne.req)):console.warn("Got unsubscribe for unknown req")}_send(Ne){const je=[];if(0===Ne.type)for(let et=0;et<Ne.args.length;et++)Ne.args[et]instanceof ArrayBuffer&&je.push(Ne.args[et]);else 1===Ne.type&&Ne.res instanceof ArrayBuffer&&je.push(Ne.res);this._handler.sendMessage(Ne,je)}}class m extends P.JT{constructor(Ne,je,et){super();let wt=null;this._worker=this._register(Ne.create("vs/base/common/worker/simpleWorker",di=>{this._protocol.handleMessage(di)},di=>{wt?.(di)})),this._protocol=new a({sendMessage:(di,Ei)=>{this._worker.postMessage(di,Ei)},handleMessage:(di,Ei)=>{if("function"!=typeof et[di])return Promise.reject(new Error("Missing method "+di+" on main thread host."));try{return Promise.resolve(et[di].apply(et,Ei))}catch(Ki){return Promise.reject(Ki)}},handleEvent:(di,Ei)=>{if(I(di)){const Ki=et[di].call(et,Ei);if("function"!=typeof Ki)throw new Error(`Missing dynamic event ${di} on main thread host.`);return Ki}if(l(di)){const Ki=et[di];if("function"!=typeof Ki)throw new Error(`Missing event ${di} on main thread host.`);return Ki}throw new Error(`Malformed event name ${di}`)}}),this._protocol.setWorkerId(this._worker.getId());let Bt=null;const xt=globalThis.require;typeof xt<"u"&&"function"==typeof xt.getConfig?Bt=xt.getConfig():typeof globalThis.requirejs<"u"&&(Bt=globalThis.requirejs.s.contexts._.config);const Qt=(0,v.$E)(et);this._onModuleLoaded=this._protocol.sendMessage("$initialize",[this._worker.getId(),JSON.parse(JSON.stringify(Bt)),je,Qt]);const ai=(di,Ei)=>this._request(di,Ei),gi=(di,Ei)=>this._protocol.listen(di,Ei);this._lazyProxy=new Promise((di,Ei)=>{wt=Ei,this._onModuleLoaded.then(Ki=>{di(function w(pt,Ne,je){const et=xt=>function(){const Qt=Array.prototype.slice.call(arguments,0);return Ne(xt,Qt)},wt=xt=>function(Qt){return je(xt,Qt)},Bt={};for(const xt of pt)Bt[xt]=I(xt)?wt(xt):l(xt)?je(xt,void 0):et(xt);return Bt}(Ki,ai,gi))},Ki=>{Ei(Ki),this._onError("Worker failed to load "+je,Ki)})})}getProxyObject(){return this._lazyProxy}_request(Ne,je){return new Promise((et,wt)=>{this._onModuleLoaded.then(()=>{this._protocol.sendMessage(Ne,je).then(et,wt)},wt)})}_onError(Ne,je){console.error(Ne),console.info(je)}}function l(pt){return"o"===pt[0]&&"n"===pt[1]&&T.df(pt.charCodeAt(2))}function I(pt){return/^onDynamic/.test(pt)&&T.df(pt.charCodeAt(9))}const k=(0,e(75578).Z)("defaultWorkerFactory",{createScriptURL:pt=>pt});class W{constructor(Ne,je,et,wt,Bt){this.id=je,this.label=et;const xt=function R(pt){const Ne=globalThis.MonacoEnvironment;if(Ne){if("function"==typeof Ne.getWorker)return Ne.getWorker("workerMain.js",pt);if("function"==typeof Ne.getWorkerUrl){const je=Ne.getWorkerUrl("workerMain.js",pt);return new Worker(k?k.createScriptURL(je):je,{name:pt})}}throw new Error("You must define a function MonacoEnvironment.getWorkerUrl or MonacoEnvironment.getWorker")}(et);this.worker=function O(pt){return"function"==typeof pt.then}(xt)?xt:Promise.resolve(xt),this.postMessage(Ne,[]),this.worker.then(Qt=>{Qt.onmessage=function(ai){wt(ai.data)},Qt.onmessageerror=Bt,"function"==typeof Qt.addEventListener&&Qt.addEventListener("error",Bt)})}getId(){return this.id}postMessage(Ne,je){var et;null===(et=this.worker)||void 0===et||et.then(wt=>{try{wt.postMessage(Ne,je)}catch(Bt){(0,r.dL)(Bt),(0,r.dL)(new Error(`FAILED to post message to '${this.label}'-worker`,{cause:Bt}))}})}dispose(){var Ne;null===(Ne=this.worker)||void 0===Ne||Ne.then(je=>je.terminate()),this.worker=null}}let z=(()=>{class pt{constructor(je){this._label=je,this._webWorkerFailedBeforeError=!1}create(je,et,wt){const Bt=++pt.LAST_WORKER_ID;if(this._webWorkerFailedBeforeError)throw this._webWorkerFailedBeforeError;return new W(je,Bt,this._label||"anonymous"+Bt,et,xt=>{p(xt),this._webWorkerFailedBeforeError=xt,wt(xt)})}}return pt.LAST_WORKER_ID=0,pt})();var U=e(96726),ee=e(58459),B=e(55507),G=e(15850),se=e(68678),j=e(94703);class ${constructor(Ne,je,et,wt){this._uri=Ne,this._lines=je,this._eol=et,this._versionId=wt,this._lineStarts=null,this._cachedTextValue=null}dispose(){this._lines.length=0}get version(){return this._versionId}getText(){return null===this._cachedTextValue&&(this._cachedTextValue=this._lines.join(this._eol)),this._cachedTextValue}onEvents(Ne){Ne.eol&&Ne.eol!==this._eol&&(this._eol=Ne.eol,this._lineStarts=null);const je=Ne.changes;for(const et of je)this._acceptDeleteRange(et.range),this._acceptInsertText(new se.L(et.range.startLineNumber,et.range.startColumn),et.text);this._versionId=Ne.versionId,this._cachedTextValue=null}_ensureLineStarts(){if(!this._lineStarts){const Ne=this._eol.length,je=this._lines.length,et=new Uint32Array(je);for(let wt=0;wt<je;wt++)et[wt]=this._lines[wt].length+Ne;this._lineStarts=new j.oQ(et)}}_setLineText(Ne,je){this._lines[Ne]=je,this._lineStarts&&this._lineStarts.setValue(Ne,this._lines[Ne].length+this._eol.length)}_acceptDeleteRange(Ne){if(Ne.startLineNumber!==Ne.endLineNumber)this._setLineText(Ne.startLineNumber-1,this._lines[Ne.startLineNumber-1].substring(0,Ne.startColumn-1)+this._lines[Ne.endLineNumber-1].substring(Ne.endColumn-1)),this._lines.splice(Ne.startLineNumber,Ne.endLineNumber-Ne.startLineNumber),this._lineStarts&&this._lineStarts.removeValues(Ne.startLineNumber,Ne.endLineNumber-Ne.startLineNumber);else{if(Ne.startColumn===Ne.endColumn)return;this._setLineText(Ne.startLineNumber-1,this._lines[Ne.startLineNumber-1].substring(0,Ne.startColumn-1)+this._lines[Ne.startLineNumber-1].substring(Ne.endColumn-1))}}_acceptInsertText(Ne,je){if(0===je.length)return;const et=(0,T.uq)(je);if(1===et.length)return void this._setLineText(Ne.lineNumber-1,this._lines[Ne.lineNumber-1].substring(0,Ne.column-1)+et[0]+this._lines[Ne.lineNumber-1].substring(Ne.column-1));et[et.length-1]+=this._lines[Ne.lineNumber-1].substring(Ne.column-1),this._setLineText(Ne.lineNumber-1,this._lines[Ne.lineNumber-1].substring(0,Ne.column-1)+et[0]);const wt=new Uint32Array(et.length-1);for(let Bt=1;Bt<et.length;Bt++)this._lines.splice(Ne.lineNumber+Bt-1,0,et[Bt]),wt[Bt-1]=et[Bt].length+this._eol.length;this._lineStarts&&this._lineStarts.insertValues(Ne.lineNumber,wt)}}var K=e(28797),J=e(32583);class te{constructor(Ne,je,et){const wt=new Uint8Array(Ne*je);for(let Bt=0,xt=Ne*je;Bt<xt;Bt++)wt[Bt]=et;this._data=wt,this.rows=Ne,this.cols=je}get(Ne,je){return this._data[Ne*this.cols+je]}set(Ne,je,et){this._data[Ne*this.cols+je]=et}}class ne{constructor(Ne){let je=0,et=0;for(let Bt=0,xt=Ne.length;Bt<xt;Bt++){const[Qt,ai,gi]=Ne[Bt];ai>je&&(je=ai),Qt>et&&(et=Qt),gi>et&&(et=gi)}je++,et++;const wt=new te(et,je,0);for(let Bt=0,xt=Ne.length;Bt<xt;Bt++){const[Qt,ai,gi]=Ne[Bt];wt.set(Qt,ai,gi)}this._states=wt,this._maxCharCode=je}nextState(Ne,je){return je<0||je>=this._maxCharCode?0:this._states.get(Ne,je)}}let _=null,ge=null;class ue{static _createLink(Ne,je,et,wt,Bt){let xt=Bt-1;do{const Qt=je.charCodeAt(xt);if(2!==Ne.get(Qt))break;xt--}while(xt>wt);if(wt>0){const Qt=je.charCodeAt(wt-1),ai=je.charCodeAt(xt);(40===Qt&&41===ai||91===Qt&&93===ai||123===Qt&&125===ai)&&xt--}return{range:{startLineNumber:et,startColumn:wt+1,endLineNumber:et,endColumn:xt+2},url:je.substring(wt,xt+1)}}static computeLinks(Ne,je=function ae(){return null===_&&(_=new ne([[1,104,2],[1,72,2],[1,102,6],[1,70,6],[2,116,3],[2,84,3],[3,116,4],[3,84,4],[4,112,5],[4,80,5],[5,115,9],[5,83,9],[5,58,10],[6,105,7],[6,73,7],[7,108,8],[7,76,8],[8,101,9],[8,69,9],[9,58,10],[10,47,11],[11,47,12]])),_}()){const et=function _e(){if(null===ge){ge=new J.N(0);const pt=" \t<>'\"\u3001\u3002\uff61\uff64\uff0c\uff0e\uff1a\uff1b\u2018\u3008\u300c\u300e\u3014\uff08\uff3b\uff5b\uff62\uff63\uff5d\uff3d\uff09\u3015\u300f\u300d\u3009\u2019\uff40\uff5e\u2026";for(let je=0;je<pt.length;je++)ge.set(pt.charCodeAt(je),1);const Ne=".,;:";for(let je=0;je<Ne.length;je++)ge.set(Ne.charCodeAt(je),2)}return ge}(),wt=[];for(let Bt=1,xt=Ne.getLineCount();Bt<=xt;Bt++){const Qt=Ne.getLineContent(Bt),ai=Qt.length;let gi=0,di=0,Ei=0,Ki=1,zi=!1,qi=!1,fn=!1,Nn=!1;for(;gi<ai;){let xn=!1;const Fn=Qt.charCodeAt(gi);if(13===Ki){let vi;switch(Fn){case 40:zi=!0,vi=0;break;case 41:vi=zi?0:1;break;case 91:fn=!0,qi=!0,vi=0;break;case 93:fn=!1,vi=qi?0:1;break;case 123:Nn=!0,vi=0;break;case 125:vi=Nn?0:1;break;case 39:case 34:case 96:vi=Ei===Fn?1:39===Ei||34===Ei||96===Ei?0:1;break;case 42:vi=42===Ei?1:0;break;case 124:vi=124===Ei?1:0;break;case 32:vi=fn?0:1;break;default:vi=et.get(Fn)}1===vi&&(wt.push(ue._createLink(et,Qt,Bt,di,gi)),xn=!0)}else if(12===Ki){let vi;91===Fn?(qi=!0,vi=0):vi=et.get(Fn),1===vi?xn=!0:Ki=13}else Ki=je.nextState(Ki,Fn),0===Ki&&(xn=!0);xn&&(Ki=1,zi=!1,qi=!1,Nn=!1,di=gi+1,Ei=Fn),gi++}13===Ki&&wt.push(ue._createLink(et,Qt,Bt,di,ai))}return wt}}class Ie{constructor(){this._defaultValueSet=[["true","false"],["True","False"],["Private","Public","Friend","ReadOnly","Partial","Protected","WriteOnly"],["public","protected","private"]]}navigateValueSet(Ne,je,et,wt,Bt){if(Ne&&je){const xt=this.doNavigateValueSet(je,Bt);if(xt)return{range:Ne,value:xt}}if(et&&wt){const xt=this.doNavigateValueSet(wt,Bt);if(xt)return{range:et,value:xt}}return null}doNavigateValueSet(Ne,je){const et=this.numberReplace(Ne,je);return null!==et?et:this.textReplace(Ne,je)}numberReplace(Ne,je){const et=Math.pow(10,Ne.length-(Ne.lastIndexOf(".")+1));let wt=Number(Ne);const Bt=parseFloat(Ne);return isNaN(wt)||isNaN(Bt)||wt!==Bt?null:0!==wt||je?(wt=Math.floor(wt*et),wt+=je?et:-et,String(wt/et)):null}textReplace(Ne,je){return this.valueSetsReplace(this._defaultValueSet,Ne,je)}valueSetsReplace(Ne,je,et){let wt=null;for(let Bt=0,xt=Ne.length;null===wt&&Bt<xt;Bt++)wt=this.valueSetReplace(Ne[Bt],je,et);return wt}valueSetReplace(Ne,je,et){let wt=Ne.indexOf(je);return wt>=0?(wt+=et?1:-1,wt<0?wt=Ne.length-1:wt%=Ne.length,Ne[wt]):null}}Ie.INSTANCE=new Ie;var Se=e(93663),Ve=e(11664),De=e(74097),ye=e(55359),oe=e(37836),Y=e(266);class F{computeDiff(Ne,je,et){var wt;const xt=new be(Ne,je,{maxComputationTime:et.maxComputationTimeMs,shouldIgnoreTrimWhitespace:et.ignoreTrimWhitespace,shouldComputeCharChanges:!0,shouldMakePrettyDiff:!0,shouldPostProcessCharChanges:!0}).computeDiff(),Qt=[];let ai=null;for(const gi of xt.changes){let di,Ei;di=0===gi.originalEndLineNumber?new Y.z(gi.originalStartLineNumber+1,gi.originalStartLineNumber+1):new Y.z(gi.originalStartLineNumber,gi.originalEndLineNumber+1),Ei=0===gi.modifiedEndLineNumber?new Y.z(gi.modifiedStartLineNumber+1,gi.modifiedStartLineNumber+1):new Y.z(gi.modifiedStartLineNumber,gi.modifiedEndLineNumber+1);let Ki=new ye.f0(di,Ei,null===(wt=gi.charChanges)||void 0===wt?void 0:wt.map(zi=>new ye.iy(new U.e(zi.originalStartLineNumber,zi.originalStartColumn,zi.originalEndLineNumber,zi.originalEndColumn),new U.e(zi.modifiedStartLineNumber,zi.modifiedStartColumn,zi.modifiedEndLineNumber,zi.modifiedEndColumn))));ai&&(ai.modifiedRange.endLineNumberExclusive===Ki.modifiedRange.startLineNumber||ai.originalRange.endLineNumberExclusive===Ki.originalRange.startLineNumber)&&(Ki=new ye.f0(ai.originalRange.join(Ki.originalRange),ai.modifiedRange.join(Ki.modifiedRange),ai.innerChanges&&Ki.innerChanges?ai.innerChanges.concat(Ki.innerChanges):void 0),Qt.pop()),Qt.push(Ki),ai=Ki}return(0,oe.eZ)(()=>(0,oe.DM)(Qt,(gi,di)=>di.originalRange.startLineNumber-gi.originalRange.endLineNumberExclusive==di.modifiedRange.startLineNumber-gi.modifiedRange.endLineNumberExclusive&&gi.originalRange.endLineNumberExclusive<di.originalRange.startLineNumber&&gi.modifiedRange.endLineNumberExclusive<di.modifiedRange.startLineNumber)),new ye.hZ(Qt,[],xt.quitEarly)}}function ie(pt,Ne,je,et){return new B.Hs(pt,Ne,je).ComputeDiff(et)}class Ce{constructor(Ne){const je=[],et=[];for(let wt=0,Bt=Ne.length;wt<Bt;wt++)je[wt]=pe(Ne[wt],1),et[wt]=Q(Ne[wt],1);this.lines=Ne,this._startColumns=je,this._endColumns=et}getElements(){const Ne=[];for(let je=0,et=this.lines.length;je<et;je++)Ne[je]=this.lines[je].substring(this._startColumns[je]-1,this._endColumns[je]-1);return Ne}getStrictElement(Ne){return this.lines[Ne]}getStartLineNumber(Ne){return Ne+1}getEndLineNumber(Ne){return Ne+1}createCharSequence(Ne,je,et){const wt=[],Bt=[],xt=[];let Qt=0;for(let ai=je;ai<=et;ai++){const gi=this.lines[ai],Ei=Ne?this._endColumns[ai]:gi.length+1;for(let Ki=Ne?this._startColumns[ai]:1;Ki<Ei;Ki++)wt[Qt]=gi.charCodeAt(Ki-1),Bt[Qt]=ai+1,xt[Qt]=Ki,Qt++;!Ne&&ai<et&&(wt[Qt]=10,Bt[Qt]=ai+1,xt[Qt]=gi.length+1,Qt++)}return new ke(wt,Bt,xt)}}class ke{constructor(Ne,je,et){this._charCodes=Ne,this._lineNumbers=je,this._columns=et}toString(){return"["+this._charCodes.map((Ne,je)=>(10===Ne?"\\n":String.fromCharCode(Ne))+`-(${this._lineNumbers[je]},${this._columns[je]})`).join(", ")+"]"}_assertIndex(Ne,je){if(Ne<0||Ne>=je.length)throw new Error("Illegal index")}getElements(){return this._charCodes}getStartLineNumber(Ne){return Ne>0&&Ne===this._lineNumbers.length?this.getEndLineNumber(Ne-1):(this._assertIndex(Ne,this._lineNumbers),this._lineNumbers[Ne])}getEndLineNumber(Ne){return-1===Ne?this.getStartLineNumber(Ne+1):(this._assertIndex(Ne,this._lineNumbers),10===this._charCodes[Ne]?this._lineNumbers[Ne]+1:this._lineNumbers[Ne])}getStartColumn(Ne){return Ne>0&&Ne===this._columns.length?this.getEndColumn(Ne-1):(this._assertIndex(Ne,this._columns),this._columns[Ne])}getEndColumn(Ne){return-1===Ne?this.getStartColumn(Ne+1):(this._assertIndex(Ne,this._columns),10===this._charCodes[Ne]?1:this._columns[Ne]+1)}}class Pe{constructor(Ne,je,et,wt,Bt,xt,Qt,ai){this.originalStartLineNumber=Ne,this.originalStartColumn=je,this.originalEndLineNumber=et,this.originalEndColumn=wt,this.modifiedStartLineNumber=Bt,this.modifiedStartColumn=xt,this.modifiedEndLineNumber=Qt,this.modifiedEndColumn=ai}static createFromDiffChange(Ne,je,et){const wt=je.getStartLineNumber(Ne.originalStart),Bt=je.getStartColumn(Ne.originalStart),xt=je.getEndLineNumber(Ne.originalStart+Ne.originalLength-1),Qt=je.getEndColumn(Ne.originalStart+Ne.originalLength-1),ai=et.getStartLineNumber(Ne.modifiedStart),gi=et.getStartColumn(Ne.modifiedStart),di=et.getEndLineNumber(Ne.modifiedStart+Ne.modifiedLength-1),Ei=et.getEndColumn(Ne.modifiedStart+Ne.modifiedLength-1);return new Pe(wt,Bt,xt,Qt,ai,gi,di,Ei)}}class fe{constructor(Ne,je,et,wt,Bt){this.originalStartLineNumber=Ne,this.originalEndLineNumber=je,this.modifiedStartLineNumber=et,this.modifiedEndLineNumber=wt,this.charChanges=Bt}static createFromDiffResult(Ne,je,et,wt,Bt,xt,Qt){let ai,gi,di,Ei,Ki;if(0===je.originalLength?(ai=et.getStartLineNumber(je.originalStart)-1,gi=0):(ai=et.getStartLineNumber(je.originalStart),gi=et.getEndLineNumber(je.originalStart+je.originalLength-1)),0===je.modifiedLength?(di=wt.getStartLineNumber(je.modifiedStart)-1,Ei=0):(di=wt.getStartLineNumber(je.modifiedStart),Ei=wt.getEndLineNumber(je.modifiedStart+je.modifiedLength-1)),xt&&je.originalLength>0&&je.originalLength<20&&je.modifiedLength>0&&je.modifiedLength<20&&Bt()){const zi=et.createCharSequence(Ne,je.originalStart,je.originalStart+je.originalLength-1),qi=wt.createCharSequence(Ne,je.modifiedStart,je.modifiedStart+je.modifiedLength-1);if(zi.getElements().length>0&&qi.getElements().length>0){let fn=ie(zi,qi,Bt,!0).changes;Qt&&(fn=function xe(pt){if(pt.length<=1)return pt;const Ne=[pt[0]];let je=Ne[0];for(let et=1,wt=pt.length;et<wt;et++){const Bt=pt[et];Math.min(Bt.originalStart-(je.originalStart+je.originalLength),Bt.modifiedStart-(je.modifiedStart+je.modifiedLength))<3?(je.originalLength=Bt.originalStart+Bt.originalLength-je.originalStart,je.modifiedLength=Bt.modifiedStart+Bt.modifiedLength-je.modifiedStart):(Ne.push(Bt),je=Bt)}return Ne}(fn)),Ki=[];for(let Nn=0,xn=fn.length;Nn<xn;Nn++)Ki.push(Pe.createFromDiffChange(fn[Nn],zi,qi))}}return new fe(ai,gi,di,Ei,Ki)}}class be{constructor(Ne,je,et){this.shouldComputeCharChanges=et.shouldComputeCharChanges,this.shouldPostProcessCharChanges=et.shouldPostProcessCharChanges,this.shouldIgnoreTrimWhitespace=et.shouldIgnoreTrimWhitespace,this.shouldMakePrettyDiff=et.shouldMakePrettyDiff,this.originalLines=Ne,this.modifiedLines=je,this.original=new Ce(Ne),this.modified=new Ce(je),this.continueLineDiff=le(et.maxComputationTime),this.continueCharDiff=le(0===et.maxComputationTime?0:Math.min(et.maxComputationTime,5e3))}computeDiff(){if(1===this.original.lines.length&&0===this.original.lines[0].length)return 1===this.modified.lines.length&&0===this.modified.lines[0].length?{quitEarly:!1,changes:[]}:{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:1,modifiedStartLineNumber:1,modifiedEndLineNumber:this.modified.lines.length,charChanges:void 0}]};if(1===this.modified.lines.length&&0===this.modified.lines[0].length)return{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:this.original.lines.length,modifiedStartLineNumber:1,modifiedEndLineNumber:1,charChanges:void 0}]};const Ne=ie(this.original,this.modified,this.continueLineDiff,this.shouldMakePrettyDiff),je=Ne.changes,et=Ne.quitEarly;if(this.shouldIgnoreTrimWhitespace){const Qt=[];for(let ai=0,gi=je.length;ai<gi;ai++)Qt.push(fe.createFromDiffResult(this.shouldIgnoreTrimWhitespace,je[ai],this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges));return{quitEarly:et,changes:Qt}}const wt=[];let Bt=0,xt=0;for(let Qt=-1,ai=je.length;Qt<ai;Qt++){const gi=Qt+1<ai?je[Qt+1]:null,di=gi?gi.originalStart:this.originalLines.length,Ei=gi?gi.modifiedStart:this.modifiedLines.length;for(;Bt<di&&xt<Ei;){const Ki=this.originalLines[Bt],zi=this.modifiedLines[xt];if(Ki!==zi){{let qi=pe(Ki,1),fn=pe(zi,1);for(;qi>1&&fn>1&&Ki.charCodeAt(qi-2)===zi.charCodeAt(fn-2);)qi--,fn--;(qi>1||fn>1)&&this._pushTrimWhitespaceCharChange(wt,Bt+1,1,qi,xt+1,1,fn)}{let qi=Q(Ki,1),fn=Q(zi,1);const Nn=Ki.length+1,xn=zi.length+1;for(;qi<Nn&&fn<xn&&Ki.charCodeAt(qi-1)===Ki.charCodeAt(fn-1);)qi++,fn++;(qi<Nn||fn<xn)&&this._pushTrimWhitespaceCharChange(wt,Bt+1,qi,Nn,xt+1,fn,xn)}}Bt++,xt++}gi&&(wt.push(fe.createFromDiffResult(this.shouldIgnoreTrimWhitespace,gi,this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges)),Bt+=gi.originalLength,xt+=gi.modifiedLength)}return{quitEarly:et,changes:wt}}_pushTrimWhitespaceCharChange(Ne,je,et,wt,Bt,xt,Qt){if(this._mergeTrimWhitespaceCharChange(Ne,je,et,wt,Bt,xt,Qt))return;let ai;this.shouldComputeCharChanges&&(ai=[new Pe(je,et,je,wt,Bt,xt,Bt,Qt)]),Ne.push(new fe(je,je,Bt,Bt,ai))}_mergeTrimWhitespaceCharChange(Ne,je,et,wt,Bt,xt,Qt){const ai=Ne.length;if(0===ai)return!1;const gi=Ne[ai-1];return 0!==gi.originalEndLineNumber&&0!==gi.modifiedEndLineNumber&&(gi.originalEndLineNumber===je&&gi.modifiedEndLineNumber===Bt?(this.shouldComputeCharChanges&&gi.charChanges&&gi.charChanges.push(new Pe(je,et,je,wt,Bt,xt,Bt,Qt)),!0):gi.originalEndLineNumber+1===je&&gi.modifiedEndLineNumber+1===Bt&&(gi.originalEndLineNumber=je,gi.modifiedEndLineNumber=Bt,this.shouldComputeCharChanges&&gi.charChanges&&gi.charChanges.push(new Pe(je,et,je,wt,Bt,xt,Bt,Qt)),!0))}}function pe(pt,Ne){const je=T.LC(pt);return-1===je?Ne:je+1}function Q(pt,Ne){const je=T.ow(pt);return-1===je?Ne:je+2}function le(pt){if(0===pt)return()=>!0;const Ne=Date.now();return()=>Date.now()-Ne<pt}var Fe=e(86600);var Je=e(90888);function ot(pt){const Ne=[];for(const je of pt){const et=Number(je);(et||0===et&&""!==je.replace(/\s/g,""))&&Ne.push(et)}return Ne}function lt(pt,Ne,je,et){return{red:pt/255,blue:je/255,green:Ne/255,alpha:et}}function mt(pt,Ne){const je=Ne.index,et=Ne[0].length;if(!je)return;const wt=pt.positionAt(je);return{startLineNumber:wt.lineNumber,startColumn:wt.column,endLineNumber:wt.lineNumber,endColumn:wt.column+et}}function ft(pt,Ne){if(!pt)return;const je=Je.Il.Format.CSS.parseHex(Ne);return je?{range:pt,color:lt(je.rgba.r,je.rgba.g,je.rgba.b,je.rgba.a)}:void 0}function Lt(pt,Ne,je){if(!pt||1!==Ne.length)return;const Bt=ot(Ne[0].values());return{range:pt,color:lt(Bt[0],Bt[1],Bt[2],je?Bt[3]:1)}}function Tt(pt,Ne,je){if(!pt||1!==Ne.length)return;const Bt=ot(Ne[0].values()),xt=new Je.Il(new Je.Oz(Bt[0],Bt[1]/100,Bt[2]/100,je?Bt[3]:1));return{range:pt,color:lt(xt.rgba.r,xt.rgba.g,xt.rgba.b,xt.rgba.a)}}function Mt(pt,Ne){return"string"==typeof pt?[...pt.matchAll(Ne)]:pt.findMatches(Ne)}var It=function(pt,Ne,je,et){return new(je||(je=Promise))(function(Bt,xt){function Qt(di){try{gi(et.next(di))}catch(Ei){xt(Ei)}}function ai(di){try{gi(et.throw(di))}catch(Ei){xt(Ei)}}function gi(di){di.done?Bt(di.value):function wt(Bt){return Bt instanceof je?Bt:new je(function(xt){xt(Bt)})}(di.value).then(Qt,ai)}gi((et=et.apply(pt,Ne||[])).next())})};class it extends ${get uri(){return this._uri}get eol(){return this._eol}getValue(){return this.getText()}findMatches(Ne){const je=[];for(let et=0;et<this._lines.length;et++){const wt=this._lines[et],Bt=this.offsetAt(new se.L(et+1,1)),xt=wt.matchAll(Ne);for(const Qt of xt)(Qt.index||0===Qt.index)&&(Qt.index=Qt.index+Bt),je.push(Qt)}return je}getLinesContent(){return this._lines.slice(0)}getLineCount(){return this._lines.length}getLineContent(Ne){return this._lines[Ne-1]}getWordAtPosition(Ne,je){const et=(0,K.t2)(Ne.column,(0,K.eq)(je),this._lines[Ne.lineNumber-1],0);return et?new U.e(Ne.lineNumber,et.startColumn,Ne.lineNumber,et.endColumn):null}words(Ne){const je=this._lines,et=this._wordenize.bind(this);let wt=0,Bt="",xt=0,Qt=[];return{*[Symbol.iterator](){for(;;)if(xt<Qt.length){const ai=Bt.substring(Qt[xt].start,Qt[xt].end);xt+=1,yield ai}else{if(!(wt<je.length))break;Bt=je[wt],Qt=et(Bt,Ne),xt=0,wt+=1}}}}getLineWords(Ne,je){const et=this._lines[Ne-1],wt=this._wordenize(et,je),Bt=[];for(const xt of wt)Bt.push({word:et.substring(xt.start,xt.end),startColumn:xt.start+1,endColumn:xt.end+1});return Bt}_wordenize(Ne,je){const et=[];let wt;for(je.lastIndex=0;(wt=je.exec(Ne))&&0!==wt[0].length;)et.push({start:wt.index,end:wt.index+wt[0].length});return et}getValueInRange(Ne){if((Ne=this._validateRange(Ne)).startLineNumber===Ne.endLineNumber)return this._lines[Ne.startLineNumber-1].substring(Ne.startColumn-1,Ne.endColumn-1);const je=this._eol,et=Ne.startLineNumber-1,wt=Ne.endLineNumber-1,Bt=[];Bt.push(this._lines[et].substring(Ne.startColumn-1));for(let xt=et+1;xt<wt;xt++)Bt.push(this._lines[xt]);return Bt.push(this._lines[wt].substring(0,Ne.endColumn-1)),Bt.join(je)}offsetAt(Ne){return Ne=this._validatePosition(Ne),this._ensureLineStarts(),this._lineStarts.getPrefixSum(Ne.lineNumber-2)+(Ne.column-1)}positionAt(Ne){Ne=Math.floor(Ne),Ne=Math.max(0,Ne),this._ensureLineStarts();const je=this._lineStarts.getIndexOf(Ne);return{lineNumber:1+je.index,column:1+Math.min(je.remainder,this._lines[je.index].length)}}_validateRange(Ne){const je=this._validatePosition({lineNumber:Ne.startLineNumber,column:Ne.startColumn}),et=this._validatePosition({lineNumber:Ne.endLineNumber,column:Ne.endColumn});return je.lineNumber!==Ne.startLineNumber||je.column!==Ne.startColumn||et.lineNumber!==Ne.endLineNumber||et.column!==Ne.endColumn?{startLineNumber:je.lineNumber,startColumn:je.column,endLineNumber:et.lineNumber,endColumn:et.column}:Ne}_validatePosition(Ne){if(!se.L.isIPosition(Ne))throw new Error("bad position");let{lineNumber:je,column:et}=Ne,wt=!1;if(je<1)je=1,et=1,wt=!0;else if(je>this._lines.length)je=this._lines.length,et=this._lines[je-1].length+1,wt=!0;else{const Bt=this._lines[je-1].length+1;et<1?(et=1,wt=!0):et>Bt&&(et=Bt,wt=!0)}return wt?{lineNumber:je,column:et}:Ne}}let qe=(()=>{class pt{constructor(je,et){this._host=je,this._models=Object.create(null),this._foreignModuleFactory=et,this._foreignModule=null}dispose(){this._models=Object.create(null)}_getModel(je){return this._models[je]}_getModels(){const je=[];return Object.keys(this._models).forEach(et=>je.push(this._models[et])),je}acceptNewModel(je){this._models[je.url]=new it(G.o.parse(je.url),je.lines,je.EOL,je.versionId)}acceptModelChanged(je,et){this._models[je]&&this._models[je].onEvents(et)}acceptRemovedModel(je){this._models[je]&&delete this._models[je]}computeUnicodeHighlights(je,et,wt){return It(this,void 0,void 0,function*(){const Bt=this._getModel(je);return Bt?De.a.computeUnicodeHighlights(Bt,et,wt):{ranges:[],hasMore:!1,ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0}})}computeDiff(je,et,wt,Bt){return It(this,void 0,void 0,function*(){const xt=this._getModel(je),Qt=this._getModel(et);return xt&&Qt?pt.computeDiff(xt,Qt,wt,Bt):null})}static computeDiff(je,et,wt,Bt){const xt="advanced"===Bt?new Fe.a7:new F,Qt=je.getLinesContent(),ai=et.getLinesContent(),gi=xt.computeDiff(Qt,ai,wt);function Ei(Ki){return Ki.map(zi=>{var qi;return[zi.originalRange.startLineNumber,zi.originalRange.endLineNumberExclusive,zi.modifiedRange.startLineNumber,zi.modifiedRange.endLineNumberExclusive,null===(qi=zi.innerChanges)||void 0===qi?void 0:qi.map(fn=>[fn.originalRange.startLineNumber,fn.originalRange.startColumn,fn.originalRange.endLineNumber,fn.originalRange.endColumn,fn.modifiedRange.startLineNumber,fn.modifiedRange.startColumn,fn.modifiedRange.endLineNumber,fn.modifiedRange.endColumn])]})}return{identical:!(gi.changes.length>0)&&this._modelsAreIdentical(je,et),quitEarly:gi.hitTimeout,changes:Ei(gi.changes),moves:gi.moves.map(Ki=>[Ki.lineRangeMapping.original.startLineNumber,Ki.lineRangeMapping.original.endLineNumberExclusive,Ki.lineRangeMapping.modified.startLineNumber,Ki.lineRangeMapping.modified.endLineNumberExclusive,Ei(Ki.changes)])}}static _modelsAreIdentical(je,et){const wt=je.getLineCount();if(wt!==et.getLineCount())return!1;for(let xt=1;xt<=wt;xt++)if(je.getLineContent(xt)!==et.getLineContent(xt))return!1;return!0}computeMoreMinimalEdits(je,et,wt){return It(this,void 0,void 0,function*(){const Bt=this._getModel(je);if(!Bt)return et;const xt=[];let Qt;et=et.slice(0).sort((ai,gi)=>ai.range&&gi.range?U.e.compareRangesUsingStarts(ai.range,gi.range):(ai.range?0:1)-(gi.range?0:1));for(let{range:ai,text:gi,eol:di}of et){if("number"==typeof di&&(Qt=di),U.e.isEmpty(ai)&&!gi)continue;const Ei=Bt.getValueInRange(ai);if(gi=gi.replace(/\r\n|\n|\r/g,Bt.eol),Ei===gi)continue;if(Math.max(gi.length,Ei.length)>pt._diffLimit){xt.push({range:ai,text:gi});continue}const Ki=(0,B.a$)(Ei,gi,wt),zi=Bt.offsetAt(U.e.lift(ai).getStartPosition());for(const qi of Ki){const fn=Bt.positionAt(zi+qi.originalStart),Nn=Bt.positionAt(zi+qi.originalStart+qi.originalLength),xn={text:gi.substr(qi.modifiedStart,qi.modifiedLength),range:{startLineNumber:fn.lineNumber,startColumn:fn.column,endLineNumber:Nn.lineNumber,endColumn:Nn.column}};Bt.getValueInRange(xn.range)!==xn.text&&xt.push(xn)}}return"number"==typeof Qt&&xt.push({eol:Qt,text:"",range:{startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0}}),xt})}computeLinks(je){return It(this,void 0,void 0,function*(){const et=this._getModel(je);return et?function ve(pt){return pt&&"function"==typeof pt.getLineCount&&"function"==typeof pt.getLineContent?ue.computeLinks(pt):[]}(et):null})}computeDefaultDocumentColors(je){return It(this,void 0,void 0,function*(){const et=this._getModel(je);return et?function At(pt){return pt&&"function"==typeof pt.getValue&&"function"==typeof pt.positionAt?function Ut(pt){const Ne=[],et=Mt(pt,/\b(rgb|rgba|hsl|hsla)(\([0-9\s,.\%]*\))|(#)([A-Fa-f0-9]{3})\b|(#)([A-Fa-f0-9]{4})\b|(#)([A-Fa-f0-9]{6})\b|(#)([A-Fa-f0-9]{8})\b/gm);if(et.length>0)for(const wt of et){const Bt=wt.filter(gi=>void 0!==gi),xt=Bt[1],Qt=Bt[2];if(!Qt)continue;let ai;if("rgb"===xt){const gi=/^\(\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*\)$/gm;ai=Lt(mt(pt,wt),Mt(Qt,gi),!1)}else if("rgba"===xt){const gi=/^\(\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(0[.][0-9]+|[.][0-9]+|[01][.]|[01])\s*\)$/gm;ai=Lt(mt(pt,wt),Mt(Qt,gi),!0)}else if("hsl"===xt){const gi=/^\(\s*(36[0]|3[0-5][0-9]|[12][0-9][0-9]|[1-9]?[0-9])\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*\)$/gm;ai=Tt(mt(pt,wt),Mt(Qt,gi),!1)}else if("hsla"===xt){const gi=/^\(\s*(36[0]|3[0-5][0-9]|[12][0-9][0-9]|[1-9]?[0-9])\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(0[.][0-9]+|[.][0-9]+|[01][.]|[01])\s*\)$/gm;ai=Tt(mt(pt,wt),Mt(Qt,gi),!0)}else"#"===xt&&(ai=ft(mt(pt,wt),xt+Qt));ai&&Ne.push(ai)}return Ne}(pt):[]}(et):null})}textualSuggest(je,et,wt,Bt){return It(this,void 0,void 0,function*(){const xt=new Ve.G,Qt=new RegExp(wt,Bt),ai=new Set;e:for(const gi of je){const di=this._getModel(gi);if(di)for(const Ei of di.words(Qt))if(Ei!==et&&isNaN(Number(Ei))&&(ai.add(Ei),ai.size>pt._suggestionsLimit))break e}return{words:Array.from(ai),duration:xt.elapsed()}})}computeWordRanges(je,et,wt,Bt){return It(this,void 0,void 0,function*(){const xt=this._getModel(je);if(!xt)return Object.create(null);const Qt=new RegExp(wt,Bt),ai=Object.create(null);for(let gi=et.startLineNumber;gi<et.endLineNumber;gi++){const di=xt.getLineWords(gi,Qt);for(const Ei of di){if(!isNaN(Number(Ei.word)))continue;let Ki=ai[Ei.word];Ki||(Ki=[],ai[Ei.word]=Ki),Ki.push({startLineNumber:gi,startColumn:Ei.startColumn,endLineNumber:gi,endColumn:Ei.endColumn})}}return ai})}navigateValueSet(je,et,wt,Bt,xt){return It(this,void 0,void 0,function*(){const Qt=this._getModel(je);if(!Qt)return null;const ai=new RegExp(Bt,xt);et.startColumn===et.endColumn&&(et={startLineNumber:et.startLineNumber,startColumn:et.startColumn,endLineNumber:et.endLineNumber,endColumn:et.endColumn+1});const gi=Qt.getValueInRange(et),di=Qt.getWordAtPosition({lineNumber:et.startLineNumber,column:et.startColumn},ai);if(!di)return null;const Ei=Qt.getValueInRange(di);return Ie.INSTANCE.navigateValueSet(et,gi,di,Ei,wt)})}loadForeignModule(je,et,wt){const Qt={host:(0,v.IU)(wt,(ai,gi)=>this._host.fhr(ai,gi)),getMirrorModels:()=>this._getModels()};return this._foreignModuleFactory?(this._foreignModule=this._foreignModuleFactory(Qt,et),Promise.resolve((0,v.$E)(this._foreignModule))):Promise.reject(new Error("Unexpected usage"))}fmr(je,et){if(!this._foreignModule||"function"!=typeof this._foreignModule[je])return Promise.reject(new Error("Missing requestHandler or method: "+je));try{return Promise.resolve(this._foreignModule[je].apply(this._foreignModule,et))}catch(wt){return Promise.reject(wt)}}}return pt._diffLimit=1e5,pt._suggestionsLimit=1e4,pt})();"function"==typeof importScripts&&(globalThis.monaco=(0,Se.O)());var Ee=e(41204),Te=e(75782),Ae=e(31738),ht=e(22468),yt=e(55763),Ot=function(pt,Ne){return function(je,et){Ne(je,et,pt)}},gt=function(pt,Ne,je,et){return new(je||(je=Promise))(function(Bt,xt){function Qt(di){try{gi(et.next(di))}catch(Ei){xt(Ei)}}function ai(di){try{gi(et.throw(di))}catch(Ei){xt(Ei)}}function gi(di){di.done?Bt(di.value):function wt(Bt){return Bt instanceof je?Bt:new je(function(xt){xt(Bt)})}(di.value).then(Qt,ai)}gi((et=et.apply(pt,Ne||[])).next())})};function Ci(pt,Ne){const je=pt.getModel(Ne);return!(!je||je.isTooLargeForSyncing())}let ci=class extends P.JT{constructor(Ne,je,et,wt,Bt){super(),this._modelService=Ne,this._workerManager=this._register(new Gi(this._modelService,wt)),this._logService=et,this._register(Bt.linkProvider.register({language:"*",hasAccessToAllModels:!0},{provideLinks:(xt,Qt)=>Ci(this._modelService,xt.uri)?this._workerManager.withWorker().then(ai=>ai.computeLinks(xt.uri)).then(ai=>ai&&{links:ai}):Promise.resolve({links:[]})})),this._register(Bt.completionProvider.register("*",new Mi(this._workerManager,je,this._modelService,wt)))}dispose(){super.dispose()}canComputeUnicodeHighlights(Ne){return Ci(this._modelService,Ne)}computedUnicodeHighlights(Ne,je,et){return this._workerManager.withWorker().then(wt=>wt.computedUnicodeHighlights(Ne,je,et))}computeDiff(Ne,je,et,wt){return gt(this,void 0,void 0,function*(){const Bt=yield this._workerManager.withWorker().then(ai=>ai.computeDiff(Ne,je,et,wt));return Bt?{identical:Bt.identical,quitEarly:Bt.quitEarly,changes:Qt(Bt.changes),moves:Bt.moves.map(ai=>new ye.y0(new ye.Qy(new Y.z(ai[0],ai[1]),new Y.z(ai[2],ai[3])),Qt(ai[4])))}:null;function Qt(ai){return ai.map(gi=>{var di;return new ye.f0(new Y.z(gi[0],gi[1]),new Y.z(gi[2],gi[3]),null===(di=gi[4])||void 0===di?void 0:di.map(Ei=>new ye.iy(new U.e(Ei[0],Ei[1],Ei[2],Ei[3]),new U.e(Ei[4],Ei[5],Ei[6],Ei[7]))))})}})}computeMoreMinimalEdits(Ne,je,et=!1){if((0,Ae.Of)(je)){if(!Ci(this._modelService,Ne))return Promise.resolve(je);const wt=Ve.G.create(),Bt=this._workerManager.withWorker().then(xt=>xt.computeMoreMinimalEdits(Ne,je,et));return Bt.finally(()=>this._logService.trace("FORMAT#computeMoreMinimalEdits",Ne.toString(!0),wt.elapsed())),Promise.race([Bt,(0,f.Vs)(1e3).then(()=>je)])}return Promise.resolve(void 0)}canNavigateValueSet(Ne){return Ci(this._modelService,Ne)}navigateValueSet(Ne,je,et){return this._workerManager.withWorker().then(wt=>wt.navigateValueSet(Ne,je,et))}canComputeWordRanges(Ne){return Ci(this._modelService,Ne)}computeWordRanges(Ne,je){return this._workerManager.withWorker().then(et=>et.computeWordRanges(Ne,je))}};ci=function(pt,Ne,je,et){var xt,wt=arguments.length,Bt=wt<3?Ne:null===et?et=Object.getOwnPropertyDescriptor(Ne,je):et;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Bt=Reflect.decorate(pt,Ne,je,et);else for(var Qt=pt.length-1;Qt>=0;Qt--)(xt=pt[Qt])&&(Bt=(wt<3?xt(Bt):wt>3?xt(Ne,je,Bt):xt(Ne,je))||Bt);return wt>3&&Bt&&Object.defineProperty(Ne,je,Bt),Bt}([Ot(0,Ee.q),Ot(1,Te.V),Ot(2,ht.VZ),Ot(3,ee.c_),Ot(4,yt.p)],ci);class Mi{constructor(Ne,je,et,wt){this.languageConfigurationService=wt,this._debugDisplayName="wordbasedCompletions",this._workerManager=Ne,this._configurationService=je,this._modelService=et}provideCompletionItems(Ne,je){return gt(this,void 0,void 0,function*(){const et=this._configurationService.getValue(Ne.uri,je,"editor");if(!et.wordBasedSuggestions)return;const wt=[];if("currentDocument"===et.wordBasedSuggestionsMode)Ci(this._modelService,Ne.uri)&&wt.push(Ne.uri);else for(const Ei of this._modelService.getModels())Ci(this._modelService,Ei.uri)&&(Ei===Ne?wt.unshift(Ei.uri):("allDocuments"===et.wordBasedSuggestionsMode||Ei.getLanguageId()===Ne.getLanguageId())&&wt.push(Ei.uri));if(0===wt.length)return;const Bt=this.languageConfigurationService.getLanguageConfiguration(Ne.getLanguageId()).getWordDefinition(),xt=Ne.getWordAtPosition(je),Qt=xt?new U.e(je.lineNumber,xt.startColumn,je.lineNumber,xt.endColumn):U.e.fromPositions(je),ai=Qt.setEndPosition(je.lineNumber,je.column),di=yield(yield this._workerManager.withWorker()).textualSuggest(wt,xt?.word,Bt);return di?{duration:di.duration,suggestions:di.words.map(Ei=>({kind:18,label:Ei,insertText:Ei,range:{insert:ai,replace:Qt}}))}:void 0})}}class Gi extends P.JT{constructor(Ne,je){super(),this.languageConfigurationService=je,this._modelService=Ne,this._editorWorkerClient=null,this._lastWorkerUsedTime=(new Date).getTime(),this._register(new f.zh).cancelAndSet(()=>this._checkStopIdleWorker(),Math.round(15e4)),this._register(this._modelService.onModelRemoved(wt=>this._checkStopEmptyWorker()))}dispose(){this._editorWorkerClient&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null),super.dispose()}_checkStopEmptyWorker(){this._editorWorkerClient&&0===this._modelService.getModels().length&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}_checkStopIdleWorker(){this._editorWorkerClient&&(new Date).getTime()-this._lastWorkerUsedTime>3e5&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}withWorker(){return this._lastWorkerUsedTime=(new Date).getTime(),this._editorWorkerClient||(this._editorWorkerClient=new ut(this._modelService,!1,"editorWorkerService",this.languageConfigurationService)),Promise.resolve(this._editorWorkerClient)}}class Zi extends P.JT{constructor(Ne,je,et){if(super(),this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),this._proxy=Ne,this._modelService=je,!et){const wt=new f.zh;wt.cancelAndSet(()=>this._checkStopModelSync(),Math.round(3e4)),this._register(wt)}}dispose(){for(const Ne in this._syncedModels)(0,P.B9)(this._syncedModels[Ne]);this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),super.dispose()}ensureSyncedResources(Ne,je){for(const et of Ne){const wt=et.toString();this._syncedModels[wt]||this._beginModelSync(et,je),this._syncedModels[wt]&&(this._syncedModelsLastUsedTime[wt]=(new Date).getTime())}}_checkStopModelSync(){const Ne=(new Date).getTime(),je=[];for(const et in this._syncedModelsLastUsedTime)Ne-this._syncedModelsLastUsedTime[et]>6e4&&je.push(et);for(const et of je)this._stopModelSync(et)}_beginModelSync(Ne,je){const et=this._modelService.getModel(Ne);if(!et||!je&&et.isTooLargeForSyncing())return;const wt=Ne.toString();this._proxy.acceptNewModel({url:et.uri.toString(),lines:et.getLinesContent(),EOL:et.getEOL(),versionId:et.getVersionId()});const Bt=new P.SL;Bt.add(et.onDidChangeContent(xt=>{this._proxy.acceptModelChanged(wt.toString(),xt)})),Bt.add(et.onWillDispose(()=>{this._stopModelSync(wt)})),Bt.add((0,P.OF)(()=>{this._proxy.acceptRemovedModel(wt)})),this._syncedModels[wt]=Bt}_stopModelSync(Ne){const je=this._syncedModels[Ne];delete this._syncedModels[Ne],delete this._syncedModelsLastUsedTime[Ne],(0,P.B9)(je)}}class St{constructor(Ne){this._instance=Ne,this._proxyObj=Promise.resolve(this._instance)}dispose(){this._instance.dispose()}getProxyObject(){return this._proxyObj}}class st{constructor(Ne){this._workerClient=Ne}fhr(Ne,je){return this._workerClient.fhr(Ne,je)}}class ut extends P.JT{constructor(Ne,je,et,wt){super(),this.languageConfigurationService=wt,this._disposed=!1,this._modelService=Ne,this._keepIdleModels=je,this._workerFactory=new z(et),this._worker=null,this._modelManager=null}fhr(Ne,je){throw new Error("Not implemented!")}_getOrCreateWorker(){if(!this._worker)try{this._worker=this._register(new m(this._workerFactory,"vs/editor/common/services/editorSimpleWorker",new st(this)))}catch(Ne){p(Ne),this._worker=new St(new qe(new st(this),null))}return this._worker}_getProxy(){return this._getOrCreateWorker().getProxyObject().then(void 0,Ne=>(p(Ne),this._worker=new St(new qe(new st(this),null)),this._getOrCreateWorker().getProxyObject()))}_getOrCreateModelManager(Ne){return this._modelManager||(this._modelManager=this._register(new Zi(Ne,this._modelService,this._keepIdleModels))),this._modelManager}_withSyncedResources(Ne,je=!1){return gt(this,void 0,void 0,function*(){return this._disposed?Promise.reject((0,r.F0)()):this._getProxy().then(et=>(this._getOrCreateModelManager(et).ensureSyncedResources(Ne,je),et))})}computedUnicodeHighlights(Ne,je,et){return this._withSyncedResources([Ne]).then(wt=>wt.computeUnicodeHighlights(Ne.toString(),je,et))}computeDiff(Ne,je,et,wt){return this._withSyncedResources([Ne,je],!0).then(Bt=>Bt.computeDiff(Ne.toString(),je.toString(),et,wt))}computeMoreMinimalEdits(Ne,je,et){return this._withSyncedResources([Ne]).then(wt=>wt.computeMoreMinimalEdits(Ne.toString(),je,et))}computeLinks(Ne){return this._withSyncedResources([Ne]).then(je=>je.computeLinks(Ne.toString()))}computeDefaultDocumentColors(Ne){return this._withSyncedResources([Ne]).then(je=>je.computeDefaultDocumentColors(Ne.toString()))}textualSuggest(Ne,je,et){return gt(this,void 0,void 0,function*(){const wt=yield this._withSyncedResources(Ne),Bt=et.source,xt=et.flags;return wt.textualSuggest(Ne.map(Qt=>Qt.toString()),je,Bt,xt)})}computeWordRanges(Ne,je){return this._withSyncedResources([Ne]).then(et=>{const wt=this._modelService.getModel(Ne);if(!wt)return Promise.resolve(null);const Bt=this.languageConfigurationService.getLanguageConfiguration(wt.getLanguageId()).getWordDefinition(),xt=Bt.source,Qt=Bt.flags;return et.computeWordRanges(Ne.toString(),je,xt,Qt)})}navigateValueSet(Ne,je,et){return this._withSyncedResources([Ne]).then(wt=>{const Bt=this._modelService.getModel(Ne);if(!Bt)return null;const xt=this.languageConfigurationService.getLanguageConfiguration(Bt.getLanguageId()).getWordDefinition(),Qt=xt.source,ai=xt.flags;return wt.navigateValueSet(Ne.toString(),je,et,Qt,ai)})}dispose(){super.dispose(),this._disposed=!0}}},45332:(Xe,we,e)=>{e.d(we,{Z:()=>f});class f{static capture(r){if(0===r.getScrollTop()||r.hasPendingScrollAnimation())return new f(r.getScrollTop(),r.getContentHeight(),null,0,null);let y=null,v=0;const S=r.getVisibleRanges();if(S.length>0){y=S[0].getStartPosition();const T=r.getTopForPosition(y.lineNumber,y.column);v=r.getScrollTop()-T}return new f(r.getScrollTop(),r.getContentHeight(),y,v,r.getPosition())}constructor(r,y,v,S,T){this._initialScrollTop=r,this._initialContentHeight=y,this._visiblePosition=v,this._visiblePositionScrollDelta=S,this._cursorPosition=T}restore(r){if((this._initialContentHeight!==r.getContentHeight()||this._initialScrollTop!==r.getScrollTop())&&this._visiblePosition){const y=r.getTopForPosition(this._visiblePosition.lineNumber,this._visiblePosition.column);r.setScrollTop(y+this._visiblePositionScrollDelta)}}restoreRelativeVerticalPositionOfCursor(r){if(this._initialContentHeight===r.getContentHeight()&&this._initialScrollTop===r.getScrollTop())return;const y=r.getPosition();if(!this._cursorPosition||!y)return;const v=r.getTopForLineNumber(y.lineNumber)-r.getTopForLineNumber(this._cursorPosition.lineNumber);r.setScrollTop(r.getScrollTop()+v)}}},25612:(Xe,we,e)=>{e.d(we,{CH:()=>T,CR:()=>v,D4:()=>S,u7:()=>r,xh:()=>P,yu:()=>y});class f{constructor(L,p){this._restrictedRenderingContextBrand=void 0,this._viewLayout=L,this.viewportData=p,this.scrollWidth=this._viewLayout.getScrollWidth(),this.scrollHeight=this._viewLayout.getScrollHeight(),this.visibleRange=this.viewportData.visibleRange,this.bigNumbersDelta=this.viewportData.bigNumbersDelta;const c=this._viewLayout.getCurrentViewport();this.scrollTop=c.top,this.scrollLeft=c.left,this.viewportWidth=c.width,this.viewportHeight=c.height}getScrolledTopFromAbsoluteTop(L){return L-this.scrollTop}getVerticalOffsetForLineNumber(L,p){return this._viewLayout.getVerticalOffsetForLineNumber(L,p)}getVerticalOffsetAfterLineNumber(L,p){return this._viewLayout.getVerticalOffsetAfterLineNumber(L,p)}getDecorationsInViewport(){return this.viewportData.getDecorationsInViewport()}}class P extends f{constructor(L,p,c){super(L,p),this._renderingContextBrand=void 0,this._viewLines=c}linesVisibleRangesForRange(L,p){return this._viewLines.linesVisibleRangesForRange(L,p)}visibleRangeForPosition(L){return this._viewLines.visibleRangeForPosition(L)}}class r{constructor(L,p,c,u){this.outsideRenderedLine=L,this.lineNumber=p,this.ranges=c,this.continuesOnNextLine=u}}class y{static from(L){const p=new Array(L.length);for(let c=0,u=L.length;c<u;c++){const g=L[c];p[c]=new y(g.left,g.width)}return p}constructor(L,p){this._horizontalRangeBrand=void 0,this.left=Math.round(L),this.width=Math.round(p)}toString(){return`[${this.left},${this.width}]`}}class v{constructor(L,p){this._floatHorizontalRangeBrand=void 0,this.left=L,this.width=p}toString(){return`[${this.left},${this.width}]`}static compare(L,p){return L.left-p.left}}class S{constructor(L,p){this.outsideRenderedLine=L,this.originalLeft=p,this.left=Math.round(this.originalLeft)}}class T{constructor(L,p){this.outsideRenderedLine=L,this.ranges=p}}},47749:(Xe,we,e)=>{e.d(we,{Nt:()=>g,ob:()=>u,dL:()=>w});var f=e(47492),P=e(25937),r=e(88593),y=e(25612);class v{static _createRange(){return this._handyReadyRange||(this._handyReadyRange=document.createRange()),this._handyReadyRange}static _detachRange(N,A){N.selectNodeContents(A)}static _readClientRects(N,A,k,R,O){const W=this._createRange();try{return W.setStart(N,A),W.setEnd(k,R),W.getClientRects()}catch{return null}finally{this._detachRange(W,O)}}static _mergeAdjacentRanges(N){if(1===N.length)return N;N.sort(y.CR.compare);const A=[];let k=0,R=N[0];for(let O=1,W=N.length;O<W;O++){const z=N[O];R.left+R.width+.9>=z.left?R.width=Math.max(R.width,z.left+z.width-R.left):(A[k++]=R,R=z)}return A[k++]=R,A}static _createHorizontalRangesFromClientRects(N,A,k){if(!N||0===N.length)return null;const R=[];for(let O=0,W=N.length;O<W;O++){const z=N[O];R[O]=new y.CR(Math.max(0,(z.left-A)/k),z.width/k)}return this._mergeAdjacentRanges(R)}static readHorizontalRanges(N,A,k,R,O,W){const U=N.children.length-1;if(0>U)return null;if((A=Math.min(U,Math.max(0,A)))===(R=Math.min(U,Math.max(0,R)))&&k===O&&0===k&&!N.children[A].firstChild){const se=N.children[A].getClientRects();return W.markDidDomLayout(),this._createHorizontalRangesFromClientRects(se,W.clientRectDeltaLeft,W.clientRectScale)}A!==R&&R>0&&0===O&&(R--,O=1073741824);let ee=N.children[A].firstChild,B=N.children[R].firstChild;if((!ee||!B)&&(!ee&&0===k&&A>0&&(ee=N.children[A-1].firstChild,k=1073741824),!B&&0===O&&R>0&&(B=N.children[R-1].firstChild,O=1073741824)),!ee||!B)return null;k=Math.min(ee.textContent.length,Math.max(0,k)),O=Math.min(B.textContent.length,Math.max(0,O));const G=this._readClientRects(ee,k,B,O,W.endNode);return W.markDidDomLayout(),this._createHorizontalRangesFromClientRects(G,W.clientRectDeltaLeft,W.clientRectScale)}}var S=e(48092),T=e(82911),E=e(13054),L=e(36413);const p=!!r.tY||!(r.IJ||f.vU||f.G6);let c=!0;class u{constructor(N,A){this.themeType=A;const k=N.options,R=k.get(49);this.renderWhitespace="off"===k.get(37)?k.get(97):"none",this.renderControlCharacters=k.get(92),this.spaceWidth=R.spaceWidth,this.middotWidth=R.middotWidth,this.wsmiddotWidth=R.wsmiddotWidth,this.useMonospaceOptimizations=R.isMonospace&&!k.get(32),this.canUseHalfwidthRightwardsArrow=R.canUseHalfwidthRightwardsArrow,this.lineHeight=k.get(65),this.stopRenderingLineAfter=k.get(115),this.fontLigatures=k.get(50)}equals(N){return this.themeType===N.themeType&&this.renderWhitespace===N.renderWhitespace&&this.renderControlCharacters===N.renderControlCharacters&&this.spaceWidth===N.spaceWidth&&this.middotWidth===N.middotWidth&&this.wsmiddotWidth===N.wsmiddotWidth&&this.useMonospaceOptimizations===N.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===N.canUseHalfwidthRightwardsArrow&&this.lineHeight===N.lineHeight&&this.stopRenderingLineAfter===N.stopRenderingLineAfter&&this.fontLigatures===N.fontLigatures}}let g=(()=>{class D{constructor(A){this._options=A,this._isMaybeInvalid=!0,this._renderedViewLine=null}getDomNode(){return this._renderedViewLine&&this._renderedViewLine.domNode?this._renderedViewLine.domNode.domNode:null}setDomNode(A){if(!this._renderedViewLine)throw new Error("I have no rendered view line to set the dom node to...");this._renderedViewLine.domNode=(0,P.X)(A)}onContentChanged(){this._isMaybeInvalid=!0}onTokensChanged(){this._isMaybeInvalid=!0}onDecorationsChanged(){this._isMaybeInvalid=!0}onOptionsChanged(A){this._isMaybeInvalid=!0,this._options=A}onSelectionChanged(){return!(!(0,E.c3)(this._options.themeType)&&"selection"!==this._options.renderWhitespace||(this._isMaybeInvalid=!0,0))}renderLine(A,k,R,O){if(!1===this._isMaybeInvalid)return!1;this._isMaybeInvalid=!1;const W=R.getViewLineRenderingData(A),z=this._options,U=S.Kp.filter(W.inlineDecorations,A,W.minColumn,W.maxColumn);let ee=null;if((0,E.c3)(z.themeType)||"selection"===this._options.renderWhitespace){const j=R.selections;for(const $ of j){if($.endLineNumber<A||$.startLineNumber>A)continue;const K=$.startLineNumber===A?$.startColumn:W.minColumn,J=$.endLineNumber===A?$.endColumn:W.maxColumn;K<J&&((0,E.c3)(z.themeType)&&U.push(new S.Kp(K,J,"inline-selected-text",0)),"selection"===this._options.renderWhitespace&&(ee||(ee=[]),ee.push(new T.zG(K-1,J-1))))}}const B=new T.IJ(z.useMonospaceOptimizations,z.canUseHalfwidthRightwardsArrow,W.content,W.continuesWithWrappedLine,W.isBasicASCII,W.containsRTL,W.minColumn-1,W.tokens,U,W.tabSize,W.startVisibleColumn,z.spaceWidth,z.middotWidth,z.wsmiddotWidth,z.stopRenderingLineAfter,z.renderWhitespace,z.renderControlCharacters,z.fontLigatures!==L.n0.OFF,ee);if(this._renderedViewLine&&this._renderedViewLine.input.equals(B))return!1;O.appendString('<div style="top:'),O.appendString(String(k)),O.appendString("px;height:"),O.appendString(String(this._options.lineHeight)),O.appendString('px;" class="'),O.appendString(D.CLASS_NAME),O.appendString('">');const G=(0,T.d1)(B,O);O.appendString("</div>");let se=null;return c&&p&&W.isBasicASCII&&z.useMonospaceOptimizations&&0===G.containsForeignElements&&(se=new i(this._renderedViewLine?this._renderedViewLine.domNode:null,B,G.characterMapping)),se||(se=m(this._renderedViewLine?this._renderedViewLine.domNode:null,B,G.characterMapping,G.containsRTL,G.containsForeignElements)),this._renderedViewLine=se,!0}layoutLine(A,k){this._renderedViewLine&&this._renderedViewLine.domNode&&(this._renderedViewLine.domNode.setTop(k),this._renderedViewLine.domNode.setHeight(this._options.lineHeight))}getWidth(A){return this._renderedViewLine?this._renderedViewLine.getWidth(A):0}getWidthIsFast(){return!this._renderedViewLine||this._renderedViewLine.getWidthIsFast()}needsMonospaceFontCheck(){return!!this._renderedViewLine&&this._renderedViewLine instanceof i}monospaceAssumptionsAreValid(){return this._renderedViewLine&&this._renderedViewLine instanceof i?this._renderedViewLine.monospaceAssumptionsAreValid():c}onMonospaceAssumptionsInvalidated(){this._renderedViewLine&&this._renderedViewLine instanceof i&&(this._renderedViewLine=this._renderedViewLine.toSlowRenderedLine())}getVisibleRangesForRange(A,k,R,O){if(!this._renderedViewLine)return null;k=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,k)),R=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,R));const W=this._renderedViewLine.input.stopRenderingLineAfter;if(-1!==W&&k>W+1&&R>W+1)return new y.CH(!0,[new y.CR(this.getWidth(O),0)]);-1!==W&&k>W+1&&(k=W+1),-1!==W&&R>W+1&&(R=W+1);const z=this._renderedViewLine.getVisibleRangesForRange(A,k,R,O);return z&&z.length>0?new y.CH(!1,z):null}getColumnOfNodeOffset(A,k){return this._renderedViewLine?this._renderedViewLine.getColumnOfNodeOffset(A,k):1}}return D.CLASS_NAME="view-line",D})();class i{constructor(N,A,k){this._cachedWidth=-1,this.domNode=N,this.input=A;const R=Math.floor(A.lineContent.length/300);if(R>0){this._keyColumnPixelOffsetCache=new Float32Array(R);for(let O=0;O<R;O++)this._keyColumnPixelOffsetCache[O]=-1}else this._keyColumnPixelOffsetCache=null;this._characterMapping=k,this._charWidth=A.spaceWidth}getWidth(N){if(!this.domNode||this.input.lineContent.length<300){const A=this._characterMapping.getHorizontalOffset(this._characterMapping.length);return Math.round(this._charWidth*A)}return-1===this._cachedWidth&&(this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth,N?.markDidDomLayout()),this._cachedWidth}getWidthIsFast(){return this.input.lineContent.length<300||-1!==this._cachedWidth}monospaceAssumptionsAreValid(){if(!this.domNode)return c;if(this.input.lineContent.length<300){const N=this.getWidth(null);Math.abs(N-this.domNode.domNode.firstChild.offsetWidth)>=2&&(console.warn("monospace assumptions have been violated, therefore disabling monospace optimizations!"),c=!1)}return c}toSlowRenderedLine(){return m(this.domNode,this.input,this._characterMapping,!1,0)}getVisibleRangesForRange(N,A,k,R){const O=this._getColumnPixelOffset(N,A,R),W=this._getColumnPixelOffset(N,k,R);return[new y.CR(O,W-O)]}_getColumnPixelOffset(N,A,k){if(A<=300){const ee=this._characterMapping.getHorizontalOffset(A);return this._charWidth*ee}const R=Math.floor((A-1)/300)-1,O=300*(R+1)+1;let W=-1;if(this._keyColumnPixelOffsetCache&&(W=this._keyColumnPixelOffsetCache[R],-1===W&&(W=this._actualReadPixelOffset(N,O,k),this._keyColumnPixelOffsetCache[R]=W)),-1===W){const ee=this._characterMapping.getHorizontalOffset(A);return this._charWidth*ee}const z=this._characterMapping.getHorizontalOffset(O),U=this._characterMapping.getHorizontalOffset(A);return W+this._charWidth*(U-z)}_getReadingTarget(N){return N.domNode.firstChild}_actualReadPixelOffset(N,A,k){if(!this.domNode)return-1;const R=this._characterMapping.getDomPosition(A),O=v.readHorizontalRanges(this._getReadingTarget(this.domNode),R.partIndex,R.charIndex,R.partIndex,R.charIndex,k);return O&&0!==O.length?O[0].left:-1}getColumnOfNodeOffset(N,A){return w(this._characterMapping,N,A)}}class d{constructor(N,A,k,R,O){if(this.domNode=N,this.input=A,this._characterMapping=k,this._isWhitespaceOnly=/^\s*$/.test(A.lineContent),this._containsForeignElements=O,this._cachedWidth=-1,this._pixelOffsetCache=null,!R||0===this._characterMapping.length){this._pixelOffsetCache=new Float32Array(Math.max(2,this._characterMapping.length+1));for(let W=0,z=this._characterMapping.length;W<=z;W++)this._pixelOffsetCache[W]=-1}}_getReadingTarget(N){return N.domNode.firstChild}getWidth(N){return this.domNode?(-1===this._cachedWidth&&(this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth,N?.markDidDomLayout()),this._cachedWidth):0}getWidthIsFast(){return-1!==this._cachedWidth}getVisibleRangesForRange(N,A,k,R){if(!this.domNode)return null;if(null!==this._pixelOffsetCache){const O=this._readPixelOffset(this.domNode,N,A,R);if(-1===O)return null;const W=this._readPixelOffset(this.domNode,N,k,R);return-1===W?null:[new y.CR(O,W-O)]}return this._readVisibleRangesForRange(this.domNode,N,A,k,R)}_readVisibleRangesForRange(N,A,k,R,O){if(k===R){const W=this._readPixelOffset(N,A,k,O);return-1===W?null:[new y.CR(W,0)]}return this._readRawVisibleRangesForRange(N,k,R,O)}_readPixelOffset(N,A,k,R){if(0===this._characterMapping.length){if(0===this._containsForeignElements||2===this._containsForeignElements)return 0;if(1===this._containsForeignElements)return this.getWidth(R);const O=this._getReadingTarget(N);return O.firstChild?(R.markDidDomLayout(),O.firstChild.offsetWidth):0}if(null!==this._pixelOffsetCache){const O=this._pixelOffsetCache[k];if(-1!==O)return O;const W=this._actualReadPixelOffset(N,A,k,R);return this._pixelOffsetCache[k]=W,W}return this._actualReadPixelOffset(N,A,k,R)}_actualReadPixelOffset(N,A,k,R){if(0===this._characterMapping.length){const U=v.readHorizontalRanges(this._getReadingTarget(N),0,0,0,0,R);return U&&0!==U.length?U[0].left:-1}if(k===this._characterMapping.length&&this._isWhitespaceOnly&&0===this._containsForeignElements)return this.getWidth(R);const O=this._characterMapping.getDomPosition(k),W=v.readHorizontalRanges(this._getReadingTarget(N),O.partIndex,O.charIndex,O.partIndex,O.charIndex,R);if(!W||0===W.length)return-1;const z=W[0].left;if(this.input.isBasicASCII){const U=this._characterMapping.getHorizontalOffset(k),ee=Math.round(this.input.spaceWidth*U);if(Math.abs(ee-z)<=1)return ee}return z}_readRawVisibleRangesForRange(N,A,k,R){if(1===A&&k===this._characterMapping.length)return[new y.CR(0,this.getWidth(R))];const O=this._characterMapping.getDomPosition(A),W=this._characterMapping.getDomPosition(k);return v.readHorizontalRanges(this._getReadingTarget(N),O.partIndex,O.charIndex,W.partIndex,W.charIndex,R)}getColumnOfNodeOffset(N,A){return w(this._characterMapping,N,A)}}class a extends d{_readVisibleRangesForRange(N,A,k,R,O){const W=super._readVisibleRangesForRange(N,A,k,R,O);if(!W||0===W.length||k===R||1===k&&R===this._characterMapping.length)return W;if(!this.input.containsRTL){const z=this._readPixelOffset(N,A,R,O);if(-1!==z){const U=W[W.length-1];U.left<z&&(U.width=z-U.left)}}return W}}const m=f.Pf?function l(D,N,A,k,R){return new a(D,N,A,k,R)}:function I(D,N,A,k,R){return new d(D,N,A,k,R)};function w(D,N,A){const k=N.textContent.length;let R=-1;for(;N;)N=N.previousSibling,R++;return D.getColumn(new T.Nd(R,A),k)}},84109:(Xe,we,e)=>{e.d(we,{Gm:()=>ca});var f=e(73079),P=e(8256);let v=class{constructor(t,o){}dispose(){}};var t;v.ID="editor.contrib.markerDecorations",v=function(bt,t,o,b){var Le,V=arguments.length,Z=V<3?t:null===b?b=Object.getOwnPropertyDescriptor(t,o):b;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Z=Reflect.decorate(bt,t,o,b);else for(var Re=bt.length-1;Re>=0;Re--)(Le=bt[Re])&&(Z=(V<3?Le(Z):V>3?Le(t,o,Z):Le(t,o))||Z);return V>3&&Z&&Object.defineProperty(t,o,Z),Z}([(1,t=f.i,function(o,b){t(o,b,1)})],v),(0,P._K)(v.ID,v,0);var S=e(93379),T=e.n(S),E=e(7795),L=e.n(E),p=e(90569),c=e.n(p),u=e(3565),g=e.n(u),i=e(19216),d=e.n(i),a=e(44589),m=e.n(a),l=e(97337),I={};I.styleTagTransform=m(),I.setAttributes=g(),I.insert=c().bind(null,"head"),I.domAPI=L(),I.insertStyleElement=d(),T()(l.Z,I);var N=e(37190),A=e(20274),k=e(17967),R=e(58178),O=e(78694),W=e(42685),z=e(47492),U=e(31738),ee=e(52209),B=e(88593),G=e(81772),se=e(50030);let j=(()=>{class bt{constructor(o,b){this.key=o,this.migrate=b}apply(o){const b=bt._read(o,this.key);this.migrate(b,Le=>bt._read(o,Le),(Le,Re)=>bt._write(o,Le,Re))}static _read(o,b){if(typeof o>"u")return;const V=b.indexOf(".");if(V>=0){const Z=b.substring(0,V);return this._read(o[Z],b.substring(V+1))}return o[b]}static _write(o,b,V){const Z=b.indexOf(".");if(Z>=0){const Le=b.substring(0,Z);return o[Le]=o[Le]||{},void this._write(o[Le],b.substring(Z+1),V)}o[b]=V}}return bt.items=[],bt})();function $(bt,t){j.items.push(new j(bt,t))}function K(bt,t){$(bt,(o,b,V)=>{if(typeof o<"u")for(const[Z,Le]of t)if(o===Z)return void V(bt,Le)})}K("wordWrap",[[!0,"on"],[!1,"off"]]),K("lineNumbers",[[!0,"on"],[!1,"off"]]),K("cursorBlinking",[["visible","solid"]]),K("renderWhitespace",[[!0,"boundary"],[!1,"none"]]),K("renderLineHighlight",[[!0,"line"],[!1,"none"]]),K("acceptSuggestionOnEnter",[[!0,"on"],[!1,"off"]]),K("tabCompletion",[[!1,"off"],[!0,"onlySnippets"]]),K("hover",[[!0,{enabled:!0}],[!1,{enabled:!1}]]),K("parameterHints",[[!0,{enabled:!0}],[!1,{enabled:!1}]]),K("autoIndent",[[!1,"advanced"],[!0,"full"]]),K("matchBrackets",[[!0,"always"],[!1,"never"]]),K("renderFinalNewline",[[!0,"on"],[!1,"off"]]),K("cursorSmoothCaretAnimation",[[!0,"on"],[!1,"off"]]),$("autoClosingBrackets",(bt,t,o)=>{!1===bt&&(o("autoClosingBrackets","never"),typeof t("autoClosingQuotes")>"u"&&o("autoClosingQuotes","never"),typeof t("autoSurround")>"u"&&o("autoSurround","never"))}),$("renderIndentGuides",(bt,t,o)=>{typeof bt<"u"&&(o("renderIndentGuides",void 0),typeof t("guides.indentation")>"u"&&o("guides.indentation",!!bt))}),$("highlightActiveIndentGuide",(bt,t,o)=>{typeof bt<"u"&&(o("highlightActiveIndentGuide",void 0),typeof t("guides.highlightActiveIndentation")>"u"&&o("guides.highlightActiveIndentation",!!bt))});const te={method:"showMethods",function:"showFunctions",constructor:"showConstructors",deprecated:"showDeprecated",field:"showFields",variable:"showVariables",class:"showClasses",struct:"showStructs",interface:"showInterfaces",module:"showModules",property:"showProperties",event:"showEvents",operator:"showOperators",unit:"showUnits",value:"showValues",constant:"showConstants",enum:"showEnums",enumMember:"showEnumMembers",keyword:"showKeywords",text:"showWords",color:"showColors",file:"showFiles",reference:"showReferences",folder:"showFolders",typeParameter:"showTypeParameters",snippet:"showSnippets"};$("suggest.filteredTypes",(bt,t,o)=>{if(bt&&"object"==typeof bt){for(const b of Object.entries(te))!1===bt[b[0]]&&typeof t(`suggest.${b[1]}`)>"u"&&o(`suggest.${b[1]}`,!1);o("suggest.filteredTypes",void 0)}}),$("quickSuggestions",(bt,t,o)=>{if("boolean"==typeof bt){const b=bt?"on":"off";o("quickSuggestions",{comments:b,strings:b,other:b})}}),$("experimental.stickyScroll.enabled",(bt,t,o)=>{"boolean"==typeof bt&&(o("experimental.stickyScroll.enabled",void 0),typeof t("stickyScroll.enabled")>"u"&&o("stickyScroll.enabled",bt))}),$("experimental.stickyScroll.maxLineCount",(bt,t,o)=>{"number"==typeof bt&&(o("experimental.stickyScroll.maxLineCount",void 0),typeof t("stickyScroll.maxLineCount")>"u"&&o("stickyScroll.maxLineCount",bt))});var ne=e(88089),_=e(36413),ae=e(24558),ge=e(25349),_e=e(74875);let Ie=class extends O.JT{constructor(t,o,b,V){super(),this._accessibilityService=V,this._onDidChange=this._register(new R.Q5),this.onDidChange=this._onDidChange.event,this._onDidChangeFast=this._register(new R.Q5),this.onDidChangeFast=this._onDidChangeFast.event,this._isDominatedByLongLines=!1,this._viewLineCount=1,this._lineNumbersDigitCount=1,this._reservedHeight=0,this._glyphMarginDecorationLaneCount=1,this._computeOptionsMemory=new _.LJ,this.isSimpleWidget=t,this._containerObserver=this._register(new G.I(b,o.dimension)),this._rawOptions=Y(o),this._validatedOptions=oe.validateOptions(this._rawOptions),this.options=this._computeOptions(),this.options.get(12)&&this._containerObserver.startObserving(),this._register(ae.C.onDidChangeZoomLevel(()=>this._recomputeOptions())),this._register(ne.n.onDidChangeTabFocus(()=>this._recomputeOptions())),this._register(this._containerObserver.onDidChange(()=>this._recomputeOptions())),this._register(se.g.onDidChange(()=>this._recomputeOptions())),this._register(z.Tz.onDidChange(()=>this._recomputeOptions())),this._register(this._accessibilityService.onDidChangeScreenReaderOptimized(()=>this._recomputeOptions()))}_recomputeOptions(){const t=this._computeOptions(),o=oe.checkEquals(this.options,t);null!==o&&(this.options=t,this._onDidChangeFast.fire(o),this._onDidChange.fire(o))}_computeOptions(){const t=this._readEnvConfiguration(),o=ge.E4.createFromValidatedSettings(this._validatedOptions,t.pixelRatio,this.isSimpleWidget),b=this._readFontInfo(o),V={memory:this._computeOptionsMemory,outerWidth:t.outerWidth,outerHeight:t.outerHeight-this._reservedHeight,fontInfo:b,extraEditorClassName:t.extraEditorClassName,isDominatedByLongLines:this._isDominatedByLongLines,viewLineCount:this._viewLineCount,lineNumbersDigitCount:this._lineNumbersDigitCount,emptySelectionClipboard:t.emptySelectionClipboard,pixelRatio:t.pixelRatio,tabFocusMode:ne.n.getTabFocusMode("editorFocus"),accessibilitySupport:t.accessibilitySupport,glyphMarginDecorationLaneCount:this._glyphMarginDecorationLaneCount};return oe.computeOptions(this._validatedOptions,V)}_readEnvConfiguration(){return{extraEditorClassName:Ve(),outerWidth:this._containerObserver.getWidth(),outerHeight:this._containerObserver.getHeight(),emptySelectionClipboard:z.Pf||z.vU,pixelRatio:z.Tz.value,accessibilitySupport:this._accessibilityService.isScreenReaderOptimized()?2:this._accessibilityService.getAccessibilitySupport()}}_readFontInfo(t){return se.g.readFontInfo(t)}getRawOptions(){return this._rawOptions}updateOptions(t){const o=Y(t);oe.applyUpdate(this._rawOptions,o)&&(this._validatedOptions=oe.validateOptions(this._rawOptions),this._recomputeOptions())}observeContainer(t){this._containerObserver.observe(t)}setIsDominatedByLongLines(t){this._isDominatedByLongLines!==t&&(this._isDominatedByLongLines=t,this._recomputeOptions())}setModelLineCount(t){const o=function Se(bt){let t=0;for(;bt;)bt=Math.floor(bt/10),t++;return t||1}(t);this._lineNumbersDigitCount!==o&&(this._lineNumbersDigitCount=o,this._recomputeOptions())}setViewLineCount(t){this._viewLineCount!==t&&(this._viewLineCount=t,this._recomputeOptions())}setReservedHeight(t){this._reservedHeight!==t&&(this._reservedHeight=t,this._recomputeOptions())}setGlyphMarginDecorationLaneCount(t){this._glyphMarginDecorationLaneCount!==t&&(this._glyphMarginDecorationLaneCount=t,this._recomputeOptions())}};function Ve(){let bt="";return!z.G6&&!z.MG&&(bt+="no-user-select "),z.G6&&(bt+="no-minimap-shadow ",bt+="enable-user-select "),B.dz&&(bt+="mac "),bt}Ie=function(bt,t,o,b){var Le,V=arguments.length,Z=V<3?t:null===b?b=Object.getOwnPropertyDescriptor(t,o):b;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Z=Reflect.decorate(bt,t,o,b);else for(var Re=bt.length-1;Re>=0;Re--)(Le=bt[Re])&&(Z=(V<3?Le(Z):V>3?Le(t,o,Z):Le(t,o))||Z);return V>3&&Z&&Object.defineProperty(t,o,Z),Z}([function(bt,t){return function(o,b){t(o,b,3)}}(0,_e.F)],Ie);class De{constructor(){this._values=[]}_read(t){return this._values[t]}get(t){return this._values[t]}_write(t,o){this._values[t]=o}}class ye{constructor(){this._values=[]}_read(t){if(t>=this._values.length)throw new Error("Cannot read uninitialized value");return this._values[t]}get(t){return this._read(t)}_write(t,o){this._values[t]=o}}class oe{static validateOptions(t){const o=new De;for(const b of _.Bc)o._write(b.id,b.validate("_never_"===b.name?void 0:t[b.name]));return o}static computeOptions(t,o){const b=new ye;for(const V of _.Bc)b._write(V.id,V.compute(o,b,t._read(V.id)));return b}static _deepEquals(t,o){if("object"!=typeof t||"object"!=typeof o||!t||!o)return t===o;if(Array.isArray(t)||Array.isArray(o))return!(!Array.isArray(t)||!Array.isArray(o))&&U.fS(t,o);if(Object.keys(t).length!==Object.keys(o).length)return!1;for(const b in t)if(!oe._deepEquals(t[b],o[b]))return!1;return!0}static checkEquals(t,o){const b=[];let V=!1;for(const Z of _.Bc){const Le=!oe._deepEquals(t._read(Z.id),o._read(Z.id));b[Z.id]=Le,Le&&(V=!0)}return V?new _.Bb(b):null}static applyUpdate(t,o){let b=!1;for(const V of _.Bc)if(o.hasOwnProperty(V.name)){const Z=V.applyUpdate(t[V.name],o[V.name]);t[V.name]=Z.newValue,b=b||Z.didChange}return b}}function Y(bt){const t=ee.I8(bt);return function J(bt){j.items.forEach(t=>t.apply(bt))}(t),t}var x=e(51617),F=e(81534),ie=e(96726),Ce=e(25937),ke=e(54796),Pe=e(20940),xe=e(58431);class fe extends O.JT{constructor(){super(),this._shouldRender=!0}shouldRender(){return this._shouldRender}forceShouldRender(){this._shouldRender=!0}setShouldRender(){this._shouldRender=!0}onDidRender(){this._shouldRender=!1}onCompositionStart(t){return!1}onCompositionEnd(t){return!1}onConfigurationChanged(t){return!1}onCursorStateChanged(t){return!1}onDecorationsChanged(t){return!1}onFlushed(t){return!1}onFocusChanged(t){return!1}onLanguageConfigurationChanged(t){return!1}onLineMappingChanged(t){return!1}onLinesChanged(t){return!1}onLinesDeleted(t){return!1}onLinesInserted(t){return!1}onRevealRangeRequest(t){return!1}onScrollChanged(t){return!1}onThemeChanged(t){return!1}onTokensChanged(t){return!1}onTokensColorsChanged(t){return!1}onZonesChanged(t){return!1}handleEvents(t){let o=!1;for(let b=0,V=t.length;b<V;b++){const Z=t[b];switch(Z.type){case 0:this.onCompositionStart(Z)&&(o=!0);break;case 1:this.onCompositionEnd(Z)&&(o=!0);break;case 2:this.onConfigurationChanged(Z)&&(o=!0);break;case 3:this.onCursorStateChanged(Z)&&(o=!0);break;case 4:this.onDecorationsChanged(Z)&&(o=!0);break;case 5:this.onFlushed(Z)&&(o=!0);break;case 6:this.onFocusChanged(Z)&&(o=!0);break;case 7:this.onLanguageConfigurationChanged(Z)&&(o=!0);break;case 8:this.onLineMappingChanged(Z)&&(o=!0);break;case 9:this.onLinesChanged(Z)&&(o=!0);break;case 10:this.onLinesDeleted(Z)&&(o=!0);break;case 11:this.onLinesInserted(Z)&&(o=!0);break;case 12:this.onRevealRangeRequest(Z)&&(o=!0);break;case 13:this.onScrollChanged(Z)&&(o=!0);break;case 15:this.onTokensChanged(Z)&&(o=!0);break;case 14:this.onThemeChanged(Z)&&(o=!0);break;case 16:this.onTokensColorsChanged(Z)&&(o=!0);break;case 17:this.onZonesChanged(Z)&&(o=!0);break;default:console.info("View received unknown event: "),console.info(Z)}}o&&(this._shouldRender=!0)}}class be extends fe{constructor(t){super(),this._context=t,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}}class pe{static write(t,o){t.setAttribute("data-mprt",String(o))}static read(t){const o=t.getAttribute("data-mprt");return null===o?0:parseInt(o,10)}static collect(t,o){const b=[];let V=0;for(;t&&t!==document.body&&t!==o;)t.nodeType===t.ELEMENT_NODE&&(b[V++]=this.read(t)),t=t.parentElement;const Z=new Uint8Array(V);for(let Le=0;Le<V;Le++)Z[Le]=b[V-Le-1];return Z}}var lt,Q=e(47749),le=e(68678),Fe=e(96678),He=e(83418);class Je{constructor(t=null){this.hitTarget=t,this.type=0}}class ot{constructor(t,o,b){this.position=t,this.spanNode=o,this.injectedText=b,this.type=1}}!function(bt){bt.createFromDOMInfo=function t(o,b,V){const Z=o.getPositionFromDOMInfo(b,V);return Z?new ot(Z,b,null):new Je(b)}}(lt||(lt={}));class mt{constructor(t,o){this.lastViewCursorsRenderData=t,this.lastTextareaPosition=o}}class ft{static _deduceRage(t,o=null){return!o&&t?new ie.e(t.lineNumber,t.column,t.lineNumber,t.column):o??null}static createUnknown(t,o,b){return{type:0,element:t,mouseColumn:o,position:b,range:this._deduceRage(b)}}static createTextarea(t,o){return{type:1,element:t,mouseColumn:o,position:null,range:null}}static createMargin(t,o,b,V,Z,Le){return{type:t,element:o,mouseColumn:b,position:V,range:Z,detail:Le}}static createViewZone(t,o,b,V,Z){return{type:t,element:o,mouseColumn:b,position:V,range:this._deduceRage(V),detail:Z}}static createContentText(t,o,b,V,Z){return{type:6,element:t,mouseColumn:o,position:b,range:this._deduceRage(b,V),detail:Z}}static createContentEmpty(t,o,b,V){return{type:7,element:t,mouseColumn:o,position:b,range:this._deduceRage(b),detail:V}}static createContentWidget(t,o,b){return{type:9,element:t,mouseColumn:o,position:null,range:null,detail:b}}static createScrollbar(t,o,b){return{type:11,element:t,mouseColumn:o,position:b,range:this._deduceRage(b)}}static createOverlayWidget(t,o,b){return{type:12,element:t,mouseColumn:o,position:null,range:null,detail:b}}static createOutsideEditor(t,o,b,V){return{type:13,element:null,mouseColumn:t,position:o,range:this._deduceRage(o),outsidePosition:b,outsideDistance:V}}static _typeToString(t){return 1===t?"TEXTAREA":2===t?"GUTTER_GLYPH_MARGIN":3===t?"GUTTER_LINE_NUMBERS":4===t?"GUTTER_LINE_DECORATIONS":5===t?"GUTTER_VIEW_ZONE":6===t?"CONTENT_TEXT":7===t?"CONTENT_EMPTY":8===t?"CONTENT_VIEW_ZONE":9===t?"CONTENT_WIDGET":10===t?"OVERVIEW_RULER":11===t?"SCROLLBAR":12===t?"OVERLAY_WIDGET":"UNKNOWN"}static toString(t){return this._typeToString(t.type)+": "+t.position+" - "+t.range+" - "+JSON.stringify(t.detail)}}class Lt{static isTextArea(t){return 2===t.length&&3===t[0]&&6===t[1]}static isChildOfViewLines(t){return t.length>=4&&3===t[0]&&7===t[3]}static isStrictChildOfViewLines(t){return t.length>4&&3===t[0]&&7===t[3]}static isChildOfScrollableElement(t){return t.length>=2&&3===t[0]&&5===t[1]}static isChildOfMinimap(t){return t.length>=2&&3===t[0]&&8===t[1]}static isChildOfContentWidgets(t){return t.length>=4&&3===t[0]&&1===t[3]}static isChildOfOverflowGuard(t){return t.length>=1&&3===t[0]}static isChildOfOverflowingContentWidgets(t){return t.length>=1&&2===t[0]}static isChildOfOverlayWidgets(t){return t.length>=2&&3===t[0]&&4===t[1]}}class Tt{constructor(t,o,b){this.viewModel=t.viewModel;const V=t.configuration.options;this.layoutInfo=V.get(142),this.viewDomNode=o.viewDomNode,this.lineHeight=V.get(65),this.stickyTabStops=V.get(114),this.typicalHalfwidthCharacterWidth=V.get(49).typicalHalfwidthCharacterWidth,this.lastRenderData=b,this._context=t,this._viewHelper=o}getZoneAtCoord(t){return Tt.getZoneAtCoord(this._context,t)}static getZoneAtCoord(t,o){const b=t.viewLayout.getWhitespaceAtVerticalOffset(o);if(b){const V=b.verticalOffset+b.height/2,Z=t.viewModel.getLineCount();let Re,Le=null,Ge=null;return b.afterLineNumber!==Z&&(Ge=new le.L(b.afterLineNumber+1,1)),b.afterLineNumber>0&&(Le=new le.L(b.afterLineNumber,t.viewModel.getLineMaxColumn(b.afterLineNumber))),Re=null===Ge?Le:null===Le?Ge:o<V?Le:Ge,{viewZoneId:b.id,afterLineNumber:b.afterLineNumber,positionBefore:Le,positionAfter:Ge,position:Re}}return null}getFullLineRangeAtCoord(t){if(this._context.viewLayout.isAfterLines(t)){const V=this._context.viewModel.getLineCount(),Z=this._context.viewModel.getLineMaxColumn(V);return{range:new ie.e(V,Z,V,Z),isAfterLines:!0}}const o=this._context.viewLayout.getLineNumberAtVerticalOffset(t),b=this._context.viewModel.getLineMaxColumn(o);return{range:new ie.e(o,1,o,b),isAfterLines:!1}}getLineNumberAtVerticalOffset(t){return this._context.viewLayout.getLineNumberAtVerticalOffset(t)}isAfterLines(t){return this._context.viewLayout.isAfterLines(t)}isInTopPadding(t){return this._context.viewLayout.isInTopPadding(t)}isInBottomPadding(t){return this._context.viewLayout.isInBottomPadding(t)}getVerticalOffsetForLineNumber(t){return this._context.viewLayout.getVerticalOffsetForLineNumber(t)}findAttribute(t,o){return Tt._findAttribute(t,o,this._viewHelper.viewDomNode)}static _findAttribute(t,o,b){for(;t&&t!==document.body;){if(t.hasAttribute&&t.hasAttribute(o))return t.getAttribute(o);if(t===b)return null;t=t.parentNode}return null}getLineWidth(t){return this._viewHelper.getLineWidth(t)}visibleRangeForPosition(t,o){return this._viewHelper.visibleRangeForPosition(t,o)}getPositionFromDOMInfo(t,o){return this._viewHelper.getPositionFromDOMInfo(t,o)}getCurrentScrollTop(){return this._context.viewLayout.getCurrentScrollTop()}getCurrentScrollLeft(){return this._context.viewLayout.getCurrentScrollLeft()}}class Mt{constructor(t,o,b,V){this.editorPos=o,this.pos=b,this.relativePos=V,this.mouseVerticalOffset=Math.max(0,t.getCurrentScrollTop()+this.relativePos.y),this.mouseContentHorizontalOffset=t.getCurrentScrollLeft()+this.relativePos.x-t.layoutInfo.contentLeft,this.isInMarginArea=this.relativePos.x<t.layoutInfo.contentLeft&&this.relativePos.x>=t.layoutInfo.glyphMarginLeft,this.isInContentArea=!this.isInMarginArea,this.mouseColumn=Math.max(0,it._getMouseColumn(this.mouseContentHorizontalOffset,t.typicalHalfwidthCharacterWidth))}}class Ut extends Mt{constructor(t,o,b,V,Z){super(t,o,b,V),this._ctx=t,Z?(this.target=Z,this.targetPath=pe.collect(Z,t.viewDomNode)):(this.target=null,this.targetPath=new Uint8Array(0))}toString(){return`pos(${this.pos.x},${this.pos.y}), editorPos(${this.editorPos.x},${this.editorPos.y}), relativePos(${this.relativePos.x},${this.relativePos.y}), mouseVerticalOffset: ${this.mouseVerticalOffset}, mouseContentHorizontalOffset: ${this.mouseContentHorizontalOffset}\n\ttarget: ${this.target?this.target.outerHTML:null}`}_getMouseColumn(t=null){return t&&t.column<this._ctx.viewModel.getLineMaxColumn(t.lineNumber)?Fe.i.visibleColumnFromColumn(this._ctx.viewModel.getLineContent(t.lineNumber),t.column,this._ctx.viewModel.model.getOptions().tabSize)+1:this.mouseColumn}fulfillUnknown(t=null){return ft.createUnknown(this.target,this._getMouseColumn(t),t)}fulfillTextarea(){return ft.createTextarea(this.target,this._getMouseColumn())}fulfillMargin(t,o,b,V){return ft.createMargin(t,this.target,this._getMouseColumn(o),o,b,V)}fulfillViewZone(t,o,b){return ft.createViewZone(t,this.target,this._getMouseColumn(o),o,b)}fulfillContentText(t,o,b){return ft.createContentText(this.target,this._getMouseColumn(t),t,o,b)}fulfillContentEmpty(t,o){return ft.createContentEmpty(this.target,this._getMouseColumn(t),t,o)}fulfillContentWidget(t){return ft.createContentWidget(this.target,this._getMouseColumn(),t)}fulfillScrollbar(t){return ft.createScrollbar(this.target,this._getMouseColumn(t),t)}fulfillOverlayWidget(t){return ft.createOverlayWidget(this.target,this._getMouseColumn(),t)}withTarget(t){return new Ut(this._ctx,this.editorPos,this.pos,this.relativePos,t)}}const At={isAfterLines:!0};function It(bt){return{isAfterLines:!1,horizontalDistanceToText:bt}}class it{constructor(t,o){this._context=t,this._viewHelper=o}mouseTargetIsWidget(t){const b=pe.collect(t.target,this._viewHelper.viewDomNode);return!!(Lt.isChildOfContentWidgets(b)||Lt.isChildOfOverflowingContentWidgets(b)||Lt.isChildOfOverlayWidgets(b))}createMouseTarget(t,o,b,V,Z){const Le=new Tt(this._context,this._viewHelper,t),Re=new Ut(Le,o,b,V,Z);try{const Ge=it._createMouseTarget(Le,Re,!1);if(6===Ge.type&&Le.stickyTabStops&&null!==Ge.position){const at=it._snapToSoftTabBoundary(Ge.position,Le.viewModel),vt=ie.e.fromPositions(at,at).plusRange(Ge.range);return Re.fulfillContentText(at,vt,Ge.detail)}return Ge}catch{return Re.fulfillUnknown()}}static _createMouseTarget(t,o,b){if(null===o.target){if(b)return o.fulfillUnknown();const Le=it._doHitTest(t,o);return 1===Le.type?it.createMouseTargetFromHitTestPosition(t,o,Le.spanNode,Le.position,Le.injectedText):this._createMouseTarget(t,o.withTarget(Le.hitTarget),!0)}const V=o;let Z=null;return!Lt.isChildOfOverflowGuard(o.targetPath)&&!Lt.isChildOfOverflowingContentWidgets(o.targetPath)&&(Z=Z||o.fulfillUnknown()),Z=Z||it._hitTestContentWidget(t,V),Z=Z||it._hitTestOverlayWidget(t,V),Z=Z||it._hitTestMinimap(t,V),Z=Z||it._hitTestScrollbarSlider(t,V),Z=Z||it._hitTestViewZone(t,V),Z=Z||it._hitTestMargin(t,V),Z=Z||it._hitTestViewCursor(t,V),Z=Z||it._hitTestTextArea(t,V),Z=Z||it._hitTestViewLines(t,V,b),Z=Z||it._hitTestScrollbar(t,V),Z||o.fulfillUnknown()}static _hitTestContentWidget(t,o){if(Lt.isChildOfContentWidgets(o.targetPath)||Lt.isChildOfOverflowingContentWidgets(o.targetPath)){const b=t.findAttribute(o.target,"widgetId");return b?o.fulfillContentWidget(b):o.fulfillUnknown()}return null}static _hitTestOverlayWidget(t,o){if(Lt.isChildOfOverlayWidgets(o.targetPath)){const b=t.findAttribute(o.target,"widgetId");return b?o.fulfillOverlayWidget(b):o.fulfillUnknown()}return null}static _hitTestViewCursor(t,o){if(o.target){const b=t.lastRenderData.lastViewCursorsRenderData;for(const V of b)if(o.target===V.domNode)return o.fulfillContentText(V.position,null,{mightBeForeignElement:!1,injectedText:null})}if(o.isInContentArea){const b=t.lastRenderData.lastViewCursorsRenderData,V=o.mouseContentHorizontalOffset,Z=o.mouseVerticalOffset;for(const Le of b){if(V<Le.contentLeft||V>Le.contentLeft+Le.width)continue;const Re=t.getVerticalOffsetForLineNumber(Le.position.lineNumber);if(Re<=Z&&Z<=Re+Le.height)return o.fulfillContentText(Le.position,null,{mightBeForeignElement:!1,injectedText:null})}}return null}static _hitTestViewZone(t,o){const b=t.getZoneAtCoord(o.mouseVerticalOffset);return b?o.fulfillViewZone(o.isInContentArea?8:5,b.position,b):null}static _hitTestTextArea(t,o){return Lt.isTextArea(o.targetPath)?t.lastRenderData.lastTextareaPosition?o.fulfillContentText(t.lastRenderData.lastTextareaPosition,null,{mightBeForeignElement:!1,injectedText:null}):o.fulfillTextarea():null}static _hitTestMargin(t,o){if(o.isInMarginArea){const b=t.getFullLineRangeAtCoord(o.mouseVerticalOffset),V=b.range.getStartPosition();let Z=Math.abs(o.relativePos.x);const Le={isAfterLines:b.isAfterLines,glyphMarginLeft:t.layoutInfo.glyphMarginLeft,glyphMarginWidth:t.layoutInfo.glyphMarginWidth,lineNumbersWidth:t.layoutInfo.lineNumbersWidth,offsetX:Z};return Z-=t.layoutInfo.glyphMarginLeft,Z<=t.layoutInfo.glyphMarginWidth?o.fulfillMargin(2,V,b.range,Le):(Z-=t.layoutInfo.glyphMarginWidth,Z<=t.layoutInfo.lineNumbersWidth?o.fulfillMargin(3,V,b.range,Le):(Z-=t.layoutInfo.lineNumbersWidth,o.fulfillMargin(4,V,b.range,Le)))}return null}static _hitTestViewLines(t,o,b){if(!Lt.isChildOfViewLines(o.targetPath))return null;if(t.isInTopPadding(o.mouseVerticalOffset))return o.fulfillContentEmpty(new le.L(1,1),At);if(t.isAfterLines(o.mouseVerticalOffset)||t.isInBottomPadding(o.mouseVerticalOffset)){const Z=t.viewModel.getLineCount(),Le=t.viewModel.getLineMaxColumn(Z);return o.fulfillContentEmpty(new le.L(Z,Le),At)}if(b){if(Lt.isStrictChildOfViewLines(o.targetPath)){const Z=t.getLineNumberAtVerticalOffset(o.mouseVerticalOffset);if(0===t.viewModel.getLineLength(Z)){const Re=t.getLineWidth(Z),Ge=It(o.mouseContentHorizontalOffset-Re);return o.fulfillContentEmpty(new le.L(Z,1),Ge)}const Le=t.getLineWidth(Z);if(o.mouseContentHorizontalOffset>=Le){const Re=It(o.mouseContentHorizontalOffset-Le),Ge=new le.L(Z,t.viewModel.getLineMaxColumn(Z));return o.fulfillContentEmpty(Ge,Re)}}return o.fulfillUnknown()}const V=it._doHitTest(t,o);return 1===V.type?it.createMouseTargetFromHitTestPosition(t,o,V.spanNode,V.position,V.injectedText):this._createMouseTarget(t,o.withTarget(V.hitTarget),!0)}static _hitTestMinimap(t,o){if(Lt.isChildOfMinimap(o.targetPath)){const b=t.getLineNumberAtVerticalOffset(o.mouseVerticalOffset),V=t.viewModel.getLineMaxColumn(b);return o.fulfillScrollbar(new le.L(b,V))}return null}static _hitTestScrollbarSlider(t,o){if(Lt.isChildOfScrollableElement(o.targetPath)&&o.target&&1===o.target.nodeType){const b=o.target.className;if(b&&/\b(slider|scrollbar)\b/.test(b)){const V=t.getLineNumberAtVerticalOffset(o.mouseVerticalOffset),Z=t.viewModel.getLineMaxColumn(V);return o.fulfillScrollbar(new le.L(V,Z))}}return null}static _hitTestScrollbar(t,o){if(Lt.isChildOfScrollableElement(o.targetPath)){const b=t.getLineNumberAtVerticalOffset(o.mouseVerticalOffset),V=t.viewModel.getLineMaxColumn(b);return o.fulfillScrollbar(new le.L(b,V))}return null}getMouseColumn(t){const o=this._context.configuration.options,b=o.get(142),V=this._context.viewLayout.getCurrentScrollLeft()+t.x-b.contentLeft;return it._getMouseColumn(V,o.get(49).typicalHalfwidthCharacterWidth)}static _getMouseColumn(t,o){return t<0?1:Math.round(t/o)+1}static createMouseTargetFromHitTestPosition(t,o,b,V,Z){const Le=V.lineNumber,Re=V.column,Ge=t.getLineWidth(Le);if(o.mouseContentHorizontalOffset>Ge){const Ni=It(o.mouseContentHorizontalOffset-Ge);return o.fulfillContentEmpty(V,Ni)}const at=t.visibleRangeForPosition(Le,Re);if(!at)return o.fulfillUnknown(V);if(Math.abs(o.mouseContentHorizontalOffset-at.left)<1)return o.fulfillContentText(V,null,{mightBeForeignElement:!!Z,injectedText:Z});const Ct=[];if(Ct.push({offset:at.left,column:Re}),Re>1){const Ni=t.visibleRangeForPosition(Le,Re-1);Ni&&Ct.push({offset:Ni.left,column:Re-1})}if(Re<t.viewModel.getLineMaxColumn(Le)){const Ni=t.visibleRangeForPosition(Le,Re+1);Ni&&Ct.push({offset:Ni.left,column:Re+1})}Ct.sort((Ni,Pi)=>Ni.offset-Pi.offset);const Ht=o.pos.toClientCoordinates(),ei=b.getBoundingClientRect(),pi=ei.left<=Ht.clientX&&Ht.clientX<=ei.right;let wi=null;for(let Ni=1;Ni<Ct.length;Ni++){const Pi=Ct[Ni-1],Ji=Ct[Ni];if(Pi.offset<=o.mouseContentHorizontalOffset&&o.mouseContentHorizontalOffset<=Ji.offset){wi=new ie.e(Le,Pi.column,Le,Ji.column);const un=Math.abs(Pi.offset-o.mouseContentHorizontalOffset),En=Math.abs(Ji.offset-o.mouseContentHorizontalOffset);V=new le.L(Le,un<En?Pi.column:Ji.column);break}}return o.fulfillContentText(V,wi,{mightBeForeignElement:!pi||!!Z,injectedText:Z})}static _doHitTestWithCaretRangeFromPoint(t,o){const b=t.getLineNumberAtVerticalOffset(o.mouseVerticalOffset),V=t.getVerticalOffsetForLineNumber(b),Z=V+t.lineHeight;if(!(b===t.viewModel.getLineCount()&&o.mouseVerticalOffset>Z)){const Re=Math.floor((V+Z)/2);let Ge=o.pos.y+(Re-o.mouseVerticalOffset);Ge<=o.editorPos.y&&(Ge=o.editorPos.y+1),Ge>=o.editorPos.y+o.editorPos.height&&(Ge=o.editorPos.y+o.editorPos.height-1);const at=new xe.YN(o.pos.x,Ge),vt=this._actualDoHitTestWithCaretRangeFromPoint(t,at.toClientCoordinates());if(1===vt.type)return vt}return this._actualDoHitTestWithCaretRangeFromPoint(t,o.pos.toClientCoordinates())}static _actualDoHitTestWithCaretRangeFromPoint(t,o){const b=A.Ay(t.viewDomNode);let V;if(V=b?typeof b.caretRangeFromPoint>"u"?function qe(bt,t,o){const b=document.createRange();let V=bt.elementFromPoint(t,o);if(null!==V){for(;V&&V.firstChild&&V.firstChild.nodeType!==V.firstChild.TEXT_NODE&&V.lastChild&&V.lastChild.firstChild;)V=V.lastChild;const Z=V.getBoundingClientRect(),Vt=`${window.getComputedStyle(V,null).getPropertyValue("font-style")} ${window.getComputedStyle(V,null).getPropertyValue("font-variant")} ${window.getComputedStyle(V,null).getPropertyValue("font-weight")} ${window.getComputedStyle(V,null).getPropertyValue("font-size")}/${window.getComputedStyle(V,null).getPropertyValue("line-height")} ${window.getComputedStyle(V,null).getPropertyValue("font-family")}`,Ht=V.innerText;let wi,ei=Z.left,pi=0;if(t>Z.left+Z.width)pi=Ht.length;else{const Ni=Ze.getInstance();for(let Pi=0;Pi<Ht.length+1;Pi++){if(wi=Ni.getCharWidth(Ht.charAt(Pi),Vt)/2,ei+=wi,t<ei){pi=Pi;break}ei+=wi}}b.setStart(V.firstChild,pi),b.setEnd(V.firstChild,pi)}return b}(b,o.clientX,o.clientY):b.caretRangeFromPoint(o.clientX,o.clientY):document.caretRangeFromPoint(o.clientX,o.clientY),!V||!V.startContainer)return new Je;const Z=V.startContainer;if(Z.nodeType===Z.TEXT_NODE){const Le=Z.parentNode,Re=Le?Le.parentNode:null,Ge=Re?Re.parentNode:null;return(Ge&&Ge.nodeType===Ge.ELEMENT_NODE?Ge.className:null)===Q.Nt.CLASS_NAME?lt.createFromDOMInfo(t,Le,V.startOffset):new Je(Z.parentNode)}if(Z.nodeType===Z.ELEMENT_NODE){const Le=Z.parentNode,Re=Le?Le.parentNode:null;return(Re&&Re.nodeType===Re.ELEMENT_NODE?Re.className:null)===Q.Nt.CLASS_NAME?lt.createFromDOMInfo(t,Z,Z.textContent.length):new Je(Z)}return new Je}static _doHitTestWithCaretPositionFromPoint(t,o){const b=document.caretPositionFromPoint(o.clientX,o.clientY);if(b.offsetNode.nodeType===b.offsetNode.TEXT_NODE){const V=b.offsetNode.parentNode,Z=V?V.parentNode:null,Le=Z?Z.parentNode:null;return(Le&&Le.nodeType===Le.ELEMENT_NODE?Le.className:null)===Q.Nt.CLASS_NAME?lt.createFromDOMInfo(t,b.offsetNode.parentNode,b.offset):new Je(b.offsetNode.parentNode)}if(b.offsetNode.nodeType===b.offsetNode.ELEMENT_NODE){const V=b.offsetNode.parentNode,Le=V?V.parentNode:null,Re=Le&&Le.nodeType===Le.ELEMENT_NODE?Le.className:null;if((V&&V.nodeType===V.ELEMENT_NODE?V.className:null)===Q.Nt.CLASS_NAME){const Ge=b.offsetNode.childNodes[Math.min(b.offset,b.offsetNode.childNodes.length-1)];if(Ge)return lt.createFromDOMInfo(t,Ge,0)}else if(Re===Q.Nt.CLASS_NAME)return lt.createFromDOMInfo(t,b.offsetNode,0)}return new Je(b.offsetNode)}static _snapToSoftTabBoundary(t,o){const b=o.getLineContent(t.lineNumber),{tabSize:V}=o.model.getOptions(),Z=He.l.atomicPosition(b,t.column-1,V,2);return-1!==Z?new le.L(t.lineNumber,Z+1):t}static _doHitTest(t,o){let b=new Je;if("function"==typeof document.caretRangeFromPoint?b=this._doHitTestWithCaretRangeFromPoint(t,o):document.caretPositionFromPoint&&(b=this._doHitTestWithCaretPositionFromPoint(t,o.pos.toClientCoordinates())),1===b.type){const V=t.viewModel.getInjectedTextAt(b.position),Z=t.viewModel.normalizePosition(b.position,2);(V||!Z.equals(b.position))&&(b=new ot(Z,b.spanNode,V))}return b}}let Ze=(()=>{class bt{static getInstance(){return bt._INSTANCE||(bt._INSTANCE=new bt),bt._INSTANCE}constructor(){this._cache={},this._canvas=document.createElement("canvas")}getCharWidth(o,b){const V=o+b;if(this._cache[V])return this._cache[V];const Z=this._canvas.getContext("2d");Z.font=b;const Re=Z.measureText(o).width;return this._cache[V]=Re,Re}}return bt._INSTANCE=null,bt})();var Ee=e(8286);class Te extends fe{constructor(t,o,b){super(),this._mouseLeaveMonitor=null,this._context=t,this.viewController=o,this.viewHelper=b,this.mouseTargetFactory=new it(this._context,b),this._mouseDownOperation=this._register(new Ae(this._context,this.viewController,this.viewHelper,this.mouseTargetFactory,(Le,Re)=>this._createMouseTarget(Le,Re),Le=>this._getMouseColumn(Le))),this.lastMouseLeaveTime=-1,this._height=this._context.configuration.options.get(142).height;const V=new xe.N5(this.viewHelper.viewDomNode);this._register(V.onContextMenu(this.viewHelper.viewDomNode,Le=>this._onContextMenu(Le,!0))),this._register(V.onMouseMove(this.viewHelper.viewDomNode,Le=>{this._onMouseMove(Le),this._mouseLeaveMonitor||(this._mouseLeaveMonitor=A.nm(document,"mousemove",Re=>{this.viewHelper.viewDomNode.contains(Re.target)||this._onMouseLeave(new xe.gy(Re,!1,this.viewHelper.viewDomNode))}))})),this._register(V.onMouseUp(this.viewHelper.viewDomNode,Le=>this._onMouseUp(Le))),this._register(V.onMouseLeave(this.viewHelper.viewDomNode,Le=>this._onMouseLeave(Le)));let Z=0;this._register(V.onPointerDown(this.viewHelper.viewDomNode,(Le,Re)=>{Z=Re})),this._register(A.nm(this.viewHelper.viewDomNode,A.tw.POINTER_UP,Le=>{this._mouseDownOperation.onPointerUp()})),this._register(V.onMouseDown(this.viewHelper.viewDomNode,Le=>this._onMouseDown(Le,Z))),this._setupMouseWheelZoomListener(),this._context.addEventHandler(this)}_setupMouseWheelZoomListener(){const t=Ee.Io.INSTANCE;let o=0,b=ae.C.getZoomLevel(),V=!1,Z=0;function Re(Ge){return B.dz?(Ge.metaKey||Ge.ctrlKey)&&!Ge.shiftKey&&!Ge.altKey:Ge.ctrlKey&&!Ge.metaKey&&!Ge.shiftKey&&!Ge.altKey}this._register(A.nm(this.viewHelper.viewDomNode,A.tw.MOUSE_WHEEL,Ge=>{if(this.viewController.emitMouseWheel(Ge),!this._context.configuration.options.get(74))return;const at=new Pe.q(Ge);if(t.acceptStandardWheelEvent(at),t.isPhysicalMouseWheel()){if(Re(Ge)){const vt=ae.C.getZoomLevel();ae.C.setZoomLevel(vt+(at.deltaY>0?1:-1)),at.preventDefault(),at.stopPropagation()}}else Date.now()-o>50&&(b=ae.C.getZoomLevel(),V=Re(Ge),Z=0),o=Date.now(),Z+=at.deltaY,V&&(ae.C.setZoomLevel(b+Z/5),at.preventDefault(),at.stopPropagation())},{capture:!0,passive:!1}))}dispose(){this._context.removeEventHandler(this),this._mouseLeaveMonitor&&(this._mouseLeaveMonitor.dispose(),this._mouseLeaveMonitor=null),super.dispose()}onConfigurationChanged(t){if(t.hasChanged(142)){const o=this._context.configuration.options.get(142).height;this._height!==o&&(this._height=o,this._mouseDownOperation.onHeightChanged())}return!1}onCursorStateChanged(t){return this._mouseDownOperation.onCursorStateChanged(t),!1}onFocusChanged(t){return!1}getTargetAtClientPoint(t,o){const V=new xe.rU(t,o).toPageCoordinates(),Z=(0,xe.kG)(this.viewHelper.viewDomNode);if(V.y<Z.y||V.y>Z.y+Z.height||V.x<Z.x||V.x>Z.x+Z.width)return null;const Le=(0,xe.Pp)(this.viewHelper.viewDomNode,Z,V);return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),Z,V,Le,null)}_createMouseTarget(t,o){let b=t.target;if(!this.viewHelper.viewDomNode.contains(b)){const V=A.Ay(this.viewHelper.viewDomNode);V&&(b=V.elementsFromPoint(t.posx,t.posy).find(Z=>this.viewHelper.viewDomNode.contains(Z)))}return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),t.editorPos,t.pos,t.relativePos,o?b:null)}_getMouseColumn(t){return this.mouseTargetFactory.getMouseColumn(t.relativePos)}_onContextMenu(t,o){this.viewController.emitContextMenu({event:t,target:this._createMouseTarget(t,o)})}_onMouseMove(t){this.mouseTargetFactory.mouseTargetIsWidget(t)||t.preventDefault(),!(this._mouseDownOperation.isActive()||t.timestamp<this.lastMouseLeaveTime)&&this.viewController.emitMouseMove({event:t,target:this._createMouseTarget(t,!0)})}_onMouseLeave(t){this._mouseLeaveMonitor&&(this._mouseLeaveMonitor.dispose(),this._mouseLeaveMonitor=null),this.lastMouseLeaveTime=(new Date).getTime(),this.viewController.emitMouseLeave({event:t,target:null})}_onMouseUp(t){this.viewController.emitMouseUp({event:t,target:this._createMouseTarget(t,!0)})}_onMouseDown(t,o){const b=this._createMouseTarget(t,!0),V=6===b.type||7===b.type,Z=2===b.type||3===b.type||4===b.type,Le=3===b.type,Re=this._context.configuration.options.get(107),Ge=8===b.type||5===b.type,at=9===b.type;let vt=t.leftButton||t.middleButton;B.dz&&t.leftButton&&t.ctrlKey&&(vt=!1);const Ct=()=>{t.preventDefault(),this.viewHelper.focusTextArea()};vt&&(V||Le&&Re)?(Ct(),this._mouseDownOperation.start(b.type,t,o)):Z?t.preventDefault():Ge?vt&&this.viewHelper.shouldSuppressMouseDownOnViewZone(b.detail.viewZoneId)&&(Ct(),this._mouseDownOperation.start(b.type,t,o),t.preventDefault()):at&&this.viewHelper.shouldSuppressMouseDownOnWidget(b.detail)&&(Ct(),t.preventDefault()),this.viewController.emitMouseDown({event:t,target:b})}}class Ae extends O.JT{constructor(t,o,b,V,Z,Le){super(),this._context=t,this._viewController=o,this._viewHelper=b,this._mouseTargetFactory=V,this._createMouseTarget=Z,this._getMouseColumn=Le,this._mouseMoveMonitor=this._register(new xe.AL(this._viewHelper.viewDomNode)),this._topBottomDragScrolling=this._register(new ht(this._context,this._viewHelper,this._mouseTargetFactory,(Re,Ge,at)=>this._dispatchMouse(Re,Ge,at))),this._mouseState=new Dt,this._currentSelection=new F.Y(1,1,1,1),this._isActive=!1,this._lastMouseEvent=null}dispose(){super.dispose()}isActive(){return this._isActive}_onMouseDownThenMove(t){this._lastMouseEvent=t,this._mouseState.setModifiers(t);const o=this._findMousePosition(t,!1);o&&(this._mouseState.isDragAndDrop?this._viewController.emitMouseDrag({event:t,target:o}):13!==o.type||"above"!==o.outsidePosition&&"below"!==o.outsidePosition?(this._topBottomDragScrolling.stop(),this._dispatchMouse(o,!0,1)):this._topBottomDragScrolling.start(o,t))}start(t,o,b){this._lastMouseEvent=o,this._mouseState.setStartedOnLineNumbers(3===t),this._mouseState.setStartButtons(o),this._mouseState.setModifiers(o);const V=this._findMousePosition(o,!0);if(!V||!V.position)return;this._mouseState.trySetCount(o.detail,V.position),o.detail=this._mouseState.count;const Z=this._context.configuration.options;if(!Z.get(89)&&Z.get(34)&&!Z.get(21)&&!this._mouseState.altKey&&o.detail<2&&!this._isActive&&!this._currentSelection.isEmpty()&&6===V.type&&V.position&&this._currentSelection.containsPosition(V.position))return this._mouseState.isDragAndDrop=!0,this._isActive=!0,void this._mouseMoveMonitor.startMonitoring(this._viewHelper.viewLinesDomNode,b,o.buttons,Le=>this._onMouseDownThenMove(Le),Le=>{const Re=this._findMousePosition(this._lastMouseEvent,!1);Le&&Le instanceof KeyboardEvent?this._viewController.emitMouseDropCanceled():this._viewController.emitMouseDrop({event:this._lastMouseEvent,target:Re?this._createMouseTarget(this._lastMouseEvent,!0):null}),this._stop()});this._mouseState.isDragAndDrop=!1,this._dispatchMouse(V,o.shiftKey,1),this._isActive||(this._isActive=!0,this._mouseMoveMonitor.startMonitoring(this._viewHelper.viewLinesDomNode,b,o.buttons,Le=>this._onMouseDownThenMove(Le),()=>this._stop()))}_stop(){this._isActive=!1,this._topBottomDragScrolling.stop()}onHeightChanged(){this._mouseMoveMonitor.stopMonitoring()}onPointerUp(){this._mouseMoveMonitor.stopMonitoring()}onCursorStateChanged(t){this._currentSelection=t.selections[0]}_getPositionOutsideEditor(t){const o=t.editorPos,b=this._context.viewModel,V=this._context.viewLayout,Z=this._getMouseColumn(t);if(t.posy<o.y){const Re=o.y-t.posy,Ge=Math.max(V.getCurrentScrollTop()-Re,0),at=Tt.getZoneAtCoord(this._context,Ge);if(at){const Ct=this._helpPositionJumpOverViewZone(at);if(Ct)return ft.createOutsideEditor(Z,Ct,"above",Re)}const vt=V.getLineNumberAtVerticalOffset(Ge);return ft.createOutsideEditor(Z,new le.L(vt,1),"above",Re)}if(t.posy>o.y+o.height){const Re=t.posy-o.y-o.height,Ge=V.getCurrentScrollTop()+t.relativePos.y,at=Tt.getZoneAtCoord(this._context,Ge);if(at){const Ct=this._helpPositionJumpOverViewZone(at);if(Ct)return ft.createOutsideEditor(Z,Ct,"below",Re)}const vt=V.getLineNumberAtVerticalOffset(Ge);return ft.createOutsideEditor(Z,new le.L(vt,b.getLineMaxColumn(vt)),"below",Re)}const Le=V.getLineNumberAtVerticalOffset(V.getCurrentScrollTop()+t.relativePos.y);if(t.posx<o.x){const Re=o.x-t.posx;return ft.createOutsideEditor(Z,new le.L(Le,1),"left",Re)}if(t.posx>o.x+o.width){const Re=t.posx-o.x-o.width;return ft.createOutsideEditor(Z,new le.L(Le,b.getLineMaxColumn(Le)),"right",Re)}return null}_findMousePosition(t,o){const b=this._getPositionOutsideEditor(t);if(b)return b;const V=this._createMouseTarget(t,o);if(!V.position)return null;if(8===V.type||5===V.type){const Le=this._helpPositionJumpOverViewZone(V.detail);if(Le)return ft.createViewZone(V.type,V.element,V.mouseColumn,Le,V.detail)}return V}_helpPositionJumpOverViewZone(t){const o=new le.L(this._currentSelection.selectionStartLineNumber,this._currentSelection.selectionStartColumn),b=t.positionBefore,V=t.positionAfter;return b&&V?b.isBefore(o)?b:V:null}_dispatchMouse(t,o,b){t.position&&this._viewController.dispatchMouse({position:t.position,mouseColumn:t.mouseColumn,startedOnLineNumbers:this._mouseState.startedOnLineNumbers,revealType:b,inSelectionMode:o,mouseDownCount:this._mouseState.count,altKey:this._mouseState.altKey,ctrlKey:this._mouseState.ctrlKey,metaKey:this._mouseState.metaKey,shiftKey:this._mouseState.shiftKey,leftButton:this._mouseState.leftButton,middleButton:this._mouseState.middleButton,onInjectedText:6===t.type&&null!==t.detail.injectedText})}}class ht extends O.JT{constructor(t,o,b,V){super(),this._context=t,this._viewHelper=o,this._mouseTargetFactory=b,this._dispatchMouse=V,this._operation=null}dispose(){super.dispose(),this.stop()}start(t,o){this._operation?this._operation.setPosition(t,o):this._operation=new yt(this._context,this._viewHelper,this._mouseTargetFactory,this._dispatchMouse,t,o)}stop(){this._operation&&(this._operation.dispose(),this._operation=null)}}class yt extends O.JT{constructor(t,o,b,V,Z,Le){super(),this._context=t,this._viewHelper=o,this._mouseTargetFactory=b,this._dispatchMouse=V,this._position=Z,this._mouseEvent=Le,this._lastTime=Date.now(),this._animationFrameDisposable=A.jL(()=>this._execute())}dispose(){this._animationFrameDisposable.dispose()}setPosition(t,o){this._position=t,this._mouseEvent=o}_tick(){const t=Date.now(),o=t-this._lastTime;return this._lastTime=t,o}_getScrollSpeed(){const t=this._context.configuration.options.get(65),o=this._context.configuration.options.get(142).height/t,b=this._position.outsideDistance/t;return b<=1.5?Math.max(30,o*(1+b)):b<=3?Math.max(60,o*(2+b)):Math.max(200,o*(7+b))}_execute(){const t=this._context.configuration.options.get(65),V=this._getScrollSpeed()*(this._tick()/1e3)*t;this._context.viewModel.viewLayout.deltaScrollNow(0,"above"===this._position.outsidePosition?-V:V),this._viewHelper.renderNow();const Le=this._context.viewLayout.getLinesViewportData(),Re="above"===this._position.outsidePosition?Le.startLineNumber:Le.endLineNumber;let Ge;{const at=(0,xe.kG)(this._viewHelper.viewDomNode),vt=this._context.configuration.options.get(142).horizontalScrollbarHeight,Ct=new xe.YN(this._mouseEvent.pos.x,at.y+at.height-vt-.1),Vt=(0,xe.Pp)(this._viewHelper.viewDomNode,at,Ct);Ge=this._mouseTargetFactory.createMouseTarget(this._viewHelper.getLastRenderData(),at,Ct,Vt,null)}(!Ge.position||Ge.position.lineNumber!==Re)&&(Ge="above"===this._position.outsidePosition?ft.createOutsideEditor(this._position.mouseColumn,new le.L(Re,1),"above",this._position.outsideDistance):ft.createOutsideEditor(this._position.mouseColumn,new le.L(Re,this._context.viewModel.getLineMaxColumn(Re)),"below",this._position.outsideDistance)),this._dispatchMouse(Ge,!0,2),this._animationFrameDisposable=A.jL(()=>this._execute())}}let Dt=(()=>{class bt{get altKey(){return this._altKey}get ctrlKey(){return this._ctrlKey}get metaKey(){return this._metaKey}get shiftKey(){return this._shiftKey}get leftButton(){return this._leftButton}get middleButton(){return this._middleButton}get startedOnLineNumbers(){return this._startedOnLineNumbers}constructor(){this._altKey=!1,this._ctrlKey=!1,this._metaKey=!1,this._shiftKey=!1,this._leftButton=!1,this._middleButton=!1,this._startedOnLineNumbers=!1,this._lastMouseDownPosition=null,this._lastMouseDownPositionEqualCount=0,this._lastMouseDownCount=0,this._lastSetMouseDownCountTime=0,this.isDragAndDrop=!1}get count(){return this._lastMouseDownCount}setModifiers(o){this._altKey=o.altKey,this._ctrlKey=o.ctrlKey,this._metaKey=o.metaKey,this._shiftKey=o.shiftKey}setStartButtons(o){this._leftButton=o.leftButton,this._middleButton=o.middleButton}setStartedOnLineNumbers(o){this._startedOnLineNumbers=o}trySetCount(o,b){const V=(new Date).getTime();V-this._lastSetMouseDownCountTime>bt.CLEAR_MOUSE_DOWN_COUNT_TIME&&(o=1),this._lastSetMouseDownCountTime=V,o>this._lastMouseDownCount+1&&(o=this._lastMouseDownCount+1),this._lastMouseDownPosition&&this._lastMouseDownPosition.equals(b)?this._lastMouseDownPositionEqualCount++:this._lastMouseDownPositionEqualCount=1,this._lastMouseDownPosition=b,this._lastMouseDownCount=Math.min(o,this._lastMouseDownPositionEqualCount)}}return bt.CLEAR_MOUSE_DOWN_COUNT_TIME=400,bt})();var Ot=e(50042),gt=e(44114);class Rt extends Te{constructor(t,o,b){super(t,o,b),this._register(ke.o.addTarget(this.viewHelper.linesContentDomNode)),this._register(A.nm(this.viewHelper.linesContentDomNode,ke.t.Tap,Z=>this.onTap(Z))),this._register(A.nm(this.viewHelper.linesContentDomNode,ke.t.Change,Z=>this.onChange(Z))),this._register(A.nm(this.viewHelper.linesContentDomNode,ke.t.Contextmenu,Z=>this._onContextMenu(new xe.gy(Z,!1,this.viewHelper.viewDomNode),!1))),this._lastPointerType="mouse",this._register(A.nm(this.viewHelper.linesContentDomNode,"pointerdown",Z=>{const Le=Z.pointerType;this._lastPointerType="mouse"!==Le?"touch"===Le?"touch":"pen":"mouse"}));const V=new xe.tC(this.viewHelper.viewDomNode);this._register(V.onPointerMove(this.viewHelper.viewDomNode,Z=>this._onMouseMove(Z))),this._register(V.onPointerUp(this.viewHelper.viewDomNode,Z=>this._onMouseUp(Z))),this._register(V.onPointerLeave(this.viewHelper.viewDomNode,Z=>this._onMouseLeave(Z))),this._register(V.onPointerDown(this.viewHelper.viewDomNode,(Z,Le)=>this._onMouseDown(Z,Le)))}onTap(t){if(!t.initialTarget||!this.viewHelper.linesContentDomNode.contains(t.initialTarget))return;t.preventDefault(),this.viewHelper.focusTextArea();const o=this._createMouseTarget(new xe.gy(t,!1,this.viewHelper.viewDomNode),!1);o.position&&this.viewController.dispatchMouse({position:o.position,mouseColumn:o.position.column,startedOnLineNumbers:!1,revealType:1,mouseDownCount:t.tapCount,inSelectionMode:!1,altKey:!1,ctrlKey:!1,metaKey:!1,shiftKey:!1,leftButton:!1,middleButton:!1,onInjectedText:6===o.type&&null!==o.detail.injectedText})}onChange(t){"touch"===this._lastPointerType&&this._context.viewModel.viewLayout.deltaScrollNow(-t.translationX,-t.translationY)}_onMouseDown(t,o){"touch"!==t.browserEvent.pointerType&&super._onMouseDown(t,o)}}class Zt extends Te{constructor(t,o,b){super(t,o,b),this._register(ke.o.addTarget(this.viewHelper.linesContentDomNode)),this._register(A.nm(this.viewHelper.linesContentDomNode,ke.t.Tap,V=>this.onTap(V))),this._register(A.nm(this.viewHelper.linesContentDomNode,ke.t.Change,V=>this.onChange(V))),this._register(A.nm(this.viewHelper.linesContentDomNode,ke.t.Contextmenu,V=>this._onContextMenu(new xe.gy(V,!1,this.viewHelper.viewDomNode),!1)))}onTap(t){t.preventDefault(),this.viewHelper.focusTextArea();const o=this._createMouseTarget(new xe.gy(t,!1,this.viewHelper.viewDomNode),!1);if(o.position){const b=document.createEvent("CustomEvent");b.initEvent(gt.pd.Tap,!1,!0),this.viewHelper.dispatchTextAreaEvent(b),this.viewController.moveTo(o.position,1)}}onChange(t){this._context.viewModel.viewLayout.deltaScrollNow(-t.translationX,-t.translationY)}}class Ci extends O.JT{constructor(t,o,b){super(),this.handler=B.gn&&Ot.D.pointerEvents?this._register(new Rt(t,o,b)):window.TouchEvent?this._register(new Zt(t,o,b)):this._register(new Te(t,o,b))}getTargetAtClientPoint(t,o){return this.handler.getTargetAtClientPoint(t,o)}}var ci=e(40504),Mi={};Mi.styleTagTransform=m(),Mi.setAttributes=g(),Mi.insert=c().bind(null,"head"),Mi.domAPI=L(),Mi.insertStyleElement=d(),T()(ci.Z,Mi);var St=e(16055),st=e(91988),ut=e(17737),pt=e(6184),Ne={};Ne.styleTagTransform=m(),Ne.setAttributes=g(),Ne.insert=c().bind(null,"head"),Ne.domAPI=L(),Ne.insertStyleElement=d(),T()(pt.Z,Ne);class wt extends fe{}var Bt=e(23527),xt=e(2857);let Qt=(()=>{class bt extends wt{constructor(o){super(),this._context=o,this._readConfig(),this._lastCursorModelPosition=new le.L(1,1),this._renderResult=null,this._activeLineNumber=1,this._context.addEventHandler(this)}_readConfig(){const o=this._context.configuration.options;this._lineHeight=o.get(65);const b=o.get(66);this._renderLineNumbers=b.renderType,this._renderCustomLineNumbers=b.renderFn,this._renderFinalNewline=o.get(93);const V=o.get(142);this._lineNumbersLeft=V.lineNumbersLeft,this._lineNumbersWidth=V.lineNumbersWidth}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(o){return this._readConfig(),!0}onCursorStateChanged(o){const b=o.selections[0].getPosition();this._lastCursorModelPosition=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(b);let V=!1;return this._activeLineNumber!==b.lineNumber&&(this._activeLineNumber=b.lineNumber,V=!0),(2===this._renderLineNumbers||3===this._renderLineNumbers)&&(V=!0),V}onFlushed(o){return!0}onLinesChanged(o){return!0}onLinesDeleted(o){return!0}onLinesInserted(o){return!0}onScrollChanged(o){return o.scrollTopChanged}onZonesChanged(o){return!0}_getLineRenderLineNumber(o){const b=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new le.L(o,1));if(1!==b.column)return"";const V=b.lineNumber;if(this._renderCustomLineNumbers)return this._renderCustomLineNumbers(V);if(2===this._renderLineNumbers){const Z=Math.abs(this._lastCursorModelPosition.lineNumber-V);return 0===Z?'<span class="relative-current-line-number">'+V+"</span>":String(Z)}return 3===this._renderLineNumbers?this._lastCursorModelPosition.lineNumber===V||V%10==0?String(V):"":String(V)}prepareRender(o){if(0===this._renderLineNumbers)return void(this._renderResult=null);const b=B.IJ?this._lineHeight%2==0?" lh-even":" lh-odd":"",V=o.visibleRange.startLineNumber,Z=o.visibleRange.endLineNumber,Le=this._context.viewModel.getLineCount(),Re=[];for(let Ge=V;Ge<=Z;Ge++){const at=Ge-V,vt=this._getLineRenderLineNumber(Ge);if(!vt){Re[at]="";continue}let Ct="";if(Ge===Le&&0===this._context.viewModel.getLineLength(Ge)){if("off"===this._renderFinalNewline){Re[at]="";continue}"dimmed"===this._renderFinalNewline&&(Ct=" dimmed-line-number")}Ge===this._activeLineNumber&&(Ct=" active-line-number"),Re[at]=`<div class="${bt.CLASS_NAME}${b}${Ct}" style="left:${this._lineNumbersLeft}px;width:${this._lineNumbersWidth}px;">${vt}</div>`}this._renderResult=Re}render(o,b){if(!this._renderResult)return"";const V=b-o;return V<0||V>=this._renderResult.length?"":this._renderResult[V]}}return bt.CLASS_NAME="line-numbers",bt})();(0,Bt.Ic)((bt,t)=>{const o=bt.getColor(xt.hw),b=bt.getColor(xt.Bj);b?t.addRule(`.monaco-editor .line-numbers.dimmed-line-number { color: ${b}; }`):o&&t.addRule(`.monaco-editor .line-numbers.dimmed-line-number { color: ${o.transparent(.4)}; }`)});var ai=e(11596),gi={};gi.styleTagTransform=m(),gi.setAttributes=g(),gi.insert=c().bind(null,"head"),gi.domAPI=L(),gi.insertStyleElement=d(),T()(ai.Z,gi);let Ki=(()=>{class bt extends be{constructor(o){super(o);const b=this._context.configuration.options,V=b.get(142);this._canUseLayerHinting=!b.get(31),this._contentLeft=V.contentLeft,this._glyphMarginLeft=V.glyphMarginLeft,this._glyphMarginWidth=V.glyphMarginWidth,this._domNode=(0,Ce.X)(document.createElement("div")),this._domNode.setClassName(bt.OUTER_CLASS_NAME),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._glyphMarginBackgroundDomNode=(0,Ce.X)(document.createElement("div")),this._glyphMarginBackgroundDomNode.setClassName(bt.CLASS_NAME),this._domNode.appendChild(this._glyphMarginBackgroundDomNode)}dispose(){super.dispose()}getDomNode(){return this._domNode}onConfigurationChanged(o){const b=this._context.configuration.options,V=b.get(142);return this._canUseLayerHinting=!b.get(31),this._contentLeft=V.contentLeft,this._glyphMarginLeft=V.glyphMarginLeft,this._glyphMarginWidth=V.glyphMarginWidth,!0}onScrollChanged(o){return super.onScrollChanged(o)||o.scrollTopChanged}prepareRender(o){}render(o){this._domNode.setLayerHinting(this._canUseLayerHinting),this._domNode.setContain("strict"),this._domNode.setTop(-(o.scrollTop-o.bigNumbersDelta));const V=Math.min(o.scrollHeight,1e6);this._domNode.setHeight(V),this._domNode.setWidth(this._contentLeft),this._glyphMarginBackgroundDomNode.setLeft(this._glyphMarginLeft),this._glyphMarginBackgroundDomNode.setWidth(this._glyphMarginWidth),this._glyphMarginBackgroundDomNode.setHeight(V)}}return bt.CLASS_NAME="glyph-margin",bt.OUTER_CLASS_NAME="margin",bt})();var zi=e(80020),qi=e(42427),fn=e(81814),Nn=e(90888),xn=e(77872),Fn=e(21536);class ni{constructor(t,o,b,V,Z){this._context=t,this.modelLineNumber=o,this.distanceToModelLineStart=b,this.widthOfHiddenLineTextBefore=V,this.distanceToModelLineEnd=Z,this._visibleTextAreaBrand=void 0,this.startPosition=null,this.endPosition=null,this.visibleTextareaStart=null,this.visibleTextareaEnd=null,this._previousPresentation=null}prepareRender(t){const o=new le.L(this.modelLineNumber,this.distanceToModelLineStart+1),b=new le.L(this.modelLineNumber,this._context.viewModel.model.getLineMaxColumn(this.modelLineNumber)-this.distanceToModelLineEnd);this.startPosition=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(o),this.endPosition=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(b),this.startPosition.lineNumber===this.endPosition.lineNumber?(this.visibleTextareaStart=t.visibleRangeForPosition(this.startPosition),this.visibleTextareaEnd=t.visibleRangeForPosition(this.endPosition)):(this.visibleTextareaStart=null,this.visibleTextareaEnd=null)}definePresentation(t){return this._previousPresentation||(this._previousPresentation=t||{foreground:1,italic:!1,bold:!1,underline:!1,strikethrough:!1}),this._previousPresentation}}const Nt=z.vU;let Wt=class extends be{constructor(t,o,b,V){super(t),this._keybindingService=V,this._primaryCursorPosition=new le.L(1,1),this._primaryCursorVisibleRange=null,this._viewController=o,this._visibleRangeProvider=b,this._scrollLeft=0,this._scrollTop=0;const Z=this._context.configuration.options,Le=Z.get(142);this._setAccessibilityOptions(Z),this._contentLeft=Le.contentLeft,this._contentWidth=Le.contentWidth,this._contentHeight=Le.height,this._fontInfo=Z.get(49),this._lineHeight=Z.get(65),this._emptySelectionClipboard=Z.get(36),this._copyWithSyntaxHighlighting=Z.get(24),this._visibleTextArea=null,this._selections=[new F.Y(1,1,1,1)],this._modelSelections=[new F.Y(1,1,1,1)],this._lastRenderPosition=null,this.textArea=(0,Ce.X)(document.createElement("textarea")),pe.write(this.textArea,6),this.textArea.setClassName(`inputarea ${qi.S}`),this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off");const{tabSize:Re}=this._context.viewModel.model.getOptions();this.textArea.domNode.style.tabSize=Re*this._fontInfo.spaceWidth+"px",this.textArea.setAttribute("autocorrect","off"),this.textArea.setAttribute("autocapitalize","off"),this.textArea.setAttribute("autocomplete","off"),this.textArea.setAttribute("spellcheck","false"),this.textArea.setAttribute("aria-label",this._getAriaLabel(Z)),this.textArea.setAttribute("aria-required",Z.get(5)?"true":"false"),this.textArea.setAttribute("tabindex",String(Z.get(122))),this.textArea.setAttribute("role","textbox"),this.textArea.setAttribute("aria-roledescription",N.NC("editor","editor")),this.textArea.setAttribute("aria-multiline","true"),this.textArea.setAttribute("aria-autocomplete",Z.get(89)?"none":"both"),this._ensureReadOnlyAttribute(),this.textAreaCover=(0,Ce.X)(document.createElement("div")),this.textAreaCover.setPosition("absolute");const Ge={getLineCount:()=>this._context.viewModel.getLineCount(),getLineMaxColumn:Ct=>this._context.viewModel.getLineMaxColumn(Ct),getValueInRange:(Ct,Vt)=>this._context.viewModel.getValueInRange(Ct,Vt),getValueLengthInRange:(Ct,Vt)=>this._context.viewModel.getValueLengthInRange(Ct,Vt),modifyPosition:(Ct,Vt)=>this._context.viewModel.modifyPosition(Ct,Vt)},at={getDataToCopy:()=>{const Ct=this._context.viewModel.getPlainTextToCopy(this._modelSelections,this._emptySelectionClipboard,B.ED),Vt=this._context.viewModel.model.getEOL(),Ht=this._emptySelectionClipboard&&1===this._modelSelections.length&&this._modelSelections[0].isEmpty(),ei=Array.isArray(Ct)?Ct:null,pi=Array.isArray(Ct)?Ct.join(Vt):Ct;let wi,Ni=null;if(gt.RA.forceCopyWithSyntaxHighlighting||this._copyWithSyntaxHighlighting&&pi.length<65536){const Pi=this._context.viewModel.getRichTextToCopy(this._modelSelections,this._emptySelectionClipboard);Pi&&(wi=Pi.html,Ni=Pi.mode)}return{isFromEmptySelection:Ht,multicursorText:ei,text:pi,html:wi,mode:Ni}},getScreenReaderContent:()=>{if(1===this._accessibilitySupport){const Ct=this._selections[0];if(B.dz&&Ct.isEmpty()){const Ht=Ct.getStartPosition();let ei=this._getWordBeforePosition(Ht);if(0===ei.length&&(ei=this._getCharacterBeforePosition(Ht)),ei.length>0)return new ut.un(ei,ei.length,ei.length,ie.e.fromPositions(Ht),0)}const Vt=500;if(B.dz&&!Ct.isEmpty()&&Ge.getValueLengthInRange(Ct,0)<Vt){const Ht=Ge.getValueInRange(Ct,0);return new ut.un(Ht,0,Ht.length,Ct,0)}if(z.G6&&!Ct.isEmpty()){const Ht="vscode-placeholder";return new ut.un(Ht,0,Ht.length,null,void 0)}return ut.un.EMPTY}if(z.Dt){const Ct=this._selections[0];if(Ct.isEmpty()){const Vt=Ct.getStartPosition(),[Ht,ei]=this._getAndroidWordAtPosition(Vt);if(Ht.length>0)return new ut.un(Ht,ei,ei,ie.e.fromPositions(Vt),0)}return ut.un.EMPTY}return ut.ee.fromEditorSelection(Ge,this._selections[0],this._accessibilityPageSize,0===this._accessibilitySupport)},deduceModelPosition:(Ct,Vt,Ht)=>this._context.viewModel.deduceModelPositionRelativeToViewPosition(Ct,Vt,Ht)},vt=this._register(new gt.Tj(this.textArea.domNode));this._textAreaInput=this._register(new gt.Fz(at,vt,B.OS,{isAndroid:z.Dt,isChrome:z.i7,isFirefox:z.vU,isSafari:z.G6})),this._register(this._textAreaInput.onKeyDown(Ct=>{this._viewController.emitKeyDown(Ct)})),this._register(this._textAreaInput.onKeyUp(Ct=>{this._viewController.emitKeyUp(Ct)})),this._register(this._textAreaInput.onPaste(Ct=>{let Vt=!1,Ht=null,ei=null;Ct.metadata&&(Vt=this._emptySelectionClipboard&&!!Ct.metadata.isFromEmptySelection,Ht=typeof Ct.metadata.multicursorText<"u"?Ct.metadata.multicursorText:null,ei=Ct.metadata.mode),this._viewController.paste(Ct.text,Vt,Ht,ei)})),this._register(this._textAreaInput.onCut(()=>{this._viewController.cut()})),this._register(this._textAreaInput.onType(Ct=>{Ct.replacePrevCharCnt||Ct.replaceNextCharCnt||Ct.positionDelta?(ut.al&&console.log(` => compositionType: <<${Ct.text}>>, ${Ct.replacePrevCharCnt}, ${Ct.replaceNextCharCnt}, ${Ct.positionDelta}`),this._viewController.compositionType(Ct.text,Ct.replacePrevCharCnt,Ct.replaceNextCharCnt,Ct.positionDelta)):(ut.al&&console.log(` => type: <<${Ct.text}>>`),this._viewController.type(Ct.text))})),this._register(this._textAreaInput.onSelectionChangeRequest(Ct=>{this._viewController.setSelection(Ct)})),this._register(this._textAreaInput.onCompositionStart(Ct=>{const Vt=this.textArea.domNode,Ht=this._modelSelections[0],{distanceToModelLineStart:ei,widthOfHiddenTextBefore:pi}=(()=>{const Ni=Vt.value.substring(0,Math.min(Vt.selectionStart,Vt.selectionEnd)),Pi=Ni.lastIndexOf("\n"),Ji=Ni.substring(Pi+1),un=Ji.lastIndexOf("\t"),En=Ji.length-un-1,mn=Ht.getStartPosition(),Tn=Math.min(mn.column-1,En),Mn=mn.column-1-Tn,dn=Ji.substring(0,Ji.length-Tn),{tabSize:In}=this._context.viewModel.model.getOptions(),Vn=function li(bt,t,o){if(0===bt.length)return 0;const b=document.createElement("div");b.style.position="absolute",b.style.top="-50000px",b.style.width="50000px";const V=document.createElement("span");(0,st.N)(V,t),V.style.whiteSpace="pre",V.style.tabSize=o*t.spaceWidth+"px",V.append(bt),b.appendChild(V),document.body.appendChild(b);const Z=V.offsetWidth;return document.body.removeChild(b),Z}(dn,this._fontInfo,In);return{distanceToModelLineStart:Mn,widthOfHiddenTextBefore:Vn}})(),{distanceToModelLineEnd:wi}=(()=>{const Ni=Vt.value.substring(Math.max(Vt.selectionStart,Vt.selectionEnd)),Pi=Ni.indexOf("\n"),Ji=-1===Pi?Ni:Ni.substring(0,Pi),un=Ji.indexOf("\t"),En=-1===un?Ji.length:Ji.length-un-1,mn=Ht.getEndPosition(),Tn=Math.min(this._context.viewModel.model.getLineMaxColumn(mn.lineNumber)-mn.column,En);return{distanceToModelLineEnd:this._context.viewModel.model.getLineMaxColumn(mn.lineNumber)-mn.column-Tn}})();this._context.viewModel.revealRange("keyboard",!0,ie.e.fromPositions(this._selections[0].getStartPosition()),0,1),this._visibleTextArea=new ni(this._context,Ht.startLineNumber,ei,pi,wi),this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off"),this._visibleTextArea.prepareRender(this._visibleRangeProvider),this._render(),this.textArea.setClassName(`inputarea ${qi.S} ime-input`),this._viewController.compositionStart(),this._context.viewModel.onCompositionStart()})),this._register(this._textAreaInput.onCompositionUpdate(Ct=>{this._visibleTextArea&&(this._visibleTextArea.prepareRender(this._visibleRangeProvider),this._render())})),this._register(this._textAreaInput.onCompositionEnd(()=>{this._visibleTextArea=null,this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off"),this._render(),this.textArea.setClassName(`inputarea ${qi.S}`),this._viewController.compositionEnd(),this._context.viewModel.onCompositionEnd()})),this._register(this._textAreaInput.onFocus(()=>{this._context.viewModel.setHasFocus(!0)})),this._register(this._textAreaInput.onBlur(()=>{this._context.viewModel.setHasFocus(!1)})),this._register(xn.F.onDidChange(()=>{this._ensureReadOnlyAttribute()}))}writeScreenReaderContent(t){this._textAreaInput.writeScreenReaderContent(t)}dispose(){super.dispose()}_getAndroidWordAtPosition(t){const b=this._context.viewModel.getLineContent(t.lineNumber),V=(0,zi.u)('`~!@#$%^&*()-=+[{]}\\|;:",.<>/?');let Z=!0,Le=t.column,Re=!0,Ge=t.column,at=0;for(;at<50&&(Z||Re);){if(Z&&Le<=1&&(Z=!1),Z){const vt=b.charCodeAt(Le-2);0!==V.get(vt)?Z=!1:Le--}if(Re&&Ge>b.length&&(Re=!1),Re){const vt=b.charCodeAt(Ge-1);0!==V.get(vt)?Re=!1:Ge++}at++}return[b.substring(Le-1,Ge-1),t.column-Le]}_getWordBeforePosition(t){const o=this._context.viewModel.getLineContent(t.lineNumber),b=(0,zi.u)(this._context.configuration.options.get(128));let V=t.column,Z=0;for(;V>1;){const Le=o.charCodeAt(V-2);if(0!==b.get(Le)||Z>50)return o.substring(V-1,t.column-1);Z++,V--}return o.substring(0,t.column-1)}_getCharacterBeforePosition(t){if(t.column>1){const b=this._context.viewModel.getLineContent(t.lineNumber).charAt(t.column-2);if(!St.ZG(b.charCodeAt(0)))return b}return""}_getAriaLabel(t){var o,b,V;if(1===t.get(2)){const Le=null===(o=this._keybindingService.lookupKeybinding("editor.action.toggleScreenReaderAccessibilityMode"))||void 0===o?void 0:o.getAriaLabel(),Re=null===(b=this._keybindingService.lookupKeybinding("workbench.action.showCommands"))||void 0===b?void 0:b.getAriaLabel(),Ge=null===(V=this._keybindingService.lookupKeybinding("workbench.action.openGlobalKeybindings"))||void 0===V?void 0:V.getAriaLabel(),at=N.NC("accessibilityModeOff","The editor is not accessible at this time.");return Le?N.NC("accessibilityOffAriaLabel","{0} To enable screen reader optimized mode, use {1}",at,Le):Re?N.NC("accessibilityOffAriaLabelNoKb","{0} To enable screen reader optimized mode, open the quick pick with {1} and run the command Toggle Screen Reader Accessibility Mode, which is currently not triggerable via keyboard.",at,Re):Ge?N.NC("accessibilityOffAriaLabelNoKbs","{0} Please assign a keybinding for the command Toggle Screen Reader Accessibility Mode by accessing the keybindings editor with {1} and run it.",at,Ge):at}return t.get(4)}_setAccessibilityOptions(t){this._accessibilitySupport=t.get(2);const o=t.get(3);this._accessibilityPageSize=2===this._accessibilitySupport&&o===_.BH.accessibilityPageSize.defaultValue?500:o;const V=t.get(142).wrappingColumn;if(-1!==V&&1!==this._accessibilitySupport){const Z=t.get(49);this._textAreaWrapping=!0,this._textAreaWidth=Math.round(V*Z.typicalHalfwidthCharacterWidth)}else this._textAreaWrapping=!1,this._textAreaWidth=Nt?0:1}onConfigurationChanged(t){const o=this._context.configuration.options,b=o.get(142);this._setAccessibilityOptions(o),this._contentLeft=b.contentLeft,this._contentWidth=b.contentWidth,this._contentHeight=b.height,this._fontInfo=o.get(49),this._lineHeight=o.get(65),this._emptySelectionClipboard=o.get(36),this._copyWithSyntaxHighlighting=o.get(24),this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off");const{tabSize:V}=this._context.viewModel.model.getOptions();return this.textArea.domNode.style.tabSize=V*this._fontInfo.spaceWidth+"px",this.textArea.setAttribute("aria-label",this._getAriaLabel(o)),this.textArea.setAttribute("aria-required",o.get(5)?"true":"false"),this.textArea.setAttribute("tabindex",String(o.get(122))),(t.hasChanged(33)||t.hasChanged(89))&&this._ensureReadOnlyAttribute(),t.hasChanged(2)&&this._textAreaInput.writeScreenReaderContent("strategy changed"),!0}onCursorStateChanged(t){return this._selections=t.selections.slice(0),this._modelSelections=t.modelSelections.slice(0),this._textAreaInput.writeScreenReaderContent("selection changed"),!0}onDecorationsChanged(t){return!0}onFlushed(t){return!0}onLinesChanged(t){return!0}onLinesDeleted(t){return!0}onLinesInserted(t){return!0}onScrollChanged(t){return this._scrollLeft=t.scrollLeft,this._scrollTop=t.scrollTop,!0}onZonesChanged(t){return!0}isFocused(){return this._textAreaInput.isFocused()}focusTextArea(){this._textAreaInput.focusTextArea()}getLastRenderData(){return this._lastRenderPosition}setAriaOptions(t){t.activeDescendant?(this.textArea.setAttribute("aria-haspopup","true"),this.textArea.setAttribute("aria-autocomplete","list"),this.textArea.setAttribute("aria-activedescendant",t.activeDescendant)):(this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),this.textArea.removeAttribute("aria-activedescendant")),t.role&&this.textArea.setAttribute("role",t.role)}_ensureReadOnlyAttribute(){const t=this._context.configuration.options;!xn.F.enabled||t.get(33)&&t.get(89)?this.textArea.setAttribute("readonly","true"):this.textArea.removeAttribute("readonly")}prepareRender(t){var o;this._primaryCursorPosition=new le.L(this._selections[0].positionLineNumber,this._selections[0].positionColumn),this._primaryCursorVisibleRange=t.visibleRangeForPosition(this._primaryCursorPosition),null===(o=this._visibleTextArea)||void 0===o||o.prepareRender(t)}render(t){this._textAreaInput.writeScreenReaderContent("render"),this._render()}_render(){var t;if(this._visibleTextArea){const V=this._visibleTextArea.visibleTextareaStart,Z=this._visibleTextArea.visibleTextareaEnd,Le=this._visibleTextArea.startPosition,Re=this._visibleTextArea.endPosition;if(Le&&Re&&V&&Z&&Z.left>=this._scrollLeft&&V.left<=this._scrollLeft+this._contentWidth){const Ge=this._context.viewLayout.getVerticalOffsetForLineNumber(this._primaryCursorPosition.lineNumber)-this._scrollTop,at=this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));let vt=this._visibleTextArea.widthOfHiddenLineTextBefore,Ct=this._contentLeft+V.left-this._scrollLeft,Vt=Z.left-V.left+1;if(Ct<this._contentLeft){const Pi=this._contentLeft-Ct;Ct+=Pi,vt+=Pi,Vt-=Pi}Vt>this._contentWidth&&(Vt=this._contentWidth);const Ht=this._context.viewModel.getViewLineData(Le.lineNumber),ei=Ht.tokens.findTokenIndexAtOffset(Le.column-1),pi=Ht.tokens.findTokenIndexAtOffset(Re.column-1),Ni=this._visibleTextArea.definePresentation(ei===pi?Ht.tokens.getPresentation(ei):null);this.textArea.domNode.scrollTop=at*this._lineHeight,this.textArea.domNode.scrollLeft=vt,this._doRender({lastRenderPosition:null,top:Ge,left:Ct,width:Vt,height:this._lineHeight,useCover:!1,color:(fn.RW.getColorMap()||[])[Ni.foreground],italic:Ni.italic,bold:Ni.bold,underline:Ni.underline,strikethrough:Ni.strikethrough})}return}if(!this._primaryCursorVisibleRange)return void this._renderAtTopLeft();const o=this._contentLeft+this._primaryCursorVisibleRange.left-this._scrollLeft;if(o<this._contentLeft||o>this._contentLeft+this._contentWidth)return void this._renderAtTopLeft();const b=this._context.viewLayout.getVerticalOffsetForLineNumber(this._selections[0].positionLineNumber)-this._scrollTop;if(b<0||b>this._contentHeight)this._renderAtTopLeft();else if(B.dz){this._doRender({lastRenderPosition:this._primaryCursorPosition,top:b,left:this._textAreaWrapping?this._contentLeft:o,width:this._textAreaWidth,height:this._lineHeight,useCover:!1}),this.textArea.domNode.scrollLeft=this._primaryCursorVisibleRange.left;const V=null!==(t=this._textAreaInput.textAreaState.newlineCountBeforeSelection)&&void 0!==t?t:this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));this.textArea.domNode.scrollTop=V*this._lineHeight}else this._doRender({lastRenderPosition:this._primaryCursorPosition,top:b,left:this._textAreaWrapping?this._contentLeft:o,width:this._textAreaWidth,height:Nt?0:1,useCover:!1})}_newlinecount(t){let o=0,b=-1;for(;b=t.indexOf("\n",b+1),-1!==b;)o++;return o}_renderAtTopLeft(){this._doRender({lastRenderPosition:null,top:0,left:0,width:this._textAreaWidth,height:Nt?0:1,useCover:!0})}_doRender(t){this._lastRenderPosition=t.lastRenderPosition;const o=this.textArea,b=this.textAreaCover;(0,st.N)(o,this._fontInfo),o.setTop(t.top),o.setLeft(t.left),o.setWidth(t.width),o.setHeight(t.height),o.setColor(t.color?Nn.Il.Format.CSS.formatHex(t.color):""),o.setFontStyle(t.italic?"italic":""),t.bold&&o.setFontWeight("bold"),o.setTextDecoration(`${t.underline?" underline":""}${t.strikethrough?" line-through":""}`),b.setTop(t.useCover?t.top:0),b.setLeft(t.useCover?t.left:0),b.setWidth(t.useCover?t.width:0),b.setHeight(t.useCover?t.height:0);const V=this._context.configuration.options;V.get(56)?b.setClassName("monaco-editor-background textAreaCover "+Ki.OUTER_CLASS_NAME):0!==V.get(66).renderType?b.setClassName("monaco-editor-background textAreaCover "+Qt.CLASS_NAME):b.setClassName("monaco-editor-background textAreaCover")}};Wt=function(bt,t,o,b){var Le,V=arguments.length,Z=V<3?t:null===b?b=Object.getOwnPropertyDescriptor(t,o):b;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Z=Reflect.decorate(bt,t,o,b);else for(var Re=bt.length-1;Re>=0;Re--)(Le=bt[Re])&&(Z=(V<3?Le(Z):V>3?Le(t,o,Z):Le(t,o))||Z);return V>3&&Z&&Object.defineProperty(t,o,Z),Z}([function(bt,t){return function(o,b){t(o,b,3)}}(0,Fn.d)],Wt);var Yt=e(92987);class bi{constructor(t,o,b,V){this.configuration=t,this.viewModel=o,this.userInputEvents=b,this.commandDelegate=V}paste(t,o,b,V){this.commandDelegate.paste(t,o,b,V)}type(t){this.commandDelegate.type(t)}compositionType(t,o,b,V){this.commandDelegate.compositionType(t,o,b,V)}compositionStart(){this.commandDelegate.startComposition()}compositionEnd(){this.commandDelegate.endComposition()}cut(){this.commandDelegate.cut()}setSelection(t){Yt.Ox.SetSelection.runCoreEditorCommand(this.viewModel,{source:"keyboard",selection:t})}_validateViewColumn(t){const o=this.viewModel.getLineMinColumn(t.lineNumber);return t.column<o?new le.L(t.lineNumber,o):t}_hasMulticursorModifier(t){switch(this.configuration.options.get(76)){case"altKey":return t.altKey;case"ctrlKey":return t.ctrlKey;case"metaKey":return t.metaKey;default:return!1}}_hasNonMulticursorModifier(t){switch(this.configuration.options.get(76)){case"altKey":return t.ctrlKey||t.metaKey;case"ctrlKey":return t.altKey||t.metaKey;case"metaKey":return t.ctrlKey||t.altKey;default:return!1}}dispatchMouse(t){const o=this.configuration.options,b=B.IJ&&o.get(105),V=o.get(21);t.middleButton&&!b?this._columnSelect(t.position,t.mouseColumn,t.inSelectionMode):t.startedOnLineNumbers?this._hasMulticursorModifier(t)?t.inSelectionMode?this._lastCursorLineSelect(t.position,t.revealType):this._createCursor(t.position,!0):t.inSelectionMode?this._lineSelectDrag(t.position,t.revealType):this._lineSelect(t.position,t.revealType):t.mouseDownCount>=4?this._selectAll():3===t.mouseDownCount?this._hasMulticursorModifier(t)?t.inSelectionMode?this._lastCursorLineSelectDrag(t.position,t.revealType):this._lastCursorLineSelect(t.position,t.revealType):t.inSelectionMode?this._lineSelectDrag(t.position,t.revealType):this._lineSelect(t.position,t.revealType):2===t.mouseDownCount?t.onInjectedText||(this._hasMulticursorModifier(t)?this._lastCursorWordSelect(t.position,t.revealType):t.inSelectionMode?this._wordSelectDrag(t.position,t.revealType):this._wordSelect(t.position,t.revealType)):this._hasMulticursorModifier(t)?this._hasNonMulticursorModifier(t)||(t.shiftKey?this._columnSelect(t.position,t.mouseColumn,!0):t.inSelectionMode?this._lastCursorMoveToSelect(t.position,t.revealType):this._createCursor(t.position,!1)):t.inSelectionMode?t.altKey||V?this._columnSelect(t.position,t.mouseColumn,!0):this._moveToSelect(t.position,t.revealType):this.moveTo(t.position,t.revealType)}_usualArgs(t,o){return t=this._validateViewColumn(t),{source:"mouse",position:this._convertViewToModelPosition(t),viewPosition:t,revealType:o}}moveTo(t,o){Yt.Ox.MoveTo.runCoreEditorCommand(this.viewModel,this._usualArgs(t,o))}_moveToSelect(t,o){Yt.Ox.MoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(t,o))}_columnSelect(t,o,b){t=this._validateViewColumn(t),Yt.Ox.ColumnSelect.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(t),viewPosition:t,mouseColumn:o,doColumnSelect:b})}_createCursor(t,o){t=this._validateViewColumn(t),Yt.Ox.CreateCursor.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(t),viewPosition:t,wholeLine:o})}_lastCursorMoveToSelect(t,o){Yt.Ox.LastCursorMoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(t,o))}_wordSelect(t,o){Yt.Ox.WordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(t,o))}_wordSelectDrag(t,o){Yt.Ox.WordSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(t,o))}_lastCursorWordSelect(t,o){Yt.Ox.LastCursorWordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(t,o))}_lineSelect(t,o){Yt.Ox.LineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(t,o))}_lineSelectDrag(t,o){Yt.Ox.LineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(t,o))}_lastCursorLineSelect(t,o){Yt.Ox.LastCursorLineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(t,o))}_lastCursorLineSelectDrag(t,o){Yt.Ox.LastCursorLineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(t,o))}_selectAll(){Yt.Ox.SelectAll.runCoreEditorCommand(this.viewModel,{source:"mouse"})}_convertViewToModelPosition(t){return this.viewModel.coordinatesConverter.convertViewPositionToModelPosition(t)}emitKeyDown(t){this.userInputEvents.emitKeyDown(t)}emitKeyUp(t){this.userInputEvents.emitKeyUp(t)}emitContextMenu(t){this.userInputEvents.emitContextMenu(t)}emitMouseMove(t){this.userInputEvents.emitMouseMove(t)}emitMouseLeave(t){this.userInputEvents.emitMouseLeave(t)}emitMouseUp(t){this.userInputEvents.emitMouseUp(t)}emitMouseDown(t){this.userInputEvents.emitMouseDown(t)}emitMouseDrag(t){this.userInputEvents.emitMouseDrag(t)}emitMouseDrop(t){this.userInputEvents.emitMouseDrop(t)}emitMouseDropCanceled(){this.userInputEvents.emitMouseDropCanceled()}emitMouseWheel(t){this.userInputEvents.emitMouseWheel(t)}}class Fi{constructor(t){this.onKeyDown=null,this.onKeyUp=null,this.onContextMenu=null,this.onMouseMove=null,this.onMouseLeave=null,this.onMouseDown=null,this.onMouseUp=null,this.onMouseDrag=null,this.onMouseDrop=null,this.onMouseDropCanceled=null,this.onMouseWheel=null,this._coordinatesConverter=t}emitKeyDown(t){var o;null===(o=this.onKeyDown)||void 0===o||o.call(this,t)}emitKeyUp(t){var o;null===(o=this.onKeyUp)||void 0===o||o.call(this,t)}emitContextMenu(t){var o;null===(o=this.onContextMenu)||void 0===o||o.call(this,this._convertViewToModelMouseEvent(t))}emitMouseMove(t){var o;null===(o=this.onMouseMove)||void 0===o||o.call(this,this._convertViewToModelMouseEvent(t))}emitMouseLeave(t){var o;null===(o=this.onMouseLeave)||void 0===o||o.call(this,this._convertViewToModelMouseEvent(t))}emitMouseDown(t){var o;null===(o=this.onMouseDown)||void 0===o||o.call(this,this._convertViewToModelMouseEvent(t))}emitMouseUp(t){var o;null===(o=this.onMouseUp)||void 0===o||o.call(this,this._convertViewToModelMouseEvent(t))}emitMouseDrag(t){var o;null===(o=this.onMouseDrag)||void 0===o||o.call(this,this._convertViewToModelMouseEvent(t))}emitMouseDrop(t){var o;null===(o=this.onMouseDrop)||void 0===o||o.call(this,this._convertViewToModelMouseEvent(t))}emitMouseDropCanceled(){var t;null===(t=this.onMouseDropCanceled)||void 0===t||t.call(this)}emitMouseWheel(t){var o;null===(o=this.onMouseWheel)||void 0===o||o.call(this,t)}_convertViewToModelMouseEvent(t){return t.target?{event:t.event,target:this._convertViewToModelMouseTarget(t.target)}:t}_convertViewToModelMouseTarget(t){return Fi.convertViewToModelMouseTarget(t,this._coordinatesConverter)}static convertViewToModelMouseTarget(t,o){const b=Object.assign({},t);return b.position&&(b.position=o.convertViewPositionToModelPosition(b.position)),b.range&&(b.range=o.convertViewRangeToModelRange(b.range)),(5===b.type||8===b.type)&&(b.detail=this.convertViewToModelViewZoneData(b.detail,o)),b}static convertViewToModelViewZoneData(t,o){return{viewZoneId:t.viewZoneId,positionBefore:t.positionBefore?o.convertViewPositionToModelPosition(t.positionBefore):t.positionBefore,positionAfter:t.positionAfter?o.convertViewPositionToModelPosition(t.positionAfter):t.positionAfter,position:o.convertViewPositionToModelPosition(t.position),afterLineNumber:o.convertViewPositionToModelPosition(new le.L(t.afterLineNumber,1)).lineNumber}}}var Yi=e(75578),Qi=e(85460);class cn{constructor(t){this._createLine=t,this._set(1,[])}flush(){this._set(1,[])}_set(t,o){this._lines=o,this._rendLineNumberStart=t}_get(){return{rendLineNumberStart:this._rendLineNumberStart,lines:this._lines}}getStartLineNumber(){return this._rendLineNumberStart}getEndLineNumber(){return this._rendLineNumberStart+this._lines.length-1}getCount(){return this._lines.length}getLine(t){const o=t-this._rendLineNumberStart;if(o<0||o>=this._lines.length)throw new k.he("Illegal value for lineNumber");return this._lines[o]}onLinesDeleted(t,o){if(0===this.getCount())return null;const b=this.getStartLineNumber(),V=this.getEndLineNumber();if(o<b)return this._rendLineNumberStart-=o-t+1,null;if(t>V)return null;let Z=0,Le=0;for(let Ge=b;Ge<=V;Ge++)t<=Ge&&Ge<=o&&(0===Le?(Z=Ge-this._rendLineNumberStart,Le=1):Le++);if(t<b){let Ge=0;Ge=o<b?o-t+1:b-t,this._rendLineNumberStart-=Ge}return this._lines.splice(Z,Le)}onLinesChanged(t,o){const b=t+o-1;if(0===this.getCount())return!1;const V=this.getStartLineNumber(),Z=this.getEndLineNumber();let Le=!1;for(let Re=t;Re<=b;Re++)Re>=V&&Re<=Z&&(this._lines[Re-this._rendLineNumberStart].onContentChanged(),Le=!0);return Le}onLinesInserted(t,o){if(0===this.getCount())return null;const b=o-t+1,V=this.getStartLineNumber(),Z=this.getEndLineNumber();if(t<=V)return this._rendLineNumberStart+=b,null;if(t>Z)return null;if(b+t>Z)return this._lines.splice(t-this._rendLineNumberStart,Z-t+1);const Le=[];for(let Ct=0;Ct<b;Ct++)Le[Ct]=this._createLine();const Re=t-this._rendLineNumberStart,Ge=this._lines.slice(0,Re),at=this._lines.slice(Re,this._lines.length-b),vt=this._lines.slice(this._lines.length-b,this._lines.length);return this._lines=Ge.concat(Le).concat(at),vt}onTokensChanged(t){if(0===this.getCount())return!1;const o=this.getStartLineNumber(),b=this.getEndLineNumber();let V=!1;for(let Z=0,Le=t.length;Z<Le;Z++){const Re=t[Z];if(Re.toLineNumber<o||Re.fromLineNumber>b)continue;const Ge=Math.max(o,Re.fromLineNumber),at=Math.min(b,Re.toLineNumber);for(let vt=Ge;vt<=at;vt++)this._lines[vt-this._rendLineNumberStart].onTokensChanged(),V=!0}return V}}class bn{constructor(t){this._host=t,this.domNode=this._createDomNode(),this._linesCollection=new cn(()=>this._host.createVisibleLine())}_createDomNode(){const t=(0,Ce.X)(document.createElement("div"));return t.setClassName("view-layer"),t.setPosition("absolute"),t.domNode.setAttribute("role","presentation"),t.domNode.setAttribute("aria-hidden","true"),t}onConfigurationChanged(t){return!!t.hasChanged(142)}onFlushed(t){return this._linesCollection.flush(),!0}onLinesChanged(t){return this._linesCollection.onLinesChanged(t.fromLineNumber,t.count)}onLinesDeleted(t){const o=this._linesCollection.onLinesDeleted(t.fromLineNumber,t.toLineNumber);if(o)for(let b=0,V=o.length;b<V;b++){const Z=o[b].getDomNode();Z&&this.domNode.domNode.removeChild(Z)}return!0}onLinesInserted(t){const o=this._linesCollection.onLinesInserted(t.fromLineNumber,t.toLineNumber);if(o)for(let b=0,V=o.length;b<V;b++){const Z=o[b].getDomNode();Z&&this.domNode.domNode.removeChild(Z)}return!0}onScrollChanged(t){return t.scrollTopChanged}onTokensChanged(t){return this._linesCollection.onTokensChanged(t.ranges)}onZonesChanged(t){return!0}getStartLineNumber(){return this._linesCollection.getStartLineNumber()}getEndLineNumber(){return this._linesCollection.getEndLineNumber()}getVisibleLine(t){return this._linesCollection.getLine(t)}renderLines(t){const o=this._linesCollection._get(),Z=new Dn(this.domNode.domNode,this._host,t).render({rendLineNumberStart:o.rendLineNumberStart,lines:o.lines,linesLength:o.lines.length},t.startLineNumber,t.endLineNumber,t.relativeVerticalOffset);this._linesCollection._set(Z.rendLineNumberStart,Z.lines)}}class Dn{constructor(t,o,b){this.domNode=t,this.host=o,this.viewportData=b}render(t,o,b,V){const Z={rendLineNumberStart:t.rendLineNumberStart,lines:t.lines.slice(0),linesLength:t.linesLength};if(Z.rendLineNumberStart+Z.linesLength-1<o||b<Z.rendLineNumberStart){Z.rendLineNumberStart=o,Z.linesLength=b-o+1,Z.lines=[];for(let Le=o;Le<=b;Le++)Z.lines[Le-o]=this.host.createVisibleLine();return this._finishRendering(Z,!0,V),Z}if(this._renderUntouchedLines(Z,Math.max(o-Z.rendLineNumberStart,0),Math.min(b-Z.rendLineNumberStart,Z.linesLength-1),V,o),Z.rendLineNumberStart>o){const Le=o,Re=Math.min(b,Z.rendLineNumberStart-1);Le<=Re&&(this._insertLinesBefore(Z,Le,Re,V,o),Z.linesLength+=Re-Le+1)}else if(Z.rendLineNumberStart<o){const Le=Math.min(Z.linesLength,o-Z.rendLineNumberStart);Le>0&&(this._removeLinesBefore(Z,Le),Z.linesLength-=Le)}if(Z.rendLineNumberStart=o,Z.rendLineNumberStart+Z.linesLength-1<b){const Le=Z.rendLineNumberStart+Z.linesLength,Re=b;Le<=Re&&(this._insertLinesAfter(Z,Le,Re,V,o),Z.linesLength+=Re-Le+1)}else if(Z.rendLineNumberStart+Z.linesLength-1>b){const Le=Math.max(0,b-Z.rendLineNumberStart+1),Ge=Z.linesLength-1-Le+1;Ge>0&&(this._removeLinesAfter(Z,Ge),Z.linesLength-=Ge)}return this._finishRendering(Z,!1,V),Z}_renderUntouchedLines(t,o,b,V,Z){const Le=t.rendLineNumberStart,Re=t.lines;for(let Ge=o;Ge<=b;Ge++){const at=Le+Ge;Re[Ge].layoutLine(at,V[at-Z])}}_insertLinesBefore(t,o,b,V,Z){const Le=[];let Re=0;for(let Ge=o;Ge<=b;Ge++)Le[Re++]=this.host.createVisibleLine();t.lines=Le.concat(t.lines)}_removeLinesBefore(t,o){for(let b=0;b<o;b++){const V=t.lines[b].getDomNode();V&&this.domNode.removeChild(V)}t.lines.splice(0,o)}_insertLinesAfter(t,o,b,V,Z){const Le=[];let Re=0;for(let Ge=o;Ge<=b;Ge++)Le[Re++]=this.host.createVisibleLine();t.lines=t.lines.concat(Le)}_removeLinesAfter(t,o){const b=t.linesLength-o;for(let V=0;V<o;V++){const Z=t.lines[b+V].getDomNode();Z&&this.domNode.removeChild(Z)}t.lines.splice(b,o)}_finishRenderingNewLines(t,o,b,V){Dn._ttPolicy&&(b=Dn._ttPolicy.createHTML(b));const Z=this.domNode.lastChild;o||!Z?this.domNode.innerHTML=b:Z.insertAdjacentHTML("afterend",b);let Le=this.domNode.lastChild;for(let Re=t.linesLength-1;Re>=0;Re--)V[Re]&&(t.lines[Re].setDomNode(Le),Le=Le.previousSibling)}_finishRenderingInvalidLines(t,o,b){const V=document.createElement("div");Dn._ttPolicy&&(o=Dn._ttPolicy.createHTML(o)),V.innerHTML=o;for(let Z=0;Z<t.linesLength;Z++){const Le=t.lines[Z];if(b[Z]){const Re=V.firstChild,Ge=Le.getDomNode();Ge.parentNode.replaceChild(Re,Ge),Le.setDomNode(Re)}}}_finishRendering(t,o,b){const V=Dn._sb,Z=t.linesLength,Le=t.lines,Re=t.rendLineNumberStart,Ge=[];{V.reset();let at=!1;for(let vt=0;vt<Z;vt++){const Ct=Le[vt];Ge[vt]=!1,!Ct.getDomNode()&&Ct.renderLine(vt+Re,b[vt],this.viewportData,V)&&(Ge[vt]=!0,at=!0)}at&&this._finishRenderingNewLines(t,o,V.build(),Ge)}{V.reset();let at=!1;const vt=[];for(let Ct=0;Ct<Z;Ct++){const Vt=Le[Ct];vt[Ct]=!1,!Ge[Ct]&&Vt.renderLine(Ct+Re,b[Ct],this.viewportData,V)&&(vt[Ct]=!0,at=!0)}at&&this._finishRenderingInvalidLines(t,V.build(),vt)}}}Dn._ttPolicy=(0,Yi.Z)("editorViewLayer",{createHTML:bt=>bt}),Dn._sb=new Qi.HT(1e5);class Pn extends be{constructor(t){super(t),this._visibleLines=new bn(this),this.domNode=this._visibleLines.domNode;const b=this._context.configuration.options.get(49);(0,st.N)(this.domNode,b),this._dynamicOverlays=[],this._isFocused=!1,this.domNode.setClassName("view-overlays")}shouldRender(){if(super.shouldRender())return!0;for(let t=0,o=this._dynamicOverlays.length;t<o;t++)if(this._dynamicOverlays[t].shouldRender())return!0;return!1}dispose(){super.dispose();for(let t=0,o=this._dynamicOverlays.length;t<o;t++)this._dynamicOverlays[t].dispose();this._dynamicOverlays=[]}getDomNode(){return this.domNode}createVisibleLine(){return new vn(this._context.configuration,this._dynamicOverlays)}addDynamicOverlay(t){this._dynamicOverlays.push(t)}onConfigurationChanged(t){this._visibleLines.onConfigurationChanged(t);const o=this._visibleLines.getStartLineNumber(),b=this._visibleLines.getEndLineNumber();for(let Le=o;Le<=b;Le++)this._visibleLines.getVisibleLine(Le).onConfigurationChanged(t);const Z=this._context.configuration.options.get(49);return(0,st.N)(this.domNode,Z),!0}onFlushed(t){return this._visibleLines.onFlushed(t)}onFocusChanged(t){return this._isFocused=t.isFocused,!0}onLinesChanged(t){return this._visibleLines.onLinesChanged(t)}onLinesDeleted(t){return this._visibleLines.onLinesDeleted(t)}onLinesInserted(t){return this._visibleLines.onLinesInserted(t)}onScrollChanged(t){return this._visibleLines.onScrollChanged(t)||!0}onTokensChanged(t){return this._visibleLines.onTokensChanged(t)}onZonesChanged(t){return this._visibleLines.onZonesChanged(t)}prepareRender(t){const o=this._dynamicOverlays.filter(b=>b.shouldRender());for(let b=0,V=o.length;b<V;b++){const Z=o[b];Z.prepareRender(t),Z.onDidRender()}}render(t){this._viewOverlaysRender(t),this.domNode.toggleClassName("focused",this._isFocused)}_viewOverlaysRender(t){this._visibleLines.renderLines(t.viewportData)}}class vn{constructor(t,o){this._configuration=t,this._lineHeight=this._configuration.options.get(65),this._dynamicOverlays=o,this._domNode=null,this._renderedContent=null}getDomNode(){return this._domNode?this._domNode.domNode:null}setDomNode(t){this._domNode=(0,Ce.X)(t)}onContentChanged(){}onTokensChanged(){}onConfigurationChanged(t){this._lineHeight=this._configuration.options.get(65)}renderLine(t,o,b,V){let Z="";for(let Le=0,Re=this._dynamicOverlays.length;Le<Re;Le++)Z+=this._dynamicOverlays[Le].render(b.startLineNumber,t);return this._renderedContent!==Z&&(this._renderedContent=Z,V.appendString('<div style="position:absolute;top:'),V.appendString(String(o)),V.appendString("px;width:100%;height:"),V.appendString(String(this._lineHeight)),V.appendString('px;">'),V.appendString(Z),V.appendString("</div>"),!0)}layoutLine(t,o){this._domNode&&(this._domNode.setTop(o),this._domNode.setHeight(this._lineHeight))}}class Xn extends Pn{constructor(t){super(t);const b=this._context.configuration.options.get(142);this._contentWidth=b.contentWidth,this.domNode.setHeight(0)}onConfigurationChanged(t){const b=this._context.configuration.options.get(142);return this._contentWidth=b.contentWidth,super.onConfigurationChanged(t)||!0}onScrollChanged(t){return super.onScrollChanged(t)||t.scrollWidthChanged}_viewOverlaysRender(t){super._viewOverlaysRender(t),this.domNode.setWidth(Math.max(t.scrollWidth,this._contentWidth))}}class Wn extends Pn{constructor(t){super(t);const o=this._context.configuration.options,b=o.get(142);this._contentLeft=b.contentLeft,this.domNode.setClassName("margin-view-overlays"),this.domNode.setWidth(1),(0,st.N)(this.domNode,o.get(49))}onConfigurationChanged(t){const o=this._context.configuration.options;(0,st.N)(this.domNode,o.get(49));const b=o.get(142);return this._contentLeft=b.contentLeft,super.onConfigurationChanged(t)||!0}onScrollChanged(t){return super.onScrollChanged(t)||t.scrollHeightChanged}_viewOverlaysRender(t){super._viewOverlaysRender(t);const o=Math.min(t.scrollHeight,1e6);this.domNode.setHeight(o),this.domNode.setWidth(this._contentLeft)}}class eo extends be{constructor(t,o){super(t),this._viewDomNode=o,this._widgets={},this.domNode=(0,Ce.X)(document.createElement("div")),pe.write(this.domNode,1),this.domNode.setClassName("contentWidgets"),this.domNode.setPosition("absolute"),this.domNode.setTop(0),this.overflowingContentWidgetsDomNode=(0,Ce.X)(document.createElement("div")),pe.write(this.overflowingContentWidgetsDomNode,2),this.overflowingContentWidgetsDomNode.setClassName("overflowingContentWidgets")}dispose(){super.dispose(),this._widgets={}}onConfigurationChanged(t){const o=Object.keys(this._widgets);for(const b of o)this._widgets[b].onConfigurationChanged(t);return!0}onDecorationsChanged(t){return!0}onFlushed(t){return!0}onLineMappingChanged(t){return this._updateAnchorsViewPositions(),!0}onLinesChanged(t){return this._updateAnchorsViewPositions(),!0}onLinesDeleted(t){return this._updateAnchorsViewPositions(),!0}onLinesInserted(t){return this._updateAnchorsViewPositions(),!0}onScrollChanged(t){return!0}onZonesChanged(t){return!0}_updateAnchorsViewPositions(){const t=Object.keys(this._widgets);for(const o of t)this._widgets[o].updateAnchorViewPosition()}addWidget(t){const o=new wn(this._context,this._viewDomNode,t);this._widgets[o.id]=o,o.allowEditorOverflow?this.overflowingContentWidgetsDomNode.appendChild(o.domNode):this.domNode.appendChild(o.domNode),this.setShouldRender()}setWidgetPosition(t,o,b,V,Z){this._widgets[t.getId()].setPosition(o,b,V,Z),this.setShouldRender()}removeWidget(t){const o=t.getId();if(this._widgets.hasOwnProperty(o)){const b=this._widgets[o];delete this._widgets[o];const V=b.domNode.domNode;V.parentNode.removeChild(V),V.removeAttribute("monaco-visible-content-widget"),this.setShouldRender()}}shouldSuppressMouseDownOnWidget(t){return!!this._widgets.hasOwnProperty(t)&&this._widgets[t].suppressMouseDown}onBeforeRender(t){const o=Object.keys(this._widgets);for(const b of o)this._widgets[b].onBeforeRender(t)}prepareRender(t){const o=Object.keys(this._widgets);for(const b of o)this._widgets[b].prepareRender(t)}render(t){const o=Object.keys(this._widgets);for(const b of o)this._widgets[b].render(t)}}class wn{constructor(t,o,b){this._primaryAnchor=new Un(null,null),this._secondaryAnchor=new Un(null,null),this._context=t,this._viewDomNode=o,this._actual=b,this.domNode=(0,Ce.X)(this._actual.getDomNode()),this.id=this._actual.getId(),this.allowEditorOverflow=this._actual.allowEditorOverflow||!1,this.suppressMouseDown=this._actual.suppressMouseDown||!1;const V=this._context.configuration.options,Z=V.get(142);this._fixedOverflowWidgets=V.get(41),this._contentWidth=Z.contentWidth,this._contentLeft=Z.contentLeft,this._lineHeight=V.get(65),this._affinity=null,this._preference=[],this._cachedDomNodeOffsetWidth=-1,this._cachedDomNodeOffsetHeight=-1,this._maxWidth=this._getMaxWidth(),this._isVisible=!1,this._renderData=null,this.domNode.setPosition(this._fixedOverflowWidgets&&this.allowEditorOverflow?"fixed":"absolute"),this.domNode.setDisplay("none"),this.domNode.setVisibility("hidden"),this.domNode.setAttribute("widgetId",this.id),this.domNode.setMaxWidth(this._maxWidth)}onConfigurationChanged(t){const o=this._context.configuration.options;if(this._lineHeight=o.get(65),t.hasChanged(142)){const b=o.get(142);this._contentLeft=b.contentLeft,this._contentWidth=b.contentWidth,this._maxWidth=this._getMaxWidth()}}updateAnchorViewPosition(){this._setPosition(this._affinity,this._primaryAnchor.modelPosition,this._secondaryAnchor.modelPosition)}_setPosition(t,o,b){function V(Z,Le,Re){if(!Z)return new Un(null,null);const Ge=Le.model.validatePosition(Z);if(Le.coordinatesConverter.modelPositionIsVisible(Ge)){const at=Le.coordinatesConverter.convertModelPositionToViewPosition(Ge,Re??void 0);return new Un(Z,at)}return new Un(Z,null)}this._affinity=t,this._primaryAnchor=V(o,this._context.viewModel,this._affinity),this._secondaryAnchor=V(b,this._context.viewModel,this._affinity)}_getMaxWidth(){return this.allowEditorOverflow?window.innerWidth||document.documentElement.offsetWidth||document.body.offsetWidth:this._contentWidth}setPosition(t,o,b,V){this._setPosition(V,t,o),this._preference=b,this.domNode.setDisplay(this._primaryAnchor.viewPosition&&this._preference&&this._preference.length>0?"block":"none"),this._cachedDomNodeOffsetWidth=-1,this._cachedDomNodeOffsetHeight=-1}_layoutBoxInViewport(t,o,b,V){const Z=t.top,Re=t.top+t.height;let Ht=t.left;return Ht+o>V.scrollLeft+V.viewportWidth&&(Ht=V.scrollLeft+V.viewportWidth-o),Ht<V.scrollLeft&&(Ht=V.scrollLeft),{fitsAbove:Z>=b,aboveTop:Z-b,fitsBelow:V.viewportHeight-Re>=b,belowTop:Re,left:Ht}}_layoutHorizontalSegmentInPage(t,o,b,V){const Re=Math.max(15,o.left-V),Ge=Math.min(o.left+o.width+V,t.width-15);let at=o.left+b-window.scrollX;if(at+V>Ge){const vt=at-(Ge-V);at-=vt,b-=vt}if(at<Re){const vt=at-Re;at-=vt,b-=vt}return[b,at]}_layoutBoxInPage(t,o,b,V){const Z=t.top-b,Le=t.top+t.height,Re=A.i(this._viewDomNode.domNode),Ge=Re.top+Z-window.scrollY,at=Re.top+Le-window.scrollY,vt=A.D6(document.body),[Ct,Vt]=this._layoutHorizontalSegmentInPage(vt,Re,t.left-V.scrollLeft+this._contentLeft,o),pi=Ge>=22,wi=at+b<=vt.height-22;return this._fixedOverflowWidgets?{fitsAbove:pi,aboveTop:Math.max(Ge,22),fitsBelow:wi,belowTop:at,left:Vt}:{fitsAbove:pi,aboveTop:Z,fitsBelow:wi,belowTop:Le,left:Ct}}_prepareRenderWidgetAtExactPositionOverflowing(t){return new po(t.top,t.left+this._contentLeft)}_getAnchorsCoordinates(t){var o,b;return{primary:Re(this._primaryAnchor.viewPosition,this._affinity,this._lineHeight),secondary:Re((null===(o=this._secondaryAnchor.viewPosition)||void 0===o?void 0:o.lineNumber)===(null===(b=this._primaryAnchor.viewPosition)||void 0===b?void 0:b.lineNumber)?this._secondaryAnchor.viewPosition:null,this._affinity,this._lineHeight)};function Re(Ge,at,vt){if(!Ge)return null;const Ct=t.visibleRangeForPosition(Ge);if(!Ct)return null;const Vt=1===Ge.column&&3===at?0:Ct.left,Ht=t.getVerticalOffsetForLineNumber(Ge.lineNumber)-t.scrollTop;return new Jt(Ht,Vt,vt)}}_reduceAnchorCoordinates(t,o,b){if(!o)return t;const V=this._context.configuration.options.get(49);let Z=o.left;return Z=Z<t.left?Math.max(Z,t.left-b+V.typicalFullwidthCharacterWidth):Math.min(Z,t.left+b-V.typicalFullwidthCharacterWidth),new Jt(t.top,Z,t.height)}_prepareRenderWidget(t){if(!this._preference||0===this._preference.length)return null;const{primary:o,secondary:b}=this._getAnchorsCoordinates(t);if(!o)return null;if(-1===this._cachedDomNodeOffsetWidth||-1===this._cachedDomNodeOffsetHeight){let Le=null;if("function"==typeof this._actual.beforeRender&&(Le=qn(this._actual.beforeRender,this._actual)),Le)this._cachedDomNodeOffsetWidth=Le.width,this._cachedDomNodeOffsetHeight=Le.height;else{const Ge=this.domNode.domNode.getBoundingClientRect();this._cachedDomNodeOffsetWidth=Math.round(Ge.width),this._cachedDomNodeOffsetHeight=Math.round(Ge.height)}}const V=this._reduceAnchorCoordinates(o,b,this._cachedDomNodeOffsetWidth);let Z;Z=this.allowEditorOverflow?this._layoutBoxInPage(V,this._cachedDomNodeOffsetWidth,this._cachedDomNodeOffsetHeight,t):this._layoutBoxInViewport(V,this._cachedDomNodeOffsetWidth,this._cachedDomNodeOffsetHeight,t);for(let Le=1;Le<=2;Le++)for(const Re of this._preference)if(1===Re){if(!Z)return null;if(2===Le||Z.fitsAbove)return{coordinate:new po(Z.aboveTop,Z.left),position:1}}else{if(2!==Re)return this.allowEditorOverflow?{coordinate:this._prepareRenderWidgetAtExactPositionOverflowing(new po(V.top,V.left)),position:0}:{coordinate:new po(V.top,V.left),position:0};if(!Z)return null;if(2===Le||Z.fitsBelow)return{coordinate:new po(Z.belowTop,Z.left),position:2}}return null}onBeforeRender(t){!this._primaryAnchor.viewPosition||!this._preference||this._primaryAnchor.viewPosition.lineNumber<t.startLineNumber||this._primaryAnchor.viewPosition.lineNumber>t.endLineNumber||this.domNode.setMaxWidth(this._maxWidth)}prepareRender(t){this._renderData=this._prepareRenderWidget(t)}render(t){if(!this._renderData)return this._isVisible&&(this.domNode.removeAttribute("monaco-visible-content-widget"),this._isVisible=!1,this.domNode.setVisibility("hidden")),void("function"==typeof this._actual.afterRender&&qn(this._actual.afterRender,this._actual,null));this.allowEditorOverflow?(this.domNode.setTop(this._renderData.coordinate.top),this.domNode.setLeft(this._renderData.coordinate.left)):(this.domNode.setTop(this._renderData.coordinate.top+t.scrollTop-t.bigNumbersDelta),this.domNode.setLeft(this._renderData.coordinate.left)),this._isVisible||(this.domNode.setVisibility("inherit"),this.domNode.setAttribute("monaco-visible-content-widget","true"),this._isVisible=!0),"function"==typeof this._actual.afterRender&&qn(this._actual.afterRender,this._actual,this._renderData.position)}}class Un{constructor(t,o){this.modelPosition=t,this.viewPosition=o}}class po{constructor(t,o){this.top=t,this.left=o,this._coordinateBrand=void 0}}class Jt{constructor(t,o,b){this.top=t,this.left=o,this.height=b,this._anchorCoordinateBrand=void 0}}function qn(bt,t,...o){try{return bt.call(t,...o)}catch{return null}}var gn=e(91260),Gn={};Gn.styleTagTransform=m(),Gn.setAttributes=g(),Gn.insert=c().bind(null,"head"),Gn.domAPI=L(),Gn.insertStyleElement=d(),T()(gn.Z,Gn);var nt=e(13054);class Me extends wt{constructor(t){super(),this._context=t;const o=this._context.configuration.options,b=o.get(142);this._lineHeight=o.get(65),this._renderLineHighlight=o.get(94),this._renderLineHighlightOnlyWhenFocus=o.get(95),this._contentLeft=b.contentLeft,this._contentWidth=b.contentWidth,this._selectionIsEmpty=!0,this._focused=!1,this._cursorLineNumbers=[1],this._selections=[new F.Y(1,1,1,1)],this._renderData=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}_readFromSelections(){let t=!1;const o=this._selections.map(V=>V.positionLineNumber);o.sort((V,Z)=>V-Z),U.fS(this._cursorLineNumbers,o)||(this._cursorLineNumbers=o,t=!0);const b=this._selections.every(V=>V.isEmpty());return this._selectionIsEmpty!==b&&(this._selectionIsEmpty=b,t=!0),t}onThemeChanged(t){return this._readFromSelections()}onConfigurationChanged(t){const o=this._context.configuration.options,b=o.get(142);return this._lineHeight=o.get(65),this._renderLineHighlight=o.get(94),this._renderLineHighlightOnlyWhenFocus=o.get(95),this._contentLeft=b.contentLeft,this._contentWidth=b.contentWidth,!0}onCursorStateChanged(t){return this._selections=t.selections,this._readFromSelections()}onFlushed(t){return!0}onLinesDeleted(t){return!0}onLinesInserted(t){return!0}onScrollChanged(t){return t.scrollWidthChanged||t.scrollTopChanged}onZonesChanged(t){return!0}onFocusChanged(t){return!!this._renderLineHighlightOnlyWhenFocus&&(this._focused=t.isFocused,!0)}prepareRender(t){if(!this._shouldRenderThis())return void(this._renderData=null);const o=this._renderOne(t),b=t.visibleRange.startLineNumber,V=t.visibleRange.endLineNumber,Z=this._cursorLineNumbers.length;let Le=0;const Re=[];for(let Ge=b;Ge<=V;Ge++){const at=Ge-b;for(;Le<Z&&this._cursorLineNumbers[Le]<Ge;)Le++;Re[at]=Le<Z&&this._cursorLineNumbers[Le]===Ge?o:""}this._renderData=Re}render(t,o){if(!this._renderData)return"";const b=o-t;return b>=this._renderData.length?"":this._renderData[b]}_shouldRenderInMargin(){return("gutter"===this._renderLineHighlight||"all"===this._renderLineHighlight)&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}_shouldRenderInContent(){return("line"===this._renderLineHighlight||"all"===this._renderLineHighlight)&&this._selectionIsEmpty&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}}class he extends Me{_renderOne(t){return`<div class="${"current-line"+(this._shouldRenderOther()?" current-line-both":"")}" style="width:${Math.max(t.scrollWidth,this._contentWidth)}px; height:${this._lineHeight}px;"></div>`}_shouldRenderThis(){return this._shouldRenderInContent()}_shouldRenderOther(){return this._shouldRenderInMargin()}}class Be extends Me{_renderOne(t){return`<div class="${"current-line"+(this._shouldRenderInMargin()?" current-line-margin":"")+(this._shouldRenderOther()?" current-line-margin-both":"")}" style="width:${this._contentLeft}px; height:${this._lineHeight}px;"></div>`}_shouldRenderThis(){return!0}_shouldRenderOther(){return this._shouldRenderInContent()}}(0,Bt.Ic)((bt,t)=>{const o=bt.getColor(xt.Kh);if(o&&(t.addRule(`.monaco-editor .view-overlays .current-line { background-color: ${o}; }`),t.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { background-color: ${o}; border: none; }`)),!o||o.isTransparent()||bt.defines(xt.Mm)){const b=bt.getColor(xt.Mm);b&&(t.addRule(`.monaco-editor .view-overlays .current-line { border: 2px solid ${b}; }`),t.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { border: 2px solid ${b}; }`),(0,nt.c3)(bt.type)&&(t.addRule(".monaco-editor .view-overlays .current-line { border-width: 1px; }"),t.addRule(".monaco-editor .margin-view-overlays .current-line-margin { border-width: 1px; }")))}});var Ke=e(71329),Ye={};Ye.styleTagTransform=m(),Ye.setAttributes=g(),Ye.insert=c().bind(null,"head"),Ye.domAPI=L(),Ye.insertStyleElement=d(),T()(Ke.Z,Ye);var _i=e(25612);class mi extends wt{constructor(t){super(),this._context=t;const o=this._context.configuration.options;this._lineHeight=o.get(65),this._typicalHalfwidthCharacterWidth=o.get(49).typicalHalfwidthCharacterWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(t){const o=this._context.configuration.options;return this._lineHeight=o.get(65),this._typicalHalfwidthCharacterWidth=o.get(49).typicalHalfwidthCharacterWidth,!0}onDecorationsChanged(t){return!0}onFlushed(t){return!0}onLinesChanged(t){return!0}onLinesDeleted(t){return!0}onLinesInserted(t){return!0}onScrollChanged(t){return t.scrollTopChanged||t.scrollWidthChanged}onZonesChanged(t){return!0}prepareRender(t){const o=t.getDecorationsInViewport();let b=[],V=0;for(let Ge=0,at=o.length;Ge<at;Ge++){const vt=o[Ge];vt.options.className&&(b[V++]=vt)}b=b.sort((Ge,at)=>{if(Ge.options.zIndex<at.options.zIndex)return-1;if(Ge.options.zIndex>at.options.zIndex)return 1;const vt=Ge.options.className,Ct=at.options.className;return vt<Ct?-1:vt>Ct?1:ie.e.compareRangesUsingStarts(Ge.range,at.range)});const Z=t.visibleRange.startLineNumber,Le=t.visibleRange.endLineNumber,Re=[];for(let Ge=Z;Ge<=Le;Ge++)Re[Ge-Z]="";this._renderWholeLineDecorations(t,b,Re),this._renderNormalDecorations(t,b,Re),this._renderResult=Re}_renderWholeLineDecorations(t,o,b){const V=String(this._lineHeight),Z=t.visibleRange.startLineNumber,Le=t.visibleRange.endLineNumber;for(let Re=0,Ge=o.length;Re<Ge;Re++){const at=o[Re];if(!at.options.isWholeLine)continue;const vt='<div class="cdr '+at.options.className+'" style="left:0;width:100%;height:'+V+'px;"></div>',Ct=Math.max(at.range.startLineNumber,Z),Vt=Math.min(at.range.endLineNumber,Le);for(let Ht=Ct;Ht<=Vt;Ht++)b[Ht-Z]+=vt}}_renderNormalDecorations(t,o,b){var V;const Z=String(this._lineHeight),Le=t.visibleRange.startLineNumber;let Re=null,Ge=!1,at=null,vt=!1;for(let Ct=0,Vt=o.length;Ct<Vt;Ct++){const Ht=o[Ct];if(Ht.options.isWholeLine)continue;const ei=Ht.options.className,pi=!!Ht.options.showIfCollapsed;let wi=Ht.range;pi&&1===wi.endColumn&&wi.endLineNumber!==wi.startLineNumber&&(wi=new ie.e(wi.startLineNumber,wi.startColumn,wi.endLineNumber-1,this._context.viewModel.getLineMaxColumn(wi.endLineNumber-1))),Re===ei&&Ge===pi&&ie.e.areIntersectingOrTouching(at,wi)?at=ie.e.plusRange(at,wi):(null!==Re&&this._renderNormalDecoration(t,at,Re,vt,Ge,Z,Le,b),Re=ei,Ge=pi,at=wi,vt=null!==(V=Ht.options.shouldFillLineOnLineBreak)&&void 0!==V&&V)}null!==Re&&this._renderNormalDecoration(t,at,Re,vt,Ge,Z,Le,b)}_renderNormalDecoration(t,o,b,V,Z,Le,Re,Ge){const at=t.linesVisibleRangesForRange(o,"findMatch"===b);if(at)for(let vt=0,Ct=at.length;vt<Ct;vt++){const Vt=at[vt];if(Vt.outsideRenderedLine)continue;const Ht=Vt.lineNumber-Re;if(Z&&1===Vt.ranges.length){const ei=Vt.ranges[0];if(ei.width<this._typicalHalfwidthCharacterWidth){const pi=Math.round(ei.left+ei.width/2),wi=Math.max(0,Math.round(pi-this._typicalHalfwidthCharacterWidth/2));Vt.ranges[0]=new _i.yu(wi,this._typicalHalfwidthCharacterWidth)}}for(let ei=0,pi=Vt.ranges.length;ei<pi;ei++){const wi=V&&Vt.continuesOnNextLine&&1===pi,Ni=Vt.ranges[ei],Pi='<div class="cdr '+b+'" style="left:'+String(Ni.left)+(wi?"px;width:100%;height:":"px;width:"+String(Ni.width)+"px;height:")+Le+'px;"></div>';Ge[Ht]+=Pi}}}render(t,o){if(!this._renderResult)return"";const b=o-t;return b<0||b>=this._renderResult.length?"":this._renderResult[b]}}class qt extends be{constructor(t,o,b,V){super(t);const Z=this._context.configuration.options,Le=Z.get(101),Re=Z.get(73),Ge=Z.get(39),at=Z.get(104),vt={listenOnDomNode:b.domNode,className:"editor-scrollable "+(0,Bt.m6)(t.theme.type),useShadows:!1,lazyRender:!0,vertical:Le.vertical,horizontal:Le.horizontal,verticalHasArrows:Le.verticalHasArrows,horizontalHasArrows:Le.horizontalHasArrows,verticalScrollbarSize:Le.verticalScrollbarSize,verticalSliderSize:Le.verticalSliderSize,horizontalScrollbarSize:Le.horizontalScrollbarSize,horizontalSliderSize:Le.horizontalSliderSize,handleMouseWheel:Le.handleMouseWheel,alwaysConsumeMouseWheel:Le.alwaysConsumeMouseWheel,arrowSize:Le.arrowSize,mouseWheelScrollSensitivity:Re,fastScrollSensitivity:Ge,scrollPredominantAxis:at,scrollByPage:Le.scrollByPage};this.scrollbar=this._register(new Ee.$Z(o.domNode,vt,this._context.viewLayout.getScrollable())),pe.write(this.scrollbar.getDomNode(),5),this.scrollbarDomNode=(0,Ce.X)(this.scrollbar.getDomNode()),this.scrollbarDomNode.setPosition("absolute"),this._setLayout();const Ct=(Vt,Ht,ei)=>{const pi={};if(Ht){const wi=Vt.scrollTop;wi&&(pi.scrollTop=this._context.viewLayout.getCurrentScrollTop()+wi,Vt.scrollTop=0)}if(ei){const wi=Vt.scrollLeft;wi&&(pi.scrollLeft=this._context.viewLayout.getCurrentScrollLeft()+wi,Vt.scrollLeft=0)}this._context.viewModel.viewLayout.setScrollPosition(pi,1)};this._register(A.nm(b.domNode,"scroll",Vt=>Ct(b.domNode,!0,!0))),this._register(A.nm(o.domNode,"scroll",Vt=>Ct(o.domNode,!0,!1))),this._register(A.nm(V.domNode,"scroll",Vt=>Ct(V.domNode,!0,!1))),this._register(A.nm(this.scrollbarDomNode.domNode,"scroll",Vt=>Ct(this.scrollbarDomNode.domNode,!0,!1)))}dispose(){super.dispose()}_setLayout(){const t=this._context.configuration.options,o=t.get(142);this.scrollbarDomNode.setLeft(o.contentLeft),"right"===t.get(71).side?this.scrollbarDomNode.setWidth(o.contentWidth+o.minimap.minimapWidth):this.scrollbarDomNode.setWidth(o.contentWidth),this.scrollbarDomNode.setHeight(o.height)}getOverviewRulerLayoutInfo(){return this.scrollbar.getOverviewRulerLayoutInfo()}getDomNode(){return this.scrollbarDomNode}delegateVerticalScrollbarPointerDown(t){this.scrollbar.delegateVerticalScrollbarPointerDown(t)}delegateScrollFromMouseWheelEvent(t){this.scrollbar.delegateScrollFromMouseWheelEvent(t)}onConfigurationChanged(t){if(t.hasChanged(101)||t.hasChanged(73)||t.hasChanged(39)){const o=this._context.configuration.options,b=o.get(101),V=o.get(73),Z=o.get(39),Le=o.get(104);this.scrollbar.updateOptions({vertical:b.vertical,horizontal:b.horizontal,verticalScrollbarSize:b.verticalScrollbarSize,horizontalScrollbarSize:b.horizontalScrollbarSize,scrollByPage:b.scrollByPage,handleMouseWheel:b.handleMouseWheel,mouseWheelScrollSensitivity:V,fastScrollSensitivity:Z,scrollPredominantAxis:Le})}return t.hasChanged(142)&&this._setLayout(),!0}onScrollChanged(t){return!0}onThemeChanged(t){return this.scrollbar.updateClassName("editor-scrollable "+(0,Bt.m6)(this._context.theme.type)),!0}prepareRender(t){}render(t){this.scrollbar.renderNow()}}var oi=e(86848),Ai={};Ai.styleTagTransform=m(),Ai.setAttributes=g(),Ai.insert=c().bind(null,"head"),Ai.domAPI=L(),Ai.insertStyleElement=d(),T()(oi.Z,Ai);var fi=e(91402),$t=e(42714),Ii=e(72417);class si extends wt{constructor(t){super(),this._context=t,this._primaryPosition=null;const o=this._context.configuration.options,b=o.get(143),V=o.get(49);this._lineHeight=o.get(65),this._spaceWidth=V.spaceWidth,this._maxIndentLeft=-1===b.wrappingColumn?-1:b.wrappingColumn*V.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=o.get(15),this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(t){const o=this._context.configuration.options,b=o.get(143),V=o.get(49);return this._lineHeight=o.get(65),this._spaceWidth=V.spaceWidth,this._maxIndentLeft=-1===b.wrappingColumn?-1:b.wrappingColumn*V.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=o.get(15),!0}onCursorStateChanged(t){var o;const V=t.selections[0].getPosition();return!(null!==(o=this._primaryPosition)&&void 0!==o&&o.equals(V)||(this._primaryPosition=V,0))}onDecorationsChanged(t){return!0}onFlushed(t){return!0}onLinesChanged(t){return!0}onLinesDeleted(t){return!0}onLinesInserted(t){return!0}onScrollChanged(t){return t.scrollTopChanged}onZonesChanged(t){return!0}onLanguageConfigurationChanged(t){return!0}prepareRender(t){var o,b,V,Z;if(!this._bracketPairGuideOptions.indentation&&!1===this._bracketPairGuideOptions.bracketPairs)return void(this._renderResult=null);const Le=t.visibleRange.startLineNumber,Re=t.visibleRange.endLineNumber,Ge=t.scrollWidth,at=this._lineHeight,vt=this._primaryPosition,Ct=this.getGuidesByLine(Le,Math.min(Re+1,this._context.viewModel.getLineCount()),vt),Vt=[];for(let Ht=Le;Ht<=Re;Ht++){const ei=Ht-Le,pi=Ct[ei];let wi="";const Ni=null!==(b=null===(o=t.visibleRangeForPosition(new le.L(Ht,1)))||void 0===o?void 0:o.left)&&void 0!==b?b:0;for(const Pi of pi){const Ji=-1===Pi.column?Ni+(Pi.visibleColumn-1)*this._spaceWidth:t.visibleRangeForPosition(new le.L(Ht,Pi.column)).left;if(Ji>Ge||this._maxIndentLeft>0&&Ji>this._maxIndentLeft)break;const un=Pi.horizontalLine?Pi.horizontalLine.top?"horizontal-top":"horizontal-bottom":"vertical",En=Pi.horizontalLine?(null!==(Z=null===(V=t.visibleRangeForPosition(new le.L(Ht,Pi.horizontalLine.endColumn)))||void 0===V?void 0:V.left)&&void 0!==Z?Z:Ji+this._spaceWidth)-Ji:this._spaceWidth;wi+=`<div class="core-guide ${Pi.className} ${un}" style="left:${Ji}px;height:${at}px;width:${En}px"></div>`}Vt[ei]=wi}this._renderResult=Vt}getGuidesByLine(t,o,b){const V=!1!==this._bracketPairGuideOptions.bracketPairs?this._context.viewModel.getBracketGuidesInRangeByLine(t,o,b,{highlightActive:this._bracketPairGuideOptions.highlightActiveBracketPair,horizontalGuides:!0===this._bracketPairGuideOptions.bracketPairsHorizontal?Ii.s6.Enabled:"active"===this._bracketPairGuideOptions.bracketPairsHorizontal?Ii.s6.EnabledForActive:Ii.s6.Disabled,includeInactive:!0===this._bracketPairGuideOptions.bracketPairs}):null,Z=this._bracketPairGuideOptions.indentation?this._context.viewModel.getLinesIndentGuides(t,o):null;let Le=0,Re=0,Ge=0;if(!1!==this._bracketPairGuideOptions.highlightActiveIndentation&&b){const Ct=this._context.viewModel.getActiveIndentGuide(b.lineNumber,t,o);Le=Ct.startLineNumber,Re=Ct.endLineNumber,Ge=Ct.indent}const{indentSize:at}=this._context.viewModel.model.getOptions(),vt=[];for(let Ct=t;Ct<=o;Ct++){const Vt=new Array;vt.push(Vt);const Ht=V?V[Ct-t]:[],ei=new U.H9(Ht),pi=Z?Z[Ct-t]:0;for(let wi=1;wi<=pi;wi++){const Ni=(wi-1)*at+1,Pi=("always"===this._bracketPairGuideOptions.highlightActiveIndentation||0===Ht.length)&&Le<=Ct&&Ct<=Re&&wi===Ge;Vt.push(...ei.takeWhile(un=>un.visibleColumn<Ni)||[]);const Ji=ei.peek();(!Ji||Ji.visibleColumn!==Ni||Ji.horizontalLine)&&Vt.push(new Ii.UO(Ni,-1,"core-guide-indent lvl-"+(wi-1)%30+(Pi?" indent-active":""),null,-1,-1))}Vt.push(...ei.takeWhile(wi=>!0)||[])}return vt}render(t,o){if(!this._renderResult)return"";const b=o-t;return b<0||b>=this._renderResult.length?"":this._renderResult[b]}}function nn(bt){if(!bt||!bt.isTransparent())return bt}(0,Bt.Ic)((bt,t)=>{const o=[{bracketColor:xt.zJ,guideColor:xt.oV,guideColorActive:xt.Qb},{bracketColor:xt.Vs,guideColor:xt.m$,guideColorActive:xt.m3},{bracketColor:xt.CE,guideColor:xt.DS,guideColorActive:xt.To},{bracketColor:xt.UP,guideColor:xt.lS,guideColorActive:xt.L7},{bracketColor:xt.r0,guideColor:xt.Jn,guideColorActive:xt.HV},{bracketColor:xt.m1,guideColor:xt.YF,guideColorActive:xt.f9}],b=new $t.W,V=[{indentColor:xt.gS,indentColorActive:xt.qe},{indentColor:xt.Tf,indentColorActive:xt.Xy},{indentColor:xt.H_,indentColorActive:xt.cK},{indentColor:xt.h1,indentColorActive:xt.N8},{indentColor:xt.vP,indentColorActive:xt.zd},{indentColor:xt.e9,indentColorActive:xt.ll}],Z=o.map(Re=>{var Ge,at;const vt=bt.getColor(Re.bracketColor),Ct=bt.getColor(Re.guideColor),Vt=bt.getColor(Re.guideColorActive),Ht=nn(null!==(Ge=nn(Ct))&&void 0!==Ge?Ge:vt?.transparent(.3)),ei=nn(null!==(at=nn(Vt))&&void 0!==at?at:vt);if(Ht&&ei)return{guideColor:Ht,guideColorActive:ei}}).filter(fi.$K),Le=V.map(Re=>{const Ge=bt.getColor(Re.indentColor),at=bt.getColor(Re.indentColorActive),vt=nn(Ge),Ct=nn(at);if(vt&&Ct)return{indentColor:vt,indentColorActive:Ct}}).filter(fi.$K);if(Z.length>0){for(let Re=0;Re<30;Re++){const Ge=Z[Re%Z.length];t.addRule(`.monaco-editor .${b.getInlineClassNameOfLevel(Re).replace(/ /g,".")} { --guide-color: ${Ge.guideColor}; --guide-color-active: ${Ge.guideColorActive}; }`)}t.addRule(".monaco-editor .vertical { box-shadow: 1px 0 0 0 var(--guide-color) inset; }"),t.addRule(".monaco-editor .horizontal-top { border-top: 1px solid var(--guide-color); }"),t.addRule(".monaco-editor .horizontal-bottom { border-bottom: 1px solid var(--guide-color); }"),t.addRule(`.monaco-editor .vertical.${b.activeClassName} { box-shadow: 1px 0 0 0 var(--guide-color-active) inset; }`),t.addRule(`.monaco-editor .horizontal-top.${b.activeClassName} { border-top: 1px solid var(--guide-color-active); }`),t.addRule(`.monaco-editor .horizontal-bottom.${b.activeClassName} { border-bottom: 1px solid var(--guide-color-active); }`)}if(Le.length>0){for(let Re=0;Re<30;Re++){const Ge=Le[Re%Le.length];t.addRule(`.monaco-editor .lines-content .core-guide-indent.lvl-${Re} { --indent-color: ${Ge.indentColor}; --indent-color-active: ${Ge.indentColorActive}; }`)}t.addRule(".monaco-editor .lines-content .core-guide-indent { box-shadow: 1px 0 0 0 var(--indent-color) inset; }"),t.addRule(".monaco-editor .lines-content .core-guide-indent.indent-active { box-shadow: 1px 0 0 0 var(--indent-color-active) inset; }")}});var en=e(85328),yn=e(89565),An={};An.styleTagTransform=m(),An.setAttributes=g(),An.insert=c().bind(null,"head"),An.domAPI=L(),An.insertStyleElement=d(),T()(yn.Z,An);class lo{get didDomLayout(){return this._didDomLayout}readClientRect(){if(!this._clientRectRead){this._clientRectRead=!0;const t=this._domNode.getBoundingClientRect();this.markDidDomLayout(),this._clientRectDeltaLeft=t.left,this._clientRectScale=t.width/this._domNode.offsetWidth}}get clientRectDeltaLeft(){return this._clientRectRead||this.readClientRect(),this._clientRectDeltaLeft}get clientRectScale(){return this._clientRectRead||this.readClientRect(),this._clientRectScale}constructor(t,o){this._domNode=t,this.endNode=o,this._didDomLayout=!1,this._clientRectDeltaLeft=0,this._clientRectScale=1,this._clientRectRead=!1}markDidDomLayout(){this._didDomLayout=!0}}class wo{constructor(){this._currentVisibleRange=new ie.e(1,1,1,1)}getCurrentVisibleRange(){return this._currentVisibleRange}setCurrentVisibleRange(t){this._currentVisibleRange=t}}class vs{constructor(t,o,b,V,Z,Le,Re){this.minimalReveal=t,this.lineNumber=o,this.startColumn=b,this.endColumn=V,this.startScrollTop=Z,this.stopScrollTop=Le,this.scrollType=Re,this.type="range",this.minLineNumber=o,this.maxLineNumber=o}}class Ft{constructor(t,o,b,V,Z){this.minimalReveal=t,this.selections=o,this.startScrollTop=b,this.stopScrollTop=V,this.scrollType=Z,this.type="selections";let Le=o[0].startLineNumber,Re=o[0].endLineNumber;for(let Ge=1,at=o.length;Ge<at;Ge++){const vt=o[Ge];Le=Math.min(Le,vt.startLineNumber),Re=Math.max(Re,vt.endLineNumber)}this.minLineNumber=Le,this.maxLineNumber=Re}}let M=(()=>{class bt extends be{constructor(o,b){super(o),this._linesContent=b,this._textRangeRestingSpot=document.createElement("div"),this._visibleLines=new bn(this),this.domNode=this._visibleLines.domNode;const V=this._context.configuration,Z=this._context.configuration.options,Le=Z.get(49),Re=Z.get(143);this._lineHeight=Z.get(65),this._typicalHalfwidthCharacterWidth=Le.typicalHalfwidthCharacterWidth,this._isViewportWrapping=Re.isViewportWrapping,this._revealHorizontalRightPadding=Z.get(98),this._cursorSurroundingLines=Z.get(28),this._cursorSurroundingLinesStyle=Z.get(29),this._canUseLayerHinting=!Z.get(31),this._viewLineOptions=new Q.ob(V,this._context.theme.type),pe.write(this.domNode,7),this.domNode.setClassName(`view-lines ${qi.S}`),(0,st.N)(this.domNode,Le),this._maxLineWidth=0,this._asyncUpdateLineWidths=new en.pY(()=>{this._updateLineWidthsSlow()},200),this._asyncCheckMonospaceFontAssumptions=new en.pY(()=>{this._checkMonospaceFontAssumptions()},2e3),this._lastRenderedData=new wo,this._horizontalRevealRequest=null,this._stickyScrollEnabled=Z.get(113).enabled,this._maxNumberStickyLines=Z.get(113).maxLineCount}dispose(){this._asyncUpdateLineWidths.dispose(),this._asyncCheckMonospaceFontAssumptions.dispose(),super.dispose()}getDomNode(){return this.domNode}createVisibleLine(){return new Q.Nt(this._viewLineOptions)}onConfigurationChanged(o){this._visibleLines.onConfigurationChanged(o),o.hasChanged(143)&&(this._maxLineWidth=0);const b=this._context.configuration.options,V=b.get(49),Z=b.get(143);return this._lineHeight=b.get(65),this._typicalHalfwidthCharacterWidth=V.typicalHalfwidthCharacterWidth,this._isViewportWrapping=Z.isViewportWrapping,this._revealHorizontalRightPadding=b.get(98),this._cursorSurroundingLines=b.get(28),this._cursorSurroundingLinesStyle=b.get(29),this._canUseLayerHinting=!b.get(31),this._stickyScrollEnabled=b.get(113).enabled,this._maxNumberStickyLines=b.get(113).maxLineCount,(0,st.N)(this.domNode,V),this._onOptionsMaybeChanged(),o.hasChanged(142)&&(this._maxLineWidth=0),!0}_onOptionsMaybeChanged(){const b=new Q.ob(this._context.configuration,this._context.theme.type);if(!this._viewLineOptions.equals(b)){this._viewLineOptions=b;const V=this._visibleLines.getStartLineNumber(),Z=this._visibleLines.getEndLineNumber();for(let Le=V;Le<=Z;Le++)this._visibleLines.getVisibleLine(Le).onOptionsChanged(this._viewLineOptions);return!0}return!1}onCursorStateChanged(o){const b=this._visibleLines.getStartLineNumber(),V=this._visibleLines.getEndLineNumber();let Z=!1;for(let Le=b;Le<=V;Le++)Z=this._visibleLines.getVisibleLine(Le).onSelectionChanged()||Z;return Z}onDecorationsChanged(o){{const b=this._visibleLines.getStartLineNumber(),V=this._visibleLines.getEndLineNumber();for(let Z=b;Z<=V;Z++)this._visibleLines.getVisibleLine(Z).onDecorationsChanged()}return!0}onFlushed(o){const b=this._visibleLines.onFlushed(o);return this._maxLineWidth=0,b}onLinesChanged(o){return this._visibleLines.onLinesChanged(o)}onLinesDeleted(o){return this._visibleLines.onLinesDeleted(o)}onLinesInserted(o){return this._visibleLines.onLinesInserted(o)}onRevealRangeRequest(o){const b=this._computeScrollTopToRevealRange(this._context.viewLayout.getFutureViewport(),o.source,o.minimalReveal,o.range,o.selections,o.verticalType);if(-1===b)return!1;let V=this._context.viewLayout.validateScrollPosition({scrollTop:b});o.revealHorizontal?o.range&&o.range.startLineNumber!==o.range.endLineNumber?V={scrollTop:V.scrollTop,scrollLeft:0}:o.range?this._horizontalRevealRequest=new vs(o.minimalReveal,o.range.startLineNumber,o.range.startColumn,o.range.endColumn,this._context.viewLayout.getCurrentScrollTop(),V.scrollTop,o.scrollType):o.selections&&o.selections.length>0&&(this._horizontalRevealRequest=new Ft(o.minimalReveal,o.selections,this._context.viewLayout.getCurrentScrollTop(),V.scrollTop,o.scrollType)):this._horizontalRevealRequest=null;const Le=Math.abs(this._context.viewLayout.getCurrentScrollTop()-V.scrollTop)<=this._lineHeight?1:o.scrollType;return this._context.viewModel.viewLayout.setScrollPosition(V,Le),!0}onScrollChanged(o){if(this._horizontalRevealRequest&&o.scrollLeftChanged&&(this._horizontalRevealRequest=null),this._horizontalRevealRequest&&o.scrollTopChanged){const b=Math.min(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop),V=Math.max(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop);(o.scrollTop<b||o.scrollTop>V)&&(this._horizontalRevealRequest=null)}return this.domNode.setWidth(o.scrollWidth),this._visibleLines.onScrollChanged(o)||!0}onTokensChanged(o){return this._visibleLines.onTokensChanged(o)}onZonesChanged(o){return this._context.viewModel.viewLayout.setMaxLineWidth(this._maxLineWidth),this._visibleLines.onZonesChanged(o)}onThemeChanged(o){return this._onOptionsMaybeChanged()}getPositionFromDOMInfo(o,b){const V=this._getViewLineDomNode(o);if(null===V)return null;const Z=this._getLineNumberFor(V);if(-1===Z||Z<1||Z>this._context.viewModel.getLineCount())return null;if(1===this._context.viewModel.getLineMaxColumn(Z))return new le.L(Z,1);const Le=this._visibleLines.getStartLineNumber(),Re=this._visibleLines.getEndLineNumber();if(Z<Le||Z>Re)return null;let Ge=this._visibleLines.getVisibleLine(Z).getColumnOfNodeOffset(o,b);const at=this._context.viewModel.getLineMinColumn(Z);return Ge<at&&(Ge=at),new le.L(Z,Ge)}_getViewLineDomNode(o){for(;o&&1===o.nodeType;){if(o.className===Q.Nt.CLASS_NAME)return o;o=o.parentElement}return null}_getLineNumberFor(o){const b=this._visibleLines.getStartLineNumber(),V=this._visibleLines.getEndLineNumber();for(let Z=b;Z<=V;Z++)if(o===this._visibleLines.getVisibleLine(Z).getDomNode())return Z;return-1}getLineWidth(o){const b=this._visibleLines.getStartLineNumber(),V=this._visibleLines.getEndLineNumber();if(o<b||o>V)return-1;const Z=new lo(this.domNode.domNode,this._textRangeRestingSpot),Le=this._visibleLines.getVisibleLine(o).getWidth(Z);return this._updateLineWidthsSlowIfDomDidLayout(Z),Le}linesVisibleRangesForRange(o,b){if(this.shouldRender())return null;const V=o.endLineNumber,Z=ie.e.intersectRanges(o,this._lastRenderedData.getCurrentVisibleRange());if(!Z)return null;const Le=[];let Re=0;const Ge=new lo(this.domNode.domNode,this._textRangeRestingSpot);let at=0;b&&(at=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new le.L(Z.startLineNumber,1)).lineNumber);const vt=this._visibleLines.getStartLineNumber(),Ct=this._visibleLines.getEndLineNumber();for(let Vt=Z.startLineNumber;Vt<=Z.endLineNumber;Vt++){if(Vt<vt||Vt>Ct)continue;const Ht=Vt===Z.startLineNumber?Z.startColumn:1,ei=Vt!==Z.endLineNumber,pi=ei?this._context.viewModel.getLineMaxColumn(Vt):Z.endColumn,wi=this._visibleLines.getVisibleLine(Vt).getVisibleRangesForRange(Vt,Ht,pi,Ge);if(wi){if(b&&Vt<V){const Ni=at;at=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new le.L(Vt+1,1)).lineNumber,Ni!==at&&(wi.ranges[wi.ranges.length-1].width+=this._typicalHalfwidthCharacterWidth)}Le[Re++]=new _i.u7(wi.outsideRenderedLine,Vt,_i.yu.from(wi.ranges),ei)}}return this._updateLineWidthsSlowIfDomDidLayout(Ge),0===Re?null:Le}_visibleRangesForLineRange(o,b,V){if(this.shouldRender()||o<this._visibleLines.getStartLineNumber()||o>this._visibleLines.getEndLineNumber())return null;const Z=new lo(this.domNode.domNode,this._textRangeRestingSpot),Le=this._visibleLines.getVisibleLine(o).getVisibleRangesForRange(o,b,V,Z);return this._updateLineWidthsSlowIfDomDidLayout(Z),Le}visibleRangeForPosition(o){const b=this._visibleRangesForLineRange(o.lineNumber,o.column,o.column);return b?new _i.D4(b.outsideRenderedLine,b.ranges[0].left):null}_updateLineWidthsFast(){return this._updateLineWidths(!0)}_updateLineWidthsSlow(){this._updateLineWidths(!1)}_updateLineWidthsSlowIfDomDidLayout(o){o.didDomLayout&&(this._asyncUpdateLineWidths.isScheduled()||(this._asyncUpdateLineWidths.cancel(),this._updateLineWidthsSlow()))}_updateLineWidths(o){const b=this._visibleLines.getStartLineNumber(),V=this._visibleLines.getEndLineNumber();let Z=1,Le=!0;for(let Re=b;Re<=V;Re++){const Ge=this._visibleLines.getVisibleLine(Re);!o||Ge.getWidthIsFast()?Z=Math.max(Z,Ge.getWidth(null)):Le=!1}return Le&&1===b&&V===this._context.viewModel.getLineCount()&&(this._maxLineWidth=0),this._ensureMaxLineWidth(Z),Le}_checkMonospaceFontAssumptions(){let o=-1,b=-1;const V=this._visibleLines.getStartLineNumber(),Z=this._visibleLines.getEndLineNumber();for(let Le=V;Le<=Z;Le++){const Re=this._visibleLines.getVisibleLine(Le);if(Re.needsMonospaceFontCheck()){const Ge=Re.getWidth(null);Ge>b&&(b=Ge,o=Le)}}if(-1!==o&&!this._visibleLines.getVisibleLine(o).monospaceAssumptionsAreValid())for(let Le=V;Le<=Z;Le++)this._visibleLines.getVisibleLine(Le).onMonospaceAssumptionsInvalidated()}prepareRender(){throw new Error("Not supported")}render(){throw new Error("Not supported")}renderText(o){if(this._visibleLines.renderLines(o),this._lastRenderedData.setCurrentVisibleRange(o.visibleRange),this.domNode.setWidth(this._context.viewLayout.getScrollWidth()),this.domNode.setHeight(Math.min(this._context.viewLayout.getScrollHeight(),1e6)),this._horizontalRevealRequest){const V=this._horizontalRevealRequest;if(o.startLineNumber<=V.minLineNumber&&V.maxLineNumber<=o.endLineNumber){this._horizontalRevealRequest=null,this.onDidRender();const Z=this._computeScrollLeftToReveal(V);Z&&(this._isViewportWrapping||this._ensureMaxLineWidth(Z.maxHorizontalOffset),this._context.viewModel.viewLayout.setScrollPosition({scrollLeft:Z.scrollLeft},V.scrollType))}}if(this._updateLineWidthsFast()?this._asyncUpdateLineWidths.cancel():this._asyncUpdateLineWidths.schedule(),B.IJ&&!this._asyncCheckMonospaceFontAssumptions.isScheduled()){const V=this._visibleLines.getStartLineNumber(),Z=this._visibleLines.getEndLineNumber();for(let Le=V;Le<=Z;Le++)if(this._visibleLines.getVisibleLine(Le).needsMonospaceFontCheck()){this._asyncCheckMonospaceFontAssumptions.schedule();break}}this._linesContent.setLayerHinting(this._canUseLayerHinting),this._linesContent.setContain("strict");const b=this._context.viewLayout.getCurrentScrollTop()-o.bigNumbersDelta;this._linesContent.setTop(-b),this._linesContent.setLeft(-this._context.viewLayout.getCurrentScrollLeft())}_ensureMaxLineWidth(o){const b=Math.ceil(o);this._maxLineWidth<b&&(this._maxLineWidth=b,this._context.viewModel.viewLayout.setMaxLineWidth(this._maxLineWidth))}_computeScrollTopToRevealRange(o,b,V,Z,Le,Re){const Ge=o.top,at=o.height,vt=Ge+at;let Ct,Vt,Ht;if(Le&&Le.length>0){let Pi=Le[0].startLineNumber,Ji=Le[0].endLineNumber;for(let un=1,En=Le.length;un<En;un++){const mn=Le[un];Pi=Math.min(Pi,mn.startLineNumber),Ji=Math.max(Ji,mn.endLineNumber)}Ct=!1,Vt=this._context.viewLayout.getVerticalOffsetForLineNumber(Pi),Ht=this._context.viewLayout.getVerticalOffsetForLineNumber(Ji)+this._lineHeight}else{if(!Z)return-1;Ct=!0,Vt=this._context.viewLayout.getVerticalOffsetForLineNumber(Z.startLineNumber),Ht=this._context.viewLayout.getVerticalOffsetForLineNumber(Z.endLineNumber)+this._lineHeight}let Ni,pi=0,wi=0;if("mouse"!==b&&!V||"default"!==this._cursorSurroundingLinesStyle){const Pi=Math.min(at/this._lineHeight/2,this._cursorSurroundingLines);pi=this._stickyScrollEnabled?Math.max(Pi,this._maxNumberStickyLines)*this._lineHeight:Pi*this._lineHeight,wi=Math.max(0,Pi-1)*this._lineHeight}else V||(pi=this._lineHeight);if(V||(0===Re||4===Re)&&(wi+=this._lineHeight),Vt-=pi,Ht+=wi,Ht-Vt>at){if(!Ct)return-1;Ni=Vt}else if(5===Re||6===Re)if(6===Re&&Ge<=Vt&&Ht<=vt)Ni=Ge;else{const Pi=Math.max(5*this._lineHeight,.2*at);Ni=Math.max(Ht-at,Vt-Pi)}else Ni=1===Re||2===Re?2===Re&&Ge<=Vt&&Ht<=vt?Ge:Math.max(0,(Vt+Ht)/2-at/2):this._computeMinimumScrolling(Ge,vt,Vt,Ht,3===Re,4===Re);return Ni}_computeScrollLeftToReveal(o){const b=this._context.viewLayout.getCurrentViewport(),V=this._context.configuration.options.get(142),Z=b.left,Le=Z+b.width-V.verticalScrollbarWidth;let Re=1073741824,Ge=0;if("range"===o.type){const vt=this._visibleRangesForLineRange(o.lineNumber,o.startColumn,o.endColumn);if(!vt)return null;for(const Ct of vt.ranges)Re=Math.min(Re,Math.round(Ct.left)),Ge=Math.max(Ge,Math.round(Ct.left+Ct.width))}else for(const vt of o.selections){if(vt.startLineNumber!==vt.endLineNumber)return null;const Ct=this._visibleRangesForLineRange(vt.startLineNumber,vt.startColumn,vt.endColumn);if(!Ct)return null;for(const Vt of Ct.ranges)Re=Math.min(Re,Math.round(Vt.left)),Ge=Math.max(Ge,Math.round(Vt.left+Vt.width))}return o.minimalReveal||(Re=Math.max(0,Re-bt.HORIZONTAL_EXTRA_PX),Ge+=this._revealHorizontalRightPadding),"selections"===o.type&&Ge-Re>b.width?null:{scrollLeft:this._computeMinimumScrolling(Z,Le,Re,Ge),maxHorizontalOffset:Ge}}_computeMinimumScrolling(o,b,V,Z,Le,Re){Le=!!Le,Re=!!Re;const Ge=(b|=0)-(o|=0);return(Z|=0)-(V|=0)<Ge?Le?V:Re?Math.max(0,Z-Ge):V<o?V:Z>b?Math.max(0,Z-Ge):o:V}}return bt.HORIZONTAL_EXTRA_PX=30,bt})();var q=e(74444),ce={};ce.styleTagTransform=m(),ce.setAttributes=g(),ce.insert=c().bind(null,"head"),ce.domAPI=L(),ce.insertStyleElement=d(),T()(q.Z,ce);var ct=e(64827),Et={};Et.styleTagTransform=m(),Et.setAttributes=g(),Et.insert=c().bind(null,"head"),Et.domAPI=L(),Et.insertStyleElement=d(),T()(ct.Z,Et);class hi{constructor(t,o,b,V){this._decorationToRenderBrand=void 0,this.startLineNumber=+t,this.endLineNumber=+o,this.className=String(b),this.zIndex=V??0}}class ii{constructor(t,o){this.className=t,this.zIndex=o}}class Si{constructor(){this.decorations=[]}add(t){this.decorations.push(t)}getDecorations(){return this.decorations}}class Ti extends wt{_render(t,o,b){const V=[];for(let Re=t;Re<=o;Re++)V[Re-t]=new Si;if(0===b.length)return V;b.sort((Re,Ge)=>Re.className===Ge.className?Re.startLineNumber===Ge.startLineNumber?Re.endLineNumber-Ge.endLineNumber:Re.startLineNumber-Ge.startLineNumber:Re.className<Ge.className?-1:1);let Z=null,Le=0;for(let Re=0,Ge=b.length;Re<Ge;Re++){const at=b[Re],vt=at.className,Ct=at.zIndex;let Vt=Math.max(at.startLineNumber,t)-t;const Ht=Math.min(at.endLineNumber,o)-t;Z===vt?(Vt=Math.max(Le+1,Vt),Le=Math.max(Le,Ht)):(Z=vt,Le=Ht);for(let ei=Vt;ei<=Le;ei++)V[ei].add(new ii(vt,Ct))}return V}}class Bi extends be{constructor(t){super(t),this._widgets={},this._context=t;const o=this._context.configuration.options,b=o.get(142);this.domNode=(0,Ce.X)(document.createElement("div")),this.domNode.setClassName("glyph-margin-widgets"),this.domNode.setPosition("absolute"),this.domNode.setTop(0),this._lineHeight=o.get(65),this._glyphMargin=o.get(56),this._glyphMarginLeft=b.glyphMarginLeft,this._glyphMarginWidth=b.glyphMarginWidth,this._glyphMarginDecorationLaneCount=b.glyphMarginDecorationLaneCount,this._managedDomNodes=[],this._decorationGlyphsToRender=[]}dispose(){this._managedDomNodes=[],this._decorationGlyphsToRender=[],this._widgets={},super.dispose()}getWidgets(){return Object.values(this._widgets)}onConfigurationChanged(t){const o=this._context.configuration.options,b=o.get(142);return this._lineHeight=o.get(65),this._glyphMargin=o.get(56),this._glyphMarginLeft=b.glyphMarginLeft,this._glyphMarginWidth=b.glyphMarginWidth,this._glyphMarginDecorationLaneCount=b.glyphMarginDecorationLaneCount,!0}onDecorationsChanged(t){return!0}onFlushed(t){return!0}onLinesChanged(t){return!0}onLinesDeleted(t){return!0}onLinesInserted(t){return!0}onScrollChanged(t){return t.scrollTopChanged}onZonesChanged(t){return!0}addWidget(t){const o=(0,Ce.X)(t.getDomNode());this._widgets[t.getId()]={widget:t,preference:t.getPosition(),domNode:o,renderInfo:null},o.setPosition("absolute"),o.setDisplay("none"),o.setAttribute("widgetId",t.getId()),this.domNode.appendChild(o),this.setShouldRender()}setWidgetPosition(t,o){const b=this._widgets[t.getId()];return!(b.preference.lane===o.lane&&b.preference.zIndex===o.zIndex&&ie.e.equalsRange(b.preference.range,o.range)||(b.preference=o,this.setShouldRender(),0))}removeWidget(t){var o;const b=t.getId();if(this._widgets[b]){const Z=this._widgets[b].domNode.domNode;delete this._widgets[b],null===(o=Z.parentNode)||void 0===o||o.removeChild(Z),this.setShouldRender()}}_collectDecorationBasedGlyphRenderRequest(t,o){var b,V,Z;const Le=t.visibleRange.startLineNumber,Re=t.visibleRange.endLineNumber,Ge=t.getDecorationsInViewport();for(const at of Ge){const vt=at.options.glyphMarginClassName;if(!vt)continue;const Ct=Math.max(at.range.startLineNumber,Le),Vt=Math.min(at.range.endLineNumber,Re),Ht=Math.min(null!==(V=null===(b=at.options.glyphMargin)||void 0===b?void 0:b.position)&&void 0!==V?V:1,this._glyphMarginDecorationLaneCount),ei=null!==(Z=at.options.zIndex)&&void 0!==Z?Z:0;for(let pi=Ct;pi<=Vt;pi++)o.push(new ji(pi,Ht,ei,vt))}}_collectWidgetBasedGlyphRenderRequest(t,o){const b=t.visibleRange.startLineNumber,V=t.visibleRange.endLineNumber;for(const Z of Object.values(this._widgets)){const Le=Z.preference.range;if(Le.endLineNumber<b||Le.startLineNumber>V)continue;const Re=Math.max(Le.startLineNumber,b),Ge=Math.min(Z.preference.lane,this._glyphMarginDecorationLaneCount);o.push(new Hi(Re,Ge,Z.preference.zIndex,Z))}}_collectSortedGlyphRenderRequests(t){const o=[];return this._collectDecorationBasedGlyphRenderRequest(t,o),this._collectWidgetBasedGlyphRenderRequest(t,o),o.sort((b,V)=>b.lineNumber===V.lineNumber?b.lane===V.lane?b.zIndex===V.zIndex?V.type===b.type?0===b.type&&0===V.type?b.className<V.className?-1:1:0:V.type-b.type:V.zIndex-b.zIndex:b.lane-V.lane:b.lineNumber-V.lineNumber),o}prepareRender(t){if(!this._glyphMargin)return void(this._decorationGlyphsToRender=[]);for(const V of Object.values(this._widgets))V.renderInfo=null;const o=new U.H9(this._collectSortedGlyphRenderRequests(t)),b=[];for(;o.length>0;){const V=o.peek();if(!V)break;const Z=o.takeWhile(Re=>Re.lineNumber===V.lineNumber&&Re.lane===V.lane);if(!Z||0===Z.length)break;const Le=Z[0];if(0===Le.type){const Re=[];for(const Ge of Z){if(Ge.zIndex!==Le.zIndex||Ge.type!==Le.type)break;(0===Re.length||Re[Re.length-1]!==Ge.className)&&Re.push(Ge.className)}b.push(Le.accept(Re.join(" ")))}else Le.widget.renderInfo={lineNumber:Le.lineNumber,lane:Le.lane}}this._decorationGlyphsToRender=b}render(t){if(!this._glyphMargin){for(const b of Object.values(this._widgets))b.domNode.setDisplay("none");for(;this._managedDomNodes.length>0;){const b=this._managedDomNodes.pop();b?.domNode.remove()}return}const o=Math.round(this._glyphMarginWidth/this._glyphMarginDecorationLaneCount);for(const b of Object.values(this._widgets))if(b.renderInfo){const V=t.viewportData.relativeVerticalOffset[b.renderInfo.lineNumber-t.viewportData.startLineNumber],Z=this._glyphMarginLeft+(b.renderInfo.lane-1)*this._lineHeight;b.domNode.setDisplay("block"),b.domNode.setTop(V),b.domNode.setLeft(Z),b.domNode.setWidth(o),b.domNode.setHeight(this._lineHeight)}else b.domNode.setDisplay("none");for(let b=0;b<this._decorationGlyphsToRender.length;b++){const V=this._decorationGlyphsToRender[b],Z=t.viewportData.relativeVerticalOffset[V.lineNumber-t.viewportData.startLineNumber],Le=this._glyphMarginLeft+(V.lane-1)*this._lineHeight;let Re;b<this._managedDomNodes.length?Re=this._managedDomNodes[b]:(Re=(0,Ce.X)(document.createElement("div")),this._managedDomNodes.push(Re),this.domNode.appendChild(Re)),Re.setClassName("cgmr codicon "+V.combinedClassName),Re.setPosition("absolute"),Re.setTop(Z),Re.setLeft(Le),Re.setWidth(o),Re.setHeight(this._lineHeight)}for(;this._managedDomNodes.length>this._decorationGlyphsToRender.length;){const b=this._managedDomNodes.pop();b?.domNode.remove()}}}class ji{constructor(t,o,b,V){this.lineNumber=t,this.lane=o,this.zIndex=b,this.className=V,this.type=0}accept(t){return new Cn(this.lineNumber,this.lane,t)}}class Hi{constructor(t,o,b,V){this.lineNumber=t,this.lane=o,this.zIndex=b,this.widget=V,this.type=1}}class Cn{constructor(t,o,b){this.lineNumber=t,this.lane=o,this.combinedClassName=b}}class Ln extends Ti{constructor(t){super(),this._context=t;const b=this._context.configuration.options.get(142);this._decorationsLeft=b.decorationsLeft,this._decorationsWidth=b.decorationsWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(t){const b=this._context.configuration.options.get(142);return this._decorationsLeft=b.decorationsLeft,this._decorationsWidth=b.decorationsWidth,!0}onDecorationsChanged(t){return!0}onFlushed(t){return!0}onLinesChanged(t){return!0}onLinesDeleted(t){return!0}onLinesInserted(t){return!0}onScrollChanged(t){return t.scrollTopChanged}onZonesChanged(t){return!0}_getDecorations(t){const o=t.getDecorationsInViewport(),b=[];let V=0;for(let Z=0,Le=o.length;Z<Le;Z++){const Re=o[Z],Ge=Re.options.linesDecorationsClassName,at=Re.options.zIndex;Ge&&(b[V++]=new hi(Re.range.startLineNumber,Re.range.endLineNumber,Ge,at));const vt=Re.options.firstLineDecorationClassName;vt&&(b[V++]=new hi(Re.range.startLineNumber,Re.range.startLineNumber,vt,at))}return b}prepareRender(t){const o=t.visibleRange.startLineNumber,b=t.visibleRange.endLineNumber,V=this._render(o,b,this._getDecorations(t)),Re='" style="left:'+this._decorationsLeft.toString()+"px;width:"+this._decorationsWidth.toString()+'px;"></div>',Ge=[];for(let at=o;at<=b;at++){const vt=at-o,Ct=V[vt].getDecorations();let Vt="";for(const Ht of Ct)Vt+='<div class="cldr '+Ht.className+Re;Ge[vt]=Vt}this._renderResult=Ge}render(t,o){return this._renderResult?this._renderResult[o-t]:""}}var kn=e(29364),Kn={};Kn.styleTagTransform=m(),Kn.setAttributes=g(),Kn.insert=c().bind(null,"head"),Kn.domAPI=L(),Kn.insertStyleElement=d(),T()(kn.Z,Kn);class We extends Ti{constructor(t){super(),this._context=t,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(t){return!0}onDecorationsChanged(t){return!0}onFlushed(t){return!0}onLinesChanged(t){return!0}onLinesDeleted(t){return!0}onLinesInserted(t){return!0}onScrollChanged(t){return t.scrollTopChanged}onZonesChanged(t){return!0}_getDecorations(t){const o=t.getDecorationsInViewport(),b=[];let V=0;for(let Z=0,Le=o.length;Z<Le;Z++){const Re=o[Z],Ge=Re.options.marginClassName;Ge&&(b[V++]=new hi(Re.range.startLineNumber,Re.range.endLineNumber,Ge,Re.options.zIndex))}return b}prepareRender(t){const o=t.visibleRange.startLineNumber,b=t.visibleRange.endLineNumber,V=this._render(o,b,this._getDecorations(t)),Z=[];for(let Le=o;Le<=b;Le++){const Re=Le-o,Ge=V[Re].getDecorations();let at="";for(const vt of Ge)at+='<div class="cmdr '+vt.className+'" style=""></div>';Z[Re]=at}this._renderResult=Z}render(t,o){return this._renderResult?this._renderResult[o-t]:""}}var rt=e(40563),Pt={};Pt.styleTagTransform=m(),Pt.setAttributes=g(),Pt.insert=c().bind(null,"head"),Pt.domAPI=L(),Pt.insertStyleElement=d(),T()(rt.Z,Pt);var yi=e(46738);class Li{constructor(t,o,b,V){this._rgba8Brand=void 0,this.r=Li._clamp(t),this.g=Li._clamp(o),this.b=Li._clamp(b),this.a=Li._clamp(V)}equals(t){return this.r===t.r&&this.g===t.g&&this.b===t.b&&this.a===t.a}static _clamp(t){return t<0?0:t>255?255:0|t}}Li.Empty=new Li(0,0,0,0);let sn=(()=>{class bt extends O.JT{static getInstance(){return this._INSTANCE||(this._INSTANCE=(0,O.dk)(new bt)),this._INSTANCE}constructor(){super(),this._onDidChange=new R.Q5,this.onDidChange=this._onDidChange.event,this._updateColorMap(),this._register(fn.RW.onDidChange(o=>{o.changedColorMap&&this._updateColorMap()}))}_updateColorMap(){const o=fn.RW.getColorMap();if(!o)return this._colors=[Li.Empty],void(this._backgroundIsLight=!0);this._colors=[Li.Empty];for(let V=1;V<o.length;V++){const Z=o[V].rgba;this._colors[V]=new Li(Z.r,Z.g,Z.b,Math.round(255*Z.a))}const b=o[2].getRelativeLuminance();this._backgroundIsLight=b>=.5,this._onDidChange.fire(void 0)}getColor(o){return(o<1||o>=this._colors.length)&&(o=2),this._colors[o]}backgroundIsLight(){return this._backgroundIsLight}}return bt._INSTANCE=null,bt})();var on=e(56970),rn=e(99745);const ln=(()=>{const bt=[];for(let t=32;t<=126;t++)bt.push(t);return bt.push(65533),bt})();var Xi=e(7309);class tn{constructor(t,o){this.scale=o,this._minimapCharRendererBrand=void 0,this.charDataNormal=tn.soften(t,.8),this.charDataLight=tn.soften(t,50/60)}static soften(t,o){const b=new Uint8ClampedArray(t.length);for(let V=0,Z=t.length;V<Z;V++)b[V]=(0,Xi.K)(t[V]*o);return b}renderChar(t,o,b,V,Z,Le,Re,Ge,at,vt,Ct){const Vt=1*this.scale,Ht=2*this.scale,ei=Ct?1:Ht;if(o+Vt>t.width||b+ei>t.height)return void console.warn("bad render request outside image data");const pi=vt?this.charDataLight:this.charDataNormal,wi=((bt,t)=>(bt-=32)<0||bt>96?t<=2?(bt+96)%96:95:bt)(V,at),Ni=4*t.width,Pi=Re.r,Ji=Re.g,un=Re.b,En=Z.r-Pi,mn=Z.g-Ji,Tn=Z.b-un,Mn=Math.max(Le,Ge),dn=t.data;let In=wi*Vt*Ht,Vn=b*Ni+4*o;for(let jn=0;jn<ei;jn++){let Zn=Vn;for(let uo=0;uo<Vt;uo++){const go=pi[In++]/255*(Le/255);dn[Zn++]=Pi+En*go,dn[Zn++]=Ji+mn*go,dn[Zn++]=un+Tn*go,dn[Zn++]=Mn}Vn+=Ni}}blockRenderChar(t,o,b,V,Z,Le,Re,Ge){const at=1*this.scale,Ct=Ge?1:2*this.scale;if(o+at>t.width||b+Ct>t.height)return void console.warn("bad render request outside image data");const Vt=4*t.width,Ht=Z/255*.5,ei=Le.r,pi=Le.g,wi=Le.b,un=ei+(V.r-ei)*Ht,En=pi+(V.g-pi)*Ht,mn=wi+(V.b-wi)*Ht,Tn=Math.max(Z,Re),Mn=t.data;let dn=b*Vt+4*o;for(let In=0;In<Ct;In++){let Vn=dn;for(let jn=0;jn<at;jn++)Mn[Vn++]=un,Mn[Vn++]=En,Mn[Vn++]=mn,Mn[Vn++]=Tn;dn+=Vt}}}var Rn=e(45644);const io={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15},is=bt=>{const t=new Uint8ClampedArray(bt.length/2);for(let o=0;o<bt.length;o+=2)t[o>>1]=io[bt[o]]<<4|15&io[bt[o+1]];return t},Mo={1:(0,Rn.I)(()=>is("0000511D6300CF609C709645A78432005642574171487021003C451900274D35D762755E8B629C5BA856AF57BA649530C167D1512A272A3F6038604460398526BCA2A968DB6F8957C768BE5FBE2FB467CF5D8D5B795DC7625B5DFF50DE64C466DB2FC47CD860A65E9A2EB96CB54CE06DA763AB2EA26860524D3763536601005116008177A8705E53AB738E6A982F88BAA35B5F5B626D9C636B449B737E5B7B678598869A662F6B5B8542706C704C80736A607578685B70594A49715A4522E792")),2:(0,Rn.I)(()=>is("000000000000000055394F383D2800008B8B1F210002000081B1CBCBCC820000847AAF6B9AAF2119BE08B8881AD60000A44FD07DCCF107015338130C00000000385972265F390B406E2437634B4B48031B12B8A0847000001E15B29A402F0000000000004B33460B00007A752C2A0000000000004D3900000084394B82013400ABA5CFC7AD9C0302A45A3E5A98AB000089A43382D97900008BA54AA087A70A0248A6A7AE6DBE0000BF6F94987EA40A01A06DCFA7A7A9030496C32F77891D0000A99FB1A0AFA80603B29AB9CA75930D010C0948354D3900000C0948354F37460D0028BE673D8400000000AF9D7B6E00002B007AA8933400007AA642675C2700007984CFB9C3985B768772A8A6B7B20000CAAECAAFC4B700009F94A6009F840009D09F9BA4CA9C0000CC8FC76DC87F0000C991C472A2000000A894A48CA7B501079BA2C9C69BA20000B19A5D3FA89000005CA6009DA2960901B0A7F0669FB200009D009E00B7890000DAD0F5D092820000D294D4C48BD10000B5A7A4A3B1A50402CAB6CBA6A2000000B5A7A4A3B1A8044FCDADD19D9CB00000B7778F7B8AAE0803C9AB5D3F5D3F00009EA09EA0BAB006039EA0989A8C7900009B9EF4D6B7C00000A9A7816CACA80000ABAC84705D3F000096DA635CDC8C00006F486F266F263D4784006124097B00374F6D2D6D2D6D4A3A95872322000000030000000000008D8939130000000000002E22A5C9CBC70600AB25C0B5C9B400061A2DB04CA67001082AA6BEBEBFC606002321DACBC19E03087AA08B6768380000282FBAC0B8CA7A88AD25BBA5A29900004C396C5894A6000040485A6E356E9442A32CD17EADA70000B4237923628600003E2DE9C1D7B500002F25BBA5A2990000231DB6AFB4A804023025C0B5CAB588062B2CBDBEC0C706882435A75CA20000002326BD6A82A908048B4B9A5A668000002423A09CB4BB060025259C9D8A7900001C1FCAB2C7C700002A2A9387ABA200002626A4A47D6E9D14333163A0C87500004B6F9C2D643A257049364936493647358A34438355497F1A0000A24C1D590000D38DFFBDD4CD3126"))};class Qo{static create(t,o){if(this.lastCreated&&t===this.lastCreated.scale&&o===this.lastFontFamily)return this.lastCreated;let b;return b=Mo[t]?new tn(Mo[t](),t):Qo.createFromSampleData(Qo.createSampleData(o).data,t),this.lastFontFamily=o,this.lastCreated=b,b}static createSampleData(t){const o=document.createElement("canvas"),b=o.getContext("2d");o.style.height="16px",o.height=16,o.width=960,o.style.width="960px",b.fillStyle="#ffffff",b.font=`bold 16px ${t}`,b.textBaseline="middle";let V=0;for(const Z of ln)b.fillText(String.fromCharCode(Z),V,8),V+=10;return b.getImageData(0,0,960,16)}static createFromSampleData(t,o){if(61440!==t.length)throw new Error("Unexpected source in MinimapCharRenderer");const V=Qo._downsample(t,o);return new tn(V,o)}static _downsampleChar(t,o,b,V,Z){const Le=1*Z,Re=2*Z;let Ge=V,at=0;for(let vt=0;vt<Re;vt++){const Ct=vt/Re*16,Vt=(vt+1)/Re*16;for(let Ht=0;Ht<Le;Ht++){const ei=Ht/Le*10,pi=(Ht+1)/Le*10;let wi=0,Ni=0;for(let Ji=Ct;Ji<Vt;Ji++){const un=o+3840*Math.floor(Ji),En=1-(Ji-Math.floor(Ji));for(let mn=ei;mn<pi;mn++){const Tn=1-(mn-Math.floor(mn)),Mn=un+4*Math.floor(mn),dn=Tn*En;Ni+=dn,wi+=t[Mn]*t[Mn+3]/255*dn}}const Pi=wi/Ni;at=Math.max(at,Pi),b[Ge++]=(0,Xi.K)(Pi)}}return at}static _downsample(t,o){const b=2*o*1*o,V=96*b,Z=new Uint8ClampedArray(V);let Le=0,Re=0,Ge=0;for(let at=0;at<96;at++)Ge=Math.max(Ge,this._downsampleChar(t,Re,Z,Le,o)),Le+=b,Re+=40;if(Ge>0){const at=255/Ge;for(let vt=0;vt<V;vt++)Z[vt]*=at}return Z}}var $o=e(24470);class Eo{constructor(t,o,b){const V=t.options,Z=V.get(140),Le=V.get(142),Re=Le.minimap,Ge=V.get(49),at=V.get(71);this.renderMinimap=Re.renderMinimap,this.size=at.size,this.minimapHeightIsEditorHeight=Re.minimapHeightIsEditorHeight,this.scrollBeyondLastLine=V.get(103),this.paddingTop=V.get(82).top,this.paddingBottom=V.get(82).bottom,this.showSlider=at.showSlider,this.autohide=at.autohide,this.pixelRatio=Z,this.typicalHalfwidthCharacterWidth=Ge.typicalHalfwidthCharacterWidth,this.lineHeight=V.get(65),this.minimapLeft=Re.minimapLeft,this.minimapWidth=Re.minimapWidth,this.minimapHeight=Le.height,this.canvasInnerWidth=Re.minimapCanvasInnerWidth,this.canvasInnerHeight=Re.minimapCanvasInnerHeight,this.canvasOuterWidth=Re.minimapCanvasOuterWidth,this.canvasOuterHeight=Re.minimapCanvasOuterHeight,this.isSampling=Re.minimapIsSampling,this.editorHeight=Le.height,this.fontScale=Re.minimapScale,this.minimapLineHeight=Re.minimapLineHeight,this.minimapCharWidth=1*this.fontScale,this.charRenderer=(0,Rn.I)(()=>Qo.create(this.fontScale,Ge.fontFamily)),this.defaultBackgroundColor=b.getColor(2),this.backgroundColor=Eo._getMinimapBackground(o,this.defaultBackgroundColor),this.foregroundAlpha=Eo._getMinimapForegroundOpacity(o)}static _getMinimapBackground(t,o){const b=t.getColor(rn.kVY);return b?new Li(b.rgba.r,b.rgba.g,b.rgba.b,Math.round(255*b.rgba.a)):o}static _getMinimapForegroundOpacity(t){const o=t.getColor(rn.Itd);return o?Li._clamp(Math.round(255*o.rgba.a)):255}equals(t){return this.renderMinimap===t.renderMinimap&&this.size===t.size&&this.minimapHeightIsEditorHeight===t.minimapHeightIsEditorHeight&&this.scrollBeyondLastLine===t.scrollBeyondLastLine&&this.paddingTop===t.paddingTop&&this.paddingBottom===t.paddingBottom&&this.showSlider===t.showSlider&&this.autohide===t.autohide&&this.pixelRatio===t.pixelRatio&&this.typicalHalfwidthCharacterWidth===t.typicalHalfwidthCharacterWidth&&this.lineHeight===t.lineHeight&&this.minimapLeft===t.minimapLeft&&this.minimapWidth===t.minimapWidth&&this.minimapHeight===t.minimapHeight&&this.canvasInnerWidth===t.canvasInnerWidth&&this.canvasInnerHeight===t.canvasInnerHeight&&this.canvasOuterWidth===t.canvasOuterWidth&&this.canvasOuterHeight===t.canvasOuterHeight&&this.isSampling===t.isSampling&&this.editorHeight===t.editorHeight&&this.fontScale===t.fontScale&&this.minimapLineHeight===t.minimapLineHeight&&this.minimapCharWidth===t.minimapCharWidth&&this.defaultBackgroundColor&&this.defaultBackgroundColor.equals(t.defaultBackgroundColor)&&this.backgroundColor&&this.backgroundColor.equals(t.backgroundColor)&&this.foregroundAlpha===t.foregroundAlpha}}class Go{constructor(t,o,b,V,Z,Le,Re,Ge,at){this.scrollTop=t,this.scrollHeight=o,this.sliderNeeded=b,this._computedSliderRatio=V,this.sliderTop=Z,this.sliderHeight=Le,this.topPaddingLineCount=Re,this.startLineNumber=Ge,this.endLineNumber=at}getDesiredScrollTopFromDelta(t){return Math.round(this.scrollTop+t/this._computedSliderRatio)}getDesiredScrollTopFromTouchLocation(t){return Math.round((t-this.sliderHeight/2)/this._computedSliderRatio)}intersectWithViewport(t){const o=Math.max(this.startLineNumber,t.startLineNumber),b=Math.min(this.endLineNumber,t.endLineNumber);return o>b?null:[o,b]}getYForLineNumber(t,o){return+(t-this.startLineNumber+this.topPaddingLineCount)*o}static create(t,o,b,V,Z,Le,Re,Ge,at,vt,Ct){const Vt=t.pixelRatio,Ht=t.minimapLineHeight,ei=Math.floor(t.canvasInnerHeight/Ht),pi=t.lineHeight;if(t.minimapHeightIsEditorHeight){let mn=Ge*t.lineHeight+t.paddingTop+t.paddingBottom;t.scrollBeyondLastLine&&(mn+=Math.max(0,Z-t.lineHeight-t.paddingBottom));const Tn=Math.max(1,Math.floor(Z*Z/mn)),Mn=Math.max(0,t.minimapHeight-Tn),dn=Mn/(vt-Z),In=at*dn,Vn=Mn>0,jn=Math.floor(t.canvasInnerHeight/t.minimapLineHeight),Zn=Math.floor(t.paddingTop/t.lineHeight);return new Go(at,vt,Vn,dn,In,Tn,Zn,1,Math.min(Re,jn))}let wi;wi=Le&&b!==Re?Math.floor((b-o+1)*Ht/Vt):Math.floor(Z/pi*Ht/Vt);const Ni=Math.floor(t.paddingTop/pi);let Ji,Pi=Math.floor(t.paddingBottom/pi);t.scrollBeyondLastLine&&(Pi=Math.max(Pi,Z/pi-1)),Ji=Pi>0?(Ni+Re+Pi-Z/pi-1)*Ht/Vt:Math.max(0,(Ni+Re)*Ht/Vt-wi),Ji=Math.min(t.minimapHeight-wi,Ji);const un=Ji/(vt-Z),En=at*un;if(ei>=Ni+Re+Pi)return new Go(at,vt,Ji>0,un,En,wi,Ni,1,Re);{let mn;mn=o>1?o+Ni:Math.max(1,at/pi);let Tn,Mn=Math.max(1,Math.floor(mn-En*Vt/Ht));Mn<Ni?(Tn=Ni-Mn+1,Mn=1):(Tn=0,Mn=Math.max(1,Mn-Ni)),Ct&&Ct.scrollHeight===vt&&(Ct.scrollTop>at&&(Mn=Math.min(Mn,Ct.startLineNumber),Tn=Math.max(Tn,Ct.topPaddingLineCount)),Ct.scrollTop<at&&(Mn=Math.max(Mn,Ct.startLineNumber),Tn=Math.min(Tn,Ct.topPaddingLineCount)));const dn=Math.min(Re,Mn-Tn+ei-1),In=(at-V)/pi;let Vn;return Vn=at>=t.paddingTop?(o-Mn+Tn+In)*Ht/Vt:at/t.paddingTop*(Tn+In)*Ht/Vt,new Go(at,vt,!0,un,Vn,wi,Tn,Mn,dn)}}}class ks{constructor(t){this.dy=t}onContentChanged(){this.dy=-1}onTokensChanged(){this.dy=-1}}ks.INVALID=new ks(-1);class Ar{constructor(t,o,b){this.renderedLayout=t,this._imageData=o,this._renderedLines=new cn(()=>ks.INVALID),this._renderedLines._set(t.startLineNumber,b)}linesEquals(t){if(!this.scrollEquals(t))return!1;const b=this._renderedLines._get().lines;for(let V=0,Z=b.length;V<Z;V++)if(-1===b[V].dy)return!1;return!0}scrollEquals(t){return this.renderedLayout.startLineNumber===t.startLineNumber&&this.renderedLayout.endLineNumber===t.endLineNumber}_get(){const t=this._renderedLines._get();return{imageData:this._imageData,rendLineNumberStart:t.rendLineNumberStart,lines:t.lines}}onLinesChanged(t,o){return this._renderedLines.onLinesChanged(t,o)}onLinesDeleted(t,o){this._renderedLines.onLinesDeleted(t,o)}onLinesInserted(t,o){this._renderedLines.onLinesInserted(t,o)}onTokensChanged(t){return this._renderedLines.onTokensChanged(t)}}class Rr{constructor(t,o,b,V){this._backgroundFillData=Rr._createBackgroundFillData(o,b,V),this._buffers=[t.createImageData(o,b),t.createImageData(o,b)],this._lastUsedBuffer=0}getBuffer(){this._lastUsedBuffer=1-this._lastUsedBuffer;const t=this._buffers[this._lastUsedBuffer];return t.data.set(this._backgroundFillData),t}static _createBackgroundFillData(t,o,b){const V=b.r,Z=b.g,Le=b.b,Re=b.a,Ge=new Uint8ClampedArray(t*o*4);let at=0;for(let vt=0;vt<o;vt++)for(let Ct=0;Ct<t;Ct++)Ge[at]=V,Ge[at+1]=Z,Ge[at+2]=Le,Ge[at+3]=Re,at+=4;return Ge}}class Us{static compute(t,o,b){if(0===t.renderMinimap||!t.isSampling)return[null,[]];const{minimapLineCount:V}=_.gk.computeContainedMinimapLineCount({viewLineCount:o,scrollBeyondLastLine:t.scrollBeyondLastLine,paddingTop:t.paddingTop,paddingBottom:t.paddingBottom,height:t.editorHeight,lineHeight:t.lineHeight,pixelRatio:t.pixelRatio}),Z=o/V,Le=Z/2;if(!b||0===b.minimapLines.length){const wi=[];if(wi[0]=1,V>1){for(let Ni=0,Pi=V-1;Ni<Pi;Ni++)wi[Ni]=Math.round(Ni*Z+Le);wi[V-1]=o}return[new Us(Z,wi),[]]}const Re=b.minimapLines,Ge=Re.length,at=[];let vt=0,Ct=0,Vt=1,ei=[],pi=null;for(let wi=0;wi<V;wi++){const Ni=Math.max(Vt,Math.round(wi*Z)),Pi=Math.max(Ni,Math.round((wi+1)*Z));for(;vt<Ge&&Re[vt]<Ni;){if(ei.length<10){const un=vt+1+Ct;pi&&"deleted"===pi.type&&pi._oldIndex===vt-1?pi.deleteToLineNumber++:(pi={type:"deleted",_oldIndex:vt,deleteFromLineNumber:un,deleteToLineNumber:un},ei.push(pi)),Ct--}vt++}let Ji;if(vt<Ge&&Re[vt]<=Pi)Ji=Re[vt],vt++;else if(Ji=0===wi?1:wi+1===V?o:Math.round(wi*Z+Le),ei.length<10){const un=vt+1+Ct;pi&&"inserted"===pi.type&&pi._i===wi-1?pi.insertToLineNumber++:(pi={type:"inserted",_i:wi,insertFromLineNumber:un,insertToLineNumber:un},ei.push(pi)),Ct++}at[wi]=Ji,Vt=Ji}if(ei.length<10)for(;vt<Ge;){const wi=vt+1+Ct;pi&&"deleted"===pi.type&&pi._oldIndex===vt-1?pi.deleteToLineNumber++:(pi={type:"deleted",_oldIndex:vt,deleteFromLineNumber:wi,deleteToLineNumber:wi},ei.push(pi)),Ct--,vt++}else ei=[{type:"flush"}];return[new Us(Z,at),ei]}constructor(t,o){this.samplingRatio=t,this.minimapLines=o}modelLineToMinimapLine(t){return Math.min(this.minimapLines.length,Math.max(1,Math.round(t/this.samplingRatio)))}modelLineRangeToMinimapLineRange(t,o){let b=this.modelLineToMinimapLine(t)-1;for(;b>0&&this.minimapLines[b-1]>=t;)b--;let V=this.modelLineToMinimapLine(o)-1;for(;V+1<this.minimapLines.length&&this.minimapLines[V+1]<=o;)V++;if(b===V){const Z=this.minimapLines[b];if(Z<t||Z>o)return null}return[b+1,V+1]}decorationLineRangeToMinimapLineRange(t,o){let b=this.modelLineToMinimapLine(t),V=this.modelLineToMinimapLine(o);return t!==o&&V===b&&(V===this.minimapLines.length?b>1&&b--:V++),[b,V]}onLinesDeleted(t){const o=t.toLineNumber-t.fromLineNumber+1;let b=this.minimapLines.length,V=0;for(let Z=this.minimapLines.length-1;Z>=0&&!(this.minimapLines[Z]<t.fromLineNumber);Z--)this.minimapLines[Z]<=t.toLineNumber?(this.minimapLines[Z]=Math.max(1,t.fromLineNumber-1),b=Math.min(b,Z),V=Math.max(V,Z)):this.minimapLines[Z]-=o;return[b,V]}onLinesInserted(t){const o=t.toLineNumber-t.fromLineNumber+1;for(let b=this.minimapLines.length-1;b>=0&&!(this.minimapLines[b]<t.fromLineNumber);b--)this.minimapLines[b]+=o}}class ya extends be{constructor(t){super(t),this.tokensColorTracker=sn.getInstance(),this._selections=[],this._minimapSelections=null,this.options=new Eo(this._context.configuration,this._context.theme,this.tokensColorTracker);const[o]=Us.compute(this.options,this._context.viewModel.getLineCount(),null);this._samplingState=o,this._shouldCheckSampling=!1,this._actual=new zs(t.theme,this)}dispose(){this._actual.dispose(),super.dispose()}getDomNode(){return this._actual.getDomNode()}_onOptionsMaybeChanged(){const t=new Eo(this._context.configuration,this._context.theme,this.tokensColorTracker);return!this.options.equals(t)&&(this.options=t,this._recreateLineSampling(),this._actual.onDidChangeOptions(),!0)}onConfigurationChanged(t){return this._onOptionsMaybeChanged()}onCursorStateChanged(t){return this._selections=t.selections,this._minimapSelections=null,this._actual.onSelectionChanged()}onDecorationsChanged(t){return!!t.affectsMinimap&&this._actual.onDecorationsChanged()}onFlushed(t){return this._samplingState&&(this._shouldCheckSampling=!0),this._actual.onFlushed()}onLinesChanged(t){if(this._samplingState){const o=this._samplingState.modelLineRangeToMinimapLineRange(t.fromLineNumber,t.fromLineNumber+t.count-1);return!!o&&this._actual.onLinesChanged(o[0],o[1]-o[0]+1)}return this._actual.onLinesChanged(t.fromLineNumber,t.count)}onLinesDeleted(t){if(this._samplingState){const[o,b]=this._samplingState.onLinesDeleted(t);return o<=b&&this._actual.onLinesChanged(o+1,b-o+1),this._shouldCheckSampling=!0,!0}return this._actual.onLinesDeleted(t.fromLineNumber,t.toLineNumber)}onLinesInserted(t){return this._samplingState?(this._samplingState.onLinesInserted(t),this._shouldCheckSampling=!0,!0):this._actual.onLinesInserted(t.fromLineNumber,t.toLineNumber)}onScrollChanged(t){return this._actual.onScrollChanged()}onThemeChanged(t){return this._actual.onThemeChanged(),this._onOptionsMaybeChanged(),!0}onTokensChanged(t){if(this._samplingState){const o=[];for(const b of t.ranges){const V=this._samplingState.modelLineRangeToMinimapLineRange(b.fromLineNumber,b.toLineNumber);V&&o.push({fromLineNumber:V[0],toLineNumber:V[1]})}return!!o.length&&this._actual.onTokensChanged(o)}return this._actual.onTokensChanged(t.ranges)}onTokensColorsChanged(t){return this._onOptionsMaybeChanged(),this._actual.onTokensColorsChanged()}onZonesChanged(t){return this._actual.onZonesChanged()}prepareRender(t){this._shouldCheckSampling&&(this._shouldCheckSampling=!1,this._recreateLineSampling())}render(t){let o=t.visibleRange.startLineNumber,b=t.visibleRange.endLineNumber;this._samplingState&&(o=this._samplingState.modelLineToMinimapLine(o),b=this._samplingState.modelLineToMinimapLine(b));const V={viewportContainsWhitespaceGaps:t.viewportData.whitespaceViewportData.length>0,scrollWidth:t.scrollWidth,scrollHeight:t.scrollHeight,viewportStartLineNumber:o,viewportEndLineNumber:b,viewportStartLineNumberVerticalOffset:t.getVerticalOffsetForLineNumber(o),scrollTop:t.scrollTop,scrollLeft:t.scrollLeft,viewportWidth:t.viewportWidth,viewportHeight:t.viewportHeight};this._actual.render(V)}_recreateLineSampling(){this._minimapSelections=null;const t=!!this._samplingState,[o,b]=Us.compute(this.options,this._context.viewModel.getLineCount(),this._samplingState);if(this._samplingState=o,t&&this._samplingState)for(const V of b)switch(V.type){case"deleted":this._actual.onLinesDeleted(V.deleteFromLineNumber,V.deleteToLineNumber);break;case"inserted":this._actual.onLinesInserted(V.insertFromLineNumber,V.insertToLineNumber);break;case"flush":this._actual.onFlushed()}}getLineCount(){return this._samplingState?this._samplingState.minimapLines.length:this._context.viewModel.getLineCount()}getRealLineCount(){return this._context.viewModel.getLineCount()}getLineContent(t){return this._context.viewModel.getLineContent(this._samplingState?this._samplingState.minimapLines[t-1]:t)}getLineMaxColumn(t){return this._context.viewModel.getLineMaxColumn(this._samplingState?this._samplingState.minimapLines[t-1]:t)}getMinimapLinesRenderingData(t,o,b){if(this._samplingState){const V=[];for(let Z=0,Le=o-t+1;Z<Le;Z++)V[Z]=b[Z]?this._context.viewModel.getViewLineData(this._samplingState.minimapLines[t+Z-1]):null;return V}return this._context.viewModel.getMinimapLinesRenderingData(t,o,b).data}getSelections(){if(null===this._minimapSelections)if(this._samplingState){this._minimapSelections=[];for(const t of this._selections){const[o,b]=this._samplingState.decorationLineRangeToMinimapLineRange(t.startLineNumber,t.endLineNumber);this._minimapSelections.push(new F.Y(o,t.startColumn,b,t.endColumn))}}else this._minimapSelections=this._selections;return this._minimapSelections}getMinimapDecorationsInViewport(t,o){let b;if(this._samplingState){const Le=this._samplingState.minimapLines[o-1];b=new ie.e(this._samplingState.minimapLines[t-1],1,Le,this._context.viewModel.getLineMaxColumn(Le))}else b=new ie.e(t,1,o,this._context.viewModel.getLineMaxColumn(o));const V=this._context.viewModel.getMinimapDecorationsInRange(b);if(this._samplingState){const Z=[];for(const Le of V){if(!Le.options.minimap)continue;const Re=Le.range,Ge=this._samplingState.modelLineToMinimapLine(Re.startLineNumber),at=this._samplingState.modelLineToMinimapLine(Re.endLineNumber);Z.push(new on.$l(new ie.e(Ge,Re.startColumn,at,Re.endColumn),Le.options))}return Z}return V}getOptions(){return this._context.viewModel.model.getOptions()}revealLineNumber(t){this._samplingState&&(t=this._samplingState.minimapLines[t-1]),this._context.viewModel.revealRange("mouse",!1,new ie.e(t,1,t,1),1,0)}setScrollTop(t){this._context.viewModel.viewLayout.setScrollPosition({scrollTop:t},1)}}class zs extends O.JT{constructor(t,o){super(),this._renderDecorations=!1,this._gestureInProgress=!1,this._theme=t,this._model=o,this._lastRenderData=null,this._buffers=null,this._selectionColor=this._theme.getColor(rn.ov3),this._domNode=(0,Ce.X)(document.createElement("div")),pe.write(this._domNode,8),this._domNode.setClassName(this._getMinimapDomNodeClassName()),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._shadow=(0,Ce.X)(document.createElement("div")),this._shadow.setClassName("minimap-shadow-hidden"),this._domNode.appendChild(this._shadow),this._canvas=(0,Ce.X)(document.createElement("canvas")),this._canvas.setPosition("absolute"),this._canvas.setLeft(0),this._domNode.appendChild(this._canvas),this._decorationsCanvas=(0,Ce.X)(document.createElement("canvas")),this._decorationsCanvas.setPosition("absolute"),this._decorationsCanvas.setClassName("minimap-decorations-layer"),this._decorationsCanvas.setLeft(0),this._domNode.appendChild(this._decorationsCanvas),this._slider=(0,Ce.X)(document.createElement("div")),this._slider.setPosition("absolute"),this._slider.setClassName("minimap-slider"),this._slider.setLayerHinting(!0),this._slider.setContain("strict"),this._domNode.appendChild(this._slider),this._sliderHorizontal=(0,Ce.X)(document.createElement("div")),this._sliderHorizontal.setPosition("absolute"),this._sliderHorizontal.setClassName("minimap-slider-horizontal"),this._slider.appendChild(this._sliderHorizontal),this._applyLayout(),this._pointerDownListener=A.mu(this._domNode.domNode,A.tw.POINTER_DOWN,b=>{if(b.preventDefault(),0===this._model.options.renderMinimap||!this._lastRenderData)return;if("proportional"!==this._model.options.size){if(0===b.button&&this._lastRenderData){const at=A.i(this._slider.domNode);this._startSliderDragging(b,at.top+at.height/2,this._lastRenderData.renderedLayout)}return}let Ge=Math.floor(this._model.options.canvasInnerHeight/this._model.options.canvasOuterHeight*b.offsetY/this._model.options.minimapLineHeight)+this._lastRenderData.renderedLayout.startLineNumber-this._lastRenderData.renderedLayout.topPaddingLineCount;Ge=Math.min(Ge,this._model.getLineCount()),this._model.revealLineNumber(Ge)}),this._sliderPointerMoveMonitor=new yi.C,this._sliderPointerDownListener=A.mu(this._slider.domNode,A.tw.POINTER_DOWN,b=>{b.preventDefault(),b.stopPropagation(),0===b.button&&this._lastRenderData&&this._startSliderDragging(b,b.pageY,this._lastRenderData.renderedLayout)}),this._gestureDisposable=ke.o.addTarget(this._domNode.domNode),this._sliderTouchStartListener=A.nm(this._domNode.domNode,ke.t.Start,b=>{b.preventDefault(),b.stopPropagation(),this._lastRenderData&&(this._slider.toggleClassName("active",!0),this._gestureInProgress=!0,this.scrollDueToTouchEvent(b))},{passive:!1}),this._sliderTouchMoveListener=A.nm(this._domNode.domNode,ke.t.Change,b=>{b.preventDefault(),b.stopPropagation(),this._lastRenderData&&this._gestureInProgress&&this.scrollDueToTouchEvent(b)},{passive:!1}),this._sliderTouchEndListener=A.mu(this._domNode.domNode,ke.t.End,b=>{b.preventDefault(),b.stopPropagation(),this._gestureInProgress=!1,this._slider.toggleClassName("active",!1)})}_startSliderDragging(t,o,b){if(!(t.target&&t.target instanceof Element))return;const V=t.pageX;this._slider.toggleClassName("active",!0);const Z=(Le,Re)=>{const Ge=A.i(this._domNode.domNode),at=Math.min(Math.abs(Re-V),Math.abs(Re-Ge.left),Math.abs(Re-Ge.left-Ge.width));this._model.setScrollTop(B.ED&&at>140?b.scrollTop:b.getDesiredScrollTopFromDelta(Le-o))};t.pageY!==o&&Z(t.pageY,V),this._sliderPointerMoveMonitor.startMonitoring(t.target,t.pointerId,t.buttons,Le=>Z(Le.pageY,Le.pageX),()=>{this._slider.toggleClassName("active",!1)})}scrollDueToTouchEvent(t){const o=this._domNode.domNode.getBoundingClientRect().top,b=this._lastRenderData.renderedLayout.getDesiredScrollTopFromTouchLocation(t.pageY-o);this._model.setScrollTop(b)}dispose(){this._pointerDownListener.dispose(),this._sliderPointerMoveMonitor.dispose(),this._sliderPointerDownListener.dispose(),this._gestureDisposable.dispose(),this._sliderTouchStartListener.dispose(),this._sliderTouchMoveListener.dispose(),this._sliderTouchEndListener.dispose(),super.dispose()}_getMinimapDomNodeClassName(){const t=["minimap"];return t.push("always"===this._model.options.showSlider?"slider-always":"slider-mouseover"),this._model.options.autohide&&t.push("autohide"),t.join(" ")}getDomNode(){return this._domNode}_applyLayout(){this._domNode.setLeft(this._model.options.minimapLeft),this._domNode.setWidth(this._model.options.minimapWidth),this._domNode.setHeight(this._model.options.minimapHeight),this._shadow.setHeight(this._model.options.minimapHeight),this._canvas.setWidth(this._model.options.canvasOuterWidth),this._canvas.setHeight(this._model.options.canvasOuterHeight),this._canvas.domNode.width=this._model.options.canvasInnerWidth,this._canvas.domNode.height=this._model.options.canvasInnerHeight,this._decorationsCanvas.setWidth(this._model.options.canvasOuterWidth),this._decorationsCanvas.setHeight(this._model.options.canvasOuterHeight),this._decorationsCanvas.domNode.width=this._model.options.canvasInnerWidth,this._decorationsCanvas.domNode.height=this._model.options.canvasInnerHeight,this._slider.setWidth(this._model.options.minimapWidth)}_getBuffer(){return this._buffers||this._model.options.canvasInnerWidth>0&&this._model.options.canvasInnerHeight>0&&(this._buffers=new Rr(this._canvas.domNode.getContext("2d"),this._model.options.canvasInnerWidth,this._model.options.canvasInnerHeight,this._model.options.backgroundColor)),this._buffers?this._buffers.getBuffer():null}onDidChangeOptions(){this._lastRenderData=null,this._buffers=null,this._applyLayout(),this._domNode.setClassName(this._getMinimapDomNodeClassName())}onSelectionChanged(){return this._renderDecorations=!0,!0}onDecorationsChanged(){return this._renderDecorations=!0,!0}onFlushed(){return this._lastRenderData=null,!0}onLinesChanged(t,o){return!!this._lastRenderData&&this._lastRenderData.onLinesChanged(t,o)}onLinesDeleted(t,o){var b;return null===(b=this._lastRenderData)||void 0===b||b.onLinesDeleted(t,o),!0}onLinesInserted(t,o){var b;return null===(b=this._lastRenderData)||void 0===b||b.onLinesInserted(t,o),!0}onScrollChanged(){return this._renderDecorations=!0,!0}onThemeChanged(){return this._selectionColor=this._theme.getColor(rn.ov3),this._renderDecorations=!0,!0}onTokensChanged(t){return!!this._lastRenderData&&this._lastRenderData.onTokensChanged(t)}onTokensColorsChanged(){return this._lastRenderData=null,this._buffers=null,!0}onZonesChanged(){return this._lastRenderData=null,!0}render(t){if(0===this._model.options.renderMinimap)return this._shadow.setClassName("minimap-shadow-hidden"),this._sliderHorizontal.setWidth(0),void this._sliderHorizontal.setHeight(0);this._shadow.setClassName(t.scrollLeft+t.viewportWidth>=t.scrollWidth?"minimap-shadow-hidden":"minimap-shadow-visible");const b=Go.create(this._model.options,t.viewportStartLineNumber,t.viewportEndLineNumber,t.viewportStartLineNumberVerticalOffset,t.viewportHeight,t.viewportContainsWhitespaceGaps,this._model.getLineCount(),this._model.getRealLineCount(),t.scrollTop,t.scrollHeight,this._lastRenderData?this._lastRenderData.renderedLayout:null);this._slider.setDisplay(b.sliderNeeded?"block":"none"),this._slider.setTop(b.sliderTop),this._slider.setHeight(b.sliderHeight),this._sliderHorizontal.setLeft(0),this._sliderHorizontal.setWidth(this._model.options.minimapWidth),this._sliderHorizontal.setTop(0),this._sliderHorizontal.setHeight(b.sliderHeight),this.renderDecorations(b),this._lastRenderData=this.renderLines(b)}renderDecorations(t){if(this._renderDecorations){this._renderDecorations=!1;const o=this._model.getSelections();o.sort(ie.e.compareRangesUsingStarts);const b=this._model.getMinimapDecorationsInViewport(t.startLineNumber,t.endLineNumber);b.sort((Vt,Ht)=>(Vt.options.zIndex||0)-(Ht.options.zIndex||0));const{canvasInnerWidth:V,canvasInnerHeight:Z}=this._model.options,Le=this._model.options.minimapLineHeight,Re=this._model.options.minimapCharWidth,Ge=this._model.getOptions().tabSize,at=this._decorationsCanvas.domNode.getContext("2d");at.clearRect(0,0,V,Z);const vt=new jr(t.startLineNumber,t.endLineNumber,!1);this._renderSelectionLineHighlights(at,o,vt,t,Le),this._renderDecorationsLineHighlights(at,b,vt,t,Le);const Ct=new jr(t.startLineNumber,t.endLineNumber,null);this._renderSelectionsHighlights(at,o,Ct,t,Le,Ge,Re,V),this._renderDecorationsHighlights(at,b,Ct,t,Le,Ge,Re,V)}}_renderSelectionLineHighlights(t,o,b,V,Z){if(!this._selectionColor||this._selectionColor.isTransparent())return;t.fillStyle=this._selectionColor.transparent(.5).toString();let Le=0,Re=0;for(const Ge of o){const at=V.intersectWithViewport(Ge);if(!at)continue;const[vt,Ct]=at;for(let ei=vt;ei<=Ct;ei++)b.set(ei,!0);const Vt=V.getYForLineNumber(vt,Z),Ht=V.getYForLineNumber(Ct,Z);Re>=Vt||(Re>Le&&t.fillRect(_.y0,Le,t.canvas.width,Re-Le),Le=Vt),Re=Ht}Re>Le&&t.fillRect(_.y0,Le,t.canvas.width,Re-Le)}_renderDecorationsLineHighlights(t,o,b,V,Z){const Le=new Map;for(let Re=o.length-1;Re>=0;Re--){const Ge=o[Re],at=Ge.options.minimap;if(!at||at.position!==$o.F5.Inline)continue;const vt=V.intersectWithViewport(Ge.range);if(!vt)continue;const[Ct,Vt]=vt,Ht=at.getColor(this._theme.value);if(!Ht||Ht.isTransparent())continue;let ei=Le.get(Ht.toString());ei||(ei=Ht.transparent(.5).toString(),Le.set(Ht.toString(),ei)),t.fillStyle=ei;for(let pi=Ct;pi<=Vt;pi++){if(b.has(pi))continue;b.set(pi,!0);const wi=V.getYForLineNumber(Ct,Z);t.fillRect(_.y0,wi,t.canvas.width,Z)}}}_renderSelectionsHighlights(t,o,b,V,Z,Le,Re,Ge){if(this._selectionColor&&!this._selectionColor.isTransparent())for(const at of o){const vt=V.intersectWithViewport(at);if(!vt)continue;const[Ct,Vt]=vt;for(let Ht=Ct;Ht<=Vt;Ht++)this.renderDecorationOnLine(t,b,at,this._selectionColor,V,Ht,Z,Z,Le,Re,Ge)}}_renderDecorationsHighlights(t,o,b,V,Z,Le,Re,Ge){for(const at of o){const vt=at.options.minimap;if(!vt)continue;const Ct=V.intersectWithViewport(at.range);if(!Ct)continue;const[Vt,Ht]=Ct,ei=vt.getColor(this._theme.value);if(ei&&!ei.isTransparent())for(let pi=Vt;pi<=Ht;pi++)switch(vt.position){case $o.F5.Inline:this.renderDecorationOnLine(t,b,at.range,ei,V,pi,Z,Z,Le,Re,Ge);continue;case $o.F5.Gutter:{const wi=V.getYForLineNumber(pi,Z);this.renderDecoration(t,ei,2,wi,2,Z);continue}}}}renderDecorationOnLine(t,o,b,V,Z,Le,Re,Ge,at,vt,Ct){const Vt=Z.getYForLineNumber(Le,Ge);if(Vt+Re<0||Vt>this._model.options.canvasInnerHeight)return;const{startLineNumber:Ht,endLineNumber:ei}=b,pi=Ht===Le?b.startColumn:1,wi=ei===Le?b.endColumn:this._model.getLineMaxColumn(Le),Ni=this.getXOffsetForPosition(o,Le,pi,at,vt,Ct),Pi=this.getXOffsetForPosition(o,Le,wi,at,vt,Ct);this.renderDecoration(t,V,Ni,Vt,Pi-Ni,Re)}getXOffsetForPosition(t,o,b,V,Z,Le){if(1===b)return _.y0;if((b-1)*Z>=Le)return Le;let Ge=t.get(o);if(!Ge){const at=this._model.getLineContent(o);Ge=[_.y0];let vt=_.y0;for(let Ct=1;Ct<at.length+1;Ct++){const Vt=at.charCodeAt(Ct-1),ei=vt+(9===Vt?V*Z:St.K7(Vt)?2*Z:Z);if(ei>=Le){Ge[Ct]=Le;break}Ge[Ct]=ei,vt=ei}t.set(o,Ge)}return b-1<Ge.length?Ge[b-1]:Le}renderDecoration(t,o,b,V,Z,Le){t.fillStyle=o&&o.toString()||"",t.fillRect(b,V,Z,Le)}renderLines(t){const o=t.startLineNumber,b=t.endLineNumber,V=this._model.options.minimapLineHeight;if(this._lastRenderData&&this._lastRenderData.linesEquals(t)){const go=this._lastRenderData._get();return new Ar(t,go.imageData,go.lines)}const Z=this._getBuffer();if(!Z)return null;const[Le,Re,Ge]=zs._renderUntouchedLines(Z,t.topPaddingLineCount,o,b,V,this._lastRenderData),at=this._model.getMinimapLinesRenderingData(o,b,Ge),vt=this._model.getOptions().tabSize,Ct=this._model.options.defaultBackgroundColor,Vt=this._model.options.backgroundColor,Ht=this._model.options.foregroundAlpha,ei=this._model.tokensColorTracker,pi=ei.backgroundIsLight(),wi=this._model.options.renderMinimap,Ni=this._model.options.charRenderer(),Pi=this._model.options.fontScale,Ji=this._model.options.minimapCharWidth,En=(1===wi?2:3)*Pi,mn=V>En?Math.floor((V-En)/2):0,Tn=Vt.a/255,Mn=new Li(Math.round((Vt.r-Ct.r)*Tn+Ct.r),Math.round((Vt.g-Ct.g)*Tn+Ct.g),Math.round((Vt.b-Ct.b)*Tn+Ct.b),255);let dn=t.topPaddingLineCount*V;const In=[];for(let go=0,To=b-o+1;go<To;go++)Ge[go]&&zs._renderLine(Z,Mn,Vt.a,pi,wi,Ji,ei,Ht,Ni,dn,mn,vt,at[go],Pi,V),In[go]=new ks(dn),dn+=V;const Vn=-1===Le?0:Le,Zn=(-1===Re?Z.height:Re)-Vn;return this._canvas.domNode.getContext("2d").putImageData(Z,0,0,0,Vn,Z.width,Zn),new Ar(t,Z,In)}static _renderUntouchedLines(t,o,b,V,Z,Le){const Re=[];if(!Le){for(let dn=0,In=V-b+1;dn<In;dn++)Re[dn]=!0;return[-1,-1,Re]}const Ge=Le._get(),at=Ge.imageData.data,vt=Ge.rendLineNumberStart,Ct=Ge.lines,Vt=Ct.length,Ht=t.width,ei=t.data,pi=(V-b+1)*Z*Ht*4;let wi=-1,Ni=-1,Pi=-1,Ji=-1,un=-1,En=-1,mn=o*Z;for(let dn=b;dn<=V;dn++){const In=dn-b,Vn=dn-vt,jn=Vn>=0&&Vn<Vt?Ct[Vn].dy:-1;if(-1===jn){Re[In]=!0,mn+=Z;continue}const Zn=jn*Ht*4,uo=(jn+Z)*Ht*4,go=mn*Ht*4,To=(mn+Z)*Ht*4;Ji===Zn&&En===go?(Ji=uo,En=To):(-1!==Pi&&(ei.set(at.subarray(Pi,Ji),un),-1===wi&&0===Pi&&Pi===un&&(wi=Ji),-1===Ni&&Ji===pi&&Pi===un&&(Ni=Pi)),Pi=Zn,Ji=uo,un=go,En=To),Re[In]=!1,mn+=Z}return-1!==Pi&&(ei.set(at.subarray(Pi,Ji),un),-1===wi&&0===Pi&&Pi===un&&(wi=Ji),-1===Ni&&Ji===pi&&Pi===un&&(Ni=Pi)),[-1===wi?-1:wi/(4*Ht),-1===Ni?-1:Ni/(4*Ht),Re]}static _renderLine(t,o,b,V,Z,Le,Re,Ge,at,vt,Ct,Vt,Ht,ei,pi){const wi=Ht.content,Ni=Ht.tokens,Pi=t.width-Le,Ji=1===pi;let un=_.y0,En=0,mn=0;for(let Tn=0,Mn=Ni.getCount();Tn<Mn;Tn++){const dn=Ni.getEndOffset(Tn),In=Ni.getForeground(Tn),Vn=Re.getColor(In);for(;En<dn;En++){if(un>Pi)return;const jn=wi.charCodeAt(En);if(9===jn){const Zn=Vt-(En+mn)%Vt;mn+=Zn-1,un+=Zn*Le}else if(32===jn)un+=Le;else{const Zn=St.K7(jn)?2:1;for(let uo=0;uo<Zn;uo++)if(2===Z?at.blockRenderChar(t,un,vt+Ct,Vn,Ge,o,b,Ji):at.renderChar(t,un,vt+Ct,jn,Vn,Ge,o,b,ei,V,Ji),un+=Le,un>Pi)return}}}}}class jr{constructor(t,o,b){this._startLineNumber=t,this._endLineNumber=o,this._defaultValue=b,this._values=[];for(let V=0,Z=this._endLineNumber-this._startLineNumber+1;V<Z;V++)this._values[V]=b}has(t){return this.get(t)!==this._defaultValue}set(t,o){t<this._startLineNumber||t>this._endLineNumber||(this._values[t-this._startLineNumber]=o)}get(t){return t<this._startLineNumber||t>this._endLineNumber?this._defaultValue:this._values[t-this._startLineNumber]}}var nr=e(59822),Bs={};Bs.styleTagTransform=m(),Bs.setAttributes=g(),Bs.insert=c().bind(null,"head"),Bs.domAPI=L(),Bs.insertStyleElement=d(),T()(nr.Z,Bs);class _o extends be{constructor(t){super(t);const b=this._context.configuration.options.get(142);this._widgets={},this._verticalScrollbarWidth=b.verticalScrollbarWidth,this._minimapWidth=b.minimap.minimapWidth,this._horizontalScrollbarHeight=b.horizontalScrollbarHeight,this._editorHeight=b.height,this._editorWidth=b.width,this._domNode=(0,Ce.X)(document.createElement("div")),pe.write(this._domNode,4),this._domNode.setClassName("overlayWidgets")}dispose(){super.dispose(),this._widgets={}}getDomNode(){return this._domNode}onConfigurationChanged(t){const b=this._context.configuration.options.get(142);return this._verticalScrollbarWidth=b.verticalScrollbarWidth,this._minimapWidth=b.minimap.minimapWidth,this._horizontalScrollbarHeight=b.horizontalScrollbarHeight,this._editorHeight=b.height,this._editorWidth=b.width,!0}addWidget(t){const o=(0,Ce.X)(t.getDomNode());this._widgets[t.getId()]={widget:t,preference:null,domNode:o},o.setPosition("absolute"),o.setAttribute("widgetId",t.getId()),this._domNode.appendChild(o),this.setShouldRender(),this._updateMaxMinWidth()}setWidgetPosition(t,o){const b=this._widgets[t.getId()];return b.preference===o?(this._updateMaxMinWidth(),!1):(b.preference=o,this.setShouldRender(),this._updateMaxMinWidth(),!0)}removeWidget(t){const o=t.getId();if(this._widgets.hasOwnProperty(o)){const V=this._widgets[o].domNode.domNode;delete this._widgets[o],V.parentNode.removeChild(V),this.setShouldRender(),this._updateMaxMinWidth()}}_updateMaxMinWidth(){var t,o;let b=0;const V=Object.keys(this._widgets);for(let Z=0,Le=V.length;Z<Le;Z++){const at=null===(o=(t=this._widgets[V[Z]].widget).getMinContentWidthInPx)||void 0===o?void 0:o.call(t);typeof at<"u"&&(b=Math.max(b,at))}this._context.viewLayout.setOverlayWidgetsMinWidth(b)}_renderWidget(t){const o=t.domNode;null!==t.preference?0===t.preference?(o.setTop(0),o.setRight(2*this._verticalScrollbarWidth+this._minimapWidth)):1===t.preference?(o.setTop(this._editorHeight-o.domNode.clientHeight-2*this._horizontalScrollbarHeight),o.setRight(2*this._verticalScrollbarWidth+this._minimapWidth)):2===t.preference&&(o.setTop(0),o.domNode.style.right="50%"):o.setTop("")}prepareRender(t){}render(t){this._domNode.setWidth(this._editorWidth);const o=Object.keys(this._widgets);for(let b=0,V=o.length;b<V;b++)this._renderWidget(this._widgets[o[b]])}}class ll{constructor(t,o){const b=t.options;this.lineHeight=b.get(65),this.pixelRatio=b.get(140),this.overviewRulerLanes=b.get(81),this.renderBorder=b.get(80);const V=o.getColor(xt.zw);this.borderColor=V?V.toString():null,this.hideCursor=b.get(58);const Z=o.getColor(xt.n0);this.cursorColor=Z?Z.transparent(.7).toString():null,this.themeType=o.type;const Le=b.get(71),Re=Le.enabled,Ge=Le.side,at=o.getColor(xt.e_),vt=fn.RW.getDefaultBackground();this.backgroundColor=at||(Re&&"right"===Ge?vt:null);const Vt=b.get(142).overviewRuler;this.top=Vt.top,this.right=Vt.right,this.domWidth=Vt.width,this.domHeight=Vt.height,0===this.overviewRulerLanes?(this.canvasWidth=0,this.canvasHeight=0):(this.canvasWidth=this.domWidth*this.pixelRatio|0,this.canvasHeight=this.domHeight*this.pixelRatio|0);const[Ht,ei]=this._initLanes(1,this.canvasWidth,this.overviewRulerLanes);this.x=Ht,this.w=ei}_initLanes(t,o,b){const V=o-t;if(b>=3){const Z=Math.floor(V/3),Le=Math.floor(V/3),Re=V-Z-Le,at=t+Z;return[[0,t,at,t,t+Z+Re,t,at,t],[0,Z,Re,Z+Re,Le,Z+Re+Le,Re+Le,Z+Re+Le]]}if(2===b){const Z=Math.floor(V/2),Le=V-Z;return[[0,t,t,t,t+Z,t,t,t],[0,Z,Z,Z,Le,Z+Le,Z+Le,Z+Le]]}return[[0,t,t,t,t,t,t,t],[0,V,V,V,V,V,V,V]]}equals(t){return this.lineHeight===t.lineHeight&&this.pixelRatio===t.pixelRatio&&this.overviewRulerLanes===t.overviewRulerLanes&&this.renderBorder===t.renderBorder&&this.borderColor===t.borderColor&&this.hideCursor===t.hideCursor&&this.cursorColor===t.cursorColor&&this.themeType===t.themeType&&Nn.Il.equals(this.backgroundColor,t.backgroundColor)&&this.top===t.top&&this.right===t.right&&this.domWidth===t.domWidth&&this.domHeight===t.domHeight&&this.canvasWidth===t.canvasWidth&&this.canvasHeight===t.canvasHeight}}class rs extends be{constructor(t){super(t),this._domNode=(0,Ce.X)(document.createElement("canvas")),this._domNode.setClassName("decorationsOverviewRuler"),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._domNode.setAttribute("aria-hidden","true"),this._updateSettings(!1),this._tokensColorTrackerListener=fn.RW.onDidChange(o=>{o.changedColorMap&&this._updateSettings(!0)}),this._cursorPositions=[]}dispose(){super.dispose(),this._tokensColorTrackerListener.dispose()}_updateSettings(t){const o=new ll(this._context.configuration,this._context.theme);return!(this._settings&&this._settings.equals(o)||(this._settings=o,this._domNode.setTop(this._settings.top),this._domNode.setRight(this._settings.right),this._domNode.setWidth(this._settings.domWidth),this._domNode.setHeight(this._settings.domHeight),this._domNode.domNode.width=this._settings.canvasWidth,this._domNode.domNode.height=this._settings.canvasHeight,t&&this._render(),0))}onConfigurationChanged(t){return this._updateSettings(!1)}onCursorStateChanged(t){this._cursorPositions=[];for(let o=0,b=t.selections.length;o<b;o++)this._cursorPositions[o]=t.selections[o].getPosition();return this._cursorPositions.sort(le.L.compare),!0}onDecorationsChanged(t){return!!t.affectsOverviewRuler}onFlushed(t){return!0}onScrollChanged(t){return t.scrollHeightChanged}onZonesChanged(t){return!0}onThemeChanged(t){return this._updateSettings(!1)}getDomNode(){return this._domNode.domNode}prepareRender(t){}render(t){this._render()}_render(){const t=this._settings.backgroundColor;if(0===this._settings.overviewRulerLanes)return this._domNode.setBackgroundColor(t?Nn.Il.Format.CSS.formatHexA(t):""),void this._domNode.setDisplay("none");this._domNode.setDisplay("block");const o=this._settings.canvasWidth,b=this._settings.canvasHeight,V=this._settings.lineHeight,Z=this._context.viewLayout,Re=b/this._context.viewLayout.getScrollHeight(),Ge=this._context.viewModel.getAllOverviewRulerDecorations(this._context.theme),at=6*this._settings.pixelRatio|0,vt=at/2|0,Ct=this._domNode.domNode.getContext("2d");t?t.isOpaque()?(Ct.fillStyle=Nn.Il.Format.CSS.formatHexA(t),Ct.fillRect(0,0,o,b)):(Ct.clearRect(0,0,o,b),Ct.fillStyle=Nn.Il.Format.CSS.formatHexA(t),Ct.fillRect(0,0,o,b)):Ct.clearRect(0,0,o,b);const Vt=this._settings.x,Ht=this._settings.w;Ge.sort(on.SQ.cmp);for(const ei of Ge){const wi=ei.data;Ct.fillStyle=ei.color;let Ni=0,Pi=0,Ji=0;for(let un=0,En=wi.length/3;un<En;un++){const mn=wi[3*un],Mn=wi[3*un+2];let dn=Z.getVerticalOffsetForLineNumber(wi[3*un+1])*Re|0,In=(Z.getVerticalOffsetForLineNumber(Mn)+V)*Re|0;if(In-dn<at){let jn=(dn+In)/2|0;jn<vt?jn=vt:jn+vt>b&&(jn=b-vt),dn=jn-vt,In=jn+vt}dn>Ji+1||mn!==Ni?(0!==un&&Ct.fillRect(Vt[Ni],Pi,Ht[Ni],Ji-Pi),Ni=mn,Pi=dn,Ji=In):In>Ji&&(Ji=In)}Ct.fillRect(Vt[Ni],Pi,Ht[Ni],Ji-Pi)}if(!this._settings.hideCursor&&this._settings.cursorColor){const ei=2*this._settings.pixelRatio|0,pi=ei/2|0,wi=this._settings.x[7],Ni=this._settings.w[7];Ct.fillStyle=this._settings.cursorColor;let Pi=-100,Ji=-100;for(let un=0,En=this._cursorPositions.length;un<En;un++){let Tn=Z.getVerticalOffsetForLineNumber(this._cursorPositions[un].lineNumber)*Re|0;Tn<pi?Tn=pi:Tn+pi>b&&(Tn=b-pi);const Mn=Tn-pi,dn=Mn+ei;Mn>Ji+1?(0!==un&&Ct.fillRect(wi,Pi,Ni,Ji-Pi),Pi=Mn,Ji=dn):dn>Ji&&(Ji=dn)}Ct.fillRect(wi,Pi,Ni,Ji-Pi)}this._settings.renderBorder&&this._settings.borderColor&&this._settings.overviewRulerLanes>0&&(Ct.beginPath(),Ct.lineWidth=1,Ct.strokeStyle=this._settings.borderColor,Ct.moveTo(0,0),Ct.lineTo(0,b),Ct.stroke(),Ct.moveTo(0,0),Ct.lineTo(o,0),Ct.stroke())}}var js=e(53056);class Kr extends fe{constructor(t,o){super(),this._context=t;const b=this._context.configuration.options;this._domNode=(0,Ce.X)(document.createElement("canvas")),this._domNode.setClassName(o),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._zoneManager=new js.Tj(V=>this._context.viewLayout.getVerticalOffsetForLineNumber(V)),this._zoneManager.setDOMWidth(0),this._zoneManager.setDOMHeight(0),this._zoneManager.setOuterHeight(this._context.viewLayout.getScrollHeight()),this._zoneManager.setLineHeight(b.get(65)),this._zoneManager.setPixelRatio(b.get(140)),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onConfigurationChanged(t){const o=this._context.configuration.options;return t.hasChanged(65)&&(this._zoneManager.setLineHeight(o.get(65)),this._render()),t.hasChanged(140)&&(this._zoneManager.setPixelRatio(o.get(140)),this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render()),!0}onFlushed(t){return this._render(),!0}onScrollChanged(t){return t.scrollHeightChanged&&(this._zoneManager.setOuterHeight(t.scrollHeight),this._render()),!0}onZonesChanged(t){return this._render(),!0}getDomNode(){return this._domNode.domNode}setLayout(t){this._domNode.setTop(t.top),this._domNode.setRight(t.right);let o=!1;o=this._zoneManager.setDOMWidth(t.width)||o,o=this._zoneManager.setDOMHeight(t.height)||o,o&&(this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render())}setZones(t){this._zoneManager.setZones(t),this._render()}_render(){if(0===this._zoneManager.getOuterHeight())return!1;const t=this._zoneManager.getCanvasWidth(),o=this._zoneManager.getCanvasHeight(),b=this._zoneManager.resolveColorZones(),V=this._zoneManager.getId2Color(),Z=this._domNode.domNode.getContext("2d");return Z.clearRect(0,0,t,o),b.length>0&&this._renderOneLane(Z,b,V,t),!0}_renderOneLane(t,o,b,V){let Z=0,Le=0,Re=0;for(const Ge of o){const at=Ge.colorId,vt=Ge.from,Ct=Ge.to;at!==Z?(t.fillRect(0,Le,V,Re-Le),Z=at,t.fillStyle=b[Z],Le=vt,Re=Ct):Re>=vt?Re=Math.max(Re,Ct):(t.fillRect(0,Le,V,Re-Le),Le=vt,Re=Ct)}t.fillRect(0,Le,V,Re-Le)}}var sr=e(29443),Ks={};Ks.styleTagTransform=m(),Ks.setAttributes=g(),Ks.insert=c().bind(null,"head"),Ks.domAPI=L(),Ks.insertStyleElement=d(),T()(sr.Z,Ks);class Sa extends be{constructor(t){super(t),this.domNode=(0,Ce.X)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("view-rulers"),this._renderedRulers=[];const o=this._context.configuration.options;this._rulers=o.get(100),this._typicalHalfwidthCharacterWidth=o.get(49).typicalHalfwidthCharacterWidth}dispose(){super.dispose()}onConfigurationChanged(t){const o=this._context.configuration.options;return this._rulers=o.get(100),this._typicalHalfwidthCharacterWidth=o.get(49).typicalHalfwidthCharacterWidth,!0}onScrollChanged(t){return t.scrollHeightChanged}prepareRender(t){}_ensureRulersCount(){const t=this._renderedRulers.length,o=this._rulers.length;if(t===o)return;if(t<o){const{tabSize:V}=this._context.viewModel.model.getOptions(),Z=V;let Le=o-t;for(;Le>0;){const Re=(0,Ce.X)(document.createElement("div"));Re.setClassName("view-ruler"),Re.setWidth(Z),this.domNode.appendChild(Re),this._renderedRulers.push(Re),Le--}return}let b=t-o;for(;b>0;){const V=this._renderedRulers.pop();this.domNode.removeChild(V),b--}}render(t){this._ensureRulersCount();for(let o=0,b=this._rulers.length;o<b;o++){const V=this._renderedRulers[o],Z=this._rulers[o];V.setBoxShadow(Z.color?`1px 0 0 0 ${Z.color} inset`:""),V.setHeight(Math.min(t.scrollHeight,1e6)),V.setLeft(Z.column*this._typicalHalfwidthCharacterWidth)}}}var ns=e(39649),ho={};ho.styleTagTransform=m(),ho.setAttributes=g(),ho.insert=c().bind(null,"head"),ho.domAPI=L(),ho.insertStyleElement=d(),T()(ns.Z,ho);class gs extends be{constructor(t){super(t),this._scrollTop=0,this._width=0,this._updateWidth(),this._shouldShow=!1;const b=this._context.configuration.options.get(101);this._useShadows=b.useShadows,this._domNode=(0,Ce.X)(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true")}dispose(){super.dispose()}_updateShouldShow(){const t=this._useShadows&&this._scrollTop>0;return this._shouldShow!==t&&(this._shouldShow=t,!0)}getDomNode(){return this._domNode}_updateWidth(){const o=this._context.configuration.options.get(142);this._width=0===o.minimap.renderMinimap||o.minimap.minimapWidth>0&&0===o.minimap.minimapLeft?o.width:o.width-o.verticalScrollbarWidth}onConfigurationChanged(t){const b=this._context.configuration.options.get(101);return this._useShadows=b.useShadows,this._updateWidth(),this._updateShouldShow(),!0}onScrollChanged(t){return this._scrollTop=t.scrollTop,this._updateShouldShow()}prepareRender(t){}render(t){this._domNode.setWidth(this._width),this._domNode.setClassName(this._shouldShow?"scroll-decoration":"")}}var ws=e(52595),Po={};Po.styleTagTransform=m(),Po.setAttributes=g(),Po.insert=c().bind(null,"head"),Po.domAPI=L(),Po.insertStyleElement=d(),T()(ws.Z,Po);class $r{constructor(t){this.left=t.left,this.width=t.width,this.startStyle=null,this.endStyle=null}}class $n{constructor(t,o){this.lineNumber=t,this.ranges=o}}function no(bt){return new $r(bt)}function Do(bt){return new $n(bt.lineNumber,bt.ranges.map(no))}let xo=(()=>{class bt extends wt{constructor(o){super(),this._previousFrameVisibleRangesWithStyle=[],this._context=o;const b=this._context.configuration.options;this._lineHeight=b.get(65),this._roundedSelection=b.get(99),this._typicalHalfwidthCharacterWidth=b.get(49).typicalHalfwidthCharacterWidth,this._selections=[],this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(o){const b=this._context.configuration.options;return this._lineHeight=b.get(65),this._roundedSelection=b.get(99),this._typicalHalfwidthCharacterWidth=b.get(49).typicalHalfwidthCharacterWidth,!0}onCursorStateChanged(o){return this._selections=o.selections.slice(0),!0}onDecorationsChanged(o){return!0}onFlushed(o){return!0}onLinesChanged(o){return!0}onLinesDeleted(o){return!0}onLinesInserted(o){return!0}onScrollChanged(o){return o.scrollTopChanged}onZonesChanged(o){return!0}_visibleRangesHaveGaps(o){for(let b=0,V=o.length;b<V;b++)if(o[b].ranges.length>1)return!0;return!1}_enrichVisibleRangesWithStyle(o,b,V){const Z=this._typicalHalfwidthCharacterWidth/4;let Le=null,Re=null;if(V&&V.length>0&&b.length>0){const Ge=b[0].lineNumber;if(Ge===o.startLineNumber)for(let vt=0;!Le&&vt<V.length;vt++)V[vt].lineNumber===Ge&&(Le=V[vt].ranges[0]);const at=b[b.length-1].lineNumber;if(at===o.endLineNumber)for(let vt=V.length-1;!Re&&vt>=0;vt--)V[vt].lineNumber===at&&(Re=V[vt].ranges[0]);Le&&!Le.startStyle&&(Le=null),Re&&!Re.startStyle&&(Re=null)}for(let Ge=0,at=b.length;Ge<at;Ge++){const vt=b[Ge].ranges[0],Ct=vt.left,Vt=vt.left+vt.width,Ht={top:0,bottom:0},ei={top:0,bottom:0};if(Ge>0){const pi=b[Ge-1].ranges[0].left,wi=b[Ge-1].ranges[0].left+b[Ge-1].ranges[0].width;Uo(Ct-pi)<Z?Ht.top=2:Ct>pi&&(Ht.top=1),Uo(Vt-wi)<Z?ei.top=2:pi<Vt&&Vt<wi&&(ei.top=1)}else Le&&(Ht.top=Le.startStyle.top,ei.top=Le.endStyle.top);if(Ge+1<at){const pi=b[Ge+1].ranges[0].left,wi=b[Ge+1].ranges[0].left+b[Ge+1].ranges[0].width;Uo(Ct-pi)<Z?Ht.bottom=2:pi<Ct&&Ct<wi&&(Ht.bottom=1),Uo(Vt-wi)<Z?ei.bottom=2:Vt<wi&&(ei.bottom=1)}else Re&&(Ht.bottom=Re.startStyle.bottom,ei.bottom=Re.endStyle.bottom);vt.startStyle=Ht,vt.endStyle=ei}}_getVisibleRangesWithStyle(o,b,V){const Le=(b.linesVisibleRangesForRange(o,!0)||[]).map(Do);return!this._visibleRangesHaveGaps(Le)&&this._roundedSelection&&this._enrichVisibleRangesWithStyle(b.visibleRange,Le,V),Le}_createSelectionPiece(o,b,V,Z,Le){return'<div class="cslr '+V+'" style="top:'+o.toString()+"px;left:"+Z.toString()+"px;width:"+Le.toString()+"px;height:"+b+'px;"></div>'}_actualRenderOneSelection(o,b,V,Z){if(0===Z.length)return;const Le=!!Z[0].ranges[0].startStyle,Re=this._lineHeight.toString(),Ge=(this._lineHeight-1).toString(),at=Z[0].lineNumber,vt=Z[Z.length-1].lineNumber;for(let Ct=0,Vt=Z.length;Ct<Vt;Ct++){const Ht=Z[Ct],ei=Ht.lineNumber,pi=ei-b,wi=!V||ei!==vt&&ei!==at?Re:Ge,Ni=V&&ei===at?1:0;let Pi="",Ji="";for(let un=0,En=Ht.ranges.length;un<En;un++){const mn=Ht.ranges[un];if(Le){const Mn=mn.startStyle,dn=mn.endStyle;if(1===Mn.top||1===Mn.bottom){Pi+=this._createSelectionPiece(Ni,wi,bt.SELECTION_CLASS_NAME,mn.left-bt.ROUNDED_PIECE_WIDTH,bt.ROUNDED_PIECE_WIDTH);let In=bt.EDITOR_BACKGROUND_CLASS_NAME;1===Mn.top&&(In+=" "+bt.SELECTION_TOP_RIGHT),1===Mn.bottom&&(In+=" "+bt.SELECTION_BOTTOM_RIGHT),Pi+=this._createSelectionPiece(Ni,wi,In,mn.left-bt.ROUNDED_PIECE_WIDTH,bt.ROUNDED_PIECE_WIDTH)}if(1===dn.top||1===dn.bottom){Pi+=this._createSelectionPiece(Ni,wi,bt.SELECTION_CLASS_NAME,mn.left+mn.width,bt.ROUNDED_PIECE_WIDTH);let In=bt.EDITOR_BACKGROUND_CLASS_NAME;1===dn.top&&(In+=" "+bt.SELECTION_TOP_LEFT),1===dn.bottom&&(In+=" "+bt.SELECTION_BOTTOM_LEFT),Pi+=this._createSelectionPiece(Ni,wi,In,mn.left+mn.width,bt.ROUNDED_PIECE_WIDTH)}}let Tn=bt.SELECTION_CLASS_NAME;if(Le){const Mn=mn.startStyle,dn=mn.endStyle;0===Mn.top&&(Tn+=" "+bt.SELECTION_TOP_LEFT),0===Mn.bottom&&(Tn+=" "+bt.SELECTION_BOTTOM_LEFT),0===dn.top&&(Tn+=" "+bt.SELECTION_TOP_RIGHT),0===dn.bottom&&(Tn+=" "+bt.SELECTION_BOTTOM_RIGHT)}Ji+=this._createSelectionPiece(Ni,wi,Tn,mn.left,mn.width)}o[pi][0]+=Pi,o[pi][1]+=Ji}}prepareRender(o){const b=[],V=o.visibleRange.startLineNumber,Z=o.visibleRange.endLineNumber;for(let Re=V;Re<=Z;Re++)b[Re-V]=["",""];const Le=[];for(let Re=0,Ge=this._selections.length;Re<Ge;Re++){const at=this._selections[Re];if(at.isEmpty()){Le[Re]=null;continue}const vt=this._getVisibleRangesWithStyle(at,o,this._previousFrameVisibleRangesWithStyle[Re]);Le[Re]=vt,this._actualRenderOneSelection(b,V,this._selections.length>1,vt)}this._previousFrameVisibleRangesWithStyle=Le,this._renderResult=b.map(([Re,Ge])=>Re+Ge)}render(o,b){if(!this._renderResult)return"";const V=b-o;return V<0||V>=this._renderResult.length?"":this._renderResult[V]}}return bt.SELECTION_CLASS_NAME="selected-text",bt.SELECTION_TOP_LEFT="top-left-radius",bt.SELECTION_BOTTOM_LEFT="bottom-left-radius",bt.SELECTION_TOP_RIGHT="top-right-radius",bt.SELECTION_BOTTOM_RIGHT="bottom-right-radius",bt.EDITOR_BACKGROUND_CLASS_NAME="monaco-editor-background",bt.ROUNDED_PIECE_WIDTH=10,bt})();function Uo(bt){return bt<0?-bt:bt}(0,Bt.Ic)((bt,t)=>{const o=bt.getColor(rn.yb5);o&&!o.isTransparent()&&t.addRule(`.monaco-editor .view-line span.inline-selected-text { color: ${o}; }`)});var Yo=e(4057),Io={};Io.styleTagTransform=m(),Io.setAttributes=g(),Io.insert=c().bind(null,"head"),Io.domAPI=L(),Io.insertStyleElement=d(),T()(Yo.Z,Io);class dl{constructor(t,o,b,V,Z,Le,Re){this.top=t,this.left=o,this.paddingLeft=b,this.width=V,this.height=Z,this.textContent=Le,this.textContentClassName=Re}}class cl{constructor(t){this._context=t;const o=this._context.configuration.options,b=o.get(49);this._cursorStyle=o.get(27),this._lineHeight=o.get(65),this._typicalHalfwidthCharacterWidth=b.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(o.get(30),this._typicalHalfwidthCharacterWidth),this._isVisible=!0,this._domNode=(0,Ce.X)(document.createElement("div")),this._domNode.setClassName(`cursor ${qi.S}`),this._domNode.setHeight(this._lineHeight),this._domNode.setTop(0),this._domNode.setLeft(0),(0,st.N)(this._domNode,b),this._domNode.setDisplay("none"),this._position=new le.L(1,1),this._lastRenderedContent="",this._renderData=null}getDomNode(){return this._domNode}getPosition(){return this._position}show(){this._isVisible||(this._domNode.setVisibility("inherit"),this._isVisible=!0)}hide(){this._isVisible&&(this._domNode.setVisibility("hidden"),this._isVisible=!1)}onConfigurationChanged(t){const o=this._context.configuration.options,b=o.get(49);return this._cursorStyle=o.get(27),this._lineHeight=o.get(65),this._typicalHalfwidthCharacterWidth=b.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(o.get(30),this._typicalHalfwidthCharacterWidth),(0,st.N)(this._domNode,b),!0}onCursorPositionChanged(t,o){return this._domNode.domNode.style.transitionProperty=o?"none":"",this._position=t,!0}_getGraphemeAwarePosition(){const{lineNumber:t,column:o}=this._position,b=this._context.viewModel.getLineContent(t),[V,Z]=St.J_(b,o-1);return[new le.L(t,V+1),b.substring(V,Z)]}_prepareRender(t){let o="",b="";const[V,Z]=this._getGraphemeAwarePosition();if(this._cursorStyle===_.d2.Line||this._cursorStyle===_.d2.LineThin){const Vt=t.visibleRangeForPosition(V);if(!Vt||Vt.outsideRenderedLine)return null;let Ht;this._cursorStyle===_.d2.Line?(Ht=A.Uh(this._lineCursorWidth>0?this._lineCursorWidth:2),Ht>2&&(o=Z,b=this._getTokenClassName(V))):Ht=A.Uh(1);let ei=Vt.left,pi=0;Ht>=2&&ei>=1&&(pi=1,ei-=pi);const wi=t.getVerticalOffsetForLineNumber(V.lineNumber)-t.bigNumbersDelta;return new dl(wi,ei,pi,Ht,this._lineHeight,o,b)}const Le=t.linesVisibleRangesForRange(new ie.e(V.lineNumber,V.column,V.lineNumber,V.column+Z.length),!1);if(!Le||0===Le.length)return null;const Re=Le[0];if(Re.outsideRenderedLine||0===Re.ranges.length)return null;const Ge=Re.ranges[0],at="\t"===Z||Ge.width<1?this._typicalHalfwidthCharacterWidth:Ge.width;this._cursorStyle===_.d2.Block&&(o=Z,b=this._getTokenClassName(V));let vt=t.getVerticalOffsetForLineNumber(V.lineNumber)-t.bigNumbersDelta,Ct=this._lineHeight;return(this._cursorStyle===_.d2.Underline||this._cursorStyle===_.d2.UnderlineThin)&&(vt+=this._lineHeight-2,Ct=2),new dl(vt,Ge.left,0,at,Ct,o,b)}_getTokenClassName(t){const o=this._context.viewModel.getViewLineData(t.lineNumber),b=o.tokens.findTokenIndexAtOffset(t.column-1);return o.tokens.getClassName(b)}prepareRender(t){this._renderData=this._prepareRender(t)}render(t){return this._renderData?(this._lastRenderedContent!==this._renderData.textContent&&(this._lastRenderedContent=this._renderData.textContent,this._domNode.domNode.textContent=this._lastRenderedContent),this._domNode.setClassName(`cursor ${qi.S} ${this._renderData.textContentClassName}`),this._domNode.setDisplay("block"),this._domNode.setTop(this._renderData.top),this._domNode.setLeft(this._renderData.left),this._domNode.setPaddingLeft(this._renderData.paddingLeft),this._domNode.setWidth(this._renderData.width),this._domNode.setLineHeight(this._renderData.height),this._domNode.setHeight(this._renderData.height),{domNode:this._domNode.domNode,position:this._position,contentLeft:this._renderData.left,height:this._renderData.height,width:2}):(this._domNode.setDisplay("none"),null)}}let rr=(()=>{class bt extends be{constructor(o){super(o);const b=this._context.configuration.options;this._readOnly=b.get(89),this._cursorBlinking=b.get(25),this._cursorStyle=b.get(27),this._cursorSmoothCaretAnimation=b.get(26),this._selectionIsEmpty=!0,this._isComposingInput=!1,this._isVisible=!1,this._primaryCursor=new cl(this._context),this._secondaryCursors=[],this._renderData=[],this._domNode=(0,Ce.X)(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._updateDomClassName(),this._domNode.appendChild(this._primaryCursor.getDomNode()),this._startCursorBlinkAnimation=new en._F,this._cursorFlatBlinkInterval=new en.zh,this._blinkingEnabled=!1,this._editorHasFocus=!1,this._updateBlinking()}dispose(){super.dispose(),this._startCursorBlinkAnimation.dispose(),this._cursorFlatBlinkInterval.dispose()}getDomNode(){return this._domNode}onCompositionStart(o){return this._isComposingInput=!0,this._updateBlinking(),!0}onCompositionEnd(o){return this._isComposingInput=!1,this._updateBlinking(),!0}onConfigurationChanged(o){const b=this._context.configuration.options;this._readOnly=b.get(89),this._cursorBlinking=b.get(25),this._cursorStyle=b.get(27),this._cursorSmoothCaretAnimation=b.get(26),this._updateBlinking(),this._updateDomClassName(),this._primaryCursor.onConfigurationChanged(o);for(let V=0,Z=this._secondaryCursors.length;V<Z;V++)this._secondaryCursors[V].onConfigurationChanged(o);return!0}_onCursorPositionChanged(o,b,V){const Z=this._secondaryCursors.length!==b.length||"explicit"===this._cursorSmoothCaretAnimation&&3!==V;if(this._primaryCursor.onCursorPositionChanged(o,Z),this._updateBlinking(),this._secondaryCursors.length<b.length){const Le=b.length-this._secondaryCursors.length;for(let Re=0;Re<Le;Re++){const Ge=new cl(this._context);this._domNode.domNode.insertBefore(Ge.getDomNode().domNode,this._primaryCursor.getDomNode().domNode.nextSibling),this._secondaryCursors.push(Ge)}}else if(this._secondaryCursors.length>b.length){const Le=this._secondaryCursors.length-b.length;for(let Re=0;Re<Le;Re++)this._domNode.removeChild(this._secondaryCursors[0].getDomNode()),this._secondaryCursors.splice(0,1)}for(let Le=0;Le<b.length;Le++)this._secondaryCursors[Le].onCursorPositionChanged(b[Le],Z)}onCursorStateChanged(o){const b=[];for(let Z=0,Le=o.selections.length;Z<Le;Z++)b[Z]=o.selections[Z].getPosition();this._onCursorPositionChanged(b[0],b.slice(1),o.reason);const V=o.selections[0].isEmpty();return this._selectionIsEmpty!==V&&(this._selectionIsEmpty=V,this._updateDomClassName()),!0}onDecorationsChanged(o){return!0}onFlushed(o){return!0}onFocusChanged(o){return this._editorHasFocus=o.isFocused,this._updateBlinking(),!1}onLinesChanged(o){return!0}onLinesDeleted(o){return!0}onLinesInserted(o){return!0}onScrollChanged(o){return!0}onTokensChanged(o){const b=V=>{for(let Z=0,Le=o.ranges.length;Z<Le;Z++)if(o.ranges[Z].fromLineNumber<=V.lineNumber&&V.lineNumber<=o.ranges[Z].toLineNumber)return!0;return!1};if(b(this._primaryCursor.getPosition()))return!0;for(const V of this._secondaryCursors)if(b(V.getPosition()))return!0;return!1}onZonesChanged(o){return!0}_getCursorBlinking(){return this._isComposingInput||!this._editorHasFocus?0:this._readOnly?5:this._cursorBlinking}_updateBlinking(){this._startCursorBlinkAnimation.cancel(),this._cursorFlatBlinkInterval.cancel();const o=this._getCursorBlinking(),b=0===o,V=5===o;b?this._hide():this._show(),this._blinkingEnabled=!1,this._updateDomClassName(),!b&&!V&&(1===o?this._cursorFlatBlinkInterval.cancelAndSet(()=>{this._isVisible?this._hide():this._show()},bt.BLINK_INTERVAL):this._startCursorBlinkAnimation.setIfNotSet(()=>{this._blinkingEnabled=!0,this._updateDomClassName()},bt.BLINK_INTERVAL))}_updateDomClassName(){this._domNode.setClassName(this._getClassName())}_getClassName(){let o="cursors-layer";switch(this._selectionIsEmpty||(o+=" has-selection"),this._cursorStyle){case _.d2.Line:o+=" cursor-line-style";break;case _.d2.Block:o+=" cursor-block-style";break;case _.d2.Underline:o+=" cursor-underline-style";break;case _.d2.LineThin:o+=" cursor-line-thin-style";break;case _.d2.BlockOutline:o+=" cursor-block-outline-style";break;case _.d2.UnderlineThin:o+=" cursor-underline-thin-style";break;default:o+=" cursor-line-style"}if(this._blinkingEnabled)switch(this._getCursorBlinking()){case 1:o+=" cursor-blink";break;case 2:o+=" cursor-smooth";break;case 3:o+=" cursor-phase";break;case 4:o+=" cursor-expand";break;default:o+=" cursor-solid"}else o+=" cursor-solid";return("on"===this._cursorSmoothCaretAnimation||"explicit"===this._cursorSmoothCaretAnimation)&&(o+=" cursor-smooth-caret-animation"),o}_show(){this._primaryCursor.show();for(let o=0,b=this._secondaryCursors.length;o<b;o++)this._secondaryCursors[o].show();this._isVisible=!0}_hide(){this._primaryCursor.hide();for(let o=0,b=this._secondaryCursors.length;o<b;o++)this._secondaryCursors[o].hide();this._isVisible=!1}prepareRender(o){this._primaryCursor.prepareRender(o);for(let b=0,V=this._secondaryCursors.length;b<V;b++)this._secondaryCursors[b].prepareRender(o)}render(o){const b=[];let V=0;const Z=this._primaryCursor.render(o);Z&&(b[V++]=Z);for(let Le=0,Re=this._secondaryCursors.length;Le<Re;Le++){const Ge=this._secondaryCursors[Le].render(o);Ge&&(b[V++]=Ge)}this._renderData=b}getLastRenderData(){return this._renderData}}return bt.BLINK_INTERVAL=500,bt})();(0,Bt.Ic)((bt,t)=>{const o=bt.getColor(xt.n0);if(o){let b=bt.getColor(xt.fY);b||(b=o.opposite()),t.addRule(`.monaco-editor .cursors-layer .cursor { background-color: ${o}; border-color: ${o}; color: ${b}; }`),(0,nt.c3)(bt.type)&&t.addRule(`.monaco-editor .cursors-layer.has-selection .cursor { border-left: 1px solid ${b}; border-right: 1px solid ${b}; }`)}});const Ls=()=>{throw new Error("Invalid change accessor")};class $l extends be{constructor(t){super(t);const o=this._context.configuration.options,b=o.get(142);this._lineHeight=o.get(65),this._contentWidth=b.contentWidth,this._contentLeft=b.contentLeft,this.domNode=(0,Ce.X)(document.createElement("div")),this.domNode.setClassName("view-zones"),this.domNode.setPosition("absolute"),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.marginDomNode=(0,Ce.X)(document.createElement("div")),this.marginDomNode.setClassName("margin-view-zones"),this.marginDomNode.setPosition("absolute"),this.marginDomNode.setAttribute("role","presentation"),this.marginDomNode.setAttribute("aria-hidden","true"),this._zones={}}dispose(){super.dispose(),this._zones={}}_recomputeWhitespacesProps(){const t=this._context.viewLayout.getWhitespaces(),o=new Map;for(const V of t)o.set(V.id,V);let b=!1;return this._context.viewModel.changeWhitespace(V=>{const Z=Object.keys(this._zones);for(let Le=0,Re=Z.length;Le<Re;Le++){const Ge=Z[Le],at=this._zones[Ge],vt=this._computeWhitespaceProps(at.delegate);at.isInHiddenArea=vt.isInHiddenArea;const Ct=o.get(Ge);Ct&&(Ct.afterLineNumber!==vt.afterViewLineNumber||Ct.height!==vt.heightInPx)&&(V.changeOneWhitespace(Ge,vt.afterViewLineNumber,vt.heightInPx),this._safeCallOnComputedHeight(at.delegate,vt.heightInPx),b=!0)}}),b}onConfigurationChanged(t){const o=this._context.configuration.options,b=o.get(142);return this._lineHeight=o.get(65),this._contentWidth=b.contentWidth,this._contentLeft=b.contentLeft,t.hasChanged(65)&&this._recomputeWhitespacesProps(),!0}onLineMappingChanged(t){return this._recomputeWhitespacesProps()}onLinesDeleted(t){return!0}onScrollChanged(t){return t.scrollTopChanged||t.scrollWidthChanged}onZonesChanged(t){return!0}onLinesInserted(t){return!0}_getZoneOrdinal(t){var o,b;return null!==(b=null!==(o=t.ordinal)&&void 0!==o?o:t.afterColumn)&&void 0!==b?b:1e4}_computeWhitespaceProps(t){if(0===t.afterLineNumber)return{isInHiddenArea:!1,afterViewLineNumber:0,heightInPx:this._heightInPixels(t),minWidthInPx:this._minWidthInPixels(t)};let o,b;if(typeof t.afterColumn<"u")o=this._context.viewModel.model.validatePosition({lineNumber:t.afterLineNumber,column:t.afterColumn});else{const Le=this._context.viewModel.model.validatePosition({lineNumber:t.afterLineNumber,column:1}).lineNumber;o=new le.L(Le,this._context.viewModel.model.getLineMaxColumn(Le))}b=o.column===this._context.viewModel.model.getLineMaxColumn(o.lineNumber)?this._context.viewModel.model.validatePosition({lineNumber:o.lineNumber+1,column:1}):this._context.viewModel.model.validatePosition({lineNumber:o.lineNumber,column:o.column+1});const V=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(o,t.afterColumnAffinity,!0),Z=t.showInHiddenAreas||this._context.viewModel.coordinatesConverter.modelPositionIsVisible(b);return{isInHiddenArea:!Z,afterViewLineNumber:V.lineNumber,heightInPx:Z?this._heightInPixels(t):0,minWidthInPx:this._minWidthInPixels(t)}}changeViewZones(t){let o=!1;return this._context.viewModel.changeWhitespace(b=>{const V={addZone:Z=>(o=!0,this._addZone(b,Z)),removeZone:Z=>{Z&&(o=this._removeZone(b,Z)||o)},layoutZone:Z=>{Z&&(o=this._layoutZone(b,Z)||o)}};(function hl(bt,t){try{return bt(t)}catch(o){(0,k.dL)(o)}})(t,V),V.addZone=Ls,V.removeZone=Ls,V.layoutZone=Ls}),o}_addZone(t,o){const b=this._computeWhitespaceProps(o),Z={whitespaceId:t.insertWhitespace(b.afterViewLineNumber,this._getZoneOrdinal(o),b.heightInPx,b.minWidthInPx),delegate:o,isInHiddenArea:b.isInHiddenArea,isVisible:!1,domNode:(0,Ce.X)(o.domNode),marginDomNode:o.marginDomNode?(0,Ce.X)(o.marginDomNode):null};return this._safeCallOnComputedHeight(Z.delegate,b.heightInPx),Z.domNode.setPosition("absolute"),Z.domNode.domNode.style.width="100%",Z.domNode.setDisplay("none"),Z.domNode.setAttribute("monaco-view-zone",Z.whitespaceId),this.domNode.appendChild(Z.domNode),Z.marginDomNode&&(Z.marginDomNode.setPosition("absolute"),Z.marginDomNode.domNode.style.width="100%",Z.marginDomNode.setDisplay("none"),Z.marginDomNode.setAttribute("monaco-view-zone",Z.whitespaceId),this.marginDomNode.appendChild(Z.marginDomNode)),this._zones[Z.whitespaceId]=Z,this.setShouldRender(),Z.whitespaceId}_removeZone(t,o){if(this._zones.hasOwnProperty(o)){const b=this._zones[o];return delete this._zones[o],t.removeWhitespace(b.whitespaceId),b.domNode.removeAttribute("monaco-visible-view-zone"),b.domNode.removeAttribute("monaco-view-zone"),b.domNode.domNode.parentNode.removeChild(b.domNode.domNode),b.marginDomNode&&(b.marginDomNode.removeAttribute("monaco-visible-view-zone"),b.marginDomNode.removeAttribute("monaco-view-zone"),b.marginDomNode.domNode.parentNode.removeChild(b.marginDomNode.domNode)),this.setShouldRender(),!0}return!1}_layoutZone(t,o){if(this._zones.hasOwnProperty(o)){const b=this._zones[o],V=this._computeWhitespaceProps(b.delegate);return b.isInHiddenArea=V.isInHiddenArea,t.changeOneWhitespace(b.whitespaceId,V.afterViewLineNumber,V.heightInPx),this._safeCallOnComputedHeight(b.delegate,V.heightInPx),this.setShouldRender(),!0}return!1}shouldSuppressMouseDownOnViewZone(t){return!!this._zones.hasOwnProperty(t)&&!!this._zones[t].delegate.suppressMouseDown}_heightInPixels(t){return"number"==typeof t.heightInPx?t.heightInPx:"number"==typeof t.heightInLines?this._lineHeight*t.heightInLines:this._lineHeight}_minWidthInPixels(t){return"number"==typeof t.minWidthInPx?t.minWidthInPx:0}_safeCallOnComputedHeight(t,o){if("function"==typeof t.onComputedHeight)try{t.onComputedHeight(o)}catch(b){(0,k.dL)(b)}}_safeCallOnDomNodeTop(t,o){if("function"==typeof t.onDomNodeTop)try{t.onDomNodeTop(o)}catch(b){(0,k.dL)(b)}}prepareRender(t){}render(t){const o=t.viewportData.whitespaceViewportData,b={};let V=!1;for(const Le of o)this._zones[Le.id].isInHiddenArea||(b[Le.id]=Le,V=!0);const Z=Object.keys(this._zones);for(let Le=0,Re=Z.length;Le<Re;Le++){const Ge=Z[Le],at=this._zones[Ge];let vt=0,Ct=0,Vt="none";b.hasOwnProperty(Ge)?(vt=b[Ge].verticalOffset-t.bigNumbersDelta,Ct=b[Ge].height,Vt="block",at.isVisible||(at.domNode.setAttribute("monaco-visible-view-zone","true"),at.isVisible=!0),this._safeCallOnDomNodeTop(at.delegate,t.getScrolledTopFromAbsoluteTop(b[Ge].verticalOffset))):(at.isVisible&&(at.domNode.removeAttribute("monaco-visible-view-zone"),at.isVisible=!1),this._safeCallOnDomNodeTop(at.delegate,t.getScrolledTopFromAbsoluteTop(-1e6))),at.domNode.setTop(vt),at.domNode.setHeight(Ct),at.domNode.setDisplay(Vt),at.marginDomNode&&(at.marginDomNode.setTop(vt),at.marginDomNode.setHeight(Ct),at.marginDomNode.setDisplay(Vt))}V&&(this.domNode.setWidth(Math.max(t.scrollWidth,this._contentWidth)),this.marginDomNode.setWidth(this._contentLeft))}}class La{get type(){return this._theme.type}get value(){return this._theme}constructor(t){this._theme=t}update(t){this._theme=t}getColor(t){return this._theme.getColor(t)}}class ar{constructor(t,o,b){this.configuration=t,this.theme=new La(o),this.viewModel=b,this.viewLayout=b.viewLayout}addEventHandler(t){this.viewModel.addViewEventHandler(t)}removeEventHandler(t){this.viewModel.removeViewEventHandler(t)}}class Gr{constructor(t,o,b,V){this.selections=t,this.startLineNumber=0|o.startLineNumber,this.endLineNumber=0|o.endLineNumber,this.relativeVerticalOffset=o.relativeVerticalOffset,this.bigNumbersDelta=0|o.bigNumbersDelta,this.whitespaceViewportData=b,this._model=V,this.visibleRange=new ie.e(o.startLineNumber,this._model.getLineMinColumn(o.startLineNumber),o.endLineNumber,this._model.getLineMaxColumn(o.endLineNumber))}getViewLineRenderingData(t){return this._model.getViewportViewLineRenderingData(this.visibleRange,t)}getDecorationsInViewport(){return this._model.getDecorationsInViewport(this.visibleRange)}}var Zr=e(29463),Es={};Es.styleTagTransform=m(),Es.setAttributes=g(),Es.insert=c().bind(null,"head"),Es.domAPI=L(),Es.insertStyleElement=d(),T()(Zr.Z,Es);class Yr extends be{constructor(t){super(t),this.blocks=[],this.contentWidth=-1,this.contentLeft=0,this.domNode=(0,Ce.X)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("blockDecorations-container"),this.update()}update(){let t=!1;const b=this._context.configuration.options.get(142),V=b.contentWidth-b.verticalScrollbarWidth;this.contentWidth!==V&&(this.contentWidth=V,t=!0);const Z=b.contentLeft;return this.contentLeft!==Z&&(this.contentLeft=Z,t=!0),t}dispose(){super.dispose()}onConfigurationChanged(t){return this.update()}onScrollChanged(t){return t.scrollTopChanged||t.scrollLeftChanged}onDecorationsChanged(t){return!0}onZonesChanged(t){return!0}prepareRender(t){}render(t){var o;let b=0;const V=t.getDecorationsInViewport();for(const Z of V){if(!Z.options.blockClassName)continue;let Re,Ge,Le=this.blocks[b];Le||(Le=this.blocks[b]=(0,Ce.X)(document.createElement("div")),this.domNode.appendChild(Le)),Z.options.blockIsAfterEnd?(Re=t.getVerticalOffsetAfterLineNumber(Z.range.endLineNumber,!1),Ge=t.getVerticalOffsetAfterLineNumber(Z.range.endLineNumber,!0)):(Re=t.getVerticalOffsetForLineNumber(Z.range.startLineNumber,!0),Ge=Z.range.isEmpty()&&!Z.options.blockDoesNotCollapse?t.getVerticalOffsetForLineNumber(Z.range.startLineNumber,!1):t.getVerticalOffsetAfterLineNumber(Z.range.endLineNumber,!0));const[at,vt,Ct,Vt]=null!==(o=Z.options.blockPadding)&&void 0!==o?o:[0,0,0,0];Le.setClassName("blockDecorations-block "+Z.options.blockClassName),Le.setLeft(this.contentLeft-Vt),Le.setWidth(this.contentWidth+Vt+vt),Le.setTop(Re-t.scrollTop-at),Le.setHeight(Ge-Re+at+Ct),b++}for(let Z=b;Z<this.blocks.length;Z++)this.blocks[Z].domNode.remove();this.blocks.length=b}}var Ea=e(81308),lr=e(19991),Is={};Is.styleTagTransform=m(),Is.setAttributes=g(),Is.insert=c().bind(null,"head"),Is.domAPI=L(),Is.insertStyleElement=d(),T()(lr.Z,Is);var Gl=e(82911);class ul extends wt{constructor(t){super(),this._context=t,this._options=new Pr(this._context.configuration),this._selection=[],this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(t){const o=new Pr(this._context.configuration);return this._options.equals(o)?t.hasChanged(142):(this._options=o,!0)}onCursorStateChanged(t){return this._selection=t.selections,"selection"===this._options.renderWhitespace}onDecorationsChanged(t){return!0}onFlushed(t){return!0}onLinesChanged(t){return!0}onLinesDeleted(t){return!0}onLinesInserted(t){return!0}onScrollChanged(t){return t.scrollTopChanged}onZonesChanged(t){return!0}prepareRender(t){if("none"===this._options.renderWhitespace)return void(this._renderResult=null);const V=t.visibleRange.endLineNumber-t.visibleRange.startLineNumber+1,Z=new Array(V);for(let Re=0;Re<V;Re++)Z[Re]=!0;const Le=this._context.viewModel.getMinimapLinesRenderingData(t.viewportData.startLineNumber,t.viewportData.endLineNumber,Z);this._renderResult=[];for(let Re=t.viewportData.startLineNumber;Re<=t.viewportData.endLineNumber;Re++){const Ge=Re-t.viewportData.startLineNumber,at=Le.data[Ge];let vt=null;if("selection"===this._options.renderWhitespace){const Ct=this._selection;for(const Vt of Ct){if(Vt.endLineNumber<Re||Vt.startLineNumber>Re)continue;const Ht=Vt.startLineNumber===Re?Vt.startColumn:at.minColumn,ei=Vt.endLineNumber===Re?Vt.endColumn:at.maxColumn;Ht<ei&&(vt||(vt=[]),vt.push(new Gl.zG(Ht-1,ei-1)))}}this._renderResult[Ge]=this._applyRenderWhitespace(t,Re,vt,at)}}_applyRenderWhitespace(t,o,b,V){if("selection"===this._options.renderWhitespace&&!b||"trailing"===this._options.renderWhitespace&&V.continuesWithWrappedLine)return"";const Z=this._context.theme.getColor(xt.dI),Le=this._options.renderWithSVG,Re=V.content,Ge=-1===this._options.stopRenderingLineAfter?Re.length:Math.min(this._options.stopRenderingLineAfter,Re.length),at=V.continuesWithWrappedLine,vt=V.minColumn-1,Ct="boundary"===this._options.renderWhitespace,Vt="trailing"===this._options.renderWhitespace,Ht=this._options.lineHeight,ei=this._options.middotWidth,wi=this._options.spaceWidth,Ji=Math.abs(this._options.wsmiddotWidth-wi)<Math.abs(ei-wi)?11825:183,un=this._options.canUseHalfwidthRightwardsArrow;let Mn,En="",mn=!1,Tn=St.LC(Re);-1===Tn?(mn=!0,Tn=Ge,Mn=Ge):Mn=St.ow(Re);let dn=0,In=b&&b[dn],Vn=0;for(let jn=vt;jn<Ge;jn++){const Zn=Re.charCodeAt(jn);if(In&&jn>=In.endOffset&&(dn++,In=b&&b[dn]),9!==Zn&&32!==Zn||Vt&&!mn&&jn<=Mn)continue;if(Ct&&jn>=Tn&&jn<=Mn&&32===Zn){const go=jn-1>=0?Re.charCodeAt(jn-1):0,To=jn+1<Ge?Re.charCodeAt(jn+1):0;if(32!==go&&32!==To)continue}if(Ct&&at&&jn===Ge-1){const go=jn-1>=0?Re.charCodeAt(jn-1):0;if(32===Zn&&32!==go&&9!==go)continue}if(b&&(!In||In.startOffset>jn||In.endOffset<=jn))continue;const uo=t.visibleRangeForPosition(new le.L(o,jn+1));uo&&(Le?(Vn=Math.max(Vn,uo.left),En+=9===Zn?this._renderArrow(Ht,wi,uo.left):`<circle cx="${(uo.left+wi/2).toFixed(2)}" cy="${(Ht/2).toFixed(2)}" r="${(wi/7).toFixed(2)}" />`):En+=9===Zn?`<div class="mwh" style="left:${uo.left}px;height:${Ht}px;">${String.fromCharCode(un?65515:8594)}</div>`:`<div class="mwh" style="left:${uo.left}px;height:${Ht}px;">${String.fromCharCode(Ji)}</div>`)}return Le?(Vn=Math.round(Vn+wi),`<svg style="position:absolute;width:${Vn}px;height:${Ht}px" viewBox="0 0 ${Vn} ${Ht}" xmlns="http://www.w3.org/2000/svg" fill="${Z}">`+En+"</svg>"):En}_renderArrow(t,o,b){const Le=t/2,Re=b,Ge={x:0,y:o/7/2},at={x:.8*o,y:Ge.y},vt={x:at.x-.2*at.x,y:at.y+.2*at.x},Ct={x:vt.x+.1*at.x,y:vt.y+.1*at.x},Vt={x:Ct.x+.35*at.x,y:Ct.y-.35*at.x};return`<path d="M ${[Ge,at,vt,Ct,Vt,{x:Vt.x,y:-Vt.y},{x:Ct.x,y:-Ct.y},{x:vt.x,y:-vt.y},{x:at.x,y:-at.y},{x:Ge.x,y:-Ge.y}].map(un=>`${(Re+un.x).toFixed(2)} ${(Le+un.y).toFixed(2)}`).join(" L ")}" />`}render(t,o){if(!this._renderResult)return"";const b=o-t;return b<0||b>=this._renderResult.length?"":this._renderResult[b]}}class Pr{constructor(t){const o=t.options,b=o.get(49),V=o.get(37);"off"===V?(this.renderWhitespace="none",this.renderWithSVG=!1):"svg"===V?(this.renderWhitespace=o.get(97),this.renderWithSVG=!0):(this.renderWhitespace=o.get(97),this.renderWithSVG=!1),this.spaceWidth=b.spaceWidth,this.middotWidth=b.middotWidth,this.wsmiddotWidth=b.wsmiddotWidth,this.canUseHalfwidthRightwardsArrow=b.canUseHalfwidthRightwardsArrow,this.lineHeight=o.get(65),this.stopRenderingLineAfter=o.get(115)}equals(t){return this.renderWhitespace===t.renderWhitespace&&this.renderWithSVG===t.renderWithSVG&&this.spaceWidth===t.spaceWidth&&this.middotWidth===t.middotWidth&&this.wsmiddotWidth===t.wsmiddotWidth&&this.canUseHalfwidthRightwardsArrow===t.canUseHalfwidthRightwardsArrow&&this.lineHeight===t.lineHeight&&this.stopRenderingLineAfter===t.stopRenderingLineAfter}}var $s=e(12065);let Da=class extends fe{constructor(t,o,b,V,Z,Le,Re){super(),this._instantiationService=Re,this._shouldRecomputeGlyphMarginLanes=!1,this._selections=[new F.Y(1,1,1,1)],this._renderAnimationFrame=null;const Ge=new bi(o,V,Z,t);this._context=new ar(o,b,V),this._context.addEventHandler(this),this._viewParts=[],this._textAreaHandler=this._instantiationService.createInstance(Wt,this._context,Ge,this._createTextAreaHandlerHelper()),this._viewParts.push(this._textAreaHandler),this._linesContent=(0,Ce.X)(document.createElement("div")),this._linesContent.setClassName("lines-content monaco-editor-background"),this._linesContent.setPosition("absolute"),this.domNode=(0,Ce.X)(document.createElement("div")),this.domNode.setClassName(this._getEditorClassName()),this.domNode.setAttribute("role","code"),this._overflowGuardContainer=(0,Ce.X)(document.createElement("div")),pe.write(this._overflowGuardContainer,3),this._overflowGuardContainer.setClassName("overflow-guard"),this._scrollbar=new qt(this._context,this._linesContent,this.domNode,this._overflowGuardContainer),this._viewParts.push(this._scrollbar),this._viewLines=new M(this._context,this._linesContent),this._viewZones=new $l(this._context),this._viewParts.push(this._viewZones);const at=new rs(this._context);this._viewParts.push(at);const vt=new gs(this._context);this._viewParts.push(vt);const Ct=new Xn(this._context);this._viewParts.push(Ct),Ct.addDynamicOverlay(new he(this._context)),Ct.addDynamicOverlay(new xo(this._context)),Ct.addDynamicOverlay(new si(this._context)),Ct.addDynamicOverlay(new mi(this._context)),Ct.addDynamicOverlay(new ul(this._context));const Vt=new Wn(this._context);this._viewParts.push(Vt),Vt.addDynamicOverlay(new Be(this._context)),Vt.addDynamicOverlay(new We(this._context)),Vt.addDynamicOverlay(new Ln(this._context)),Vt.addDynamicOverlay(new Qt(this._context)),this._glyphMarginWidgets=new Bi(this._context),this._viewParts.push(this._glyphMarginWidgets);const Ht=new Ki(this._context);Ht.getDomNode().appendChild(this._viewZones.marginDomNode),Ht.getDomNode().appendChild(Vt.getDomNode()),Ht.getDomNode().appendChild(this._glyphMarginWidgets.domNode),this._viewParts.push(Ht),this._contentWidgets=new eo(this._context,this.domNode),this._viewParts.push(this._contentWidgets),this._viewCursors=new rr(this._context),this._viewParts.push(this._viewCursors),this._overlayWidgets=new _o(this._context),this._viewParts.push(this._overlayWidgets);const ei=new Sa(this._context);this._viewParts.push(ei);const pi=new Yr(this._context);this._viewParts.push(pi);const wi=new ya(this._context);if(this._viewParts.push(wi),at){const Ni=this._scrollbar.getOverviewRulerLayoutInfo();Ni.parent.insertBefore(at.getDomNode(),Ni.insertBefore)}this._linesContent.appendChild(Ct.getDomNode()),this._linesContent.appendChild(ei.domNode),this._linesContent.appendChild(this._viewZones.domNode),this._linesContent.appendChild(this._viewLines.getDomNode()),this._linesContent.appendChild(this._contentWidgets.domNode),this._linesContent.appendChild(this._viewCursors.getDomNode()),this._overflowGuardContainer.appendChild(Ht.getDomNode()),this._overflowGuardContainer.appendChild(this._scrollbar.getDomNode()),this._overflowGuardContainer.appendChild(vt.getDomNode()),this._overflowGuardContainer.appendChild(this._textAreaHandler.textArea),this._overflowGuardContainer.appendChild(this._textAreaHandler.textAreaCover),this._overflowGuardContainer.appendChild(this._overlayWidgets.getDomNode()),this._overflowGuardContainer.appendChild(wi.getDomNode()),this._overflowGuardContainer.appendChild(pi.domNode),this.domNode.appendChild(this._overflowGuardContainer),Le?Le.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode.domNode):this.domNode.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode),this._applyLayout(),this._pointerHandler=this._register(new Ci(this._context,Ge,this._createPointerHandlerHelper()))}_flushAccumulatedAndRenderNow(){this._shouldRecomputeGlyphMarginLanes&&(this._shouldRecomputeGlyphMarginLanes=!1,this._context.configuration.setGlyphMarginDecorationLaneCount(this._computeGlyphMarginLaneCount())),Ea.B.onRenderStart(),this._renderNow()}_computeGlyphMarginLaneCount(){const t=this._context.viewModel.model;let o=[];o=o.concat(t.getAllMarginDecorations().map(Z=>{var Le,Re;const Ge=null!==(Re=null===(Le=Z.options.glyphMargin)||void 0===Le?void 0:Le.position)&&void 0!==Re?Re:$o.U.Left;return{range:Z.range,lane:Ge}})),o=o.concat(this._glyphMarginWidgets.getWidgets().map(Z=>({range:t.validateRange(Z.preference.range),lane:Z.preference.lane}))),o.sort((Z,Le)=>ie.e.compareRangesUsingStarts(Z.range,Le.range));let b=null,V=null;for(const Z of o)if(Z.lane===$o.U.Left&&(!b||ie.e.compareRangesUsingEnds(b,Z.range)<0)&&(b=Z.range),Z.lane===$o.U.Right&&(!V||ie.e.compareRangesUsingEnds(V,Z.range)<0)&&(V=Z.range),b&&V){if(b.endLineNumber<V.startLineNumber){b=null;continue}if(V.endLineNumber<b.startLineNumber){V=null;continue}return 2}return 1}_createPointerHandlerHelper(){return{viewDomNode:this.domNode.domNode,linesContentDomNode:this._linesContent.domNode,viewLinesDomNode:this._viewLines.getDomNode().domNode,focusTextArea:()=>{this.focus()},dispatchTextAreaEvent:t=>{this._textAreaHandler.textArea.domNode.dispatchEvent(t)},getLastRenderData:()=>{const t=this._viewCursors.getLastRenderData()||[],o=this._textAreaHandler.getLastRenderData();return new mt(t,o)},renderNow:()=>{this.render(!0,!1)},shouldSuppressMouseDownOnViewZone:t=>this._viewZones.shouldSuppressMouseDownOnViewZone(t),shouldSuppressMouseDownOnWidget:t=>this._contentWidgets.shouldSuppressMouseDownOnWidget(t),getPositionFromDOMInfo:(t,o)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getPositionFromDOMInfo(t,o)),visibleRangeForPosition:(t,o)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(new le.L(t,o))),getLineWidth:t=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getLineWidth(t))}}_createTextAreaHandlerHelper(){return{visibleRangeForPosition:t=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(t))}}_applyLayout(){const o=this._context.configuration.options.get(142);this.domNode.setWidth(o.width),this.domNode.setHeight(o.height),this._overflowGuardContainer.setWidth(o.width),this._overflowGuardContainer.setHeight(o.height),this._linesContent.setWidth(1e6),this._linesContent.setHeight(1e6)}_getEditorClassName(){const t=this._textAreaHandler.isFocused()?" focused":"";return this._context.configuration.options.get(139)+" "+(0,Bt.m6)(this._context.theme.type)+t}handleEvents(t){super.handleEvents(t),this._scheduleRender()}onConfigurationChanged(t){return this.domNode.setClassName(this._getEditorClassName()),this._applyLayout(),!1}onCursorStateChanged(t){return this._selections=t.selections,!1}onDecorationsChanged(t){return t.affectsGlyphMargin&&(this._shouldRecomputeGlyphMarginLanes=!0),!1}onFocusChanged(t){return this.domNode.setClassName(this._getEditorClassName()),!1}onThemeChanged(t){return this._context.theme.update(t.theme),this.domNode.setClassName(this._getEditorClassName()),!1}dispose(){null!==this._renderAnimationFrame&&(this._renderAnimationFrame.dispose(),this._renderAnimationFrame=null),this._contentWidgets.overflowingContentWidgetsDomNode.domNode.remove(),this._context.removeEventHandler(this),this._viewLines.dispose();for(const t of this._viewParts)t.dispose();super.dispose()}_scheduleRender(){null===this._renderAnimationFrame&&(this._renderAnimationFrame=A.lI(this._onRenderScheduled.bind(this),100))}_onRenderScheduled(){this._renderAnimationFrame=null,this._flushAccumulatedAndRenderNow()}_renderNow(){!function Gs(bt){try{return bt()}catch(t){(0,k.dL)(t)}}(()=>this._actualRender())}_getViewPartsToRender(){const t=[];let o=0;for(const b of this._viewParts)b.shouldRender()&&(t[o++]=b);return t}_actualRender(){if(!A.Uw(this.domNode.domNode))return;let t=this._getViewPartsToRender();if(!this._viewLines.shouldRender()&&0===t.length)return;const o=this._context.viewLayout.getLinesViewportData();this._context.viewModel.setViewport(o.startLineNumber,o.endLineNumber,o.centeredLineNumber);const b=new Gr(this._selections,o,this._context.viewLayout.getWhitespaceViewportData(),this._context.viewModel);this._contentWidgets.shouldRender()&&this._contentWidgets.onBeforeRender(b),this._viewLines.shouldRender()&&(this._viewLines.renderText(b),this._viewLines.onDidRender(),t=this._getViewPartsToRender());const V=new _i.xh(this._context.viewLayout,b,this._viewLines);for(const Z of t)Z.prepareRender(V);for(const Z of t)Z.render(V),Z.onDidRender()}delegateVerticalScrollbarPointerDown(t){this._scrollbar.delegateVerticalScrollbarPointerDown(t)}delegateScrollFromMouseWheelEvent(t){this._scrollbar.delegateScrollFromMouseWheelEvent(t)}restoreState(t){this._context.viewModel.viewLayout.setScrollPosition({scrollTop:t.scrollTop,scrollLeft:t.scrollLeft},1),this._context.viewModel.visibleLinesStabilized()}getOffsetForColumn(t,o){const b=this._context.viewModel.model.validatePosition({lineNumber:t,column:o}),V=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(b);this._flushAccumulatedAndRenderNow();const Z=this._viewLines.visibleRangeForPosition(new le.L(V.lineNumber,V.column));return Z?Z.left:-1}getTargetAtClientPoint(t,o){const b=this._pointerHandler.getTargetAtClientPoint(t,o);return b?Fi.convertViewToModelMouseTarget(b,this._context.viewModel.coordinatesConverter):null}createOverviewRuler(t){return new Kr(this._context,t)}change(t){this._viewZones.changeViewZones(t),this._scheduleRender()}render(t,o){if(o){this._viewLines.forceShouldRender();for(const b of this._viewParts)b.forceShouldRender()}t?this._flushAccumulatedAndRenderNow():this._scheduleRender()}writeScreenReaderContent(t){this._textAreaHandler.writeScreenReaderContent(t)}focus(){this._textAreaHandler.focusTextArea()}isFocused(){return this._textAreaHandler.isFocused()}setAriaOptions(t){this._textAreaHandler.setAriaOptions(t)}addContentWidget(t){this._contentWidgets.addWidget(t.widget),this.layoutContentWidget(t),this._scheduleRender()}layoutContentWidget(t){var o,b,V,Z,Le,Re,Ge,at;this._contentWidgets.setWidgetPosition(t.widget,null!==(b=null===(o=t.position)||void 0===o?void 0:o.position)&&void 0!==b?b:null,null!==(Z=null===(V=t.position)||void 0===V?void 0:V.secondaryPosition)&&void 0!==Z?Z:null,null!==(Re=null===(Le=t.position)||void 0===Le?void 0:Le.preference)&&void 0!==Re?Re:null,null!==(at=null===(Ge=t.position)||void 0===Ge?void 0:Ge.positionAffinity)&&void 0!==at?at:null),this._scheduleRender()}removeContentWidget(t){this._contentWidgets.removeWidget(t.widget),this._scheduleRender()}addOverlayWidget(t){this._overlayWidgets.addWidget(t.widget),this.layoutOverlayWidget(t),this._scheduleRender()}layoutOverlayWidget(t){this._overlayWidgets.setWidgetPosition(t.widget,t.position?t.position.preference:null)&&this._scheduleRender()}removeOverlayWidget(t){this._overlayWidgets.removeWidget(t.widget),this._scheduleRender()}addGlyphMarginWidget(t){this._glyphMarginWidgets.addWidget(t.widget),this._shouldRecomputeGlyphMarginLanes=!0,this._scheduleRender()}layoutGlyphMarginWidget(t){this._glyphMarginWidgets.setWidgetPosition(t.widget,t.position)&&(this._shouldRecomputeGlyphMarginLanes=!0,this._scheduleRender())}removeGlyphMarginWidget(t){this._glyphMarginWidgets.removeWidget(t.widget),this._shouldRecomputeGlyphMarginLanes=!0,this._scheduleRender()}};Da=function(bt,t,o,b){var Le,V=arguments.length,Z=V<3?t:null===b?b=Object.getOwnPropertyDescriptor(t,o):b;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Z=Reflect.decorate(bt,t,o,b);else for(var Re=bt.length-1;Re>=0;Re--)(Le=bt[Re])&&(Z=(V<3?Le(Z):V>3?Le(t,o,Z):Le(t,o))||Z);return V>3&&Z&&Object.defineProperty(t,o,Z),Z}([function(bt,t){return function(o,b){t(o,b,6)}}(0,$s.TG)],Da);var cr=e(52816),Zl=e(50144),vo=e(15446),gl=e(54267),No=e(5250);class hr{constructor(t){this._selTrackedRange=null,this._trackSelection=!0,this._setState(t,new No.rS(new ie.e(1,1,1,1),0,0,new le.L(1,1),0),new No.rS(new ie.e(1,1,1,1),0,0,new le.L(1,1),0))}dispose(t){this._removeTrackedRange(t)}startTrackingSelection(t){this._trackSelection=!0,this._updateTrackedRange(t)}stopTrackingSelection(t){this._trackSelection=!1,this._removeTrackedRange(t)}_updateTrackedRange(t){this._trackSelection&&(this._selTrackedRange=t.model._setTrackedRange(this._selTrackedRange,this.modelState.selection,0))}_removeTrackedRange(t){this._selTrackedRange=t.model._setTrackedRange(this._selTrackedRange,null,0)}asCursorState(){return new No.Vi(this.modelState,this.viewState)}readSelectionFromMarkers(t){const o=t.model._getTrackedRange(this._selTrackedRange);return this.modelState.selection.isEmpty()&&!o.isEmpty()?F.Y.fromRange(o.collapseToEnd(),this.modelState.selection.getDirection()):F.Y.fromRange(o,this.modelState.selection.getDirection())}ensureValidState(t){this._setState(t,this.modelState,this.viewState)}setState(t,o,b){this._setState(t,o,b)}static _validatePositionWithCache(t,o,b,V){return o.equals(b)?V:t.normalizePosition(o,2)}static _validateViewState(t,o){const b=o.position,V=o.selectionStart.getStartPosition(),Z=o.selectionStart.getEndPosition(),Le=t.normalizePosition(b,2),Re=this._validatePositionWithCache(t,V,b,Le),Ge=this._validatePositionWithCache(t,Z,V,Re);return b.equals(Le)&&V.equals(Re)&&Z.equals(Ge)?o:new No.rS(ie.e.fromPositions(Re,Ge),o.selectionStartKind,o.selectionStartLeftoverVisibleColumns+V.column-Re.column,Le,o.leftoverVisibleColumns+b.column-Le.column)}_setState(t,o,b){if(b&&(b=hr._validateViewState(t.viewModel,b)),o){const V=t.model.validateRange(o.selectionStart),Z=o.selectionStart.equalsRange(V)?o.selectionStartLeftoverVisibleColumns:0,Le=t.model.validatePosition(o.position),Re=o.position.equals(Le)?o.leftoverVisibleColumns:0;o=new No.rS(V,o.selectionStartKind,Z,Le,Re)}else{if(!b)return;const V=t.model.validateRange(t.coordinatesConverter.convertViewRangeToModelRange(b.selectionStart)),Z=t.model.validatePosition(t.coordinatesConverter.convertViewPositionToModelPosition(b.position));o=new No.rS(V,b.selectionStartKind,b.selectionStartLeftoverVisibleColumns,Z,b.leftoverVisibleColumns)}if(b){const V=t.coordinatesConverter.validateViewRange(b.selectionStart,o.selectionStart),Z=t.coordinatesConverter.validateViewPosition(b.position,o.position);b=new No.rS(V,o.selectionStartKind,o.selectionStartLeftoverVisibleColumns,Z,o.leftoverVisibleColumns)}else{const V=t.coordinatesConverter.convertModelPositionToViewPosition(new le.L(o.selectionStart.startLineNumber,o.selectionStart.startColumn)),Z=t.coordinatesConverter.convertModelPositionToViewPosition(new le.L(o.selectionStart.endLineNumber,o.selectionStart.endColumn)),Le=new ie.e(V.lineNumber,V.column,Z.lineNumber,Z.column),Re=t.coordinatesConverter.convertModelPositionToViewPosition(o.position);b=new No.rS(Le,o.selectionStartKind,o.selectionStartLeftoverVisibleColumns,Re,o.leftoverVisibleColumns)}this.modelState=o,this.viewState=b,this._updateTrackedRange(t)}}class ur{constructor(t){this.context=t,this.cursors=[new hr(t)],this.lastAddedCursorIndex=0}dispose(){for(const t of this.cursors)t.dispose(this.context)}startTrackingSelections(){for(const t of this.cursors)t.startTrackingSelection(this.context)}stopTrackingSelections(){for(const t of this.cursors)t.stopTrackingSelection(this.context)}updateContext(t){this.context=t}ensureValidState(){for(const t of this.cursors)t.ensureValidState(this.context)}readSelectionFromMarkers(){return this.cursors.map(t=>t.readSelectionFromMarkers(this.context))}getAll(){return this.cursors.map(t=>t.asCursorState())}getViewPositions(){return this.cursors.map(t=>t.viewState.position)}getTopMostViewPosition(){return(0,U.VJ)(this.cursors,(0,U.tT)(t=>t.viewState.position,le.L.compare)).viewState.position}getBottomMostViewPosition(){return(0,U.jV)(this.cursors,(0,U.tT)(t=>t.viewState.position,le.L.compare)).viewState.position}getSelections(){return this.cursors.map(t=>t.modelState.selection)}getViewSelections(){return this.cursors.map(t=>t.viewState.selection)}setSelections(t){this.setStates(No.Vi.fromModelSelections(t))}getPrimaryCursor(){return this.cursors[0].asCursorState()}setStates(t){null!==t&&(this.cursors[0].setState(this.context,t[0].modelState,t[0].viewState),this._setSecondaryStates(t.slice(1)))}_setSecondaryStates(t){const o=this.cursors.length-1,b=t.length;if(o<b){const V=b-o;for(let Z=0;Z<V;Z++)this._addSecondaryCursor()}else if(o>b){const V=o-b;for(let Z=0;Z<V;Z++)this._removeSecondaryCursor(this.cursors.length-2)}for(let V=0;V<b;V++)this.cursors[V+1].setState(this.context,t[V].modelState,t[V].viewState)}killSecondaryCursors(){this._setSecondaryStates([])}_addSecondaryCursor(){this.cursors.push(new hr(this.context)),this.lastAddedCursorIndex=this.cursors.length-1}getLastAddedCursorIndex(){return 1===this.cursors.length||0===this.lastAddedCursorIndex?0:this.lastAddedCursorIndex}_removeSecondaryCursor(t){this.lastAddedCursorIndex>=t+1&&this.lastAddedCursorIndex--,this.cursors[t+1].dispose(this.context),this.cursors.splice(t+1,1)}normalize(){if(1===this.cursors.length)return;const t=this.cursors.slice(0),o=[];for(let b=0,V=t.length;b<V;b++)o.push({index:b,selection:t[b].modelState.selection});o.sort((0,U.tT)(b=>b.selection,ie.e.compareRangesUsingStarts));for(let b=0;b<o.length-1;b++){const V=o[b],Z=o[b+1],Le=V.selection,Re=Z.selection;if(!this.context.cursorConfig.multiCursorMergeOverlapping)continue;let Ge;if(Ge=Re.isEmpty()||Le.isEmpty()?Re.getStartPosition().isBeforeOrEqual(Le.getEndPosition()):Re.getStartPosition().isBefore(Le.getEndPosition()),Ge){const at=V.index<Z.index?b:b+1,vt=V.index<Z.index?b+1:b,Ct=o[vt].index,Vt=o[at].index,Ht=o[vt].selection,ei=o[at].selection;if(!Ht.equalsSelection(ei)){const pi=Ht.plusRange(ei),Ni=ei.selectionStartLineNumber===ei.startLineNumber&&ei.selectionStartColumn===ei.startColumn;let Pi,Ji;Ct===this.lastAddedCursorIndex?(Pi=Ht.selectionStartLineNumber===Ht.startLineNumber&&Ht.selectionStartColumn===Ht.startColumn,this.lastAddedCursorIndex=Vt):Pi=Ni,Ji=Pi?new F.Y(pi.startLineNumber,pi.startColumn,pi.endLineNumber,pi.endColumn):new F.Y(pi.endLineNumber,pi.endColumn,pi.startLineNumber,pi.startColumn),o[at].selection=Ji;const un=No.Vi.fromModelSelection(Ji);t[Vt].setState(this.context,un.modelState,un.viewState)}for(const pi of o)pi.index>Ct&&pi.index--;t.splice(Ct,1),o.splice(vt,1),this._removeSecondaryCursor(Ct-1),b--}}}}class as{constructor(t,o,b,V){this._cursorContextBrand=void 0,this.model=t,this.viewModel=o,this.coordinatesConverter=b,this.cursorConfig=V}}var gr=e(71009),Ts=e(89593),Cs=e(23910);class Xr{constructor(){this.type=0}}class Ql{constructor(){this.type=1}}class Yl{constructor(t){this.type=2,this._source=t}hasChanged(t){return this._source.hasChanged(t)}}class Xl{constructor(t,o,b){this.selections=t,this.modelSelections=o,this.reason=b,this.type=3}}class fr{constructor(t){this.type=4,t?(this.affectsMinimap=t.affectsMinimap,this.affectsOverviewRuler=t.affectsOverviewRuler,this.affectsGlyphMargin=t.affectsGlyphMargin):(this.affectsMinimap=!0,this.affectsOverviewRuler=!0,this.affectsGlyphMargin=!0)}}class Jr{constructor(){this.type=5}}class fl{constructor(t){this.type=6,this.isFocused=t}}class Jl{constructor(){this.type=7}}class Zs{constructor(){this.type=8}}class xa{constructor(t,o){this.fromLineNumber=t,this.count=o,this.type=9}}class Ia{constructor(t,o){this.type=10,this.fromLineNumber=t,this.toLineNumber=o}}class Ta{constructor(t,o){this.type=11,this.fromLineNumber=t,this.toLineNumber=o}}class qr{constructor(t,o,b,V,Z,Le,Re){this.source=t,this.minimalReveal=o,this.range=b,this.selections=V,this.verticalType=Z,this.revealHorizontal=Le,this.scrollType=Re,this.type=12}}class ml{constructor(t){this.type=13,this.scrollWidth=t.scrollWidth,this.scrollLeft=t.scrollLeft,this.scrollHeight=t.scrollHeight,this.scrollTop=t.scrollTop,this.scrollWidthChanged=t.scrollWidthChanged,this.scrollLeftChanged=t.scrollLeftChanged,this.scrollHeightChanged=t.scrollHeightChanged,this.scrollTopChanged=t.scrollTopChanged}}class zo{constructor(t){this.theme=t,this.type=14}}class ql{constructor(t){this.type=15,this.ranges=t}}class Bo{constructor(){this.type=16}}class Na{constructor(){this.type=17}}class Ma extends O.JT{constructor(){super(),this._onEvent=this._register(new R.Q5),this.onEvent=this._onEvent.event,this._eventHandlers=[],this._viewEventQueue=null,this._isConsumingViewEventQueue=!1,this._collector=null,this._collectorCnt=0,this._outgoingEvents=[]}emitOutgoingEvent(t){this._addOutgoingEvent(t),this._emitOutgoingEvents()}_addOutgoingEvent(t){for(let o=0,b=this._outgoingEvents.length;o<b;o++){const V=this._outgoingEvents[o].kind===t.kind?this._outgoingEvents[o].attemptToMerge(t):null;if(V)return void(this._outgoingEvents[o]=V)}this._outgoingEvents.push(t)}_emitOutgoingEvents(){for(;this._outgoingEvents.length>0;){if(this._collector||this._isConsumingViewEventQueue)return;const t=this._outgoingEvents.shift();t.isNoOp()||this._onEvent.fire(t)}}addViewEventHandler(t){for(let o=0,b=this._eventHandlers.length;o<b;o++)this._eventHandlers[o]===t&&console.warn("Detected duplicate listener in ViewEventDispatcher",t);this._eventHandlers.push(t)}removeViewEventHandler(t){for(let o=0;o<this._eventHandlers.length;o++)if(this._eventHandlers[o]===t){this._eventHandlers.splice(o,1);break}}beginEmitViewEvents(){return this._collectorCnt++,1===this._collectorCnt&&(this._collector=new mr),this._collector}endEmitViewEvents(){if(this._collectorCnt--,0===this._collectorCnt){const t=this._collector.outgoingEvents,o=this._collector.viewEvents;this._collector=null;for(const b of t)this._addOutgoingEvent(b);o.length>0&&this._emitMany(o)}this._emitOutgoingEvents()}emitSingleViewEvent(t){try{this.beginEmitViewEvents().emitViewEvent(t)}finally{this.endEmitViewEvents()}}_emitMany(t){this._viewEventQueue=this._viewEventQueue?this._viewEventQueue.concat(t):t,this._isConsumingViewEventQueue||this._consumeViewEventQueue()}_consumeViewEventQueue(){try{this._isConsumingViewEventQueue=!0,this._doConsumeQueue()}finally{this._isConsumingViewEventQueue=!1}}_doConsumeQueue(){for(;this._viewEventQueue;){const t=this._viewEventQueue;this._viewEventQueue=null;const o=this._eventHandlers.slice(0);for(const b of o)b.handleEvents(t)}}}class mr{constructor(){this.viewEvents=[],this.outgoingEvents=[]}emitViewEvent(t){this.viewEvents.push(t)}emitOutgoingEvent(t){this.outgoingEvents.push(t)}}class Ws{constructor(t,o,b,V){this.kind=0,this._oldContentWidth=t,this._oldContentHeight=o,this.contentWidth=b,this.contentHeight=V,this.contentWidthChanged=this._oldContentWidth!==this.contentWidth,this.contentHeightChanged=this._oldContentHeight!==this.contentHeight}isNoOp(){return!this.contentWidthChanged&&!this.contentHeightChanged}attemptToMerge(t){return t.kind!==this.kind?null:new Ws(this._oldContentWidth,this._oldContentHeight,t.contentWidth,t.contentHeight)}}class ea{constructor(t,o){this.kind=1,this.oldHasFocus=t,this.hasFocus=o}isNoOp(){return this.oldHasFocus===this.hasFocus}attemptToMerge(t){return t.kind!==this.kind?null:new ea(this.oldHasFocus,t.hasFocus)}}class ta{constructor(t,o,b,V,Z,Le,Re,Ge){this.kind=2,this._oldScrollWidth=t,this._oldScrollLeft=o,this._oldScrollHeight=b,this._oldScrollTop=V,this.scrollWidth=Z,this.scrollLeft=Le,this.scrollHeight=Re,this.scrollTop=Ge,this.scrollWidthChanged=this._oldScrollWidth!==this.scrollWidth,this.scrollLeftChanged=this._oldScrollLeft!==this.scrollLeft,this.scrollHeightChanged=this._oldScrollHeight!==this.scrollHeight,this.scrollTopChanged=this._oldScrollTop!==this.scrollTop}isNoOp(){return!(this.scrollWidthChanged||this.scrollLeftChanged||this.scrollHeightChanged||this.scrollTopChanged)}attemptToMerge(t){return t.kind!==this.kind?null:new ta(this._oldScrollWidth,this._oldScrollLeft,this._oldScrollHeight,this._oldScrollTop,t.scrollWidth,t.scrollLeft,t.scrollHeight,t.scrollTop)}}class jo{constructor(){this.kind=3}isNoOp(){return!1}attemptToMerge(t){return t.kind!==this.kind?null:this}}class ls{constructor(){this.kind=4}isNoOp(){return!1}attemptToMerge(t){return t.kind!==this.kind?null:this}}class ds{constructor(t,o,b,V,Z,Le,Re){this.kind=6,this.oldSelections=t,this.selections=o,this.oldModelVersionId=b,this.modelVersionId=V,this.source=Z,this.reason=Le,this.reachedMaxCursorCount=Re}static _selectionsAreEqual(t,o){if(!t&&!o)return!0;if(!t||!o)return!1;const b=t.length;if(b!==o.length)return!1;for(let Z=0;Z<b;Z++)if(!t[Z].equalsSelection(o[Z]))return!1;return!0}isNoOp(){return ds._selectionsAreEqual(this.oldSelections,this.selections)&&this.oldModelVersionId===this.modelVersionId}attemptToMerge(t){return t.kind!==this.kind?null:new ds(this.oldSelections,t.selections,this.oldModelVersionId,t.modelVersionId,t.source,t.reason,this.reachedMaxCursorCount||t.reachedMaxCursorCount)}}class Aa{constructor(){this.kind=5}isNoOp(){return!1}attemptToMerge(t){return t.kind!==this.kind?null:this}}class Ra{constructor(t){this.event=t,this.kind=7}isNoOp(){return!1}attemptToMerge(t){return null}}class Pa{constructor(t){this.event=t,this.kind=8}isNoOp(){return!1}attemptToMerge(t){return null}}class pr{constructor(t){this.event=t,this.kind=9}isNoOp(){return!1}attemptToMerge(t){return null}}class pl{constructor(t){this.event=t,this.kind=10}isNoOp(){return!1}attemptToMerge(t){return null}}class vl{constructor(t){this.event=t,this.kind=11}isNoOp(){return!1}attemptToMerge(t){return null}}class _l{constructor(t){this.event=t,this.kind=12}isNoOp(){return!1}attemptToMerge(t){return null}}class ed extends O.JT{constructor(t,o,b,V){super(),this._model=t,this._knownModelVersionId=this._model.getVersionId(),this._viewModel=o,this._coordinatesConverter=b,this.context=new as(this._model,this._viewModel,this._coordinatesConverter,V),this._cursors=new ur(this.context),this._hasFocus=!1,this._isHandling=!1,this._compositionState=null,this._columnSelectData=null,this._autoClosedActions=[],this._prevEditOperationType=0}dispose(){this._cursors.dispose(),this._autoClosedActions=(0,O.B9)(this._autoClosedActions),super.dispose()}updateConfiguration(t){this.context=new as(this._model,this._viewModel,this._coordinatesConverter,t),this._cursors.updateContext(this.context)}onLineMappingChanged(t){this._knownModelVersionId===this._model.getVersionId()&&this.setStates(t,"viewModel",0,this.getCursorStates())}setHasFocus(t){this._hasFocus=t}_validateAutoClosedActions(){if(this._autoClosedActions.length>0){const t=this._cursors.getSelections();for(let o=0;o<this._autoClosedActions.length;o++){const b=this._autoClosedActions[o];b.isValid(t)||(b.dispose(),this._autoClosedActions.splice(o,1),o--)}}}getPrimaryCursorState(){return this._cursors.getPrimaryCursor()}getLastAddedCursorIndex(){return this._cursors.getLastAddedCursorIndex()}getCursorStates(){return this._cursors.getAll()}setStates(t,o,b,V){let Z=!1;const Le=this.context.cursorConfig.multiCursorLimit;null!==V&&V.length>Le&&(V=V.slice(0,Le),Z=!0);const Re=vr.from(this._model,this);return this._cursors.setStates(V),this._cursors.normalize(),this._columnSelectData=null,this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(t,o,b,Re,Z)}setCursorColumnSelectData(t){this._columnSelectData=t}revealPrimary(t,o,b,V,Z,Le){const Re=this._cursors.getViewPositions();let Ge=null,at=null;Re.length>1?at=this._cursors.getViewSelections():Ge=ie.e.fromPositions(Re[0],Re[0]),t.emitViewEvent(new qr(o,b,Ge,at,V,Z,Le))}saveState(){const t=[],o=this._cursors.getSelections();for(let b=0,V=o.length;b<V;b++){const Z=o[b];t.push({inSelectionMode:!Z.isEmpty(),selectionStart:{lineNumber:Z.selectionStartLineNumber,column:Z.selectionStartColumn},position:{lineNumber:Z.positionLineNumber,column:Z.positionColumn}})}return t}restoreState(t,o){const b=[];for(let V=0,Z=o.length;V<Z;V++){const Le=o[V];let Re=1,Ge=1;Le.position&&Le.position.lineNumber&&(Re=Le.position.lineNumber),Le.position&&Le.position.column&&(Ge=Le.position.column);let at=Re,vt=Ge;Le.selectionStart&&Le.selectionStart.lineNumber&&(at=Le.selectionStart.lineNumber),Le.selectionStart&&Le.selectionStart.column&&(vt=Le.selectionStart.column),b.push({selectionStartLineNumber:at,selectionStartColumn:vt,positionLineNumber:Re,positionColumn:Ge})}this.setStates(t,"restoreState",0,No.Vi.fromModelSelections(b)),this.revealPrimary(t,"restoreState",!1,0,!0,1)}onModelContentChanged(t,o){if(o instanceof Cs.D8){if(this._isHandling)return;this._isHandling=!0;try{this.setStates(t,"modelChange",0,this.getCursorStates())}finally{this._isHandling=!1}}else{const b=o.rawContentChangedEvent;if(this._knownModelVersionId=b.versionId,this._isHandling)return;const V=b.containsEvent(1);if(this._prevEditOperationType=0,V)this._cursors.dispose(),this._cursors=new ur(this.context),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(t,"model",1,null,!1);else if(this._hasFocus&&b.resultingSelection&&b.resultingSelection.length>0){const Z=No.Vi.fromModelSelections(b.resultingSelection);this.setStates(t,"modelChange",b.isUndoing?5:b.isRedoing?6:2,Z)&&this.revealPrimary(t,"modelChange",!1,0,!0,0)}else{const Z=this._cursors.readSelectionFromMarkers();this.setStates(t,"modelChange",2,No.Vi.fromModelSelections(Z))}}}getSelection(){return this._cursors.getPrimaryCursor().modelState.selection}getTopMostViewPosition(){return this._cursors.getTopMostViewPosition()}getBottomMostViewPosition(){return this._cursors.getBottomMostViewPosition()}getCursorColumnSelectData(){if(this._columnSelectData)return this._columnSelectData;const t=this._cursors.getPrimaryCursor(),o=t.viewState.selectionStart.getStartPosition(),b=t.viewState.position;return{isReal:!1,fromViewLineNumber:o.lineNumber,fromViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,o),toViewLineNumber:b.lineNumber,toViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,b)}}getSelections(){return this._cursors.getSelections()}setSelections(t,o,b,V){this.setStates(t,o,V,No.Vi.fromModelSelections(b))}getPrevEditOperationType(){return this._prevEditOperationType}setPrevEditOperationType(t){this._prevEditOperationType=t}_pushAutoClosedAction(t,o){const b=[],V=[];for(let Re=0,Ge=t.length;Re<Ge;Re++)b.push({range:t[Re],options:{description:"auto-closed-character",inlineClassName:"auto-closed-character",stickiness:1}}),V.push({range:o[Re],options:{description:"auto-closed-enclosing",stickiness:1}});const Z=this._model.deltaDecorations([],b),Le=this._model.deltaDecorations([],V);this._autoClosedActions.push(new Cl(this._model,Z,Le))}_executeEditOperation(t){if(!t)return;t.shouldPushStackElementBefore&&this._model.pushStackElement();const o=Vs.executeCommands(this._model,this._cursors.getSelections(),t.commands);if(o){this._interpretCommandResult(o);const b=[],V=[];for(let Z=0;Z<t.commands.length;Z++){const Le=t.commands[Z];Le instanceof Ts.g_&&Le.enclosingRange&&Le.closeCharacterRange&&(b.push(Le.closeCharacterRange),V.push(Le.enclosingRange))}b.length>0&&this._pushAutoClosedAction(b,V),this._prevEditOperationType=t.type}t.shouldPushStackElementAfter&&this._model.pushStackElement()}_interpretCommandResult(t){(!t||0===t.length)&&(t=this._cursors.readSelectionFromMarkers()),this._columnSelectData=null,this._cursors.setSelections(t),this._cursors.normalize()}_emitStateChangedIfNecessary(t,o,b,V,Z){const Le=vr.from(this._model,this);if(Le.equals(V))return!1;const Re=this._cursors.getSelections(),Ge=this._cursors.getViewSelections();if(t.emitViewEvent(new Xl(Ge,Re,b)),!V||V.cursorState.length!==Le.cursorState.length||Le.cursorState.some((at,vt)=>!at.modelState.equals(V.cursorState[vt].modelState))){const at=V?V.cursorState.map(Ct=>Ct.modelState.selection):null;t.emitOutgoingEvent(new ds(at,Re,V?V.modelVersionId:0,Le.modelVersionId,o||"keyboard",b,Z))}return!0}_findAutoClosingPairs(t){if(!t.length)return null;const o=[];for(let b=0,V=t.length;b<V;b++){const Z=t[b];if(!Z.text||Z.text.indexOf("\n")>=0)return null;const Le=Z.text.match(/([)\]}>'"`])([^)\]}>'"`]*)$/);if(!Le)return null;const Ge=this.context.cursorConfig.autoClosingPairs.autoClosingPairsCloseSingleChar.get(Le[1]);if(!Ge||1!==Ge.length)return null;const vt=Z.text.length-Le[2].length-1,Ct=Z.text.lastIndexOf(Ge[0].open,vt-1);if(-1===Ct)return null;o.push([Ct,vt])}return o}executeEdits(t,o,b,V){let Z=null;"snippet"===o&&(Z=this._findAutoClosingPairs(b)),Z&&(b[0]._isTracked=!0);const Le=[],Re=[],Ge=this._model.pushEditOperations(this.getSelections(),b,at=>{if(Z)for(let Ct=0,Vt=Z.length;Ct<Vt;Ct++){const[Ht,ei]=Z[Ct],pi=at[Ct],wi=pi.range.startLineNumber,Ni=pi.range.startColumn-1+Ht,Pi=pi.range.startColumn-1+ei;Le.push(new ie.e(wi,Pi+1,wi,Pi+2)),Re.push(new ie.e(wi,Ni+1,wi,Pi+2))}const vt=V(at);return vt&&(this._isHandling=!0),vt});Ge&&(this._isHandling=!1,this.setSelections(t,o,Ge,0)),Le.length>0&&this._pushAutoClosedAction(Le,Re)}_executeEdit(t,o,b,V=0){if(this.context.cursorConfig.readOnly)return;const Z=vr.from(this._model,this);this._cursors.stopTrackingSelections(),this._isHandling=!0;try{this._cursors.ensureValidState(),t()}catch(Le){(0,k.dL)(Le)}this._isHandling=!1,this._cursors.startTrackingSelections(),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(o,b,V,Z,!1)&&this.revealPrimary(o,b,!1,0,!0,0)}getAutoClosedCharacters(){return Cl.getAllAutoClosedCharacters(this._autoClosedActions)}startComposition(t){this._compositionState=new Or(this._model,this.getSelections())}endComposition(t,o){const b=this._compositionState?this._compositionState.deduceOutcome(this._model,this.getSelections()):null;this._compositionState=null,this._executeEdit(()=>{"keyboard"===o&&this._executeEditOperation(Ts.u6.compositionEndWithInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,b,this.getSelections(),this.getAutoClosedCharacters()))},t,o)}type(t,o,b){this._executeEdit(()=>{if("keyboard"===b){const V=o.length;let Z=0;for(;Z<V;){const Le=St.vH(o,Z),Re=o.substr(Z,Le);this._executeEditOperation(Ts.u6.typeWithInterceptors(!!this._compositionState,this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),this.getAutoClosedCharacters(),Re)),Z+=Le}}else this._executeEditOperation(Ts.u6.typeWithoutInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),o))},t,b)}compositionType(t,o,b,V,Z,Le){if(0!==o.length||0!==b||0!==V)this._executeEdit(()=>{this._executeEditOperation(Ts.u6.compositionType(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),o,b,V,Z))},t,Le);else if(0!==Z){const Re=this.getSelections().map(Ge=>{const at=Ge.getPosition();return new F.Y(at.lineNumber,at.column+Z,at.lineNumber,at.column+Z)});this.setSelections(t,Le,Re,0)}}paste(t,o,b,V,Z){this._executeEdit(()=>{this._executeEditOperation(Ts.u6.paste(this.context.cursorConfig,this._model,this.getSelections(),o,b,V||[]))},t,Z,4)}cut(t,o){this._executeEdit(()=>{this._executeEditOperation(gr.A.cut(this.context.cursorConfig,this._model,this.getSelections()))},t,o)}executeCommand(t,o,b){this._executeEdit(()=>{this._cursors.killSecondaryCursors(),this._executeEditOperation(new No.Tp(0,[o],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},t,b)}executeCommands(t,o,b){this._executeEdit(()=>{this._executeEditOperation(new No.Tp(0,o,{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},t,b)}}class vr{static from(t,o){return new vr(t.getVersionId(),o.getCursorStates())}constructor(t,o){this.modelVersionId=t,this.cursorState=o}equals(t){if(!t||this.modelVersionId!==t.modelVersionId||this.cursorState.length!==t.cursorState.length)return!1;for(let o=0,b=this.cursorState.length;o<b;o++)if(!this.cursorState[o].equals(t.cursorState[o]))return!1;return!0}}class Cl{static getAllAutoClosedCharacters(t){let o=[];for(const b of t)o=o.concat(b.getAutoClosedCharactersRanges());return o}constructor(t,o,b){this._model=t,this._autoClosedCharactersDecorations=o,this._autoClosedEnclosingDecorations=b}dispose(){this._autoClosedCharactersDecorations=this._model.deltaDecorations(this._autoClosedCharactersDecorations,[]),this._autoClosedEnclosingDecorations=this._model.deltaDecorations(this._autoClosedEnclosingDecorations,[])}getAutoClosedCharactersRanges(){const t=[];for(let o=0;o<this._autoClosedCharactersDecorations.length;o++){const b=this._model.getDecorationRange(this._autoClosedCharactersDecorations[o]);b&&t.push(b)}return t}isValid(t){const o=[];for(let b=0;b<this._autoClosedEnclosingDecorations.length;b++){const V=this._model.getDecorationRange(this._autoClosedEnclosingDecorations[b]);if(V&&(o.push(V),V.startLineNumber!==V.endLineNumber))return!1}o.sort(ie.e.compareRangesUsingStarts),t.sort(ie.e.compareRangesUsingStarts);for(let b=0;b<t.length;b++)if(b>=o.length||!o[b].strictContainsRange(t[b]))return!1;return!0}}class Vs{static executeCommands(t,o,b){const V={model:t,selectionsBefore:o,trackedRanges:[],trackedRangesDirection:[]},Z=this._innerExecuteCommands(V,b);for(let Le=0,Re=V.trackedRanges.length;Le<Re;Le++)V.model._setTrackedRange(V.trackedRanges[Le],null,0);return Z}static _innerExecuteCommands(t,o){if(this._arrayIsEmpty(o))return null;const b=this._getEditOperations(t,o);if(0===b.operations.length)return null;const V=b.operations,Z=this._getLoserCursorMap(V);if(Z.hasOwnProperty("0"))return console.warn("Ignoring commands"),null;const Le=[];for(let at=0,vt=V.length;at<vt;at++)Z.hasOwnProperty(V[at].identifier.major.toString())||Le.push(V[at]);b.hadTrackedEditOperation&&Le.length>0&&(Le[0]._isTracked=!0);let Re=t.model.pushEditOperations(t.selectionsBefore,Le,at=>{const vt=[];for(let Ht=0;Ht<t.selectionsBefore.length;Ht++)vt[Ht]=[];for(const Ht of at)Ht.identifier&&vt[Ht.identifier.major].push(Ht);const Ct=(Ht,ei)=>Ht.identifier.minor-ei.identifier.minor,Vt=[];for(let Ht=0;Ht<t.selectionsBefore.length;Ht++)vt[Ht].length>0?(vt[Ht].sort(Ct),Vt[Ht]=o[Ht].computeCursorState(t.model,{getInverseEditOperations:()=>vt[Ht],getTrackedSelection:ei=>{const pi=parseInt(ei,10),wi=t.model._getTrackedRange(t.trackedRanges[pi]);return 0===t.trackedRangesDirection[pi]?new F.Y(wi.startLineNumber,wi.startColumn,wi.endLineNumber,wi.endColumn):new F.Y(wi.endLineNumber,wi.endColumn,wi.startLineNumber,wi.startColumn)}})):Vt[Ht]=t.selectionsBefore[Ht];return Vt});Re||(Re=t.selectionsBefore);const Ge=[];for(const at in Z)Z.hasOwnProperty(at)&&Ge.push(parseInt(at,10));Ge.sort((at,vt)=>vt-at);for(const at of Ge)Re.splice(at,1);return Re}static _arrayIsEmpty(t){for(let o=0,b=t.length;o<b;o++)if(t[o])return!1;return!0}static _getEditOperations(t,o){let b=[],V=!1;for(let Z=0,Le=o.length;Z<Le;Z++){const Re=o[Z];if(Re){const Ge=this._getEditOperationsFromCommand(t,Z,Re);b=b.concat(Ge.operations),V=V||Ge.hadTrackedEditOperation}}return{operations:b,hadTrackedEditOperation:V}}static _getEditOperationsFromCommand(t,o,b){const V=[];let Z=0;const Le=(Ct,Vt,Ht=!1)=>{ie.e.isEmpty(Ct)&&""===Vt||V.push({identifier:{major:o,minor:Z++},range:Ct,text:Vt,forceMoveMarkers:Ht,isAutoWhitespaceEdit:b.insertsAutoWhitespace})};let Re=!1;const vt={addEditOperation:Le,addTrackedEditOperation:(Ct,Vt,Ht)=>{Re=!0,Le(Ct,Vt,Ht)},trackSelection:(Ct,Vt)=>{const Ht=F.Y.liftSelection(Ct);let ei;if(Ht.isEmpty())if("boolean"==typeof Vt)ei=Vt?2:3;else{const Ni=t.model.getLineMaxColumn(Ht.startLineNumber);ei=Ht.startColumn===Ni?2:3}else ei=1;const pi=t.trackedRanges.length,wi=t.model._setTrackedRange(null,Ht,ei);return t.trackedRanges[pi]=wi,t.trackedRangesDirection[pi]=Ht.getDirection(),pi.toString()}};try{b.getEditOperations(t.model,vt)}catch(Ct){return(0,k.dL)(Ct),{operations:[],hadTrackedEditOperation:!1}}return{operations:V,hadTrackedEditOperation:Re}}static _getLoserCursorMap(t){(t=t.slice(0)).sort((b,V)=>-ie.e.compareRangesUsingEnds(b.range,V.range));const o={};for(let b=1;b<t.length;b++){const V=t[b-1],Z=t[b];if(ie.e.getStartPosition(V.range).isBefore(ie.e.getEndPosition(Z.range))){let Le;Le=V.identifier.major>Z.identifier.major?V.identifier.major:Z.identifier.major,o[Le.toString()]=!0;for(let Re=0;Re<t.length;Re++)t[Re].identifier.major===Le&&(t.splice(Re,1),Re<b&&b--,Re--);b>0&&b--}}return o}}class td{constructor(t,o,b){this.text=t,this.startSelection=o,this.endSelection=b}}class Or{static _capture(t,o){const b=[];for(const V of o){if(V.startLineNumber!==V.endLineNumber)return null;b.push(new td(t.getLineContent(V.startLineNumber),V.startColumn-1,V.endColumn-1))}return b}constructor(t,o){this._original=Or._capture(t,o)}deduceOutcome(t,o){if(!this._original)return null;const b=Or._capture(t,o);if(!b||this._original.length!==b.length)return null;const V=[];for(let Z=0,Le=this._original.length;Z<Le;Z++)V.push(Or._deduceOutcome(this._original[Z],b[Z]));return V}static _deduceOutcome(t,o){const b=Math.min(t.startSelection,o.startSelection,St.Mh(t.text,o.text)),V=Math.min(t.text.length-t.endSelection,o.text.length-o.endSelection,St.P1(t.text,o.text)),Z=t.text.substring(b,t.text.length-V),Le=o.text.substring(b,o.text.length-V);return new Ts.Nu(Z,t.startSelection-b,t.endSelection-b,Le,o.startSelection-b,o.endSelection-b)}}var _r=e(81007),Oa=e(35132),ka=e(15962);class Ns{constructor(){this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[]}insert(t){this._hasPending=!0,this._inserts.push(t)}change(t){this._hasPending=!0,this._changes.push(t)}remove(t){this._hasPending=!0,this._removes.push(t)}mustCommit(){return this._hasPending}commit(t){if(!this._hasPending)return;const o=this._inserts,b=this._changes,V=this._removes;this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[],t._commitPendingChanges(o,b,V)}}class bl{constructor(t,o,b,V,Z){this.id=t,this.afterLineNumber=o,this.ordinal=b,this.height=V,this.minWidth=Z,this.prefixSum=0}}let Ba=(()=>{class bt{constructor(o,b,V,Z){this._instanceId=St.PJ(++bt.INSTANCE_COUNT),this._pendingChanges=new Ns,this._lastWhitespaceId=0,this._arr=[],this._prefixSumValidIndex=-1,this._minWidth=-1,this._lineCount=o,this._lineHeight=b,this._paddingTop=V,this._paddingBottom=Z}static findInsertionIndex(o,b,V){let Z=0,Le=o.length;for(;Z<Le;){const Re=Z+Le>>>1;b===o[Re].afterLineNumber?V<o[Re].ordinal?Le=Re:Z=Re+1:b<o[Re].afterLineNumber?Le=Re:Z=Re+1}return Z}setLineHeight(o){this._checkPendingChanges(),this._lineHeight=o}setPadding(o,b){this._paddingTop=o,this._paddingBottom=b}onFlushed(o){this._checkPendingChanges(),this._lineCount=o}changeWhitespace(o){let b=!1;try{o({insertWhitespace:(Z,Le,Re,Ge)=>{b=!0,Z|=0,Le|=0,Re|=0,Ge|=0;const at=this._instanceId+ ++this._lastWhitespaceId;return this._pendingChanges.insert(new bl(at,Z,Le,Re,Ge)),at},changeOneWhitespace:(Z,Le,Re)=>{b=!0,this._pendingChanges.change({id:Z,newAfterLineNumber:Le|=0,newHeight:Re|=0})},removeWhitespace:Z=>{b=!0,this._pendingChanges.remove({id:Z})}})}finally{this._pendingChanges.commit(this)}return b}_commitPendingChanges(o,b,V){if((o.length>0||V.length>0)&&(this._minWidth=-1),o.length+b.length+V.length<=1){for(const at of o)this._insertWhitespace(at);for(const at of b)this._changeOneWhitespace(at.id,at.newAfterLineNumber,at.newHeight);for(const at of V){const vt=this._findWhitespaceIndex(at.id);-1!==vt&&this._removeWhitespace(vt)}return}const Z=new Set;for(const at of V)Z.add(at.id);const Le=new Map;for(const at of b)Le.set(at.id,at);const Re=at=>{const vt=[];for(const Ct of at)if(!Z.has(Ct.id)){if(Le.has(Ct.id)){const Vt=Le.get(Ct.id);Ct.afterLineNumber=Vt.newAfterLineNumber,Ct.height=Vt.newHeight}vt.push(Ct)}return vt},Ge=Re(this._arr).concat(Re(o));Ge.sort((at,vt)=>at.afterLineNumber===vt.afterLineNumber?at.ordinal-vt.ordinal:at.afterLineNumber-vt.afterLineNumber),this._arr=Ge,this._prefixSumValidIndex=-1}_checkPendingChanges(){this._pendingChanges.mustCommit()&&this._pendingChanges.commit(this)}_insertWhitespace(o){const b=bt.findInsertionIndex(this._arr,o.afterLineNumber,o.ordinal);this._arr.splice(b,0,o),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,b-1)}_findWhitespaceIndex(o){const b=this._arr;for(let V=0,Z=b.length;V<Z;V++)if(b[V].id===o)return V;return-1}_changeOneWhitespace(o,b,V){const Z=this._findWhitespaceIndex(o);if(-1!==Z&&(this._arr[Z].height!==V&&(this._arr[Z].height=V,this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,Z-1)),this._arr[Z].afterLineNumber!==b)){const Le=this._arr[Z];this._removeWhitespace(Z),Le.afterLineNumber=b,this._insertWhitespace(Le)}}_removeWhitespace(o){this._arr.splice(o,1),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,o-1)}onLinesDeleted(o,b){this._checkPendingChanges(),this._lineCount-=(b|=0)-(o|=0)+1;for(let V=0,Z=this._arr.length;V<Z;V++){const Le=this._arr[V].afterLineNumber;o<=Le&&Le<=b?this._arr[V].afterLineNumber=o-1:Le>b&&(this._arr[V].afterLineNumber-=b-o+1)}}onLinesInserted(o,b){this._checkPendingChanges(),this._lineCount+=(b|=0)-(o|=0)+1;for(let V=0,Z=this._arr.length;V<Z;V++)o<=this._arr[V].afterLineNumber&&(this._arr[V].afterLineNumber+=b-o+1)}getWhitespacesTotalHeight(){return this._checkPendingChanges(),0===this._arr.length?0:this.getWhitespacesAccumulatedHeight(this._arr.length-1)}getWhitespacesAccumulatedHeight(o){this._checkPendingChanges(),o|=0;let b=Math.max(0,this._prefixSumValidIndex+1);0===b&&(this._arr[0].prefixSum=this._arr[0].height,b++);for(let V=b;V<=o;V++)this._arr[V].prefixSum=this._arr[V-1].prefixSum+this._arr[V].height;return this._prefixSumValidIndex=Math.max(this._prefixSumValidIndex,o),this._arr[o].prefixSum}getLinesTotalHeight(){return this._checkPendingChanges(),this._lineHeight*this._lineCount+this.getWhitespacesTotalHeight()+this._paddingTop+this._paddingBottom}getWhitespaceAccumulatedHeightBeforeLineNumber(o){this._checkPendingChanges();const b=this._findLastWhitespaceBeforeLineNumber(o|=0);return-1===b?0:this.getWhitespacesAccumulatedHeight(b)}_findLastWhitespaceBeforeLineNumber(o){o|=0;const b=this._arr;let V=0,Z=b.length-1;for(;V<=Z;){const Ge=V+((Z-V|0)/2|0)|0;if(b[Ge].afterLineNumber<o){if(Ge+1>=b.length||b[Ge+1].afterLineNumber>=o)return Ge;V=Ge+1|0}else Z=Ge-1|0}return-1}_findFirstWhitespaceAfterLineNumber(o){const V=this._findLastWhitespaceBeforeLineNumber(o|=0)+1;return V<this._arr.length?V:-1}getFirstWhitespaceIndexAfterLineNumber(o){return this._checkPendingChanges(),this._findFirstWhitespaceAfterLineNumber(o|=0)}getVerticalOffsetForLineNumber(o,b=!1){let V;return this._checkPendingChanges(),V=(o|=0)>1?this._lineHeight*(o-1):0,V+this.getWhitespaceAccumulatedHeightBeforeLineNumber(o-(b?1:0))+this._paddingTop}getVerticalOffsetAfterLineNumber(o,b=!1){return this._checkPendingChanges(),this._lineHeight*(o|=0)+this.getWhitespaceAccumulatedHeightBeforeLineNumber(o+(b?1:0))+this._paddingTop}getWhitespaceMinWidth(){if(this._checkPendingChanges(),-1===this._minWidth){let o=0;for(let b=0,V=this._arr.length;b<V;b++)o=Math.max(o,this._arr[b].minWidth);this._minWidth=o}return this._minWidth}isAfterLines(o){return this._checkPendingChanges(),o>this.getLinesTotalHeight()}isInTopPadding(o){return 0!==this._paddingTop&&(this._checkPendingChanges(),o<this._paddingTop)}isInBottomPadding(o){return 0!==this._paddingBottom&&(this._checkPendingChanges(),o>=this.getLinesTotalHeight()-this._paddingBottom)}getLineNumberAtOrAfterVerticalOffset(o){if(this._checkPendingChanges(),(o|=0)<0)return 1;const b=0|this._lineCount,V=this._lineHeight;let Z=1,Le=b;for(;Z<Le;){const Re=(Z+Le)/2|0,Ge=0|this.getVerticalOffsetForLineNumber(Re);if(o>=Ge+V)Z=Re+1;else{if(o>=Ge)return Re;Le=Re}}return Z>b?b:Z}getLinesViewportData(o,b){this._checkPendingChanges(),b|=0;const V=this._lineHeight,Z=0|this.getLineNumberAtOrAfterVerticalOffset(o|=0),Le=0|this.getVerticalOffsetForLineNumber(Z);let Re=0|this._lineCount,Ge=0|this.getFirstWhitespaceIndexAfterLineNumber(Z);const at=0|this.getWhitespacesCount();let vt,Ct;-1===Ge?(Ge=at,Ct=Re+1,vt=0):(Ct=0|this.getAfterLineNumberForWhitespaceIndex(Ge),vt=0|this.getHeightForWhitespaceIndex(Ge));let Vt=Le,Ht=Vt;const ei=5e5;let pi=0;Le>=ei&&(pi=Math.floor(Le/ei)*ei,pi=Math.floor(pi/V)*V,Ht-=pi);const wi=[],Ni=o+(b-o)/2;let Pi=-1;for(let mn=Z;mn<=Re;mn++){for(-1===Pi&&(Vt<=Ni&&Ni<Vt+V||Vt>Ni)&&(Pi=mn),Vt+=V,wi[mn-Z]=Ht,Ht+=V;Ct===mn;)Ht+=vt,Vt+=vt,Ge++,Ge>=at?Ct=Re+1:(Ct=0|this.getAfterLineNumberForWhitespaceIndex(Ge),vt=0|this.getHeightForWhitespaceIndex(Ge));if(Vt>=b){Re=mn;break}}-1===Pi&&(Pi=Re);const Ji=0|this.getVerticalOffsetForLineNumber(Re);let un=Z,En=Re;return un<En&&Le<o&&un++,un<En&&Ji+V>b&&En--,{bigNumbersDelta:pi,startLineNumber:Z,endLineNumber:Re,relativeVerticalOffset:wi,centeredLineNumber:Pi,completelyVisibleStartLineNumber:un,completelyVisibleEndLineNumber:En}}getVerticalOffsetForWhitespaceIndex(o){this._checkPendingChanges();const b=this.getAfterLineNumberForWhitespaceIndex(o|=0);let V,Z;return V=b>=1?this._lineHeight*b:0,Z=o>0?this.getWhitespacesAccumulatedHeight(o-1):0,V+Z+this._paddingTop}getWhitespaceIndexAtOrAfterVerticallOffset(o){this._checkPendingChanges(),o|=0;let b=0,V=this.getWhitespacesCount()-1;if(V<0)return-1;if(o>=this.getVerticalOffsetForWhitespaceIndex(V)+this.getHeightForWhitespaceIndex(V))return-1;for(;b<V;){const Re=Math.floor((b+V)/2),Ge=this.getVerticalOffsetForWhitespaceIndex(Re);if(o>=Ge+this.getHeightForWhitespaceIndex(Re))b=Re+1;else{if(o>=Ge)return Re;V=Re}}return b}getWhitespaceAtVerticalOffset(o){this._checkPendingChanges();const b=this.getWhitespaceIndexAtOrAfterVerticallOffset(o|=0);if(b<0||b>=this.getWhitespacesCount())return null;const V=this.getVerticalOffsetForWhitespaceIndex(b);if(V>o)return null;const Z=this.getHeightForWhitespaceIndex(b);return{id:this.getIdForWhitespaceIndex(b),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(b),verticalOffset:V,height:Z}}getWhitespaceViewportData(o,b){this._checkPendingChanges(),b|=0;const V=this.getWhitespaceIndexAtOrAfterVerticallOffset(o|=0),Z=this.getWhitespacesCount()-1;if(V<0)return[];const Le=[];for(let Re=V;Re<=Z;Re++){const Ge=this.getVerticalOffsetForWhitespaceIndex(Re),at=this.getHeightForWhitespaceIndex(Re);if(Ge>=b)break;Le.push({id:this.getIdForWhitespaceIndex(Re),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(Re),verticalOffset:Ge,height:at})}return Le}getWhitespaces(){return this._checkPendingChanges(),this._arr.slice(0)}getWhitespacesCount(){return this._checkPendingChanges(),this._arr.length}getIdForWhitespaceIndex(o){return this._checkPendingChanges(),this._arr[o|=0].id}getAfterLineNumberForWhitespaceIndex(o){return this._checkPendingChanges(),this._arr[o|=0].afterLineNumber}getHeightForWhitespaceIndex(o){return this._checkPendingChanges(),this._arr[o|=0].height}}return bt.INSTANCE_COUNT=0,bt})();class Ys{constructor(t,o,b,V){(t|=0)<0&&(t=0),(o|=0)<0&&(o=0),(b|=0)<0&&(b=0),(V|=0)<0&&(V=0),this.width=t,this.contentWidth=o,this.scrollWidth=Math.max(t,o),this.height=b,this.contentHeight=V,this.scrollHeight=Math.max(b,V)}equals(t){return this.width===t.width&&this.contentWidth===t.contentWidth&&this.height===t.height&&this.contentHeight===t.contentHeight}}class ia extends O.JT{constructor(t,o){super(),this._onDidContentSizeChange=this._register(new R.Q5),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._dimensions=new Ys(0,0,0,0),this._scrollable=this._register(new ka.Rm({forceIntegerValues:!0,smoothScrollDuration:t,scheduleAtNextAnimationFrame:o})),this.onDidScroll=this._scrollable.onScroll}getScrollable(){return this._scrollable}setSmoothScrollDuration(t){this._scrollable.setSmoothScrollDuration(t)}validateScrollPosition(t){return this._scrollable.validateScrollPosition(t)}getScrollDimensions(){return this._dimensions}setScrollDimensions(t){if(this._dimensions.equals(t))return;const o=this._dimensions;this._dimensions=t,this._scrollable.setScrollDimensions({width:t.width,scrollWidth:t.scrollWidth,height:t.height,scrollHeight:t.scrollHeight},!0),(o.contentWidth!==t.contentWidth||o.contentHeight!==t.contentHeight)&&this._onDidContentSizeChange.fire(new Ws(o.contentWidth,o.contentHeight,t.contentWidth,t.contentHeight))}getFutureScrollPosition(){return this._scrollable.getFutureScrollPosition()}getCurrentScrollPosition(){return this._scrollable.getCurrentScrollPosition()}setScrollPositionNow(t){this._scrollable.setScrollPositionNow(t)}setScrollPositionSmooth(t){this._scrollable.setScrollPositionSmooth(t)}hasPendingScrollAnimation(){return this._scrollable.hasPendingScrollAnimation()}}class Xs extends O.JT{constructor(t,o,b){super(),this._configuration=t;const V=this._configuration.options,Z=V.get(142),Le=V.get(82);this._linesLayout=new Ba(o,V.get(65),Le.top,Le.bottom),this._maxLineWidth=0,this._overlayWidgetsMinWidth=0,this._scrollable=this._register(new ia(0,b)),this._configureSmoothScrollDuration(),this._scrollable.setScrollDimensions(new Ys(Z.contentWidth,0,Z.height,0)),this.onDidScroll=this._scrollable.onDidScroll,this.onDidContentSizeChange=this._scrollable.onDidContentSizeChange,this._updateHeight()}dispose(){super.dispose()}getScrollable(){return this._scrollable.getScrollable()}onHeightMaybeChanged(){this._updateHeight()}_configureSmoothScrollDuration(){this._scrollable.setSmoothScrollDuration(this._configuration.options.get(112)?125:0)}onConfigurationChanged(t){const o=this._configuration.options;if(t.hasChanged(65)&&this._linesLayout.setLineHeight(o.get(65)),t.hasChanged(82)){const b=o.get(82);this._linesLayout.setPadding(b.top,b.bottom)}if(t.hasChanged(142)){const b=o.get(142),V=b.contentWidth,Z=b.height,Le=this._scrollable.getScrollDimensions();this._scrollable.setScrollDimensions(new Ys(V,Le.contentWidth,Z,this._getContentHeight(V,Z,Le.contentWidth)))}else this._updateHeight();t.hasChanged(112)&&this._configureSmoothScrollDuration()}onFlushed(t){this._linesLayout.onFlushed(t)}onLinesDeleted(t,o){this._linesLayout.onLinesDeleted(t,o)}onLinesInserted(t,o){this._linesLayout.onLinesInserted(t,o)}_getHorizontalScrollbarHeight(t,o){const V=this._configuration.options.get(101);return 2===V.horizontal||t>=o?0:V.horizontalScrollbarSize}_getContentHeight(t,o,b){const V=this._configuration.options;let Z=this._linesLayout.getLinesTotalHeight();return V.get(103)?Z+=Math.max(0,o-V.get(65)-V.get(82).bottom):Z+=this._getHorizontalScrollbarHeight(t,b),Z}_updateHeight(){const t=this._scrollable.getScrollDimensions(),o=t.width,b=t.height;this._scrollable.setScrollDimensions(new Ys(o,t.contentWidth,b,this._getContentHeight(o,b,t.contentWidth)))}getCurrentViewport(){const t=this._scrollable.getScrollDimensions(),o=this._scrollable.getCurrentScrollPosition();return new on.l_(o.scrollTop,o.scrollLeft,t.width,t.height)}getFutureViewport(){const t=this._scrollable.getScrollDimensions(),o=this._scrollable.getFutureScrollPosition();return new on.l_(o.scrollTop,o.scrollLeft,t.width,t.height)}_computeContentWidth(){const t=this._configuration.options,o=this._maxLineWidth,b=t.get(143),V=t.get(49),Z=t.get(142);if(b.isViewportWrapping){const Le=t.get(71);return o>Z.contentWidth+V.typicalHalfwidthCharacterWidth&&Le.enabled&&"right"===Le.side?o+Z.verticalScrollbarWidth:o}{const Le=t.get(102)*V.typicalHalfwidthCharacterWidth,Re=this._linesLayout.getWhitespaceMinWidth();return Math.max(o+Le+Z.verticalScrollbarWidth,Re,this._overlayWidgetsMinWidth)}}setMaxLineWidth(t){this._maxLineWidth=t,this._updateContentWidth()}setOverlayWidgetsMinWidth(t){this._overlayWidgetsMinWidth=t,this._updateContentWidth()}_updateContentWidth(){const t=this._scrollable.getScrollDimensions();this._scrollable.setScrollDimensions(new Ys(t.width,this._computeContentWidth(),t.height,t.contentHeight)),this._updateHeight()}saveState(){const t=this._scrollable.getFutureScrollPosition(),o=t.scrollTop,b=this._linesLayout.getLineNumberAtOrAfterVerticalOffset(o);return{scrollTop:o,scrollTopWithoutViewZones:o-this._linesLayout.getWhitespaceAccumulatedHeightBeforeLineNumber(b),scrollLeft:t.scrollLeft}}changeWhitespace(t){const o=this._linesLayout.changeWhitespace(t);return o&&this.onHeightMaybeChanged(),o}getVerticalOffsetForLineNumber(t,o=!1){return this._linesLayout.getVerticalOffsetForLineNumber(t,o)}getVerticalOffsetAfterLineNumber(t,o=!1){return this._linesLayout.getVerticalOffsetAfterLineNumber(t,o)}isAfterLines(t){return this._linesLayout.isAfterLines(t)}isInTopPadding(t){return this._linesLayout.isInTopPadding(t)}isInBottomPadding(t){return this._linesLayout.isInBottomPadding(t)}getLineNumberAtVerticalOffset(t){return this._linesLayout.getLineNumberAtOrAfterVerticalOffset(t)}getWhitespaceAtVerticalOffset(t){return this._linesLayout.getWhitespaceAtVerticalOffset(t)}getLinesViewportData(){const t=this.getCurrentViewport();return this._linesLayout.getLinesViewportData(t.top,t.top+t.height)}getLinesViewportDataAtScrollTop(t){const o=this._scrollable.getScrollDimensions();return t+o.height>o.scrollHeight&&(t=o.scrollHeight-o.height),t<0&&(t=0),this._linesLayout.getLinesViewportData(t,t+o.height)}getWhitespaceViewportData(){const t=this.getCurrentViewport();return this._linesLayout.getWhitespaceViewportData(t.top,t.top+t.height)}getWhitespaces(){return this._linesLayout.getWhitespaces()}getContentWidth(){return this._scrollable.getScrollDimensions().contentWidth}getScrollWidth(){return this._scrollable.getScrollDimensions().scrollWidth}getContentHeight(){return this._scrollable.getScrollDimensions().contentHeight}getScrollHeight(){return this._scrollable.getScrollDimensions().scrollHeight}getCurrentScrollLeft(){return this._scrollable.getCurrentScrollPosition().scrollLeft}getCurrentScrollTop(){return this._scrollable.getCurrentScrollPosition().scrollTop}validateScrollPosition(t){return this._scrollable.validateScrollPosition(t)}setScrollPosition(t,o){1===o?this._scrollable.setScrollPositionNow(t):this._scrollable.setScrollPositionSmooth(t)}hasPendingScrollAnimation(){return this._scrollable.hasPendingScrollAnimation()}deltaScrollNow(t,o){const b=this._scrollable.getCurrentScrollPosition();this._scrollable.setScrollPositionNow({scrollLeft:b.scrollLeft+t,scrollTop:b.scrollTop+o})}}var Fa=e(45462),Wa=e(39424);function kr(bt,t){return null===bt?t?Fo.INSTANCE:Cr.INSTANCE:new id(bt,t)}class id{constructor(t,o){this._projectionData=t,this._isVisible=o}isVisible(){return this._isVisible}setVisible(t){return this._isVisible=t,this}getProjectionData(){return this._projectionData}getViewLineCount(){return this._isVisible?this._projectionData.getOutputLineCount():0}getViewLineContent(t,o,b){this._assertVisible();const V=b>0?this._projectionData.breakOffsets[b-1]:0,Z=this._projectionData.breakOffsets[b];let Le;if(null!==this._projectionData.injectionOffsets){const Re=this._projectionData.injectionOffsets.map((at,vt)=>new Cs.gk(0,0,at+1,this._projectionData.injectionOptions[vt],0));Le=Cs.gk.applyInjectedText(t.getLineContent(o),Re).substring(V,Z)}else Le=t.getValueInRange({startLineNumber:o,startColumn:V+1,endLineNumber:o,endColumn:Z+1});return b>0&&(Le=yl(this._projectionData.wrappedTextIndentLength)+Le),Le}getViewLineLength(t,o,b){return this._assertVisible(),this._projectionData.getLineLength(b)}getViewLineMinColumn(t,o,b){return this._assertVisible(),this._projectionData.getMinOutputOffset(b)+1}getViewLineMaxColumn(t,o,b){return this._assertVisible(),this._projectionData.getMaxOutputOffset(b)+1}getViewLineData(t,o,b){const V=new Array;return this.getViewLinesData(t,o,b,1,0,[!0],V),V[0]}getViewLinesData(t,o,b,V,Z,Le,Re){this._assertVisible();const Ge=this._projectionData,at=Ge.injectionOffsets,vt=Ge.injectionOptions;let Vt,Ct=null;if(at){Ct=[];let Ht=0,ei=0;for(let pi=0;pi<Ge.getOutputLineCount();pi++){const wi=new Array;Ct[pi]=wi;const Ni=pi>0?Ge.breakOffsets[pi-1]:0,Pi=Ge.breakOffsets[pi];for(;ei<at.length;){const Ji=vt[ei].content.length,un=at[ei]+Ht,En=un+Ji;if(un>Pi)break;if(Ni<En){const mn=vt[ei];if(mn.inlineClassName){const Tn=pi>0?Ge.wrappedTextIndentLength:0,Mn=Tn+Math.max(un-Ni,0),dn=Tn+Math.min(En-Ni,Pi-Ni);Mn!==dn&&wi.push(new on.Wx(Mn,dn,mn.inlineClassName,mn.inlineClassNameAffectsLetterSpacing))}}if(!(En<=Pi))break;Ht+=Ji,ei++}}}Vt=at?t.tokenization.getLineTokens(o).withInserted(at.map((Ht,ei)=>({offset:Ht,text:vt[ei].content,tokenMetadata:Wa.A.defaultTokenMetadata}))):t.tokenization.getLineTokens(o);for(let Ht=b;Ht<b+V;Ht++){const ei=Z+Ht-b;Re[ei]=Le[ei]?this._getViewLineData(Vt,Ct?Ct[Ht]:null,Ht):null}}_getViewLineData(t,o,b){this._assertVisible();const V=this._projectionData,Ge=t.sliceAndInflate(b>0?V.breakOffsets[b-1]:0,V.breakOffsets[b],b>0?V.wrappedTextIndentLength:0);let at=Ge.getLineContent();b>0&&(at=yl(V.wrappedTextIndentLength)+at);const vt=this._projectionData.getMinOutputOffset(b)+1,Ct=at.length+1,Vt=b+1<this.getViewLineCount();return new on.IP(at,Vt,vt,Ct,0===b?0:V.breakOffsetsVisibleColumn[b-1],Ge,o)}getModelColumnOfViewPosition(t,o){return this._assertVisible(),this._projectionData.translateToInputOffset(t,o-1)+1}getViewPositionOfModelPosition(t,o,b=2){return this._assertVisible(),this._projectionData.translateToOutputPosition(o-1,b).toPosition(t)}getViewLineNumberOfModelPosition(t,o){return this._assertVisible(),t+this._projectionData.translateToOutputPosition(o-1).outputLineIndex}normalizePosition(t,o,b){const V=o.lineNumber-t;return this._projectionData.normalizeOutputPosition(t,o.column-1,b).toPosition(V)}getInjectedTextAt(t,o){return this._projectionData.getInjectedText(t,o-1)}_assertVisible(){if(!this._isVisible)throw new Error("Not supported")}}class Fo{constructor(){}isVisible(){return!0}setVisible(t){return t?this:Cr.INSTANCE}getProjectionData(){return null}getViewLineCount(){return 1}getViewLineContent(t,o,b){return t.getLineContent(o)}getViewLineLength(t,o,b){return t.getLineLength(o)}getViewLineMinColumn(t,o,b){return t.getLineMinColumn(o)}getViewLineMaxColumn(t,o,b){return t.getLineMaxColumn(o)}getViewLineData(t,o,b){const V=t.tokenization.getLineTokens(o),Z=V.getLineContent();return new on.IP(Z,!1,1,Z.length+1,0,V.inflate(),null)}getViewLinesData(t,o,b,V,Z,Le,Re){Re[Z]=Le[Z]?this.getViewLineData(t,o,0):null}getModelColumnOfViewPosition(t,o){return o}getViewPositionOfModelPosition(t,o){return new le.L(t,o)}getViewLineNumberOfModelPosition(t,o){return t}normalizePosition(t,o,b){return o}getInjectedTextAt(t,o){return null}}Fo.INSTANCE=new Fo;class Cr{constructor(){}isVisible(){return!1}setVisible(t){return t?Fo.INSTANCE:this}getProjectionData(){return null}getViewLineCount(){return 0}getViewLineContent(t,o,b){throw new Error("Not supported")}getViewLineLength(t,o,b){throw new Error("Not supported")}getViewLineMinColumn(t,o,b){throw new Error("Not supported")}getViewLineMaxColumn(t,o,b){throw new Error("Not supported")}getViewLineData(t,o,b){throw new Error("Not supported")}getViewLinesData(t,o,b,V,Z,Le,Re){throw new Error("Not supported")}getModelColumnOfViewPosition(t,o){throw new Error("Not supported")}getViewPositionOfModelPosition(t,o){throw new Error("Not supported")}getViewLineNumberOfModelPosition(t,o){throw new Error("Not supported")}normalizePosition(t,o,b){throw new Error("Not supported")}getInjectedTextAt(t,o){throw new Error("Not supported")}}Cr.INSTANCE=new Cr;const mo=[""];function yl(bt){if(bt>=mo.length)for(let t=1;t<=bt;t++)mo[t]=Sl(t);return mo[bt]}function Sl(bt){return new Array(bt+1).join(" ")}var nd=e(94703);class Va{constructor(t,o,b,V,Z,Le,Re,Ge,at,vt){this._editorId=t,this.model=o,this._validModelVersionId=-1,this._domLineBreaksComputerFactory=b,this._monospaceLineBreaksComputerFactory=V,this.fontInfo=Z,this.tabSize=Le,this.wrappingStrategy=Re,this.wrappingColumn=Ge,this.wrappingIndent=at,this.wordBreak=vt,this._constructLines(!0,null)}dispose(){this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[])}createCoordinatesConverter(){return new sd(this)}_constructLines(t,o){this.modelLineProjections=[],t&&(this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[]));const b=this.model.getLinesContent(),V=this.model.getInjectedTextDecorations(this._editorId),Z=b.length,Le=this.createLineBreaksComputer(),Re=new U.H9(Cs.gk.fromDecorations(V));for(let pi=0;pi<Z;pi++){const wi=Re.takeWhile(Ni=>Ni.lineNumber===pi+1);Le.addRequest(b[pi],wi,o?o[pi]:null)}const Ge=Le.finalize(),at=[],vt=this.hiddenAreasDecorationIds.map(pi=>this.model.getDecorationRange(pi)).sort(ie.e.compareRangesUsingStarts);let Ct=1,Vt=0,Ht=-1,ei=Ht+1<vt.length?Vt+1:Z+2;for(let pi=0;pi<Z;pi++){const wi=pi+1;wi===ei&&(Ht++,Ct=vt[Ht].startLineNumber,Vt=vt[Ht].endLineNumber,ei=Ht+1<vt.length?Vt+1:Z+2);const Pi=kr(Ge[pi],!(wi>=Ct&&wi<=Vt));at[pi]=Pi.getViewLineCount(),this.modelLineProjections[pi]=Pi}this._validModelVersionId=this.model.getVersionId(),this.projectedModelLineLineCounts=new nd.Ck(at)}getHiddenAreas(){return this.hiddenAreasDecorationIds.map(t=>this.model.getDecorationRange(t))}setHiddenAreas(t){const b=function od(bt){if(0===bt.length)return[];const t=bt.slice();t.sort(ie.e.compareRangesUsingStarts);const o=[];let b=t[0].startLineNumber,V=t[0].endLineNumber;for(let Z=1,Le=t.length;Z<Le;Z++){const Re=t[Z];Re.startLineNumber>V+1?(o.push(new ie.e(b,1,V,1)),b=Re.startLineNumber,V=Re.endLineNumber):Re.endLineNumber>V&&(V=Re.endLineNumber)}return o.push(new ie.e(b,1,V,1)),o}(t.map(Vt=>this.model.validateRange(Vt))),V=this.hiddenAreasDecorationIds.map(Vt=>this.model.getDecorationRange(Vt)).sort(ie.e.compareRangesUsingStarts);if(b.length===V.length){let Vt=!1;for(let Ht=0;Ht<b.length;Ht++)if(!b[Ht].equalsRange(V[Ht])){Vt=!0;break}if(!Vt)return!1}const Z=b.map(Vt=>({range:Vt,options:gl.qx.EMPTY}));this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,Z);const Le=b;let Re=1,Ge=0,at=-1,vt=at+1<Le.length?Ge+1:this.modelLineProjections.length+2,Ct=!1;for(let Vt=0;Vt<this.modelLineProjections.length;Vt++){const Ht=Vt+1;Ht===vt&&(at++,Re=Le[at].startLineNumber,Ge=Le[at].endLineNumber,vt=at+1<Le.length?Ge+1:this.modelLineProjections.length+2);let ei=!1;if(Ht>=Re&&Ht<=Ge?this.modelLineProjections[Vt].isVisible()&&(this.modelLineProjections[Vt]=this.modelLineProjections[Vt].setVisible(!1),ei=!0):(Ct=!0,this.modelLineProjections[Vt].isVisible()||(this.modelLineProjections[Vt]=this.modelLineProjections[Vt].setVisible(!0),ei=!0)),ei){const pi=this.modelLineProjections[Vt].getViewLineCount();this.projectedModelLineLineCounts.setValue(Vt,pi)}}return Ct||this.setHiddenAreas([]),!0}modelPositionIsVisible(t,o){return!(t<1||t>this.modelLineProjections.length)&&this.modelLineProjections[t-1].isVisible()}getModelLineViewLineCount(t){return t<1||t>this.modelLineProjections.length?1:this.modelLineProjections[t-1].getViewLineCount()}setTabSize(t){return this.tabSize!==t&&(this.tabSize=t,this._constructLines(!1,null),!0)}setWrappingSettings(t,o,b,V,Z){const Le=this.fontInfo.equals(t),Re=this.wrappingStrategy===o,Ge=this.wrappingColumn===b,at=this.wrappingIndent===V,vt=this.wordBreak===Z;if(Le&&Re&&Ge&&at&&vt)return!1;const Ct=Le&&Re&&!Ge&&at&&vt;this.fontInfo=t,this.wrappingStrategy=o,this.wrappingColumn=b,this.wrappingIndent=V,this.wordBreak=Z;let Vt=null;if(Ct){Vt=[];for(let Ht=0,ei=this.modelLineProjections.length;Ht<ei;Ht++)Vt[Ht]=this.modelLineProjections[Ht].getProjectionData()}return this._constructLines(!1,Vt),!0}createLineBreaksComputer(){return("advanced"===this.wrappingStrategy?this._domLineBreaksComputerFactory:this._monospaceLineBreaksComputerFactory).createLineBreaksComputer(this.fontInfo,this.tabSize,this.wrappingColumn,this.wrappingIndent,this.wordBreak)}onModelFlushed(){this._constructLines(!0,null)}onModelLinesDeleted(t,o,b){if(!t||t<=this._validModelVersionId)return null;const V=1===o?1:this.projectedModelLineLineCounts.getPrefixSum(o-1)+1,Z=this.projectedModelLineLineCounts.getPrefixSum(b);return this.modelLineProjections.splice(o-1,b-o+1),this.projectedModelLineLineCounts.removeValues(o-1,b-o+1),new Ia(V,Z)}onModelLinesInserted(t,o,b,V){if(!t||t<=this._validModelVersionId)return null;const Z=o>2&&!this.modelLineProjections[o-2].isVisible(),Le=1===o?1:this.projectedModelLineLineCounts.getPrefixSum(o-1)+1;let Re=0;const Ge=[],at=[];for(let vt=0,Ct=V.length;vt<Ct;vt++){const Vt=kr(V[vt],!Z);Ge.push(Vt);const Ht=Vt.getViewLineCount();Re+=Ht,at[vt]=Ht}return this.modelLineProjections=this.modelLineProjections.slice(0,o-1).concat(Ge).concat(this.modelLineProjections.slice(o-1)),this.projectedModelLineLineCounts.insertValues(o-1,at),new Ta(Le,Le+Re-1)}onModelLineChanged(t,o,b){if(null!==t&&t<=this._validModelVersionId)return[!1,null,null,null];const V=o-1,Z=this.modelLineProjections[V].getViewLineCount(),Re=kr(b,this.modelLineProjections[V].isVisible());this.modelLineProjections[V]=Re;const Ge=this.modelLineProjections[V].getViewLineCount();let at=!1,vt=0,Ct=-1,Vt=0,Ht=-1,ei=0,pi=-1;return Z>Ge?(vt=this.projectedModelLineLineCounts.getPrefixSum(o-1)+1,Ct=vt+Ge-1,ei=Ct+1,pi=ei+(Z-Ge)-1,at=!0):Z<Ge?(vt=this.projectedModelLineLineCounts.getPrefixSum(o-1)+1,Ct=vt+Z-1,Vt=Ct+1,Ht=Vt+(Ge-Z)-1,at=!0):(vt=this.projectedModelLineLineCounts.getPrefixSum(o-1)+1,Ct=vt+Ge-1),this.projectedModelLineLineCounts.setValue(V,Ge),[at,vt<=Ct?new xa(vt,Ct-vt+1):null,Vt<=Ht?new Ta(Vt,Ht):null,ei<=pi?new Ia(ei,pi):null]}acceptVersionId(t){this._validModelVersionId=t,1===this.modelLineProjections.length&&!this.modelLineProjections[0].isVisible()&&this.setHiddenAreas([])}getViewLineCount(){return this.projectedModelLineLineCounts.getTotalSum()}_toValidViewLineNumber(t){if(t<1)return 1;const o=this.getViewLineCount();return t>o?o:0|t}getActiveIndentGuide(t,o,b){t=this._toValidViewLineNumber(t),o=this._toValidViewLineNumber(o),b=this._toValidViewLineNumber(b);const V=this.convertViewPositionToModelPosition(t,this.getViewLineMinColumn(t)),Z=this.convertViewPositionToModelPosition(o,this.getViewLineMinColumn(o)),Le=this.convertViewPositionToModelPosition(b,this.getViewLineMinColumn(b)),Re=this.model.guides.getActiveIndentGuide(V.lineNumber,Z.lineNumber,Le.lineNumber),Ge=this.convertModelPositionToViewPosition(Re.startLineNumber,1),at=this.convertModelPositionToViewPosition(Re.endLineNumber,this.model.getLineMaxColumn(Re.endLineNumber));return{startLineNumber:Ge.lineNumber,endLineNumber:at.lineNumber,indent:Re.indent}}getViewLineInfo(t){t=this._toValidViewLineNumber(t);const o=this.projectedModelLineLineCounts.getIndexOf(t-1);return new cs(o.index+1,o.remainder)}getMinColumnOfViewLine(t){return this.modelLineProjections[t.modelLineNumber-1].getViewLineMinColumn(this.model,t.modelLineNumber,t.modelLineWrappedLineIdx)}getMaxColumnOfViewLine(t){return this.modelLineProjections[t.modelLineNumber-1].getViewLineMaxColumn(this.model,t.modelLineNumber,t.modelLineWrappedLineIdx)}getModelStartPositionOfViewLine(t){const o=this.modelLineProjections[t.modelLineNumber-1],b=o.getViewLineMinColumn(this.model,t.modelLineNumber,t.modelLineWrappedLineIdx),V=o.getModelColumnOfViewPosition(t.modelLineWrappedLineIdx,b);return new le.L(t.modelLineNumber,V)}getModelEndPositionOfViewLine(t){const o=this.modelLineProjections[t.modelLineNumber-1],b=o.getViewLineMaxColumn(this.model,t.modelLineNumber,t.modelLineWrappedLineIdx),V=o.getModelColumnOfViewPosition(t.modelLineWrappedLineIdx,b);return new le.L(t.modelLineNumber,V)}getViewLineInfosGroupedByModelRanges(t,o){const b=this.getViewLineInfo(t),V=this.getViewLineInfo(o),Z=new Array;let Le=this.getModelStartPositionOfViewLine(b),Re=new Array;for(let Ge=b.modelLineNumber;Ge<=V.modelLineNumber;Ge++){const at=this.modelLineProjections[Ge-1];if(at.isVisible()){const vt=Ge===b.modelLineNumber?b.modelLineWrappedLineIdx:0,Ct=Ge===V.modelLineNumber?V.modelLineWrappedLineIdx+1:at.getViewLineCount();for(let Vt=vt;Vt<Ct;Vt++)Re.push(new cs(Ge,Vt))}if(!at.isVisible()&&Le){const vt=new le.L(Ge-1,this.model.getLineMaxColumn(Ge-1)+1),Ct=ie.e.fromPositions(Le,vt);Z.push(new Js(Ct,Re)),Re=[],Le=null}else at.isVisible()&&!Le&&(Le=new le.L(Ge,1))}if(Le){const Ge=ie.e.fromPositions(Le,this.getModelEndPositionOfViewLine(V));Z.push(new Js(Ge,Re))}return Z}getViewLinesBracketGuides(t,o,b,V){const Z=b?this.convertViewPositionToModelPosition(b.lineNumber,b.column):null,Le=[];for(const Re of this.getViewLineInfosGroupedByModelRanges(t,o)){const Ge=Re.modelRange.startLineNumber,at=this.model.guides.getLinesBracketGuides(Ge,Re.modelRange.endLineNumber,Z,V);for(const vt of Re.viewLines){const Vt=at[vt.modelLineNumber-Ge].map(Ht=>{if(-1!==Ht.forWrappedLinesAfterColumn&&this.modelLineProjections[vt.modelLineNumber-1].getViewPositionOfModelPosition(0,Ht.forWrappedLinesAfterColumn).lineNumber>=vt.modelLineWrappedLineIdx||-1!==Ht.forWrappedLinesBeforeOrAtColumn&&this.modelLineProjections[vt.modelLineNumber-1].getViewPositionOfModelPosition(0,Ht.forWrappedLinesBeforeOrAtColumn).lineNumber<vt.modelLineWrappedLineIdx)return;if(!Ht.horizontalLine)return Ht;let ei=-1;if(-1!==Ht.column){const Ni=this.modelLineProjections[vt.modelLineNumber-1].getViewPositionOfModelPosition(0,Ht.column);if(Ni.lineNumber===vt.modelLineWrappedLineIdx)ei=Ni.column;else if(Ni.lineNumber<vt.modelLineWrappedLineIdx)ei=this.getMinColumnOfViewLine(vt);else if(Ni.lineNumber>vt.modelLineWrappedLineIdx)return}const pi=this.convertModelPositionToViewPosition(vt.modelLineNumber,Ht.horizontalLine.endColumn),wi=this.modelLineProjections[vt.modelLineNumber-1].getViewPositionOfModelPosition(0,Ht.horizontalLine.endColumn);return wi.lineNumber===vt.modelLineWrappedLineIdx?new Ii.UO(Ht.visibleColumn,ei,Ht.className,new Ii.vW(Ht.horizontalLine.top,pi.column),-1,-1):wi.lineNumber<vt.modelLineWrappedLineIdx||-1!==Ht.visibleColumn?void 0:new Ii.UO(Ht.visibleColumn,ei,Ht.className,new Ii.vW(Ht.horizontalLine.top,this.getMaxColumnOfViewLine(vt)),-1,-1)});Le.push(Vt.filter(Ht=>!!Ht))}}return Le}getViewLinesIndentGuides(t,o){t=this._toValidViewLineNumber(t),o=this._toValidViewLineNumber(o);const b=this.convertViewPositionToModelPosition(t,this.getViewLineMinColumn(t)),V=this.convertViewPositionToModelPosition(o,this.getViewLineMaxColumn(o));let Z=[];const Le=[],Re=[],Ge=b.lineNumber-1,at=V.lineNumber-1;let vt=null;for(let ei=Ge;ei<=at;ei++){const pi=this.modelLineProjections[ei];if(pi.isVisible()){const wi=pi.getViewLineNumberOfModelPosition(0,ei===Ge?b.column:1),Ni=pi.getViewLineNumberOfModelPosition(0,this.model.getLineMaxColumn(ei+1)),Pi=Ni-wi+1;let Ji=0;Pi>1&&1===pi.getViewLineMinColumn(this.model,ei+1,Ni)&&(Ji=0===wi?1:2),Le.push(Pi),Re.push(Ji),null===vt&&(vt=new le.L(ei+1,0))}else null!==vt&&(Z=Z.concat(this.model.guides.getLinesIndentGuides(vt.lineNumber,ei)),vt=null)}null!==vt&&(Z=Z.concat(this.model.guides.getLinesIndentGuides(vt.lineNumber,V.lineNumber)),vt=null);const Ct=o-t+1,Vt=new Array(Ct);let Ht=0;for(let ei=0,pi=Z.length;ei<pi;ei++){let wi=Z[ei];const Ni=Math.min(Ct-Ht,Le[ei]),Pi=Re[ei];let Ji;Ji=2===Pi?0:1===Pi?1:Ni;for(let un=0;un<Ni;un++)un===Ji&&(wi=0),Vt[Ht++]=wi}return Vt}getViewLineContent(t){const o=this.getViewLineInfo(t);return this.modelLineProjections[o.modelLineNumber-1].getViewLineContent(this.model,o.modelLineNumber,o.modelLineWrappedLineIdx)}getViewLineLength(t){const o=this.getViewLineInfo(t);return this.modelLineProjections[o.modelLineNumber-1].getViewLineLength(this.model,o.modelLineNumber,o.modelLineWrappedLineIdx)}getViewLineMinColumn(t){const o=this.getViewLineInfo(t);return this.modelLineProjections[o.modelLineNumber-1].getViewLineMinColumn(this.model,o.modelLineNumber,o.modelLineWrappedLineIdx)}getViewLineMaxColumn(t){const o=this.getViewLineInfo(t);return this.modelLineProjections[o.modelLineNumber-1].getViewLineMaxColumn(this.model,o.modelLineNumber,o.modelLineWrappedLineIdx)}getViewLineData(t){const o=this.getViewLineInfo(t);return this.modelLineProjections[o.modelLineNumber-1].getViewLineData(this.model,o.modelLineNumber,o.modelLineWrappedLineIdx)}getViewLinesData(t,o,b){t=this._toValidViewLineNumber(t),o=this._toValidViewLineNumber(o);const V=this.projectedModelLineLineCounts.getIndexOf(t-1);let Z=t;const Le=V.index,Re=V.remainder,Ge=[];for(let at=Le,vt=this.model.getLineCount();at<vt;at++){const Ct=this.modelLineProjections[at];if(!Ct.isVisible())continue;const Vt=at===Le?Re:0;let Ht=Ct.getViewLineCount()-Vt,ei=!1;if(Z+Ht>o&&(ei=!0,Ht=o-Z+1),Ct.getViewLinesData(this.model,at+1,Vt,Ht,Z-t,b,Ge),Z+=Ht,ei)break}return Ge}validateViewPosition(t,o,b){t=this._toValidViewLineNumber(t);const V=this.projectedModelLineLineCounts.getIndexOf(t-1),Z=V.index,Le=V.remainder,Re=this.modelLineProjections[Z],Ge=Re.getViewLineMinColumn(this.model,Z+1,Le),at=Re.getViewLineMaxColumn(this.model,Z+1,Le);o<Ge&&(o=Ge),o>at&&(o=at);const vt=Re.getModelColumnOfViewPosition(Le,o);return this.model.validatePosition(new le.L(Z+1,vt)).equals(b)?new le.L(t,o):this.convertModelPositionToViewPosition(b.lineNumber,b.column)}validateViewRange(t,o){const b=this.validateViewPosition(t.startLineNumber,t.startColumn,o.getStartPosition()),V=this.validateViewPosition(t.endLineNumber,t.endColumn,o.getEndPosition());return new ie.e(b.lineNumber,b.column,V.lineNumber,V.column)}convertViewPositionToModelPosition(t,o){const b=this.getViewLineInfo(t),V=this.modelLineProjections[b.modelLineNumber-1].getModelColumnOfViewPosition(b.modelLineWrappedLineIdx,o);return this.model.validatePosition(new le.L(b.modelLineNumber,V))}convertViewRangeToModelRange(t){const o=this.convertViewPositionToModelPosition(t.startLineNumber,t.startColumn),b=this.convertViewPositionToModelPosition(t.endLineNumber,t.endColumn);return new ie.e(o.lineNumber,o.column,b.lineNumber,b.column)}convertModelPositionToViewPosition(t,o,b=2,V=!1,Z=!1){const Le=this.model.validatePosition(new le.L(t,o)),Re=Le.lineNumber,Ge=Le.column;let at=Re-1,vt=!1;if(Z)for(;at<this.modelLineProjections.length&&!this.modelLineProjections[at].isVisible();)at++,vt=!0;else for(;at>0&&!this.modelLineProjections[at].isVisible();)at--,vt=!0;if(0===at&&!this.modelLineProjections[at].isVisible())return new le.L(V?0:1,1);const Ct=1+this.projectedModelLineLineCounts.getPrefixSum(at);let Vt;return Vt=vt?this.modelLineProjections[at].getViewPositionOfModelPosition(Ct,Z?1:this.model.getLineMaxColumn(at+1),b):this.modelLineProjections[Re-1].getViewPositionOfModelPosition(Ct,Ge,b),Vt}convertModelRangeToViewRange(t,o=0){if(t.isEmpty()){const b=this.convertModelPositionToViewPosition(t.startLineNumber,t.startColumn,o);return ie.e.fromPositions(b)}{const b=this.convertModelPositionToViewPosition(t.startLineNumber,t.startColumn,1),V=this.convertModelPositionToViewPosition(t.endLineNumber,t.endColumn,0);return new ie.e(b.lineNumber,b.column,V.lineNumber,V.column)}}getViewLineNumberOfModelPosition(t,o){let b=t-1;if(this.modelLineProjections[b].isVisible()){const Z=1+this.projectedModelLineLineCounts.getPrefixSum(b);return this.modelLineProjections[b].getViewLineNumberOfModelPosition(Z,o)}for(;b>0&&!this.modelLineProjections[b].isVisible();)b--;if(0===b&&!this.modelLineProjections[b].isVisible())return 1;const V=1+this.projectedModelLineLineCounts.getPrefixSum(b);return this.modelLineProjections[b].getViewLineNumberOfModelPosition(V,this.model.getLineMaxColumn(b+1))}getDecorationsInRange(t,o,b,V,Z){const Le=this.convertViewPositionToModelPosition(t.startLineNumber,t.startColumn),Re=this.convertViewPositionToModelPosition(t.endLineNumber,t.endColumn);if(Re.lineNumber-Le.lineNumber<=t.endLineNumber-t.startLineNumber)return this.model.getDecorationsInRange(new ie.e(Le.lineNumber,1,Re.lineNumber,Re.column),o,b,V,Z);let Ge=[];const at=Le.lineNumber-1,vt=Re.lineNumber-1;let Ct=null;for(let pi=at;pi<=vt;pi++)if(this.modelLineProjections[pi].isVisible())null===Ct&&(Ct=new le.L(pi+1,pi===at?Le.column:1));else if(null!==Ct){const Ni=this.model.getLineMaxColumn(pi);Ge=Ge.concat(this.model.getDecorationsInRange(new ie.e(Ct.lineNumber,Ct.column,pi,Ni),o,b,V)),Ct=null}null!==Ct&&(Ge=Ge.concat(this.model.getDecorationsInRange(new ie.e(Ct.lineNumber,Ct.column,Re.lineNumber,Re.column),o,b,V)),Ct=null),Ge.sort((pi,wi)=>{const Ni=ie.e.compareRangesUsingStarts(pi.range,wi.range);return 0===Ni?pi.id<wi.id?-1:pi.id>wi.id?1:0:Ni});const Vt=[];let Ht=0,ei=null;for(const pi of Ge){const wi=pi.id;ei!==wi&&(ei=wi,Vt[Ht++]=pi)}return Vt}getInjectedTextAt(t){const o=this.getViewLineInfo(t.lineNumber);return this.modelLineProjections[o.modelLineNumber-1].getInjectedTextAt(o.modelLineWrappedLineIdx,t.column)}normalizePosition(t,o){const b=this.getViewLineInfo(t.lineNumber);return this.modelLineProjections[b.modelLineNumber-1].normalizePosition(b.modelLineWrappedLineIdx,t,o)}getLineIndentColumn(t){const o=this.getViewLineInfo(t);return 0===o.modelLineWrappedLineIdx?this.model.getLineIndentColumn(o.modelLineNumber):0}}class cs{constructor(t,o){this.modelLineNumber=t,this.modelLineWrappedLineIdx=o}}class Js{constructor(t,o){this.modelRange=t,this.viewLines=o}}class sd{constructor(t){this._lines=t}convertViewPositionToModelPosition(t){return this._lines.convertViewPositionToModelPosition(t.lineNumber,t.column)}convertViewRangeToModelRange(t){return this._lines.convertViewRangeToModelRange(t)}validateViewPosition(t,o){return this._lines.validateViewPosition(t.lineNumber,t.column,o)}validateViewRange(t,o){return this._lines.validateViewRange(t,o)}convertModelPositionToViewPosition(t,o,b,V){return this._lines.convertModelPositionToViewPosition(t.lineNumber,t.column,o,b,V)}convertModelRangeToViewRange(t,o){return this._lines.convertModelRangeToViewRange(t,o)}modelPositionIsVisible(t){return this._lines.modelPositionIsVisible(t.lineNumber,t.column)}getModelLineViewLineCount(t){return this._lines.getModelLineViewLineCount(t)}getViewLineNumberOfModelPosition(t,o){return this._lines.getViewLineNumberOfModelPosition(t,o)}}class br{constructor(t){this.model=t}dispose(){}createCoordinatesConverter(){return new rd(this)}getHiddenAreas(){return[]}setHiddenAreas(t){return!1}setTabSize(t){return!1}setWrappingSettings(t,o,b,V){return!1}createLineBreaksComputer(){const t=[];return{addRequest:(o,b,V)=>{t.push(null)},finalize:()=>t}}onModelFlushed(){}onModelLinesDeleted(t,o,b){return new Ia(o,b)}onModelLinesInserted(t,o,b,V){return new Ta(o,b)}onModelLineChanged(t,o,b){return[!1,new xa(o,1),null,null]}acceptVersionId(t){}getViewLineCount(){return this.model.getLineCount()}getActiveIndentGuide(t,o,b){return{startLineNumber:t,endLineNumber:t,indent:0}}getViewLinesBracketGuides(t,o,b){return new Array(o-t+1).fill([])}getViewLinesIndentGuides(t,o){const b=o-t+1,V=new Array(b);for(let Z=0;Z<b;Z++)V[Z]=0;return V}getViewLineContent(t){return this.model.getLineContent(t)}getViewLineLength(t){return this.model.getLineLength(t)}getViewLineMinColumn(t){return this.model.getLineMinColumn(t)}getViewLineMaxColumn(t){return this.model.getLineMaxColumn(t)}getViewLineData(t){const o=this.model.tokenization.getLineTokens(t),b=o.getLineContent();return new on.IP(b,!1,1,b.length+1,0,o.inflate(),null)}getViewLinesData(t,o,b){const V=this.model.getLineCount();t=Math.min(Math.max(1,t),V),o=Math.min(Math.max(1,o),V);const Z=[];for(let Le=t;Le<=o;Le++){const Re=Le-t;Z[Re]=b[Re]?this.getViewLineData(Le):null}return Z}getDecorationsInRange(t,o,b,V,Z){return this.model.getDecorationsInRange(t,o,b,V,Z)}normalizePosition(t,o){return this.model.normalizePosition(t,o)}getLineIndentColumn(t){return this.model.getLineIndentColumn(t)}getInjectedTextAt(t){return null}}class rd{constructor(t){this._lines=t}_validPosition(t){return this._lines.model.validatePosition(t)}_validRange(t){return this._lines.model.validateRange(t)}convertViewPositionToModelPosition(t){return this._validPosition(t)}convertViewRangeToModelRange(t){return this._validRange(t)}validateViewPosition(t,o){return this._validPosition(o)}validateViewRange(t,o){return this._validRange(o)}convertModelPositionToViewPosition(t){return this._validPosition(t)}convertModelRangeToViewRange(t){return this._validRange(t)}modelPositionIsVisible(t){const o=this._lines.model.getLineCount();return!(t.lineNumber<1||t.lineNumber>o)}getModelLineViewLineCount(t){return 1}getViewLineNumberOfModelPosition(t,o){return t}}class yr extends O.JT{constructor(t,o,b,V,Z,Le,Re,Ge,at){if(super(),this.languageConfigurationService=Re,this._themeService=Ge,this._attachedView=at,this.hiddenAreasModel=new ad,this.previousHiddenAreas=[],this._editorId=t,this._configuration=o,this.model=b,this._eventDispatcher=new Ma,this.onEvent=this._eventDispatcher.onEvent,this.cursorConfig=new No.LM(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._updateConfigurationViewLineCount=this._register(new en.pY(()=>this._updateConfigurationViewLineCountNow(),0)),this._hasFocus=!1,this._viewportStart=Ms.create(this.model),this.model.isTooLargeForTokenization())this._lines=new br(this.model);else{const vt=this._configuration.options,Ct=vt.get(49),Vt=vt.get(136),Ht=vt.get(143),ei=vt.get(135),pi=vt.get(127);this._lines=new Va(this._editorId,this.model,V,Z,Ct,this.model.getOptions().tabSize,Vt,Ht.wrappingColumn,ei,pi)}this.coordinatesConverter=this._lines.createCoordinatesConverter(),this._cursor=this._register(new ed(b,this,this.coordinatesConverter,this.cursorConfig)),this.viewLayout=this._register(new Xs(this._configuration,this.getLineCount(),Le)),this._register(this.viewLayout.onDidScroll(vt=>{vt.scrollTopChanged&&this._handleVisibleLinesChanged(),vt.scrollTopChanged&&this._viewportStart.invalidate(),this._eventDispatcher.emitSingleViewEvent(new ml(vt)),this._eventDispatcher.emitOutgoingEvent(new ta(vt.oldScrollWidth,vt.oldScrollLeft,vt.oldScrollHeight,vt.oldScrollTop,vt.scrollWidth,vt.scrollLeft,vt.scrollHeight,vt.scrollTop))})),this._register(this.viewLayout.onDidContentSizeChange(vt=>{this._eventDispatcher.emitOutgoingEvent(vt)})),this._decorations=new Fa.CU(this._editorId,this.model,this._configuration,this._lines,this.coordinatesConverter),this._registerModelEvents(),this._register(this._configuration.onDidChangeFast(vt=>{try{const Ct=this._eventDispatcher.beginEmitViewEvents();this._onConfigurationChanged(Ct,vt)}finally{this._eventDispatcher.endEmitViewEvents()}})),this._register(sn.getInstance().onDidChange(()=>{this._eventDispatcher.emitSingleViewEvent(new Bo)})),this._register(this._themeService.onDidColorThemeChange(vt=>{this._invalidateDecorationsColorCache(),this._eventDispatcher.emitSingleViewEvent(new zo(vt))})),this._updateConfigurationViewLineCountNow()}dispose(){super.dispose(),this._decorations.dispose(),this._lines.dispose(),this._viewportStart.dispose(),this._eventDispatcher.dispose()}createLineBreaksComputer(){return this._lines.createLineBreaksComputer()}addViewEventHandler(t){this._eventDispatcher.addViewEventHandler(t)}removeViewEventHandler(t){this._eventDispatcher.removeViewEventHandler(t)}_updateConfigurationViewLineCountNow(){this._configuration.setViewLineCount(this._lines.getViewLineCount())}getModelVisibleRanges(){const t=this.viewLayout.getLinesViewportData(),o=new ie.e(t.startLineNumber,this.getLineMinColumn(t.startLineNumber),t.endLineNumber,this.getLineMaxColumn(t.endLineNumber));return this._toModelVisibleRanges(o)}visibleLinesStabilized(){const t=this.getModelVisibleRanges();this._attachedView.setVisibleLines(t,!0)}_handleVisibleLinesChanged(){const t=this.getModelVisibleRanges();this._attachedView.setVisibleLines(t,!1)}setHasFocus(t){this._hasFocus=t,this._cursor.setHasFocus(t),this._eventDispatcher.emitSingleViewEvent(new fl(t)),this._eventDispatcher.emitOutgoingEvent(new ea(!t,t))}onCompositionStart(){this._eventDispatcher.emitSingleViewEvent(new Xr)}onCompositionEnd(){this._eventDispatcher.emitSingleViewEvent(new Ql)}_captureStableViewport(){if(this._viewportStart.isValid&&this.viewLayout.getCurrentScrollTop()>0){const t=new le.L(this._viewportStart.viewLineNumber,this.getLineMinColumn(this._viewportStart.viewLineNumber)),o=this.coordinatesConverter.convertViewPositionToModelPosition(t);return new Fr(o,this._viewportStart.startLineDelta)}return new Fr(null,0)}_onConfigurationChanged(t,o){const b=this._captureStableViewport(),V=this._configuration.options,Z=V.get(49),Le=V.get(136),Re=V.get(143),Ge=V.get(135),at=V.get(127);this._lines.setWrappingSettings(Z,Le,Re.wrappingColumn,Ge,at)&&(t.emitViewEvent(new Jr),t.emitViewEvent(new Zs),t.emitViewEvent(new fr(null)),this._cursor.onLineMappingChanged(t),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this._updateConfigurationViewLineCount.schedule()),o.hasChanged(89)&&(this._decorations.reset(),t.emitViewEvent(new fr(null))),t.emitViewEvent(new Yl(o)),this.viewLayout.onConfigurationChanged(o),b.recoverViewportStart(this.coordinatesConverter,this.viewLayout),No.LM.shouldRecreate(o)&&(this.cursorConfig=new No.LM(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig))}_registerModelEvents(){this._register(this.model.onDidChangeContentOrInjectedText(t=>{try{const b=this._eventDispatcher.beginEmitViewEvents();let V=!1,Z=!1;const Le=t instanceof Cs.fV?t.rawContentChangedEvent.changes:t.changes,Re=t instanceof Cs.fV?t.rawContentChangedEvent.versionId:null,Ge=this._lines.createLineBreaksComputer();for(const Ct of Le)switch(Ct.changeType){case 4:for(let Vt=0;Vt<Ct.detail.length;Vt++){const Ht=Ct.detail[Vt];let ei=Ct.injectedTexts[Vt];ei&&(ei=ei.filter(pi=>!pi.ownerId||pi.ownerId===this._editorId)),Ge.addRequest(Ht,ei,null)}break;case 2:{let Vt=null;Ct.injectedText&&(Vt=Ct.injectedText.filter(Ht=>!Ht.ownerId||Ht.ownerId===this._editorId)),Ge.addRequest(Ct.detail,Vt,null);break}}const at=Ge.finalize(),vt=new U.H9(at);for(const Ct of Le)switch(Ct.changeType){case 1:this._lines.onModelFlushed(),b.emitViewEvent(new Jr),this._decorations.reset(),this.viewLayout.onFlushed(this.getLineCount()),V=!0;break;case 3:{const Vt=this._lines.onModelLinesDeleted(Re,Ct.fromLineNumber,Ct.toLineNumber);null!==Vt&&(b.emitViewEvent(Vt),this.viewLayout.onLinesDeleted(Vt.fromLineNumber,Vt.toLineNumber)),V=!0;break}case 4:{const Vt=vt.takeCount(Ct.detail.length),Ht=this._lines.onModelLinesInserted(Re,Ct.fromLineNumber,Ct.toLineNumber,Vt);null!==Ht&&(b.emitViewEvent(Ht),this.viewLayout.onLinesInserted(Ht.fromLineNumber,Ht.toLineNumber)),V=!0;break}case 2:{const Vt=vt.dequeue(),[Ht,ei,pi,wi]=this._lines.onModelLineChanged(Re,Ct.lineNumber,Vt);Z=Ht,ei&&b.emitViewEvent(ei),pi&&(b.emitViewEvent(pi),this.viewLayout.onLinesInserted(pi.fromLineNumber,pi.toLineNumber)),wi&&(b.emitViewEvent(wi),this.viewLayout.onLinesDeleted(wi.fromLineNumber,wi.toLineNumber));break}}null!==Re&&this._lines.acceptVersionId(Re),this.viewLayout.onHeightMaybeChanged(),!V&&Z&&(b.emitViewEvent(new Zs),b.emitViewEvent(new fr(null)),this._cursor.onLineMappingChanged(b),this._decorations.onLineMappingChanged())}finally{this._eventDispatcher.endEmitViewEvents()}const o=this._viewportStart.isValid;if(this._viewportStart.invalidate(),this._configuration.setModelLineCount(this.model.getLineCount()),this._updateConfigurationViewLineCountNow(),!this._hasFocus&&this.model.getAttachedEditorCount()>=2&&o){const b=this.model._getTrackedRange(this._viewportStart.modelTrackedRange);if(b){const V=this.coordinatesConverter.convertModelPositionToViewPosition(b.getStartPosition()),Z=this.viewLayout.getVerticalOffsetForLineNumber(V.lineNumber);this.viewLayout.setScrollPosition({scrollTop:Z+this._viewportStart.startLineDelta},1)}}try{const b=this._eventDispatcher.beginEmitViewEvents();t instanceof Cs.fV&&b.emitOutgoingEvent(new pl(t.contentChangedEvent)),this._cursor.onModelContentChanged(b,t)}finally{this._eventDispatcher.endEmitViewEvents()}this._handleVisibleLinesChanged()})),this._register(this.model.onDidChangeTokens(t=>{const o=[];for(let b=0,V=t.ranges.length;b<V;b++){const Z=t.ranges[b],Le=this.coordinatesConverter.convertModelPositionToViewPosition(new le.L(Z.fromLineNumber,1)).lineNumber,Re=this.coordinatesConverter.convertModelPositionToViewPosition(new le.L(Z.toLineNumber,this.model.getLineMaxColumn(Z.toLineNumber))).lineNumber;o[b]={fromLineNumber:Le,toLineNumber:Re}}this._eventDispatcher.emitSingleViewEvent(new ql(o)),this._eventDispatcher.emitOutgoingEvent(new _l(t))})),this._register(this.model.onDidChangeLanguageConfiguration(t=>{this._eventDispatcher.emitSingleViewEvent(new Jl),this.cursorConfig=new No.LM(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new pr(t))})),this._register(this.model.onDidChangeLanguage(t=>{this.cursorConfig=new No.LM(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new Pa(t))})),this._register(this.model.onDidChangeOptions(t=>{if(this._lines.setTabSize(this.model.getOptions().tabSize)){try{const o=this._eventDispatcher.beginEmitViewEvents();o.emitViewEvent(new Jr),o.emitViewEvent(new Zs),o.emitViewEvent(new fr(null)),this._cursor.onLineMappingChanged(o),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule()}this.cursorConfig=new No.LM(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new vl(t))})),this._register(this.model.onDidChangeDecorations(t=>{this._decorations.onModelDecorationsChanged(),this._eventDispatcher.emitSingleViewEvent(new fr(t)),this._eventDispatcher.emitOutgoingEvent(new Ra(t))}))}setHiddenAreas(t,o){this.hiddenAreasModel.setHiddenAreas(o,t);const b=this.hiddenAreasModel.getMergedRanges();if(b===this.previousHiddenAreas)return;this.previousHiddenAreas=b;const V=this._captureStableViewport();let Z=!1;try{const Le=this._eventDispatcher.beginEmitViewEvents();Z=this._lines.setHiddenAreas(b),Z&&(Le.emitViewEvent(new Jr),Le.emitViewEvent(new Zs),Le.emitViewEvent(new fr(null)),this._cursor.onLineMappingChanged(Le),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.onHeightMaybeChanged()),V.recoverViewportStart(this.coordinatesConverter,this.viewLayout)}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule(),Z&&this._eventDispatcher.emitOutgoingEvent(new ls)}getVisibleRangesPlusViewportAboveBelow(){const t=this._configuration.options.get(142),o=this._configuration.options.get(65),b=Math.max(20,Math.round(t.height/o)),V=this.viewLayout.getLinesViewportData(),Z=Math.max(1,V.completelyVisibleStartLineNumber-b),Le=Math.min(this.getLineCount(),V.completelyVisibleEndLineNumber+b);return this._toModelVisibleRanges(new ie.e(Z,this.getLineMinColumn(Z),Le,this.getLineMaxColumn(Le)))}getVisibleRanges(){const t=this.getCompletelyVisibleViewRange();return this._toModelVisibleRanges(t)}getHiddenAreas(){return this._lines.getHiddenAreas()}_toModelVisibleRanges(t){const o=this.coordinatesConverter.convertViewRangeToModelRange(t),b=this._lines.getHiddenAreas();if(0===b.length)return[o];const V=[];let Z=0,Le=o.startLineNumber,Re=o.startColumn;const Ge=o.endLineNumber,at=o.endColumn;for(let vt=0,Ct=b.length;vt<Ct;vt++){const Vt=b[vt].startLineNumber,Ht=b[vt].endLineNumber;Ht<Le||Vt>Ge||(Le<Vt&&(V[Z++]=new ie.e(Le,Re,Vt-1,this.model.getLineMaxColumn(Vt-1))),Le=Ht+1,Re=1)}return(Le<Ge||Le===Ge&&Re<at)&&(V[Z++]=new ie.e(Le,Re,Ge,at)),V}getCompletelyVisibleViewRange(){const t=this.viewLayout.getLinesViewportData(),o=t.completelyVisibleStartLineNumber,b=t.completelyVisibleEndLineNumber;return new ie.e(o,this.getLineMinColumn(o),b,this.getLineMaxColumn(b))}getCompletelyVisibleViewRangeAtScrollTop(t){const o=this.viewLayout.getLinesViewportDataAtScrollTop(t),b=o.completelyVisibleStartLineNumber,V=o.completelyVisibleEndLineNumber;return new ie.e(b,this.getLineMinColumn(b),V,this.getLineMaxColumn(V))}saveState(){const t=this.viewLayout.saveState(),o=t.scrollTop,b=this.viewLayout.getLineNumberAtVerticalOffset(o),V=this.coordinatesConverter.convertViewPositionToModelPosition(new le.L(b,this.getLineMinColumn(b))),Z=this.viewLayout.getVerticalOffsetForLineNumber(b)-o;return{scrollLeft:t.scrollLeft,firstPosition:V,firstPositionDeltaTop:Z}}reduceRestoreState(t){if(typeof t.firstPosition>"u")return this._reduceRestoreStateCompatibility(t);const o=this.model.validatePosition(t.firstPosition),b=this.coordinatesConverter.convertModelPositionToViewPosition(o),V=this.viewLayout.getVerticalOffsetForLineNumber(b.lineNumber)-t.firstPositionDeltaTop;return{scrollLeft:t.scrollLeft,scrollTop:V}}_reduceRestoreStateCompatibility(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTopWithoutViewZones}}getTabSize(){return this.model.getOptions().tabSize}getLineCount(){return this._lines.getViewLineCount()}setViewport(t,o,b){this._viewportStart.update(this,t)}getActiveIndentGuide(t,o,b){return this._lines.getActiveIndentGuide(t,o,b)}getLinesIndentGuides(t,o){return this._lines.getViewLinesIndentGuides(t,o)}getBracketGuidesInRangeByLine(t,o,b,V){return this._lines.getViewLinesBracketGuides(t,o,b,V)}getLineContent(t){return this._lines.getViewLineContent(t)}getLineLength(t){return this._lines.getViewLineLength(t)}getLineMinColumn(t){return this._lines.getViewLineMinColumn(t)}getLineMaxColumn(t){return this._lines.getViewLineMaxColumn(t)}getLineFirstNonWhitespaceColumn(t){const o=St.LC(this.getLineContent(t));return-1===o?0:o+1}getLineLastNonWhitespaceColumn(t){const o=St.ow(this.getLineContent(t));return-1===o?0:o+2}getMinimapDecorationsInRange(t){return this._decorations.getMinimapDecorationsInRange(t)}getDecorationsInViewport(t){return this._decorations.getDecorationsViewportData(t).decorations}getInjectedTextAt(t){return this._lines.getInjectedTextAt(t)}getViewportViewLineRenderingData(t,o){const V=this._decorations.getDecorationsViewportData(t).inlineDecorations[o-t.startLineNumber];return this._getViewLineRenderingData(o,V)}getViewLineRenderingData(t){const o=this._decorations.getInlineDecorationsOnLine(t);return this._getViewLineRenderingData(t,o)}_getViewLineRenderingData(t,o){const b=this.model.mightContainRTL(),V=this.model.mightContainNonBasicASCII(),Z=this.getTabSize(),Le=this._lines.getViewLineData(t);return Le.inlineDecorations&&(o=[...o,...Le.inlineDecorations.map(Re=>Re.toInlineDecoration(t))]),new on.wA(Le.minColumn,Le.maxColumn,Le.content,Le.continuesWithWrappedLine,b,V,Le.tokens,o,Z,Le.startVisibleColumn)}getViewLineData(t){return this._lines.getViewLineData(t)}getMinimapLinesRenderingData(t,o,b){const V=this._lines.getViewLinesData(t,o,b);return new on.ud(this.getTabSize(),V)}getAllOverviewRulerDecorations(t){const o=this.model.getOverviewRulerDecorations(this._editorId,(0,_.$J)(this._configuration.options)),b=new wl;for(const V of o){const Z=V.options,Le=Z.overviewRuler;if(!Le)continue;const Re=Le.position;if(0===Re)continue;const Ge=Le.getColor(t.value),at=this.coordinatesConverter.getViewLineNumberOfModelPosition(V.range.startLineNumber,V.range.startColumn),vt=this.coordinatesConverter.getViewLineNumberOfModelPosition(V.range.endLineNumber,V.range.endColumn);b.accept(Ge,Z.zIndex,at,vt,Re)}return b.asArray}_invalidateDecorationsColorCache(){const t=this.model.getOverviewRulerDecorations();for(const o of t){const b=o.options.overviewRuler;b?.invalidateCachedColor();const V=o.options.minimap;V?.invalidateCachedColor()}}getValueInRange(t,o){const b=this.coordinatesConverter.convertViewRangeToModelRange(t);return this.model.getValueInRange(b,o)}getValueLengthInRange(t,o){const b=this.coordinatesConverter.convertViewRangeToModelRange(t);return this.model.getValueLengthInRange(b,o)}modifyPosition(t,o){const b=this.coordinatesConverter.convertViewPositionToModelPosition(t);return this.model.modifyPosition(b,o)}deduceModelPositionRelativeToViewPosition(t,o,b){const V=this.coordinatesConverter.convertViewPositionToModelPosition(t);2===this.model.getEOL().length&&(o<0?o-=b:o+=b);const Le=this.model.getOffsetAt(V)+o;return this.model.getPositionAt(Le)}getPlainTextToCopy(t,o,b){const V=b?"\r\n":this.model.getEOL();(t=t.slice(0)).sort(ie.e.compareRangesUsingStarts);let Z=!1,Le=!1;for(const Ge of t)Ge.isEmpty()?Z=!0:Le=!0;if(!Le){if(!o)return"";const Ge=t.map(vt=>vt.startLineNumber);let at="";for(let vt=0;vt<Ge.length;vt++)vt>0&&Ge[vt-1]===Ge[vt]||(at+=this.model.getLineContent(Ge[vt])+V);return at}if(Z&&o){const Ge=[];let at=0;for(const vt of t){const Ct=vt.startLineNumber;vt.isEmpty()?Ct!==at&&Ge.push(this.model.getLineContent(Ct)):Ge.push(this.model.getValueInRange(vt,b?2:0)),at=Ct}return 1===Ge.length?Ge[0]:Ge}const Re=[];for(const Ge of t)Ge.isEmpty()||Re.push(this.model.getValueInRange(Ge,b?2:0));return 1===Re.length?Re[0]:Re}getRichTextToCopy(t,o){const b=this.model.getLanguageId();if(b===_r.bd||1!==t.length)return null;let V=t[0];if(V.isEmpty()){if(!o)return null;const vt=V.startLineNumber;V=new ie.e(vt,this.model.getLineMinColumn(vt),vt,this.model.getLineMaxColumn(vt))}const Z=this._configuration.options.get(49),Le=this._getColorMap();let at;return/[:;\\\/<>]/.test(Z.fontFamily)||Z.fontFamily===_.hL.fontFamily?at=_.hL.fontFamily:(at=Z.fontFamily,at=at.replace(/"/g,"'"),/[,']/.test(at)||/[+ ]/.test(at)&&(at=`'${at}'`),at=`${at}, ${_.hL.fontFamily}`),{mode:b,html:`<div style="color: ${Le[1]};background-color: ${Le[2]};font-family: ${at};font-weight: ${Z.fontWeight};font-size: ${Z.fontSize}px;line-height: ${Z.lineHeight}px;white-space: pre;">`+this._getHTMLToCopy(V,Le)+"</div>"}}_getHTMLToCopy(t,o){const b=t.startLineNumber,V=t.startColumn,Z=t.endLineNumber,Le=t.endColumn,Re=this.getTabSize();let Ge="";for(let at=b;at<=Z;at++){const vt=this.model.tokenization.getLineTokens(at),Ct=vt.getLineContent(),Vt=at===b?V-1:0,Ht=at===Z?Le-1:Ct.length;Ge+=""===Ct?"<br>":(0,Oa.Fq)(Ct,vt.inflate(),o,Vt,Ht,Re,B.ED)}return Ge}_getColorMap(){const t=fn.RW.getColorMap(),o=["#000000"];if(t)for(let b=1,V=t.length;b<V;b++)o[b]=Nn.Il.Format.CSS.formatHex(t[b]);return o}getPrimaryCursorState(){return this._cursor.getPrimaryCursorState()}getLastAddedCursorIndex(){return this._cursor.getLastAddedCursorIndex()}getCursorStates(){return this._cursor.getCursorStates()}setCursorStates(t,o,b){return this._withViewEventsCollector(V=>this._cursor.setStates(V,t,o,b))}getCursorColumnSelectData(){return this._cursor.getCursorColumnSelectData()}getCursorAutoClosedCharacters(){return this._cursor.getAutoClosedCharacters()}setCursorColumnSelectData(t){this._cursor.setCursorColumnSelectData(t)}getPrevEditOperationType(){return this._cursor.getPrevEditOperationType()}setPrevEditOperationType(t){this._cursor.setPrevEditOperationType(t)}getSelection(){return this._cursor.getSelection()}getSelections(){return this._cursor.getSelections()}getPosition(){return this._cursor.getPrimaryCursorState().modelState.position}setSelections(t,o,b=0){this._withViewEventsCollector(V=>this._cursor.setSelections(V,t,o,b))}saveCursorState(){return this._cursor.saveState()}restoreCursorState(t){this._withViewEventsCollector(o=>this._cursor.restoreState(o,t))}_executeCursorEdit(t){this._cursor.context.cursorConfig.readOnly?this._eventDispatcher.emitOutgoingEvent(new Aa):this._withViewEventsCollector(t)}executeEdits(t,o,b){this._executeCursorEdit(V=>this._cursor.executeEdits(V,t,o,b))}startComposition(){this._executeCursorEdit(t=>this._cursor.startComposition(t))}endComposition(t){this._executeCursorEdit(o=>this._cursor.endComposition(o,t))}type(t,o){this._executeCursorEdit(b=>this._cursor.type(b,t,o))}compositionType(t,o,b,V,Z){this._executeCursorEdit(Le=>this._cursor.compositionType(Le,t,o,b,V,Z))}paste(t,o,b,V){this._executeCursorEdit(Z=>this._cursor.paste(Z,t,o,b,V))}cut(t){this._executeCursorEdit(o=>this._cursor.cut(o,t))}executeCommand(t,o){this._executeCursorEdit(b=>this._cursor.executeCommand(b,t,o))}executeCommands(t,o){this._executeCursorEdit(b=>this._cursor.executeCommands(b,t,o))}revealPrimaryCursor(t,o,b=!1){this._withViewEventsCollector(V=>this._cursor.revealPrimary(V,t,b,0,o,0))}revealTopMostCursor(t){const o=this._cursor.getTopMostViewPosition(),b=new ie.e(o.lineNumber,o.column,o.lineNumber,o.column);this._withViewEventsCollector(V=>V.emitViewEvent(new qr(t,!1,b,null,0,!0,0)))}revealBottomMostCursor(t){const o=this._cursor.getBottomMostViewPosition(),b=new ie.e(o.lineNumber,o.column,o.lineNumber,o.column);this._withViewEventsCollector(V=>V.emitViewEvent(new qr(t,!1,b,null,0,!0,0)))}revealRange(t,o,b,V,Z){this._withViewEventsCollector(Le=>Le.emitViewEvent(new qr(t,!1,b,null,V,o,Z)))}changeWhitespace(t){this.viewLayout.changeWhitespace(t)&&(this._eventDispatcher.emitSingleViewEvent(new Na),this._eventDispatcher.emitOutgoingEvent(new jo))}_withViewEventsCollector(t){try{return t(this._eventDispatcher.beginEmitViewEvents())}finally{this._eventDispatcher.endEmitViewEvents()}}normalizePosition(t,o){return this._lines.normalizePosition(t,o)}getLineIndentColumn(t){return this._lines.getLineIndentColumn(t)}}class Ms{static create(t){const o=t._setTrackedRange(null,new ie.e(1,1,1,1),1);return new Ms(t,1,!1,o,0)}get viewLineNumber(){return this._viewLineNumber}get isValid(){return this._isValid}get modelTrackedRange(){return this._modelTrackedRange}get startLineDelta(){return this._startLineDelta}constructor(t,o,b,V,Z){this._model=t,this._viewLineNumber=o,this._isValid=b,this._modelTrackedRange=V,this._startLineDelta=Z}dispose(){this._model._setTrackedRange(this._modelTrackedRange,null,1)}update(t,o){const b=t.coordinatesConverter.convertViewPositionToModelPosition(new le.L(o,t.getLineMinColumn(o))),V=t.model._setTrackedRange(this._modelTrackedRange,new ie.e(b.lineNumber,b.column,b.lineNumber,b.column),1),Z=t.viewLayout.getVerticalOffsetForLineNumber(o),Le=t.viewLayout.getCurrentScrollTop();this._viewLineNumber=o,this._isValid=!0,this._modelTrackedRange=V,this._startLineDelta=Le-Z}invalidate(){this._isValid=!1}}class wl{constructor(){this._asMap=Object.create(null),this.asArray=[]}accept(t,o,b,V,Z){const Le=this._asMap[t];if(Le){const Re=Le.data,at=Re[Re.length-1];if(Re[Re.length-3]===Z&&at+1>=b)return void(V>at&&(Re[Re.length-1]=V));Re.push(Z,b,V)}else{const Re=new on.SQ(t,o,[Z,b,V]);this._asMap[t]=Re,this.asArray.push(Re)}}}class ad{constructor(){this.hiddenAreas=new Map,this.shouldRecompute=!1,this.ranges=[]}setHiddenAreas(t,o){const b=this.hiddenAreas.get(t);b&&Ll(b,o)||(this.hiddenAreas.set(t,o),this.shouldRecompute=!0)}getMergedRanges(){if(!this.shouldRecompute)return this.ranges;this.shouldRecompute=!1;const t=Array.from(this.hiddenAreas.values()).reduce((o,b)=>function ld(bt,t){const o=[];let b=0,V=0;for(;b<bt.length&&V<t.length;){const Z=bt[b],Le=t[V];if(Z.endLineNumber<Le.startLineNumber-1)o.push(bt[b++]);else if(Le.endLineNumber<Z.startLineNumber-1)o.push(t[V++]);else{const Re=Math.min(Z.startLineNumber,Le.startLineNumber),Ge=Math.max(Z.endLineNumber,Le.endLineNumber);o.push(new ie.e(Re,1,Ge,1)),b++,V++}}for(;b<bt.length;)o.push(bt[b++]);for(;V<t.length;)o.push(t[V++]);return o}(o,b),[]);return Ll(this.ranges,t)||(this.ranges=t),this.ranges}}function Ll(bt,t){if(bt.length!==t.length)return!1;for(let o=0;o<bt.length;o++)if(!bt[o].equalsRange(t[o]))return!1;return!0}class Fr{constructor(t,o){this.viewportStartModelPosition=t,this.startLineDelta=o}recoverViewportStart(t,o){if(!this.viewportStartModelPosition)return;const b=t.convertModelPositionToViewPosition(this.viewportStartModelPosition),V=o.getVerticalOffsetForLineNumber(b.lineNumber);o.setScrollPosition({scrollTop:V+this.startLineDelta},1)}}var Sr=e(11813),bs=e(66221),dc=e(50054),dd=e(22438),Ha=e(32583),Ua=e(37836);class qs{constructor(t,o,b,V,Z){this.injectionOffsets=t,this.injectionOptions=o,this.breakOffsets=b,this.breakOffsetsVisibleColumn=V,this.wrappedTextIndentLength=Z}getOutputLineCount(){return this.breakOffsets.length}getMinOutputOffset(t){return t>0?this.wrappedTextIndentLength:0}getLineLength(t){let V=this.breakOffsets[t]-(t>0?this.breakOffsets[t-1]:0);return t>0&&(V+=this.wrappedTextIndentLength),V}getMaxOutputOffset(t){return this.getLineLength(t)}translateToInputOffset(t,o){t>0&&(o=Math.max(0,o-this.wrappedTextIndentLength));let V=0===t?o:this.breakOffsets[t-1]+o;if(null!==this.injectionOffsets)for(let Z=0;Z<this.injectionOffsets.length&&V>this.injectionOffsets[Z];Z++)V<this.injectionOffsets[Z]+this.injectionOptions[Z].content.length?V=this.injectionOffsets[Z]:V-=this.injectionOptions[Z].content.length;return V}translateToOutputPosition(t,o=2){let b=t;if(null!==this.injectionOffsets)for(let V=0;V<this.injectionOffsets.length&&!(t<this.injectionOffsets[V]||1!==o&&t===this.injectionOffsets[V]);V++)b+=this.injectionOptions[V].content.length;return this.offsetInInputWithInjectionsToOutputPosition(b,o)}offsetInInputWithInjectionsToOutputPosition(t,o=2){let b=0,V=this.breakOffsets.length-1,Z=0,Le=0;for(;b<=V;){Z=b+(V-b)/2|0;const Ge=this.breakOffsets[Z];if(Le=Z>0?this.breakOffsets[Z-1]:0,0===o)if(t<=Le)V=Z-1;else{if(!(t>Ge))break;b=Z+1}else if(t<Le)V=Z-1;else{if(!(t>=Ge))break;b=Z+1}}let Re=t-Le;return Z>0&&(Re+=this.wrappedTextIndentLength),new Wr(Z,Re)}normalizeOutputPosition(t,o,b){if(null!==this.injectionOffsets){const V=this.outputPositionToOffsetInInputWithInjections(t,o),Z=this.normalizeOffsetInInputWithInjectionsAroundInjections(V,b);if(Z!==V)return this.offsetInInputWithInjectionsToOutputPosition(Z,b)}if(0===b){if(t>0&&o===this.getMinOutputOffset(t))return new Wr(t-1,this.getMaxOutputOffset(t-1))}else if(1===b&&t<this.getOutputLineCount()-1&&o===this.getMaxOutputOffset(t))return new Wr(t+1,this.getMinOutputOffset(t+1));return new Wr(t,o)}outputPositionToOffsetInInputWithInjections(t,o){return t>0&&(o=Math.max(0,o-this.wrappedTextIndentLength)),(t>0?this.breakOffsets[t-1]:0)+o}normalizeOffsetInInputWithInjectionsAroundInjections(t,o){const b=this.getInjectedTextAtOffset(t);if(!b)return t;if(2===o){if(t===b.offsetInInputWithInjections+b.length&&za(this.injectionOptions[b.injectedTextIndex].cursorStops))return b.offsetInInputWithInjections+b.length;{let V=b.offsetInInputWithInjections;if(Xo(this.injectionOptions[b.injectedTextIndex].cursorStops))return V;let Z=b.injectedTextIndex-1;for(;Z>=0&&this.injectionOffsets[Z]===this.injectionOffsets[b.injectedTextIndex]&&!za(this.injectionOptions[Z].cursorStops)&&(V-=this.injectionOptions[Z].content.length,!Xo(this.injectionOptions[Z].cursorStops));)Z--;return V}}if(1===o||4===o){let V=b.offsetInInputWithInjections+b.length,Z=b.injectedTextIndex;for(;Z+1<this.injectionOffsets.length&&this.injectionOffsets[Z+1]===this.injectionOffsets[Z];)V+=this.injectionOptions[Z+1].content.length,Z++;return V}if(0===o||3===o){let V=b.offsetInInputWithInjections,Z=b.injectedTextIndex;for(;Z-1>=0&&this.injectionOffsets[Z-1]===this.injectionOffsets[Z];)V-=this.injectionOptions[Z-1].content.length,Z--;return V}(0,Ua.vE)(o)}getInjectedText(t,o){const b=this.outputPositionToOffsetInInputWithInjections(t,o),V=this.getInjectedTextAtOffset(b);return V?{options:this.injectionOptions[V.injectedTextIndex]}:null}getInjectedTextAtOffset(t){const o=this.injectionOffsets,b=this.injectionOptions;if(null!==o){let V=0;for(let Z=0;Z<o.length;Z++){const Le=b[Z].content.length,Re=o[Z]+V,Ge=o[Z]+V+Le;if(Re>t)break;if(t<=Ge)return{injectedTextIndex:Z,offsetInInputWithInjections:Re,length:Le};V+=Le}}}}function za(bt){return null==bt||bt===$o.RM.Right||bt===$o.RM.Both}function Xo(bt){return null==bt||bt===$o.RM.Left||bt===$o.RM.Both}class Wr{constructor(t,o){this.outputLineIndex=t,this.outputOffset=o}toString(){return`${this.outputLineIndex}:${this.outputOffset}`}toPosition(t){return new le.L(t+this.outputLineIndex,this.outputOffset+1)}}class Vr{static create(t){return new Vr(t.get(131),t.get(130))}constructor(t,o){this.classifier=new El(t,o)}createLineBreaksComputer(t,o,b,V,Z){const Le=[],Re=[],Ge=[];return{addRequest:(at,vt,Ct)=>{Le.push(at),Re.push(vt),Ge.push(Ct)},finalize:()=>{const at=t.typicalFullwidthCharacterWidth/t.typicalHalfwidthCharacterWidth,vt=[];for(let Ct=0,Vt=Le.length;Ct<Vt;Ct++){const Ht=Re[Ct],ei=Ge[Ct];vt[Ct]=!ei||ei.injectionOptions||Ht?hc(this.classifier,Le[Ct],Ht,o,b,at,V,Z):Lr(this.classifier,ei,Le[Ct],o,b,at,V,Z)}return na.length=0,wr.length=0,vt}}}}class El extends Ha.N{constructor(t,o){super(0);for(let b=0;b<t.length;b++)this.set(t.charCodeAt(b),1);for(let b=0;b<o.length;b++)this.set(o.charCodeAt(b),2)}get(t){return t>=0&&t<256?this._asciiMap[t]:t>=12352&&t<=12543||t>=13312&&t<=19903||t>=19968&&t<=40959?3:this._map.get(t)||this._defaultValue}}let na=[],wr=[];function Lr(bt,t,o,b,V,Z,Le,Re){if(-1===V)return null;const Ge=o.length;if(Ge<=1)return null;const at="keepAll"===Re,vt=t.breakOffsets,Ct=t.breakOffsetsVisibleColumn,Vt=ra(o,b,V,Z,Le),Ht=V-Vt,ei=na,pi=wr;let wi=0,Ni=0,Pi=0,Ji=V;const un=vt.length;let En=0;if(En>=0){let mn=Math.abs(Ct[En]-Ji);for(;En+1<un;){const Tn=Math.abs(Ct[En+1]-Ji);if(Tn>=mn)break;mn=Tn,En++}}for(;En<un;){let mn=En<0?0:vt[En],Tn=En<0?0:Ct[En];Ni>mn&&(mn=Ni,Tn=Pi);let Mn=0,dn=0,In=0,Vn=0;if(Tn<=Ji){let Zn=Tn,uo=0===mn?0:o.charCodeAt(mn-1),go=0===mn?0:bt.get(uo),To=!0;for(let bo=mn;bo<Ge;bo++){const Ro=bo,co=o.charCodeAt(bo);let Jo,Ss;if(St.ZG(co)?(bo++,Jo=0,Ss=2):(Jo=bt.get(co),Ss=oa(co,Zn,b,Z)),Ro>Ni&&sa(0,go,co,Jo,at)&&(Mn=Ro,dn=Zn),Zn+=Ss,Zn>Ji){Ro>Ni?(In=Ro,Vn=Zn-Ss):(In=bo+1,Vn=Zn),Zn-dn>Ht&&(Mn=0),To=!1;break}uo=co,go=Jo}if(To){wi>0&&(ei[wi]=vt[vt.length-1],pi[wi]=Ct[vt.length-1],wi++);break}}if(0===Mn){let Zn=Tn,uo=o.charCodeAt(mn),go=bt.get(uo),To=!1;for(let bo=mn-1;bo>=Ni;bo--){const Ro=bo+1,co=o.charCodeAt(bo);if(9===co){To=!0;break}let Jo,Ss;if(St.YK(co)?(bo--,Jo=0,Ss=2):(Jo=bt.get(co),Ss=St.K7(co)?Z:1),Zn<=Ji){if(0===In&&(In=Ro,Vn=Zn),Zn<=Ji-Ht)break;if(sa(0,Jo,uo,go,at)){Mn=Ro,dn=Zn;break}}Zn-=Ss,uo=co,go=Jo}if(0!==Mn){const bo=Ht-(Vn-dn);if(bo<=b){const Ro=o.charCodeAt(In);let co;co=St.ZG(Ro)?2:oa(Ro,Vn,b,Z),bo-co<0&&(Mn=0)}}if(To){En--;continue}}if(0===Mn&&(Mn=In,dn=Vn),Mn<=Ni){const Zn=o.charCodeAt(Ni);St.ZG(Zn)?(Mn=Ni+2,dn=Pi+2):(Mn=Ni+1,dn=Pi+oa(Zn,Pi,b,Z))}for(Ni=Mn,ei[wi]=Mn,Pi=dn,pi[wi]=dn,wi++,Ji=dn+Ht;En<0||En<un&&Ct[En]<dn;)En++;let jn=Math.abs(Ct[En]-Ji);for(;En+1<un;){const Zn=Math.abs(Ct[En+1]-Ji);if(Zn>=jn)break;jn=Zn,En++}}return 0===wi?null:(ei.length=wi,pi.length=wi,na=t.breakOffsets,wr=t.breakOffsetsVisibleColumn,t.breakOffsets=ei,t.breakOffsetsVisibleColumn=pi,t.wrappedTextIndentLength=Vt,t)}function hc(bt,t,o,b,V,Z,Le,Re){const Ge=Cs.gk.applyInjectedText(t,o);let at,vt;if(o&&o.length>0?(at=o.map(dn=>dn.options),vt=o.map(dn=>dn.column-1)):(at=null,vt=null),-1===V)return at?new qs(vt,at,[Ge.length],[],0):null;const Ct=Ge.length;if(Ct<=1)return at?new qs(vt,at,[Ge.length],[],0):null;const Vt="keepAll"===Re,Ht=ra(Ge,b,V,Z,Le),ei=V-Ht,pi=[],wi=[];let Ni=0,Pi=0,Ji=0,un=V,En=Ge.charCodeAt(0),mn=bt.get(En),Tn=oa(En,0,b,Z),Mn=1;St.ZG(En)&&(Tn+=1,En=Ge.charCodeAt(1),mn=bt.get(En),Mn++);for(let dn=Mn;dn<Ct;dn++){const In=dn,Vn=Ge.charCodeAt(dn);let jn,Zn;St.ZG(Vn)?(dn++,jn=0,Zn=2):(jn=bt.get(Vn),Zn=oa(Vn,Tn,b,Z)),sa(0,mn,Vn,jn,Vt)&&(Pi=In,Ji=Tn),Tn+=Zn,Tn>un&&((0===Pi||Tn-Ji>ei)&&(Pi=In,Ji=Tn-Zn),pi[Ni]=Pi,wi[Ni]=Ji,Ni++,un=Ji+ei,Pi=0),En=Vn,mn=jn}return 0!==Ni||o&&0!==o.length?(pi[Ni]=Ct,wi[Ni]=Tn,new qs(vt,at,pi,wi,Ht)):null}function oa(bt,t,o,b){return 9===bt?o-t%o:St.K7(bt)||bt<32?b:1}function ja(bt,t){return t-bt%t}function sa(bt,t,o,b,V){return 32!==o&&(2===t&&2!==b||1!==t&&1===b||!V&&3===t&&2!==b||!V&&3===b&&1!==t)}function ra(bt,t,o,b,V){let Z=0;if(0!==V){const Le=St.LC(bt);if(-1!==Le){for(let Ge=0;Ge<Le;Ge++)Z+=9===bt.charCodeAt(Ge)?ja(Z,t):1;const Re=3===V?2:2===V?1:0;for(let Ge=0;Ge<Re;Ge++)Z+=ja(Z,t);Z+b>o&&(Z=0)}}return Z}const Hr=(0,Yi.Z)("domLineBreaksComputer",{createHTML:bt=>bt});class aa{static create(){return new aa}constructor(){}createLineBreaksComputer(t,o,b,V,Z){const Le=[],Re=[];return{addRequest:(Ge,at,vt)=>{Le.push(Ge),Re.push(at)},finalize:()=>function cd(bt,t,o,b,V,Z,Le){var Re;function Ge(dn){const In=Le[dn];if(In){const Vn=Cs.gk.applyInjectedText(bt[dn],In),jn=In.map(uo=>uo.options),Zn=In.map(uo=>uo.column-1);return new qs(Zn,jn,[Vn.length],[],0)}return null}if(-1===b){const dn=[];for(let In=0,Vn=bt.length;In<Vn;In++)dn[In]=Ge(In);return dn}const at=Math.round(b*t.typicalHalfwidthCharacterWidth),Ct=Math.round(o*(3===V?2:2===V?1:0)),Vt=Math.ceil(t.spaceWidth*Ct),Ht=document.createElement("div");(0,st.N)(Ht,t);const ei=new Qi.HT(1e4),pi=[],wi=[],Ni=[],Pi=[],Ji=[];for(let dn=0;dn<bt.length;dn++){const In=Cs.gk.applyInjectedText(bt[dn],Le[dn]);let Vn=0,jn=0,Zn=at;if(0!==V)if(Vn=St.LC(In),-1===Vn)Vn=0;else{for(let bo=0;bo<Vn;bo++)jn+=9===In.charCodeAt(bo)?o-jn%o:1;const To=Math.ceil(t.spaceWidth*jn);To+t.typicalFullwidthCharacterWidth>at?(Vn=0,jn=0):Zn=at-To}const uo=In.substr(Vn),go=hd(uo,jn,o,Zn,ei,Vt);pi[dn]=Vn,wi[dn]=jn,Ni[dn]=uo,Pi[dn]=go[0],Ji[dn]=go[1]}const un=ei.build(),En=null!==(Re=Hr?.createHTML(un))&&void 0!==Re?Re:un;Ht.innerHTML=En,Ht.style.position="absolute",Ht.style.top="10000","keepAll"===Z?(Ht.style.wordBreak="keep-all",Ht.style.overflowWrap="anywhere"):(Ht.style.wordBreak="inherit",Ht.style.overflowWrap="break-word"),document.body.appendChild(Ht);const mn=document.createRange(),Tn=Array.prototype.slice.call(Ht.children,0),Mn=[];for(let dn=0;dn<bt.length;dn++){const Vn=la(mn,Tn[dn],Ni[dn],Pi[dn]);if(null===Vn){Mn[dn]=Ge(dn);continue}const jn=pi[dn],Zn=wi[dn]+Ct,uo=Ji[dn],go=[];for(let co=0,Jo=Vn.length;co<Jo;co++)go[co]=uo[Vn[co]];if(0!==jn)for(let co=0,Jo=Vn.length;co<Jo;co++)Vn[co]+=jn;let To,bo;const Ro=Le[dn];Ro?(To=Ro.map(co=>co.options),bo=Ro.map(co=>co.column-1)):(To=null,bo=null),Mn[dn]=new qs(bo,To,Vn,go,Zn)}return document.body.removeChild(Ht),Mn}(Le,t,o,b,V,Z,Re)}}}function hd(bt,t,o,b,V,Z){if(0!==Z){const Vt=String(Z);V.appendString('<div style="text-indent: -'),V.appendString(Vt),V.appendString("px; padding-left: "),V.appendString(Vt),V.appendString("px; box-sizing: border-box; width:")}else V.appendString('<div style="width:');V.appendString(String(b)),V.appendString('px;">');const Le=bt.length;let Re=t,Ge=0;const at=[],vt=[];let Ct=0<Le?bt.charCodeAt(0):0;V.appendString("<span>");for(let Vt=0;Vt<Le;Vt++){0!==Vt&&Vt%16384==0&&V.appendString("</span><span>"),at[Vt]=Ge,vt[Vt]=Re;const Ht=Ct;Ct=Vt+1<Le?bt.charCodeAt(Vt+1):0;let ei=1,pi=1;switch(Ht){case 9:ei=o-Re%o,pi=ei;for(let wi=1;wi<=ei;wi++)wi<ei?V.appendCharCode(160):V.appendASCIICharCode(32);break;case 32:32===Ct?V.appendCharCode(160):V.appendASCIICharCode(32);break;case 60:V.appendString("&lt;");break;case 62:V.appendString("&gt;");break;case 38:V.appendString("&amp;");break;case 0:V.appendString("&#00;");break;case 65279:case 8232:case 8233:case 133:V.appendCharCode(65533);break;default:St.K7(Ht)&&pi++,V.appendCharCode(Ht<32?9216+Ht:Ht)}Ge+=ei,Re+=pi}return V.appendString("</span>"),at[bt.length]=Ge,vt[bt.length]=Re,V.appendString("</div>"),[at,vt]}function la(bt,t,o,b){if(o.length<=1)return null;const V=Array.prototype.slice.call(t.children,0),Z=[];try{Hs(bt,V,b,0,null,o.length-1,null,Z)}catch(Le){return console.log(Le),null}return 0===Z.length?null:(Z.push(o.length),Z)}function Hs(bt,t,o,b,V,Z,Le,Re){if(b===Z||(V=V||Dl(bt,t,o[b],o[b+1]),Le=Le||Dl(bt,t,o[Z],o[Z+1]),Math.abs(V[0].top-Le[0].top)<=.1))return;if(b+1===Z)return void Re.push(Z);const Ge=b+(Z-b)/2|0,at=Dl(bt,t,o[Ge],o[Ge+1]);Hs(bt,t,o,b,V,Ge,at,Re),Hs(bt,t,o,Ge,at,Z,Le,Re)}function Dl(bt,t,o,b){return bt.setStart(t[o/16384|0].firstChild,o%16384),bt.setEnd(t[b/16384|0].firstChild,b%16384),bt.getClientRects()}var uc=e(86350),ud=e(58459),gd=e(55763),er=e(63032);const xl={value:(0,N.NC)("accessibleDiffViewer","Accessible Diff Viewer"),original:"Accessible Diff Viewer"};let Er=(()=>{class bt extends er.Ke{constructor(){super({id:bt.id,title:{value:(0,N.NC)("editor.action.accessibleDiffViewer.next","Go to Next Difference"),original:"Go to Next Difference"},category:xl,precondition:bs.Ao.has("isInDiffEditor"),keybinding:{primary:65,weight:100},f1:!0})}run(o){const b=fd(o);b?.accessibleDiffViewerNext()}}return bt.id="editor.action.accessibleDiffViewer.next",bt})();er.BH.appendMenuItem(er.eH.EditorTitle,{command:{id:Er.id,title:(0,N.NC)("Open Accessible Diff Viewer","Open Accessible Diff Viewer")},order:10,group:"2_diff",when:bs.Ao.and(vo.u.accessibleDiffViewerVisible.negate(),bs.Ao.has("isInDiffEditor"))});let Ka=(()=>{class bt extends er.Ke{constructor(){super({id:bt.id,title:{value:(0,N.NC)("editor.action.accessibleDiffViewer.prev","Go to Previous Difference"),original:"Go to Previous Difference"},category:xl,precondition:bs.Ao.has("isInDiffEditor"),keybinding:{primary:1089,weight:100},f1:!0})}run(o){const b=fd(o);b?.accessibleDiffViewerPrev()}}return bt.id="editor.action.accessibleDiffViewer.prev",bt})();function fd(bt){var t;const o=bt.get(x.$),b=o.listDiffEditors(),V=null!==(t=o.getFocusedCodeEditor())&&void 0!==t?t:o.getActiveCodeEditor();if(!V)return null;for(let Z=0,Le=b.length;Z<Le;Z++){const Re=b[Z];if(Re.getModifiedEditor().getId()===V.getId()||Re.getOriginalEditor().getId()===V.getId())return Re}if(document.activeElement)for(const Z of b)if(gc(Z.getContainerDomNode(),document.activeElement))return Z;return null}function gc(bt,t){let o=t;for(;o;){if(o===bt)return!0;o=o.parentElement}return!1}Sr.P.registerCommandAlias("editor.action.diffReview.next",Er.id),(0,er.r1)(Er),Sr.P.registerCommandAlias("editor.action.diffReview.prev",Ka.id),(0,er.r1)(Ka);class md extends O.JT{constructor(){super(),this._editor=null,this._instantiationService=null,this._instances=this._register(new O.b2),this._pending=new Map,this._finishedInstantiation=[],this._finishedInstantiation[0]=!1,this._finishedInstantiation[1]=!1,this._finishedInstantiation[2]=!1,this._finishedInstantiation[3]=!1}initialize(t,o,b){this._editor=t,this._instantiationService=b;for(const V of o)this._pending.has(V.id)?(0,k.dL)(new Error(`Cannot have two contributions with the same id ${V.id}`)):this._pending.set(V.id,V);this._instantiateSome(0),this._register((0,en.To)(()=>{this._instantiateSome(1)})),this._register((0,en.To)(()=>{this._instantiateSome(2)})),this._register((0,en.To)(()=>{this._instantiateSome(3)},5e3))}saveViewState(){const t={};for(const[o,b]of this._instances)"function"==typeof b.saveViewState&&(t[o]=b.saveViewState());return t}restoreViewState(t){for(const[o,b]of this._instances)"function"==typeof b.restoreViewState&&b.restoreViewState(t[o])}get(t){return this._instantiateById(t),this._instances.get(t)||null}onBeforeInteractionEvent(){this._instantiateSome(2)}onAfterModelAttached(){this._register((0,en.To)(()=>{this._instantiateSome(1)},50))}_instantiateSome(t){if(this._finishedInstantiation[t])return;this._finishedInstantiation[t]=!0;const o=this._findPendingContributionsByInstantiation(t);for(const b of o)this._instantiateById(b.id)}_findPendingContributionsByInstantiation(t){const o=[];for(const[,b]of this._pending)b.instantiation===t&&o.push(b);return o}_instantiateById(t){const o=this._pending.get(t);if(o){if(this._pending.delete(t),!this._instantiationService||!this._editor)throw new Error("Cannot instantiate contributions before being initialized!");try{const b=this._instantiationService.createInstance(o.ctor,this._editor);this._instances.set(o.id,b),"function"==typeof b.restoreViewState&&0!==o.instantiation&&console.warn(`Editor contribution '${o.id}' should be eager instantiated because it uses saveViewState / restoreViewState.`)}catch(b){(0,k.dL)(b)}}}}var Rs,As=function(bt,t){return function(o,b){t(o,b,bt)}};let da=0;class vd{constructor(t,o,b,V,Z,Le){this.model=t,this.viewModel=o,this.view=b,this.hasRealView=V,this.listenersToRemove=Z,this.attachedView=Le}dispose(){(0,O.B9)(this.listenersToRemove),this.model.onBeforeDetached(this.attachedView),this.hasRealView&&this.view.dispose(),this.viewModel.dispose()}}let ca=Rs=class extends O.JT{get isSimpleWidget(){return this._configuration.isSimpleWidget}constructor(t,o,b,V,Z,Le,Re,Ge,at,vt,Ct,Vt){var Ht;super(),this.languageConfigurationService=Ct,this._deliveryQueue=(0,R.Sp)(),this._contributions=this._register(new md),this._onDidDispose=this._register(new R.Q5),this.onDidDispose=this._onDidDispose.event,this._onDidChangeModelContent=this._register(new R.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelContent=this._onDidChangeModelContent.event,this._onDidChangeModelLanguage=this._register(new R.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelLanguage=this._onDidChangeModelLanguage.event,this._onDidChangeModelLanguageConfiguration=this._register(new R.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelLanguageConfiguration=this._onDidChangeModelLanguageConfiguration.event,this._onDidChangeModelOptions=this._register(new R.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelOptions=this._onDidChangeModelOptions.event,this._onDidChangeModelDecorations=this._register(new R.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelDecorations=this._onDidChangeModelDecorations.event,this._onDidChangeModelTokens=this._register(new R.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelTokens=this._onDidChangeModelTokens.event,this._onDidChangeConfiguration=this._register(new R.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._onDidChangeModel=this._register(new R.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeModel=this._onDidChangeModel.event,this._onDidChangeCursorPosition=this._register(new R.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeCursorPosition=this._onDidChangeCursorPosition.event,this._onDidChangeCursorSelection=this._register(new R.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeCursorSelection=this._onDidChangeCursorSelection.event,this._onDidAttemptReadOnlyEdit=this._register(new Wo(this._contributions,this._deliveryQueue)),this.onDidAttemptReadOnlyEdit=this._onDidAttemptReadOnlyEdit.event,this._onDidLayoutChange=this._register(new R.Q5({deliveryQueue:this._deliveryQueue})),this.onDidLayoutChange=this._onDidLayoutChange.event,this._editorTextFocus=this._register(new Ga({deliveryQueue:this._deliveryQueue})),this.onDidFocusEditorText=this._editorTextFocus.onDidChangeToTrue,this.onDidBlurEditorText=this._editorTextFocus.onDidChangeToFalse,this._editorWidgetFocus=this._register(new Ga({deliveryQueue:this._deliveryQueue})),this.onDidFocusEditorWidget=this._editorWidgetFocus.onDidChangeToTrue,this.onDidBlurEditorWidget=this._editorWidgetFocus.onDidChangeToFalse,this._onWillType=this._register(new Wo(this._contributions,this._deliveryQueue)),this.onWillType=this._onWillType.event,this._onDidType=this._register(new Wo(this._contributions,this._deliveryQueue)),this.onDidType=this._onDidType.event,this._onDidCompositionStart=this._register(new Wo(this._contributions,this._deliveryQueue)),this.onDidCompositionStart=this._onDidCompositionStart.event,this._onDidCompositionEnd=this._register(new Wo(this._contributions,this._deliveryQueue)),this.onDidCompositionEnd=this._onDidCompositionEnd.event,this._onDidPaste=this._register(new Wo(this._contributions,this._deliveryQueue)),this.onDidPaste=this._onDidPaste.event,this._onMouseUp=this._register(new Wo(this._contributions,this._deliveryQueue)),this.onMouseUp=this._onMouseUp.event,this._onMouseDown=this._register(new Wo(this._contributions,this._deliveryQueue)),this.onMouseDown=this._onMouseDown.event,this._onMouseDrag=this._register(new Wo(this._contributions,this._deliveryQueue)),this.onMouseDrag=this._onMouseDrag.event,this._onMouseDrop=this._register(new Wo(this._contributions,this._deliveryQueue)),this.onMouseDrop=this._onMouseDrop.event,this._onMouseDropCanceled=this._register(new Wo(this._contributions,this._deliveryQueue)),this.onMouseDropCanceled=this._onMouseDropCanceled.event,this._onDropIntoEditor=this._register(new Wo(this._contributions,this._deliveryQueue)),this.onDropIntoEditor=this._onDropIntoEditor.event,this._onContextMenu=this._register(new Wo(this._contributions,this._deliveryQueue)),this.onContextMenu=this._onContextMenu.event,this._onMouseMove=this._register(new Wo(this._contributions,this._deliveryQueue)),this.onMouseMove=this._onMouseMove.event,this._onMouseLeave=this._register(new Wo(this._contributions,this._deliveryQueue)),this.onMouseLeave=this._onMouseLeave.event,this._onMouseWheel=this._register(new Wo(this._contributions,this._deliveryQueue)),this.onMouseWheel=this._onMouseWheel.event,this._onKeyUp=this._register(new Wo(this._contributions,this._deliveryQueue)),this.onKeyUp=this._onKeyUp.event,this._onKeyDown=this._register(new Wo(this._contributions,this._deliveryQueue)),this.onKeyDown=this._onKeyDown.event,this._onDidContentSizeChange=this._register(new R.Q5({deliveryQueue:this._deliveryQueue})),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._onDidScrollChange=this._register(new R.Q5({deliveryQueue:this._deliveryQueue})),this.onDidScrollChange=this._onDidScrollChange.event,this._onDidChangeViewZones=this._register(new R.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeViewZones=this._onDidChangeViewZones.event,this._onDidChangeHiddenAreas=this._register(new R.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeHiddenAreas=this._onDidChangeHiddenAreas.event,this._actions=new Map,this._bannerDomNode=null,this._dropIntoEditorDecorations=this.createDecorationsCollection(),Z.willCreateCodeEditor();const ei=Object.assign({},o);let pi;this._domElement=t,this._overflowWidgetsDomNode=ei.overflowWidgetsDomNode,delete ei.overflowWidgetsDomNode,this._id=++da,this._decorationTypeKeysToIds={},this._decorationTypeSubtypes={},this._telemetryData=b.telemetryData,this._configuration=this._register(this._createConfiguration(b.isSimpleWidget||!1,ei,vt)),this._register(this._configuration.onDidChange(Ni=>{this._onDidChangeConfiguration.fire(Ni);const Pi=this._configuration.options;if(Ni.hasChanged(142)){const Ji=Pi.get(142);this._onDidLayoutChange.fire(Ji)}})),this._contextKeyService=this._register(Re.createScoped(this._domElement)),this._notificationService=at,this._codeEditorService=Z,this._commandService=Le,this._themeService=Ge,this._register(new _d(this,this._contextKeyService)),this._register(new Za(this,this._contextKeyService,Vt)),this._instantiationService=V.createChild(new dc.y([bs.i6,this._contextKeyService])),this._modelData=null,this._focusTracker=new Cd(t),this._register(this._focusTracker.onChange(()=>{this._editorWidgetFocus.setValue(this._focusTracker.hasFocus())})),this._contentWidgets={},this._overlayWidgets={},this._glyphMarginWidgets={},pi=Array.isArray(b.contributions)?b.contributions:P.Uc.getEditorContributions(),this._contributions.initialize(this,pi,this._instantiationService);for(const Ni of P.Uc.getEditorActions()){if(this._actions.has(Ni.id)){(0,k.dL)(new Error(`Cannot have two actions with the same id ${Ni.id}`));continue}const Pi=new cr.p(Ni.id,Ni.label,Ni.alias,null!==(Ht=Ni.precondition)&&void 0!==Ht?Ht:void 0,()=>this._instantiationService.invokeFunction(Ji=>Promise.resolve(Ni.runEditorCommand(Ji,this,null))),this._contextKeyService);this._actions.set(Pi.id,Pi)}const wi=()=>!this._configuration.options.get(89)&&this._configuration.options.get(35).enabled;this._register(new A.eg(this._domElement,{onDragEnter:()=>{},onDragOver:Ni=>{if(!wi())return;const Pi=this.getTargetAtClientPoint(Ni.clientX,Ni.clientY);Pi?.position&&this.showDropIndicatorAt(Pi.position)},onDrop:Ni=>function(bt,t,o,b){return new(o||(o=Promise))(function(Z,Le){function Re(vt){try{at(b.next(vt))}catch(Ct){Le(Ct)}}function Ge(vt){try{at(b.throw(vt))}catch(Ct){Le(Ct)}}function at(vt){vt.done?Z(vt.value):function V(Z){return Z instanceof o?Z:new o(function(Le){Le(Z)})}(vt.value).then(Re,Ge)}at((b=b.apply(bt,t||[])).next())})}(this,void 0,void 0,function*(){if(!wi()||(this.removeDropIndicator(),!Ni.dataTransfer))return;const Pi=this.getTargetAtClientPoint(Ni.clientX,Ni.clientY);Pi?.position&&this._onDropIntoEditor.fire({position:Pi.position,event:Ni})}),onDragLeave:()=>{this.removeDropIndicator()},onDragEnd:()=>{this.removeDropIndicator()}})),this._codeEditorService.addCodeEditor(this)}writeScreenReaderContent(t){var o;null===(o=this._modelData)||void 0===o||o.view.writeScreenReaderContent(t)}_createConfiguration(t,o,b){return new Ie(t,o,this._domElement,b)}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return Zl.g.ICodeEditor}dispose(){this._codeEditorService.removeCodeEditor(this),this._focusTracker.dispose(),this._actions.clear(),this._contentWidgets={},this._overlayWidgets={},this._removeDecorationTypes(),this._postDetachModelCleanup(this._detachModel()),this._onDidDispose.fire(),super.dispose()}invokeWithinContext(t){return this._instantiationService.invokeFunction(t)}updateOptions(t){this._configuration.updateOptions(t||{})}getOptions(){return this._configuration.options}getOption(t){return this._configuration.options.get(t)}getRawOptions(){return this._configuration.getRawOptions()}getOverflowWidgetsDomNode(){return this._overflowWidgetsDomNode}getConfiguredWordAtPosition(t){return this._modelData?uc.w.getWordAtPosition(this._modelData.model,this._configuration.options.get(128),t):null}getValue(t=null){if(!this._modelData)return"";let b=0;return t&&t.lineEnding&&"\n"===t.lineEnding?b=1:t&&t.lineEnding&&"\r\n"===t.lineEnding&&(b=2),this._modelData.model.getValue(b,!(!t||!t.preserveBOM))}setValue(t){this._modelData&&this._modelData.model.setValue(t)}getModel(){return this._modelData?this._modelData.model:null}setModel(t=null){const o=t;if(null===this._modelData&&null===o||this._modelData&&this._modelData.model===o)return;const b=this.hasTextFocus(),V=this._detachModel();this._attachModel(o),b&&this.hasModel()&&this.focus();const Z={oldModelUrl:V?V.uri:null,newModelUrl:o?o.uri:null};this._removeDecorationTypes(),this._onDidChangeModel.fire(Z),this._postDetachModelCleanup(V),this._contributions.onAfterModelAttached()}_removeDecorationTypes(){if(this._decorationTypeKeysToIds={},this._decorationTypeSubtypes){for(const t in this._decorationTypeSubtypes){const o=this._decorationTypeSubtypes[t];for(const b in o)this._removeDecorationType(t+"-"+b)}this._decorationTypeSubtypes={}}}getVisibleRanges(){return this._modelData?this._modelData.viewModel.getVisibleRanges():[]}getVisibleRangesPlusViewportAboveBelow(){return this._modelData?this._modelData.viewModel.getVisibleRangesPlusViewportAboveBelow():[]}getWhitespaces(){return this._modelData?this._modelData.viewModel.viewLayout.getWhitespaces():[]}static _getVerticalOffsetAfterPosition(t,o,b,V){const Z=t.model.validatePosition({lineNumber:o,column:b}),Le=t.viewModel.coordinatesConverter.convertModelPositionToViewPosition(Z);return t.viewModel.viewLayout.getVerticalOffsetAfterLineNumber(Le.lineNumber,V)}getTopForLineNumber(t,o=!1){return this._modelData?Rs._getVerticalOffsetForPosition(this._modelData,t,1,o):-1}getTopForPosition(t,o){return this._modelData?Rs._getVerticalOffsetForPosition(this._modelData,t,o,!1):-1}static _getVerticalOffsetForPosition(t,o,b,V=!1){const Z=t.model.validatePosition({lineNumber:o,column:b}),Le=t.viewModel.coordinatesConverter.convertModelPositionToViewPosition(Z);return t.viewModel.viewLayout.getVerticalOffsetForLineNumber(Le.lineNumber,V)}getBottomForLineNumber(t,o=!1){return this._modelData?Rs._getVerticalOffsetAfterPosition(this._modelData,t,1,o):-1}setHiddenAreas(t,o){var b;null===(b=this._modelData)||void 0===b||b.viewModel.setHiddenAreas(t.map(V=>ie.e.lift(V)),o)}getVisibleColumnFromPosition(t){if(!this._modelData)return t.column;const o=this._modelData.model.validatePosition(t),b=this._modelData.model.getOptions().tabSize;return Fe.i.visibleColumnFromColumn(this._modelData.model.getLineContent(o.lineNumber),o.column,b)+1}getPosition(){return this._modelData?this._modelData.viewModel.getPosition():null}setPosition(t,o="api"){if(this._modelData){if(!le.L.isIPosition(t))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(o,[{selectionStartLineNumber:t.lineNumber,selectionStartColumn:t.column,positionLineNumber:t.lineNumber,positionColumn:t.column}])}}_sendRevealRange(t,o,b,V){if(!this._modelData)return;if(!ie.e.isIRange(t))throw new Error("Invalid arguments");const Z=this._modelData.model.validateRange(t),Le=this._modelData.viewModel.coordinatesConverter.convertModelRangeToViewRange(Z);this._modelData.viewModel.revealRange("api",b,Le,o,V)}revealLine(t,o=0){this._revealLine(t,0,o)}revealLineInCenter(t,o=0){this._revealLine(t,1,o)}revealLineInCenterIfOutsideViewport(t,o=0){this._revealLine(t,2,o)}revealLineNearTop(t,o=0){this._revealLine(t,5,o)}_revealLine(t,o,b){if("number"!=typeof t)throw new Error("Invalid arguments");this._sendRevealRange(new ie.e(t,1,t,1),o,!1,b)}revealPosition(t,o=0){this._revealPosition(t,0,!0,o)}revealPositionInCenter(t,o=0){this._revealPosition(t,1,!0,o)}revealPositionInCenterIfOutsideViewport(t,o=0){this._revealPosition(t,2,!0,o)}revealPositionNearTop(t,o=0){this._revealPosition(t,5,!0,o)}_revealPosition(t,o,b,V){if(!le.L.isIPosition(t))throw new Error("Invalid arguments");this._sendRevealRange(new ie.e(t.lineNumber,t.column,t.lineNumber,t.column),o,b,V)}getSelection(){return this._modelData?this._modelData.viewModel.getSelection():null}getSelections(){return this._modelData?this._modelData.viewModel.getSelections():null}setSelection(t,o="api"){const b=F.Y.isISelection(t),V=ie.e.isIRange(t);if(!b&&!V)throw new Error("Invalid arguments");b?this._setSelectionImpl(t,o):V&&this._setSelectionImpl({selectionStartLineNumber:t.startLineNumber,selectionStartColumn:t.startColumn,positionLineNumber:t.endLineNumber,positionColumn:t.endColumn},o)}_setSelectionImpl(t,o){if(!this._modelData)return;const b=new F.Y(t.selectionStartLineNumber,t.selectionStartColumn,t.positionLineNumber,t.positionColumn);this._modelData.viewModel.setSelections(o,[b])}revealLines(t,o,b=0){this._revealLines(t,o,0,b)}revealLinesInCenter(t,o,b=0){this._revealLines(t,o,1,b)}revealLinesInCenterIfOutsideViewport(t,o,b=0){this._revealLines(t,o,2,b)}revealLinesNearTop(t,o,b=0){this._revealLines(t,o,5,b)}_revealLines(t,o,b,V){if("number"!=typeof t||"number"!=typeof o)throw new Error("Invalid arguments");this._sendRevealRange(new ie.e(t,1,o,1),b,!1,V)}revealRange(t,o=0,b=!1,V=!0){this._revealRange(t,b?1:0,V,o)}revealRangeInCenter(t,o=0){this._revealRange(t,1,!0,o)}revealRangeInCenterIfOutsideViewport(t,o=0){this._revealRange(t,2,!0,o)}revealRangeNearTop(t,o=0){this._revealRange(t,5,!0,o)}revealRangeNearTopIfOutsideViewport(t,o=0){this._revealRange(t,6,!0,o)}revealRangeAtTop(t,o=0){this._revealRange(t,3,!0,o)}_revealRange(t,o,b,V){if(!ie.e.isIRange(t))throw new Error("Invalid arguments");this._sendRevealRange(ie.e.lift(t),o,b,V)}setSelections(t,o="api",b=0){if(this._modelData){if(!t||0===t.length)throw new Error("Invalid arguments");for(let V=0,Z=t.length;V<Z;V++)if(!F.Y.isISelection(t[V]))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(o,t,b)}}getContentWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getContentWidth():-1}getScrollWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollWidth():-1}getScrollLeft(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollLeft():-1}getContentHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getContentHeight():-1}getScrollHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollHeight():-1}getScrollTop(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollTop():-1}setScrollLeft(t,o=1){if(this._modelData){if("number"!=typeof t)throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPosition({scrollLeft:t},o)}}setScrollTop(t,o=1){if(this._modelData){if("number"!=typeof t)throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPosition({scrollTop:t},o)}}setScrollPosition(t,o=1){this._modelData&&this._modelData.viewModel.viewLayout.setScrollPosition(t,o)}hasPendingScrollAnimation(){return!!this._modelData&&this._modelData.viewModel.viewLayout.hasPendingScrollAnimation()}saveViewState(){if(!this._modelData)return null;const t=this._contributions.saveViewState();return{cursorState:this._modelData.viewModel.saveCursorState(),viewState:this._modelData.viewModel.saveState(),contributionsState:t}}restoreViewState(t){if(!this._modelData||!this._modelData.hasRealView)return;const o=t;if(o&&o.cursorState&&o.viewState){const b=o.cursorState;Array.isArray(b)?b.length>0&&this._modelData.viewModel.restoreCursorState(b):this._modelData.viewModel.restoreCursorState([b]),this._contributions.restoreViewState(o.contributionsState||{});const V=this._modelData.viewModel.reduceRestoreState(o.viewState);this._modelData.view.restoreState(V)}}handleInitialized(){var t;null===(t=this._getViewModel())||void 0===t||t.visibleLinesStabilized()}getContribution(t){return this._contributions.get(t)}getActions(){return Array.from(this._actions.values())}getSupportedActions(){let t=this.getActions();return t=t.filter(o=>o.isSupported()),t}getAction(t){return this._actions.get(t)||null}trigger(t,o,b){switch(b=b||{},o){case"compositionStart":return void this._startComposition();case"compositionEnd":return void this._endComposition(t);case"type":return void this._type(t,b.text||"");case"replacePreviousChar":return void this._compositionType(t,b.text||"",b.replaceCharCnt||0,0,0);case"compositionType":return void this._compositionType(t,b.text||"",b.replacePrevCharCnt||0,b.replaceNextCharCnt||0,b.positionDelta||0);case"paste":return void this._paste(t,b.text||"",b.pasteOnNewLine||!1,b.multicursorText||null,b.mode||null);case"cut":return void this._cut(t)}const V=this.getAction(o);V?Promise.resolve(V.run(b)).then(void 0,k.dL):this._modelData&&(this._triggerEditorCommand(t,o,b)||this._triggerCommand(o,b))}_triggerCommand(t,o){this._commandService.executeCommand(t,o)}_startComposition(){this._modelData&&(this._modelData.viewModel.startComposition(),this._onDidCompositionStart.fire())}_endComposition(t){this._modelData&&(this._modelData.viewModel.endComposition(t),this._onDidCompositionEnd.fire())}_type(t,o){!this._modelData||0===o.length||("keyboard"===t&&this._onWillType.fire(o),this._modelData.viewModel.type(o,t),"keyboard"===t&&this._onDidType.fire(o))}_compositionType(t,o,b,V,Z){this._modelData&&this._modelData.viewModel.compositionType(o,b,V,Z,t)}_paste(t,o,b,V,Z){if(!this._modelData||0===o.length)return;const Le=this._modelData.viewModel,Re=Le.getSelection().getStartPosition();Le.paste(o,b,V,t);const Ge=Le.getSelection().getStartPosition();"keyboard"===t&&this._onDidPaste.fire({range:new ie.e(Re.lineNumber,Re.column,Ge.lineNumber,Ge.column),languageId:Z})}_cut(t){this._modelData&&this._modelData.viewModel.cut(t)}_triggerEditorCommand(t,o,b){const V=P.Uc.getEditorCommand(o);return!!V&&((b=b||{}).source=t,this._instantiationService.invokeFunction(Z=>{Promise.resolve(V.runEditorCommand(Z,this,b)).then(void 0,k.dL)}),!0)}_getViewModel(){return this._modelData?this._modelData.viewModel:null}pushUndoStop(){return!(!this._modelData||this._configuration.options.get(89)||(this._modelData.model.pushStackElement(),0))}popUndoStop(){return!(!this._modelData||this._configuration.options.get(89)||(this._modelData.model.popStackElement(),0))}executeEdits(t,o,b){if(!this._modelData||this._configuration.options.get(89))return!1;let V;return V=b?Array.isArray(b)?()=>b:b:()=>null,this._modelData.viewModel.executeEdits(t,o,V),!0}executeCommand(t,o){this._modelData&&this._modelData.viewModel.executeCommand(o,t)}executeCommands(t,o){this._modelData&&this._modelData.viewModel.executeCommands(o,t)}createDecorationsCollection(t){return new Qa(this,t)}changeDecorations(t){return this._modelData?this._modelData.model.changeDecorations(t,this._id):null}getLineDecorations(t){return this._modelData?this._modelData.model.getLineDecorations(t,this._id,(0,_.$J)(this._configuration.options)):null}getDecorationsInRange(t){return this._modelData?this._modelData.model.getDecorationsInRange(t,this._id,(0,_.$J)(this._configuration.options)):null}deltaDecorations(t,o){return this._modelData?0===t.length&&0===o.length?t:this._modelData.model.deltaDecorations(t,o,this._id):[]}removeDecorations(t){!this._modelData||0===t.length||this._modelData.model.changeDecorations(o=>{o.deltaDecorations(t,[])})}removeDecorationsByType(t){const o=this._decorationTypeKeysToIds[t];o&&this.deltaDecorations(o,[]),this._decorationTypeKeysToIds.hasOwnProperty(t)&&delete this._decorationTypeKeysToIds[t],this._decorationTypeSubtypes.hasOwnProperty(t)&&delete this._decorationTypeSubtypes[t]}getLayoutInfo(){return this._configuration.options.get(142)}createOverviewRuler(t){return this._modelData&&this._modelData.hasRealView?this._modelData.view.createOverviewRuler(t):null}getContainerDomNode(){return this._domElement}getDomNode(){return this._modelData&&this._modelData.hasRealView?this._modelData.view.domNode.domNode:null}delegateVerticalScrollbarPointerDown(t){!this._modelData||!this._modelData.hasRealView||this._modelData.view.delegateVerticalScrollbarPointerDown(t)}delegateScrollFromMouseWheelEvent(t){!this._modelData||!this._modelData.hasRealView||this._modelData.view.delegateScrollFromMouseWheelEvent(t)}layout(t){this._configuration.observeContainer(t),this.render()}focus(){!this._modelData||!this._modelData.hasRealView||this._modelData.view.focus()}hasTextFocus(){return!(!this._modelData||!this._modelData.hasRealView)&&this._modelData.view.isFocused()}hasWidgetFocus(){return this._focusTracker&&this._focusTracker.hasFocus()}addContentWidget(t){const o={widget:t,position:t.getPosition()};this._contentWidgets.hasOwnProperty(t.getId())&&console.warn("Overwriting a content widget with the same id."),this._contentWidgets[t.getId()]=o,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addContentWidget(o)}layoutContentWidget(t){const o=t.getId();if(this._contentWidgets.hasOwnProperty(o)){const b=this._contentWidgets[o];b.position=t.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutContentWidget(b)}}removeContentWidget(t){const o=t.getId();if(this._contentWidgets.hasOwnProperty(o)){const b=this._contentWidgets[o];delete this._contentWidgets[o],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeContentWidget(b)}}addOverlayWidget(t){const o={widget:t,position:t.getPosition()};this._overlayWidgets.hasOwnProperty(t.getId())&&console.warn("Overwriting an overlay widget with the same id."),this._overlayWidgets[t.getId()]=o,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addOverlayWidget(o)}layoutOverlayWidget(t){const o=t.getId();if(this._overlayWidgets.hasOwnProperty(o)){const b=this._overlayWidgets[o];b.position=t.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutOverlayWidget(b)}}removeOverlayWidget(t){const o=t.getId();if(this._overlayWidgets.hasOwnProperty(o)){const b=this._overlayWidgets[o];delete this._overlayWidgets[o],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeOverlayWidget(b)}}addGlyphMarginWidget(t){const o={widget:t,position:t.getPosition()};this._glyphMarginWidgets.hasOwnProperty(t.getId())&&console.warn("Overwriting a glyph margin widget with the same id."),this._glyphMarginWidgets[t.getId()]=o,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addGlyphMarginWidget(o)}layoutGlyphMarginWidget(t){const o=t.getId();if(this._glyphMarginWidgets.hasOwnProperty(o)){const b=this._glyphMarginWidgets[o];b.position=t.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutGlyphMarginWidget(b)}}removeGlyphMarginWidget(t){const o=t.getId();if(this._glyphMarginWidgets.hasOwnProperty(o)){const b=this._glyphMarginWidgets[o];delete this._glyphMarginWidgets[o],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeGlyphMarginWidget(b)}}changeViewZones(t){!this._modelData||!this._modelData.hasRealView||this._modelData.view.change(t)}getTargetAtClientPoint(t,o){return this._modelData&&this._modelData.hasRealView?this._modelData.view.getTargetAtClientPoint(t,o):null}getScrolledVisiblePosition(t){if(!this._modelData||!this._modelData.hasRealView)return null;const o=this._modelData.model.validatePosition(t),b=this._configuration.options,V=b.get(142);return{top:Rs._getVerticalOffsetForPosition(this._modelData,o.lineNumber,o.column)-this.getScrollTop(),left:this._modelData.view.getOffsetForColumn(o.lineNumber,o.column)+V.glyphMarginWidth+V.lineNumbersWidth+V.decorationsWidth-this.getScrollLeft(),height:b.get(65)}}getOffsetForColumn(t,o){return this._modelData&&this._modelData.hasRealView?this._modelData.view.getOffsetForColumn(t,o):-1}render(t=!1){!this._modelData||!this._modelData.hasRealView||this._modelData.view.render(!0,t)}setAriaOptions(t){!this._modelData||!this._modelData.hasRealView||this._modelData.view.setAriaOptions(t)}applyFontInfo(t){(0,st.N)(t,this._configuration.options.get(49))}setBanner(t,o){this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._domElement.removeChild(this._bannerDomNode),this._bannerDomNode=t,this._configuration.setReservedHeight(t?o:0),this._bannerDomNode&&this._domElement.prepend(this._bannerDomNode)}_attachModel(t){if(!t)return void(this._modelData=null);const o=[];this._domElement.setAttribute("data-mode-id",t.getLanguageId()),this._configuration.setIsDominatedByLongLines(t.isDominatedByLongLines()),this._configuration.setModelLineCount(t.getLineCount());const b=t.onBeforeAttached(),V=new yr(this._id,this._configuration,t,aa.create(),Vr.create(this._configuration.options),Re=>A.jL(Re),this.languageConfigurationService,this._themeService,b);o.push(t.onWillDispose(()=>this.setModel(null))),o.push(V.onEvent(Re=>{switch(Re.kind){case 0:this._onDidContentSizeChange.fire(Re);break;case 1:this._editorTextFocus.setValue(Re.hasFocus);break;case 2:this._onDidScrollChange.fire(Re);break;case 3:this._onDidChangeViewZones.fire();break;case 4:this._onDidChangeHiddenAreas.fire();break;case 5:this._onDidAttemptReadOnlyEdit.fire();break;case 6:{if(Re.reachedMaxCursorCount){const Ct=this.getOption(78),Vt=N.NC("cursors.maximum","The number of cursors has been limited to {0}. Consider using [find and replace](https://code.visualstudio.com/docs/editor/codebasics#_find-and-replace) for larger changes or increase the editor multi cursor limit setting.",Ct);this._notificationService.prompt(dd.zb.Warning,Vt,[{label:"Find and Replace",run:()=>{this._commandService.executeCommand("editor.action.startFindReplaceAction")}},{label:N.NC("goToSetting","Increase Multi Cursor Limit"),run:()=>{this._commandService.executeCommand("workbench.action.openSettings2",{query:"editor.multiCursorLimit"})}}])}const Ge=[];for(let Ct=0,Vt=Re.selections.length;Ct<Vt;Ct++)Ge[Ct]=Re.selections[Ct].getPosition();const at={position:Ge[0],secondaryPositions:Ge.slice(1),reason:Re.reason,source:Re.source};this._onDidChangeCursorPosition.fire(at);const vt={selection:Re.selections[0],secondarySelections:Re.selections.slice(1),modelVersionId:Re.modelVersionId,oldSelections:Re.oldSelections,oldModelVersionId:Re.oldModelVersionId,source:Re.source,reason:Re.reason};this._onDidChangeCursorSelection.fire(vt);break}case 7:this._onDidChangeModelDecorations.fire(Re.event);break;case 8:this._domElement.setAttribute("data-mode-id",t.getLanguageId()),this._onDidChangeModelLanguage.fire(Re.event);break;case 9:this._onDidChangeModelLanguageConfiguration.fire(Re.event);break;case 10:this._onDidChangeModelContent.fire(Re.event);break;case 11:this._onDidChangeModelOptions.fire(Re.event);break;case 12:this._onDidChangeModelTokens.fire(Re.event)}}));const[Z,Le]=this._createView(V);if(Le){this._domElement.appendChild(Z.domNode.domNode);let Re=Object.keys(this._contentWidgets);for(let Ge=0,at=Re.length;Ge<at;Ge++)Z.addContentWidget(this._contentWidgets[Re[Ge]]);Re=Object.keys(this._overlayWidgets);for(let Ge=0,at=Re.length;Ge<at;Ge++)Z.addOverlayWidget(this._overlayWidgets[Re[Ge]]);Re=Object.keys(this._glyphMarginWidgets);for(let Ge=0,at=Re.length;Ge<at;Ge++)Z.addGlyphMarginWidget(this._glyphMarginWidgets[Re[Ge]]);Z.render(!1,!0),Z.domNode.domNode.setAttribute("data-uri",t.uri.toString())}this._modelData=new vd(t,V,Z,Le,o,b)}_createView(t){let o;o=this.isSimpleWidget?{paste:(Z,Le,Re,Ge)=>{this._paste("keyboard",Z,Le,Re,Ge)},type:Z=>{this._type("keyboard",Z)},compositionType:(Z,Le,Re,Ge)=>{this._compositionType("keyboard",Z,Le,Re,Ge)},startComposition:()=>{this._startComposition()},endComposition:()=>{this._endComposition("keyboard")},cut:()=>{this._cut("keyboard")}}:{paste:(Z,Le,Re,Ge)=>{this._commandService.executeCommand("paste",{text:Z,pasteOnNewLine:Le,multicursorText:Re,mode:Ge})},type:Z=>{this._commandService.executeCommand("type",{text:Z})},compositionType:(Z,Le,Re,Ge)=>{Re||Ge?this._commandService.executeCommand("compositionType",{text:Z,replacePrevCharCnt:Le,replaceNextCharCnt:Re,positionDelta:Ge}):this._commandService.executeCommand("replacePreviousChar",{text:Z,replaceCharCnt:Le})},startComposition:()=>{this._commandService.executeCommand("compositionStart",{})},endComposition:()=>{this._commandService.executeCommand("compositionEnd",{})},cut:()=>{this._commandService.executeCommand("cut",{})}};const b=new Fi(t.coordinatesConverter);return b.onKeyDown=Z=>this._onKeyDown.fire(Z),b.onKeyUp=Z=>this._onKeyUp.fire(Z),b.onContextMenu=Z=>this._onContextMenu.fire(Z),b.onMouseMove=Z=>this._onMouseMove.fire(Z),b.onMouseLeave=Z=>this._onMouseLeave.fire(Z),b.onMouseDown=Z=>this._onMouseDown.fire(Z),b.onMouseUp=Z=>this._onMouseUp.fire(Z),b.onMouseDrag=Z=>this._onMouseDrag.fire(Z),b.onMouseDrop=Z=>this._onMouseDrop.fire(Z),b.onMouseDropCanceled=Z=>this._onMouseDropCanceled.fire(Z),b.onMouseWheel=Z=>this._onMouseWheel.fire(Z),[new Da(o,this._configuration,this._themeService.getColorTheme(),t,b,this._overflowWidgetsDomNode,this._instantiationService),!0]}_postDetachModelCleanup(t){t?.removeAllDecorationsWithOwnerId(this._id)}_detachModel(){if(!this._modelData)return null;const t=this._modelData.model,o=this._modelData.hasRealView?this._modelData.view.domNode.domNode:null;return this._modelData.dispose(),this._modelData=null,this._domElement.removeAttribute("data-mode-id"),o&&this._domElement.contains(o)&&this._domElement.removeChild(o),this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._domElement.removeChild(this._bannerDomNode),t}_removeDecorationType(t){this._codeEditorService.removeDecorationType(t)}hasModel(){return null!==this._modelData}showDropIndicatorAt(t){const o=[{range:new ie.e(t.lineNumber,t.column,t.lineNumber,t.column),options:Rs.dropIntoEditorDecorationOptions}];this._dropIntoEditorDecorations.set(o),this.revealPosition(t,1)}removeDropIndicator(){this._dropIntoEditorDecorations.clear()}setContextValue(t,o){this._contextKeyService.createKey(t,o)}};ca.dropIntoEditorDecorationOptions=gl.qx.register({description:"workbench-dnd-target",className:"dnd-target"}),ca=Rs=function(bt,t,o,b){var Le,V=arguments.length,Z=V<3?t:null===b?b=Object.getOwnPropertyDescriptor(t,o):b;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Z=Reflect.decorate(bt,t,o,b);else for(var Re=bt.length-1;Re>=0;Re--)(Le=bt[Re])&&(Z=(V<3?Le(Z):V>3?Le(t,o,Z):Le(t,o))||Z);return V>3&&Z&&Object.defineProperty(t,o,Z),Z}([As(3,$s.TG),As(4,x.$),As(5,Sr.H),As(6,bs.i6),As(7,Bt.XE),As(8,dd.lT),As(9,_e.F),As(10,ud.c_),As(11,gd.p)],ca);class Ga extends O.JT{constructor(t){super(),this._emitterOptions=t,this._onDidChangeToTrue=this._register(new R.Q5(this._emitterOptions)),this.onDidChangeToTrue=this._onDidChangeToTrue.event,this._onDidChangeToFalse=this._register(new R.Q5(this._emitterOptions)),this.onDidChangeToFalse=this._onDidChangeToFalse.event,this._value=0}setValue(t){const o=t?2:1;this._value!==o&&(this._value=o,2===this._value?this._onDidChangeToTrue.fire():1===this._value&&this._onDidChangeToFalse.fire())}}class Wo extends R.Q5{constructor(t,o){super({deliveryQueue:o}),this._contributions=t}fire(t){this._contributions.onBeforeInteractionEvent(),super.fire(t)}}class _d extends O.JT{constructor(t,o){super(),this._editor=t,o.createKey("editorId",t.getId()),this._editorSimpleInput=vo.u.editorSimpleInput.bindTo(o),this._editorFocus=vo.u.focus.bindTo(o),this._textInputFocus=vo.u.textInputFocus.bindTo(o),this._editorTextFocus=vo.u.editorTextFocus.bindTo(o),this._editorTabMovesFocus=vo.u.tabMovesFocus.bindTo(o),this._editorReadonly=vo.u.readOnly.bindTo(o),this._inDiffEditor=vo.u.inDiffEditor.bindTo(o),this._editorColumnSelection=vo.u.columnSelection.bindTo(o),this._hasMultipleSelections=vo.u.hasMultipleSelections.bindTo(o),this._hasNonEmptySelection=vo.u.hasNonEmptySelection.bindTo(o),this._canUndo=vo.u.canUndo.bindTo(o),this._canRedo=vo.u.canRedo.bindTo(o),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromConfig())),this._register(this._editor.onDidChangeCursorSelection(()=>this._updateFromSelection())),this._register(this._editor.onDidFocusEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidFocusEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidChangeModel(()=>this._updateFromModel())),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromModel())),this._register(ne.n.onDidChangeTabFocus(()=>this._editorTabMovesFocus.set(ne.n.getTabFocusMode("editorFocus")))),this._updateFromConfig(),this._updateFromSelection(),this._updateFromFocus(),this._updateFromModel(),this._editorSimpleInput.set(this._editor.isSimpleWidget)}_updateFromConfig(){const t=this._editor.getOptions();this._editorTabMovesFocus.set(ne.n.getTabFocusMode("editorFocus")),this._editorReadonly.set(t.get(89)),this._inDiffEditor.set(t.get(60)),this._editorColumnSelection.set(t.get(21))}_updateFromSelection(){const t=this._editor.getSelections();t?(this._hasMultipleSelections.set(t.length>1),this._hasNonEmptySelection.set(t.some(o=>!o.isEmpty()))):(this._hasMultipleSelections.reset(),this._hasNonEmptySelection.reset())}_updateFromFocus(){this._editorFocus.set(this._editor.hasWidgetFocus()&&!this._editor.isSimpleWidget),this._editorTextFocus.set(this._editor.hasTextFocus()&&!this._editor.isSimpleWidget),this._textInputFocus.set(this._editor.hasTextFocus())}_updateFromModel(){const t=this._editor.getModel();this._canUndo.set(!(!t||!t.canUndo())),this._canRedo.set(!(!t||!t.canRedo()))}}class Za extends O.JT{constructor(t,o,b){super(),this._editor=t,this._contextKeyService=o,this._languageFeaturesService=b,this._langId=vo.u.languageId.bindTo(o),this._hasCompletionItemProvider=vo.u.hasCompletionItemProvider.bindTo(o),this._hasCodeActionsProvider=vo.u.hasCodeActionsProvider.bindTo(o),this._hasCodeLensProvider=vo.u.hasCodeLensProvider.bindTo(o),this._hasDefinitionProvider=vo.u.hasDefinitionProvider.bindTo(o),this._hasDeclarationProvider=vo.u.hasDeclarationProvider.bindTo(o),this._hasImplementationProvider=vo.u.hasImplementationProvider.bindTo(o),this._hasTypeDefinitionProvider=vo.u.hasTypeDefinitionProvider.bindTo(o),this._hasHoverProvider=vo.u.hasHoverProvider.bindTo(o),this._hasDocumentHighlightProvider=vo.u.hasDocumentHighlightProvider.bindTo(o),this._hasDocumentSymbolProvider=vo.u.hasDocumentSymbolProvider.bindTo(o),this._hasReferenceProvider=vo.u.hasReferenceProvider.bindTo(o),this._hasRenameProvider=vo.u.hasRenameProvider.bindTo(o),this._hasSignatureHelpProvider=vo.u.hasSignatureHelpProvider.bindTo(o),this._hasInlayHintsProvider=vo.u.hasInlayHintsProvider.bindTo(o),this._hasDocumentFormattingProvider=vo.u.hasDocumentFormattingProvider.bindTo(o),this._hasDocumentSelectionFormattingProvider=vo.u.hasDocumentSelectionFormattingProvider.bindTo(o),this._hasMultipleDocumentFormattingProvider=vo.u.hasMultipleDocumentFormattingProvider.bindTo(o),this._hasMultipleDocumentSelectionFormattingProvider=vo.u.hasMultipleDocumentSelectionFormattingProvider.bindTo(o),this._isInWalkThrough=vo.u.isInWalkThroughSnippet.bindTo(o);const V=()=>this._update();this._register(t.onDidChangeModel(V)),this._register(t.onDidChangeModelLanguage(V)),this._register(b.completionProvider.onDidChange(V)),this._register(b.codeActionProvider.onDidChange(V)),this._register(b.codeLensProvider.onDidChange(V)),this._register(b.definitionProvider.onDidChange(V)),this._register(b.declarationProvider.onDidChange(V)),this._register(b.implementationProvider.onDidChange(V)),this._register(b.typeDefinitionProvider.onDidChange(V)),this._register(b.hoverProvider.onDidChange(V)),this._register(b.documentHighlightProvider.onDidChange(V)),this._register(b.documentSymbolProvider.onDidChange(V)),this._register(b.referenceProvider.onDidChange(V)),this._register(b.renameProvider.onDidChange(V)),this._register(b.documentFormattingEditProvider.onDidChange(V)),this._register(b.documentRangeFormattingEditProvider.onDidChange(V)),this._register(b.signatureHelpProvider.onDidChange(V)),this._register(b.inlayHintsProvider.onDidChange(V)),V()}dispose(){super.dispose()}reset(){this._contextKeyService.bufferChangeEvents(()=>{this._langId.reset(),this._hasCompletionItemProvider.reset(),this._hasCodeActionsProvider.reset(),this._hasCodeLensProvider.reset(),this._hasDefinitionProvider.reset(),this._hasDeclarationProvider.reset(),this._hasImplementationProvider.reset(),this._hasTypeDefinitionProvider.reset(),this._hasHoverProvider.reset(),this._hasDocumentHighlightProvider.reset(),this._hasDocumentSymbolProvider.reset(),this._hasReferenceProvider.reset(),this._hasRenameProvider.reset(),this._hasDocumentFormattingProvider.reset(),this._hasDocumentSelectionFormattingProvider.reset(),this._hasSignatureHelpProvider.reset(),this._isInWalkThrough.reset()})}_update(){const t=this._editor.getModel();t?this._contextKeyService.bufferChangeEvents(()=>{this._langId.set(t.getLanguageId()),this._hasCompletionItemProvider.set(this._languageFeaturesService.completionProvider.has(t)),this._hasCodeActionsProvider.set(this._languageFeaturesService.codeActionProvider.has(t)),this._hasCodeLensProvider.set(this._languageFeaturesService.codeLensProvider.has(t)),this._hasDefinitionProvider.set(this._languageFeaturesService.definitionProvider.has(t)),this._hasDeclarationProvider.set(this._languageFeaturesService.declarationProvider.has(t)),this._hasImplementationProvider.set(this._languageFeaturesService.implementationProvider.has(t)),this._hasTypeDefinitionProvider.set(this._languageFeaturesService.typeDefinitionProvider.has(t)),this._hasHoverProvider.set(this._languageFeaturesService.hoverProvider.has(t)),this._hasDocumentHighlightProvider.set(this._languageFeaturesService.documentHighlightProvider.has(t)),this._hasDocumentSymbolProvider.set(this._languageFeaturesService.documentSymbolProvider.has(t)),this._hasReferenceProvider.set(this._languageFeaturesService.referenceProvider.has(t)),this._hasRenameProvider.set(this._languageFeaturesService.renameProvider.has(t)),this._hasSignatureHelpProvider.set(this._languageFeaturesService.signatureHelpProvider.has(t)),this._hasInlayHintsProvider.set(this._languageFeaturesService.inlayHintsProvider.has(t)),this._hasDocumentFormattingProvider.set(this._languageFeaturesService.documentFormattingEditProvider.has(t)||this._languageFeaturesService.documentRangeFormattingEditProvider.has(t)),this._hasDocumentSelectionFormattingProvider.set(this._languageFeaturesService.documentRangeFormattingEditProvider.has(t)),this._hasMultipleDocumentFormattingProvider.set(this._languageFeaturesService.documentFormattingEditProvider.all(t).length+this._languageFeaturesService.documentRangeFormattingEditProvider.all(t).length>1),this._hasMultipleDocumentSelectionFormattingProvider.set(this._languageFeaturesService.documentRangeFormattingEditProvider.all(t).length>1),this._isInWalkThrough.set(t.uri.scheme===W.lg.walkThroughSnippet)}):this.reset()}}class Cd extends O.JT{constructor(t){super(),this._onChange=this._register(new R.Q5),this.onChange=this._onChange.event,this._hasFocus=!1,this._domFocusTracker=this._register(A.go(t)),this._register(this._domFocusTracker.onDidFocus(()=>{this._hasFocus=!0,this._onChange.fire(void 0)})),this._register(this._domFocusTracker.onDidBlur(()=>{this._hasFocus=!1,this._onChange.fire(void 0)}))}hasFocus(){return this._hasFocus}}class Qa{get length(){return this._decorationIds.length}constructor(t,o){this._editor=t,this._decorationIds=[],this._isChangingDecorations=!1,Array.isArray(o)&&o.length>0&&this.set(o)}onDidChange(t,o,b){return this._editor.onDidChangeModelDecorations(V=>{this._isChangingDecorations||t.call(o,V)},b)}getRange(t){return!this._editor.hasModel()||t>=this._decorationIds.length?null:this._editor.getModel().getDecorationRange(this._decorationIds[t])}getRanges(){if(!this._editor.hasModel())return[];const t=this._editor.getModel(),o=[];for(const b of this._decorationIds){const V=t.getDecorationRange(b);V&&o.push(V)}return o}has(t){return this._decorationIds.includes(t.id)}clear(){0!==this._decorationIds.length&&this.set([])}set(t){try{this._isChangingDecorations=!0,this._editor.changeDecorations(o=>{this._decorationIds=o.deltaDecorations(this._decorationIds,t)})}finally{this._isChangingDecorations=!1}return this._decorationIds}}const bd=encodeURIComponent("<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 6 3' enable-background='new 0 0 6 3' height='3' width='6'><g fill='"),yd=encodeURIComponent("'><polygon points='5.5,0 2.5,3 1.1,3 4.1,0'/><polygon points='4,0 6,2 6,0.6 5.4,0'/><polygon points='0,2 1,3 2.4,3 0,0.6'/></g></svg>");function ha(bt){return bd+encodeURIComponent(bt.toString())+yd}const Il=encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" height="3" width="12"><g fill="'),ys=encodeURIComponent('"><circle cx="1" cy="1" r="1"/><circle cx="5" cy="1" r="1"/><circle cx="9" cy="1" r="1"/></g></svg>');(0,Bt.Ic)((bt,t)=>{const o=bt.getColor(rn.lXJ);o&&t.addRule(`.monaco-editor .squiggly-error { background: url("data:image/svg+xml,${ha(o)}") repeat-x bottom left; }`);const b=bt.getColor(rn.uoC);b&&t.addRule(`.monaco-editor .squiggly-warning { background: url("data:image/svg+xml,${ha(b)}") repeat-x bottom left; }`);const V=bt.getColor(rn.c63);V&&t.addRule(`.monaco-editor .squiggly-info { background: url("data:image/svg+xml,${ha(V)}") repeat-x bottom left; }`);const Z=bt.getColor(rn.Dut);Z&&t.addRule(`.monaco-editor .squiggly-hint { background: url("data:image/svg+xml,${function Sd(bt){return Il+encodeURIComponent(bt.toString())+ys}(Z)}") no-repeat bottom left; }`);const Le=bt.getColor(xt.zu);Le&&t.addRule(`.monaco-editor.showUnused .squiggly-inline-unnecessary { opacity: ${Le.rgba.a}; }`)})},75079:(Xe,we,e)=>{e.d(we,{p:()=>At,N:()=>Mt});var f=e(20274),P=e(25937),r=e(75578),y=e(42427),v=e(89344),S=e(37836),T=e(85328),E=e(87618),L=e(27222),p=e(17967),c=e(58178),u=e(10878),g=e(78694),i=e(35053),d=e(93379),a=e.n(d),m=e(7795),l=e.n(m),I=e(90569),w=e.n(I),D=e(3565),N=e.n(D),A=e(19216),k=e.n(A),R=e(44589),O=e.n(R),W=e(22360),z={};z.styleTagTransform=O(),z.setAttributes=N(),z.insert=w().bind(null,"head"),z.domAPI=l(),z.insertStyleElement=k(),a()(W.Z,z);var B=e(91988),G=e(81772),se=e(8256),j=e(51617),$=e(45332),K=e(84109),J=e(81149),te=e(40354),ne=e(37190),_=e(54457),ae=e(96726),ge=e(88593),_e=function(St,st,ut,pt){return new(ut||(ut=Promise))(function(je,et){function wt(Qt){try{xt(pt.next(Qt))}catch(ai){et(ai)}}function Bt(Qt){try{xt(pt.throw(Qt))}catch(ai){et(ai)}}function xt(Qt){Qt.done?je(Qt.value):function Ne(je){return je instanceof ut?je:new ut(function(et){et(je)})}(Qt.value).then(wt,Bt)}xt((pt=pt.apply(St,st||[])).next())})};class ue extends g.JT{get visibility(){return this._visibility}set visibility(st){this._visibility!==st&&(this._visibility=st,this._diffActions.style.visibility=st?"visible":"hidden")}constructor(st,ut,pt,Ne,je,et){super(),this._viewZoneId=st,this._marginDomNode=ut,this.editor=pt,this.diff=Ne,this._contextMenuService=je,this._clipboardService=et,this._visibility=!1,this._marginDomNode.style.zIndex="10",this._diffActions=document.createElement("div"),this._diffActions.className=i.k.asClassName(L.l.lightBulb)+" lightbulb-glyph",this._diffActions.style.position="absolute";const wt=pt.getOption(65),Bt=pt.getModel().getEOL();this._diffActions.style.right="0px",this._diffActions.style.visibility="hidden",this._diffActions.style.height=`${wt}px`,this._diffActions.style.lineHeight=`${wt}px`,this._marginDomNode.appendChild(this._diffActions);const xt=[],Qt=0===Ne.modifiedEndLineNumber;xt.push(new _.aU("diff.clipboard.copyDeletedContent",Qt?Ne.originalEndLineNumber>Ne.modifiedStartLineNumber?ne.NC("diff.clipboard.copyDeletedLinesContent.label","Copy deleted lines"):ne.NC("diff.clipboard.copyDeletedLinesContent.single.label","Copy deleted line"):Ne.originalEndLineNumber>Ne.modifiedStartLineNumber?ne.NC("diff.clipboard.copyChangedLinesContent.label","Copy changed lines"):ne.NC("diff.clipboard.copyChangedLinesContent.single.label","Copy changed line"),void 0,!0,()=>_e(this,void 0,void 0,function*(){const zi=new ae.e(Ne.originalStartLineNumber,1,Ne.originalEndLineNumber+1,1),qi=Ne.originalModel.getValueInRange(zi);yield this._clipboardService.writeText(qi)})));let gi,ai=0;Ne.originalEndLineNumber>Ne.modifiedStartLineNumber&&(gi=new _.aU("diff.clipboard.copyDeletedLineContent",Qt?ne.NC("diff.clipboard.copyDeletedLineContent.label","Copy deleted line ({0})",Ne.originalStartLineNumber):ne.NC("diff.clipboard.copyChangedLineContent.label","Copy changed line ({0})",Ne.originalStartLineNumber),void 0,!0,()=>_e(this,void 0,void 0,function*(){const zi=Ne.originalModel.getLineContent(Ne.originalStartLineNumber+ai);if(""===zi){const qi=Ne.originalModel.getEndOfLineSequence();yield this._clipboardService.writeText(0===qi?"\n":"\r\n")}else yield this._clipboardService.writeText(zi)})),xt.push(gi)),pt.getOption(89)||xt.push(new _.aU("diff.inline.revertChange",ne.NC("diff.inline.revertChange.label","Revert this change"),void 0,!0,()=>_e(this,void 0,void 0,function*(){const zi=new ae.e(Ne.originalStartLineNumber,1,Ne.originalEndLineNumber,Ne.originalModel.getLineMaxColumn(Ne.originalEndLineNumber)),qi=Ne.originalModel.getValueInRange(zi);if(0===Ne.modifiedEndLineNumber){const fn=pt.getModel().getLineMaxColumn(Ne.modifiedStartLineNumber);pt.executeEdits("diffEditor",[{range:new ae.e(Ne.modifiedStartLineNumber,fn,Ne.modifiedStartLineNumber,fn),text:Bt+qi}])}else{const fn=pt.getModel().getLineMaxColumn(Ne.modifiedEndLineNumber);pt.executeEdits("diffEditor",[{range:new ae.e(Ne.modifiedStartLineNumber,1,Ne.modifiedEndLineNumber,fn),text:qi}])}})));const Ei=pt.getOption(125)&&!ge.gn,Ki=(zi,qi)=>{var fn;this._contextMenuService.showContextMenu({domForShadowRoot:Ei&&null!==(fn=pt.getDomNode())&&void 0!==fn?fn:void 0,getAnchor:()=>({x:zi,y:qi}),getActions:()=>(gi&&(gi.label=Qt?ne.NC("diff.clipboard.copyDeletedLineContent.label","Copy deleted line ({0})",Ne.originalStartLineNumber+ai):ne.NC("diff.clipboard.copyChangedLineContent.label","Copy changed line ({0})",Ne.originalStartLineNumber+ai)),xt),autoSelectFirstItem:!0})};this._register(f.mu(this._diffActions,"mousedown",zi=>{const{top:qi,height:fn}=f.i(this._diffActions),Nn=Math.floor(wt/3);zi.preventDefault(),Ki(zi.posx,qi+fn+Nn)})),this._register(pt.onMouseMove(zi=>{8!==zi.target.type&&5!==zi.target.type||zi.target.detail.viewZoneId!==this._viewZoneId?this.visibility=!1:(this.visibility=!0,ai=this._updateLightBulbPosition(this._marginDomNode,zi.event.browserEvent.y,wt))})),this._register(pt.onMouseDown(zi=>{zi.event.rightButton&&(8===zi.target.type||5===zi.target.type)&&zi.target.detail.viewZoneId===this._viewZoneId&&(zi.event.preventDefault(),ai=this._updateLightBulbPosition(this._marginDomNode,zi.event.browserEvent.y,wt),Ki(zi.event.posx,zi.event.posy+wt))}))}_updateLightBulbPosition(st,ut,pt){const{top:Ne}=f.i(st),et=Math.floor((ut-Ne)/pt);if(this._diffActions.style.top=et*pt+"px",this.diff.viewLineCounts){let Bt=0;for(let xt=0;xt<this.diff.viewLineCounts.length;xt++)if(Bt+=this.diff.viewLineCounts[xt],et<Bt)return xt}return et}}var lt,ve=e(37499),Ie=e(36413),Se=e(68678),Ve=e(85460),De=e(50144),ye=e(15446),oe=e(54267),Y=e(48092),x=e(82911),F=e(56970),ie=e(53056),Ce=e(2034),ke=e(66221),Pe=e(76485),xe=e(12065),fe=e(50054),be=e(22438),pe=e(51367),Q=e(99745),le=e(34252),Fe=e(23527),Je=function(St,st){return function(ut,pt){st(ut,pt,St)}};class mt{constructor(st,ut){this._contextMenuService=st,this._clipboardService=ut,this._zones=[],this._inlineDiffMargins=[],this._zonesMap={},this._decorations=[]}getForeignViewZones(st){return st.filter(ut=>!this._zonesMap[String(ut.id)])}clean(st){this._zones.length>0&&st.changeViewZones(ut=>{for(const pt of this._zones)ut.removeZone(pt)}),this._zones=[],this._zonesMap={},st.changeDecorations(ut=>{this._decorations=ut.deltaDecorations(this._decorations,[])})}apply(st,ut,pt,Ne){const je=Ne?$.Z.capture(st):null;st.changeViewZones(et=>{var wt;for(const Bt of this._zones)et.removeZone(Bt);for(const Bt of this._inlineDiffMargins)Bt.dispose();this._zones=[],this._zonesMap={},this._inlineDiffMargins=[];for(let Bt=0,xt=pt.zones.length;Bt<xt;Bt++){const Qt=pt.zones[Bt];Qt.suppressMouseDown=!0,Qt.showInHiddenAreas=!0;const ai=et.addZone(Qt);this._zones.push(ai),this._zonesMap[String(ai)]=!0,pt.zones[Bt].diff&&Qt.marginDomNode&&(Qt.suppressMouseDown=!1,0!==(null===(wt=pt.zones[Bt].diff)||void 0===wt?void 0:wt.originalModel.getValueLength())&&this._inlineDiffMargins.push(new ue(ai,Qt.marginDomNode,st,pt.zones[Bt].diff,this._contextMenuService,this._clipboardService)))}}),je?.restore(st),st.changeDecorations(et=>{this._decorations=et.deltaDecorations(this._decorations,pt.decorations)}),ut?.setZones(pt.overviewZones)}}let ft=0;const Lt=(0,le.q5)("diff-insert",L.l.add,ne.NC("diffInsertIcon","Line decoration for inserts in the diff editor.")),Tt=(0,le.q5)("diff-remove",L.l.remove,ne.NC("diffRemoveIcon","Line decoration for removals in the diff editor.")),Mt=(0,r.Z)("diffEditorWidget",{createHTML:St=>St}),Ut=ne.NC("diff-aria-navigation-tip"," use Shift + F7 to navigate changes");let At=lt=class extends g.JT{constructor(st,ut,pt,Ne,je,et,wt,Bt,xt,Qt,ai){super(),this._editorProgressService=ai,this._onDidDispose=this._register(new c.Q5),this.onDidDispose=this._onDidDispose.event,this._onDidChangeModel=this._register(new c.Q5),this.onDidChangeModel=this._onDidChangeModel.event,this._onDidUpdateDiff=this._register(new c.Q5),this.onDidUpdateDiff=this._onDidUpdateDiff.event,this._onDidContentSizeChange=this._register(new c.Q5),this._lastOriginalWarning=null,this._lastModifiedWarning=null,wt.willCreateDiffEditor(),this._documentDiffProvider=this._register(et.createInstance(ve.Q,ut)),this._register(this._documentDiffProvider.onDidChange(di=>this._beginUpdateDecorationsSoon())),this._codeEditorService=wt,this._contextKeyService=this._register(je.createScoped(st)),this._instantiationService=et.createChild(new fe.y([ke.i6,this._contextKeyService])),this._contextKeyService.createKey("isInDiffEditor",!0),this._themeService=Bt,this._notificationService=xt,this._id=++ft,this._state=0,this._updatingDiffProgress=null,this._domElement=st,this._options=Gi(ut=ut||{},{enableSplitViewResizing:!0,splitViewDefaultRatio:.5,renderSideBySide:!0,renderMarginRevertIcon:!0,maxComputationTime:5e3,maxFileSize:50,ignoreTrimWhitespace:!0,renderIndicators:!0,originalEditable:!1,diffCodeLens:!1,renderOverviewRuler:!0,diffWordWrap:"inherit",diffAlgorithm:"advanced",accessibilityVerbose:!1,experimental:{showEmptyDecorations:!1,showMoves:!1},hideUnchangedRegions:{enabled:!1,contextLineCount:0,minimumLineCount:0,revealLineCount:0},isInEmbeddedEditor:!1,onlyShowAccessibleDiffViewer:!1,renderSideBySideInlineBreakpoint:0,useInlineViewWhenSpaceIsLimited:!1}),this.isEmbeddedDiffEditorKey=ye.u.isEmbeddedDiffEditor.bindTo(this._contextKeyService),this.isEmbeddedDiffEditorKey.set(typeof ut.isInEmbeddedEditor<"u"&&ut.isInEmbeddedEditor),this._updateDecorationsRunner=this._register(new T.pY(()=>this._updateDecorations(),0)),this._containerDomElement=document.createElement("div"),this._containerDomElement.className=lt._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide),this._containerDomElement.style.position="relative",this._containerDomElement.style.height="100%",this._domElement.appendChild(this._containerDomElement),this._overviewViewportDomElement=(0,P.X)(document.createElement("div")),this._overviewViewportDomElement.setClassName("diffViewport"),this._overviewViewportDomElement.setPosition("absolute"),this._overviewDomElement=document.createElement("div"),this._overviewDomElement.className="diffOverview",this._overviewDomElement.style.position="absolute",this._overviewDomElement.appendChild(this._overviewViewportDomElement.domNode),this._register(f.mu(this._overviewDomElement,f.tw.POINTER_DOWN,di=>{this._modifiedEditor.delegateVerticalScrollbarPointerDown(di)})),this._register(f.nm(this._overviewDomElement,f.tw.MOUSE_WHEEL,di=>{this._modifiedEditor.delegateScrollFromMouseWheelEvent(di)},{passive:!1})),this._options.renderOverviewRuler&&this._containerDomElement.appendChild(this._overviewDomElement),this._originalDomNode=document.createElement("div"),this._originalDomNode.className="editor original",this._originalDomNode.style.position="absolute",this._originalDomNode.style.height="100%",this._containerDomElement.appendChild(this._originalDomNode),this._modifiedDomNode=document.createElement("div"),this._modifiedDomNode.className="editor modified",this._modifiedDomNode.style.position="absolute",this._modifiedDomNode.style.height="100%",this._containerDomElement.appendChild(this._modifiedDomNode),this._beginUpdateDecorationsTimeout=-1,this._currentlyChangingViewZones=!1,this._diffComputationToken=0,this._originalEditorState=new mt(Qt,Ne),this._modifiedEditorState=new mt(Qt,Ne),this._isVisible=!0,this._isHandlingScrollEvent=!1,this._elementSizeObserver=this._register(new G.I(this._containerDomElement,ut.dimension)),this._register(this._elementSizeObserver.onDidChange(()=>this._onDidContainerSizeChanged())),ut.automaticLayout&&this._elementSizeObserver.startObserving(),this._diffComputationResult=null,this._originalEditor=this._createLeftHandSideEditor(ut,pt.originalEditor||{}),this._modifiedEditor=this._createRightHandSideEditor(ut,pt.modifiedEditor||{}),this._originalOverviewRuler=null,this._modifiedOverviewRuler=null,this._reviewPane=et.createInstance(te.j,this),this._containerDomElement.appendChild(this._reviewPane.domNode.domNode),this._containerDomElement.appendChild(this._reviewPane.shadow.domNode),this._containerDomElement.appendChild(this._reviewPane.actionBarContainer.domNode),this._setStrategy(this._options.renderSideBySide?new Te(this._createDataSource(),this._options.enableSplitViewResizing,this._options.splitViewDefaultRatio):new ht(this._createDataSource(),this._options.enableSplitViewResizing)),this._register(Bt.onDidColorThemeChange(di=>{this._strategy&&this._strategy.applyColors(di)&&this._updateDecorationsRunner.schedule(),this._containerDomElement.className=lt._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide)}));const gi=se.Uc.getDiffEditorContributions();for(const di of gi)try{this._register(et.createInstance(di.ctor,this))}catch(Ei){(0,p.dL)(Ei)}this._codeEditorService.addDiffEditor(this)}_setState(st){this._state!==st&&(this._state=st,this._updatingDiffProgress&&(this._updatingDiffProgress.done(),this._updatingDiffProgress=null),1===this._state&&(this._updatingDiffProgress=this._editorProgressService.show(!0,1e3)))}accessibleDiffViewerNext(){this._reviewPane.next()}accessibleDiffViewerPrev(){this._reviewPane.prev()}static _getClassName(st,ut){let pt="monaco-diff-editor monaco-editor-background ";return ut&&(pt+="side-by-side "),pt+=(0,Fe.m6)(st.type),pt}_disposeOverviewRulers(){this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose(),this._originalOverviewRuler=null),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose(),this._modifiedOverviewRuler=null)}_createOverviewRulers(){this._options.renderOverviewRuler&&(S.ok(!this._originalOverviewRuler&&!this._modifiedOverviewRuler),this._originalEditor.hasModel()&&(this._originalOverviewRuler=this._originalEditor.createOverviewRuler("original diffOverviewRuler"),this._overviewDomElement.appendChild(this._originalOverviewRuler.getDomNode())),this._modifiedEditor.hasModel()&&(this._modifiedOverviewRuler=this._modifiedEditor.createOverviewRuler("modified diffOverviewRuler"),this._overviewDomElement.appendChild(this._modifiedOverviewRuler.getDomNode())),this._layoutOverviewRulers())}_createLeftHandSideEditor(st,ut){const pt=this._createInnerEditor(this._instantiationService,this._originalDomNode,this._adjustOptionsForLeftHandSide(st),ut);this._register(pt.onDidScrollChange(je=>{this._isHandlingScrollEvent||!je.scrollTopChanged&&!je.scrollLeftChanged&&!je.scrollHeightChanged||(this._isHandlingScrollEvent=!0,this._modifiedEditor.setScrollPosition({scrollLeft:je.scrollLeft,scrollTop:je.scrollTop}),this._isHandlingScrollEvent=!1,this._layoutOverviewViewport())})),this._register(pt.onDidChangeViewZones(()=>{this._onViewZonesChanged()})),this._register(pt.onDidChangeConfiguration(je=>{pt.getModel()&&(je.hasChanged(49)&&this._updateDecorationsRunner.schedule(),je.hasChanged(143)&&(this._updateDecorationsRunner.cancel(),this._updateDecorations()))})),this._register(pt.onDidChangeHiddenAreas(()=>{this._updateDecorationsRunner.cancel(),this._updateDecorations()})),this._register(pt.onDidChangeModelContent(()=>{this._isVisible&&this._beginUpdateDecorationsSoon()}));const Ne=this._contextKeyService.createKey("isInDiffLeftEditor",pt.hasWidgetFocus());return this._register(pt.onDidFocusEditorWidget(()=>Ne.set(!0))),this._register(pt.onDidBlurEditorWidget(()=>Ne.set(!1))),this._register(pt.onDidContentSizeChange(je=>{const et=this._originalEditor.getContentWidth()+this._modifiedEditor.getContentWidth()+lt.ONE_OVERVIEW_WIDTH,wt=Math.max(this._modifiedEditor.getContentHeight(),this._originalEditor.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:wt,contentWidth:et,contentHeightChanged:je.contentHeightChanged,contentWidthChanged:je.contentWidthChanged})})),pt}_createRightHandSideEditor(st,ut){const pt=this._createInnerEditor(this._instantiationService,this._modifiedDomNode,this._adjustOptionsForRightHandSide(st),ut);this._register(pt.onDidScrollChange(je=>{this._isHandlingScrollEvent||!je.scrollTopChanged&&!je.scrollLeftChanged&&!je.scrollHeightChanged||(this._isHandlingScrollEvent=!0,this._originalEditor.setScrollPosition({scrollLeft:je.scrollLeft,scrollTop:je.scrollTop}),this._isHandlingScrollEvent=!1,this._layoutOverviewViewport())})),this._register(pt.onDidChangeViewZones(()=>{this._onViewZonesChanged()})),this._register(pt.onDidChangeConfiguration(je=>{pt.getModel()&&(je.hasChanged(49)&&this._updateDecorationsRunner.schedule(),je.hasChanged(143)&&(this._updateDecorationsRunner.cancel(),this._updateDecorations()))})),this._register(pt.onDidChangeHiddenAreas(()=>{this._updateDecorationsRunner.cancel(),this._updateDecorations()})),this._register(pt.onDidChangeModelContent(()=>{this._isVisible&&this._beginUpdateDecorationsSoon()})),this._register(pt.onDidChangeModelOptions(je=>{je.tabSize&&this._updateDecorationsRunner.schedule()}));const Ne=this._contextKeyService.createKey("isInDiffRightEditor",pt.hasWidgetFocus());return this._register(pt.onDidFocusEditorWidget(()=>Ne.set(!0))),this._register(pt.onDidBlurEditorWidget(()=>Ne.set(!1))),this._register(pt.onDidContentSizeChange(je=>{const et=this._originalEditor.getContentWidth()+this._modifiedEditor.getContentWidth()+lt.ONE_OVERVIEW_WIDTH,wt=Math.max(this._modifiedEditor.getContentHeight(),this._originalEditor.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:wt,contentWidth:et,contentHeightChanged:je.contentHeightChanged,contentWidthChanged:je.contentWidthChanged})})),this._register(pt.onMouseDown(je=>{var et,wt;if(!je.event.rightButton&&je.target.position&&null!==(et=je.target.element)&&void 0!==et&&et.className.includes("arrow-revert-change")){const Bt=je.target.position.lineNumber,xt=je.target,Qt=null===(wt=this._diffComputationResult)||void 0===wt?void 0:wt.changes.find(ai=>xt?.detail.afterLineNumber===ai.modifiedStartLineNumber||ai.modifiedEndLineNumber>0&&ai.modifiedStartLineNumber===Bt);return Qt&&this.revertChange(Qt),je.event.stopPropagation(),void this._updateDecorations()}})),pt}revertChange(st){const ut=this._modifiedEditor,pt=this._originalEditor.getModel(),Ne=this._modifiedEditor.getModel();if(!pt||!Ne||!ut)return;const je=st.originalEndLineNumber>0?new ae.e(st.originalStartLineNumber,1,st.originalEndLineNumber,pt.getLineMaxColumn(st.originalEndLineNumber)):null,et=je?pt.getValueInRange(je):null,wt=st.modifiedEndLineNumber>0?new ae.e(st.modifiedStartLineNumber,1,st.modifiedEndLineNumber,Ne.getLineMaxColumn(st.modifiedEndLineNumber)):null,Bt=Ne.getEOL();if(0===st.originalEndLineNumber&&wt){let xt=wt;st.modifiedStartLineNumber>1?xt=wt.setStartPosition(st.modifiedStartLineNumber-1,Ne.getLineMaxColumn(st.modifiedStartLineNumber-1)):st.modifiedEndLineNumber<Ne.getLineCount()&&(xt=wt.setEndPosition(st.modifiedEndLineNumber+1,1)),ut.executeEdits("diffEditor",[{range:xt,text:""}])}else if(0===st.modifiedEndLineNumber&&null!==et){const xt=st.modifiedStartLineNumber<Ne.getLineCount()?new Se.L(st.modifiedStartLineNumber+1,1):new Se.L(st.modifiedStartLineNumber,Ne.getLineMaxColumn(st.modifiedStartLineNumber));ut.executeEdits("diffEditor",[{range:ae.e.fromPositions(xt,xt),text:st.modifiedStartLineNumber<Ne.getLineCount()?et+Bt:Bt+et}])}else wt&&null!==et&&ut.executeEdits("diffEditor",[{range:wt,text:et}])}_createInnerEditor(st,ut,pt,Ne){return st.createInstance(K.Gm,ut,pt,Ne)}dispose(){this._codeEditorService.removeDiffEditor(this),-1!==this._beginUpdateDecorationsTimeout&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._cleanViewZonesAndDecorations(),this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this._overviewDomElement.removeChild(this._overviewViewportDomElement.domNode),this._options.renderOverviewRuler&&this._containerDomElement.removeChild(this._overviewDomElement),this._containerDomElement.removeChild(this._originalDomNode),this._originalEditor.dispose(),this._containerDomElement.removeChild(this._modifiedDomNode),this._modifiedEditor.dispose(),this._strategy.dispose(),this._containerDomElement.removeChild(this._reviewPane.domNode.domNode),this._containerDomElement.removeChild(this._reviewPane.shadow.domNode),this._containerDomElement.removeChild(this._reviewPane.actionBarContainer.domNode),this._reviewPane.dispose(),this._domElement.removeChild(this._containerDomElement),this._onDidDispose.fire(),super.dispose()}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return De.g.IDiffEditor}getLineChanges(){return this._diffComputationResult?this._diffComputationResult.changes:null}getOriginalEditor(){return this._originalEditor}getModifiedEditor(){return this._modifiedEditor}updateOptions(st){const ut=Gi(st,this._options),pt=function Zi(St,st){return{enableSplitViewResizing:St.enableSplitViewResizing!==st.enableSplitViewResizing,renderSideBySide:St.renderSideBySide!==st.renderSideBySide,renderMarginRevertIcon:St.renderMarginRevertIcon!==st.renderMarginRevertIcon,maxComputationTime:St.maxComputationTime!==st.maxComputationTime,maxFileSize:St.maxFileSize!==st.maxFileSize,ignoreTrimWhitespace:St.ignoreTrimWhitespace!==st.ignoreTrimWhitespace,renderIndicators:St.renderIndicators!==st.renderIndicators,originalEditable:St.originalEditable!==st.originalEditable,diffCodeLens:St.diffCodeLens!==st.diffCodeLens,renderOverviewRuler:St.renderOverviewRuler!==st.renderOverviewRuler,diffWordWrap:St.diffWordWrap!==st.diffWordWrap,diffAlgorithm:St.diffAlgorithm!==st.diffAlgorithm,accessibilityVerbose:St.accessibilityVerbose!==st.accessibilityVerbose}}(this._options,ut);this._options=ut,this.isEmbeddedDiffEditorKey.set(typeof st.isInEmbeddedEditor<"u"&&st.isInEmbeddedEditor);const Ne=pt.ignoreTrimWhitespace||pt.renderIndicators||pt.renderMarginRevertIcon,je=this._isVisible&&(pt.maxComputationTime||pt.maxFileSize);this._documentDiffProvider.setOptions(ut),Ne?this._beginUpdateDecorations():je&&this._beginUpdateDecorationsSoon(),this._modifiedEditor.updateOptions(this._adjustOptionsForRightHandSide(st)),this._originalEditor.updateOptions(this._adjustOptionsForLeftHandSide(st)),this._strategy.setEnableSplitViewResizing(this._options.enableSplitViewResizing,this._options.splitViewDefaultRatio),pt.renderSideBySide&&(this._setStrategy(this._options.renderSideBySide?new Te(this._createDataSource(),this._options.enableSplitViewResizing,this._options.splitViewDefaultRatio):new ht(this._createDataSource(),this._options.enableSplitViewResizing)),this._containerDomElement.className=lt._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide)),pt.renderOverviewRuler&&(this._options.renderOverviewRuler?this._containerDomElement.appendChild(this._overviewDomElement):this._containerDomElement.removeChild(this._overviewDomElement))}getModel(){return{original:this._originalEditor.getModel(),modified:this._modifiedEditor.getModel()}}createViewModel(st){return{model:st,waitForDiff(){return function(St,st,ut,pt){return new(ut||(ut=Promise))(function(je,et){function wt(Qt){try{xt(pt.next(Qt))}catch(ai){et(ai)}}function Bt(Qt){try{xt(pt.throw(Qt))}catch(ai){et(ai)}}function xt(Qt){Qt.done?je(Qt.value):function Ne(je){return je instanceof ut?je:new ut(function(et){et(je)})}(Qt.value).then(wt,Bt)}xt((pt=pt.apply(St,st||[])).next())})}(this,void 0,void 0,function*(){})}}}setModel(st){if(st&&"model"in st&&(st=st.model),st&&(!st.original||!st.modified))throw new Error(st.original?"DiffEditorWidget.setModel: Modified model is null":"DiffEditorWidget.setModel: Original model is null");this._cleanViewZonesAndDecorations(),this._disposeOverviewRulers(),this._originalEditor.setModel(st?st.original:null),this._modifiedEditor.setModel(st?st.modified:null),this._updateDecorationsRunner.cancel(),st&&(this._originalEditor.setScrollTop(0),this._modifiedEditor.setScrollTop(0)),this._diffComputationResult=null,this._diffComputationToken++,this._setState(0),st&&(this._createOverviewRulers(),this._beginUpdateDecorations()),this._layoutOverviewViewport(),this._onDidChangeModel.fire(),this._diffNavigator=this._register(this._instantiationService.createInstance(J.F,this,{alwaysRevealFirst:!1,findResultLoop:this.getModifiedEditor().getOption(40).loop}))}getContainerDomNode(){return this._domElement}getVisibleColumnFromPosition(st){return this._modifiedEditor.getVisibleColumnFromPosition(st)}getPosition(){return this._modifiedEditor.getPosition()}setPosition(st,ut="api"){this._modifiedEditor.setPosition(st,ut)}revealLine(st,ut=0){this._modifiedEditor.revealLine(st,ut)}revealLineInCenter(st,ut=0){this._modifiedEditor.revealLineInCenter(st,ut)}revealLineInCenterIfOutsideViewport(st,ut=0){this._modifiedEditor.revealLineInCenterIfOutsideViewport(st,ut)}revealLineNearTop(st,ut=0){this._modifiedEditor.revealLineNearTop(st,ut)}revealPosition(st,ut=0){this._modifiedEditor.revealPosition(st,ut)}revealPositionInCenter(st,ut=0){this._modifiedEditor.revealPositionInCenter(st,ut)}revealPositionInCenterIfOutsideViewport(st,ut=0){this._modifiedEditor.revealPositionInCenterIfOutsideViewport(st,ut)}revealPositionNearTop(st,ut=0){this._modifiedEditor.revealPositionNearTop(st,ut)}getSelection(){return this._modifiedEditor.getSelection()}getSelections(){return this._modifiedEditor.getSelections()}setSelection(st,ut="api"){this._modifiedEditor.setSelection(st,ut)}setSelections(st,ut="api"){this._modifiedEditor.setSelections(st,ut)}revealLines(st,ut,pt=0){this._modifiedEditor.revealLines(st,ut,pt)}revealLinesInCenter(st,ut,pt=0){this._modifiedEditor.revealLinesInCenter(st,ut,pt)}revealLinesInCenterIfOutsideViewport(st,ut,pt=0){this._modifiedEditor.revealLinesInCenterIfOutsideViewport(st,ut,pt)}revealLinesNearTop(st,ut,pt=0){this._modifiedEditor.revealLinesNearTop(st,ut,pt)}revealRange(st,ut=0,pt=!1,Ne=!0){this._modifiedEditor.revealRange(st,ut,pt,Ne)}revealRangeInCenter(st,ut=0){this._modifiedEditor.revealRangeInCenter(st,ut)}revealRangeInCenterIfOutsideViewport(st,ut=0){this._modifiedEditor.revealRangeInCenterIfOutsideViewport(st,ut)}revealRangeNearTop(st,ut=0){this._modifiedEditor.revealRangeNearTop(st,ut)}revealRangeNearTopIfOutsideViewport(st,ut=0){this._modifiedEditor.revealRangeNearTopIfOutsideViewport(st,ut)}revealRangeAtTop(st,ut=0){this._modifiedEditor.revealRangeAtTop(st,ut)}getSupportedActions(){return this._modifiedEditor.getSupportedActions()}focus(){this._modifiedEditor.focus()}trigger(st,ut,pt){this._modifiedEditor.trigger(st,ut,pt)}createDecorationsCollection(st){return this._modifiedEditor.createDecorationsCollection(st)}changeDecorations(st){return this._modifiedEditor.changeDecorations(st)}saveViewState(){return{original:this._originalEditor.saveViewState(),modified:this._modifiedEditor.saveViewState()}}restoreViewState(st){if(st&&st.original&&st.modified){const ut=st;this._originalEditor.restoreViewState(ut.original),this._modifiedEditor.restoreViewState(ut.modified)}}layout(st){this._elementSizeObserver.observe(st)}hasTextFocus(){return this._originalEditor.hasTextFocus()||this._modifiedEditor.hasTextFocus()}_onDidContainerSizeChanged(){this._doLayout()}_getReviewHeight(){return this._reviewPane.isVisible()?this._elementSizeObserver.getHeight():0}_layoutOverviewRulers(){if(!this._options.renderOverviewRuler||!this._originalOverviewRuler||!this._modifiedOverviewRuler)return;const st=this._elementSizeObserver.getHeight(),ut=this._getReviewHeight(),pt=lt.ENTIRE_DIFF_OVERVIEW_WIDTH-2*lt.ONE_OVERVIEW_WIDTH;this._modifiedEditor.getLayoutInfo()&&(this._originalOverviewRuler.setLayout({top:0,width:lt.ONE_OVERVIEW_WIDTH,right:pt+lt.ONE_OVERVIEW_WIDTH,height:st-ut}),this._modifiedOverviewRuler.setLayout({top:0,right:0,width:lt.ONE_OVERVIEW_WIDTH,height:st-ut}))}_onViewZonesChanged(){this._currentlyChangingViewZones||this._updateDecorationsRunner.schedule()}_beginUpdateDecorationsSoon(){-1!==this._beginUpdateDecorationsTimeout&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._beginUpdateDecorationsTimeout=window.setTimeout(()=>this._beginUpdateDecorations(),lt.UPDATE_DIFF_DECORATIONS_DELAY)}static _equals(st,ut){return!st&&!ut||!(!st||!ut)&&st.toString()===ut.toString()}_beginUpdateDecorations(){-1!==this._beginUpdateDecorationsTimeout&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1);const st=this._originalEditor.getModel(),ut=this._modifiedEditor.getModel();if(!st||!ut)return;this._diffComputationToken++;const pt=this._diffComputationToken,Ne=1024*this._options.maxFileSize*1024,je=et=>{const wt=et.getValueLength();return 0===Ne||wt<=Ne};je(st)&&je(ut)?(this._setState(1),this._documentDiffProvider.computeDiff(st,ut,{ignoreTrimWhitespace:this._options.ignoreTrimWhitespace,maxComputationTimeMs:this._options.maxComputationTime,computeMoves:!1},E.T.None).then(et=>{pt===this._diffComputationToken&&st===this._originalEditor.getModel()&&ut===this._modifiedEditor.getModel()&&(this._setState(2),this._diffComputationResult={identical:et.identical,quitEarly:et.quitEarly,changes2:et.changes,changes:et.changes.map(wt=>{let Bt,xt,Qt,ai,gi=wt.innerChanges;return wt.originalRange.isEmpty?(Bt=wt.originalRange.startLineNumber-1,xt=0,gi=void 0):(Bt=wt.originalRange.startLineNumber,xt=wt.originalRange.endLineNumberExclusive-1),wt.modifiedRange.isEmpty?(Qt=wt.modifiedRange.startLineNumber-1,ai=0,gi=void 0):(Qt=wt.modifiedRange.startLineNumber,ai=wt.modifiedRange.endLineNumberExclusive-1),{originalStartLineNumber:Bt,originalEndLineNumber:xt,modifiedStartLineNumber:Qt,modifiedEndLineNumber:ai,charChanges:gi?.map(di=>({originalStartLineNumber:di.originalRange.startLineNumber,originalStartColumn:di.originalRange.startColumn,originalEndLineNumber:di.originalRange.endLineNumber,originalEndColumn:di.originalRange.endColumn,modifiedStartLineNumber:di.modifiedRange.startLineNumber,modifiedStartColumn:di.modifiedRange.startColumn,modifiedEndLineNumber:di.modifiedRange.endLineNumber,modifiedEndColumn:di.modifiedRange.endColumn}))}})},this._updateDecorationsRunner.schedule(),this._onDidUpdateDiff.fire())},et=>{pt===this._diffComputationToken&&st===this._originalEditor.getModel()&&ut===this._modifiedEditor.getModel()&&(this._setState(2),this._diffComputationResult=null,this._updateDecorationsRunner.schedule())})):(!lt._equals(st.uri,this._lastOriginalWarning)||!lt._equals(ut.uri,this._lastModifiedWarning))&&(this._lastOriginalWarning=st.uri,this._lastModifiedWarning=ut.uri,this._notificationService.warn(ne.NC("diff.tooLarge","Cannot compare files because one file is too large.")))}_cleanViewZonesAndDecorations(){this._originalEditorState.clean(this._originalEditor),this._modifiedEditorState.clean(this._modifiedEditor)}_updateDecorations(){if(!this._originalEditor.getModel()||!this._modifiedEditor.getModel())return;const st=this._diffComputationResult?this._diffComputationResult.changes:[],ut=this._originalEditorState.getForeignViewZones(this._originalEditor.getWhitespaces()),pt=this._modifiedEditorState.getForeignViewZones(this._modifiedEditor.getWhitespaces()),Ne=this._options.renderMarginRevertIcon&&!this._modifiedEditor.getOption(89),je=this._strategy.getEditorsDiffDecorations(st,this._options.ignoreTrimWhitespace,this._options.renderIndicators,Ne,ut,pt);try{this._currentlyChangingViewZones=!0,this._originalEditorState.apply(this._originalEditor,this._originalOverviewRuler,je.original,!1),this._modifiedEditorState.apply(this._modifiedEditor,this._modifiedOverviewRuler,je.modified,!0)}finally{this._currentlyChangingViewZones=!1}}_adjustOptionsForSubEditor(st){const ut=Object.assign({},st);return ut.inDiffEditor=!0,ut.automaticLayout=!1,ut.scrollbar=Object.assign({},ut.scrollbar||{}),ut.scrollbar.vertical="visible",ut.folding=!1,ut.codeLens=this._options.diffCodeLens,ut.fixedOverflowWidgets=!0,ut.minimap=Object.assign({},ut.minimap||{}),ut.minimap.enabled=!1,ut}_adjustOptionsForLeftHandSide(st){const ut=this._adjustOptionsForSubEditor(st);return this._options.renderSideBySide?ut.wordWrapOverride1=this._options.diffWordWrap:(ut.wordWrapOverride1="off",ut.wordWrapOverride2="off",ut.stickyScroll={enabled:!1}),st.originalAriaLabel&&(ut.ariaLabel=st.originalAriaLabel),this._updateAriaLabel(ut),ut.readOnly=!this._options.originalEditable,ut.dropIntoEditor={enabled:!ut.readOnly},ut.extraEditorClassName="original-in-monaco-diff-editor",Object.assign(Object.assign({},ut),{dimension:{height:0,width:0}})}_updateAriaLabel(st){var ut;let pt=null!==(ut=st.ariaLabel)&&void 0!==ut?ut:"";this._options.accessibilityVerbose?pt+=Ut:pt&&(pt=pt.replaceAll(Ut,"")),st.ariaLabel=pt}_adjustOptionsForRightHandSide(st){const ut=this._adjustOptionsForSubEditor(st);return st.modifiedAriaLabel&&(ut.ariaLabel=st.modifiedAriaLabel),this._updateAriaLabel(ut),ut.wordWrapOverride1=this._options.diffWordWrap,ut.revealHorizontalRightPadding=Ie.BH.revealHorizontalRightPadding.defaultValue+lt.ENTIRE_DIFF_OVERVIEW_WIDTH,ut.scrollbar.verticalHasArrows=!1,ut.extraEditorClassName="modified-in-monaco-diff-editor",Object.assign(Object.assign({},ut),{dimension:{height:0,width:0}})}doLayout(){this._elementSizeObserver.observe(),this._doLayout()}_doLayout(){const st=this._elementSizeObserver.getWidth(),ut=this._elementSizeObserver.getHeight(),pt=this._getReviewHeight(),Ne=this._strategy.layout();this._originalDomNode.style.width=Ne+"px",this._originalDomNode.style.left="0px",this._modifiedDomNode.style.width=st-Ne-lt.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._modifiedDomNode.style.left=Ne+"px",this._overviewDomElement.style.top="0px",this._overviewDomElement.style.height=ut-pt+"px",this._overviewDomElement.style.width=lt.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewDomElement.style.left=st-lt.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewViewportDomElement.setWidth(lt.ENTIRE_DIFF_OVERVIEW_WIDTH),this._overviewViewportDomElement.setHeight(30),this._originalEditor.layout({width:Ne,height:ut-pt}),this._modifiedEditor.layout({width:st-Ne-(this._options.renderOverviewRuler?lt.ENTIRE_DIFF_OVERVIEW_WIDTH:0),height:ut-pt}),(this._originalOverviewRuler||this._modifiedOverviewRuler)&&this._layoutOverviewRulers(),this._reviewPane.layout(ut-pt,st,pt),this._layoutOverviewViewport()}_layoutOverviewViewport(){const st=this._computeOverviewViewport();st?(this._overviewViewportDomElement.setTop(st.top),this._overviewViewportDomElement.setHeight(st.height)):(this._overviewViewportDomElement.setTop(0),this._overviewViewportDomElement.setHeight(0))}_computeOverviewViewport(){const st=this._modifiedEditor.getLayoutInfo();if(!st)return null;const ut=this._modifiedEditor.getScrollTop(),pt=this._modifiedEditor.getScrollHeight(),Ne=Math.max(0,st.height),je=Math.max(0,Ne-0),et=pt>0?je/pt:0;return{height:Math.max(0,Math.floor(st.height*et)),top:Math.floor(ut*et)}}_createDataSource(){return{getWidth:()=>this._elementSizeObserver.getWidth(),getHeight:()=>this._elementSizeObserver.getHeight()-this._getReviewHeight(),getOptions:()=>({renderOverviewRuler:this._options.renderOverviewRuler}),getContainerDomNode:()=>this._containerDomElement,relayoutEditors:()=>{this._doLayout()},getOriginalEditor:()=>this._originalEditor,getModifiedEditor:()=>this._modifiedEditor}}_setStrategy(st){var ut;null===(ut=this._strategy)||void 0===ut||ut.dispose(),this._strategy=st,this._boundarySashes&&st.setBoundarySashes(this._boundarySashes),st.applyColors(this._themeService.getColorTheme()),this._diffComputationResult&&this._updateDecorations(),this._doLayout()}};At.ONE_OVERVIEW_WIDTH=15,At.ENTIRE_DIFF_OVERVIEW_WIDTH=30,At.UPDATE_DIFF_DECORATIONS_DELAY=200,At=lt=function(St,st,ut,pt){var et,Ne=arguments.length,je=Ne<3?st:null===pt?pt=Object.getOwnPropertyDescriptor(st,ut):pt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)je=Reflect.decorate(St,st,ut,pt);else for(var wt=St.length-1;wt>=0;wt--)(et=St[wt])&&(je=(Ne<3?et(je):Ne>3?et(st,ut,je):et(st,ut))||je);return Ne>3&&je&&Object.defineProperty(st,ut,je),je}([Je(3,Ce.p),Je(4,ke.i6),Je(5,xe.TG),Je(6,j.$),Je(7,Fe.XE),Je(8,be.lT),Je(9,Pe.i),Je(10,pe.ek)],At);class It extends g.JT{constructor(st){super(),this._dataSource=st,this._insertColor=null,this._removeColor=null}applyColors(st){const ut=st.getColor(Q.P6Y)||(st.getColor(Q.ypS)||Q.CzK).transparent(2),pt=st.getColor(Q.F9q)||(st.getColor(Q.P4M)||Q.keg).transparent(2),Ne=!ut.equals(this._insertColor)||!pt.equals(this._removeColor);return this._insertColor=ut,this._removeColor=pt,Ne}getEditorsDiffDecorations(st,ut,pt,Ne,je,et){et=et.sort((Qt,ai)=>Qt.afterLineNumber-ai.afterLineNumber),je=je.sort((Qt,ai)=>Qt.afterLineNumber-ai.afterLineNumber);const wt=this._getViewZones(st,je,et,pt),Bt=this._getOriginalEditorDecorations(wt,st,ut,pt),xt=this._getModifiedEditorDecorations(wt,st,ut,pt,Ne);return{original:{decorations:Bt.decorations,overviewZones:Bt.overviewZones,zones:wt.original},modified:{decorations:xt.decorations,overviewZones:xt.overviewZones,zones:wt.modified}}}setBoundarySashes(st){}}class it{constructor(st){this._source=st,this._index=-1,this.current=null,this.advance()}advance(){this._index++,this.current=this._index<this._source.length?this._source[this._index]:null}}class qe{constructor(st,ut,pt,Ne,je){this._lineChanges=st,this._originalForeignVZ=ut,this._modifiedForeignVZ=pt,this._originalEditor=Ne,this._modifiedEditor=je}static _getViewLineCount(st,ut,pt){const Ne=st.getModel(),je=st._getViewModel();if(Ne&&je){const et=Mi(Ne,je,ut,pt);return et.endLineNumber-et.startLineNumber+1}return pt-ut+1}getViewZones(){const st=this._originalEditor.getOption(65),ut=this._modifiedEditor.getOption(65),pt=-1!==this._originalEditor.getOption(143).wrappingColumn,Ne=-1!==this._modifiedEditor.getOption(143).wrappingColumn,je=pt||Ne,et=this._originalEditor.getModel(),wt=this._originalEditor._getViewModel().coordinatesConverter,Bt=this._modifiedEditor._getViewModel().coordinatesConverter,xt_original=[],xt_modified=[];let Qt=0,ai=0,gi=0,di=0,Ei=0,Ki=0;const zi=(vi,ui)=>vi.afterLineNumber-ui.afterLineNumber,qi=(vi,ui)=>{if(null===ui.domNode&&vi.length>0){const ni=vi[vi.length-1];if(ni.afterLineNumber===ui.afterLineNumber&&null===ni.domNode)return void(ni.heightInLines+=ui.heightInLines)}vi.push(ui)},fn=new it(this._modifiedForeignVZ),Nn=new it(this._originalForeignVZ);let xn=1,Fn=1;for(let vi=0,ui=this._lineChanges.length;vi<=ui;vi++){const ni=vi<ui?this._lineChanges[vi]:null;null!==ni?(gi=ni.originalStartLineNumber+(ni.originalEndLineNumber>0?-1:0),di=ni.modifiedStartLineNumber+(ni.modifiedEndLineNumber>0?-1:0),ai=ni.originalEndLineNumber>0?qe._getViewLineCount(this._originalEditor,ni.originalStartLineNumber,ni.originalEndLineNumber):0,Qt=ni.modifiedEndLineNumber>0?qe._getViewLineCount(this._modifiedEditor,ni.modifiedStartLineNumber,ni.modifiedEndLineNumber):0,Ei=Math.max(ni.originalStartLineNumber,ni.originalEndLineNumber),Ki=Math.max(ni.modifiedStartLineNumber,ni.modifiedEndLineNumber)):(gi+=1e7+ai,di+=1e7+Qt,Ei=gi,Ki=di);let Nt=[],Wt=[];if(je){let bi;bi=ni?ni.originalEndLineNumber>0?ni.originalStartLineNumber-xn:ni.modifiedStartLineNumber-Fn:et.getLineCount()-xn+1;for(let Fi=0;Fi<bi;Fi++){const Yi=xn+Fi,Qi=Fn+Fi,cn=wt.getModelLineViewLineCount(Yi),bn=Bt.getModelLineViewLineCount(Qi);cn<bn?Nt.push({afterLineNumber:Yi,heightInLines:bn-cn,domNode:null,marginDomNode:null}):cn>bn&&Wt.push({afterLineNumber:Qi,heightInLines:cn-bn,domNode:null,marginDomNode:null})}ni&&(xn=(ni.originalEndLineNumber>0?ni.originalEndLineNumber:ni.originalStartLineNumber)+1,Fn=(ni.modifiedEndLineNumber>0?ni.modifiedEndLineNumber:ni.modifiedStartLineNumber)+1)}for(;fn.current&&fn.current.afterLineNumber<=Ki;){let bi;bi=fn.current.afterLineNumber<=di?gi-di+fn.current.afterLineNumber:Ei;let Fi=null;ni&&ni.modifiedStartLineNumber<=fn.current.afterLineNumber&&fn.current.afterLineNumber<=ni.modifiedEndLineNumber&&(Fi=this._createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion()),Nt.push({afterLineNumber:bi,heightInLines:fn.current.height/ut,domNode:null,marginDomNode:Fi}),fn.advance()}for(;Nn.current&&Nn.current.afterLineNumber<=Ei;){let bi;bi=Nn.current.afterLineNumber<=gi?di-gi+Nn.current.afterLineNumber:Ki,Wt.push({afterLineNumber:bi,heightInLines:Nn.current.height/st,domNode:null}),Nn.advance()}if(null!==ni&&Ot(ni)){const bi=this._produceOriginalFromDiff(ni,ai,Qt);bi&&Nt.push(bi)}if(null!==ni&&gt(ni)){const bi=this._produceModifiedFromDiff(ni,ai,Qt);bi&&Wt.push(bi)}let li=0,Yt=0;for(Nt=Nt.sort(zi),Wt=Wt.sort(zi);li<Nt.length&&Yt<Wt.length;){const bi=Nt[li],Fi=Wt[Yt],Yi=bi.afterLineNumber-gi,Qi=Fi.afterLineNumber-di;Yi<Qi?(qi(xt_original,bi),li++):Qi<Yi?(qi(xt_modified,Fi),Yt++):bi.shouldNotShrink?(qi(xt_original,bi),li++):Fi.shouldNotShrink?(qi(xt_modified,Fi),Yt++):bi.heightInLines>=Fi.heightInLines?(bi.heightInLines-=Fi.heightInLines,Yt++):(Fi.heightInLines-=bi.heightInLines,li++)}for(;li<Nt.length;)qi(xt_original,Nt[li]),li++;for(;Yt<Wt.length;)qi(xt_modified,Wt[Yt]),Yt++}return{original:qe._ensureDomNodes(xt_original),modified:qe._ensureDomNodes(xt_modified)}}static _ensureDomNodes(st){return st.map(ut=>(ut.domNode||(ut.domNode=Ci()),ut))}}function Ze(St,st,ut,pt,Ne){return{range:new ae.e(St,st,ut,pt),options:Ne}}const Ee={arrowRevertChange:oe.qx.register({description:"diff-editor-arrow-revert-change",glyphMarginHoverMessage:new u.W5(void 0,{isTrusted:!0,supportThemeIcons:!0}).appendMarkdown(ne.NC("revertChangeHoverMessage","Click to revert change")),glyphMarginClassName:"arrow-revert-change "+i.k.asClassName(L.l.arrowRight),zIndex:10001}),charDelete:oe.qx.register({description:"diff-editor-char-delete",className:"char-delete"}),charDeleteWholeLine:oe.qx.register({description:"diff-editor-char-delete-whole-line",className:"char-delete",isWholeLine:!0}),charInsert:oe.qx.register({description:"diff-editor-char-insert",className:"char-insert"}),charInsertWholeLine:oe.qx.register({description:"diff-editor-char-insert-whole-line",className:"char-insert",isWholeLine:!0}),lineInsert:oe.qx.register({description:"diff-editor-line-insert",className:"line-insert",marginClassName:"gutter-insert",isWholeLine:!0}),lineInsertWithSign:oe.qx.register({description:"diff-editor-line-insert-with-sign",className:"line-insert",linesDecorationsClassName:"insert-sign "+i.k.asClassName(Lt),marginClassName:"gutter-insert",isWholeLine:!0}),lineDelete:oe.qx.register({description:"diff-editor-line-delete",className:"line-delete",marginClassName:"gutter-delete",isWholeLine:!0}),lineDeleteWithSign:oe.qx.register({description:"diff-editor-line-delete-with-sign",className:"line-delete",linesDecorationsClassName:"delete-sign "+i.k.asClassName(Tt),marginClassName:"gutter-delete",isWholeLine:!0}),lineDeleteMargin:oe.qx.register({description:"diff-editor-line-delete-margin",marginClassName:"gutter-delete"})};let Te=(()=>{class St extends It{constructor(ut,pt,Ne){super(ut),this._disableSash=!1===pt,this._defaultRatio=Ne,this._sashRatio=null,this._sashPosition=null,this._startSashPosition=null,this._sash=this._register(new v.g(this._dataSource.getContainerDomNode(),this,{orientation:0})),this._disableSash&&(this._sash.state=0),this._sash.onDidStart(()=>this._onSashDragStart()),this._sash.onDidChange(je=>this._onSashDrag(je)),this._sash.onDidEnd(()=>this._onSashDragEnd()),this._sash.onDidReset(()=>this._onSashReset())}setEnableSplitViewResizing(ut,pt){this._defaultRatio=pt;const Ne=!1===ut;this._disableSash!==Ne&&(this._disableSash=Ne,this._sash.state=this._disableSash?0:3)}layout(ut=this._sashRatio||this._defaultRatio){const Ne=this._dataSource.getWidth()-(this._dataSource.getOptions().renderOverviewRuler?At.ENTIRE_DIFF_OVERVIEW_WIDTH:0);let je=Math.floor((ut||this._defaultRatio)*Ne);const et=Math.floor(this._defaultRatio*Ne);return je=this._disableSash?et:je||et,Ne>2*St.MINIMUM_EDITOR_WIDTH?(je<St.MINIMUM_EDITOR_WIDTH&&(je=St.MINIMUM_EDITOR_WIDTH),je>Ne-St.MINIMUM_EDITOR_WIDTH&&(je=Ne-St.MINIMUM_EDITOR_WIDTH)):je=et,this._sashPosition!==je&&(this._sashPosition=je),this._sash.layout(),this._sashPosition}_onSashDragStart(){this._startSashPosition=this._sashPosition}_onSashDrag(ut){const Ne=this._dataSource.getWidth()-(this._dataSource.getOptions().renderOverviewRuler?At.ENTIRE_DIFF_OVERVIEW_WIDTH:0),je=this.layout((this._startSashPosition+(ut.currentX-ut.startX))/Ne);this._sashRatio=je/Ne,this._dataSource.relayoutEditors()}_onSashDragEnd(){this._sash.layout()}_onSashReset(){this._sashRatio=this._defaultRatio,this._dataSource.relayoutEditors(),this._sash.layout()}getVerticalSashTop(ut){return 0}getVerticalSashLeft(ut){return this._sashPosition}getVerticalSashHeight(ut){return this._dataSource.getHeight()}setBoundarySashes(ut){this._sash.orthogonalEndSash=ut.bottom}_getViewZones(ut,pt,Ne){const je=this._dataSource.getOriginalEditor(),et=this._dataSource.getModifiedEditor();return new Ae(ut,pt,Ne,je,et).getViewZones()}_getOriginalEditorDecorations(ut,pt,Ne,je){const et=this._dataSource.getOriginalEditor(),wt=String(this._removeColor),Bt={decorations:[],overviewZones:[]},xt=et.getModel(),Qt=et._getViewModel();for(const ai of pt)if(gt(ai)){Bt.decorations.push({range:new ae.e(ai.originalStartLineNumber,1,ai.originalEndLineNumber,1073741824),options:je?Ee.lineDeleteWithSign:Ee.lineDelete}),(!Ot(ai)||!ai.charChanges)&&Bt.decorations.push(Ze(ai.originalStartLineNumber,1,ai.originalEndLineNumber,1073741824,Ee.charDeleteWholeLine));const gi=Mi(xt,Qt,ai.originalStartLineNumber,ai.originalEndLineNumber);if(Bt.overviewZones.push(new ie.EY(gi.startLineNumber,gi.endLineNumber,0,wt)),ai.charChanges)for(const di of ai.charChanges)if(Zt(di))if(Ne)for(let Ei=di.originalStartLineNumber;Ei<=di.originalEndLineNumber;Ei++){let Ki,zi;Ki=Ei===di.originalStartLineNumber?di.originalStartColumn:xt.getLineFirstNonWhitespaceColumn(Ei),zi=Ei===di.originalEndLineNumber?di.originalEndColumn:xt.getLineLastNonWhitespaceColumn(Ei),Bt.decorations.push(Ze(Ei,Ki,Ei,zi,Ee.charDelete))}else Bt.decorations.push(Ze(di.originalStartLineNumber,di.originalStartColumn,di.originalEndLineNumber,di.originalEndColumn,Ee.charDelete))}return Bt}_getModifiedEditorDecorations(ut,pt,Ne,je,et){const wt=this._dataSource.getModifiedEditor(),Bt=String(this._insertColor),xt={decorations:[],overviewZones:[]},Qt=wt.getModel(),ai=wt._getViewModel();for(const gi of pt){if(et)if(gi.modifiedEndLineNumber>0)xt.decorations.push({range:new ae.e(gi.modifiedStartLineNumber,1,gi.modifiedStartLineNumber,1),options:Ee.arrowRevertChange});else{const di=ut.modified.find(Ei=>Ei.afterLineNumber===gi.modifiedStartLineNumber);di&&(di.marginDomNode=ci())}if(Ot(gi)){xt.decorations.push({range:new ae.e(gi.modifiedStartLineNumber,1,gi.modifiedEndLineNumber,1073741824),options:je?Ee.lineInsertWithSign:Ee.lineInsert}),(!gt(gi)||!gi.charChanges)&&xt.decorations.push(Ze(gi.modifiedStartLineNumber,1,gi.modifiedEndLineNumber,1073741824,Ee.charInsertWholeLine));const di=Mi(Qt,ai,gi.modifiedStartLineNumber,gi.modifiedEndLineNumber);if(xt.overviewZones.push(new ie.EY(di.startLineNumber,di.endLineNumber,0,Bt)),gi.charChanges)for(const Ei of gi.charChanges)if(Rt(Ei))if(Ne)for(let Ki=Ei.modifiedStartLineNumber;Ki<=Ei.modifiedEndLineNumber;Ki++){let zi,qi;zi=Ki===Ei.modifiedStartLineNumber?Ei.modifiedStartColumn:Qt.getLineFirstNonWhitespaceColumn(Ki),qi=Ki===Ei.modifiedEndLineNumber?Ei.modifiedEndColumn:Qt.getLineLastNonWhitespaceColumn(Ki),xt.decorations.push(Ze(Ki,zi,Ki,qi,Ee.charInsert))}else xt.decorations.push(Ze(Ei.modifiedStartLineNumber,Ei.modifiedStartColumn,Ei.modifiedEndLineNumber,Ei.modifiedEndColumn,Ee.charInsert))}}return xt}}return St.MINIMUM_EDITOR_WIDTH=100,St})();class Ae extends qe{constructor(st,ut,pt,Ne,je){super(st,ut,pt,Ne,je)}_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion(){return null}_produceOriginalFromDiff(st,ut,pt){return pt>ut?{afterLineNumber:Math.max(st.originalStartLineNumber,st.originalEndLineNumber),heightInLines:pt-ut,domNode:null}:null}_produceModifiedFromDiff(st,ut,pt){return ut>pt?{afterLineNumber:Math.max(st.modifiedStartLineNumber,st.modifiedEndLineNumber),heightInLines:ut-pt,domNode:null}:null}}class ht extends It{constructor(st,ut){super(st),this._decorationsLeft=st.getOriginalEditor().getLayoutInfo().decorationsLeft,this._register(st.getOriginalEditor().onDidLayoutChange(pt=>{this._decorationsLeft!==pt.decorationsLeft&&(this._decorationsLeft=pt.decorationsLeft,st.relayoutEditors())}))}setEnableSplitViewResizing(st){}_getViewZones(st,ut,pt,Ne){const je=this._dataSource.getOriginalEditor(),et=this._dataSource.getModifiedEditor();return new yt(st,ut,pt,je,et,Ne).getViewZones()}_getOriginalEditorDecorations(st,ut,pt,Ne){const je=String(this._removeColor),et={decorations:[],overviewZones:[]},wt=this._dataSource.getOriginalEditor(),Bt=wt.getModel(),xt=wt._getViewModel();let Qt=0;for(const ai of ut)if(gt(ai)){for(et.decorations.push({range:new ae.e(ai.originalStartLineNumber,1,ai.originalEndLineNumber,1073741824),options:Ee.lineDeleteMargin});Qt<st.modified.length;){const Ei=st.modified[Qt];if(Ei.diff&&Ei.diff.originalStartLineNumber>=ai.originalStartLineNumber)break;Qt++}let gi=0;if(Qt<st.modified.length){const Ei=st.modified[Qt];Ei.diff&&Ei.diff.originalStartLineNumber===ai.originalStartLineNumber&&Ei.diff.originalEndLineNumber===ai.originalEndLineNumber&&Ei.diff.modifiedStartLineNumber===ai.modifiedStartLineNumber&&Ei.diff.modifiedEndLineNumber===ai.modifiedEndLineNumber&&(gi=Ei.heightInLines)}const di=Mi(Bt,xt,ai.originalStartLineNumber,ai.originalEndLineNumber);et.overviewZones.push(new ie.EY(di.startLineNumber,di.endLineNumber,gi,je))}return et}_getModifiedEditorDecorations(st,ut,pt,Ne,je){const et=this._dataSource.getModifiedEditor(),wt=String(this._insertColor),Bt={decorations:[],overviewZones:[]},xt=et.getModel(),Qt=et._getViewModel();for(const ai of ut)if(Ot(ai)){Bt.decorations.push({range:new ae.e(ai.modifiedStartLineNumber,1,ai.modifiedEndLineNumber,1073741824),options:Ne?Ee.lineInsertWithSign:Ee.lineInsert});const gi=Mi(xt,Qt,ai.modifiedStartLineNumber,ai.modifiedEndLineNumber);if(Bt.overviewZones.push(new ie.EY(gi.startLineNumber,gi.endLineNumber,0,wt)),ai.charChanges){for(const di of ai.charChanges)if(Rt(di))if(pt)for(let Ei=di.modifiedStartLineNumber;Ei<=di.modifiedEndLineNumber;Ei++){let Ki,zi;Ki=Ei===di.modifiedStartLineNumber?di.modifiedStartColumn:xt.getLineFirstNonWhitespaceColumn(Ei),zi=Ei===di.modifiedEndLineNumber?di.modifiedEndColumn:xt.getLineLastNonWhitespaceColumn(Ei),Bt.decorations.push(Ze(Ei,Ki,Ei,zi,Ee.charInsert))}else Bt.decorations.push(Ze(di.modifiedStartLineNumber,di.modifiedStartColumn,di.modifiedEndLineNumber,di.modifiedEndColumn,Ee.charInsert))}else Bt.decorations.push(Ze(ai.modifiedStartLineNumber,1,ai.modifiedEndLineNumber,1073741824,Ee.charInsertWholeLine))}return Bt}layout(){return Math.max(5,this._decorationsLeft)}}class yt extends qe{constructor(st,ut,pt,Ne,je,et){super(st,ut,pt,Ne,je),this._originalModel=Ne.getModel(),this._renderIndicators=et,this._pendingLineChange=[],this._pendingViewZones=[],this._lineBreaksComputer=this._modifiedEditor._getViewModel().createLineBreaksComputer()}getViewZones(){const st=super.getViewZones();return this._finalize(st),st}_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion(){const st=document.createElement("div");return st.className="inline-added-margin-view-zone",st}_produceOriginalFromDiff(st,ut,pt){const Ne=document.createElement("div");return Ne.className="inline-added-margin-view-zone",{afterLineNumber:Math.max(st.originalStartLineNumber,st.originalEndLineNumber),heightInLines:pt,domNode:document.createElement("div"),marginDomNode:Ne}}_produceModifiedFromDiff(st,ut,pt){const Ne=document.createElement("div");Ne.className=`view-lines line-delete ${y.S}`;const je=document.createElement("div");je.className="inline-deleted-margin-view-zone";const et={shouldNotShrink:!0,afterLineNumber:0===st.modifiedEndLineNumber?st.modifiedStartLineNumber:st.modifiedStartLineNumber-1,heightInLines:ut,minWidthInPx:0,domNode:Ne,marginDomNode:je,diff:{originalStartLineNumber:st.originalStartLineNumber,originalEndLineNumber:st.originalEndLineNumber,modifiedStartLineNumber:st.modifiedStartLineNumber,modifiedEndLineNumber:st.modifiedEndLineNumber,originalModel:this._originalModel,viewLineCounts:null}};for(let wt=st.originalStartLineNumber;wt<=st.originalEndLineNumber;wt++)this._lineBreaksComputer.addRequest(this._originalModel.getLineContent(wt),null,null);return this._pendingLineChange.push(st),this._pendingViewZones.push(et),et}_finalize(st){const ut=this._modifiedEditor.getOptions(),pt=this._modifiedEditor.getModel().getOptions().tabSize,Ne=ut.get(49),je=ut.get(32),et=Ne.typicalHalfwidthCharacterWidth,wt=ut.get(102),Bt=this._originalModel.mightContainNonBasicASCII(),xt=this._originalModel.mightContainRTL(),Qt=ut.get(65),gi=ut.get(142).decorationsWidth,di=ut.get(115),Ei=ut.get(97),Ki=ut.get(92),zi=ut.get(50),qi=this._lineBreaksComputer.finalize();let fn=0;for(let Nn=0;Nn<this._pendingLineChange.length;Nn++){const xn=this._pendingLineChange[Nn],Fn=this._pendingViewZones[Nn],vi=Fn.domNode;(0,B.N)(vi,Ne);const ui=Fn.marginDomNode;(0,B.N)(ui,Ne);const ni=[];if(xn.charChanges)for(const Qi of xn.charChanges)Zt(Qi)&&ni.push(new F.$t(new ae.e(Qi.originalStartLineNumber,Qi.originalStartColumn,Qi.originalEndLineNumber,Qi.originalEndColumn),"char-delete",0));const Nt=ni.length>0,Wt=new Ve.HT(1e4);let li=0,Yt=0,bi=null;for(let Qi=xn.originalStartLineNumber;Qi<=xn.originalEndLineNumber;Qi++){const cn=Qi-xn.originalStartLineNumber,bn=this._originalModel.tokenization.getLineTokens(Qi),Dn=bn.getLineContent(),Pn=qi[fn++],vn=Y.Kp.filter(ni,Qi,1,Dn.length+1);if(Pn){let Xn=0;for(const eo of Pn.breakOffsets){const wn=bn.sliceAndInflate(Xn,eo,0),Un=Dn.substring(Xn,eo);li=Math.max(li,this._renderOriginalLine(Yt++,Un,wn,Y.Kp.extractWrapped(vn,Xn,eo),Nt,Bt,xt,Ne,je,Qt,gi,di,Ei,Ki,zi,pt,Wt,ui)),Xn=eo}for(bi||(bi=[]);bi.length<cn;)bi[bi.length]=1;bi[cn]=Pn.breakOffsets.length,Fn.heightInLines+=Pn.breakOffsets.length-1;const Wn=document.createElement("div");Wn.className="gutter-delete",st.original.push({afterLineNumber:Qi,afterColumn:0,heightInLines:Pn.breakOffsets.length-1,domNode:Ci(),marginDomNode:Wn})}else li=Math.max(li,this._renderOriginalLine(Yt++,Dn,bn,vn,Nt,Bt,xt,Ne,je,Qt,gi,di,Ei,Ki,zi,pt,Wt,ui))}li+=wt;const Fi=Wt.build(),Yi=Mt?Mt.createHTML(Fi):Fi;if(vi.innerHTML=Yi,Fn.minWidthInPx=li*et,bi){const Qi=xn.originalEndLineNumber-xn.originalStartLineNumber;for(;bi.length<=Qi;)bi[bi.length]=1}Fn.diff.viewLineCounts=bi}st.original.sort((Nn,xn)=>Nn.afterLineNumber-xn.afterLineNumber)}_renderOriginalLine(st,ut,pt,Ne,je,et,wt,Bt,xt,Qt,ai,gi,di,Ei,Ki,zi,qi,fn){qi.appendString('<div class="view-line'),je||qi.appendString(" char-delete"),qi.appendString('" style="top:'),qi.appendString(String(st*Qt)),qi.appendString('px;width:1000000px;">');const Nn=F.wA.isBasicASCII(ut,et),xn=F.wA.containsRTL(ut,Nn,wt),Fn=(0,x.d1)(new x.IJ(Bt.isMonospace&&!xt,Bt.canUseHalfwidthRightwardsArrow,ut,!1,Nn,xn,0,pt,Ne,zi,0,Bt.spaceWidth,Bt.middotWidth,Bt.wsmiddotWidth,gi,di,Ei,Ki!==Ie.n0.OFF,null),qi);if(qi.appendString("</div>"),this._renderIndicators){const vi=document.createElement("div");vi.className=`delete-sign ${i.k.asClassName(Tt)}`,vi.setAttribute("style",`position:absolute;top:${st*Qt}px;width:${ai}px;height:${Qt}px;right:0;`),fn.appendChild(vi)}return Fn.characterMapping.getHorizontalOffset(Fn.characterMapping.length)}}function Dt(St,st){return(0,Ie.NY)(St,st,["off","on","inherit"])}function Ot(St){return St.modifiedEndLineNumber>0}function gt(St){return St.originalEndLineNumber>0}function Rt(St){return St.modifiedStartLineNumber===St.modifiedEndLineNumber?St.modifiedEndColumn-St.modifiedStartColumn>0:St.modifiedEndLineNumber-St.modifiedStartLineNumber>0}function Zt(St){return St.originalStartLineNumber===St.originalEndLineNumber?St.originalEndColumn-St.originalStartColumn>0:St.originalEndLineNumber-St.originalStartLineNumber>0}function Ci(){const St=document.createElement("div");return St.className="diagonal-fill",St}function ci(){const St=document.createElement("div");return St.className="arrow-revert-change "+i.k.asClassName(L.l.arrowRight),f.$("div",{},St)}function Mi(St,st,ut,pt){const Ne=St.getLineCount();return ut=Math.min(Ne,Math.max(1,ut)),pt=Math.min(Ne,Math.max(1,pt)),st.coordinatesConverter.convertModelRangeToViewRange(new ae.e(ut,St.getLineMinColumn(ut),pt,St.getLineMaxColumn(pt)))}function Gi(St,st){return{enableSplitViewResizing:(0,Ie.O7)(St.enableSplitViewResizing,st.enableSplitViewResizing),splitViewDefaultRatio:(0,Ie.L_)(St.splitViewDefaultRatio,.5,.1,.9),renderSideBySide:(0,Ie.O7)(St.renderSideBySide,st.renderSideBySide),renderMarginRevertIcon:(0,Ie.O7)(St.renderMarginRevertIcon,st.renderMarginRevertIcon),maxComputationTime:(0,Ie.Zc)(St.maxComputationTime,st.maxComputationTime,0,1073741824),maxFileSize:(0,Ie.Zc)(St.maxFileSize,st.maxFileSize,0,1073741824),ignoreTrimWhitespace:(0,Ie.O7)(St.ignoreTrimWhitespace,st.ignoreTrimWhitespace),renderIndicators:(0,Ie.O7)(St.renderIndicators,st.renderIndicators),originalEditable:(0,Ie.O7)(St.originalEditable,st.originalEditable),diffCodeLens:(0,Ie.O7)(St.diffCodeLens,st.diffCodeLens),renderOverviewRuler:(0,Ie.O7)(St.renderOverviewRuler,st.renderOverviewRuler),diffWordWrap:Dt(St.diffWordWrap,st.diffWordWrap),diffAlgorithm:(0,Ie.NY)(St.diffAlgorithm,st.diffAlgorithm,["legacy","advanced"],{smart:"legacy",experimental:"advanced"}),accessibilityVerbose:(0,Ie.O7)(St.accessibilityVerbose,st.accessibilityVerbose),hideUnchangedRegions:{enabled:!1,contextLineCount:0,minimumLineCount:0,revealLineCount:0},experimental:{showEmptyDecorations:!1,showMoves:!1},isInEmbeddedEditor:(0,Ie.O7)(St.isInEmbeddedEditor,st.isInEmbeddedEditor),onlyShowAccessibleDiffViewer:!1,renderSideBySideInlineBreakpoint:0,useInlineViewWhenSpaceIsLimited:!1}}(0,Fe.Ic)((St,st)=>{const ut=St.getColor(Q.L_t);st.addRule(`\n\t.monaco-editor .diagonal-fill {\n\t\tbackground-image: linear-gradient(\n\t\t\t-45deg,\n\t\t\t${ut} 12.5%,\n\t\t\t#0000 12.5%, #0000 50%,\n\t\t\t${ut} 50%, ${ut} 62.5%,\n\t\t\t#0000 62.5%, #0000 100%\n\t\t);\n\t\tbackground-size: 8px 8px;\n\t}\n\t`)})},81149:(Xe,we,e)=>{e.d(we,{F:()=>u});var f=e(37836),P=e(58178),r=e(78694),y=e(52209),v=e(96726),S=e(15084),T=e(51617),E=e(74875),p=function(g,i){return function(d,a){i(d,a,g)}};const c={followsCaret:!0,ignoreCharChanges:!0,alwaysRevealFirst:!0,findResultLoop:!0};let u=class extends r.JT{constructor(i,d={},a,m,l){super(),this._audioCueService=a,this._codeEditorService=m,this._accessibilityService=l,this._onDidUpdate=this._register(new P.Q5),this._editor=i,this._options=y.jB(d,c,!1),this.disposed=!1,this.nextIdx=-1,this.ranges=[],this.ignoreSelectionChange=!1,this.revealFirst=!!this._options.alwaysRevealFirst,this._register(this._editor.onDidUpdateDiff(()=>this._onDiffUpdated())),this._options.followsCaret&&this._register(this._editor.getModifiedEditor().onDidChangeCursorPosition(I=>{this.ignoreSelectionChange||(this._updateAccessibilityState(I.position.lineNumber),this.nextIdx=-1)})),this._init()}_init(){this._editor.getLineChanges()}_onDiffUpdated(){this._init(),this._compute(this._editor.getLineChanges()),this.revealFirst&&null!==this._editor.getLineChanges()&&(this.revealFirst=!1,this.nextIdx=-1,this.next(1))}_compute(i){this.ranges=[],i&&i.forEach(d=>{!this._options.ignoreCharChanges&&d.charChanges?d.charChanges.forEach(a=>{this.ranges.push({rhs:!0,range:new v.e(a.modifiedStartLineNumber,a.modifiedStartColumn,a.modifiedEndLineNumber,a.modifiedEndColumn)})}):this.ranges.push(0===d.modifiedEndLineNumber?{rhs:!0,range:new v.e(d.modifiedStartLineNumber,1,d.modifiedStartLineNumber+1,1)}:{rhs:!0,range:new v.e(d.modifiedStartLineNumber,1,d.modifiedEndLineNumber+1,1)})}),this.ranges.sort((d,a)=>v.e.compareRangesUsingStarts(d.range,a.range)),this._onDidUpdate.fire(this)}_initIdx(i){let d=!1;const a=this._editor.getPosition();if(a){for(let m=0,l=this.ranges.length;m<l&&!d;m++)a.isBeforeOrEqual(this.ranges[m].range.getStartPosition())&&(this.nextIdx=m+(i?0:-1),d=!0);d||(this.nextIdx=i?0:this.ranges.length-1),this.nextIdx<0&&(this.nextIdx=this.ranges.length-1)}else this.nextIdx=0}_move(i,d){if(f.ok(!this.disposed,"Illegal State - diff navigator has been disposed"),!this.canNavigate())return;-1===this.nextIdx?this._initIdx(i):i?(this.nextIdx+=1,this.nextIdx>=this.ranges.length&&(this.nextIdx=0)):(this.nextIdx-=1,this.nextIdx<0&&(this.nextIdx=this.ranges.length-1));const a=this.ranges[this.nextIdx];this.ignoreSelectionChange=!0;try{const m=a.range.getStartPosition();this._editor.setPosition(m),this._editor.revealRangeInCenter(a.range,d),this._updateAccessibilityState(m.lineNumber,!0)}finally{this.ignoreSelectionChange=!1}}_updateAccessibilityState(i,d){var a;const m=null===(a=this._editor.getModel())||void 0===a?void 0:a.modified;if(!m)return;const l=m.getLineDecorations(i).find(w=>"line-insert"===w.options.className);if(l)this._audioCueService.playAudioCue(S.y$.diffLineModified,{allowManyInParallel:!0});else{if(!d)return;this._audioCueService.playAudioCue(S.y$.diffLineDeleted,{allowManyInParallel:!0})}const I=this._codeEditorService.getActiveCodeEditor();d&&I&&l&&this._accessibilityService.isScreenReaderOptimized()&&(I.setSelection({startLineNumber:i,startColumn:0,endLineNumber:i,endColumn:Number.MAX_VALUE}),I.writeScreenReaderContent("diff-navigation"))}canNavigate(){return this.ranges&&this.ranges.length>0}next(i=0){this.canNavigateNext()&&this._move(!0,i)}previous(i=0){this.canNavigatePrevious()&&this._move(!1,i)}canNavigateNext(){return this.canNavigateLoop()||this.nextIdx<this.ranges.length-1}canNavigatePrevious(){return this.canNavigateLoop()||0!==this.nextIdx}canNavigateLoop(){return!!this._options.findResultLoop}dispose(){super.dispose(),this.ranges=[],this.disposed=!0}};u=function(g,i,d,a){var I,m=arguments.length,l=m<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,d):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(g,i,d,a);else for(var w=g.length-1;w>=0;w--)(I=g[w])&&(l=(m<3?I(l):m>3?I(i,d,l):I(i,d))||l);return m>3&&l&&Object.defineProperty(i,d,l),l}([p(2,S.e7),p(3,T.$),p(4,E.F)],u)},40354:(Xe,we,e)=>{e.d(we,{j:()=>Se});var f=e(20274),P=e(25937),r=e(75578),y=e(26775),v=e(8286),S=e(54457),T=e(27222),E=e(78694),L=e(35053),p=e(93379),c=e.n(p),u=e(7795),g=e.n(u),i=e(90569),d=e.n(i),a=e(3565),m=e.n(a),l=e(19216),I=e.n(l),w=e(44589),D=e.n(w),N=e(34504),A={};A.styleTagTransform=D(),A.setAttributes=m(),A.insert=d().bind(null,"head"),A.domAPI=g(),A.insertStyleElement=I(),c()(N.Z,A);var _,O=e(91988),W=e(36413),z=e(68678),U=e(74315),ee=e(39424),B=e(82911),G=e(56970),se=e(37190),j=e(15084),$=e(47358),K=e(34252),te=function(Ve,De){return function(ye,oe){De(ye,oe,Ve)}};class ge{constructor(De,ye,oe,Y){this.originalLineStart=De,this.originalLineEnd=ye,this.modifiedLineStart=oe,this.modifiedLineEnd=Y}getType(){return 0===this.originalLineStart?1:0===this.modifiedLineStart?2:0}}class _e{constructor(De){this.entries=De}}const ue=(0,K.q5)("diff-review-insert",T.l.add,se.NC("diffReviewInsertIcon","Icon for 'Insert' in diff review.")),ve=(0,K.q5)("diff-review-remove",T.l.remove,se.NC("diffReviewRemoveIcon","Icon for 'Remove' in diff review.")),Ie=(0,K.q5)("diff-review-close",T.l.close,se.NC("diffReviewCloseIcon","Icon for 'Close' in diff review."));let Se=_=class extends E.JT{constructor(De,ye,oe,Y){super(),this._languageService=ye,this._audioCueService=oe,this._configurationService=Y,this._width=0,this._diffEditor=De,this._isVisible=!1,this.shadow=(0,P.X)(document.createElement("div")),this.shadow.setClassName("diff-review-shadow"),this.actionBarContainer=(0,P.X)(document.createElement("div")),this.actionBarContainer.setClassName("diff-review-actions"),this._actionBar=this._register(new y.o(this.actionBarContainer.domNode)),this._actionBar.push(new S.aU("diffreview.close",se.NC("label.close","Close"),"close-diff-review "+L.k.asClassName(Ie),!0,()=>function(Ve,De,ye,oe){return new(ye||(ye=Promise))(function(x,F){function ie(Pe){try{ke(oe.next(Pe))}catch(xe){F(xe)}}function Ce(Pe){try{ke(oe.throw(Pe))}catch(xe){F(xe)}}function ke(Pe){Pe.done?x(Pe.value):function Y(x){return x instanceof ye?x:new ye(function(F){F(x)})}(Pe.value).then(ie,Ce)}ke((oe=oe.apply(Ve,De||[])).next())})}(this,void 0,void 0,function*(){return this.hide()})),{label:!1,icon:!0}),this.domNode=(0,P.X)(document.createElement("div")),this.domNode.setClassName("diff-review monaco-editor-background"),this._content=(0,P.X)(document.createElement("div")),this._content.setClassName("diff-review-content"),this._content.setAttribute("role","code"),this.scrollbar=this._register(new v.s$(this._content.domNode,{})),this.domNode.domNode.appendChild(this.scrollbar.getDomNode()),this._register(De.onDidUpdateDiff(()=>{this._isVisible&&(this._diffs=this._compute(),this._render())})),this._register(De.getModifiedEditor().onDidChangeCursorPosition(()=>{this._isVisible&&this._render()})),this._register(f.mu(this.domNode.domNode,"click",x=>{x.preventDefault();const F=f.Fx(x.target,"diff-review-row");F&&this._goToRow(F)})),this._register(f.mu(this.domNode.domNode,"keydown",x=>{(x.equals(18)||x.equals(2066)||x.equals(530))&&(x.preventDefault(),this._goToRow(this._getNextRow(),"next")),(x.equals(16)||x.equals(2064)||x.equals(528))&&(x.preventDefault(),this._goToRow(this._getPrevRow(),"previous")),(x.equals(9)||x.equals(2057)||x.equals(521)||x.equals(1033)||x.equals(10)||x.equals(3))&&(x.preventDefault(),this.accept())})),this._register(this._configurationService.onDidChangeConfiguration(x=>{x.affectsConfiguration("accessibility.verbosity.diffEditor")&&this._diffEditor.updateOptions({accessibilityVerbose:this._configurationService.getValue("accessibility.verbosity.diffEditor")})})),this._diffs=[],this._currentDiff=null}prev(){let De=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){let oe=-1;for(let Y=0,x=this._diffs.length;Y<x;Y++)if(this._diffs[Y]===this._currentDiff){oe=Y;break}De=this._diffs.length+oe-1}else De=this._findDiffIndex(this._diffEditor.getPosition());if(0===this._diffs.length)return;De%=this._diffs.length;const ye=this._diffs[De].entries;this._diffEditor.setPosition(new z.L(ye[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:ye[0].modifiedLineStart,endColumn:1073741824,endLineNumber:ye[ye.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getPrevRow(),"previous")}next(){let De=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){let oe=-1;for(let Y=0,x=this._diffs.length;Y<x;Y++)if(this._diffs[Y]===this._currentDiff){oe=Y;break}De=oe+1}else De=this._findDiffIndex(this._diffEditor.getPosition());if(0===this._diffs.length)return;De%=this._diffs.length;const ye=this._diffs[De].entries;this._diffEditor.setPosition(new z.L(ye[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:ye[0].modifiedLineStart,endColumn:1073741824,endLineNumber:ye[ye.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow(),"next")}accept(){let De=-1;const ye=this._getCurrentFocusedRow();if(ye){const oe=parseInt(ye.getAttribute("data-line"),10);isNaN(oe)||(De=oe)}this.hide(),-1!==De&&(this._diffEditor.setPosition(new z.L(De,1)),this._diffEditor.revealPosition(new z.L(De,1),1))}hide(){this._isVisible=!1,this._diffEditor.updateOptions({readOnly:!1}),this._diffEditor.focus(),this._diffEditor.doLayout(),this._render()}_getPrevRow(){const De=this._getCurrentFocusedRow();return De?De.previousElementSibling?De.previousElementSibling:De:this._getFirstRow()}_getNextRow(){const De=this._getCurrentFocusedRow();return De?De.nextElementSibling?De.nextElementSibling:De:this._getFirstRow()}_getFirstRow(){return this.domNode.domNode.querySelector(".diff-review-row")}_getCurrentFocusedRow(){const De=document.activeElement;return De&&/diff-review-row/.test(De.className)?De:null}_goToRow(De,ye){const oe=this._getCurrentFocusedRow();De.tabIndex=0,De.focus(),oe&&oe!==De&&(oe.tabIndex=-1);const Y=ye?"next"===ye?oe?.nextElementSibling:oe?.previousElementSibling:oe;Y?.classList.contains("line-insert")?this._audioCueService.playAudioCue(j.y$.diffLineInserted,{allowManyInParallel:!0}):Y?.classList.contains("line-delete")&&this._audioCueService.playAudioCue(j.y$.diffLineDeleted,{allowManyInParallel:!0}),this.scrollbar.scanDomNode()}isVisible(){return this._isVisible}layout(De,ye,oe){this._width=ye,this.shadow.setTop(De-6),this.shadow.setWidth(ye),this.shadow.setHeight(this._isVisible?6:0),this.domNode.setTop(De),this.domNode.setWidth(ye),this.domNode.setHeight(oe),this._content.setHeight(oe),this._content.setWidth(ye),this._isVisible?(this.actionBarContainer.setAttribute("aria-hidden","false"),this.actionBarContainer.setDisplay("block")):(this.actionBarContainer.setAttribute("aria-hidden","true"),this.actionBarContainer.setDisplay("none"))}_compute(){const De=this._diffEditor.getLineChanges();if(!De||0===De.length)return[];const ye=this._diffEditor.getOriginalEditor().getModel(),oe=this._diffEditor.getModifiedEditor().getModel();return ye&&oe?_._mergeAdjacent(De,ye.getLineCount(),oe.getLineCount()):[]}static _mergeAdjacent(De,ye,oe){if(!De||0===De.length)return[];const Y=[];let x=0;for(let ke=0,Pe=De.length;ke<Pe;ke++){const xe=De[ke],fe=xe.originalStartLineNumber,be=xe.originalEndLineNumber,pe=xe.modifiedStartLineNumber,Q=xe.modifiedEndLineNumber,le=[];let Fe=0;{const He=0===be?fe:fe-1,Je=0===Q?pe:pe-1;let ot=1,lt=1;if(ke>0){const Lt=De[ke-1];ot=0===Lt.originalEndLineNumber?Lt.originalStartLineNumber+1:Lt.originalEndLineNumber+1,lt=0===Lt.modifiedEndLineNumber?Lt.modifiedStartLineNumber+1:Lt.modifiedEndLineNumber+1}let mt=He-3+1,ft=Je-3+1;if(mt<ot){const Lt=ot-mt;mt+=Lt,ft+=Lt}if(ft<lt){const Lt=lt-ft;mt+=Lt,ft+=Lt}le[Fe++]=new ge(mt,He,ft,Je)}0!==be&&(le[Fe++]=new ge(fe,be,0,0)),0!==Q&&(le[Fe++]=new ge(0,0,pe,Q));{const He=0===be?fe+1:be+1,Je=0===Q?pe+1:Q+1;let ot=ye,lt=oe;if(ke+1<Pe){const Lt=De[ke+1];ot=0===Lt.originalEndLineNumber?Lt.originalStartLineNumber:Lt.originalStartLineNumber-1,lt=0===Lt.modifiedEndLineNumber?Lt.modifiedStartLineNumber:Lt.modifiedStartLineNumber-1}let mt=He+3-1,ft=Je+3-1;if(mt>ot){const Lt=ot-mt;mt+=Lt,ft+=Lt}if(ft>lt){const Lt=lt-ft;mt+=Lt,ft+=Lt}le[Fe++]=new ge(He,mt,Je,ft)}Y[x++]=new _e(le)}let F=Y[0].entries;const ie=[];let Ce=0;for(let ke=1,Pe=Y.length;ke<Pe;ke++){const xe=Y[ke].entries,fe=F[F.length-1],be=xe[0];0===fe.getType()&&0===be.getType()&&be.originalLineStart<=fe.originalLineEnd?(F[F.length-1]=new ge(fe.originalLineStart,be.originalLineEnd,fe.modifiedLineStart,be.modifiedLineEnd),F=F.concat(xe.slice(1))):(ie[Ce++]=new _e(F),F=xe)}return ie[Ce++]=new _e(F),ie}_findDiffIndex(De){const ye=De.lineNumber;for(let oe=0,Y=this._diffs.length;oe<Y;oe++){const x=this._diffs[oe].entries;if(ye<=x[x.length-1].modifiedLineEnd)return oe}return 0}_render(){const De=this._diffEditor.getOriginalEditor().getOptions(),ye=this._diffEditor.getModifiedEditor().getOptions(),oe=this._diffEditor.getOriginalEditor().getModel(),Y=this._diffEditor.getModifiedEditor().getModel(),x=oe.getOptions(),F=Y.getOptions();if(!this._isVisible||!oe||!Y)return f.PO(this._content.domNode),this._currentDiff=null,void this.scrollbar.scanDomNode();this._diffEditor.updateOptions({readOnly:!0});const ie=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs[ie]===this._currentDiff)return;this._currentDiff=this._diffs[ie];const Ce=this._diffs[ie].entries,ke=document.createElement("div");ke.className="diff-review-table",ke.setAttribute("role","list"),ke.setAttribute("aria-label",'Difference review. Use "Stage | Unstage | Revert Selected Ranges" commands'),(0,O.N)(ke,ye.get(49));let Pe=0,xe=0,fe=0,be=0;for(let ft=0,Lt=Ce.length;ft<Lt;ft++){const Tt=Ce[ft],Mt=Tt.originalLineStart,Ut=Tt.originalLineEnd,At=Tt.modifiedLineStart,It=Tt.modifiedLineEnd;0!==Mt&&(0===Pe||Mt<Pe)&&(Pe=Mt),0!==Ut&&(0===xe||Ut>xe)&&(xe=Ut),0!==At&&(0===fe||At<fe)&&(fe=At),0!==It&&(0===be||It>be)&&(be=It)}const pe=document.createElement("div");pe.className="diff-review-row";const Q=document.createElement("div");Q.className="diff-review-cell diff-review-summary";const le=xe-Pe+1,Fe=be-fe+1;Q.appendChild(document.createTextNode(`${ie+1}/${this._diffs.length}: @@ -${Pe},${le} +${fe},${Fe} @@`)),pe.setAttribute("data-line",String(fe));const He=ft=>0===ft?se.NC("no_lines_changed","no lines changed"):1===ft?se.NC("one_line_changed","1 line changed"):se.NC("more_lines_changed","{0} lines changed",ft),Je=He(le),ot=He(Fe);pe.setAttribute("aria-label",se.NC({key:"header",comment:["This is the ARIA label for a git diff header.","A git diff header looks like this: @@ -154,12 +159,39 @@.","That encodes that at original line 154 (which is now line 159), 12 lines were removed/changed with 39 lines.","Variables 0 and 1 refer to the diff index out of total number of diffs.","Variables 2 and 4 will be numbers (a line number).",'Variables 3 and 5 will be "no lines changed", "1 line changed" or "X lines changed", localized separately.']},"Difference {0} of {1}: original line {2}, {3}, modified line {4}, {5}",ie+1,this._diffs.length,Pe,Je,fe,ot)),pe.appendChild(Q),pe.setAttribute("role","listitem"),ke.appendChild(pe);const lt=ye.get(65);let mt=fe;for(let ft=0,Lt=Ce.length;ft<Lt;ft++){const Tt=Ce[ft];_._renderSection(ke,Tt,mt,lt,this._width,De,oe,x,ye,Y,F,this._languageService.languageIdCodec),0!==Tt.modifiedLineStart&&(mt=Tt.modifiedLineEnd)}f.PO(this._content.domNode),this._content.domNode.appendChild(ke),this.scrollbar.scanDomNode()}static _renderSection(De,ye,oe,Y,x,F,ie,Ce,ke,Pe,xe,fe){const be=ye.getType();let pe="diff-review-row",Q="",Fe=null;switch(be){case 1:pe="diff-review-row line-insert",Q=" char-insert",Fe=ue;break;case 2:pe="diff-review-row line-delete",Q=" char-delete",Fe=ve}const He=ye.originalLineStart,ot=ye.modifiedLineStart,mt=Math.max(ye.modifiedLineEnd-ot,ye.originalLineEnd-He),ft=F.get(142),Lt=ft.glyphMarginWidth+ft.lineNumbersWidth,Tt=ke.get(142),Mt=10+Tt.glyphMarginWidth+Tt.lineNumbersWidth;for(let Ut=0;Ut<=mt;Ut++){const At=0===He?0:He+Ut,It=0===ot?0:ot+Ut,it=document.createElement("div");it.style.minWidth=x+"px",it.className=pe,it.setAttribute("role","listitem"),0!==It&&(oe=It),it.setAttribute("data-line",String(oe));const qe=document.createElement("div");qe.className="diff-review-cell",qe.style.height=`${Y}px`,it.appendChild(qe);const Ze=document.createElement("span");Ze.style.width=Lt+"px",Ze.style.minWidth=Lt+"px",Ze.className="diff-review-line-number"+Q,0!==At?Ze.appendChild(document.createTextNode(String(At))):Ze.innerText="\xa0",qe.appendChild(Ze);const Ee=document.createElement("span");Ee.style.width=Mt+"px",Ee.style.minWidth=Mt+"px",Ee.style.paddingRight="10px",Ee.className="diff-review-line-number"+Q,0!==It?Ee.appendChild(document.createTextNode(String(It))):Ee.innerText="\xa0",qe.appendChild(Ee);const Te=document.createElement("span");if(Te.className="diff-review-spacer",Fe){const yt=document.createElement("span");yt.className=L.k.asClassName(Fe),yt.innerText="\xa0\xa0",Te.appendChild(yt)}else Te.innerText="\xa0\xa0";let Ae;if(qe.appendChild(Te),0!==It){let yt=this._renderLine(Pe,ke,xe.tabSize,It,fe);_._ttPolicy&&(yt=_._ttPolicy.createHTML(yt)),qe.insertAdjacentHTML("beforeend",yt),Ae=Pe.getLineContent(It)}else{let yt=this._renderLine(ie,F,Ce.tabSize,At,fe);_._ttPolicy&&(yt=_._ttPolicy.createHTML(yt)),qe.insertAdjacentHTML("beforeend",yt),Ae=ie.getLineContent(At)}0===Ae.length&&(Ae=se.NC("blankLine","blank"));let ht="";switch(be){case 0:ht=At===It?se.NC({key:"unchangedLine",comment:["The placeholders are contents of the line and should not be translated."]},"{0} unchanged line {1}",Ae,At):se.NC("equalLine","{0} original line {1} modified line {2}",Ae,At,It);break;case 1:ht=se.NC("insertLine","+ {0} modified line {1}",Ae,It);break;case 2:ht=se.NC("deleteLine","- {0} original line {1}",Ae,At)}it.setAttribute("aria-label",ht),De.appendChild(it)}}static _renderLine(De,ye,oe,Y,x){const F=De.getLineContent(Y),ie=ye.get(49),Ce=ee.A.createEmpty(F,x),ke=G.wA.isBasicASCII(F,De.mightContainNonBasicASCII()),Pe=G.wA.containsRTL(F,ke,De.mightContainRTL());return(0,B.tF)(new B.IJ(ie.isMonospace&&!ye.get(32),ie.canUseHalfwidthRightwardsArrow,F,!1,ke,Pe,0,Ce,[],oe,0,ie.spaceWidth,ie.middotWidth,ie.wsmiddotWidth,ye.get(115),ye.get(97),ye.get(92),ye.get(50)!==W.n0.OFF,null)).html}};Se._ttPolicy=(0,r.Z)("diffReview",{createHTML:Ve=>Ve}),Se=_=function(Ve,De,ye,oe){var F,Y=arguments.length,x=Y<3?De:null===oe?oe=Object.getOwnPropertyDescriptor(De,ye):oe;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)x=Reflect.decorate(Ve,De,ye,oe);else for(var ie=Ve.length-1;ie>=0;ie--)(F=Ve[ie])&&(x=(Y<3?F(x):Y>3?F(De,ye,x):F(De,ye))||x);return Y>3&&x&&Object.defineProperty(De,ye,x),x}([te(1,U.O),te(2,j.e7),te(3,$.Ui)],Se)},78:(Xe,we,e)=>{e.d(we,{H:()=>i});var f=e(52209),P=e(51617),r=e(84109),y=e(11813),v=e(66221),S=e(12065),T=e(22438),E=e(23527),L=e(74875),p=e(58459),c=e(55763),g=function(d,a){return function(m,l){a(m,l,d)}};let i=class extends r.Gm{constructor(a,m,l,I,w,D,N,A,k,R,O,W,z){super(a,Object.assign(Object.assign({},I.getRawOptions()),{overflowWidgetsDomNode:I.getOverflowWidgetsDomNode()}),l,w,D,N,A,k,R,O,W,z),this._parentEditor=I,this._overwriteOptions=m,super.updateOptions(this._overwriteOptions),this._register(I.onDidChangeConfiguration(U=>this._onParentConfigurationChanged(U)))}getParentEditor(){return this._parentEditor}_onParentConfigurationChanged(a){super.updateOptions(this._parentEditor.getRawOptions()),super.updateOptions(this._overwriteOptions)}updateOptions(a){f.jB(this._overwriteOptions,a,!0),super.updateOptions(this._overwriteOptions)}};i=function(d,a,m,l){var D,I=arguments.length,w=I<3?a:null===l?l=Object.getOwnPropertyDescriptor(a,m):l;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)w=Reflect.decorate(d,a,m,l);else for(var N=d.length-1;N>=0;N--)(D=d[N])&&(w=(I<3?D(w):I>3?D(a,m,w):D(a,m))||w);return I>3&&w&&Object.defineProperty(a,m,w),w}([g(4,S.TG),g(5,P.$),g(6,y.H),g(7,v.i6),g(8,E.XE),g(9,T.lT),g(10,L.F),g(11,p.c_),g(12,c.p)],i)},37499:(Xe,we,e)=>{e.d(we,{Q:()=>c});var p,f=e(58178),P=e(11664),r=e(266),y=e(55359),v=e(57205),S=e(58942),E=function(u,g){return function(i,d){g(i,d,u)}};let c=p=class{constructor(g,i,d){this.editorWorkerService=i,this.telemetryService=d,this.onDidChangeEventEmitter=new f.Q5,this.onDidChange=this.onDidChangeEventEmitter.event,this.diffAlgorithm="advanced",this.diffAlgorithmOnDidChangeSubscription=void 0,this.setOptions(g)}dispose(){var g;null===(g=this.diffAlgorithmOnDidChangeSubscription)||void 0===g||g.dispose()}computeDiff(g,i,d,a){var m,l;return function(u,g,i,d){return new(i||(i=Promise))(function(m,l){function I(N){try{D(d.next(N))}catch(A){l(A)}}function w(N){try{D(d.throw(N))}catch(A){l(A)}}function D(N){N.done?m(N.value):function a(m){return m instanceof i?m:new i(function(l){l(m)})}(N.value).then(I,w)}D((d=d.apply(u,g||[])).next())})}(this,void 0,void 0,function*(){if("string"!=typeof this.diffAlgorithm)return this.diffAlgorithm.computeDiff(g,i,d,a);if(1===g.getLineCount()&&1===g.getLineMaxColumn(1))return 1===i.getLineCount()&&1===i.getLineMaxColumn(1)?{changes:[],identical:!0,quitEarly:!1,moves:[]}:{changes:[new y.f0(new r.z(1,2),new r.z(1,i.getLineCount()+1),[new y.iy(g.getFullModelRange(),i.getFullModelRange())])],identical:!1,quitEarly:!1,moves:[]};const I=JSON.stringify([g.uri.toString(),i.uri.toString()]),w=JSON.stringify([g.id,i.id,g.getAlternativeVersionId(),i.getAlternativeVersionId(),JSON.stringify(d)]),D=p.diffCache.get(I);if(D&&D.context===w)return D.result;const N=P.G.create(),A=yield this.editorWorkerService.computeDiff(g.uri,i.uri,d,this.diffAlgorithm),k=N.elapsed();if(this.telemetryService.publicLog2("diffEditor.computeDiff",{timeMs:k,timedOut:null===(m=A?.quitEarly)||void 0===m||m,detectedMoves:d.computeMoves?null!==(l=A?.moves.length)&&void 0!==l?l:0:-1}),a.isCancellationRequested)return{changes:[],identical:!1,quitEarly:!0,moves:[]};if(!A)throw new Error("no diff result available");return p.diffCache.size>10&&p.diffCache.delete(p.diffCache.keys().next().value),p.diffCache.set(I,{result:A,context:w}),A})}setOptions(g){var i;let d=!1;g.diffAlgorithm&&this.diffAlgorithm!==g.diffAlgorithm&&(null===(i=this.diffAlgorithmOnDidChangeSubscription)||void 0===i||i.dispose(),this.diffAlgorithmOnDidChangeSubscription=void 0,this.diffAlgorithm=g.diffAlgorithm,"string"!=typeof g.diffAlgorithm&&(this.diffAlgorithmOnDidChangeSubscription=g.diffAlgorithm.onDidChange(()=>this.onDidChangeEventEmitter.fire())),d=!0),d&&this.onDidChangeEventEmitter.fire()}};c.diffCache=new Map,c=p=function(u,g,i,d){var l,a=arguments.length,m=a<3?g:null===d?d=Object.getOwnPropertyDescriptor(g,i):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)m=Reflect.decorate(u,g,i,d);else for(var I=u.length-1;I>=0;I--)(l=u[I])&&(m=(a<3?l(m):a>3?l(g,i,m):l(g,i))||m);return a>3&&m&&Object.defineProperty(g,i,m),m}([E(1,v.p),E(2,S.b)],c)},41604:(Xe,we,e)=>{e.d(we,{OY:()=>r,Sj:()=>y,T4:()=>P,Uo:()=>v,hP:()=>S});var f=e(81534);class P{constructor(E,L,p=!1){this._range=E,this._text=L,this.insertsAutoWhitespace=p}getEditOperations(E,L){L.addTrackedEditOperation(this._range,this._text)}computeCursorState(E,L){const c=L.getInverseEditOperations()[0].range;return f.Y.fromPositions(c.getEndPosition())}}class r{constructor(E,L){this._range=E,this._text=L}getEditOperations(E,L){L.addTrackedEditOperation(this._range,this._text)}computeCursorState(E,L){const c=L.getInverseEditOperations()[0].range;return f.Y.fromRange(c,0)}}class y{constructor(E,L,p=!1){this._range=E,this._text=L,this.insertsAutoWhitespace=p}getEditOperations(E,L){L.addTrackedEditOperation(this._range,this._text)}computeCursorState(E,L){const c=L.getInverseEditOperations()[0].range;return f.Y.fromPositions(c.getStartPosition())}}class v{constructor(E,L,p,c,u=!1){this._range=E,this._text=L,this._columnDeltaOffset=c,this._lineNumberDeltaOffset=p,this.insertsAutoWhitespace=u}getEditOperations(E,L){L.addTrackedEditOperation(this._range,this._text)}computeCursorState(E,L){const c=L.getInverseEditOperations()[0].range;return f.Y.fromPositions(c.getEndPosition().delta(this._lineNumberDeltaOffset,this._columnDeltaOffset))}}class S{constructor(E,L,p,c=!1){this._range=E,this._text=L,this._initialSelection=p,this._forceMoveMarkers=c,this._selectionId=null}getEditOperations(E,L){L.addTrackedEditOperation(this._range,this._text,this._forceMoveMarkers),this._selectionId=L.trackSelection(this._initialSelection)}computeCursorState(E,L){return L.getTrackedSelection(this._selectionId)}}},79445:(Xe,we,e)=>{e.d(we,{U:()=>u});var L,f=e(16055),P=e(96678),r=e(96726),y=e(81534),v=e(5256),S=e(58459);const p=Object.create(null);function c(g,i){if(i<=0)return"";p[g]||(p[g]=["",g]);const d=p[g];for(let a=d.length;a<=i;a++)d[a]=d[a-1]+g;return d[i]}let u=L=class{static unshiftIndent(i,d,a,m,l){const I=P.i.visibleColumnFromColumn(i,d,a);if(l){const w=c(" ",m);return c(w,P.i.prevIndentTabStop(I,m)/m)}return c("\t",P.i.prevRenderTabStop(I,a)/a)}static shiftIndent(i,d,a,m,l){const I=P.i.visibleColumnFromColumn(i,d,a);if(l){const w=c(" ",m);return c(w,P.i.nextIndentTabStop(I,m)/m)}return c("\t",P.i.nextRenderTabStop(I,a)/a)}constructor(i,d,a){this._languageConfigurationService=a,this._opts=d,this._selection=i,this._selectionId=null,this._useLastEditRangeForCursorEndPosition=!1,this._selectionStartColumnStaysPut=!1}_addEditOperation(i,d,a){this._useLastEditRangeForCursorEndPosition?i.addTrackedEditOperation(d,a):i.addEditOperation(d,a)}getEditOperations(i,d){const a=this._selection.startLineNumber;let m=this._selection.endLineNumber;1===this._selection.endColumn&&a!==m&&(m-=1);const{tabSize:l,indentSize:I,insertSpaces:w}=this._opts,D=a===m;if(this._opts.useTabStops){this._selection.isEmpty()&&/^\s*$/.test(i.getLineContent(a))&&(this._useLastEditRangeForCursorEndPosition=!0);let N=0,A=0;for(let k=a;k<=m;k++,N=A){A=0;const R=i.getLineContent(k);let W,O=f.LC(R);if((!this._opts.isUnshift||0!==R.length&&0!==O)&&(D||this._opts.isUnshift||0!==R.length)){if(-1===O&&(O=R.length),k>1&&P.i.visibleColumnFromColumn(R,O+1,l)%I!=0&&i.tokenization.isCheapToTokenize(k-1)){const U=(0,v.A)(this._opts.autoIndent,i,new r.e(k-1,i.getLineMaxColumn(k-1),k-1,i.getLineMaxColumn(k-1)),this._languageConfigurationService);if(U){if(A=N,U.appendText)for(let ee=0,B=U.appendText.length;ee<B&&A<I&&32===U.appendText.charCodeAt(ee);ee++)A++;U.removeText&&(A=Math.max(0,A-U.removeText));for(let ee=0;ee<A&&0!==O&&32===R.charCodeAt(O-1);ee++)O--}}this._opts.isUnshift&&0===O||(W=this._opts.isUnshift?L.unshiftIndent(R,O+1,l,I,w):L.shiftIndent(R,O+1,l,I,w),this._addEditOperation(d,new r.e(k,1,k,O+1),W),k===a&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn<=O+1))}}}else{!this._opts.isUnshift&&this._selection.isEmpty()&&0===i.getLineLength(a)&&(this._useLastEditRangeForCursorEndPosition=!0);const N=w?c(" ",I):"\t";for(let A=a;A<=m;A++){const k=i.getLineContent(A);let R=f.LC(k);if((!this._opts.isUnshift||0!==k.length&&0!==R)&&(D||this._opts.isUnshift||0!==k.length)&&(-1===R&&(R=k.length),!this._opts.isUnshift||0!==R))if(this._opts.isUnshift){R=Math.min(R,I);for(let O=0;O<R;O++)if(9===k.charCodeAt(O)){R=O+1;break}this._addEditOperation(d,new r.e(A,1,A,R+1),"")}else this._addEditOperation(d,new r.e(A,1,A,1),N),A===a&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=1===this._selection.startColumn)}}this._selectionId=d.trackSelection(this._selection)}computeCursorState(i,d){if(this._useLastEditRangeForCursorEndPosition){const m=d.getInverseEditOperations()[0];return new y.Y(m.range.endLineNumber,m.range.endColumn,m.range.endLineNumber,m.range.endColumn)}const a=d.getTrackedSelection(this._selectionId);if(this._selectionStartColumnStaysPut){const m=this._selection.startColumn;return a.startColumn<=m?a:0===a.getDirection()?new y.Y(a.startLineNumber,m,a.endLineNumber,a.endColumn):new y.Y(a.endLineNumber,a.endColumn,a.startLineNumber,m)}return a}};var i;u=L=function(g,i,d,a){var I,m=arguments.length,l=m<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,d):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(g,i,d,a);else for(var w=g.length-1;w>=0;w--)(I=g[w])&&(l=(m<3?I(l):m>3?I(i,d,l):I(i,d))||l);return m>3&&l&&Object.defineProperty(i,d,l),l}([(2,i=S.c_,function(d,a){i(d,a,2)})],u)},60666:(Xe,we,e)=>{e.d(we,{k:()=>f});const f={enableSplitViewResizing:!0,splitViewDefaultRatio:.5,renderSideBySide:!0,renderMarginRevertIcon:!0,maxComputationTime:5e3,maxFileSize:50,ignoreTrimWhitespace:!0,renderIndicators:!0,originalEditable:!1,diffCodeLens:!1,renderOverviewRuler:!0,diffWordWrap:"inherit",diffAlgorithm:"advanced",accessibilityVerbose:!1,experimental:{showMoves:!1,showEmptyDecorations:!0},hideUnchangedRegions:{enabled:!1,contextLineCount:3,minimumLineCount:3,revealLineCount:20},isInEmbeddedEditor:!1,onlyShowAccessibleDiffViewer:!1,renderSideBySideInlineBreakpoint:900,useInlineViewWhenSpaceIsLimited:!0}},41079:(Xe,we,e)=>{e.d(we,{Pe:()=>g,ei:()=>u,wk:()=>T});var f=e(60666),P=e(36413),r=e(30304),y=e(37190),v=e(92891),S=e(81834);const T=Object.freeze({id:"editor",order:5,type:"object",title:y.NC("editorConfigurationTitle","Editor"),scope:5}),E=Object.assign(Object.assign({},T),{properties:{"editor.tabSize":{type:"number",default:r.D.tabSize,minimum:1,markdownDescription:y.NC("tabSize","The number of spaces a tab is equal to. This setting is overridden based on the file contents when {0} is on.","`#editor.detectIndentation#`")},"editor.indentSize":{anyOf:[{type:"string",enum:["tabSize"]},{type:"number",minimum:1}],default:"tabSize",markdownDescription:y.NC("indentSize",'The number of spaces used for indentation or `"tabSize"` to use the value from `#editor.tabSize#`. This setting is overridden based on the file contents when `#editor.detectIndentation#` is on.')},"editor.insertSpaces":{type:"boolean",default:r.D.insertSpaces,markdownDescription:y.NC("insertSpaces","Insert spaces when pressing `Tab`. This setting is overridden based on the file contents when {0} is on.","`#editor.detectIndentation#`")},"editor.detectIndentation":{type:"boolean",default:r.D.detectIndentation,markdownDescription:y.NC("detectIndentation","Controls whether {0} and {1} will be automatically detected when a file is opened based on the file contents.","`#editor.tabSize#`","`#editor.insertSpaces#`")},"editor.trimAutoWhitespace":{type:"boolean",default:r.D.trimAutoWhitespace,description:y.NC("trimAutoWhitespace","Remove trailing auto inserted whitespace.")},"editor.largeFileOptimizations":{type:"boolean",default:r.D.largeFileOptimizations,description:y.NC("largeFileOptimizations","Special handling for large files to disable certain memory intensive features.")},"editor.wordBasedSuggestions":{type:"boolean",default:!0,description:y.NC("wordBasedSuggestions","Controls whether completions should be computed based on words in the document.")},"editor.wordBasedSuggestionsMode":{enum:["currentDocument","matchingDocuments","allDocuments"],default:"matchingDocuments",enumDescriptions:[y.NC("wordBasedSuggestionsMode.currentDocument","Only suggest words from the active document."),y.NC("wordBasedSuggestionsMode.matchingDocuments","Suggest words from all open documents of the same language."),y.NC("wordBasedSuggestionsMode.allDocuments","Suggest words from all open documents.")],description:y.NC("wordBasedSuggestionsMode","Controls from which documents word based completions are computed.")},"editor.semanticHighlighting.enabled":{enum:[!0,!1,"configuredByTheme"],enumDescriptions:[y.NC("semanticHighlighting.true","Semantic highlighting enabled for all color themes."),y.NC("semanticHighlighting.false","Semantic highlighting disabled for all color themes."),y.NC("semanticHighlighting.configuredByTheme","Semantic highlighting is configured by the current color theme's `semanticHighlighting` setting.")],default:"configuredByTheme",description:y.NC("semanticHighlighting.enabled","Controls whether the semanticHighlighting is shown for the languages that support it.")},"editor.stablePeek":{type:"boolean",default:!1,markdownDescription:y.NC("stablePeek","Keep peek editors open even when double-clicking their content or when hitting `Escape`.")},"editor.maxTokenizationLineLength":{type:"integer",default:2e4,description:y.NC("maxTokenizationLineLength","Lines above this length will not be tokenized for performance reasons")},"editor.experimental.asyncTokenization":{type:"boolean",default:!1,description:y.NC("editor.experimental.asyncTokenization","Controls whether the tokenization should happen asynchronously on a web worker."),tags:["experimental"]},"editor.experimental.asyncTokenizationLogging":{type:"boolean",default:!1,description:y.NC("editor.experimental.asyncTokenizationLogging","Controls whether async tokenization should be logged. For debugging only.")},"editor.experimental.asyncTokenizationVerification":{type:"boolean",default:!1,description:y.NC("editor.experimental.asyncTokenizationVerification","Controls whether async tokenization should be verified against legacy background tokenization. Might slow down tokenization. For debugging only."),tags:["experimental"]},"editor.language.brackets":{type:["array","null"],default:null,description:y.NC("schema.brackets","Defines the bracket symbols that increase or decrease the indentation."),items:{type:"array",items:[{type:"string",description:y.NC("schema.openBracket","The opening bracket character or string sequence.")},{type:"string",description:y.NC("schema.closeBracket","The closing bracket character or string sequence.")}]}},"editor.language.colorizedBracketPairs":{type:["array","null"],default:null,description:y.NC("schema.colorizedBracketPairs","Defines the bracket pairs that are colorized by their nesting level if bracket pair colorization is enabled."),items:{type:"array",items:[{type:"string",description:y.NC("schema.openBracket","The opening bracket character or string sequence.")},{type:"string",description:y.NC("schema.closeBracket","The closing bracket character or string sequence.")}]}},"diffEditor.maxComputationTime":{type:"number",default:f.k.maxComputationTime,description:y.NC("maxComputationTime","Timeout in milliseconds after which diff computation is cancelled. Use 0 for no timeout.")},"diffEditor.maxFileSize":{type:"number",default:f.k.maxFileSize,description:y.NC("maxFileSize","Maximum file size in MB for which to compute diffs. Use 0 for no limit.")},"diffEditor.renderSideBySide":{type:"boolean",default:f.k.renderSideBySide,description:y.NC("sideBySide","Controls whether the diff editor shows the diff side by side or inline.")},"diffEditor.renderSideBySideInlineBreakpoint":{type:"number",default:f.k.renderSideBySideInlineBreakpoint,description:y.NC("renderSideBySideInlineBreakpoint","If the diff editor width is smaller than this value, the inline view is used.")},"diffEditor.useInlineViewWhenSpaceIsLimited":{type:"boolean",default:f.k.useInlineViewWhenSpaceIsLimited,description:y.NC("useInlineViewWhenSpaceIsLimited","If enabled and the editor width is too small, the inline view is used.")},"diffEditor.renderMarginRevertIcon":{type:"boolean",default:f.k.renderMarginRevertIcon,description:y.NC("renderMarginRevertIcon","When enabled, the diff editor shows arrows in its glyph margin to revert changes.")},"diffEditor.ignoreTrimWhitespace":{type:"boolean",default:f.k.ignoreTrimWhitespace,description:y.NC("ignoreTrimWhitespace","When enabled, the diff editor ignores changes in leading or trailing whitespace.")},"diffEditor.renderIndicators":{type:"boolean",default:f.k.renderIndicators,description:y.NC("renderIndicators","Controls whether the diff editor shows +/- indicators for added/removed changes.")},"diffEditor.codeLens":{type:"boolean",default:f.k.diffCodeLens,description:y.NC("codeLens","Controls whether the editor shows CodeLens.")},"diffEditor.wordWrap":{type:"string",enum:["off","on","inherit"],default:f.k.diffWordWrap,markdownEnumDescriptions:[y.NC("wordWrap.off","Lines will never wrap."),y.NC("wordWrap.on","Lines will wrap at the viewport width."),y.NC("wordWrap.inherit","Lines will wrap according to the {0} setting.","`#editor.wordWrap#`")]},"diffEditor.diffAlgorithm":{type:"string",enum:["legacy","advanced"],default:f.k.diffAlgorithm,markdownEnumDescriptions:[y.NC("diffAlgorithm.legacy","Uses the legacy diffing algorithm."),y.NC("diffAlgorithm.advanced","Uses the advanced diffing algorithm.")],tags:["experimental"]},"diffEditor.hideUnchangedRegions.enabled":{type:"boolean",default:f.k.hideUnchangedRegions.enabled,markdownDescription:y.NC("hideUnchangedRegions.enabled","Controls whether the diff editor shows unchanged regions. Only works when {0} is set.","`#diffEditor.experimental.useVersion2#`")},"diffEditor.hideUnchangedRegions.revealLineCount":{type:"integer",default:f.k.hideUnchangedRegions.revealLineCount,markdownDescription:y.NC("hideUnchangedRegions.revealLineCount","Controls how many lines are used for unchanged regions. Only works when {0} is set.","`#diffEditor.experimental.useVersion2#`"),minimum:1},"diffEditor.hideUnchangedRegions.minimumLineCount":{type:"integer",default:f.k.hideUnchangedRegions.minimumLineCount,markdownDescription:y.NC("hideUnchangedRegions.minimumLineCount","Controls how many lines are used as a minimum for unchanged regions. Only works when {0} is set.","`#diffEditor.experimental.useVersion2#`"),minimum:1},"diffEditor.hideUnchangedRegions.contextLineCount":{type:"integer",default:f.k.hideUnchangedRegions.contextLineCount,markdownDescription:y.NC("hideUnchangedRegions.contextLineCount","Controls how many lines are used as context when comparing unchanged regions. Only works when {0} is set.","`#diffEditor.experimental.useVersion2#`"),minimum:1},"diffEditor.experimental.showMoves":{type:"boolean",default:f.k.experimental.showMoves,markdownDescription:y.NC("showMoves","Controls whether the diff editor should show detected code moves. Only works when {0} is set.","`#diffEditor.experimental.useVersion2#`")},"diffEditor.experimental.useVersion2":{type:"boolean",default:!0,description:y.NC("useVersion2","Controls whether the diff editor uses the new or the old implementation."),tags:["experimental"]},"diffEditor.experimental.showEmptyDecorations":{type:"boolean",default:f.k.experimental.showEmptyDecorations,description:y.NC("showEmptyDecorations","Controls whether the diff editor shows empty decorations to see where characters got inserted or deleted.")}}});function L(d){return typeof d.type<"u"||typeof d.anyOf<"u"}for(const d of P.Bc){const a=d.schema;if(typeof a<"u")if(L(a))E.properties[`editor.${d.name}`]=a;else for(const m in a)Object.hasOwnProperty.call(a,m)&&(E.properties[m]=a[m])}let p=null;function c(){return null===p&&(p=Object.create(null),Object.keys(E.properties).forEach(d=>{p[d]=!0})),p}function u(d){return c()[`editor.${d}`]||!1}function g(d){return c()[`diffEditor.${d}`]||!1}S.B.as(v.IP.Configuration).registerConfiguration(E)},36413:(Xe,we,e)=>{e.d(we,{$J:()=>ie,Av:()=>fe,BH:()=>qe,Bb:()=>E,Bc:()=>It,Bo:()=>$,LJ:()=>L,L_:()=>I,NY:()=>N,O7:()=>d,Zc:()=>m,d2:()=>U,gk:()=>ae,hL:()=>At,n0:()=>j,qt:()=>be,rk:()=>c,y0:()=>T});var f=e(31738),P=e(52209),r=e(88593),y=e(30304),v=e(28797),S=e(37190);const T=8;class E{constructor(Ee){this._values=Ee}hasChanged(Ee){return this._values[Ee]}}class L{constructor(){this.stableMinimapLayoutInput=null,this.stableFitMaxMinimapScale=0,this.stableFitRemainingWidth=0}}class p{constructor(Ee,Te,Ae,ht){this.id=Ee,this.name=Te,this.defaultValue=Ae,this.schema=ht}applyUpdate(Ee,Te){return u(Ee,Te)}compute(Ee,Te,Ae){return Ae}}class c{constructor(Ee,Te){this.newValue=Ee,this.didChange=Te}}function u(Ze,Ee){if("object"!=typeof Ze||"object"!=typeof Ee||!Ze||!Ee)return new c(Ee,Ze!==Ee);if(Array.isArray(Ze)||Array.isArray(Ee)){const Ae=Array.isArray(Ze)&&Array.isArray(Ee)&&f.fS(Ze,Ee);return new c(Ee,!Ae)}let Te=!1;for(const Ae in Ee)if(Ee.hasOwnProperty(Ae)){const ht=u(Ze[Ae],Ee[Ae]);ht.didChange&&(Ze[Ae]=ht.newValue,Te=!0)}return new c(Ze,Te)}class g{constructor(Ee){this.schema=void 0,this.id=Ee,this.name="_never_",this.defaultValue=void 0}applyUpdate(Ee,Te){return u(Ee,Te)}validate(Ee){return this.defaultValue}}class i{constructor(Ee,Te,Ae,ht){this.id=Ee,this.name=Te,this.defaultValue=Ae,this.schema=ht}applyUpdate(Ee,Te){return u(Ee,Te)}validate(Ee){return typeof Ee>"u"?this.defaultValue:Ee}compute(Ee,Te,Ae){return Ae}}function d(Ze,Ee){return typeof Ze>"u"?Ee:"false"!==Ze&&!!Ze}class a extends i{constructor(Ee,Te,Ae,ht=void 0){typeof ht<"u"&&(ht.type="boolean",ht.default=Ae),super(Ee,Te,Ae,ht)}validate(Ee){return d(Ee,this.defaultValue)}}function m(Ze,Ee,Te,Ae){if(typeof Ze>"u")return Ee;let ht=parseInt(Ze,10);return isNaN(ht)?Ee:(ht=Math.max(Te,ht),ht=Math.min(Ae,ht),0|ht)}class l extends i{static clampedInt(Ee,Te,Ae,ht){return m(Ee,Te,Ae,ht)}constructor(Ee,Te,Ae,ht,yt,Dt=void 0){typeof Dt<"u"&&(Dt.type="integer",Dt.default=Ae,Dt.minimum=ht,Dt.maximum=yt),super(Ee,Te,Ae,Dt),this.minimum=ht,this.maximum=yt}validate(Ee){return l.clampedInt(Ee,this.defaultValue,this.minimum,this.maximum)}}function I(Ze,Ee,Te,Ae){if(typeof Ze>"u")return Ee;const ht=w.float(Ze,Ee);return w.clamp(ht,Te,Ae)}class w extends i{static clamp(Ee,Te,Ae){return Ee<Te?Te:Ee>Ae?Ae:Ee}static float(Ee,Te){if("number"==typeof Ee)return Ee;if(typeof Ee>"u")return Te;const Ae=parseFloat(Ee);return isNaN(Ae)?Te:Ae}constructor(Ee,Te,Ae,ht,yt){typeof yt<"u"&&(yt.type="number",yt.default=Ae),super(Ee,Te,Ae,yt),this.validationFn=ht}validate(Ee){return this.validationFn(w.float(Ee,this.defaultValue))}}class D extends i{static string(Ee,Te){return"string"!=typeof Ee?Te:Ee}constructor(Ee,Te,Ae,ht=void 0){typeof ht<"u"&&(ht.type="string",ht.default=Ae),super(Ee,Te,Ae,ht)}validate(Ee){return D.string(Ee,this.defaultValue)}}function N(Ze,Ee,Te,Ae){return"string"!=typeof Ze?Ee:Ae&&Ze in Ae?Ae[Ze]:-1===Te.indexOf(Ze)?Ee:Ze}class A extends i{constructor(Ee,Te,Ae,ht,yt=void 0){typeof yt<"u"&&(yt.type="string",yt.enum=ht,yt.default=Ae),super(Ee,Te,Ae,yt),this._allowedValues=ht}validate(Ee){return N(Ee,this.defaultValue,this._allowedValues)}}class k extends p{constructor(Ee,Te,Ae,ht,yt,Dt,Ot=void 0){typeof Ot<"u"&&(Ot.type="string",Ot.enum=yt,Ot.default=ht),super(Ee,Te,Ae,Ot),this._allowedValues=yt,this._convert=Dt}validate(Ee){return"string"!=typeof Ee||-1===this._allowedValues.indexOf(Ee)?this.defaultValue:this._convert(Ee)}}var U=function(Ze){return Ze[Ze.Line=1]="Line",Ze[Ze.Block=2]="Block",Ze[Ze.Underline=3]="Underline",Ze[Ze.LineThin=4]="LineThin",Ze[Ze.BlockOutline=5]="BlockOutline",Ze[Ze.UnderlineThin=6]="UnderlineThin",Ze}(U||{});let j=(()=>{class Ze extends p{constructor(){super(50,"fontLigatures",Ze.OFF,{anyOf:[{type:"boolean",description:S.NC("fontLigatures","Enables/Disables font ligatures ('calt' and 'liga' font features). Change this to a string for fine-grained control of the 'font-feature-settings' CSS property.")},{type:"string",description:S.NC("fontFeatureSettings","Explicit 'font-feature-settings' CSS property. A boolean can be passed instead if one only needs to turn on/off ligatures.")}],description:S.NC("fontLigaturesGeneral","Configures font ligatures or font features. Can be either a boolean to enable/disable ligatures or a string for the value of the CSS 'font-feature-settings' property."),default:!1})}validate(Te){return typeof Te>"u"?this.defaultValue:"string"==typeof Te?"false"===Te?Ze.OFF:"true"===Te?Ze.ON:Te:Te?Ze.ON:Ze.OFF}}return Ze.OFF='"liga" off, "calt" off',Ze.ON='"liga" on, "calt" on',Ze})(),$=(()=>{class Ze extends p{constructor(){super(53,"fontVariations",Ze.OFF,{anyOf:[{type:"boolean",description:S.NC("fontVariations","Enables/Disables the translation from font-weight to font-variation-settings. Change this to a string for fine-grained control of the 'font-variation-settings' CSS property.")},{type:"string",description:S.NC("fontVariationSettings","Explicit 'font-variation-settings' CSS property. A boolean can be passed instead if one only needs to translate font-weight to font-variation-settings.")}],description:S.NC("fontVariationsGeneral","Configures font variations. Can be either a boolean to enable/disable the translation from font-weight to font-variation-settings or a string for the value of the CSS 'font-variation-settings' property."),default:!1})}validate(Te){return typeof Te>"u"?this.defaultValue:"string"==typeof Te?"false"===Te?Ze.OFF:"true"===Te?Ze.TRANSLATE:Te:Te?Ze.TRANSLATE:Ze.OFF}compute(Te,Ae,ht){return Te.fontInfo.fontVariationSettings}}return Ze.OFF="normal",Ze.TRANSLATE="translate",Ze})(),te=(()=>{class Ze extends p{constructor(){super(52,"fontWeight",At.fontWeight,{anyOf:[{type:"number",minimum:Ze.MINIMUM_VALUE,maximum:Ze.MAXIMUM_VALUE,errorMessage:S.NC("fontWeightErrorMessage",'Only "normal" and "bold" keywords or numbers between 1 and 1000 are allowed.')},{type:"string",pattern:"^(normal|bold|1000|[1-9][0-9]{0,2})$"},{enum:Ze.SUGGESTION_VALUES}],default:At.fontWeight,description:S.NC("fontWeight",'Controls the font weight. Accepts "normal" and "bold" keywords or numbers between 1 and 1000.')})}validate(Te){return"normal"===Te||"bold"===Te?Te:String(l.clampedInt(Te,At.fontWeight,Ze.MINIMUM_VALUE,Ze.MAXIMUM_VALUE))}}return Ze.SUGGESTION_VALUES=["normal","bold","100","200","300","400","500","600","700","800","900"],Ze.MINIMUM_VALUE=1,Ze.MAXIMUM_VALUE=1e3,Ze})();class ae extends g{constructor(){super(142)}compute(Ee,Te,Ae){return ae.computeLayout(Te,{memory:Ee.memory,outerWidth:Ee.outerWidth,outerHeight:Ee.outerHeight,isDominatedByLongLines:Ee.isDominatedByLongLines,lineHeight:Ee.fontInfo.lineHeight,viewLineCount:Ee.viewLineCount,lineNumbersDigitCount:Ee.lineNumbersDigitCount,typicalHalfwidthCharacterWidth:Ee.fontInfo.typicalHalfwidthCharacterWidth,maxDigitWidth:Ee.fontInfo.maxDigitWidth,pixelRatio:Ee.pixelRatio,glyphMarginDecorationLaneCount:Ee.glyphMarginDecorationLaneCount})}static computeContainedMinimapLineCount(Ee){const Te=Ee.height/Ee.lineHeight,Ae=Math.floor(Ee.paddingTop/Ee.lineHeight);let ht=Math.floor(Ee.paddingBottom/Ee.lineHeight);Ee.scrollBeyondLastLine&&(ht=Math.max(ht,Te-1));const yt=(Ae+Ee.viewLineCount+ht)/(Ee.pixelRatio*Ee.height);return{typicalViewportLineCount:Te,extraLinesBeforeFirstLine:Ae,extraLinesBeyondLastLine:ht,desiredRatio:yt,minimapLineCount:Math.floor(Ee.viewLineCount/yt)}}static _computeMinimapLayout(Ee,Te){const Ae=Ee.outerWidth,ht=Ee.outerHeight,yt=Ee.pixelRatio;if(!Ee.minimap.enabled)return{renderMinimap:0,minimapLeft:0,minimapWidth:0,minimapHeightIsEditorHeight:!1,minimapIsSampling:!1,minimapScale:1,minimapLineHeight:1,minimapCanvasInnerWidth:0,minimapCanvasInnerHeight:Math.floor(yt*ht),minimapCanvasOuterWidth:0,minimapCanvasOuterHeight:ht};const Dt=Te.stableMinimapLayoutInput,Ot=Dt&&Ee.outerHeight===Dt.outerHeight&&Ee.lineHeight===Dt.lineHeight&&Ee.typicalHalfwidthCharacterWidth===Dt.typicalHalfwidthCharacterWidth&&Ee.pixelRatio===Dt.pixelRatio&&Ee.scrollBeyondLastLine===Dt.scrollBeyondLastLine&&Ee.paddingTop===Dt.paddingTop&&Ee.paddingBottom===Dt.paddingBottom&&Ee.minimap.enabled===Dt.minimap.enabled&&Ee.minimap.side===Dt.minimap.side&&Ee.minimap.size===Dt.minimap.size&&Ee.minimap.showSlider===Dt.minimap.showSlider&&Ee.minimap.renderCharacters===Dt.minimap.renderCharacters&&Ee.minimap.maxColumn===Dt.minimap.maxColumn&&Ee.minimap.scale===Dt.minimap.scale&&Ee.verticalScrollbarWidth===Dt.verticalScrollbarWidth&&Ee.isViewportWrapping===Dt.isViewportWrapping,gt=Ee.lineHeight,Rt=Ee.typicalHalfwidthCharacterWidth,Zt=Ee.scrollBeyondLastLine,Ci=Ee.minimap.renderCharacters;let ci=yt>=2?Math.round(2*Ee.minimap.scale):Ee.minimap.scale;const Mi=Ee.minimap.maxColumn,Gi=Ee.minimap.size,Zi=Ee.minimap.side,St=Ee.verticalScrollbarWidth,st=Ee.viewLineCount,ut=Ee.remainingWidth,pt=Ee.isViewportWrapping,Ne=Ci?2:3;let je=Math.floor(yt*ht);const et=je/yt;let wt=!1,Bt=!1,xt=Ne*ci,Qt=ci/yt,ai=1;if("fill"===Gi||"fit"===Gi){const{typicalViewportLineCount:fn,extraLinesBeforeFirstLine:Nn,extraLinesBeyondLastLine:xn,desiredRatio:Fn,minimapLineCount:vi}=ae.computeContainedMinimapLineCount({viewLineCount:st,scrollBeyondLastLine:Zt,paddingTop:Ee.paddingTop,paddingBottom:Ee.paddingBottom,height:ht,lineHeight:gt,pixelRatio:yt});if(st/vi>1)wt=!0,Bt=!0,ci=1,xt=1,Qt=ci/yt;else{let ni=!1,Nt=ci+1;if("fit"===Gi){const Wt=Math.ceil((Nn+st+xn)*xt);pt&&Ot&&ut<=Te.stableFitRemainingWidth?(ni=!0,Nt=Te.stableFitMaxMinimapScale):ni=Wt>je}if("fill"===Gi||ni){wt=!0;const Wt=ci;xt=Math.min(gt*yt,Math.max(1,Math.floor(1/Fn))),pt&&Ot&&ut<=Te.stableFitRemainingWidth&&(Nt=Te.stableFitMaxMinimapScale),ci=Math.min(Nt,Math.max(1,Math.floor(xt/Ne))),ci>Wt&&(ai=Math.min(2,ci/Wt)),Qt=ci/yt/ai,je=Math.ceil(Math.max(fn,Nn+st+xn)*xt),pt?(Te.stableMinimapLayoutInput=Ee,Te.stableFitRemainingWidth=ut,Te.stableFitMaxMinimapScale=ci):(Te.stableMinimapLayoutInput=null,Te.stableFitRemainingWidth=0)}}}const gi=Math.floor(Mi*Qt),di=Math.min(gi,Math.max(0,Math.floor((ut-St-2)*Qt/(Rt+Qt)))+T);let Ei=Math.floor(yt*di);const Ki=Ei/yt;return Ei=Math.floor(Ei*ai),{renderMinimap:Ci?1:2,minimapLeft:"left"===Zi?0:Ae-di-St,minimapWidth:di,minimapHeightIsEditorHeight:wt,minimapIsSampling:Bt,minimapScale:ci,minimapLineHeight:xt,minimapCanvasInnerWidth:Ei,minimapCanvasInnerHeight:je,minimapCanvasOuterWidth:Ki,minimapCanvasOuterHeight:et}}static computeLayout(Ee,Te){const Ae=0|Te.outerWidth,ht=0|Te.outerHeight,yt=0|Te.lineHeight,Dt=0|Te.lineNumbersDigitCount,Ot=Te.typicalHalfwidthCharacterWidth,gt=Te.maxDigitWidth,Rt=Te.pixelRatio,Zt=Te.viewLineCount,Ci=Ee.get(134),ci="inherit"===Ci?Ee.get(133):Ci,Mi="inherit"===ci?Ee.get(129):ci,Gi=Ee.get(132),Zi=Te.isDominatedByLongLines,St=Ee.get(56),st=0!==Ee.get(66).renderType,ut=Ee.get(67),pt=Ee.get(103),Ne=Ee.get(82),je=Ee.get(71),et=Ee.get(101),wt=et.verticalScrollbarSize,Bt=et.verticalHasArrows,xt=et.arrowSize,Qt=et.horizontalScrollbarSize,ai=Ee.get(42),gi="never"!==Ee.get(108);let di=Ee.get(64);ai&&gi&&(di+=16);let Ei=0;if(st){const Yt=Math.max(Dt,ut);Ei=Math.round(Yt*gt)}let Ki=0;St&&(Ki=yt*Te.glyphMarginDecorationLaneCount);let zi=0,qi=zi+Ki,fn=qi+Ei,Nn=fn+di;const xn=Ae-Ki-Ei-di;let Fn=!1,vi=!1,ui=-1;"inherit"===ci&&Zi?(Fn=!0,vi=!0):"on"===Mi||"bounded"===Mi?vi=!0:"wordWrapColumn"===Mi&&(ui=Gi);const ni=ae._computeMinimapLayout({outerWidth:Ae,outerHeight:ht,lineHeight:yt,typicalHalfwidthCharacterWidth:Ot,pixelRatio:Rt,scrollBeyondLastLine:pt,paddingTop:Ne.top,paddingBottom:Ne.bottom,minimap:je,verticalScrollbarWidth:wt,viewLineCount:Zt,remainingWidth:xn,isViewportWrapping:vi},Te.memory||new L);0!==ni.renderMinimap&&0===ni.minimapLeft&&(zi+=ni.minimapWidth,qi+=ni.minimapWidth,fn+=ni.minimapWidth,Nn+=ni.minimapWidth);const Nt=xn-ni.minimapWidth,Wt=Math.max(1,Math.floor((Nt-wt-2)/Ot)),li=Bt?xt:0;return vi&&(ui=Math.max(1,Wt),"bounded"===Mi&&(ui=Math.min(ui,Gi))),{width:Ae,height:ht,glyphMarginLeft:zi,glyphMarginWidth:Ki,glyphMarginDecorationLaneCount:Te.glyphMarginDecorationLaneCount,lineNumbersLeft:qi,lineNumbersWidth:Ei,decorationsLeft:fn,decorationsWidth:di,contentLeft:Nn,contentWidth:Nt,minimap:ni,viewportColumn:Wt,isWordWrapMinified:Fn,isViewportWrapping:vi,wrappingColumn:ui,verticalScrollbarWidth:wt,horizontalScrollbarHeight:Qt,overviewRuler:{top:li,width:wt,height:ht-2*li,right:0}}}}function ie(Ze){const Ee=Ze.get(96);return"editable"===Ee?Ze.get(89):"on"!==Ee}function Pe(Ze,Ee){if("string"!=typeof Ze)return Ee;switch(Ze){case"hidden":return 2;case"visible":return 3;default:return 1}}const fe="inUntrustedWorkspace",be={allowedCharacters:"editor.unicodeHighlight.allowedCharacters",invisibleCharacters:"editor.unicodeHighlight.invisibleCharacters",nonBasicASCII:"editor.unicodeHighlight.nonBasicASCII",ambiguousCharacters:"editor.unicodeHighlight.ambiguousCharacters",includeComments:"editor.unicodeHighlight.includeComments",includeStrings:"editor.unicodeHighlight.includeStrings",allowedLocales:"editor.unicodeHighlight.allowedLocales"};function He(Ze,Ee,Te){const Ae=Te.indexOf(Ze);return-1===Ae?Ee:Te[Ae]}const At={fontFamily:r.dz?"Menlo, Monaco, 'Courier New', monospace":r.IJ?"'Droid Sans Mono', 'monospace', monospace":"Consolas, 'Courier New', monospace",fontWeight:"normal",fontSize:r.dz?12:14,lineHeight:0,letterSpacing:0},It=[];function it(Ze){return It[Ze.id]=Ze,Ze}const qe={acceptSuggestionOnCommitCharacter:it(new a(0,"acceptSuggestionOnCommitCharacter",!0,{markdownDescription:S.NC("acceptSuggestionOnCommitCharacter","Controls whether suggestions should be accepted on commit characters. For example, in JavaScript, the semi-colon (`;`) can be a commit character that accepts a suggestion and types that character.")})),acceptSuggestionOnEnter:it(new A(1,"acceptSuggestionOnEnter","on",["on","smart","off"],{markdownEnumDescriptions:["",S.NC("acceptSuggestionOnEnterSmart","Only accept a suggestion with `Enter` when it makes a textual change."),""],markdownDescription:S.NC("acceptSuggestionOnEnter","Controls whether suggestions should be accepted on `Enter`, in addition to `Tab`. Helps to avoid ambiguity between inserting new lines or accepting suggestions.")})),accessibilitySupport:it(new class O extends p{constructor(){super(2,"accessibilitySupport",0,{type:"string",enum:["auto","on","off"],enumDescriptions:[S.NC("accessibilitySupport.auto","Use platform APIs to detect when a Screen Reader is attached"),S.NC("accessibilitySupport.on","Optimize for usage with a Screen Reader"),S.NC("accessibilitySupport.off","Assume a screen reader is not attached")],default:"auto",tags:["accessibility"],description:S.NC("accessibilitySupport","Controls if the UI should run in a mode where it is optimized for screen readers.")})}validate(Ee){switch(Ee){case"auto":return 0;case"off":return 1;case"on":return 2}return this.defaultValue}compute(Ee,Te,Ae){return 0===Ae?Ee.accessibilitySupport:Ae}}),accessibilityPageSize:it(new l(3,"accessibilityPageSize",10,1,1073741824,{description:S.NC("accessibilityPageSize","Controls the number of lines in the editor that can be read out by a screen reader at once. When we detect a screen reader we automatically set the default to be 500. Warning: this has a performance implication for numbers larger than the default."),tags:["accessibility"]})),ariaLabel:it(new D(4,"ariaLabel",S.NC("editorViewAccessibleLabel","Editor content"))),ariaRequired:it(new a(5,"ariaRequired",!1,void 0)),screenReaderAnnounceInlineSuggestion:it(new a(7,"screenReaderAnnounceInlineSuggestion",!0,{description:S.NC("screenReaderAnnounceInlineSuggestion","Control whether inline suggestions are announced by a screen reader."),tags:["accessibility"]})),autoClosingBrackets:it(new A(6,"autoClosingBrackets","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",S.NC("editor.autoClosingBrackets.languageDefined","Use language configurations to determine when to autoclose brackets."),S.NC("editor.autoClosingBrackets.beforeWhitespace","Autoclose brackets only when the cursor is to the left of whitespace."),""],description:S.NC("autoClosingBrackets","Controls whether the editor should automatically close brackets after the user adds an opening bracket.")})),autoClosingDelete:it(new A(8,"autoClosingDelete","auto",["always","auto","never"],{enumDescriptions:["",S.NC("editor.autoClosingDelete.auto","Remove adjacent closing quotes or brackets only if they were automatically inserted."),""],description:S.NC("autoClosingDelete","Controls whether the editor should remove adjacent closing quotes or brackets when deleting.")})),autoClosingOvertype:it(new A(9,"autoClosingOvertype","auto",["always","auto","never"],{enumDescriptions:["",S.NC("editor.autoClosingOvertype.auto","Type over closing quotes or brackets only if they were automatically inserted."),""],description:S.NC("autoClosingOvertype","Controls whether the editor should type over closing quotes or brackets.")})),autoClosingQuotes:it(new A(10,"autoClosingQuotes","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",S.NC("editor.autoClosingQuotes.languageDefined","Use language configurations to determine when to autoclose quotes."),S.NC("editor.autoClosingQuotes.beforeWhitespace","Autoclose quotes only when the cursor is to the left of whitespace."),""],description:S.NC("autoClosingQuotes","Controls whether the editor should automatically close quotes after the user adds an opening quote.")})),autoIndent:it(new k(11,"autoIndent",4,"full",["none","keep","brackets","advanced","full"],function R(Ze){switch(Ze){case"none":return 0;case"keep":return 1;case"brackets":return 2;case"advanced":return 3;case"full":return 4}},{enumDescriptions:[S.NC("editor.autoIndent.none","The editor will not insert indentation automatically."),S.NC("editor.autoIndent.keep","The editor will keep the current line's indentation."),S.NC("editor.autoIndent.brackets","The editor will keep the current line's indentation and honor language defined brackets."),S.NC("editor.autoIndent.advanced","The editor will keep the current line's indentation, honor language defined brackets and invoke special onEnterRules defined by languages."),S.NC("editor.autoIndent.full","The editor will keep the current line's indentation, honor language defined brackets, invoke special onEnterRules defined by languages, and honor indentationRules defined by languages.")],description:S.NC("autoIndent","Controls whether the editor should automatically adjust the indentation when users type, paste, move or indent lines.")})),automaticLayout:it(new a(12,"automaticLayout",!1)),autoSurround:it(new A(13,"autoSurround","languageDefined",["languageDefined","quotes","brackets","never"],{enumDescriptions:[S.NC("editor.autoSurround.languageDefined","Use language configurations to determine when to automatically surround selections."),S.NC("editor.autoSurround.quotes","Surround with quotes but not brackets."),S.NC("editor.autoSurround.brackets","Surround with brackets but not quotes."),""],description:S.NC("autoSurround","Controls whether the editor should automatically surround selections when typing quotes or brackets.")})),bracketPairColorization:it(new class le extends p{constructor(){const Ee={enabled:y.D.bracketPairColorizationOptions.enabled,independentColorPoolPerBracketType:y.D.bracketPairColorizationOptions.independentColorPoolPerBracketType};super(14,"bracketPairColorization",Ee,{"editor.bracketPairColorization.enabled":{type:"boolean",default:Ee.enabled,markdownDescription:S.NC("bracketPairColorization.enabled","Controls whether bracket pair colorization is enabled or not. Use {0} to override the bracket highlight colors.","`#workbench.colorCustomizations#`")},"editor.bracketPairColorization.independentColorPoolPerBracketType":{type:"boolean",default:Ee.independentColorPoolPerBracketType,description:S.NC("bracketPairColorization.independentColorPoolPerBracketType","Controls whether each bracket type has its own independent color pool.")}})}validate(Ee){if(!Ee||"object"!=typeof Ee)return this.defaultValue;const Te=Ee;return{enabled:d(Te.enabled,this.defaultValue.enabled),independentColorPoolPerBracketType:d(Te.independentColorPoolPerBracketType,this.defaultValue.independentColorPoolPerBracketType)}}}),bracketPairGuides:it(new class Fe extends p{constructor(){const Ee={bracketPairs:!1,bracketPairsHorizontal:"active",highlightActiveBracketPair:!0,indentation:!0,highlightActiveIndentation:!0};super(15,"guides",Ee,{"editor.guides.bracketPairs":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[S.NC("editor.guides.bracketPairs.true","Enables bracket pair guides."),S.NC("editor.guides.bracketPairs.active","Enables bracket pair guides only for the active bracket pair."),S.NC("editor.guides.bracketPairs.false","Disables bracket pair guides.")],default:Ee.bracketPairs,description:S.NC("editor.guides.bracketPairs","Controls whether bracket pair guides are enabled or not.")},"editor.guides.bracketPairsHorizontal":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[S.NC("editor.guides.bracketPairsHorizontal.true","Enables horizontal guides as addition to vertical bracket pair guides."),S.NC("editor.guides.bracketPairsHorizontal.active","Enables horizontal guides only for the active bracket pair."),S.NC("editor.guides.bracketPairsHorizontal.false","Disables horizontal bracket pair guides.")],default:Ee.bracketPairsHorizontal,description:S.NC("editor.guides.bracketPairsHorizontal","Controls whether horizontal bracket pair guides are enabled or not.")},"editor.guides.highlightActiveBracketPair":{type:"boolean",default:Ee.highlightActiveBracketPair,description:S.NC("editor.guides.highlightActiveBracketPair","Controls whether the editor should highlight the active bracket pair.")},"editor.guides.indentation":{type:"boolean",default:Ee.indentation,description:S.NC("editor.guides.indentation","Controls whether the editor should render indent guides.")},"editor.guides.highlightActiveIndentation":{type:["boolean","string"],enum:[!0,"always",!1],enumDescriptions:[S.NC("editor.guides.highlightActiveIndentation.true","Highlights the active indent guide."),S.NC("editor.guides.highlightActiveIndentation.always","Highlights the active indent guide even if bracket guides are highlighted."),S.NC("editor.guides.highlightActiveIndentation.false","Do not highlight the active indent guide.")],default:Ee.highlightActiveIndentation,description:S.NC("editor.guides.highlightActiveIndentation","Controls whether the editor should highlight the active indent guide.")}})}validate(Ee){if(!Ee||"object"!=typeof Ee)return this.defaultValue;const Te=Ee;return{bracketPairs:He(Te.bracketPairs,this.defaultValue.bracketPairs,[!0,!1,"active"]),bracketPairsHorizontal:He(Te.bracketPairsHorizontal,this.defaultValue.bracketPairsHorizontal,[!0,!1,"active"]),highlightActiveBracketPair:d(Te.highlightActiveBracketPair,this.defaultValue.highlightActiveBracketPair),indentation:d(Te.indentation,this.defaultValue.indentation),highlightActiveIndentation:He(Te.highlightActiveIndentation,this.defaultValue.highlightActiveIndentation,[!0,!1,"always"])}}}),stickyTabStops:it(new a(114,"stickyTabStops",!1,{description:S.NC("stickyTabStops","Emulate selection behavior of tab characters when using spaces for indentation. Selection will stick to tab stops.")})),codeLens:it(new a(16,"codeLens",!0,{description:S.NC("codeLens","Controls whether the editor shows CodeLens.")})),codeLensFontFamily:it(new D(17,"codeLensFontFamily","",{description:S.NC("codeLensFontFamily","Controls the font family for CodeLens.")})),codeLensFontSize:it(new l(18,"codeLensFontSize",0,0,100,{type:"number",default:0,minimum:0,maximum:100,markdownDescription:S.NC("codeLensFontSize","Controls the font size in pixels for CodeLens. When set to 0, 90% of `#editor.fontSize#` is used.")})),colorDecorators:it(new a(19,"colorDecorators",!0,{description:S.NC("colorDecorators","Controls whether the editor should render the inline color decorators and color picker.")})),colorDecoratorActivatedOn:it(new A(145,"colorDecoratorsActivatedOn","clickAndHover",["clickAndHover","hover","click"],{enumDescriptions:[S.NC("editor.colorDecoratorActivatedOn.clickAndHover","Make the color picker appear both on click and hover of the color decorator"),S.NC("editor.colorDecoratorActivatedOn.hover","Make the color picker appear on hover of the color decorator"),S.NC("editor.colorDecoratorActivatedOn.click","Make the color picker appear on click of the color decorator")],description:S.NC("colorDecoratorActivatedOn","Controls the condition to make a color picker appear from a color decorator")})),colorDecoratorsLimit:it(new l(20,"colorDecoratorsLimit",500,1,1e6,{markdownDescription:S.NC("colorDecoratorsLimit","Controls the max number of color decorators that can be rendered in an editor at once.")})),columnSelection:it(new a(21,"columnSelection",!1,{description:S.NC("columnSelection","Enable that the selection with the mouse and keys is doing column selection.")})),comments:it(new class W extends p{constructor(){const Ee={insertSpace:!0,ignoreEmptyLines:!0};super(22,"comments",Ee,{"editor.comments.insertSpace":{type:"boolean",default:Ee.insertSpace,description:S.NC("comments.insertSpace","Controls whether a space character is inserted when commenting.")},"editor.comments.ignoreEmptyLines":{type:"boolean",default:Ee.ignoreEmptyLines,description:S.NC("comments.ignoreEmptyLines","Controls if empty lines should be ignored with toggle, add or remove actions for line comments.")}})}validate(Ee){if(!Ee||"object"!=typeof Ee)return this.defaultValue;const Te=Ee;return{insertSpace:d(Te.insertSpace,this.defaultValue.insertSpace),ignoreEmptyLines:d(Te.ignoreEmptyLines,this.defaultValue.ignoreEmptyLines)}}}),contextmenu:it(new a(23,"contextmenu",!0)),copyWithSyntaxHighlighting:it(new a(24,"copyWithSyntaxHighlighting",!0,{description:S.NC("copyWithSyntaxHighlighting","Controls whether syntax highlighting should be copied into the clipboard.")})),cursorBlinking:it(new k(25,"cursorBlinking",1,"blink",["blink","smooth","phase","expand","solid"],function z(Ze){switch(Ze){case"blink":return 1;case"smooth":return 2;case"phase":return 3;case"expand":return 4;case"solid":return 5}},{description:S.NC("cursorBlinking","Control the cursor animation style.")})),cursorSmoothCaretAnimation:it(new A(26,"cursorSmoothCaretAnimation","off",["off","explicit","on"],{enumDescriptions:[S.NC("cursorSmoothCaretAnimation.off","Smooth caret animation is disabled."),S.NC("cursorSmoothCaretAnimation.explicit","Smooth caret animation is enabled only when the user moves the cursor with an explicit gesture."),S.NC("cursorSmoothCaretAnimation.on","Smooth caret animation is always enabled.")],description:S.NC("cursorSmoothCaretAnimation","Controls whether the smooth caret animation should be enabled.")})),cursorStyle:it(new k(27,"cursorStyle",U.Line,"line",["line","block","underline","line-thin","block-outline","underline-thin"],function ee(Ze){switch(Ze){case"line":return U.Line;case"block":return U.Block;case"underline":return U.Underline;case"line-thin":return U.LineThin;case"block-outline":return U.BlockOutline;case"underline-thin":return U.UnderlineThin}},{description:S.NC("cursorStyle","Controls the cursor style.")})),cursorSurroundingLines:it(new l(28,"cursorSurroundingLines",0,0,1073741824,{description:S.NC("cursorSurroundingLines","Controls the minimal number of visible leading lines (minimum 0) and trailing lines (minimum 1) surrounding the cursor. Known as 'scrollOff' or 'scrollOffset' in some other editors.")})),cursorSurroundingLinesStyle:it(new A(29,"cursorSurroundingLinesStyle","default",["default","all"],{enumDescriptions:[S.NC("cursorSurroundingLinesStyle.default","`cursorSurroundingLines` is enforced only when triggered via the keyboard or API."),S.NC("cursorSurroundingLinesStyle.all","`cursorSurroundingLines` is enforced always.")],description:S.NC("cursorSurroundingLinesStyle","Controls when `cursorSurroundingLines` should be enforced.")})),cursorWidth:it(new l(30,"cursorWidth",0,0,1073741824,{markdownDescription:S.NC("cursorWidth","Controls the width of the cursor when `#editor.cursorStyle#` is set to `line`.")})),disableLayerHinting:it(new a(31,"disableLayerHinting",!1)),disableMonospaceOptimizations:it(new a(32,"disableMonospaceOptimizations",!1)),domReadOnly:it(new a(33,"domReadOnly",!1)),dragAndDrop:it(new a(34,"dragAndDrop",!0,{description:S.NC("dragAndDrop","Controls whether the editor should allow moving selections via drag and drop.")})),emptySelectionClipboard:it(new class G extends a{constructor(){super(36,"emptySelectionClipboard",!0,{description:S.NC("emptySelectionClipboard","Controls whether copying without a selection copies the current line.")})}compute(Ee,Te,Ae){return Ae&&Ee.emptySelectionClipboard}}),dropIntoEditor:it(new class ft extends p{constructor(){const Ee={enabled:!0,showDropSelector:"afterDrop"};super(35,"dropIntoEditor",Ee,{"editor.dropIntoEditor.enabled":{type:"boolean",default:Ee.enabled,markdownDescription:S.NC("dropIntoEditor.enabled","Controls whether you can drag and drop a file into a text editor by holding down `shift` (instead of opening the file in an editor).")},"editor.dropIntoEditor.showDropSelector":{type:"string",markdownDescription:S.NC("dropIntoEditor.showDropSelector","Controls if a widget is shown when dropping files into the editor. This widget lets you control how the file is dropped."),enum:["afterDrop","never"],enumDescriptions:[S.NC("dropIntoEditor.showDropSelector.afterDrop","Show the drop selector widget after a file is dropped into the editor."),S.NC("dropIntoEditor.showDropSelector.never","Never show the drop selector widget. Instead the default drop provider is always used.")],default:"afterDrop"}})}validate(Ee){if(!Ee||"object"!=typeof Ee)return this.defaultValue;const Te=Ee;return{enabled:d(Te.enabled,this.defaultValue.enabled),showDropSelector:N(Te.showDropSelector,this.defaultValue.showDropSelector,["afterDrop","never"])}}}),stickyScroll:it(new class ue extends p{constructor(){const Ee={enabled:!1,maxLineCount:5,defaultModel:"outlineModel",scrollWithEditor:!0};super(113,"stickyScroll",Ee,{"editor.stickyScroll.enabled":{type:"boolean",default:Ee.enabled,description:S.NC("editor.stickyScroll.enabled","Shows the nested current scopes during the scroll at the top of the editor.")},"editor.stickyScroll.maxLineCount":{type:"number",default:Ee.maxLineCount,minimum:1,maximum:10,description:S.NC("editor.stickyScroll.maxLineCount","Defines the maximum number of sticky lines to show.")},"editor.stickyScroll.defaultModel":{type:"string",enum:["outlineModel","foldingProviderModel","indentationModel"],default:Ee.defaultModel,description:S.NC("editor.stickyScroll.defaultModel","Defines the model to use for determining which lines to stick. If the outline model does not exist, it will fall back on the folding provider model which falls back on the indentation model. This order is respected in all three cases.")},"editor.stickyScroll.scrollWithEditor":{type:"boolean",default:Ee.scrollWithEditor,description:S.NC("editor.stickyScroll.scrollWithEditor","Enable scrolling of the sticky scroll widget with the editor's horizontal scrollbar.")}})}validate(Ee){if(!Ee||"object"!=typeof Ee)return this.defaultValue;const Te=Ee;return{enabled:d(Te.enabled,this.defaultValue.enabled),maxLineCount:l.clampedInt(Te.maxLineCount,this.defaultValue.maxLineCount,1,10),defaultModel:N(Te.defaultModel,this.defaultValue.defaultModel,["outlineModel","foldingProviderModel","indentationModel"]),scrollWithEditor:d(Te.scrollWithEditor,this.defaultValue.scrollWithEditor)}}}),experimentalWhitespaceRendering:it(new A(37,"experimentalWhitespaceRendering","svg",["svg","font","off"],{enumDescriptions:[S.NC("experimentalWhitespaceRendering.svg","Use a new rendering method with svgs."),S.NC("experimentalWhitespaceRendering.font","Use a new rendering method with font characters."),S.NC("experimentalWhitespaceRendering.off","Use the stable rendering method.")],description:S.NC("experimentalWhitespaceRendering","Controls whether whitespace is rendered with a new, experimental method.")})),extraEditorClassName:it(new D(38,"extraEditorClassName","")),fastScrollSensitivity:it(new w(39,"fastScrollSensitivity",5,Ze=>Ze<=0?5:Ze,{markdownDescription:S.NC("fastScrollSensitivity","Scrolling speed multiplier when pressing `Alt`.")})),find:it(new class se extends p{constructor(){const Ee={cursorMoveOnType:!0,seedSearchStringFromSelection:"always",autoFindInSelection:"never",globalFindClipboard:!1,addExtraSpaceOnTop:!0,loop:!0};super(40,"find",Ee,{"editor.find.cursorMoveOnType":{type:"boolean",default:Ee.cursorMoveOnType,description:S.NC("find.cursorMoveOnType","Controls whether the cursor should jump to find matches while typing.")},"editor.find.seedSearchStringFromSelection":{type:"string",enum:["never","always","selection"],default:Ee.seedSearchStringFromSelection,enumDescriptions:[S.NC("editor.find.seedSearchStringFromSelection.never","Never seed search string from the editor selection."),S.NC("editor.find.seedSearchStringFromSelection.always","Always seed search string from the editor selection, including word at cursor position."),S.NC("editor.find.seedSearchStringFromSelection.selection","Only seed search string from the editor selection.")],description:S.NC("find.seedSearchStringFromSelection","Controls whether the search string in the Find Widget is seeded from the editor selection.")},"editor.find.autoFindInSelection":{type:"string",enum:["never","always","multiline"],default:Ee.autoFindInSelection,enumDescriptions:[S.NC("editor.find.autoFindInSelection.never","Never turn on Find in Selection automatically (default)."),S.NC("editor.find.autoFindInSelection.always","Always turn on Find in Selection automatically."),S.NC("editor.find.autoFindInSelection.multiline","Turn on Find in Selection automatically when multiple lines of content are selected.")],description:S.NC("find.autoFindInSelection","Controls the condition for turning on Find in Selection automatically.")},"editor.find.globalFindClipboard":{type:"boolean",default:Ee.globalFindClipboard,description:S.NC("find.globalFindClipboard","Controls whether the Find Widget should read or modify the shared find clipboard on macOS."),included:r.dz},"editor.find.addExtraSpaceOnTop":{type:"boolean",default:Ee.addExtraSpaceOnTop,description:S.NC("find.addExtraSpaceOnTop","Controls whether the Find Widget should add extra lines on top of the editor. When true, you can scroll beyond the first line when the Find Widget is visible.")},"editor.find.loop":{type:"boolean",default:Ee.loop,description:S.NC("find.loop","Controls whether the search automatically restarts from the beginning (or the end) when no further matches can be found.")}})}validate(Ee){if(!Ee||"object"!=typeof Ee)return this.defaultValue;const Te=Ee;return{cursorMoveOnType:d(Te.cursorMoveOnType,this.defaultValue.cursorMoveOnType),seedSearchStringFromSelection:"boolean"==typeof Ee.seedSearchStringFromSelection?Ee.seedSearchStringFromSelection?"always":"never":N(Te.seedSearchStringFromSelection,this.defaultValue.seedSearchStringFromSelection,["never","always","selection"]),autoFindInSelection:"boolean"==typeof Ee.autoFindInSelection?Ee.autoFindInSelection?"always":"never":N(Te.autoFindInSelection,this.defaultValue.autoFindInSelection,["never","always","multiline"]),globalFindClipboard:d(Te.globalFindClipboard,this.defaultValue.globalFindClipboard),addExtraSpaceOnTop:d(Te.addExtraSpaceOnTop,this.defaultValue.addExtraSpaceOnTop),loop:d(Te.loop,this.defaultValue.loop)}}}),fixedOverflowWidgets:it(new a(41,"fixedOverflowWidgets",!1)),folding:it(new a(42,"folding",!0,{description:S.NC("folding","Controls whether the editor has code folding enabled.")})),foldingStrategy:it(new A(43,"foldingStrategy","auto",["auto","indentation"],{enumDescriptions:[S.NC("foldingStrategy.auto","Use a language-specific folding strategy if available, else the indentation-based one."),S.NC("foldingStrategy.indentation","Use the indentation-based folding strategy.")],description:S.NC("foldingStrategy","Controls the strategy for computing folding ranges.")})),foldingHighlight:it(new a(44,"foldingHighlight",!0,{description:S.NC("foldingHighlight","Controls whether the editor should highlight folded ranges.")})),foldingImportsByDefault:it(new a(45,"foldingImportsByDefault",!1,{description:S.NC("foldingImportsByDefault","Controls whether the editor automatically collapses import ranges.")})),foldingMaximumRegions:it(new l(46,"foldingMaximumRegions",5e3,10,65e3,{description:S.NC("foldingMaximumRegions","The maximum number of foldable regions. Increasing this value may result in the editor becoming less responsive when the current source has a large number of foldable regions.")})),unfoldOnClickAfterEndOfLine:it(new a(47,"unfoldOnClickAfterEndOfLine",!1,{description:S.NC("unfoldOnClickAfterEndOfLine","Controls whether clicking on the empty content after a folded line will unfold the line.")})),fontFamily:it(new D(48,"fontFamily",At.fontFamily,{description:S.NC("fontFamily","Controls the font family.")})),fontInfo:it(new class K extends g{constructor(){super(49)}compute(Ee,Te,Ae){return Ee.fontInfo}}),fontLigatures2:it(new j),fontSize:it(new class J extends i{constructor(){super(51,"fontSize",At.fontSize,{type:"number",minimum:6,maximum:100,default:At.fontSize,description:S.NC("fontSize","Controls the font size in pixels.")})}validate(Ee){const Te=w.float(Ee,this.defaultValue);return 0===Te?At.fontSize:w.clamp(Te,6,100)}compute(Ee,Te,Ae){return Ee.fontInfo.fontSize}}),fontWeight:it(new te),fontVariations:it(new $),formatOnPaste:it(new a(54,"formatOnPaste",!1,{description:S.NC("formatOnPaste","Controls whether the editor should automatically format the pasted content. A formatter must be available and the formatter should be able to format a range in a document.")})),formatOnType:it(new a(55,"formatOnType",!1,{description:S.NC("formatOnType","Controls whether the editor should automatically format the line after typing.")})),glyphMargin:it(new a(56,"glyphMargin",!0,{description:S.NC("glyphMargin","Controls whether the editor should render the vertical glyph margin. Glyph margin is mostly used for debugging.")})),gotoLocation:it(new class ne extends p{constructor(){const Ee={multiple:"peek",multipleDefinitions:"peek",multipleTypeDefinitions:"peek",multipleDeclarations:"peek",multipleImplementations:"peek",multipleReferences:"peek",alternativeDefinitionCommand:"editor.action.goToReferences",alternativeTypeDefinitionCommand:"editor.action.goToReferences",alternativeDeclarationCommand:"editor.action.goToReferences",alternativeImplementationCommand:"",alternativeReferenceCommand:""},Te={type:"string",enum:["peek","gotoAndPeek","goto"],default:Ee.multiple,enumDescriptions:[S.NC("editor.gotoLocation.multiple.peek","Show Peek view of the results (default)"),S.NC("editor.gotoLocation.multiple.gotoAndPeek","Go to the primary result and show a Peek view"),S.NC("editor.gotoLocation.multiple.goto","Go to the primary result and enable Peek-less navigation to others")]},Ae=["","editor.action.referenceSearch.trigger","editor.action.goToReferences","editor.action.peekImplementation","editor.action.goToImplementation","editor.action.peekTypeDefinition","editor.action.goToTypeDefinition","editor.action.peekDeclaration","editor.action.revealDeclaration","editor.action.peekDefinition","editor.action.revealDefinitionAside","editor.action.revealDefinition"];super(57,"gotoLocation",Ee,{"editor.gotoLocation.multiple":{deprecationMessage:S.NC("editor.gotoLocation.multiple.deprecated","This setting is deprecated, please use separate settings like 'editor.editor.gotoLocation.multipleDefinitions' or 'editor.editor.gotoLocation.multipleImplementations' instead.")},"editor.gotoLocation.multipleDefinitions":Object.assign({description:S.NC("editor.editor.gotoLocation.multipleDefinitions","Controls the behavior the 'Go to Definition'-command when multiple target locations exist.")},Te),"editor.gotoLocation.multipleTypeDefinitions":Object.assign({description:S.NC("editor.editor.gotoLocation.multipleTypeDefinitions","Controls the behavior the 'Go to Type Definition'-command when multiple target locations exist.")},Te),"editor.gotoLocation.multipleDeclarations":Object.assign({description:S.NC("editor.editor.gotoLocation.multipleDeclarations","Controls the behavior the 'Go to Declaration'-command when multiple target locations exist.")},Te),"editor.gotoLocation.multipleImplementations":Object.assign({description:S.NC("editor.editor.gotoLocation.multipleImplemenattions","Controls the behavior the 'Go to Implementations'-command when multiple target locations exist.")},Te),"editor.gotoLocation.multipleReferences":Object.assign({description:S.NC("editor.editor.gotoLocation.multipleReferences","Controls the behavior the 'Go to References'-command when multiple target locations exist.")},Te),"editor.gotoLocation.alternativeDefinitionCommand":{type:"string",default:Ee.alternativeDefinitionCommand,enum:Ae,description:S.NC("alternativeDefinitionCommand","Alternative command id that is being executed when the result of 'Go to Definition' is the current location.")},"editor.gotoLocation.alternativeTypeDefinitionCommand":{type:"string",default:Ee.alternativeTypeDefinitionCommand,enum:Ae,description:S.NC("alternativeTypeDefinitionCommand","Alternative command id that is being executed when the result of 'Go to Type Definition' is the current location.")},"editor.gotoLocation.alternativeDeclarationCommand":{type:"string",default:Ee.alternativeDeclarationCommand,enum:Ae,description:S.NC("alternativeDeclarationCommand","Alternative command id that is being executed when the result of 'Go to Declaration' is the current location.")},"editor.gotoLocation.alternativeImplementationCommand":{type:"string",default:Ee.alternativeImplementationCommand,enum:Ae,description:S.NC("alternativeImplementationCommand","Alternative command id that is being executed when the result of 'Go to Implementation' is the current location.")},"editor.gotoLocation.alternativeReferenceCommand":{type:"string",default:Ee.alternativeReferenceCommand,enum:Ae,description:S.NC("alternativeReferenceCommand","Alternative command id that is being executed when the result of 'Go to Reference' is the current location.")}})}validate(Ee){var Te,Ae,ht,yt,Dt;if(!Ee||"object"!=typeof Ee)return this.defaultValue;const Ot=Ee;return{multiple:N(Ot.multiple,this.defaultValue.multiple,["peek","gotoAndPeek","goto"]),multipleDefinitions:null!==(Te=Ot.multipleDefinitions)&&void 0!==Te?Te:N(Ot.multipleDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleTypeDefinitions:null!==(Ae=Ot.multipleTypeDefinitions)&&void 0!==Ae?Ae:N(Ot.multipleTypeDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleDeclarations:null!==(ht=Ot.multipleDeclarations)&&void 0!==ht?ht:N(Ot.multipleDeclarations,"peek",["peek","gotoAndPeek","goto"]),multipleImplementations:null!==(yt=Ot.multipleImplementations)&&void 0!==yt?yt:N(Ot.multipleImplementations,"peek",["peek","gotoAndPeek","goto"]),multipleReferences:null!==(Dt=Ot.multipleReferences)&&void 0!==Dt?Dt:N(Ot.multipleReferences,"peek",["peek","gotoAndPeek","goto"]),alternativeDefinitionCommand:D.string(Ot.alternativeDefinitionCommand,this.defaultValue.alternativeDefinitionCommand),alternativeTypeDefinitionCommand:D.string(Ot.alternativeTypeDefinitionCommand,this.defaultValue.alternativeTypeDefinitionCommand),alternativeDeclarationCommand:D.string(Ot.alternativeDeclarationCommand,this.defaultValue.alternativeDeclarationCommand),alternativeImplementationCommand:D.string(Ot.alternativeImplementationCommand,this.defaultValue.alternativeImplementationCommand),alternativeReferenceCommand:D.string(Ot.alternativeReferenceCommand,this.defaultValue.alternativeReferenceCommand)}}}),hideCursorInOverviewRuler:it(new a(58,"hideCursorInOverviewRuler",!1,{description:S.NC("hideCursorInOverviewRuler","Controls whether the cursor should be hidden in the overview ruler.")})),hover:it(new class _ extends p{constructor(){const Ee={enabled:!0,delay:300,sticky:!0,above:!0};super(59,"hover",Ee,{"editor.hover.enabled":{type:"boolean",default:Ee.enabled,description:S.NC("hover.enabled","Controls whether the hover is shown.")},"editor.hover.delay":{type:"number",default:Ee.delay,minimum:0,maximum:1e4,description:S.NC("hover.delay","Controls the delay in milliseconds after which the hover is shown.")},"editor.hover.sticky":{type:"boolean",default:Ee.sticky,description:S.NC("hover.sticky","Controls whether the hover should remain visible when mouse is moved over it.")},"editor.hover.above":{type:"boolean",default:Ee.above,description:S.NC("hover.above","Prefer showing hovers above the line, if there's space.")}})}validate(Ee){if(!Ee||"object"!=typeof Ee)return this.defaultValue;const Te=Ee;return{enabled:d(Te.enabled,this.defaultValue.enabled),delay:l.clampedInt(Te.delay,this.defaultValue.delay,0,1e4),sticky:d(Te.sticky,this.defaultValue.sticky),above:d(Te.above,this.defaultValue.above)}}}),inDiffEditor:it(new a(60,"inDiffEditor",!1)),letterSpacing:it(new w(62,"letterSpacing",At.letterSpacing,Ze=>w.clamp(Ze,-5,20),{description:S.NC("letterSpacing","Controls the letter spacing in pixels.")})),lightbulb:it(new class _e extends p{constructor(){const Ee={enabled:!0};super(63,"lightbulb",Ee,{"editor.lightbulb.enabled":{type:"boolean",default:Ee.enabled,description:S.NC("codeActions","Enables the Code Action lightbulb in the editor.")}})}validate(Ee){return Ee&&"object"==typeof Ee?{enabled:d(Ee.enabled,this.defaultValue.enabled)}:this.defaultValue}}),lineDecorationsWidth:it(new class Ie extends p{constructor(){super(64,"lineDecorationsWidth",10)}validate(Ee){return"string"==typeof Ee&&/^\d+(\.\d+)?ch$/.test(Ee)?-parseFloat(Ee.substring(0,Ee.length-2)):l.clampedInt(Ee,this.defaultValue,0,1e3)}compute(Ee,Te,Ae){return Ae<0?l.clampedInt(-Ae*Ee.fontInfo.typicalHalfwidthCharacterWidth,this.defaultValue,0,1e3):Ae}}),lineHeight:it(new class Se extends w{constructor(){super(65,"lineHeight",At.lineHeight,Ee=>w.clamp(Ee,0,150),{markdownDescription:S.NC("lineHeight","Controls the line height. \n - Use 0 to automatically compute the line height from the font size.\n - Values between 0 and 8 will be used as a multiplier with the font size.\n - Values greater than or equal to 8 will be used as effective values.")})}compute(Ee,Te,Ae){return Ee.fontInfo.lineHeight}}),lineNumbers:it(new class F extends p{constructor(){super(66,"lineNumbers",{renderType:1,renderFn:null},{type:"string",enum:["off","on","relative","interval"],enumDescriptions:[S.NC("lineNumbers.off","Line numbers are not rendered."),S.NC("lineNumbers.on","Line numbers are rendered as absolute number."),S.NC("lineNumbers.relative","Line numbers are rendered as distance in lines to cursor position."),S.NC("lineNumbers.interval","Line numbers are rendered every 10 lines.")],default:"on",description:S.NC("lineNumbers","Controls the display of line numbers.")})}validate(Ee){let Te=this.defaultValue.renderType,Ae=this.defaultValue.renderFn;return typeof Ee<"u"&&("function"==typeof Ee?(Te=4,Ae=Ee):Te="interval"===Ee?3:"relative"===Ee?2:"on"===Ee?1:0),{renderType:Te,renderFn:Ae}}}),lineNumbersMinChars:it(new l(67,"lineNumbersMinChars",5,1,300)),linkedEditing:it(new a(68,"linkedEditing",!1,{description:S.NC("linkedEditing","Controls whether the editor has linked editing enabled. Depending on the language, related symbols such as HTML tags, are updated while editing.")})),links:it(new a(69,"links",!0,{description:S.NC("links","Controls whether the editor should detect links and make them clickable.")})),matchBrackets:it(new A(70,"matchBrackets","always",["always","near","never"],{description:S.NC("matchBrackets","Highlight matching brackets.")})),minimap:it(new class Ve extends p{constructor(){const Ee={enabled:!0,size:"proportional",side:"right",showSlider:"mouseover",autohide:!1,renderCharacters:!0,maxColumn:120,scale:1};super(71,"minimap",Ee,{"editor.minimap.enabled":{type:"boolean",default:Ee.enabled,description:S.NC("minimap.enabled","Controls whether the minimap is shown.")},"editor.minimap.autohide":{type:"boolean",default:Ee.autohide,description:S.NC("minimap.autohide","Controls whether the minimap is hidden automatically.")},"editor.minimap.size":{type:"string",enum:["proportional","fill","fit"],enumDescriptions:[S.NC("minimap.size.proportional","The minimap has the same size as the editor contents (and might scroll)."),S.NC("minimap.size.fill","The minimap will stretch or shrink as necessary to fill the height of the editor (no scrolling)."),S.NC("minimap.size.fit","The minimap will shrink as necessary to never be larger than the editor (no scrolling).")],default:Ee.size,description:S.NC("minimap.size","Controls the size of the minimap.")},"editor.minimap.side":{type:"string",enum:["left","right"],default:Ee.side,description:S.NC("minimap.side","Controls the side where to render the minimap.")},"editor.minimap.showSlider":{type:"string",enum:["always","mouseover"],default:Ee.showSlider,description:S.NC("minimap.showSlider","Controls when the minimap slider is shown.")},"editor.minimap.scale":{type:"number",default:Ee.scale,minimum:1,maximum:3,enum:[1,2,3],description:S.NC("minimap.scale","Scale of content drawn in the minimap: 1, 2 or 3.")},"editor.minimap.renderCharacters":{type:"boolean",default:Ee.renderCharacters,description:S.NC("minimap.renderCharacters","Render the actual characters on a line as opposed to color blocks.")},"editor.minimap.maxColumn":{type:"number",default:Ee.maxColumn,description:S.NC("minimap.maxColumn","Limit the width of the minimap to render at most a certain number of columns.")}})}validate(Ee){if(!Ee||"object"!=typeof Ee)return this.defaultValue;const Te=Ee;return{enabled:d(Te.enabled,this.defaultValue.enabled),autohide:d(Te.autohide,this.defaultValue.autohide),size:N(Te.size,this.defaultValue.size,["proportional","fill","fit"]),side:N(Te.side,this.defaultValue.side,["right","left"]),showSlider:N(Te.showSlider,this.defaultValue.showSlider,["always","mouseover"]),renderCharacters:d(Te.renderCharacters,this.defaultValue.renderCharacters),scale:l.clampedInt(Te.scale,1,1,3),maxColumn:l.clampedInt(Te.maxColumn,this.defaultValue.maxColumn,1,1e4)}}}),mouseStyle:it(new A(72,"mouseStyle","text",["text","default","copy"])),mouseWheelScrollSensitivity:it(new w(73,"mouseWheelScrollSensitivity",1,Ze=>0===Ze?1:Ze,{markdownDescription:S.NC("mouseWheelScrollSensitivity","A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")})),mouseWheelZoom:it(new a(74,"mouseWheelZoom",!1,{markdownDescription:S.NC("mouseWheelZoom","Zoom the font of the editor when using mouse wheel and holding `Ctrl`.")})),multiCursorMergeOverlapping:it(new a(75,"multiCursorMergeOverlapping",!0,{description:S.NC("multiCursorMergeOverlapping","Merge multiple cursors when they are overlapping.")})),multiCursorModifier:it(new k(76,"multiCursorModifier","altKey","alt",["ctrlCmd","alt"],function De(Ze){return"ctrlCmd"===Ze?r.dz?"metaKey":"ctrlKey":"altKey"},{markdownEnumDescriptions:[S.NC("multiCursorModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),S.NC("multiCursorModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],markdownDescription:S.NC({key:"multiCursorModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add multiple cursors with the mouse. The Go to Definition and Open Link mouse gestures will adapt such that they do not conflict with the [multicursor modifier](https://code.visualstudio.com/docs/editor/codebasics#_multicursor-modifier).")})),multiCursorPaste:it(new A(77,"multiCursorPaste","spread",["spread","full"],{markdownEnumDescriptions:[S.NC("multiCursorPaste.spread","Each cursor pastes a single line of the text."),S.NC("multiCursorPaste.full","Each cursor pastes the full text.")],markdownDescription:S.NC("multiCursorPaste","Controls pasting when the line count of the pasted text matches the cursor count.")})),multiCursorLimit:it(new l(78,"multiCursorLimit",1e4,1,1e5,{markdownDescription:S.NC("multiCursorLimit","Controls the max number of cursors that can be in an active editor at once.")})),occurrencesHighlight:it(new a(79,"occurrencesHighlight",!0,{description:S.NC("occurrencesHighlight","Controls whether the editor should highlight semantic symbol occurrences.")})),overviewRulerBorder:it(new a(80,"overviewRulerBorder",!0,{description:S.NC("overviewRulerBorder","Controls whether a border should be drawn around the overview ruler.")})),overviewRulerLanes:it(new l(81,"overviewRulerLanes",3,0,3)),padding:it(new class ye extends p{constructor(){super(82,"padding",{top:0,bottom:0},{"editor.padding.top":{type:"number",default:0,minimum:0,maximum:1e3,description:S.NC("padding.top","Controls the amount of space between the top edge of the editor and the first line.")},"editor.padding.bottom":{type:"number",default:0,minimum:0,maximum:1e3,description:S.NC("padding.bottom","Controls the amount of space between the bottom edge of the editor and the last line.")}})}validate(Ee){if(!Ee||"object"!=typeof Ee)return this.defaultValue;const Te=Ee;return{top:l.clampedInt(Te.top,0,0,1e3),bottom:l.clampedInt(Te.bottom,0,0,1e3)}}}),pasteAs:it(new class Lt extends p{constructor(){const Ee={enabled:!0,showPasteSelector:"afterPaste"};super(83,"pasteAs",Ee,{"editor.pasteAs.enabled":{type:"boolean",default:Ee.enabled,markdownDescription:S.NC("pasteAs.enabled","Controls whether you can paste content in different ways.")},"editor.pasteAs.showPasteSelector":{type:"string",markdownDescription:S.NC("pasteAs.showPasteSelector","Controls if a widget is shown when pasting content in to the editor. This widget lets you control how the file is pasted."),enum:["afterPaste","never"],enumDescriptions:[S.NC("pasteAs.showPasteSelector.afterPaste","Show the paste selector widget after content is pasted into the editor."),S.NC("pasteAs.showPasteSelector.never","Never show the paste selector widget. Instead the default pasting behavior is always used.")],default:"afterPaste"}})}validate(Ee){if(!Ee||"object"!=typeof Ee)return this.defaultValue;const Te=Ee;return{enabled:d(Te.enabled,this.defaultValue.enabled),showPasteSelector:N(Te.showPasteSelector,this.defaultValue.showPasteSelector,["afterPaste","never"])}}}),parameterHints:it(new class oe extends p{constructor(){const Ee={enabled:!0,cycle:!0};super(84,"parameterHints",Ee,{"editor.parameterHints.enabled":{type:"boolean",default:Ee.enabled,description:S.NC("parameterHints.enabled","Enables a pop-up that shows parameter documentation and type information as you type.")},"editor.parameterHints.cycle":{type:"boolean",default:Ee.cycle,description:S.NC("parameterHints.cycle","Controls whether the parameter hints menu cycles or closes when reaching the end of the list.")}})}validate(Ee){if(!Ee||"object"!=typeof Ee)return this.defaultValue;const Te=Ee;return{enabled:d(Te.enabled,this.defaultValue.enabled),cycle:d(Te.cycle,this.defaultValue.cycle)}}}),peekWidgetDefaultFocus:it(new A(85,"peekWidgetDefaultFocus","tree",["tree","editor"],{enumDescriptions:[S.NC("peekWidgetDefaultFocus.tree","Focus the tree when opening peek"),S.NC("peekWidgetDefaultFocus.editor","Focus the editor when opening peek")],description:S.NC("peekWidgetDefaultFocus","Controls whether to focus the inline editor or the tree in the peek widget.")})),definitionLinkOpensInPeek:it(new a(86,"definitionLinkOpensInPeek",!1,{description:S.NC("definitionLinkOpensInPeek","Controls whether the Go to Definition mouse gesture always opens the peek widget.")})),quickSuggestions:it(new class x extends p{constructor(){const Ee={other:"on",comments:"off",strings:"off"},Te=[{type:"boolean"},{type:"string",enum:["on","inline","off"],enumDescriptions:[S.NC("on","Quick suggestions show inside the suggest widget"),S.NC("inline","Quick suggestions show as ghost text"),S.NC("off","Quick suggestions are disabled")]}];super(87,"quickSuggestions",Ee,{type:"object",additionalProperties:!1,properties:{strings:{anyOf:Te,default:Ee.strings,description:S.NC("quickSuggestions.strings","Enable quick suggestions inside strings.")},comments:{anyOf:Te,default:Ee.comments,description:S.NC("quickSuggestions.comments","Enable quick suggestions inside comments.")},other:{anyOf:Te,default:Ee.other,description:S.NC("quickSuggestions.other","Enable quick suggestions outside of strings and comments.")}},default:Ee,markdownDescription:S.NC("quickSuggestions","Controls whether suggestions should automatically show up while typing. This can be controlled for typing in comments, strings, and other code. Quick suggestion can be configured to show as ghost text or with the suggest widget. Also be aware of the '{0}'-setting which controls if suggestions are triggered by special characters.","#editor.suggestOnTriggerCharacters#")}),this.defaultValue=Ee}validate(Ee){if("boolean"==typeof Ee){const Rt=Ee?"on":"off";return{comments:Rt,strings:Rt,other:Rt}}if(!Ee||"object"!=typeof Ee)return this.defaultValue;const{other:Te,comments:Ae,strings:ht}=Ee,yt=["on","inline","off"];let Dt,Ot,gt;return Dt="boolean"==typeof Te?Te?"on":"off":N(Te,this.defaultValue.other,yt),Ot="boolean"==typeof Ae?Ae?"on":"off":N(Ae,this.defaultValue.comments,yt),gt="boolean"==typeof ht?ht?"on":"off":N(ht,this.defaultValue.strings,yt),{other:Dt,comments:Ot,strings:gt}}}),quickSuggestionsDelay:it(new l(88,"quickSuggestionsDelay",10,0,1073741824,{description:S.NC("quickSuggestionsDelay","Controls the delay in milliseconds after which quick suggestions will show up.")})),readOnly:it(new a(89,"readOnly",!1)),readOnlyMessage:it(new class ke extends p{constructor(){super(90,"readOnlyMessage",void 0)}validate(Ee){return Ee&&"object"==typeof Ee?Ee:this.defaultValue}}),renameOnType:it(new a(91,"renameOnType",!1,{description:S.NC("renameOnType","Controls whether the editor auto renames on type."),markdownDeprecationMessage:S.NC("renameOnTypeDeprecate","Deprecated, use `editor.linkedEditing` instead.")})),renderControlCharacters:it(new a(92,"renderControlCharacters",!0,{description:S.NC("renderControlCharacters","Controls whether the editor should render control characters."),restricted:!0})),renderFinalNewline:it(new A(93,"renderFinalNewline",r.IJ?"dimmed":"on",["off","on","dimmed"],{description:S.NC("renderFinalNewline","Render last line number when the file ends with a newline.")})),renderLineHighlight:it(new A(94,"renderLineHighlight","line",["none","gutter","line","all"],{enumDescriptions:["","","",S.NC("renderLineHighlight.all","Highlights both the gutter and the current line.")],description:S.NC("renderLineHighlight","Controls how the editor should render the current line highlight.")})),renderLineHighlightOnlyWhenFocus:it(new a(95,"renderLineHighlightOnlyWhenFocus",!1,{description:S.NC("renderLineHighlightOnlyWhenFocus","Controls if the editor should render the current line highlight only when the editor is focused.")})),renderValidationDecorations:it(new A(96,"renderValidationDecorations","editable",["editable","on","off"])),renderWhitespace:it(new A(97,"renderWhitespace","selection",["none","boundary","selection","trailing","all"],{enumDescriptions:["",S.NC("renderWhitespace.boundary","Render whitespace characters except for single spaces between words."),S.NC("renderWhitespace.selection","Render whitespace characters only on selected text."),S.NC("renderWhitespace.trailing","Render only trailing whitespace characters."),""],description:S.NC("renderWhitespace","Controls how the editor should render whitespace characters.")})),revealHorizontalRightPadding:it(new l(98,"revealHorizontalRightPadding",15,0,1e3)),roundedSelection:it(new a(99,"roundedSelection",!0,{description:S.NC("roundedSelection","Controls whether selections should have rounded corners.")})),rulers:it(new class Ce extends p{constructor(){const Ee=[],Te={type:"number",description:S.NC("rulers.size","Number of monospace characters at which this editor ruler will render.")};super(100,"rulers",Ee,{type:"array",items:{anyOf:[Te,{type:["object"],properties:{column:Te,color:{type:"string",description:S.NC("rulers.color","Color of this editor ruler."),format:"color-hex"}}}]},default:Ee,description:S.NC("rulers","Render vertical rulers after a certain number of monospace characters. Use multiple values for multiple rulers. No rulers are drawn if array is empty.")})}validate(Ee){if(Array.isArray(Ee)){const Te=[];for(const Ae of Ee)if("number"==typeof Ae)Te.push({column:l.clampedInt(Ae,0,0,1e4),color:null});else if(Ae&&"object"==typeof Ae){const ht=Ae;Te.push({column:l.clampedInt(ht.column,0,0,1e4),color:ht.color})}return Te.sort((Ae,ht)=>Ae.column-ht.column),Te}return this.defaultValue}}),scrollbar:it(new class xe extends p{constructor(){const Ee={vertical:1,horizontal:1,arrowSize:11,useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,horizontalScrollbarSize:12,horizontalSliderSize:12,verticalScrollbarSize:14,verticalSliderSize:14,handleMouseWheel:!0,alwaysConsumeMouseWheel:!0,scrollByPage:!1};super(101,"scrollbar",Ee,{"editor.scrollbar.vertical":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[S.NC("scrollbar.vertical.auto","The vertical scrollbar will be visible only when necessary."),S.NC("scrollbar.vertical.visible","The vertical scrollbar will always be visible."),S.NC("scrollbar.vertical.fit","The vertical scrollbar will always be hidden.")],default:"auto",description:S.NC("scrollbar.vertical","Controls the visibility of the vertical scrollbar.")},"editor.scrollbar.horizontal":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[S.NC("scrollbar.horizontal.auto","The horizontal scrollbar will be visible only when necessary."),S.NC("scrollbar.horizontal.visible","The horizontal scrollbar will always be visible."),S.NC("scrollbar.horizontal.fit","The horizontal scrollbar will always be hidden.")],default:"auto",description:S.NC("scrollbar.horizontal","Controls the visibility of the horizontal scrollbar.")},"editor.scrollbar.verticalScrollbarSize":{type:"number",default:Ee.verticalScrollbarSize,description:S.NC("scrollbar.verticalScrollbarSize","The width of the vertical scrollbar.")},"editor.scrollbar.horizontalScrollbarSize":{type:"number",default:Ee.horizontalScrollbarSize,description:S.NC("scrollbar.horizontalScrollbarSize","The height of the horizontal scrollbar.")},"editor.scrollbar.scrollByPage":{type:"boolean",default:Ee.scrollByPage,description:S.NC("scrollbar.scrollByPage","Controls whether clicks scroll by page or jump to click position.")}})}validate(Ee){if(!Ee||"object"!=typeof Ee)return this.defaultValue;const Te=Ee,Ae=l.clampedInt(Te.horizontalScrollbarSize,this.defaultValue.horizontalScrollbarSize,0,1e3),ht=l.clampedInt(Te.verticalScrollbarSize,this.defaultValue.verticalScrollbarSize,0,1e3);return{arrowSize:l.clampedInt(Te.arrowSize,this.defaultValue.arrowSize,0,1e3),vertical:Pe(Te.vertical,this.defaultValue.vertical),horizontal:Pe(Te.horizontal,this.defaultValue.horizontal),useShadows:d(Te.useShadows,this.defaultValue.useShadows),verticalHasArrows:d(Te.verticalHasArrows,this.defaultValue.verticalHasArrows),horizontalHasArrows:d(Te.horizontalHasArrows,this.defaultValue.horizontalHasArrows),handleMouseWheel:d(Te.handleMouseWheel,this.defaultValue.handleMouseWheel),alwaysConsumeMouseWheel:d(Te.alwaysConsumeMouseWheel,this.defaultValue.alwaysConsumeMouseWheel),horizontalScrollbarSize:Ae,horizontalSliderSize:l.clampedInt(Te.horizontalSliderSize,Ae,0,1e3),verticalScrollbarSize:ht,verticalSliderSize:l.clampedInt(Te.verticalSliderSize,ht,0,1e3),scrollByPage:d(Te.scrollByPage,this.defaultValue.scrollByPage)}}}),scrollBeyondLastColumn:it(new l(102,"scrollBeyondLastColumn",4,0,1073741824,{description:S.NC("scrollBeyondLastColumn","Controls the number of extra characters beyond which the editor will scroll horizontally.")})),scrollBeyondLastLine:it(new a(103,"scrollBeyondLastLine",!0,{description:S.NC("scrollBeyondLastLine","Controls whether the editor will scroll beyond the last line.")})),scrollPredominantAxis:it(new a(104,"scrollPredominantAxis",!0,{description:S.NC("scrollPredominantAxis","Scroll only along the predominant axis when scrolling both vertically and horizontally at the same time. Prevents horizontal drift when scrolling vertically on a trackpad.")})),selectionClipboard:it(new a(105,"selectionClipboard",!0,{description:S.NC("selectionClipboard","Controls whether the Linux primary clipboard should be supported."),included:r.IJ})),selectionHighlight:it(new a(106,"selectionHighlight",!0,{description:S.NC("selectionHighlight","Controls whether the editor should highlight matches similar to the selection.")})),selectOnLineNumbers:it(new a(107,"selectOnLineNumbers",!0)),showFoldingControls:it(new A(108,"showFoldingControls","mouseover",["always","never","mouseover"],{enumDescriptions:[S.NC("showFoldingControls.always","Always show the folding controls."),S.NC("showFoldingControls.never","Never show the folding controls and reduce the gutter size."),S.NC("showFoldingControls.mouseover","Only show the folding controls when the mouse is over the gutter.")],description:S.NC("showFoldingControls","Controls when the folding controls on the gutter are shown.")})),showUnused:it(new a(109,"showUnused",!0,{description:S.NC("showUnused","Controls fading out of unused code.")})),showDeprecated:it(new a(137,"showDeprecated",!0,{description:S.NC("showDeprecated","Controls strikethrough deprecated variables.")})),inlayHints:it(new class ve extends p{constructor(){const Ee={enabled:"on",fontSize:0,fontFamily:"",padding:!1};super(138,"inlayHints",Ee,{"editor.inlayHints.enabled":{type:"string",default:Ee.enabled,description:S.NC("inlayHints.enable","Enables the inlay hints in the editor."),enum:["on","onUnlessPressed","offUnlessPressed","off"],markdownEnumDescriptions:[S.NC("editor.inlayHints.on","Inlay hints are enabled"),S.NC("editor.inlayHints.onUnlessPressed","Inlay hints are showing by default and hide when holding {0}",r.dz?"Ctrl+Option":"Ctrl+Alt"),S.NC("editor.inlayHints.offUnlessPressed","Inlay hints are hidden by default and show when holding {0}",r.dz?"Ctrl+Option":"Ctrl+Alt"),S.NC("editor.inlayHints.off","Inlay hints are disabled")]},"editor.inlayHints.fontSize":{type:"number",default:Ee.fontSize,markdownDescription:S.NC("inlayHints.fontSize","Controls font size of inlay hints in the editor. As default the {0} is used when the configured value is less than {1} or greater than the editor font size.","`#editor.fontSize#`","`5`")},"editor.inlayHints.fontFamily":{type:"string",default:Ee.fontFamily,markdownDescription:S.NC("inlayHints.fontFamily","Controls font family of inlay hints in the editor. When set to empty, the {0} is used.","`#editor.fontFamily#`")},"editor.inlayHints.padding":{type:"boolean",default:Ee.padding,description:S.NC("inlayHints.padding","Enables the padding around the inlay hints in the editor.")}})}validate(Ee){if(!Ee||"object"!=typeof Ee)return this.defaultValue;const Te=Ee;return"boolean"==typeof Te.enabled&&(Te.enabled=Te.enabled?"on":"off"),{enabled:N(Te.enabled,this.defaultValue.enabled,["on","off","offUnlessPressed","onUnlessPressed"]),fontSize:l.clampedInt(Te.fontSize,this.defaultValue.fontSize,0,100),fontFamily:D.string(Te.fontFamily,this.defaultValue.fontFamily),padding:d(Te.padding,this.defaultValue.padding)}}}),snippetSuggestions:it(new A(110,"snippetSuggestions","inline",["top","bottom","inline","none"],{enumDescriptions:[S.NC("snippetSuggestions.top","Show snippet suggestions on top of other suggestions."),S.NC("snippetSuggestions.bottom","Show snippet suggestions below other suggestions."),S.NC("snippetSuggestions.inline","Show snippets suggestions with other suggestions."),S.NC("snippetSuggestions.none","Do not show snippet suggestions.")],description:S.NC("snippetSuggestions","Controls whether snippets are shown with other suggestions and how they are sorted.")})),smartSelect:it(new class ot extends p{constructor(){super(111,"smartSelect",{selectLeadingAndTrailingWhitespace:!0,selectSubwords:!0},{"editor.smartSelect.selectLeadingAndTrailingWhitespace":{description:S.NC("selectLeadingAndTrailingWhitespace","Whether leading and trailing whitespace should always be selected."),default:!0,type:"boolean"},"editor.smartSelect.selectSubwords":{description:S.NC("selectSubwords","Whether subwords (like 'foo' in 'fooBar' or 'foo_bar') should be selected."),default:!0,type:"boolean"}})}validate(Ee){return Ee&&"object"==typeof Ee?{selectLeadingAndTrailingWhitespace:d(Ee.selectLeadingAndTrailingWhitespace,this.defaultValue.selectLeadingAndTrailingWhitespace),selectSubwords:d(Ee.selectSubwords,this.defaultValue.selectSubwords)}:this.defaultValue}}),smoothScrolling:it(new a(112,"smoothScrolling",!1,{description:S.NC("smoothScrolling","Controls whether the editor will scroll using an animation.")})),stopRenderingLineAfter:it(new l(115,"stopRenderingLineAfter",1e4,-1,1073741824)),suggest:it(new class Je extends p{constructor(){const Ee={insertMode:"insert",filterGraceful:!0,snippetsPreventQuickSuggestions:!1,localityBonus:!1,shareSuggestSelections:!1,selectionMode:"always",showIcons:!0,showStatusBar:!1,preview:!1,previewMode:"subwordSmart",showInlineDetails:!0,showMethods:!0,showFunctions:!0,showConstructors:!0,showDeprecated:!0,matchOnWordStartOnly:!0,showFields:!0,showVariables:!0,showClasses:!0,showStructs:!0,showInterfaces:!0,showModules:!0,showProperties:!0,showEvents:!0,showOperators:!0,showUnits:!0,showValues:!0,showConstants:!0,showEnums:!0,showEnumMembers:!0,showKeywords:!0,showWords:!0,showColors:!0,showFiles:!0,showReferences:!0,showFolders:!0,showTypeParameters:!0,showSnippets:!0,showUsers:!0,showIssues:!0};super(116,"suggest",Ee,{"editor.suggest.insertMode":{type:"string",enum:["insert","replace"],enumDescriptions:[S.NC("suggest.insertMode.insert","Insert suggestion without overwriting text right of the cursor."),S.NC("suggest.insertMode.replace","Insert suggestion and overwrite text right of the cursor.")],default:Ee.insertMode,description:S.NC("suggest.insertMode","Controls whether words are overwritten when accepting completions. Note that this depends on extensions opting into this feature.")},"editor.suggest.filterGraceful":{type:"boolean",default:Ee.filterGraceful,description:S.NC("suggest.filterGraceful","Controls whether filtering and sorting suggestions accounts for small typos.")},"editor.suggest.localityBonus":{type:"boolean",default:Ee.localityBonus,description:S.NC("suggest.localityBonus","Controls whether sorting favors words that appear close to the cursor.")},"editor.suggest.shareSuggestSelections":{type:"boolean",default:Ee.shareSuggestSelections,markdownDescription:S.NC("suggest.shareSuggestSelections","Controls whether remembered suggestion selections are shared between multiple workspaces and windows (needs `#editor.suggestSelection#`).")},"editor.suggest.selectionMode":{type:"string",enum:["always","never","whenTriggerCharacter","whenQuickSuggestion"],enumDescriptions:[S.NC("suggest.insertMode.always","Always select a suggestion when automatically triggering IntelliSense."),S.NC("suggest.insertMode.never","Never select a suggestion when automatically triggering IntelliSense."),S.NC("suggest.insertMode.whenTriggerCharacter","Select a suggestion only when triggering IntelliSense from a trigger character."),S.NC("suggest.insertMode.whenQuickSuggestion","Select a suggestion only when triggering IntelliSense as you type.")],default:Ee.selectionMode,markdownDescription:S.NC("suggest.selectionMode","Controls whether a suggestion is selected when the widget shows. Note that this only applies to automatically triggered suggestions (`#editor.quickSuggestions#` and `#editor.suggestOnTriggerCharacters#`) and that a suggestion is always selected when explicitly invoked, e.g via `Ctrl+Space`.")},"editor.suggest.snippetsPreventQuickSuggestions":{type:"boolean",default:Ee.snippetsPreventQuickSuggestions,description:S.NC("suggest.snippetsPreventQuickSuggestions","Controls whether an active snippet prevents quick suggestions.")},"editor.suggest.showIcons":{type:"boolean",default:Ee.showIcons,description:S.NC("suggest.showIcons","Controls whether to show or hide icons in suggestions.")},"editor.suggest.showStatusBar":{type:"boolean",default:Ee.showStatusBar,description:S.NC("suggest.showStatusBar","Controls the visibility of the status bar at the bottom of the suggest widget.")},"editor.suggest.preview":{type:"boolean",default:Ee.preview,description:S.NC("suggest.preview","Controls whether to preview the suggestion outcome in the editor.")},"editor.suggest.showInlineDetails":{type:"boolean",default:Ee.showInlineDetails,description:S.NC("suggest.showInlineDetails","Controls whether suggest details show inline with the label or only in the details widget.")},"editor.suggest.maxVisibleSuggestions":{type:"number",deprecationMessage:S.NC("suggest.maxVisibleSuggestions.dep","This setting is deprecated. The suggest widget can now be resized.")},"editor.suggest.filteredTypes":{type:"object",deprecationMessage:S.NC("deprecated","This setting is deprecated, please use separate settings like 'editor.suggest.showKeywords' or 'editor.suggest.showSnippets' instead.")},"editor.suggest.showMethods":{type:"boolean",default:!0,markdownDescription:S.NC("editor.suggest.showMethods","When enabled IntelliSense shows `method`-suggestions.")},"editor.suggest.showFunctions":{type:"boolean",default:!0,markdownDescription:S.NC("editor.suggest.showFunctions","When enabled IntelliSense shows `function`-suggestions.")},"editor.suggest.showConstructors":{type:"boolean",default:!0,markdownDescription:S.NC("editor.suggest.showConstructors","When enabled IntelliSense shows `constructor`-suggestions.")},"editor.suggest.showDeprecated":{type:"boolean",default:!0,markdownDescription:S.NC("editor.suggest.showDeprecated","When enabled IntelliSense shows `deprecated`-suggestions.")},"editor.suggest.matchOnWordStartOnly":{type:"boolean",default:!0,markdownDescription:S.NC("editor.suggest.matchOnWordStartOnly","When enabled IntelliSense filtering requires that the first character matches on a word start. For example, `c` on `Console` or `WebContext` but _not_ on `description`. When disabled IntelliSense will show more results but still sorts them by match quality.")},"editor.suggest.showFields":{type:"boolean",default:!0,markdownDescription:S.NC("editor.suggest.showFields","When enabled IntelliSense shows `field`-suggestions.")},"editor.suggest.showVariables":{type:"boolean",default:!0,markdownDescription:S.NC("editor.suggest.showVariables","When enabled IntelliSense shows `variable`-suggestions.")},"editor.suggest.showClasses":{type:"boolean",default:!0,markdownDescription:S.NC("editor.suggest.showClasss","When enabled IntelliSense shows `class`-suggestions.")},"editor.suggest.showStructs":{type:"boolean",default:!0,markdownDescription:S.NC("editor.suggest.showStructs","When enabled IntelliSense shows `struct`-suggestions.")},"editor.suggest.showInterfaces":{type:"boolean",default:!0,markdownDescription:S.NC("editor.suggest.showInterfaces","When enabled IntelliSense shows `interface`-suggestions.")},"editor.suggest.showModules":{type:"boolean",default:!0,markdownDescription:S.NC("editor.suggest.showModules","When enabled IntelliSense shows `module`-suggestions.")},"editor.suggest.showProperties":{type:"boolean",default:!0,markdownDescription:S.NC("editor.suggest.showPropertys","When enabled IntelliSense shows `property`-suggestions.")},"editor.suggest.showEvents":{type:"boolean",default:!0,markdownDescription:S.NC("editor.suggest.showEvents","When enabled IntelliSense shows `event`-suggestions.")},"editor.suggest.showOperators":{type:"boolean",default:!0,markdownDescription:S.NC("editor.suggest.showOperators","When enabled IntelliSense shows `operator`-suggestions.")},"editor.suggest.showUnits":{type:"boolean",default:!0,markdownDescription:S.NC("editor.suggest.showUnits","When enabled IntelliSense shows `unit`-suggestions.")},"editor.suggest.showValues":{type:"boolean",default:!0,markdownDescription:S.NC("editor.suggest.showValues","When enabled IntelliSense shows `value`-suggestions.")},"editor.suggest.showConstants":{type:"boolean",default:!0,markdownDescription:S.NC("editor.suggest.showConstants","When enabled IntelliSense shows `constant`-suggestions.")},"editor.suggest.showEnums":{type:"boolean",default:!0,markdownDescription:S.NC("editor.suggest.showEnums","When enabled IntelliSense shows `enum`-suggestions.")},"editor.suggest.showEnumMembers":{type:"boolean",default:!0,markdownDescription:S.NC("editor.suggest.showEnumMembers","When enabled IntelliSense shows `enumMember`-suggestions.")},"editor.suggest.showKeywords":{type:"boolean",default:!0,markdownDescription:S.NC("editor.suggest.showKeywords","When enabled IntelliSense shows `keyword`-suggestions.")},"editor.suggest.showWords":{type:"boolean",default:!0,markdownDescription:S.NC("editor.suggest.showTexts","When enabled IntelliSense shows `text`-suggestions.")},"editor.suggest.showColors":{type:"boolean",default:!0,markdownDescription:S.NC("editor.suggest.showColors","When enabled IntelliSense shows `color`-suggestions.")},"editor.suggest.showFiles":{type:"boolean",default:!0,markdownDescription:S.NC("editor.suggest.showFiles","When enabled IntelliSense shows `file`-suggestions.")},"editor.suggest.showReferences":{type:"boolean",default:!0,markdownDescription:S.NC("editor.suggest.showReferences","When enabled IntelliSense shows `reference`-suggestions.")},"editor.suggest.showCustomcolors":{type:"boolean",default:!0,markdownDescription:S.NC("editor.suggest.showCustomcolors","When enabled IntelliSense shows `customcolor`-suggestions.")},"editor.suggest.showFolders":{type:"boolean",default:!0,markdownDescription:S.NC("editor.suggest.showFolders","When enabled IntelliSense shows `folder`-suggestions.")},"editor.suggest.showTypeParameters":{type:"boolean",default:!0,markdownDescription:S.NC("editor.suggest.showTypeParameters","When enabled IntelliSense shows `typeParameter`-suggestions.")},"editor.suggest.showSnippets":{type:"boolean",default:!0,markdownDescription:S.NC("editor.suggest.showSnippets","When enabled IntelliSense shows `snippet`-suggestions.")},"editor.suggest.showUsers":{type:"boolean",default:!0,markdownDescription:S.NC("editor.suggest.showUsers","When enabled IntelliSense shows `user`-suggestions.")},"editor.suggest.showIssues":{type:"boolean",default:!0,markdownDescription:S.NC("editor.suggest.showIssues","When enabled IntelliSense shows `issues`-suggestions.")}})}validate(Ee){if(!Ee||"object"!=typeof Ee)return this.defaultValue;const Te=Ee;return{insertMode:N(Te.insertMode,this.defaultValue.insertMode,["insert","replace"]),filterGraceful:d(Te.filterGraceful,this.defaultValue.filterGraceful),snippetsPreventQuickSuggestions:d(Te.snippetsPreventQuickSuggestions,this.defaultValue.filterGraceful),localityBonus:d(Te.localityBonus,this.defaultValue.localityBonus),shareSuggestSelections:d(Te.shareSuggestSelections,this.defaultValue.shareSuggestSelections),selectionMode:N(Te.selectionMode,this.defaultValue.selectionMode,["always","never","whenQuickSuggestion","whenTriggerCharacter"]),showIcons:d(Te.showIcons,this.defaultValue.showIcons),showStatusBar:d(Te.showStatusBar,this.defaultValue.showStatusBar),preview:d(Te.preview,this.defaultValue.preview),previewMode:N(Te.previewMode,this.defaultValue.previewMode,["prefix","subword","subwordSmart"]),showInlineDetails:d(Te.showInlineDetails,this.defaultValue.showInlineDetails),showMethods:d(Te.showMethods,this.defaultValue.showMethods),showFunctions:d(Te.showFunctions,this.defaultValue.showFunctions),showConstructors:d(Te.showConstructors,this.defaultValue.showConstructors),showDeprecated:d(Te.showDeprecated,this.defaultValue.showDeprecated),matchOnWordStartOnly:d(Te.matchOnWordStartOnly,this.defaultValue.matchOnWordStartOnly),showFields:d(Te.showFields,this.defaultValue.showFields),showVariables:d(Te.showVariables,this.defaultValue.showVariables),showClasses:d(Te.showClasses,this.defaultValue.showClasses),showStructs:d(Te.showStructs,this.defaultValue.showStructs),showInterfaces:d(Te.showInterfaces,this.defaultValue.showInterfaces),showModules:d(Te.showModules,this.defaultValue.showModules),showProperties:d(Te.showProperties,this.defaultValue.showProperties),showEvents:d(Te.showEvents,this.defaultValue.showEvents),showOperators:d(Te.showOperators,this.defaultValue.showOperators),showUnits:d(Te.showUnits,this.defaultValue.showUnits),showValues:d(Te.showValues,this.defaultValue.showValues),showConstants:d(Te.showConstants,this.defaultValue.showConstants),showEnums:d(Te.showEnums,this.defaultValue.showEnums),showEnumMembers:d(Te.showEnumMembers,this.defaultValue.showEnumMembers),showKeywords:d(Te.showKeywords,this.defaultValue.showKeywords),showWords:d(Te.showWords,this.defaultValue.showWords),showColors:d(Te.showColors,this.defaultValue.showColors),showFiles:d(Te.showFiles,this.defaultValue.showFiles),showReferences:d(Te.showReferences,this.defaultValue.showReferences),showFolders:d(Te.showFolders,this.defaultValue.showFolders),showTypeParameters:d(Te.showTypeParameters,this.defaultValue.showTypeParameters),showSnippets:d(Te.showSnippets,this.defaultValue.showSnippets),showUsers:d(Te.showUsers,this.defaultValue.showUsers),showIssues:d(Te.showIssues,this.defaultValue.showIssues)}}}),inlineSuggest:it(new class Q extends p{constructor(){const Ee={enabled:!0,mode:"subwordSmart",showToolbar:"onHover",suppressSuggestions:!1,keepOnBlur:!1};super(61,"inlineSuggest",Ee,{"editor.inlineSuggest.enabled":{type:"boolean",default:Ee.enabled,description:S.NC("inlineSuggest.enabled","Controls whether to automatically show inline suggestions in the editor.")},"editor.inlineSuggest.showToolbar":{type:"string",default:Ee.showToolbar,enum:["always","onHover"],enumDescriptions:[S.NC("inlineSuggest.showToolbar.always","Show the inline suggestion toolbar whenever an inline suggestion is shown."),S.NC("inlineSuggest.showToolbar.onHover","Show the inline suggestion toolbar when hovering over an inline suggestion.")],description:S.NC("inlineSuggest.showToolbar","Controls when to show the inline suggestion toolbar.")},"editor.inlineSuggest.suppressSuggestions":{type:"boolean",default:Ee.suppressSuggestions,description:S.NC("inlineSuggest.suppressSuggestions","Controls how inline suggestions interact with the suggest widget. If enabled, the suggest widget is not shown automatically when inline suggestions are available.")}})}validate(Ee){if(!Ee||"object"!=typeof Ee)return this.defaultValue;const Te=Ee;return{enabled:d(Te.enabled,this.defaultValue.enabled),mode:N(Te.mode,this.defaultValue.mode,["prefix","subword","subwordSmart"]),showToolbar:N(Te.showToolbar,this.defaultValue.showToolbar,["always","onHover"]),suppressSuggestions:d(Te.suppressSuggestions,this.defaultValue.suppressSuggestions),keepOnBlur:d(Te.keepOnBlur,this.defaultValue.keepOnBlur)}}}),inlineCompletionsAccessibilityVerbose:it(new a(146,"inlineCompletionsAccessibilityVerbose",!1,{description:S.NC("inlineCompletionsAccessibilityVerbose","Controls whether the accessibility hint should be provided to screen reader users when an inline completion is shown.")})),suggestFontSize:it(new l(117,"suggestFontSize",0,0,1e3,{markdownDescription:S.NC("suggestFontSize","Font size for the suggest widget. When set to {0}, the value of {1} is used.","`0`","`#editor.fontSize#`")})),suggestLineHeight:it(new l(118,"suggestLineHeight",0,0,1e3,{markdownDescription:S.NC("suggestLineHeight","Line height for the suggest widget. When set to {0}, the value of {1} is used. The minimum value is 8.","`0`","`#editor.lineHeight#`")})),suggestOnTriggerCharacters:it(new a(119,"suggestOnTriggerCharacters",!0,{description:S.NC("suggestOnTriggerCharacters","Controls whether suggestions should automatically show up when typing trigger characters.")})),suggestSelection:it(new A(120,"suggestSelection","first",["first","recentlyUsed","recentlyUsedByPrefix"],{markdownEnumDescriptions:[S.NC("suggestSelection.first","Always select the first suggestion."),S.NC("suggestSelection.recentlyUsed","Select recent suggestions unless further typing selects one, e.g. `console.| -> console.log` because `log` has been completed recently."),S.NC("suggestSelection.recentlyUsedByPrefix","Select suggestions based on previous prefixes that have completed those suggestions, e.g. `co -> console` and `con -> const`.")],description:S.NC("suggestSelection","Controls how suggestions are pre-selected when showing the suggest list.")})),tabCompletion:it(new A(121,"tabCompletion","off",["on","off","onlySnippets"],{enumDescriptions:[S.NC("tabCompletion.on","Tab complete will insert the best matching suggestion when pressing tab."),S.NC("tabCompletion.off","Disable tab completions."),S.NC("tabCompletion.onlySnippets","Tab complete snippets when their prefix match. Works best when 'quickSuggestions' aren't enabled.")],description:S.NC("tabCompletion","Enables tab completions.")})),tabIndex:it(new l(122,"tabIndex",0,-1,1073741824)),unicodeHighlight:it(new class pe extends p{constructor(){const Ee={nonBasicASCII:fe,invisibleCharacters:!0,ambiguousCharacters:!0,includeComments:fe,includeStrings:!0,allowedCharacters:{},allowedLocales:{_os:!0,_vscode:!0}};super(123,"unicodeHighlight",Ee,{[be.nonBasicASCII]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,fe],default:Ee.nonBasicASCII,description:S.NC("unicodeHighlight.nonBasicASCII","Controls whether all non-basic ASCII characters are highlighted. Only characters between U+0020 and U+007E, tab, line-feed and carriage-return are considered basic ASCII.")},[be.invisibleCharacters]:{restricted:!0,type:"boolean",default:Ee.invisibleCharacters,description:S.NC("unicodeHighlight.invisibleCharacters","Controls whether characters that just reserve space or have no width at all are highlighted.")},[be.ambiguousCharacters]:{restricted:!0,type:"boolean",default:Ee.ambiguousCharacters,description:S.NC("unicodeHighlight.ambiguousCharacters","Controls whether characters are highlighted that can be confused with basic ASCII characters, except those that are common in the current user locale.")},[be.includeComments]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,fe],default:Ee.includeComments,description:S.NC("unicodeHighlight.includeComments","Controls whether characters in comments should also be subject to Unicode highlighting.")},[be.includeStrings]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,fe],default:Ee.includeStrings,description:S.NC("unicodeHighlight.includeStrings","Controls whether characters in strings should also be subject to Unicode highlighting.")},[be.allowedCharacters]:{restricted:!0,type:"object",default:Ee.allowedCharacters,description:S.NC("unicodeHighlight.allowedCharacters","Defines allowed characters that are not being highlighted."),additionalProperties:{type:"boolean"}},[be.allowedLocales]:{restricted:!0,type:"object",additionalProperties:{type:"boolean"},default:Ee.allowedLocales,description:S.NC("unicodeHighlight.allowedLocales","Unicode characters that are common in allowed locales are not being highlighted.")}})}applyUpdate(Ee,Te){let Ae=!1;Te.allowedCharacters&&Ee&&(P.fS(Ee.allowedCharacters,Te.allowedCharacters)||(Ee=Object.assign(Object.assign({},Ee),{allowedCharacters:Te.allowedCharacters}),Ae=!0)),Te.allowedLocales&&Ee&&(P.fS(Ee.allowedLocales,Te.allowedLocales)||(Ee=Object.assign(Object.assign({},Ee),{allowedLocales:Te.allowedLocales}),Ae=!0));const ht=super.applyUpdate(Ee,Te);return Ae?new c(ht.newValue,!0):ht}validate(Ee){if(!Ee||"object"!=typeof Ee)return this.defaultValue;const Te=Ee;return{nonBasicASCII:He(Te.nonBasicASCII,fe,[!0,!1,fe]),invisibleCharacters:d(Te.invisibleCharacters,this.defaultValue.invisibleCharacters),ambiguousCharacters:d(Te.ambiguousCharacters,this.defaultValue.ambiguousCharacters),includeComments:He(Te.includeComments,fe,[!0,!1,fe]),includeStrings:He(Te.includeStrings,fe,[!0,!1,fe]),allowedCharacters:this.validateBooleanMap(Ee.allowedCharacters,this.defaultValue.allowedCharacters),allowedLocales:this.validateBooleanMap(Ee.allowedLocales,this.defaultValue.allowedLocales)}}validateBooleanMap(Ee,Te){if("object"!=typeof Ee||!Ee)return Te;const Ae={};for(const[ht,yt]of Object.entries(Ee))!0===yt&&(Ae[ht]=!0);return Ae}}),unusualLineTerminators:it(new A(124,"unusualLineTerminators","prompt",["auto","off","prompt"],{enumDescriptions:[S.NC("unusualLineTerminators.auto","Unusual line terminators are automatically removed."),S.NC("unusualLineTerminators.off","Unusual line terminators are ignored."),S.NC("unusualLineTerminators.prompt","Unusual line terminators prompt to be removed.")],description:S.NC("unusualLineTerminators","Remove unusual line terminators that might cause problems.")})),useShadowDOM:it(new a(125,"useShadowDOM",!0)),useTabStops:it(new a(126,"useTabStops",!0,{description:S.NC("useTabStops","Inserting and deleting whitespace follows tab stops.")})),wordBreak:it(new A(127,"wordBreak","normal",["normal","keepAll"],{markdownEnumDescriptions:[S.NC("wordBreak.normal","Use the default line break rule."),S.NC("wordBreak.keepAll","Word breaks should not be used for Chinese/Japanese/Korean (CJK) text. Non-CJK text behavior is the same as for normal.")],description:S.NC("wordBreak","Controls the word break rules used for Chinese/Japanese/Korean (CJK) text.")})),wordSeparators:it(new D(128,"wordSeparators",v.vu,{description:S.NC("wordSeparators","Characters that will be used as word separators when doing word related navigations or operations.")})),wordWrap:it(new A(129,"wordWrap","off",["off","on","wordWrapColumn","bounded"],{markdownEnumDescriptions:[S.NC("wordWrap.off","Lines will never wrap."),S.NC("wordWrap.on","Lines will wrap at the viewport width."),S.NC({key:"wordWrap.wordWrapColumn",comment:["- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at `#editor.wordWrapColumn#`."),S.NC({key:"wordWrap.bounded",comment:["- viewport means the edge of the visible window size.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at the minimum of viewport and `#editor.wordWrapColumn#`.")],description:S.NC({key:"wordWrap",comment:["- 'off', 'on', 'wordWrapColumn' and 'bounded' refer to values the setting can take and should not be localized.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Controls how lines should wrap.")})),wordWrapBreakAfterCharacters:it(new D(130,"wordWrapBreakAfterCharacters"," \t})]?|/&.,;\xa2\xb0\u2032\u2033\u2030\u2103\u3001\u3002\uff61\uff64\uffe0\uff0c\uff0e\uff1a\uff1b\uff1f\uff01\uff05\u30fb\uff65\u309d\u309e\u30fd\u30fe\u30fc\u30a1\u30a3\u30a5\u30a7\u30a9\u30c3\u30e3\u30e5\u30e7\u30ee\u30f5\u30f6\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308e\u3095\u3096\u31f0\u31f1\u31f2\u31f3\u31f4\u31f5\u31f6\u31f7\u31f8\u31f9\u31fa\u31fb\u31fc\u31fd\u31fe\u31ff\u3005\u303b\uff67\uff68\uff69\uff6a\uff6b\uff6c\uff6d\uff6e\uff6f\uff70\u201d\u3009\u300b\u300d\u300f\u3011\u3015\uff09\uff3d\uff5d\uff63")),wordWrapBreakBeforeCharacters:it(new D(131,"wordWrapBreakBeforeCharacters","([{\u2018\u201c\u3008\u300a\u300c\u300e\u3010\u3014\uff08\uff3b\uff5b\uff62\xa3\xa5\uff04\uffe1\uffe5+\uff0b")),wordWrapColumn:it(new l(132,"wordWrapColumn",80,1,1073741824,{markdownDescription:S.NC({key:"wordWrapColumn",comment:["- `editor.wordWrap` refers to a different setting and should not be localized.","- 'wordWrapColumn' and 'bounded' refer to values the different setting can take and should not be localized."]},"Controls the wrapping column of the editor when `#editor.wordWrap#` is `wordWrapColumn` or `bounded`.")})),wordWrapOverride1:it(new A(133,"wordWrapOverride1","inherit",["off","on","inherit"])),wordWrapOverride2:it(new A(134,"wordWrapOverride2","inherit",["off","on","inherit"])),editorClassName:it(new class B extends g{constructor(){super(139)}compute(Ee,Te,Ae){const ht=["monaco-editor"];return Te.get(38)&&ht.push(Te.get(38)),Ee.extraEditorClassName&&ht.push(Ee.extraEditorClassName),"default"===Te.get(72)?ht.push("mouse-default"):"copy"===Te.get(72)&&ht.push("mouse-copy"),Te.get(109)&&ht.push("showUnused"),Te.get(137)&&ht.push("showDeprecated"),ht.join(" ")}}),defaultColorDecorators:it(new a(144,"defaultColorDecorators",!1,{markdownDescription:S.NC("defaultColorDecorators","Controls whether inline color decorations should be shown using the default document color provider")})),pixelRatio:it(new class Y extends g{constructor(){super(140)}compute(Ee,Te,Ae){return Ee.pixelRatio}}),tabFocusMode:it(new a(141,"tabFocusMode",!1,{markdownDescription:S.NC("tabFocusMode","Controls whether the editor receives tabs or defers them to the workbench for navigation.")})),layoutInfo:it(new ae),wrappingInfo:it(new class mt extends g{constructor(){super(143)}compute(Ee,Te,Ae){const ht=Te.get(142);return{isDominatedByLongLines:Ee.isDominatedByLongLines,isWordWrapMinified:ht.isWordWrapMinified,isViewportWrapping:ht.isViewportWrapping,wrappingColumn:ht.wrappingColumn}}}),wrappingIndent:it(new class lt extends p{constructor(){super(135,"wrappingIndent",1,{"editor.wrappingIndent":{type:"string",enum:["none","same","indent","deepIndent"],enumDescriptions:[S.NC("wrappingIndent.none","No indentation. Wrapped lines begin at column 1."),S.NC("wrappingIndent.same","Wrapped lines get the same indentation as the parent."),S.NC("wrappingIndent.indent","Wrapped lines get +1 indentation toward the parent."),S.NC("wrappingIndent.deepIndent","Wrapped lines get +2 indentation toward the parent.")],description:S.NC("wrappingIndent","Controls the indentation of wrapped lines."),default:"same"}})}validate(Ee){switch(Ee){case"none":return 0;case"same":return 1;case"indent":return 2;case"deepIndent":return 3}return 1}compute(Ee,Te,Ae){return 2===Te.get(2)?0:Ae}}),wrappingStrategy:it(new class ge extends p{constructor(){super(136,"wrappingStrategy","simple",{"editor.wrappingStrategy":{enumDescriptions:[S.NC("wrappingStrategy.simple","Assumes that all characters are of the same width. This is a fast algorithm that works correctly for monospace fonts and certain scripts (like Latin characters) where glyphs are of equal width."),S.NC("wrappingStrategy.advanced","Delegates wrapping points computation to the browser. This is a slow algorithm, that might cause freezes for large files, but it works correctly in all cases.")],type:"string",enum:["simple","advanced"],default:"simple",description:S.NC("wrappingStrategy","Controls the algorithm that computes wrapping points. Note that when in accessibility mode, advanced will be used for the best experience.")}})}validate(Ee){return N(Ee,"simple",["simple","advanced"])}compute(Ee,Te,Ae){return 2===Te.get(2)?"advanced":Ae}})}},24558:(Xe,we,e)=>{e.d(we,{C:()=>P});var f=e(58178);const P=new class{constructor(){this._zoomLevel=0,this._onDidChangeZoomLevel=new f.Q5,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event}getZoomLevel(){return this._zoomLevel}setZoomLevel(r){r=Math.min(Math.max(-5,r),20),this._zoomLevel!==r&&(this._zoomLevel=r,this._onDidChangeZoomLevel.fire(this._zoomLevel))}}},25349:(Xe,we,e)=>{e.d(we,{E4:()=>S,pR:()=>E});var f=e(88593),P=e(36413),r=e(24558);const y=f.dz?1.5:1.35;class S{static createFromValidatedSettings(p,c,u){const g=p.get(48),i=p.get(52),d=p.get(51),a=p.get(50),m=p.get(53),l=p.get(65),I=p.get(62);return S._create(g,i,d,a,m,l,I,c,u)}static _create(p,c,u,g,i,d,a,m,l){0===d?d=y*u:d<8&&(d*=u),(d=Math.round(d))<8&&(d=8);const I=1+(l?0:.1*r.C.getZoomLevel());return u*=I,d*=I,i===P.Bo.TRANSLATE&&("normal"===c||"bold"===c?i=P.Bo.OFF:(i=`'wght' ${parseInt(c,10)}`,c="normal")),new S({pixelRatio:m,fontFamily:p,fontWeight:c,fontSize:u,fontFeatureSettings:g,fontVariationSettings:i,lineHeight:d,letterSpacing:a})}constructor(p){this._bareFontInfoBrand=void 0,this.pixelRatio=p.pixelRatio,this.fontFamily=String(p.fontFamily),this.fontWeight=String(p.fontWeight),this.fontSize=p.fontSize,this.fontFeatureSettings=p.fontFeatureSettings,this.fontVariationSettings=p.fontVariationSettings,this.lineHeight=0|p.lineHeight,this.letterSpacing=p.letterSpacing}getId(){return`${this.pixelRatio}-${this.fontFamily}-${this.fontWeight}-${this.fontSize}-${this.fontFeatureSettings}-${this.fontVariationSettings}-${this.lineHeight}-${this.letterSpacing}`}getMassagedFontFamily(){const p=P.hL.fontFamily,c=S._wrapInQuotes(this.fontFamily);return p&&this.fontFamily!==p?`${c}, ${p}`:c}static _wrapInQuotes(p){return/[,"']/.test(p)?p:/[+ ]/.test(p)?`"${p}"`:p}}class E extends S{constructor(p,c){super(p),this._editorStylingBrand=void 0,this.version=2,this.isTrusted=c,this.isMonospace=p.isMonospace,this.typicalHalfwidthCharacterWidth=p.typicalHalfwidthCharacterWidth,this.typicalFullwidthCharacterWidth=p.typicalFullwidthCharacterWidth,this.canUseHalfwidthRightwardsArrow=p.canUseHalfwidthRightwardsArrow,this.spaceWidth=p.spaceWidth,this.middotWidth=p.middotWidth,this.wsmiddotWidth=p.wsmiddotWidth,this.maxDigitWidth=p.maxDigitWidth}equals(p){return this.fontFamily===p.fontFamily&&this.fontWeight===p.fontWeight&&this.fontSize===p.fontSize&&this.fontFeatureSettings===p.fontFeatureSettings&&this.fontVariationSettings===p.fontVariationSettings&&this.lineHeight===p.lineHeight&&this.letterSpacing===p.letterSpacing&&this.typicalHalfwidthCharacterWidth===p.typicalHalfwidthCharacterWidth&&this.typicalFullwidthCharacterWidth===p.typicalFullwidthCharacterWidth&&this.canUseHalfwidthRightwardsArrow===p.canUseHalfwidthRightwardsArrow&&this.spaceWidth===p.spaceWidth&&this.middotWidth===p.middotWidth&&this.wsmiddotWidth===p.wsmiddotWidth&&this.maxDigitWidth===p.maxDigitWidth}}},32583:(Xe,we,e)=>{e.d(we,{N:()=>P,q:()=>r});var f=e(7309);class P{constructor(v){const S=(0,f.K)(v);this._defaultValue=S,this._asciiMap=P._createAsciiMap(S),this._map=new Map}static _createAsciiMap(v){const S=new Uint8Array(256);return S.fill(v),S}set(v,S){const T=(0,f.K)(S);v>=0&&v<256?this._asciiMap[v]=T:this._map.set(v,T)}get(v){return v>=0&&v<256?this._asciiMap[v]:this._map.get(v)||this._defaultValue}clear(){this._asciiMap.fill(this._defaultValue),this._map.clear()}}class r{constructor(){this._actual=new P(0)}add(v){this._actual.set(v,1)}has(v){return 1===this._actual.get(v)}clear(){return this._actual.clear()}}},96678:(Xe,we,e)=>{e.d(we,{i:()=>P});var f=e(16055);class P{static _nextVisibleColumn(y,v,S){return 9===y?P.nextRenderTabStop(v,S):f.K7(y)||f.C8(y)?v+2:v+1}static visibleColumnFromColumn(y,v,S){const T=Math.min(v-1,y.length),E=y.substring(0,T),L=new f.W1(E);let p=0;for(;!L.eol();){const c=f.ZH(E,T,L.offset);L.nextGraphemeLength(),p=this._nextVisibleColumn(c,p,S)}return p}static columnFromVisibleColumn(y,v,S){if(v<=0)return 1;const T=y.length,E=new f.W1(y);let L=0,p=1;for(;!E.eol();){const c=f.ZH(y,T,E.offset);E.nextGraphemeLength();const u=this._nextVisibleColumn(c,L,S),g=E.offset+1;if(u>=v)return u-v<v-L?g:p;L=u,p=g}return T+1}static nextRenderTabStop(y,v){return y+v-y%v}static nextIndentTabStop(y,v){return y+v-y%v}static prevRenderTabStop(y,v){return Math.max(0,y-1-(y-1)%v)}static prevIndentTabStop(y,v){return Math.max(0,y-1-(y-1)%v)}}},20158:(Xe,we,e)=>{e.d(we,{h:()=>P});var f=e(96726);class P{static insert(y,v){return{range:new f.e(y.lineNumber,y.column,y.lineNumber,y.column),text:v,forceMoveMarkers:!0}}static delete(y){return{range:y,text:null}}static replace(y,v){return{range:y,text:v}}static replaceMove(y,v){return{range:y,text:v,forceMoveMarkers:!0}}}},2857:(Xe,we,e)=>{e.d(we,{Bj:()=>B,CE:()=>oe,DS:()=>Pe,HV:()=>He,H_:()=>I,Jn:()=>fe,Kh:()=>v,L7:()=>Fe,Mm:()=>S,N8:()=>O,Qb:()=>pe,Re:()=>Se,Tf:()=>l,To:()=>le,UP:()=>Y,Vs:()=>ye,Xy:()=>k,YF:()=>be,cK:()=>R,dI:()=>g,e9:()=>N,eS:()=>Ve,e_:()=>J,f9:()=>Je,fY:()=>u,gS:()=>m,h1:()=>w,hw:()=>i,lK:()=>Ie,lS:()=>xe,ll:()=>z,m$:()=>ke,m1:()=>F,m3:()=>Q,m9:()=>ve,n0:()=>c,oV:()=>Ce,qe:()=>A,r0:()=>x,ts:()=>ie,vP:()=>D,zJ:()=>De,zd:()=>W,zu:()=>_,zw:()=>K});var f=e(37190),P=e(90888),r=e(99745),y=e(23527);const v=(0,r.P6G)("editor.lineHighlightBackground",{dark:null,light:null,hcDark:null,hcLight:null},f.NC("lineHighlight","Background color for the highlight of line at the cursor position.")),S=(0,r.P6G)("editor.lineHighlightBorder",{dark:"#282828",light:"#eeeeee",hcDark:"#f38518",hcLight:r.lRK},f.NC("lineHighlightBorderBox","Background color for the border around the line at the cursor position.")),c=((0,r.P6G)("editor.rangeHighlightBackground",{dark:"#ffffff0b",light:"#fdff0033",hcDark:null,hcLight:null},f.NC("rangeHighlight","Background color of highlighted ranges, like by quick open and find features. The color must not be opaque so as not to hide underlying decorations."),!0),(0,r.P6G)("editor.rangeHighlightBorder",{dark:null,light:null,hcDark:r.xL1,hcLight:r.xL1},f.NC("rangeHighlightBorder","Background color of the border around highlighted ranges."),!0),(0,r.P6G)("editor.symbolHighlightBackground",{dark:r.MUv,light:r.MUv,hcDark:null,hcLight:null},f.NC("symbolHighlight","Background color of highlighted symbol, like for go to definition or go next/previous symbol. The color must not be opaque so as not to hide underlying decorations."),!0),(0,r.P6G)("editor.symbolHighlightBorder",{dark:null,light:null,hcDark:r.xL1,hcLight:r.xL1},f.NC("symbolHighlightBorder","Background color of the border around highlighted symbols."),!0),(0,r.P6G)("editorCursor.foreground",{dark:"#AEAFAD",light:P.Il.black,hcDark:P.Il.white,hcLight:"#0F4A85"},f.NC("caret","Color of the editor cursor."))),u=(0,r.P6G)("editorCursor.background",null,f.NC("editorCursorBackground","The background color of the editor cursor. Allows customizing the color of a character overlapped by a block cursor.")),g=(0,r.P6G)("editorWhitespace.foreground",{dark:"#e3e4e229",light:"#33333333",hcDark:"#e3e4e229",hcLight:"#CCCCCC"},f.NC("editorWhitespaces","Color of whitespace characters in the editor.")),i=(0,r.P6G)("editorLineNumber.foreground",{dark:"#858585",light:"#237893",hcDark:P.Il.white,hcLight:"#292929"},f.NC("editorLineNumbers","Color of editor line numbers.")),d=(0,r.P6G)("editorIndentGuide.background",{dark:g,light:g,hcDark:g,hcLight:g},f.NC("editorIndentGuides","Color of the editor indentation guides."),!1,f.NC("deprecatedEditorIndentGuides","'editorIndentGuide.background' is deprecated. Use 'editorIndentGuide.background1' instead.")),a=(0,r.P6G)("editorIndentGuide.activeBackground",{dark:g,light:g,hcDark:g,hcLight:g},f.NC("editorActiveIndentGuide","Color of the active editor indentation guides."),!1,f.NC("deprecatedEditorActiveIndentGuide","'editorIndentGuide.activeBackground' is deprecated. Use 'editorIndentGuide.activeBackground1' instead.")),m=(0,r.P6G)("editorIndentGuide.background1",{dark:d,light:d,hcDark:d,hcLight:d},f.NC("editorIndentGuides1","Color of the editor indentation guides (1).")),l=(0,r.P6G)("editorIndentGuide.background2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f.NC("editorIndentGuides2","Color of the editor indentation guides (2).")),I=(0,r.P6G)("editorIndentGuide.background3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f.NC("editorIndentGuides3","Color of the editor indentation guides (3).")),w=(0,r.P6G)("editorIndentGuide.background4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f.NC("editorIndentGuides4","Color of the editor indentation guides (4).")),D=(0,r.P6G)("editorIndentGuide.background5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f.NC("editorIndentGuides5","Color of the editor indentation guides (5).")),N=(0,r.P6G)("editorIndentGuide.background6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f.NC("editorIndentGuides6","Color of the editor indentation guides (6).")),A=(0,r.P6G)("editorIndentGuide.activeBackground1",{dark:a,light:a,hcDark:a,hcLight:a},f.NC("editorActiveIndentGuide1","Color of the active editor indentation guides (1).")),k=(0,r.P6G)("editorIndentGuide.activeBackground2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f.NC("editorActiveIndentGuide2","Color of the active editor indentation guides (2).")),R=(0,r.P6G)("editorIndentGuide.activeBackground3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f.NC("editorActiveIndentGuide3","Color of the active editor indentation guides (3).")),O=(0,r.P6G)("editorIndentGuide.activeBackground4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f.NC("editorActiveIndentGuide4","Color of the active editor indentation guides (4).")),W=(0,r.P6G)("editorIndentGuide.activeBackground5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f.NC("editorActiveIndentGuide5","Color of the active editor indentation guides (5).")),z=(0,r.P6G)("editorIndentGuide.activeBackground6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f.NC("editorActiveIndentGuide6","Color of the active editor indentation guides (6).")),U=(0,r.P6G)("editorActiveLineNumber.foreground",{dark:"#c6c6c6",light:"#0B216F",hcDark:r.xL1,hcLight:r.xL1},f.NC("editorActiveLineNumber","Color of editor active line number"),!1,f.NC("deprecatedEditorActiveLineNumber","Id is deprecated. Use 'editorLineNumber.activeForeground' instead.")),B=((0,r.P6G)("editorLineNumber.activeForeground",{dark:U,light:U,hcDark:U,hcLight:U},f.NC("editorActiveLineNumber","Color of editor active line number")),(0,r.P6G)("editorLineNumber.dimmedForeground",{dark:null,light:null,hcDark:null,hcLight:null},f.NC("editorDimmedLineNumber","Color of the final editor line when editor.renderFinalNewline is set to dimmed."))),K=((0,r.P6G)("editorRuler.foreground",{dark:"#5A5A5A",light:P.Il.lightgrey,hcDark:P.Il.white,hcLight:"#292929"},f.NC("editorRuler","Color of the editor rulers.")),(0,r.P6G)("editorCodeLens.foreground",{dark:"#999999",light:"#919191",hcDark:"#999999",hcLight:"#292929"},f.NC("editorCodeLensForeground","Foreground color of editor CodeLens")),(0,r.P6G)("editorBracketMatch.background",{dark:"#0064001a",light:"#0064001a",hcDark:"#0064001a",hcLight:"#0000"},f.NC("editorBracketMatchBackground","Background color behind matching brackets")),(0,r.P6G)("editorBracketMatch.border",{dark:"#888",light:"#B9B9B9",hcDark:r.lRK,hcLight:r.lRK},f.NC("editorBracketMatchBorder","Color for matching brackets boxes")),(0,r.P6G)("editorOverviewRuler.border",{dark:"#7f7f7f4d",light:"#7f7f7f4d",hcDark:"#7f7f7f4d",hcLight:"#666666"},f.NC("editorOverviewRulerBorder","Color of the overview ruler border."))),J=(0,r.P6G)("editorOverviewRuler.background",null,f.NC("editorOverviewRulerBackground","Background color of the editor overview ruler.")),_=((0,r.P6G)("editorGutter.background",{dark:r.cvW,light:r.cvW,hcDark:r.cvW,hcLight:r.cvW},f.NC("editorGutter","Background color of the editor gutter. The gutter contains the glyph margins and the line numbers.")),(0,r.P6G)("editorUnnecessaryCode.border",{dark:null,light:null,hcDark:P.Il.fromHex("#fff").transparent(.8),hcLight:r.lRK},f.NC("unnecessaryCodeBorder","Border color of unnecessary (unused) source code in the editor.")),(0,r.P6G)("editorUnnecessaryCode.opacity",{dark:P.Il.fromHex("#000a"),light:P.Il.fromHex("#0007"),hcDark:null,hcLight:null},f.NC("unnecessaryCodeOpacity","Opacity of unnecessary (unused) source code in the editor. For example, \"#000000c0\" will render the code with 75% opacity. For high contrast themes, use the  'editorUnnecessaryCode.border' theme color to underline unnecessary code instead of fading it out."))),ue=((0,r.P6G)("editorGhostText.border",{dark:null,light:null,hcDark:P.Il.fromHex("#fff").transparent(.8),hcLight:P.Il.fromHex("#292929").transparent(.8)},f.NC("editorGhostTextBorder","Border color of ghost text in the editor.")),(0,r.P6G)("editorGhostText.foreground",{dark:P.Il.fromHex("#ffffff56"),light:P.Il.fromHex("#0007"),hcDark:null,hcLight:null},f.NC("editorGhostTextForeground","Foreground color of the ghost text in the editor.")),(0,r.P6G)("editorGhostText.background",{dark:null,light:null,hcDark:null,hcLight:null},f.NC("editorGhostTextBackground","Background color of the ghost text in the editor.")),new P.Il(new P.VS(0,122,204,.6))),ve=(0,r.P6G)("editorOverviewRuler.rangeHighlightForeground",{dark:ue,light:ue,hcDark:ue,hcLight:ue},f.NC("overviewRulerRangeHighlight","Overview ruler marker color for range highlights. The color must not be opaque so as not to hide underlying decorations."),!0),Ie=(0,r.P6G)("editorOverviewRuler.errorForeground",{dark:new P.Il(new P.VS(255,18,18,.7)),light:new P.Il(new P.VS(255,18,18,.7)),hcDark:new P.Il(new P.VS(255,50,50,1)),hcLight:"#B5200D"},f.NC("overviewRuleError","Overview ruler marker color for errors.")),Se=(0,r.P6G)("editorOverviewRuler.warningForeground",{dark:r.uoC,light:r.uoC,hcDark:r.pW3,hcLight:r.pW3},f.NC("overviewRuleWarning","Overview ruler marker color for warnings.")),Ve=(0,r.P6G)("editorOverviewRuler.infoForeground",{dark:r.c63,light:r.c63,hcDark:r.T83,hcLight:r.T83},f.NC("overviewRuleInfo","Overview ruler marker color for infos.")),De=(0,r.P6G)("editorBracketHighlight.foreground1",{dark:"#FFD700",light:"#0431FAFF",hcDark:"#FFD700",hcLight:"#0431FAFF"},f.NC("editorBracketHighlightForeground1","Foreground color of brackets (1). Requires enabling bracket pair colorization.")),ye=(0,r.P6G)("editorBracketHighlight.foreground2",{dark:"#DA70D6",light:"#319331FF",hcDark:"#DA70D6",hcLight:"#319331FF"},f.NC("editorBracketHighlightForeground2","Foreground color of brackets (2). Requires enabling bracket pair colorization.")),oe=(0,r.P6G)("editorBracketHighlight.foreground3",{dark:"#179FFF",light:"#7B3814FF",hcDark:"#87CEFA",hcLight:"#7B3814FF"},f.NC("editorBracketHighlightForeground3","Foreground color of brackets (3). Requires enabling bracket pair colorization.")),Y=(0,r.P6G)("editorBracketHighlight.foreground4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f.NC("editorBracketHighlightForeground4","Foreground color of brackets (4). Requires enabling bracket pair colorization.")),x=(0,r.P6G)("editorBracketHighlight.foreground5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f.NC("editorBracketHighlightForeground5","Foreground color of brackets (5). Requires enabling bracket pair colorization.")),F=(0,r.P6G)("editorBracketHighlight.foreground6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f.NC("editorBracketHighlightForeground6","Foreground color of brackets (6). Requires enabling bracket pair colorization.")),ie=(0,r.P6G)("editorBracketHighlight.unexpectedBracket.foreground",{dark:new P.Il(new P.VS(255,18,18,.8)),light:new P.Il(new P.VS(255,18,18,.8)),hcDark:new P.Il(new P.VS(255,50,50,1)),hcLight:""},f.NC("editorBracketHighlightUnexpectedBracketForeground","Foreground color of unexpected brackets.")),Ce=(0,r.P6G)("editorBracketPairGuide.background1",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f.NC("editorBracketPairGuide.background1","Background color of inactive bracket pair guides (1). Requires enabling bracket pair guides.")),ke=(0,r.P6G)("editorBracketPairGuide.background2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f.NC("editorBracketPairGuide.background2","Background color of inactive bracket pair guides (2). Requires enabling bracket pair guides.")),Pe=(0,r.P6G)("editorBracketPairGuide.background3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f.NC("editorBracketPairGuide.background3","Background color of inactive bracket pair guides (3). Requires enabling bracket pair guides.")),xe=(0,r.P6G)("editorBracketPairGuide.background4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f.NC("editorBracketPairGuide.background4","Background color of inactive bracket pair guides (4). Requires enabling bracket pair guides.")),fe=(0,r.P6G)("editorBracketPairGuide.background5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f.NC("editorBracketPairGuide.background5","Background color of inactive bracket pair guides (5). Requires enabling bracket pair guides.")),be=(0,r.P6G)("editorBracketPairGuide.background6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f.NC("editorBracketPairGuide.background6","Background color of inactive bracket pair guides (6). Requires enabling bracket pair guides.")),pe=(0,r.P6G)("editorBracketPairGuide.activeBackground1",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f.NC("editorBracketPairGuide.activeBackground1","Background color of active bracket pair guides (1). Requires enabling bracket pair guides.")),Q=(0,r.P6G)("editorBracketPairGuide.activeBackground2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f.NC("editorBracketPairGuide.activeBackground2","Background color of active bracket pair guides (2). Requires enabling bracket pair guides.")),le=(0,r.P6G)("editorBracketPairGuide.activeBackground3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f.NC("editorBracketPairGuide.activeBackground3","Background color of active bracket pair guides (3). Requires enabling bracket pair guides.")),Fe=(0,r.P6G)("editorBracketPairGuide.activeBackground4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f.NC("editorBracketPairGuide.activeBackground4","Background color of active bracket pair guides (4). Requires enabling bracket pair guides.")),He=(0,r.P6G)("editorBracketPairGuide.activeBackground5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f.NC("editorBracketPairGuide.activeBackground5","Background color of active bracket pair guides (5). Requires enabling bracket pair guides.")),Je=(0,r.P6G)("editorBracketPairGuide.activeBackground6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f.NC("editorBracketPairGuide.activeBackground6","Background color of active bracket pair guides (6). Requires enabling bracket pair guides."));(0,r.P6G)("editorUnicodeHighlight.border",{dark:"#BD9B03",light:"#CEA33D",hcDark:"#ff0000",hcLight:"#CEA33D"},f.NC("editorUnicodeHighlight.border","Border color used to highlight unicode characters.")),(0,r.P6G)("editorUnicodeHighlight.background",{dark:"#bd9b0326",light:"#cea33d14",hcDark:"#00000000",hcLight:"#cea33d14"},f.NC("editorUnicodeHighlight.background","Background color used to highlight unicode characters.")),(0,y.Ic)((mt,ft)=>{const Lt=mt.getColor(r.cvW),Tt=mt.getColor(v),Mt=Tt&&!Tt.isTransparent()?Tt:Lt;Mt&&ft.addRule(`.monaco-editor .inputarea.ime-input { background-color: ${Mt}; }`)})},83393:(Xe,we,e)=>{function f(P){let r=0,y=0,v=0,S=0;for(let T=0,E=P.length;T<E;T++){const L=P.charCodeAt(T);13===L?(0===r&&(y=T),r++,T+1<E&&10===P.charCodeAt(T+1)?(S|=2,T++):S|=3,v=T+1):10===L&&(S|=1,0===r&&(y=T),r++,v=T+1)}return 0===r&&(y=P.length),[r,y,P.length-v,S]}e.d(we,{Q:()=>f})},15869:(Xe,we,e)=>{e.d(we,{x:()=>y});var f=e(16055),P=e(96678);function y(v,S,T){let E=f.LC(v);return-1===E&&(E=v.length),function r(v,S,T){let E=0;for(let p=0;p<v.length;p++)"\t"===v.charAt(p)?E=P.i.nextIndentTabStop(E,S):E++;let L="";if(!T){const p=Math.floor(E/S);E%=S;for(let c=0;c<p;c++)L+="\t"}for(let p=0;p<E;p++)L+=" ";return L}(v.substring(0,E),S,T)+v.substring(E)}},266:(Xe,we,e)=>{e.d(we,{z:()=>y});var f=e(17967),P=e(78754),r=e(96726);class y{static fromRange(S){return new y(S.startLineNumber,S.endLineNumber)}static subtract(S,T){return T?S.startLineNumber<T.startLineNumber&&T.endLineNumberExclusive<S.endLineNumberExclusive?[new y(S.startLineNumber,T.startLineNumber),new y(T.endLineNumberExclusive,S.endLineNumberExclusive)]:T.startLineNumber<=S.startLineNumber&&S.endLineNumberExclusive<=T.endLineNumberExclusive?[]:T.endLineNumberExclusive<S.endLineNumberExclusive?[new y(Math.max(T.endLineNumberExclusive,S.startLineNumber),S.endLineNumberExclusive)]:[new y(S.startLineNumber,Math.min(T.startLineNumber,S.endLineNumberExclusive))]:[S]}static joinMany(S){if(0===S.length)return[];let T=S[0];for(let E=1;E<S.length;E++)T=this.join(T,S[E]);return T}static join(S,T){if(0===S.length)return T;if(0===T.length)return S;const E=[];let L=0,p=0,c=null;for(;L<S.length||p<T.length;){let u=null;if(L<S.length&&p<T.length){const g=S[L],i=T[p];g.startLineNumber<i.startLineNumber?(u=g,L++):(u=i,p++)}else L<S.length?(u=S[L],L++):(u=T[p],p++);null===c?c=u:c.endLineNumberExclusive>=u.startLineNumber?c=new y(c.startLineNumber,Math.max(c.endLineNumberExclusive,u.endLineNumberExclusive)):(E.push(c),c=u)}return null!==c&&E.push(c),E}static ofLength(S,T){return new y(S,S+T)}static deserialize(S){return new y(S[0],S[1])}constructor(S,T){if(S>T)throw new f.he(`startLineNumber ${S} cannot be after endLineNumberExclusive ${T}`);this.startLineNumber=S,this.endLineNumberExclusive=T}contains(S){return this.startLineNumber<=S&&S<this.endLineNumberExclusive}get isEmpty(){return this.startLineNumber===this.endLineNumberExclusive}delta(S){return new y(this.startLineNumber+S,this.endLineNumberExclusive+S)}deltaLength(S){return new y(this.startLineNumber,this.endLineNumberExclusive+S)}get length(){return this.endLineNumberExclusive-this.startLineNumber}join(S){return new y(Math.min(this.startLineNumber,S.startLineNumber),Math.max(this.endLineNumberExclusive,S.endLineNumberExclusive))}toString(){return`[${this.startLineNumber},${this.endLineNumberExclusive})`}intersect(S){const T=Math.max(this.startLineNumber,S.startLineNumber),E=Math.min(this.endLineNumberExclusive,S.endLineNumberExclusive);if(T<=E)return new y(T,E)}intersectsStrict(S){return this.startLineNumber<S.endLineNumberExclusive&&S.startLineNumber<this.endLineNumberExclusive}overlapOrTouch(S){return this.startLineNumber<=S.endLineNumberExclusive&&S.startLineNumber<=this.endLineNumberExclusive}equals(S){return this.startLineNumber===S.startLineNumber&&this.endLineNumberExclusive===S.endLineNumberExclusive}toInclusiveRange(){return this.isEmpty?null:new r.e(this.startLineNumber,1,this.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER)}toExclusiveRange(){return new r.e(this.startLineNumber,1,this.endLineNumberExclusive,1)}mapToLineArray(S){const T=[];for(let E=this.startLineNumber;E<this.endLineNumberExclusive;E++)T.push(S(E));return T}forEach(S){for(let T=this.startLineNumber;T<this.endLineNumberExclusive;T++)S(T)}serialize(){return[this.startLineNumber,this.endLineNumberExclusive]}includes(S){return this.startLineNumber<=S&&S<this.endLineNumberExclusive}toOffsetRange(){return new P.q(this.startLineNumber-1,this.endLineNumberExclusive-1)}}},78754:(Xe,we,e)=>{e.d(we,{M:()=>r,q:()=>P});var f=e(17967);class P{static addRange(v,S){let T=0;for(;T<S.length&&S[T].endExclusive<v.start;)T++;let E=T;for(;E<S.length&&S[E].start<=v.endExclusive;)E++;if(T===E)S.splice(T,0,v);else{const L=Math.min(v.start,S[T].start),p=Math.max(v.endExclusive,S[E-1].endExclusive);S.splice(T,E-T,new P(L,p))}}static tryCreate(v,S){if(!(v>S))return new P(v,S)}static ofLength(v){return new P(0,v)}constructor(v,S){if(this.start=v,this.endExclusive=S,v>S)throw new f.he(`Invalid range: ${this.toString()}`)}get isEmpty(){return this.start===this.endExclusive}delta(v){return new P(this.start+v,this.endExclusive+v)}deltaStart(v){return new P(this.start+v,this.endExclusive)}deltaEnd(v){return new P(this.start,this.endExclusive+v)}get length(){return this.endExclusive-this.start}toString(){return`[${this.start}, ${this.endExclusive})`}equals(v){return this.start===v.start&&this.endExclusive===v.endExclusive}containsRange(v){return this.start<=v.start&&v.endExclusive<=this.endExclusive}contains(v){return this.start<=v&&v<this.endExclusive}join(v){return new P(Math.min(this.start,v.start),Math.max(this.endExclusive,v.endExclusive))}intersect(v){const S=Math.max(this.start,v.start),T=Math.min(this.endExclusive,v.endExclusive);if(S<=T)return new P(S,T)}slice(v){return v.slice(this.start,this.endExclusive)}clip(v){if(this.isEmpty)throw new f.he(`Invalid clipping range: ${this.toString()}`);return Math.max(this.start,Math.min(this.endExclusive-1,v))}clipCyclic(v){if(this.isEmpty)throw new f.he(`Invalid clipping range: ${this.toString()}`);return v<this.start?this.endExclusive-(this.start-v)%this.length:v>=this.endExclusive?this.start+(v-this.start)%this.length:v}}class r{constructor(){this._sortedRanges=[]}addRange(v){let S=0;for(;S<this._sortedRanges.length&&this._sortedRanges[S].endExclusive<v.start;)S++;let T=S;for(;T<this._sortedRanges.length&&this._sortedRanges[T].start<=v.endExclusive;)T++;if(S===T)this._sortedRanges.splice(S,0,v);else{const E=Math.min(v.start,this._sortedRanges[S].start),L=Math.max(v.endExclusive,this._sortedRanges[T-1].endExclusive);this._sortedRanges.splice(S,T-S,new P(E,L))}}toString(){return this._sortedRanges.map(v=>v.toString()).join(", ")}intersectsStrict(v){let S=0;for(;S<this._sortedRanges.length&&this._sortedRanges[S].endExclusive<=v.start;)S++;return S<this._sortedRanges.length&&this._sortedRanges[S].start<v.endExclusive}intersectWithRange(v){const S=new r;for(const T of this._sortedRanges){const E=T.intersect(v);E&&S.addRange(E)}return S}intersectWithRangeLength(v){return this.intersectWithRange(v).length}get length(){return this._sortedRanges.reduce((v,S)=>v+S.length,0)}}},68678:(Xe,we,e)=>{e.d(we,{L:()=>f});class f{constructor(r,y){this.lineNumber=r,this.column=y}with(r=this.lineNumber,y=this.column){return r===this.lineNumber&&y===this.column?this:new f(r,y)}delta(r=0,y=0){return this.with(this.lineNumber+r,this.column+y)}equals(r){return f.equals(this,r)}static equals(r,y){return!r&&!y||!!r&&!!y&&r.lineNumber===y.lineNumber&&r.column===y.column}isBefore(r){return f.isBefore(this,r)}static isBefore(r,y){return r.lineNumber<y.lineNumber||!(y.lineNumber<r.lineNumber)&&r.column<y.column}isBeforeOrEqual(r){return f.isBeforeOrEqual(this,r)}static isBeforeOrEqual(r,y){return r.lineNumber<y.lineNumber||!(y.lineNumber<r.lineNumber)&&r.column<=y.column}static compare(r,y){const v=0|r.lineNumber,S=0|y.lineNumber;return v===S?(0|r.column)-(0|y.column):v-S}clone(){return new f(this.lineNumber,this.column)}toString(){return"("+this.lineNumber+","+this.column+")"}static lift(r){return new f(r.lineNumber,r.column)}static isIPosition(r){return r&&"number"==typeof r.lineNumber&&"number"==typeof r.column}}},96726:(Xe,we,e)=>{e.d(we,{e:()=>P});var f=e(68678);class P{constructor(y,v,S,T){y>S||y===S&&v>T?(this.startLineNumber=S,this.startColumn=T,this.endLineNumber=y,this.endColumn=v):(this.startLineNumber=y,this.startColumn=v,this.endLineNumber=S,this.endColumn=T)}isEmpty(){return P.isEmpty(this)}static isEmpty(y){return y.startLineNumber===y.endLineNumber&&y.startColumn===y.endColumn}containsPosition(y){return P.containsPosition(this,y)}static containsPosition(y,v){return!(v.lineNumber<y.startLineNumber||v.lineNumber>y.endLineNumber||v.lineNumber===y.startLineNumber&&v.column<y.startColumn||v.lineNumber===y.endLineNumber&&v.column>y.endColumn)}static strictContainsPosition(y,v){return!(v.lineNumber<y.startLineNumber||v.lineNumber>y.endLineNumber||v.lineNumber===y.startLineNumber&&v.column<=y.startColumn||v.lineNumber===y.endLineNumber&&v.column>=y.endColumn)}containsRange(y){return P.containsRange(this,y)}static containsRange(y,v){return!(v.startLineNumber<y.startLineNumber||v.endLineNumber<y.startLineNumber||v.startLineNumber>y.endLineNumber||v.endLineNumber>y.endLineNumber||v.startLineNumber===y.startLineNumber&&v.startColumn<y.startColumn||v.endLineNumber===y.endLineNumber&&v.endColumn>y.endColumn)}strictContainsRange(y){return P.strictContainsRange(this,y)}static strictContainsRange(y,v){return!(v.startLineNumber<y.startLineNumber||v.endLineNumber<y.startLineNumber||v.startLineNumber>y.endLineNumber||v.endLineNumber>y.endLineNumber||v.startLineNumber===y.startLineNumber&&v.startColumn<=y.startColumn||v.endLineNumber===y.endLineNumber&&v.endColumn>=y.endColumn)}plusRange(y){return P.plusRange(this,y)}static plusRange(y,v){let S,T,E,L;return v.startLineNumber<y.startLineNumber?(S=v.startLineNumber,T=v.startColumn):v.startLineNumber===y.startLineNumber?(S=v.startLineNumber,T=Math.min(v.startColumn,y.startColumn)):(S=y.startLineNumber,T=y.startColumn),v.endLineNumber>y.endLineNumber?(E=v.endLineNumber,L=v.endColumn):v.endLineNumber===y.endLineNumber?(E=v.endLineNumber,L=Math.max(v.endColumn,y.endColumn)):(E=y.endLineNumber,L=y.endColumn),new P(S,T,E,L)}intersectRanges(y){return P.intersectRanges(this,y)}static intersectRanges(y,v){let S=y.startLineNumber,T=y.startColumn,E=y.endLineNumber,L=y.endColumn;const p=v.startLineNumber,c=v.startColumn,u=v.endLineNumber,g=v.endColumn;return S<p?(S=p,T=c):S===p&&(T=Math.max(T,c)),E>u?(E=u,L=g):E===u&&(L=Math.min(L,g)),S>E||S===E&&T>L?null:new P(S,T,E,L)}equalsRange(y){return P.equalsRange(this,y)}static equalsRange(y,v){return!y&&!v||!!y&&!!v&&y.startLineNumber===v.startLineNumber&&y.startColumn===v.startColumn&&y.endLineNumber===v.endLineNumber&&y.endColumn===v.endColumn}getEndPosition(){return P.getEndPosition(this)}static getEndPosition(y){return new f.L(y.endLineNumber,y.endColumn)}getStartPosition(){return P.getStartPosition(this)}static getStartPosition(y){return new f.L(y.startLineNumber,y.startColumn)}toString(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"}setEndPosition(y,v){return new P(this.startLineNumber,this.startColumn,y,v)}setStartPosition(y,v){return new P(y,v,this.endLineNumber,this.endColumn)}collapseToStart(){return P.collapseToStart(this)}static collapseToStart(y){return new P(y.startLineNumber,y.startColumn,y.startLineNumber,y.startColumn)}collapseToEnd(){return P.collapseToEnd(this)}static collapseToEnd(y){return new P(y.endLineNumber,y.endColumn,y.endLineNumber,y.endColumn)}delta(y){return new P(this.startLineNumber+y,this.startColumn,this.endLineNumber+y,this.endColumn)}static fromPositions(y,v=y){return new P(y.lineNumber,y.column,v.lineNumber,v.column)}static lift(y){return y?new P(y.startLineNumber,y.startColumn,y.endLineNumber,y.endColumn):null}static isIRange(y){return y&&"number"==typeof y.startLineNumber&&"number"==typeof y.startColumn&&"number"==typeof y.endLineNumber&&"number"==typeof y.endColumn}static areIntersectingOrTouching(y,v){return!(y.endLineNumber<v.startLineNumber||y.endLineNumber===v.startLineNumber&&y.endColumn<v.startColumn||v.endLineNumber<y.startLineNumber||v.endLineNumber===y.startLineNumber&&v.endColumn<y.startColumn)}static areIntersecting(y,v){return!(y.endLineNumber<v.startLineNumber||y.endLineNumber===v.startLineNumber&&y.endColumn<=v.startColumn||v.endLineNumber<y.startLineNumber||v.endLineNumber===y.startLineNumber&&v.endColumn<=y.startColumn)}static compareRangesUsingStarts(y,v){if(y&&v){const E=0|y.startLineNumber,L=0|v.startLineNumber;if(E===L){const p=0|y.startColumn,c=0|v.startColumn;if(p===c){const u=0|y.endLineNumber,g=0|v.endLineNumber;return u===g?(0|y.endColumn)-(0|v.endColumn):u-g}return p-c}return E-L}return(y?1:0)-(v?1:0)}static compareRangesUsingEnds(y,v){return y.endLineNumber===v.endLineNumber?y.endColumn===v.endColumn?y.startLineNumber===v.startLineNumber?y.startColumn-v.startColumn:y.startLineNumber-v.startLineNumber:y.endColumn-v.endColumn:y.endLineNumber-v.endLineNumber}static spansMultipleLines(y){return y.endLineNumber>y.startLineNumber}toJSON(){return this}}},81534:(Xe,we,e)=>{e.d(we,{Y:()=>r});var f=e(68678),P=e(96726);class r extends P.e{constructor(v,S,T,E){super(v,S,T,E),this.selectionStartLineNumber=v,this.selectionStartColumn=S,this.positionLineNumber=T,this.positionColumn=E}toString(){return"["+this.selectionStartLineNumber+","+this.selectionStartColumn+" -> "+this.positionLineNumber+","+this.positionColumn+"]"}equalsSelection(v){return r.selectionsEqual(this,v)}static selectionsEqual(v,S){return v.selectionStartLineNumber===S.selectionStartLineNumber&&v.selectionStartColumn===S.selectionStartColumn&&v.positionLineNumber===S.positionLineNumber&&v.positionColumn===S.positionColumn}getDirection(){return this.selectionStartLineNumber===this.startLineNumber&&this.selectionStartColumn===this.startColumn?0:1}setEndPosition(v,S){return 0===this.getDirection()?new r(this.startLineNumber,this.startColumn,v,S):new r(v,S,this.startLineNumber,this.startColumn)}getPosition(){return new f.L(this.positionLineNumber,this.positionColumn)}getSelectionStart(){return new f.L(this.selectionStartLineNumber,this.selectionStartColumn)}setStartPosition(v,S){return 0===this.getDirection()?new r(v,S,this.endLineNumber,this.endColumn):new r(this.endLineNumber,this.endColumn,v,S)}static fromPositions(v,S=v){return new r(v.lineNumber,v.column,S.lineNumber,S.column)}static fromRange(v,S){return 0===S?new r(v.startLineNumber,v.startColumn,v.endLineNumber,v.endColumn):new r(v.endLineNumber,v.endColumn,v.startLineNumber,v.startColumn)}static liftSelection(v){return new r(v.selectionStartLineNumber,v.selectionStartColumn,v.positionLineNumber,v.positionColumn)}static selectionsArrEqual(v,S){if(v&&!S||!v&&S)return!1;if(!v&&!S)return!0;if(v.length!==S.length)return!1;for(let T=0,E=v.length;T<E;T++)if(!this.selectionsEqual(v[T],S[T]))return!1;return!0}static isISelection(v){return v&&"number"==typeof v.selectionStartLineNumber&&"number"==typeof v.selectionStartColumn&&"number"==typeof v.positionLineNumber&&"number"==typeof v.positionColumn}static createWithDirection(v,S,T,E,L){return 0===L?new r(v,S,T,E):new r(T,E,v,S)}}},85460:(Xe,we,e)=>{e.d(we,{HT:()=>u,kH:()=>p,oe:()=>L});var f=e(16055),P=e(88593),r=e(58204);let y,S,E;function v(){return y||(y=new TextDecoder("UTF-16LE")),y}function L(){return E||(E=P.r()?v():function T(){return S||(S=new TextDecoder("UTF-16BE")),S}()),E}function p(g,i,d){const a=new Uint16Array(g.buffer,i,d);return d>0&&(65279===a[0]||65534===a[0])?function c(g,i,d){const a=[];let m=0;for(let l=0;l<d;l++){const I=r.mP(g,i);i+=2,a[m++]=String.fromCharCode(I)}return a.join("")}(g,i,d):v().decode(a)}class u{constructor(i){this._capacity=0|i,this._buffer=new Uint16Array(this._capacity),this._completedStrings=null,this._bufferLength=0}reset(){this._completedStrings=null,this._bufferLength=0}build(){return null!==this._completedStrings?(this._flushBuffer(),this._completedStrings.join("")):this._buildBuffer()}_buildBuffer(){if(0===this._bufferLength)return"";const i=new Uint16Array(this._buffer.buffer,0,this._bufferLength);return L().decode(i)}_flushBuffer(){const i=this._buildBuffer();this._bufferLength=0,null===this._completedStrings?this._completedStrings=[i]:this._completedStrings[this._completedStrings.length]=i}appendCharCode(i){const d=this._capacity-this._bufferLength;d<=1&&(0===d||f.ZG(i))&&this._flushBuffer(),this._buffer[this._bufferLength++]=i}appendASCIICharCode(i){this._bufferLength===this._capacity&&this._flushBuffer(),this._buffer[this._bufferLength++]=i}appendString(i){const d=i.length;if(this._bufferLength+d>=this._capacity)return this._flushBuffer(),void(this._completedStrings[this._completedStrings.length]=i);for(let a=0;a<d;a++)this._buffer[this._bufferLength++]=i.charCodeAt(a)}}},27336:(Xe,we,e)=>{e.d(we,{b:()=>v,q:()=>y});var f=e(58204),P=e(85460);function r(T){return T.replace(/\n/g,"\\n").replace(/\r/g,"\\r")}class y{get oldLength(){return this.oldText.length}get oldEnd(){return this.oldPosition+this.oldText.length}get newLength(){return this.newText.length}get newEnd(){return this.newPosition+this.newText.length}constructor(E,L,p,c){this.oldPosition=E,this.oldText=L,this.newPosition=p,this.newText=c}toString(){return 0===this.oldText.length?`(insert@${this.oldPosition} "${r(this.newText)}")`:0===this.newText.length?`(delete@${this.oldPosition} "${r(this.oldText)}")`:`(replace@${this.oldPosition} "${r(this.oldText)}" with "${r(this.newText)}")`}static _writeStringSize(E){return 4+2*E.length}static _writeString(E,L,p){const c=L.length;f.T4(E,c,p),p+=4;for(let u=0;u<c;u++)f.oq(E,L.charCodeAt(u),p),p+=2;return p}static _readString(E,L){const p=f.Ag(E,L);return(0,P.kH)(E,L+=4,p)}writeSize(){return 8+y._writeStringSize(this.oldText)+y._writeStringSize(this.newText)}write(E,L){return f.T4(E,this.oldPosition,L),f.T4(E,this.newPosition,L+=4),L=y._writeString(E,this.oldText,L+=4),y._writeString(E,this.newText,L)}static read(E,L,p){const c=f.Ag(E,L),u=f.Ag(E,L+=4),g=y._readString(E,L+=4);L+=y._writeStringSize(g);const i=y._readString(E,L);return L+=y._writeStringSize(i),p.push(new y(c,g,u,i)),L}}function v(T,E){return null===T||0===T.length?E:new S(T,E).compress()}class S{constructor(E,L){this._prevEdits=E,this._currEdits=L,this._result=[],this._resultLen=0,this._prevLen=this._prevEdits.length,this._prevDeltaOffset=0,this._currLen=this._currEdits.length,this._currDeltaOffset=0}compress(){let E=0,L=0,p=this._getPrev(E),c=this._getCurr(L);for(;E<this._prevLen||L<this._currLen;){if(null===p){this._acceptCurr(c),c=this._getCurr(++L);continue}if(null===c){this._acceptPrev(p),p=this._getPrev(++E);continue}if(c.oldEnd<=p.newPosition){this._acceptCurr(c),c=this._getCurr(++L);continue}if(p.newEnd<=c.oldPosition){this._acceptPrev(p),p=this._getPrev(++E);continue}if(c.oldPosition<p.newPosition){const[a,m]=S._splitCurr(c,p.newPosition-c.oldPosition);this._acceptCurr(a),c=m;continue}if(p.newPosition<c.oldPosition){const[a,m]=S._splitPrev(p,c.oldPosition-p.newPosition);this._acceptPrev(a),p=m;continue}let i,d;if(c.oldEnd===p.newEnd)i=p,d=c,p=this._getPrev(++E),c=this._getCurr(++L);else if(c.oldEnd<p.newEnd){const[a,m]=S._splitPrev(p,c.oldLength);i=a,d=c,p=m,c=this._getCurr(++L)}else{const[a,m]=S._splitCurr(c,p.newLength);i=p,d=a,p=this._getPrev(++E),c=m}this._result[this._resultLen++]=new y(i.oldPosition,i.oldText,d.newPosition,d.newText),this._prevDeltaOffset+=i.newLength-i.oldLength,this._currDeltaOffset+=d.newLength-d.oldLength}const u=S._merge(this._result);return S._removeNoOps(u)}_acceptCurr(E){this._result[this._resultLen++]=S._rebaseCurr(this._prevDeltaOffset,E),this._currDeltaOffset+=E.newLength-E.oldLength}_getCurr(E){return E<this._currLen?this._currEdits[E]:null}_acceptPrev(E){this._result[this._resultLen++]=S._rebasePrev(this._currDeltaOffset,E),this._prevDeltaOffset+=E.newLength-E.oldLength}_getPrev(E){return E<this._prevLen?this._prevEdits[E]:null}static _rebaseCurr(E,L){return new y(L.oldPosition-E,L.oldText,L.newPosition,L.newText)}static _rebasePrev(E,L){return new y(L.oldPosition,L.oldText,L.newPosition+E,L.newText)}static _splitPrev(E,L){const p=E.newText.substr(0,L),c=E.newText.substr(L);return[new y(E.oldPosition,E.oldText,E.newPosition,p),new y(E.oldEnd,"",E.newPosition+L,c)]}static _splitCurr(E,L){const p=E.oldText.substr(0,L),c=E.oldText.substr(L);return[new y(E.oldPosition,p,E.newPosition,E.newText),new y(E.oldPosition+L,c,E.newEnd,"")]}static _merge(E){if(0===E.length)return E;const L=[];let p=0,c=E[0];for(let u=1;u<E.length;u++){const g=E[u];c.oldEnd===g.oldPosition?c=new y(c.oldPosition,c.oldText+g.oldText,c.newPosition,c.newText+g.newText):(L[p++]=c,c=g)}return L[p++]=c,L}static _removeNoOps(E){if(0===E.length)return E;const L=[];let p=0;for(let c=0;c<E.length;c++){const u=E[c];u.oldText!==u.newText&&(L[p++]=u)}return L}}},30304:(Xe,we,e)=>{e.d(we,{D:()=>f});const f={tabSize:4,indentSize:4,insertSpaces:!0,detectIndentation:!0,trimAutoWhitespace:!0,largeFileOptimizations:!0,bracketPairColorizationOptions:{enabled:!0,independentColorPoolPerBracketType:!1}}},80020:(Xe,we,e)=>{e.d(we,{u:()=>y});var f=e(32583);class P extends f.N{constructor(S){super(0);for(let T=0,E=S.length;T<E;T++)this.set(S.charCodeAt(T),2);this.set(32,1),this.set(9,1)}}const y=function r(v){const S={};return T=>(S.hasOwnProperty(T)||(S[T]=v(T)),S[T])}(v=>new P(v))},28797:(Xe,we,e)=>{e.d(we,{Af:()=>v,eq:()=>S,t2:()=>E,vu:()=>r});var f=e(68733),P=e(86211);const r="`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?",v=function y(p=""){let c="(-?\\d*\\.\\d\\w*)|([^";for(const u of r)p.indexOf(u)>=0||(c+="\\"+u);return c+="\\s]+)",new RegExp(c,"g")}();function S(p){let c=v;if(p&&p instanceof RegExp)if(p.global)c=p;else{let u="g";p.ignoreCase&&(u+="i"),p.multiline&&(u+="m"),p.unicode&&(u+="u"),c=new RegExp(p.source,u)}return c.lastIndex=0,c}const T=new P.S;function E(p,c,u,g,i){if(i||(i=f.$.first(T)),u.length>i.maxLen){let I=p-i.maxLen/2;return I<0?I=0:g+=I,E(p,c,u=u.substring(I,p+i.maxLen/2),g,i)}const d=Date.now(),a=p-1-g;let m=-1,l=null;for(let I=1;!(Date.now()-d>=i.timeBudget);I++){const w=a-i.windowSize*I;c.lastIndex=Math.max(0,w);const D=L(c,u,a,m);if(!D&&l||(l=D,w<=0))break;m=w}if(l){const I={word:l[0],startColumn:g+1+l.index,endColumn:g+1+l.index+l[0].length};return c.lastIndex=0,I}return null}function L(p,c,u,g){let i;for(;i=p.exec(c);){const d=i.index||0;if(d<=u&&p.lastIndex>=u)return i;if(g>0&&d>g)return null}return null}T.unshift({maxLen:1e3,windowSize:15,timeBudget:150})},83418:(Xe,we,e)=>{e.d(we,{l:()=>P});var f=e(96678);class P{static whitespaceVisibleColumn(y,v,S){const T=y.length;let E=0,L=-1,p=-1;for(let c=0;c<T;c++){if(c===v)return[L,p,E];switch(E%S==0&&(L=c,p=E),y.charCodeAt(c)){case 32:E+=1;break;case 9:E=f.i.nextRenderTabStop(E,S);break;default:return[-1,-1,-1]}}return v===T?[L,p,E]:[-1,-1,-1]}static atomicPosition(y,v,S,T){const E=y.length,[L,p,c]=P.whitespaceVisibleColumn(y,v,S);if(-1===c)return-1;let u;switch(T){case 0:u=!0;break;case 1:u=!1;break;case 2:if(c%S==0)return v;u=c%S<=S/2}if(u){if(-1===L)return-1;let d=p;for(let a=L;a<E;++a){if(d===p+S)return L;switch(y.charCodeAt(a)){case 32:d+=1;break;case 9:d=f.i.nextRenderTabStop(d,S);break;default:return-1}}return d===p+S?L:-1}const g=f.i.nextRenderTabStop(c,S);let i=c;for(let d=v;d<E;d++){if(i===g)return d;switch(y.charCodeAt(d)){case 32:i+=1;break;case 9:i=f.i.nextRenderTabStop(i,S);break;default:return-1}}return i===g?E:-1}}},71009:(Xe,we,e)=>{e.d(we,{A:()=>E});var f=e(16055),P=e(41604),r=e(5250),y=e(96678),v=e(51322),S=e(96726),T=e(68678);class E{static deleteRight(p,c,u,g){const i=[];let d=3!==p;for(let a=0,m=g.length;a<m;a++){const l=g[a];let I=l;if(I.isEmpty()){const w=l.getPosition(),D=v.o.right(c,u,w);I=new S.e(D.lineNumber,D.column,w.lineNumber,w.column)}I.isEmpty()?i[a]=null:(I.startLineNumber!==I.endLineNumber&&(d=!0),i[a]=new P.T4(I,""))}return[d,i]}static isAutoClosingPairDelete(p,c,u,g,i,d,a){if("never"===c&&"never"===u||"never"===p)return!1;for(let m=0,l=d.length;m<l;m++){const I=d[m],w=I.getPosition();if(!I.isEmpty())return!1;const D=i.getLineContent(w.lineNumber);if(w.column<2||w.column>=D.length+1)return!1;const N=D.charAt(w.column-2),A=g.get(N);if(!A)return!1;if((0,r.LN)(N)){if("never"===u)return!1}else if("never"===c)return!1;const k=D.charAt(w.column-1);let R=!1;for(const O of A)O.open===N&&O.close===k&&(R=!0);if(!R)return!1;if("auto"===p){let O=!1;for(let W=0,z=a.length;W<z;W++){const U=a[W];if(w.lineNumber===U.startLineNumber&&w.column===U.startColumn){O=!0;break}}if(!O)return!1}}return!0}static _runAutoClosingPairDelete(p,c,u){const g=[];for(let i=0,d=u.length;i<d;i++){const a=u[i].getPosition(),m=new S.e(a.lineNumber,a.column-1,a.lineNumber,a.column+1);g[i]=new P.T4(m,"")}return[!0,g]}static deleteLeft(p,c,u,g,i){if(this.isAutoClosingPairDelete(c.autoClosingDelete,c.autoClosingBrackets,c.autoClosingQuotes,c.autoClosingPairs.autoClosingPairsOpenByEnd,u,g,i))return this._runAutoClosingPairDelete(c,u,g);const d=[];let a=2!==p;for(let m=0,l=g.length;m<l;m++){const I=E.getDeleteRange(g[m],u,c);I.isEmpty()?d[m]=null:(I.startLineNumber!==I.endLineNumber&&(a=!0),d[m]=new P.T4(I,""))}return[a,d]}static getDeleteRange(p,c,u){if(!p.isEmpty())return p;const g=p.getPosition();if(u.useTabStops&&g.column>1){const i=c.getLineContent(g.lineNumber),d=f.LC(i);if(g.column<=(-1===d?i.length+1:d+1)){const m=u.visibleColumnFromColumn(c,g),l=y.i.prevIndentTabStop(m,u.indentSize),I=u.columnFromVisibleColumn(c,g.lineNumber,l);return new S.e(g.lineNumber,I,g.lineNumber,g.column)}}return S.e.fromPositions(E.getPositionAfterDeleteLeft(g,c),g)}static getPositionAfterDeleteLeft(p,c){if(p.column>1){const u=f.oH(p.column-1,c.getLineContent(p.lineNumber));return p.with(void 0,u+1)}if(p.lineNumber>1){const u=p.lineNumber-1;return new T.L(u,c.getLineMaxColumn(u))}return p}static cut(p,c,u){const g=[];let i=null;u.sort((d,a)=>T.L.compare(d.getStartPosition(),a.getEndPosition()));for(let d=0,a=u.length;d<a;d++){const m=u[d];if(m.isEmpty())if(p.emptySelectionClipboard){const l=m.getPosition();let I,w,D,N;l.lineNumber<c.getLineCount()?(I=l.lineNumber,w=1,D=l.lineNumber+1,N=1):l.lineNumber>1&&i?.endLineNumber!==l.lineNumber?(I=l.lineNumber-1,w=c.getLineMaxColumn(l.lineNumber-1),D=l.lineNumber,N=c.getLineMaxColumn(l.lineNumber)):(I=l.lineNumber,w=1,D=l.lineNumber,N=c.getLineMaxColumn(l.lineNumber));const A=new S.e(I,w,D,N);i=A,g[d]=A.isEmpty()?null:new P.T4(A,"")}else g[d]=null;else g[d]=new P.T4(m,"")}return new r.Tp(0,g,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}}},18051:(Xe,we,e)=>{e.d(we,{N:()=>E,P:()=>T});var E,L,f=e(91402),P=e(5250),r=e(51322),y=e(86350),v=e(68678),S=e(96726);class T{static addCursorDown(p,c,u){const g=[];let i=0;for(let d=0,a=c.length;d<a;d++){const m=c[d];g[i++]=new P.Vi(m.modelState,m.viewState),g[i++]=u?P.Vi.fromModelState(r.o.translateDown(p.cursorConfig,p.model,m.modelState)):P.Vi.fromViewState(r.o.translateDown(p.cursorConfig,p,m.viewState))}return g}static addCursorUp(p,c,u){const g=[];let i=0;for(let d=0,a=c.length;d<a;d++){const m=c[d];g[i++]=new P.Vi(m.modelState,m.viewState),g[i++]=u?P.Vi.fromModelState(r.o.translateUp(p.cursorConfig,p.model,m.modelState)):P.Vi.fromViewState(r.o.translateUp(p.cursorConfig,p,m.viewState))}return g}static moveToBeginningOfLine(p,c,u){const g=[];for(let i=0,d=c.length;i<d;i++)g[i]=this._moveToLineStart(p,c[i],u);return g}static _moveToLineStart(p,c,u){const g=c.viewState.position.column,d=g===c.modelState.position.column,m=p.getLineFirstNonWhitespaceColumn(c.viewState.position.lineNumber);return d||g===m?this._moveToLineStartByModel(p,c,u):this._moveToLineStartByView(p,c,u)}static _moveToLineStartByView(p,c,u){return P.Vi.fromViewState(r.o.moveToBeginningOfLine(p.cursorConfig,p,c.viewState,u))}static _moveToLineStartByModel(p,c,u){return P.Vi.fromModelState(r.o.moveToBeginningOfLine(p.cursorConfig,p.model,c.modelState,u))}static moveToEndOfLine(p,c,u,g){const i=[];for(let d=0,a=c.length;d<a;d++)i[d]=this._moveToLineEnd(p,c[d],u,g);return i}static _moveToLineEnd(p,c,u,g){const i=c.viewState.position,d=p.getLineMaxColumn(i.lineNumber),a=i.column===d,m=c.modelState.position,l=p.model.getLineMaxColumn(m.lineNumber);return a||d-i.column==l-m.column?this._moveToLineEndByModel(p,c,u,g):this._moveToLineEndByView(p,c,u,g)}static _moveToLineEndByView(p,c,u,g){return P.Vi.fromViewState(r.o.moveToEndOfLine(p.cursorConfig,p,c.viewState,u,g))}static _moveToLineEndByModel(p,c,u,g){return P.Vi.fromModelState(r.o.moveToEndOfLine(p.cursorConfig,p.model,c.modelState,u,g))}static expandLineSelection(p,c){const u=[];for(let g=0,i=c.length;g<i;g++){const d=c[g],a=d.modelState.selection.startLineNumber,m=p.model.getLineCount();let I,l=d.modelState.selection.endLineNumber;l===m?I=p.model.getLineMaxColumn(m):(l++,I=1),u[g]=P.Vi.fromModelState(new P.rS(new S.e(a,1,a,1),0,0,new v.L(l,I),0))}return u}static moveToBeginningOfBuffer(p,c,u){const g=[];for(let i=0,d=c.length;i<d;i++)g[i]=P.Vi.fromModelState(r.o.moveToBeginningOfBuffer(p.cursorConfig,p.model,c[i].modelState,u));return g}static moveToEndOfBuffer(p,c,u){const g=[];for(let i=0,d=c.length;i<d;i++)g[i]=P.Vi.fromModelState(r.o.moveToEndOfBuffer(p.cursorConfig,p.model,c[i].modelState,u));return g}static selectAll(p,c){const u=p.model.getLineCount(),g=p.model.getLineMaxColumn(u);return P.Vi.fromModelState(new P.rS(new S.e(1,1,1,1),0,0,new v.L(u,g),0))}static line(p,c,u,g,i){const d=p.model.validatePosition(g),a=i?p.coordinatesConverter.validateViewPosition(new v.L(i.lineNumber,i.column),d):p.coordinatesConverter.convertModelPositionToViewPosition(d);if(!u){const l=p.model.getLineCount();let I=d.lineNumber+1,w=1;return I>l&&(I=l,w=p.model.getLineMaxColumn(I)),P.Vi.fromModelState(new P.rS(new S.e(d.lineNumber,1,I,w),2,0,new v.L(I,w),0))}const m=c.modelState.selectionStart.getStartPosition().lineNumber;if(d.lineNumber<m)return P.Vi.fromViewState(c.viewState.move(!0,a.lineNumber,1,0));if(d.lineNumber>m){const l=p.getLineCount();let I=a.lineNumber+1,w=1;return I>l&&(I=l,w=p.getLineMaxColumn(I)),P.Vi.fromViewState(c.viewState.move(!0,I,w,0))}{const l=c.modelState.selectionStart.getEndPosition();return P.Vi.fromModelState(c.modelState.move(!0,l.lineNumber,l.column,0))}}static word(p,c,u,g){const i=p.model.validatePosition(g);return P.Vi.fromModelState(y.w.word(p.cursorConfig,p.model,c.modelState,u,i))}static cancelSelection(p,c){if(!c.modelState.hasSelection())return new P.Vi(c.modelState,c.viewState);const u=c.viewState.position.lineNumber,g=c.viewState.position.column;return P.Vi.fromViewState(new P.rS(new S.e(u,g,u,g),0,0,new v.L(u,g),0))}static moveTo(p,c,u,g,i){if(u){if(1===c.modelState.selectionStartKind)return this.word(p,c,u,g);if(2===c.modelState.selectionStartKind)return this.line(p,c,u,g,i)}const d=p.model.validatePosition(g),a=i?p.coordinatesConverter.validateViewPosition(new v.L(i.lineNumber,i.column),d):p.coordinatesConverter.convertModelPositionToViewPosition(d);return P.Vi.fromViewState(c.viewState.move(u,a.lineNumber,a.column,0))}static simpleMove(p,c,u,g,i,d){switch(u){case 0:return 4===d?this._moveHalfLineLeft(p,c,g):this._moveLeft(p,c,g,i);case 1:return 4===d?this._moveHalfLineRight(p,c,g):this._moveRight(p,c,g,i);case 2:return 2===d?this._moveUpByViewLines(p,c,g,i):this._moveUpByModelLines(p,c,g,i);case 3:return 2===d?this._moveDownByViewLines(p,c,g,i):this._moveDownByModelLines(p,c,g,i);case 4:return c.map(2===d?a=>P.Vi.fromViewState(r.o.moveToPrevBlankLine(p.cursorConfig,p,a.viewState,g)):a=>P.Vi.fromModelState(r.o.moveToPrevBlankLine(p.cursorConfig,p.model,a.modelState,g)));case 5:return c.map(2===d?a=>P.Vi.fromViewState(r.o.moveToNextBlankLine(p.cursorConfig,p,a.viewState,g)):a=>P.Vi.fromModelState(r.o.moveToNextBlankLine(p.cursorConfig,p.model,a.modelState,g)));case 6:return this._moveToViewMinColumn(p,c,g);case 7:return this._moveToViewFirstNonWhitespaceColumn(p,c,g);case 8:return this._moveToViewCenterColumn(p,c,g);case 9:return this._moveToViewMaxColumn(p,c,g);case 10:return this._moveToViewLastNonWhitespaceColumn(p,c,g);default:return null}}static viewportMove(p,c,u,g,i){const d=p.getCompletelyVisibleViewRange(),a=p.coordinatesConverter.convertViewRangeToModelRange(d);switch(u){case 11:{const m=this._firstLineNumberInRange(p.model,a,i),l=p.model.getLineFirstNonWhitespaceColumn(m);return[this._moveToModelPosition(p,c[0],g,m,l)]}case 13:{const m=this._lastLineNumberInRange(p.model,a,i),l=p.model.getLineFirstNonWhitespaceColumn(m);return[this._moveToModelPosition(p,c[0],g,m,l)]}case 12:{const m=Math.round((a.startLineNumber+a.endLineNumber)/2),l=p.model.getLineFirstNonWhitespaceColumn(m);return[this._moveToModelPosition(p,c[0],g,m,l)]}case 14:{const m=[];for(let l=0,I=c.length;l<I;l++)m[l]=this.findPositionInViewportIfOutside(p,c[l],d,g);return m}default:return null}}static findPositionInViewportIfOutside(p,c,u,g){const i=c.viewState.position.lineNumber;if(u.startLineNumber<=i&&i<=u.endLineNumber-1)return new P.Vi(c.modelState,c.viewState);{let d;d=i>u.endLineNumber-1?u.endLineNumber-1:i<u.startLineNumber?u.startLineNumber:i;const a=r.o.vertical(p.cursorConfig,p,i,c.viewState.position.column,c.viewState.leftoverVisibleColumns,d,!1);return P.Vi.fromViewState(c.viewState.move(g,a.lineNumber,a.column,a.leftoverVisibleColumns))}}static _firstLineNumberInRange(p,c,u){let g=c.startLineNumber;return c.startColumn!==p.getLineMinColumn(g)&&g++,Math.min(c.endLineNumber,g+u-1)}static _lastLineNumberInRange(p,c,u){let g=c.startLineNumber;return c.startColumn!==p.getLineMinColumn(g)&&g++,Math.max(g,c.endLineNumber-u+1)}static _moveLeft(p,c,u,g){return c.map(i=>P.Vi.fromViewState(r.o.moveLeft(p.cursorConfig,p,i.viewState,u,g)))}static _moveHalfLineLeft(p,c,u){const g=[];for(let i=0,d=c.length;i<d;i++){const a=c[i],l=Math.round(p.getLineContent(a.viewState.position.lineNumber).length/2);g[i]=P.Vi.fromViewState(r.o.moveLeft(p.cursorConfig,p,a.viewState,u,l))}return g}static _moveRight(p,c,u,g){return c.map(i=>P.Vi.fromViewState(r.o.moveRight(p.cursorConfig,p,i.viewState,u,g)))}static _moveHalfLineRight(p,c,u){const g=[];for(let i=0,d=c.length;i<d;i++){const a=c[i],l=Math.round(p.getLineContent(a.viewState.position.lineNumber).length/2);g[i]=P.Vi.fromViewState(r.o.moveRight(p.cursorConfig,p,a.viewState,u,l))}return g}static _moveDownByViewLines(p,c,u,g){const i=[];for(let d=0,a=c.length;d<a;d++)i[d]=P.Vi.fromViewState(r.o.moveDown(p.cursorConfig,p,c[d].viewState,u,g));return i}static _moveDownByModelLines(p,c,u,g){const i=[];for(let d=0,a=c.length;d<a;d++)i[d]=P.Vi.fromModelState(r.o.moveDown(p.cursorConfig,p.model,c[d].modelState,u,g));return i}static _moveUpByViewLines(p,c,u,g){const i=[];for(let d=0,a=c.length;d<a;d++)i[d]=P.Vi.fromViewState(r.o.moveUp(p.cursorConfig,p,c[d].viewState,u,g));return i}static _moveUpByModelLines(p,c,u,g){const i=[];for(let d=0,a=c.length;d<a;d++)i[d]=P.Vi.fromModelState(r.o.moveUp(p.cursorConfig,p.model,c[d].modelState,u,g));return i}static _moveToViewPosition(p,c,u,g,i){return P.Vi.fromViewState(c.viewState.move(u,g,i,0))}static _moveToModelPosition(p,c,u,g,i){return P.Vi.fromModelState(c.modelState.move(u,g,i,0))}static _moveToViewMinColumn(p,c,u){const g=[];for(let i=0,d=c.length;i<d;i++){const a=c[i],m=a.viewState.position.lineNumber,l=p.getLineMinColumn(m);g[i]=this._moveToViewPosition(p,a,u,m,l)}return g}static _moveToViewFirstNonWhitespaceColumn(p,c,u){const g=[];for(let i=0,d=c.length;i<d;i++){const a=c[i],m=a.viewState.position.lineNumber,l=p.getLineFirstNonWhitespaceColumn(m);g[i]=this._moveToViewPosition(p,a,u,m,l)}return g}static _moveToViewCenterColumn(p,c,u){const g=[];for(let i=0,d=c.length;i<d;i++){const a=c[i],m=a.viewState.position.lineNumber,l=Math.round((p.getLineMaxColumn(m)+p.getLineMinColumn(m))/2);g[i]=this._moveToViewPosition(p,a,u,m,l)}return g}static _moveToViewMaxColumn(p,c,u){const g=[];for(let i=0,d=c.length;i<d;i++){const a=c[i],m=a.viewState.position.lineNumber,l=p.getLineMaxColumn(m);g[i]=this._moveToViewPosition(p,a,u,m,l)}return g}static _moveToViewLastNonWhitespaceColumn(p,c,u){const g=[];for(let i=0,d=c.length;i<d;i++){const a=c[i],m=a.viewState.position.lineNumber,l=p.getLineLastNonWhitespaceColumn(m);g[i]=this._moveToViewPosition(p,a,u,m,l)}return g}}(L=E||(E={})).description={description:"Move cursor to a logical position in the view",args:[{name:"Cursor move argument object",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t* 'to': A mandatory logical position value providing where to move the cursor.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'left', 'right', 'up', 'down', 'prevBlankLine', 'nextBlankLine',\n\t\t\t\t\t\t'wrappedLineStart', 'wrappedLineEnd', 'wrappedLineColumnCenter'\n\t\t\t\t\t\t'wrappedLineFirstNonWhitespaceCharacter', 'wrappedLineLastNonWhitespaceCharacter'\n\t\t\t\t\t\t'viewPortTop', 'viewPortCenter', 'viewPortBottom', 'viewPortIfOutside'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'by': Unit to move. Default is computed based on 'to' value.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'line', 'wrappedLine', 'character', 'halfLine'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'value': Number of units to move. Default is '1'.\n\t\t\t\t\t* 'select': If 'true' makes the selection. Default is 'false'.\n\t\t\t\t",constraint:function(u){if(!f.Kn(u))return!1;const g=u;return!(!f.HD(g.to)||!f.o8(g.select)&&!f.jn(g.select)||!f.o8(g.by)&&!f.HD(g.by)||!f.o8(g.value)&&!f.hj(g.value))},schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["left","right","up","down","prevBlankLine","nextBlankLine","wrappedLineStart","wrappedLineEnd","wrappedLineColumnCenter","wrappedLineFirstNonWhitespaceCharacter","wrappedLineLastNonWhitespaceCharacter","viewPortTop","viewPortCenter","viewPortBottom","viewPortIfOutside"]},by:{type:"string",enum:["line","wrappedLine","character","halfLine"]},value:{type:"number",default:1},select:{type:"boolean",default:!1}}}}]},L.RawDirection={Left:"left",Right:"right",Up:"up",Down:"down",PrevBlankLine:"prevBlankLine",NextBlankLine:"nextBlankLine",WrappedLineStart:"wrappedLineStart",WrappedLineFirstNonWhitespaceCharacter:"wrappedLineFirstNonWhitespaceCharacter",WrappedLineColumnCenter:"wrappedLineColumnCenter",WrappedLineEnd:"wrappedLineEnd",WrappedLineLastNonWhitespaceCharacter:"wrappedLineLastNonWhitespaceCharacter",ViewPortTop:"viewPortTop",ViewPortCenter:"viewPortCenter",ViewPortBottom:"viewPortBottom",ViewPortIfOutside:"viewPortIfOutside"},L.RawUnit={Line:"line",WrappedLine:"wrappedLine",Character:"character",HalfLine:"halfLine"},L.parse=function c(u){if(!u.to)return null;let g;switch(u.to){case L.RawDirection.Left:g=0;break;case L.RawDirection.Right:g=1;break;case L.RawDirection.Up:g=2;break;case L.RawDirection.Down:g=3;break;case L.RawDirection.PrevBlankLine:g=4;break;case L.RawDirection.NextBlankLine:g=5;break;case L.RawDirection.WrappedLineStart:g=6;break;case L.RawDirection.WrappedLineFirstNonWhitespaceCharacter:g=7;break;case L.RawDirection.WrappedLineColumnCenter:g=8;break;case L.RawDirection.WrappedLineEnd:g=9;break;case L.RawDirection.WrappedLineLastNonWhitespaceCharacter:g=10;break;case L.RawDirection.ViewPortTop:g=11;break;case L.RawDirection.ViewPortBottom:g=13;break;case L.RawDirection.ViewPortCenter:g=12;break;case L.RawDirection.ViewPortIfOutside:g=14;break;default:return null}let i=0;switch(u.by){case L.RawUnit.Line:i=1;break;case L.RawUnit.WrappedLine:i=2;break;case L.RawUnit.Character:i=3;break;case L.RawUnit.HalfLine:i=4}return{direction:g,unit:i,select:!!u.select,value:u.value||1}}},51322:(Xe,we,e)=>{e.d(we,{o:()=>E});var f=e(16055),P=e(96678),r=e(68678),y=e(96726),v=e(83418),S=e(5250);class T{constructor(p,c,u){this._cursorPositionBrand=void 0,this.lineNumber=p,this.column=c,this.leftoverVisibleColumns=u}}class E{static leftPosition(p,c){if(c.column>p.getLineMinColumn(c.lineNumber))return c.delta(void 0,-f.HO(p.getLineContent(c.lineNumber),c.column-1));if(c.lineNumber>1){const u=c.lineNumber-1;return new r.L(u,p.getLineMaxColumn(u))}return c}static leftPositionAtomicSoftTabs(p,c,u){if(c.column<=p.getLineIndentColumn(c.lineNumber)){const g=p.getLineMinColumn(c.lineNumber),i=p.getLineContent(c.lineNumber),d=v.l.atomicPosition(i,c.column-1,u,0);if(-1!==d&&d+1>=g)return new r.L(c.lineNumber,d+1)}return this.leftPosition(p,c)}static left(p,c,u){const g=p.stickyTabStops?E.leftPositionAtomicSoftTabs(c,u,p.tabSize):E.leftPosition(c,u);return new T(g.lineNumber,g.column,0)}static moveLeft(p,c,u,g,i){let d,a;if(u.hasSelection()&&!g)d=u.selection.startLineNumber,a=u.selection.startColumn;else{const m=u.position.delta(void 0,-(i-1)),l=c.normalizePosition(E.clipPositionColumn(m,c),0),I=E.left(p,c,l);d=I.lineNumber,a=I.column}return u.move(g,d,a,0)}static clipPositionColumn(p,c){return new r.L(p.lineNumber,E.clipRange(p.column,c.getLineMinColumn(p.lineNumber),c.getLineMaxColumn(p.lineNumber)))}static clipRange(p,c,u){return p<c?c:p>u?u:p}static rightPosition(p,c,u){return u<p.getLineMaxColumn(c)?u+=f.vH(p.getLineContent(c),u-1):c<p.getLineCount()&&(u=p.getLineMinColumn(c+=1)),new r.L(c,u)}static rightPositionAtomicSoftTabs(p,c,u,g,i){if(u<p.getLineIndentColumn(c)){const d=p.getLineContent(c),a=v.l.atomicPosition(d,u-1,g,1);if(-1!==a)return new r.L(c,a+1)}return this.rightPosition(p,c,u)}static right(p,c,u){const g=p.stickyTabStops?E.rightPositionAtomicSoftTabs(c,u.lineNumber,u.column,p.tabSize,p.indentSize):E.rightPosition(c,u.lineNumber,u.column);return new T(g.lineNumber,g.column,0)}static moveRight(p,c,u,g,i){let d,a;if(u.hasSelection()&&!g)d=u.selection.endLineNumber,a=u.selection.endColumn;else{const m=u.position.delta(void 0,i-1),l=c.normalizePosition(E.clipPositionColumn(m,c),1),I=E.right(p,c,l);d=I.lineNumber,a=I.column}return u.move(g,d,a,0)}static vertical(p,c,u,g,i,d,a,m){const l=P.i.visibleColumnFromColumn(c.getLineContent(u),g,p.tabSize)+i,I=c.getLineCount(),w=1===u&&1===g,D=u===I&&g===c.getLineMaxColumn(u),N=d<u?w:D;if((u=d)<1?(u=1,g=a?c.getLineMinColumn(u):Math.min(c.getLineMaxColumn(u),g)):u>I?(u=I,g=a?c.getLineMaxColumn(u):Math.min(c.getLineMaxColumn(u),g)):g=p.columnFromVisibleColumn(c,u,l),i=N?0:l-P.i.visibleColumnFromColumn(c.getLineContent(u),g,p.tabSize),void 0!==m){const A=new r.L(u,g),k=c.normalizePosition(A,m);i+=g-k.column,u=k.lineNumber,g=k.column}return new T(u,g,i)}static down(p,c,u,g,i,d,a){return this.vertical(p,c,u,g,i,u+d,a,4)}static moveDown(p,c,u,g,i){let d,a;u.hasSelection()&&!g?(d=u.selection.endLineNumber,a=u.selection.endColumn):(d=u.position.lineNumber,a=u.position.column);let l,m=0;do{if(l=E.down(p,c,d+m,a,u.leftoverVisibleColumns,i,!0),c.normalizePosition(new r.L(l.lineNumber,l.column),2).lineNumber>d)break}while(m++<10&&d+m<c.getLineCount());return u.move(g,l.lineNumber,l.column,l.leftoverVisibleColumns)}static translateDown(p,c,u){const g=u.selection,i=E.down(p,c,g.selectionStartLineNumber,g.selectionStartColumn,u.selectionStartLeftoverVisibleColumns,1,!1),d=E.down(p,c,g.positionLineNumber,g.positionColumn,u.leftoverVisibleColumns,1,!1);return new S.rS(new y.e(i.lineNumber,i.column,i.lineNumber,i.column),0,i.leftoverVisibleColumns,new r.L(d.lineNumber,d.column),d.leftoverVisibleColumns)}static up(p,c,u,g,i,d,a){return this.vertical(p,c,u,g,i,u-d,a,3)}static moveUp(p,c,u,g,i){let d,a;u.hasSelection()&&!g?(d=u.selection.startLineNumber,a=u.selection.startColumn):(d=u.position.lineNumber,a=u.position.column);const m=E.up(p,c,d,a,u.leftoverVisibleColumns,i,!0);return u.move(g,m.lineNumber,m.column,m.leftoverVisibleColumns)}static translateUp(p,c,u){const g=u.selection,i=E.up(p,c,g.selectionStartLineNumber,g.selectionStartColumn,u.selectionStartLeftoverVisibleColumns,1,!1),d=E.up(p,c,g.positionLineNumber,g.positionColumn,u.leftoverVisibleColumns,1,!1);return new S.rS(new y.e(i.lineNumber,i.column,i.lineNumber,i.column),0,i.leftoverVisibleColumns,new r.L(d.lineNumber,d.column),d.leftoverVisibleColumns)}static _isBlankLine(p,c){return 0===p.getLineFirstNonWhitespaceColumn(c)}static moveToPrevBlankLine(p,c,u,g){let i=u.position.lineNumber;for(;i>1&&this._isBlankLine(c,i);)i--;for(;i>1&&!this._isBlankLine(c,i);)i--;return u.move(g,i,c.getLineMinColumn(i),0)}static moveToNextBlankLine(p,c,u,g){const i=c.getLineCount();let d=u.position.lineNumber;for(;d<i&&this._isBlankLine(c,d);)d++;for(;d<i&&!this._isBlankLine(c,d);)d++;return u.move(g,d,c.getLineMinColumn(d),0)}static moveToBeginningOfLine(p,c,u,g){const i=u.position.lineNumber,d=c.getLineMinColumn(i),a=c.getLineFirstNonWhitespaceColumn(i)||d;let m;return m=u.position.column===a?d:a,u.move(g,i,m,0)}static moveToEndOfLine(p,c,u,g,i){const d=u.position.lineNumber,a=c.getLineMaxColumn(d);return u.move(g,d,a,i?1073741824-a:0)}static moveToBeginningOfBuffer(p,c,u,g){return u.move(g,1,1,0)}static moveToEndOfBuffer(p,c,u,g){const i=c.getLineCount(),d=c.getLineMaxColumn(i);return u.move(g,i,d,0)}}},89593:(Xe,we,e)=>{e.d(we,{Nu:()=>I,u6:()=>m,g_:()=>l});var f=e(17967),P=e(16055),r=e(41604),y=e(79445),v=e(96726),S=e(81534);class T{constructor(R,O,W){this._range=R,this._charBeforeSelection=O,this._charAfterSelection=W}getEditOperations(R,O){O.addTrackedEditOperation(new v.e(this._range.startLineNumber,this._range.startColumn,this._range.startLineNumber,this._range.startColumn),this._charBeforeSelection),O.addTrackedEditOperation(new v.e(this._range.endLineNumber,this._range.endColumn,this._range.endLineNumber,this._range.endColumn),this._charAfterSelection)}computeCursorState(R,O){const W=O.getInverseEditOperations(),z=W[0].range,U=W[1].range;return new S.Y(z.endLineNumber,z.endColumn,U.endLineNumber,U.endColumn-this._charAfterSelection.length)}}class E{constructor(R,O,W){this._position=R,this._text=O,this._charAfter=W}getEditOperations(R,O){O.addTrackedEditOperation(new v.e(this._position.lineNumber,this._position.column,this._position.lineNumber,this._position.column),this._text+this._charAfter)}computeCursorState(R,O){const z=O.getInverseEditOperations()[0].range;return new S.Y(z.endLineNumber,z.startColumn,z.endLineNumber,z.endColumn-this._charAfter.length)}}var L=e(5250),p=e(80020),c=e(68678),u=e(89224),g=e(58459),i=e(20386),d=e(47683),a=e(5256);class m{static indent(R,O,W){if(null===O||null===W)return[];const z=[];for(let U=0,ee=W.length;U<ee;U++)z[U]=new y.U(W[U],{isUnshift:!1,tabSize:R.tabSize,indentSize:R.indentSize,insertSpaces:R.insertSpaces,useTabStops:R.useTabStops,autoIndent:R.autoIndent},R.languageConfigurationService);return z}static outdent(R,O,W){const z=[];for(let U=0,ee=W.length;U<ee;U++)z[U]=new y.U(W[U],{isUnshift:!0,tabSize:R.tabSize,indentSize:R.indentSize,insertSpaces:R.insertSpaces,useTabStops:R.useTabStops,autoIndent:R.autoIndent},R.languageConfigurationService);return z}static shiftIndent(R,O,W){return y.U.shiftIndent(O,O.length+(W=W||1),R.tabSize,R.indentSize,R.insertSpaces)}static unshiftIndent(R,O,W){return y.U.unshiftIndent(O,O.length+(W=W||1),R.tabSize,R.indentSize,R.insertSpaces)}static _distributedPaste(R,O,W,z){const U=[];for(let ee=0,B=W.length;ee<B;ee++)U[ee]=new r.T4(W[ee],z[ee]);return new L.Tp(0,U,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _simplePaste(R,O,W,z,U){const ee=[];for(let B=0,G=W.length;B<G;B++){const se=W[B],j=se.getPosition();if(U&&!se.isEmpty()&&(U=!1),U&&z.indexOf("\n")!==z.length-1&&(U=!1),U){const $=new v.e(j.lineNumber,1,j.lineNumber,1);ee[B]=new r.hP($,z,se,!0)}else ee[B]=new r.T4(se,z)}return new L.Tp(0,ee,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _distributePasteToCursors(R,O,W,z,U){if(z||1===O.length)return null;if(U&&U.length===O.length)return U;if("spread"===R.multiCursorPaste){10===W.charCodeAt(W.length-1)&&(W=W.substr(0,W.length-1)),13===W.charCodeAt(W.length-1)&&(W=W.substr(0,W.length-1));const ee=P.uq(W);if(ee.length===O.length)return ee}return null}static paste(R,O,W,z,U,ee){const B=this._distributePasteToCursors(R,W,z,U,ee);return B?(W=W.sort(v.e.compareRangesUsingStarts),this._distributedPaste(R,O,W,B)):this._simplePaste(R,O,W,z,U)}static _goodIndentForLine(R,O,W){let z=null,U="";const ee=(0,d.r7)(R.autoIndent,O,W,!1,R.languageConfigurationService);if(ee)z=ee.action,U=ee.indentation;else if(W>1){let B;for(B=W-1;B>=1;B--){const j=O.getLineContent(B);if(P.ow(j)>=0)break}if(B<1)return null;const G=O.getLineMaxColumn(B),se=(0,a.A)(R.autoIndent,O,new v.e(B,G,B,G),R.languageConfigurationService);se&&(U=se.indentation+se.appendText)}return z&&(z===u.wU.Indent&&(U=m.shiftIndent(R,U)),z===u.wU.Outdent&&(U=m.unshiftIndent(R,U)),U=R.normalizeIndentation(U)),U||null}static _replaceJumpToNextIndent(R,O,W,z){let U="";const ee=W.getStartPosition();if(R.insertSpaces){const B=R.visibleColumnFromColumn(O,ee),G=R.indentSize,se=G-B%G;for(let j=0;j<se;j++)U+=" "}else U="\t";return new r.T4(W,U,z)}static tab(R,O,W){const z=[];for(let U=0,ee=W.length;U<ee;U++){const B=W[U];if(B.isEmpty()){const G=O.getLineContent(B.startLineNumber);if(/^\s*$/.test(G)&&O.tokenization.isCheapToTokenize(B.startLineNumber)){let se=this._goodIndentForLine(R,O,B.startLineNumber);se=se||"\t";const j=R.normalizeIndentation(se);if(!G.startsWith(j)){z[U]=new r.T4(new v.e(B.startLineNumber,1,B.startLineNumber,G.length+1),j,!0);continue}}z[U]=this._replaceJumpToNextIndent(R,O,B,!0)}else{if(B.startLineNumber===B.endLineNumber){const G=O.getLineMaxColumn(B.startLineNumber);if(1!==B.startColumn||B.endColumn!==G){z[U]=this._replaceJumpToNextIndent(R,O,B,!1);continue}}z[U]=new y.U(B,{isUnshift:!1,tabSize:R.tabSize,indentSize:R.indentSize,insertSpaces:R.insertSpaces,useTabStops:R.useTabStops,autoIndent:R.autoIndent},R.languageConfigurationService)}}return z}static compositionType(R,O,W,z,U,ee,B,G){const se=z.map(j=>this._compositionType(W,j,U,ee,B,G));return new L.Tp(4,se,{shouldPushStackElementBefore:D(R,4),shouldPushStackElementAfter:!1})}static _compositionType(R,O,W,z,U,ee){if(!O.isEmpty())return null;const B=O.getPosition(),G=Math.max(1,B.column-z),se=Math.min(R.getLineMaxColumn(B.lineNumber),B.column+U),j=new v.e(B.lineNumber,G,B.lineNumber,se);return R.getValueInRange(j)===W&&0===ee?null:new r.Uo(j,W,0,ee)}static _typeCommand(R,O,W){return W?new r.Sj(R,O,!0):new r.T4(R,O,!0)}static _enter(R,O,W,z){if(0===R.autoIndent)return m._typeCommand(z,"\n",W);if(!O.tokenization.isCheapToTokenize(z.getStartPosition().lineNumber)||1===R.autoIndent){const G=O.getLineContent(z.startLineNumber),se=P.V8(G).substring(0,z.startColumn-1);return m._typeCommand(z,"\n"+R.normalizeIndentation(se),W)}const U=(0,a.A)(R.autoIndent,O,z,R.languageConfigurationService);if(U){if(U.indentAction===u.wU.None)return m._typeCommand(z,"\n"+R.normalizeIndentation(U.indentation+U.appendText),W);if(U.indentAction===u.wU.Indent)return m._typeCommand(z,"\n"+R.normalizeIndentation(U.indentation+U.appendText),W);if(U.indentAction===u.wU.IndentOutdent){const G=R.normalizeIndentation(U.indentation),se=R.normalizeIndentation(U.indentation+U.appendText),j="\n"+se+"\n"+G;return W?new r.Sj(z,j,!0):new r.Uo(z,j,-1,se.length-G.length,!0)}if(U.indentAction===u.wU.Outdent){const G=m.unshiftIndent(R,U.indentation);return m._typeCommand(z,"\n"+R.normalizeIndentation(G+U.appendText),W)}}const ee=O.getLineContent(z.startLineNumber),B=P.V8(ee).substring(0,z.startColumn-1);if(R.autoIndent>=4){const G=(0,d.UF)(R.autoIndent,O,z,{unshiftIndent:se=>m.unshiftIndent(R,se),shiftIndent:se=>m.shiftIndent(R,se),normalizeIndentation:se=>R.normalizeIndentation(se)},R.languageConfigurationService);if(G){let se=R.visibleColumnFromColumn(O,z.getEndPosition());const j=z.endColumn,$=O.getLineContent(z.endLineNumber),K=P.LC($);if(z=z.setEndPosition(z.endLineNumber,K>=0?Math.max(z.endColumn,K+1):O.getLineMaxColumn(z.endLineNumber)),W)return new r.Sj(z,"\n"+R.normalizeIndentation(G.afterEnter),!0);{let J=0;return j<=K+1&&(R.insertSpaces||(se=Math.ceil(se/R.indentSize)),J=Math.min(se+1-R.normalizeIndentation(G.afterEnter).length-1,0)),new r.Uo(z,"\n"+R.normalizeIndentation(G.afterEnter),0,J,!0)}}}return m._typeCommand(z,"\n"+R.normalizeIndentation(B),W)}static _isAutoIndentType(R,O,W){if(R.autoIndent<4)return!1;for(let z=0,U=W.length;z<U;z++)if(!O.tokenization.isCheapToTokenize(W[z].getEndPosition().lineNumber))return!1;return!0}static _runAutoIndentType(R,O,W,z){const U=(0,g.u0)(O,W.startLineNumber,W.startColumn),ee=(0,d.$9)(R.autoIndent,O,W,z,{shiftIndent:B=>m.shiftIndent(R,B),unshiftIndent:B=>m.unshiftIndent(R,B)},R.languageConfigurationService);if(null===ee)return null;if(ee!==R.normalizeIndentation(U)){const B=O.getLineFirstNonWhitespaceColumn(W.startLineNumber);return m._typeCommand(new v.e(W.startLineNumber,1,W.endLineNumber,W.endColumn),0===B?R.normalizeIndentation(ee)+z:R.normalizeIndentation(ee)+O.getLineContent(W.startLineNumber).substring(B-1,W.startColumn-1)+z,!1)}return null}static _isAutoClosingOvertype(R,O,W,z,U){if("never"===R.autoClosingOvertype||!R.autoClosingPairs.autoClosingPairsCloseSingleChar.has(U))return!1;for(let ee=0,B=W.length;ee<B;ee++){const G=W[ee];if(!G.isEmpty())return!1;const se=G.getPosition(),j=O.getLineContent(se.lineNumber);if(j.charAt(se.column-1)!==U)return!1;const K=(0,L.LN)(U);if(92===(se.column>2?j.charCodeAt(se.column-2):0)&&K)return!1;if("auto"===R.autoClosingOvertype){let te=!1;for(let ne=0,_=z.length;ne<_;ne++){const ae=z[ne];if(se.lineNumber===ae.startLineNumber&&se.column===ae.startColumn){te=!0;break}}if(!te)return!1}}return!0}static _runAutoClosingOvertype(R,O,W,z,U){const ee=[];for(let B=0,G=z.length;B<G;B++){const j=z[B].getPosition(),$=new v.e(j.lineNumber,j.column,j.lineNumber,j.column+1);ee[B]=new r.T4($,U)}return new L.Tp(4,ee,{shouldPushStackElementBefore:D(R,4),shouldPushStackElementAfter:!1})}static _isBeforeClosingBrace(R,O){const W=O.charAt(0),z=R.autoClosingPairs.autoClosingPairsOpenByStart.get(W)||[],U=R.autoClosingPairs.autoClosingPairsCloseByStart.get(W)||[],ee=z.some(G=>O.startsWith(G.open)),B=U.some(G=>O.startsWith(G.close));return!ee&&B}static _findAutoClosingPairOpen(R,O,W,z){const U=R.autoClosingPairs.autoClosingPairsOpenByEnd.get(z);if(!U)return null;let ee=null;for(const B of U)if(null===ee||B.open.length>ee.open.length){let G=!0;for(const se of W)if(O.getValueInRange(new v.e(se.lineNumber,se.column-B.open.length+1,se.lineNumber,se.column))+z!==B.open){G=!1;break}G&&(ee=B)}return ee}static _findContainedAutoClosingPair(R,O){if(O.open.length<=1)return null;const W=O.close.charAt(O.close.length-1),z=R.autoClosingPairs.autoClosingPairsCloseByEnd.get(W)||[];let U=null;for(const ee of z)ee.open!==O.open&&O.open.includes(ee.open)&&O.close.endsWith(ee.close)&&(!U||ee.open.length>U.open.length)&&(U=ee);return U}static _getAutoClosingPairClose(R,O,W,z,U){const ee=(0,L.LN)(z),B=ee?R.autoClosingQuotes:R.autoClosingBrackets,G=ee?R.shouldAutoCloseBefore.quote:R.shouldAutoCloseBefore.bracket;if("never"===B)return null;for(const te of W)if(!te.isEmpty())return null;const se=W.map(te=>{const ne=te.getPosition();return U?{lineNumber:ne.lineNumber,beforeColumn:ne.column-z.length,afterColumn:ne.column}:{lineNumber:ne.lineNumber,beforeColumn:ne.column,afterColumn:ne.column}}),j=this._findAutoClosingPairOpen(R,O,se.map(te=>new c.L(te.lineNumber,te.beforeColumn)),z);if(!j)return null;const $=this._findContainedAutoClosingPair(R,j),K=$?$.close:"";let J=!0;for(const te of se){const{lineNumber:ne,beforeColumn:_,afterColumn:ae}=te,ge=O.getLineContent(ne),_e=ge.substring(0,_-1),ue=ge.substring(ae-1);if(ue.startsWith(K)||(J=!1),ue.length>0){const Ve=ue.charAt(0);if(!m._isBeforeClosingBrace(R,ue)&&!G(Ve))return null}if(1===j.open.length&&("'"===z||'"'===z)&&"always"!==B){const Ve=(0,p.u)(R.wordSeparators);if(_e.length>0){const De=_e.charCodeAt(_e.length-1);if(0===Ve.get(De))return null}}if(!O.tokenization.isCheapToTokenize(ne))return null;O.tokenization.forceTokenization(ne);const ve=O.tokenization.getLineTokens(ne),Ie=(0,i.wH)(ve,_-1);if(!j.shouldAutoClose(Ie,_-Ie.firstCharOffset))return null;const Se=j.findNeutralCharacter();if(Se){const Ve=O.tokenization.getTokenTypeIfInsertingCharacter(ne,_,Se);if(!j.isOK(Ve))return null}}return J?j.close.substring(0,j.close.length-K.length):j.close}static _runAutoClosingOpenCharType(R,O,W,z,U,ee,B){const G=[];for(let se=0,j=z.length;se<j;se++)G[se]=new l(z[se],U,!ee,B);return new L.Tp(4,G,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}static _shouldSurroundChar(R,O){return(0,L.LN)(O)?"quotes"===R.autoSurround||"languageDefined"===R.autoSurround:"brackets"===R.autoSurround||"languageDefined"===R.autoSurround}static _isSurroundSelectionType(R,O,W,z){if(!m._shouldSurroundChar(R,z)||!R.surroundingPairs.hasOwnProperty(z))return!1;const U=(0,L.LN)(z);for(const ee of W){if(ee.isEmpty())return!1;let B=!0;for(let G=ee.startLineNumber;G<=ee.endLineNumber;G++){const se=O.getLineContent(G),K=se.substring(G===ee.startLineNumber?ee.startColumn-1:0,G===ee.endLineNumber?ee.endColumn-1:se.length);if(/[^ \t]/.test(K)){B=!1;break}}if(B)return!1;if(U&&ee.startLineNumber===ee.endLineNumber&&ee.startColumn+1===ee.endColumn){const G=O.getValueInRange(ee);if((0,L.LN)(G))return!1}}return!0}static _runSurroundSelectionType(R,O,W,z,U){const ee=[];for(let B=0,G=z.length;B<G;B++)ee[B]=new T(z[B],U,O.surroundingPairs[U]);return new L.Tp(0,ee,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _isTypeInterceptorElectricChar(R,O,W){return!(1!==W.length||!O.tokenization.isCheapToTokenize(W[0].getEndPosition().lineNumber))}static _typeInterceptorElectricChar(R,O,W,z,U){if(!O.electricChars.hasOwnProperty(U)||!z.isEmpty())return null;const ee=z.getPosition();W.tokenization.forceTokenization(ee.lineNumber);const B=W.tokenization.getLineTokens(ee.lineNumber);let G;try{G=O.onElectricCharacter(U,B,ee.column)}catch(se){return(0,f.dL)(se),null}if(!G)return null;if(G.matchOpenBracket){const se=(B.getLineContent()+U).lastIndexOf(G.matchOpenBracket)+1,j=W.bracketPairs.findMatchingBracketUp(G.matchOpenBracket,{lineNumber:ee.lineNumber,column:se},500);if(j){if(j.startLineNumber===ee.lineNumber)return null;const $=W.getLineContent(j.startLineNumber),K=P.V8($),J=O.normalizeIndentation(K),te=W.getLineContent(ee.lineNumber),ne=W.getLineFirstNonWhitespaceColumn(ee.lineNumber)||ee.column,ae=J+te.substring(ne-1,ee.column-1)+U,ge=new v.e(ee.lineNumber,1,ee.lineNumber,ee.column),_e=new r.T4(ge,ae);return new L.Tp(w(ae,R),[_e],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!0})}}return null}static compositionEndWithInterceptors(R,O,W,z,U,ee){if(!z)return null;let B=null;for(const $ of z)if(null===B)B=$.insertedText;else if(B!==$.insertedText)return null;if(!B||1!==B.length)return null;const G=B;let se=!1;for(const $ of z)if(0!==$.deletedText.length){se=!0;break}if(se){if(!m._shouldSurroundChar(O,G)||!O.surroundingPairs.hasOwnProperty(G))return null;const $=(0,L.LN)(G);for(const te of z)if(0!==te.deletedSelectionStart||te.deletedSelectionEnd!==te.deletedText.length||/^[ \t]+$/.test(te.deletedText)||$&&(0,L.LN)(te.deletedText))return null;const K=[];for(const te of U){if(!te.isEmpty())return null;K.push(te.getPosition())}if(K.length!==z.length)return null;const J=[];for(let te=0,ne=K.length;te<ne;te++)J.push(new E(K[te],z[te].deletedText,O.surroundingPairs[G]));return new L.Tp(4,J,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(this._isAutoClosingOvertype(O,W,U,ee,G)){const $=U.map(K=>new r.T4(new v.e(K.positionLineNumber,K.positionColumn,K.positionLineNumber,K.positionColumn+1),"",!1));return new L.Tp(4,$,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}const j=this._getAutoClosingPairClose(O,W,U,G,!0);return null!==j?this._runAutoClosingOpenCharType(R,O,W,U,G,!0,j):null}static typeWithInterceptors(R,O,W,z,U,ee,B){if(!R&&"\n"===B){const j=[];for(let $=0,K=U.length;$<K;$++)j[$]=m._enter(W,z,!1,U[$]);return new L.Tp(4,j,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!R&&this._isAutoIndentType(W,z,U)){const j=[];let $=!1;for(let K=0,J=U.length;K<J;K++)if(j[K]=this._runAutoIndentType(W,z,U[K],B),!j[K]){$=!0;break}if(!$)return new L.Tp(4,j,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(this._isAutoClosingOvertype(W,z,U,ee,B))return this._runAutoClosingOvertype(O,W,z,U,B);if(!R){const j=this._getAutoClosingPairClose(W,z,U,B,!1);if(j)return this._runAutoClosingOpenCharType(O,W,z,U,B,!1,j)}if(!R&&this._isSurroundSelectionType(W,z,U,B))return this._runSurroundSelectionType(O,W,z,U,B);if(!R&&this._isTypeInterceptorElectricChar(W,z,U)){const j=this._typeInterceptorElectricChar(O,W,z,U[0],B);if(j)return j}const G=[];for(let j=0,$=U.length;j<$;j++)G[j]=new r.T4(U[j],B);const se=w(B,O);return new L.Tp(se,G,{shouldPushStackElementBefore:D(O,se),shouldPushStackElementAfter:!1})}static typeWithoutInterceptors(R,O,W,z,U){const ee=[];for(let G=0,se=z.length;G<se;G++)ee[G]=new r.T4(z[G],U);const B=w(U,R);return new L.Tp(B,ee,{shouldPushStackElementBefore:D(R,B),shouldPushStackElementAfter:!1})}static lineInsertBefore(R,O,W){if(null===O||null===W)return[];const z=[];for(let U=0,ee=W.length;U<ee;U++){let B=W[U].positionLineNumber;if(1===B)z[U]=new r.Sj(new v.e(1,1,1,1),"\n");else{B--;const G=O.getLineMaxColumn(B);z[U]=this._enter(R,O,!1,new v.e(B,G,B,G))}}return z}static lineInsertAfter(R,O,W){if(null===O||null===W)return[];const z=[];for(let U=0,ee=W.length;U<ee;U++){const B=W[U].positionLineNumber,G=O.getLineMaxColumn(B);z[U]=this._enter(R,O,!1,new v.e(B,G,B,G))}return z}static lineBreakInsert(R,O,W){const z=[];for(let U=0,ee=W.length;U<ee;U++)z[U]=this._enter(R,O,!0,W[U]);return z}}class l extends r.Uo{constructor(R,O,W,z){super(R,(W?O:"")+z,0,-z.length),this._openCharacter=O,this._closeCharacter=z,this.closeCharacterRange=null,this.enclosingRange=null}computeCursorState(R,O){const z=O.getInverseEditOperations()[0].range;return this.closeCharacterRange=new v.e(z.startLineNumber,z.endColumn-this._closeCharacter.length,z.endLineNumber,z.endColumn),this.enclosingRange=new v.e(z.startLineNumber,z.endColumn-this._openCharacter.length-this._closeCharacter.length,z.endLineNumber,z.endColumn),super.computeCursorState(R,O)}}class I{constructor(R,O,W,z,U,ee){this.deletedText=R,this.deletedSelectionStart=O,this.deletedSelectionEnd=W,this.insertedText=z,this.insertedSelectionStart=U,this.insertedSelectionEnd=ee}}function w(k,R){return" "===k?5===R||6===R?6:5:4}function D(k,R){return!(!A(k)||A(R))||5!==k&&N(k)!==N(R)}function N(k){return 6===k||5===k?"space":k}function A(k){return 4===k||5===k||6===k}},86350:(Xe,we,e)=>{e.d(we,{L:()=>E,w:()=>T});var f=e(16055),P=e(5250),r=e(71009),y=e(80020),v=e(68678),S=e(96726);class T{static _createWord(c,u,g,i,d){return{start:i,end:d,wordType:u,nextCharClass:g}}static _findPreviousWordOnLine(c,u,g){const i=u.getLineContent(g.lineNumber);return this._doFindPreviousWordOnLine(i,c,g)}static _doFindPreviousWordOnLine(c,u,g){let i=0;for(let d=g.column-2;d>=0;d--){const a=c.charCodeAt(d),m=u.get(a);if(0===m){if(2===i)return this._createWord(c,i,m,d+1,this._findEndOfWord(c,u,i,d+1));i=1}else if(2===m){if(1===i)return this._createWord(c,i,m,d+1,this._findEndOfWord(c,u,i,d+1));i=2}else if(1===m&&0!==i)return this._createWord(c,i,m,d+1,this._findEndOfWord(c,u,i,d+1))}return 0!==i?this._createWord(c,i,1,0,this._findEndOfWord(c,u,i,0)):null}static _findEndOfWord(c,u,g,i){const d=c.length;for(let a=i;a<d;a++){const m=c.charCodeAt(a),l=u.get(m);if(1===l||1===g&&2===l||2===g&&0===l)return a}return d}static _findNextWordOnLine(c,u,g){const i=u.getLineContent(g.lineNumber);return this._doFindNextWordOnLine(i,c,g)}static _doFindNextWordOnLine(c,u,g){let i=0;const d=c.length;for(let a=g.column-1;a<d;a++){const m=c.charCodeAt(a),l=u.get(m);if(0===l){if(2===i)return this._createWord(c,i,l,this._findStartOfWord(c,u,i,a-1),a);i=1}else if(2===l){if(1===i)return this._createWord(c,i,l,this._findStartOfWord(c,u,i,a-1),a);i=2}else if(1===l&&0!==i)return this._createWord(c,i,l,this._findStartOfWord(c,u,i,a-1),a)}return 0!==i?this._createWord(c,i,1,this._findStartOfWord(c,u,i,d-1),d):null}static _findStartOfWord(c,u,g,i){for(let d=i;d>=0;d--){const a=c.charCodeAt(d),m=u.get(a);if(1===m||1===g&&2===m||2===g&&0===m)return d+1}return 0}static moveWordLeft(c,u,g,i){let d=g.lineNumber,a=g.column;1===a&&d>1&&(d-=1,a=u.getLineMaxColumn(d));let m=T._findPreviousWordOnLine(c,u,new v.L(d,a));if(0===i)return new v.L(d,m?m.start+1:1);if(1===i)return m&&2===m.wordType&&m.end-m.start==1&&0===m.nextCharClass&&(m=T._findPreviousWordOnLine(c,u,new v.L(d,m.start+1))),new v.L(d,m?m.start+1:1);if(3===i){for(;m&&2===m.wordType;)m=T._findPreviousWordOnLine(c,u,new v.L(d,m.start+1));return new v.L(d,m?m.start+1:1)}return m&&a<=m.end+1&&(m=T._findPreviousWordOnLine(c,u,new v.L(d,m.start+1))),new v.L(d,m?m.end+1:1)}static _moveWordPartLeft(c,u){const g=u.lineNumber,i=c.getLineMaxColumn(g);if(1===u.column)return g>1?new v.L(g-1,c.getLineMaxColumn(g-1)):u;const d=c.getLineContent(g);for(let a=u.column-1;a>1;a--){const m=d.charCodeAt(a-2),l=d.charCodeAt(a-1);if(95===m&&95!==l)return new v.L(g,a);if(45===m&&45!==l)return new v.L(g,a);if((f.mK(m)||f.T5(m))&&f.df(l))return new v.L(g,a);if(f.df(m)&&f.df(l)&&a+1<i){const I=d.charCodeAt(a);if(f.mK(I)||f.T5(I))return new v.L(g,a)}}return new v.L(g,1)}static moveWordRight(c,u,g,i){let d=g.lineNumber,a=g.column,m=!1;a===u.getLineMaxColumn(d)&&d<u.getLineCount()&&(m=!0,d+=1,a=1);let l=T._findNextWordOnLine(c,u,new v.L(d,a));if(2===i)l&&2===l.wordType&&l.end-l.start==1&&0===l.nextCharClass&&(l=T._findNextWordOnLine(c,u,new v.L(d,l.end+1))),a=l?l.end+1:u.getLineMaxColumn(d);else if(3===i){for(m&&(a=0);l&&(2===l.wordType||l.start+1<=a);)l=T._findNextWordOnLine(c,u,new v.L(d,l.end+1));a=l?l.start+1:u.getLineMaxColumn(d)}else l&&!m&&a>=l.start+1&&(l=T._findNextWordOnLine(c,u,new v.L(d,l.end+1))),a=l?l.start+1:u.getLineMaxColumn(d);return new v.L(d,a)}static _moveWordPartRight(c,u){const g=u.lineNumber,i=c.getLineMaxColumn(g);if(u.column===i)return g<c.getLineCount()?new v.L(g+1,1):u;const d=c.getLineContent(g);for(let a=u.column+1;a<i;a++){const m=d.charCodeAt(a-2),l=d.charCodeAt(a-1);if(95!==m&&95===l)return new v.L(g,a);if(45!==m&&45===l)return new v.L(g,a);if((f.mK(m)||f.T5(m))&&f.df(l))return new v.L(g,a);if(f.df(m)&&f.df(l)&&a+1<i){const I=d.charCodeAt(a);if(f.mK(I)||f.T5(I))return new v.L(g,a)}}return new v.L(g,i)}static _deleteWordLeftWhitespace(c,u){const g=c.getLineContent(u.lineNumber),i=u.column-2,d=f.ow(g,i);return d+1<i?new S.e(u.lineNumber,d+2,u.lineNumber,u.column):null}static deleteWordLeft(c,u){const g=c.wordSeparators,i=c.model,d=c.selection,a=c.whitespaceHeuristics;if(!d.isEmpty())return d;if(r.A.isAutoClosingPairDelete(c.autoClosingDelete,c.autoClosingBrackets,c.autoClosingQuotes,c.autoClosingPairs.autoClosingPairsOpenByEnd,c.model,[c.selection],c.autoClosedCharacters)){const D=c.selection.getPosition();return new S.e(D.lineNumber,D.column-1,D.lineNumber,D.column+1)}const m=new v.L(d.positionLineNumber,d.positionColumn);let l=m.lineNumber,I=m.column;if(1===l&&1===I)return null;if(a){const D=this._deleteWordLeftWhitespace(i,m);if(D)return D}let w=T._findPreviousWordOnLine(g,i,m);return 0===u?w?I=w.start+1:I>1?I=1:(l--,I=i.getLineMaxColumn(l)):(w&&I<=w.end+1&&(w=T._findPreviousWordOnLine(g,i,new v.L(l,w.start+1))),w?I=w.end+1:I>1?I=1:(l--,I=i.getLineMaxColumn(l))),new S.e(l,I,m.lineNumber,m.column)}static deleteInsideWord(c,u,g){if(!g.isEmpty())return g;const i=new v.L(g.positionLineNumber,g.positionColumn);return this._deleteInsideWordWhitespace(u,i)||this._deleteInsideWordDetermineDeleteRange(c,u,i)}static _charAtIsWhitespace(c,u){const g=c.charCodeAt(u);return 32===g||9===g}static _deleteInsideWordWhitespace(c,u){const g=c.getLineContent(u.lineNumber),i=g.length;if(0===i)return null;let d=Math.max(u.column-2,0);if(!this._charAtIsWhitespace(g,d))return null;let a=Math.min(u.column-1,i-1);if(!this._charAtIsWhitespace(g,a))return null;for(;d>0&&this._charAtIsWhitespace(g,d-1);)d--;for(;a+1<i&&this._charAtIsWhitespace(g,a+1);)a++;return new S.e(u.lineNumber,d+1,u.lineNumber,a+2)}static _deleteInsideWordDetermineDeleteRange(c,u,g){const i=u.getLineContent(g.lineNumber),d=i.length;if(0===d)return g.lineNumber>1?new S.e(g.lineNumber-1,u.getLineMaxColumn(g.lineNumber-1),g.lineNumber,1):g.lineNumber<u.getLineCount()?new S.e(g.lineNumber,1,g.lineNumber+1,1):new S.e(g.lineNumber,1,g.lineNumber,1);const a=D=>D.start+1<=g.column&&g.column<=D.end+1,m=(D,N)=>(D=Math.min(D,g.column),N=Math.max(N,g.column),new S.e(g.lineNumber,D,g.lineNumber,N)),l=D=>{let N=D.start+1,A=D.end+1,k=!1;for(;A-1<d&&this._charAtIsWhitespace(i,A-1);)k=!0,A++;if(!k)for(;N>1&&this._charAtIsWhitespace(i,N-2);)N--;return m(N,A)},I=T._findPreviousWordOnLine(c,u,g);if(I&&a(I))return l(I);const w=T._findNextWordOnLine(c,u,g);return w&&a(w)?l(w):I&&w?m(I.end+1,w.start+1):I?m(I.start+1,I.end+1):w?m(w.start+1,w.end+1):m(1,d+1)}static _deleteWordPartLeft(c,u){if(!u.isEmpty())return u;const g=u.getPosition(),i=T._moveWordPartLeft(c,g);return new S.e(g.lineNumber,g.column,i.lineNumber,i.column)}static _findFirstNonWhitespaceChar(c,u){const g=c.length;for(let i=u;i<g;i++){const d=c.charAt(i);if(" "!==d&&"\t"!==d)return i}return g}static _deleteWordRightWhitespace(c,u){const g=c.getLineContent(u.lineNumber),i=u.column-1,d=this._findFirstNonWhitespaceChar(g,i);return i+1<d?new S.e(u.lineNumber,u.column,u.lineNumber,d+1):null}static deleteWordRight(c,u){const g=c.wordSeparators,i=c.model,d=c.selection,a=c.whitespaceHeuristics;if(!d.isEmpty())return d;const m=new v.L(d.positionLineNumber,d.positionColumn);let l=m.lineNumber,I=m.column;const w=i.getLineCount(),D=i.getLineMaxColumn(l);if(l===w&&I===D)return null;if(a){const A=this._deleteWordRightWhitespace(i,m);if(A)return A}let N=T._findNextWordOnLine(g,i,m);return 2===u?N?I=N.end+1:I<D||l===w?I=D:(l++,N=T._findNextWordOnLine(g,i,new v.L(l,1)),I=N?N.start+1:i.getLineMaxColumn(l)):(N&&I>=N.start+1&&(N=T._findNextWordOnLine(g,i,new v.L(l,N.end+1))),N?I=N.start+1:I<D||l===w?I=D:(l++,N=T._findNextWordOnLine(g,i,new v.L(l,1)),I=N?N.start+1:i.getLineMaxColumn(l))),new S.e(l,I,m.lineNumber,m.column)}static _deleteWordPartRight(c,u){if(!u.isEmpty())return u;const g=u.getPosition(),i=T._moveWordPartRight(c,g);return new S.e(g.lineNumber,g.column,i.lineNumber,i.column)}static _createWordAtPosition(c,u,g){const i=new S.e(u,g.start+1,u,g.end+1);return{word:c.getValueInRange(i),startColumn:i.startColumn,endColumn:i.endColumn}}static getWordAtPosition(c,u,g){const i=(0,y.u)(u),d=T._findPreviousWordOnLine(i,c,g);if(d&&1===d.wordType&&d.start<=g.column-1&&g.column-1<=d.end)return T._createWordAtPosition(c,g.lineNumber,d);const a=T._findNextWordOnLine(i,c,g);return a&&1===a.wordType&&a.start<=g.column-1&&g.column-1<=a.end?T._createWordAtPosition(c,g.lineNumber,a):null}static word(c,u,g,i,d){const a=(0,y.u)(c.wordSeparators),m=T._findPreviousWordOnLine(a,u,d),l=T._findNextWordOnLine(a,u,d);if(!i){let A,k;return m&&1===m.wordType&&m.start<=d.column-1&&d.column-1<=m.end?(A=m.start+1,k=m.end+1):l&&1===l.wordType&&l.start<=d.column-1&&d.column-1<=l.end?(A=l.start+1,k=l.end+1):(A=m?m.end+1:1,k=l?l.start+1:u.getLineMaxColumn(d.lineNumber)),new P.rS(new S.e(d.lineNumber,A,d.lineNumber,k),1,0,new v.L(d.lineNumber,k),0)}let I,w;m&&1===m.wordType&&m.start<d.column-1&&d.column-1<m.end?(I=m.start+1,w=m.end+1):l&&1===l.wordType&&l.start<d.column-1&&d.column-1<l.end?(I=l.start+1,w=l.end+1):(I=d.column,w=d.column);const D=d.lineNumber;let N;if(g.selectionStart.containsPosition(d))N=g.selectionStart.endColumn;else if(d.isBeforeOrEqual(g.selectionStart.getStartPosition())){N=I;const A=new v.L(D,N);g.selectionStart.containsPosition(A)&&(N=g.selectionStart.endColumn)}else{N=w;const A=new v.L(D,N);g.selectionStart.containsPosition(A)&&(N=g.selectionStart.startColumn)}return g.move(!0,D,N,0)}}class E extends T{static deleteWordPartLeft(c){const u=L([T.deleteWordLeft(c,0),T.deleteWordLeft(c,2),T._deleteWordPartLeft(c.model,c.selection)]);return u.sort(S.e.compareRangesUsingEnds),u[2]}static deleteWordPartRight(c){const u=L([T.deleteWordRight(c,0),T.deleteWordRight(c,2),T._deleteWordPartRight(c.model,c.selection)]);return u.sort(S.e.compareRangesUsingStarts),u[0]}static moveWordPartLeft(c,u,g){const i=L([T.moveWordLeft(c,u,g,0),T.moveWordLeft(c,u,g,2),T._moveWordPartLeft(u,g)]);return i.sort(v.L.compare),i[2]}static moveWordPartRight(c,u,g){const i=L([T.moveWordRight(c,u,g,0),T.moveWordRight(c,u,g,2),T._moveWordPartRight(u,g)]);return i.sort(v.L.compare),i[0]}}function L(p){return p.filter(c=>!!c)}},5250:(Xe,we,e)=>{e.d(we,{LM:()=>p,LN:()=>a,Tp:()=>d,Vi:()=>c,rS:()=>i});var f=e(68678),P=e(96726),r=e(81534),y=e(20386),v=e(96678),S=e(15869);const T=()=>!0,E=()=>!1,L=m=>" "===m||"\t"===m;class p{static shouldRecreate(l){return l.hasChanged(142)||l.hasChanged(128)||l.hasChanged(36)||l.hasChanged(75)||l.hasChanged(77)||l.hasChanged(78)||l.hasChanged(6)||l.hasChanged(10)||l.hasChanged(8)||l.hasChanged(9)||l.hasChanged(13)||l.hasChanged(126)||l.hasChanged(49)||l.hasChanged(89)}constructor(l,I,w,D){this.languageConfigurationService=D,this._cursorMoveConfigurationBrand=void 0,this._languageId=l;const N=w.options,A=N.get(142),k=N.get(49);this.readOnly=N.get(89),this.tabSize=I.tabSize,this.indentSize=I.indentSize,this.insertSpaces=I.insertSpaces,this.stickyTabStops=N.get(114),this.lineHeight=k.lineHeight,this.typicalHalfwidthCharacterWidth=k.typicalHalfwidthCharacterWidth,this.pageSize=Math.max(1,Math.floor(A.height/this.lineHeight)-2),this.useTabStops=N.get(126),this.wordSeparators=N.get(128),this.emptySelectionClipboard=N.get(36),this.copyWithSyntaxHighlighting=N.get(24),this.multiCursorMergeOverlapping=N.get(75),this.multiCursorPaste=N.get(77),this.multiCursorLimit=N.get(78),this.autoClosingBrackets=N.get(6),this.autoClosingQuotes=N.get(10),this.autoClosingDelete=N.get(8),this.autoClosingOvertype=N.get(9),this.autoSurround=N.get(13),this.autoIndent=N.get(11),this.surroundingPairs={},this._electricChars=null,this.shouldAutoCloseBefore={quote:this._getShouldAutoClose(l,this.autoClosingQuotes,!0),bracket:this._getShouldAutoClose(l,this.autoClosingBrackets,!1)},this.autoClosingPairs=this.languageConfigurationService.getLanguageConfiguration(l).getAutoClosingPairs();const R=this.languageConfigurationService.getLanguageConfiguration(l).getSurroundingPairs();if(R)for(const O of R)this.surroundingPairs[O.open]=O.close}get electricChars(){var l;if(!this._electricChars){this._electricChars={};const I=null===(l=this.languageConfigurationService.getLanguageConfiguration(this._languageId).electricCharacter)||void 0===l?void 0:l.getElectricCharacters();if(I)for(const w of I)this._electricChars[w]=!0}return this._electricChars}onElectricCharacter(l,I,w){const D=(0,y.wH)(I,w-1),N=this.languageConfigurationService.getLanguageConfiguration(D.languageId).electricCharacter;return N?N.onElectricCharacter(l,D,w-D.firstCharOffset):null}normalizeIndentation(l){return(0,S.x)(l,this.indentSize,this.insertSpaces)}_getShouldAutoClose(l,I,w){switch(I){case"beforeWhitespace":return L;case"languageDefined":return this._getLanguageDefinedShouldAutoClose(l,w);case"always":return T;case"never":return E}}_getLanguageDefinedShouldAutoClose(l,I){const w=this.languageConfigurationService.getLanguageConfiguration(l).getAutoCloseBeforeSet(I);return D=>-1!==w.indexOf(D)}visibleColumnFromColumn(l,I){return v.i.visibleColumnFromColumn(l.getLineContent(I.lineNumber),I.column,this.tabSize)}columnFromVisibleColumn(l,I,w){const D=v.i.columnFromVisibleColumn(l.getLineContent(I),w,this.tabSize),N=l.getLineMinColumn(I);if(D<N)return N;const A=l.getLineMaxColumn(I);return D>A?A:D}}class c{static fromModelState(l){return new u(l)}static fromViewState(l){return new g(l)}static fromModelSelection(l){const I=r.Y.liftSelection(l),w=new i(P.e.fromPositions(I.getSelectionStart()),0,0,I.getPosition(),0);return c.fromModelState(w)}static fromModelSelections(l){const I=[];for(let w=0,D=l.length;w<D;w++)I[w]=this.fromModelSelection(l[w]);return I}constructor(l,I){this._cursorStateBrand=void 0,this.modelState=l,this.viewState=I}equals(l){return this.viewState.equals(l.viewState)&&this.modelState.equals(l.modelState)}}class u{constructor(l){this.modelState=l,this.viewState=null}}class g{constructor(l){this.modelState=null,this.viewState=l}}class i{constructor(l,I,w,D,N){this.selectionStart=l,this.selectionStartKind=I,this.selectionStartLeftoverVisibleColumns=w,this.position=D,this.leftoverVisibleColumns=N,this._singleCursorStateBrand=void 0,this.selection=i._computeSelection(this.selectionStart,this.position)}equals(l){return this.selectionStartLeftoverVisibleColumns===l.selectionStartLeftoverVisibleColumns&&this.leftoverVisibleColumns===l.leftoverVisibleColumns&&this.selectionStartKind===l.selectionStartKind&&this.position.equals(l.position)&&this.selectionStart.equalsRange(l.selectionStart)}hasSelection(){return!this.selection.isEmpty()||!this.selectionStart.isEmpty()}move(l,I,w,D){return l?new i(this.selectionStart,this.selectionStartKind,this.selectionStartLeftoverVisibleColumns,new f.L(I,w),D):new i(new P.e(I,w,I,w),0,D,new f.L(I,w),D)}static _computeSelection(l,I){return l.isEmpty()||!I.isBeforeOrEqual(l.getStartPosition())?r.Y.fromPositions(l.getStartPosition(),I):r.Y.fromPositions(l.getEndPosition(),I)}}class d{constructor(l,I,w){this._editOperationResultBrand=void 0,this.type=l,this.commands=I,this.shouldPushStackElementBefore=w.shouldPushStackElementBefore,this.shouldPushStackElementAfter=w.shouldPushStackElementAfter}}function a(m){return"'"===m||'"'===m||"`"===m}},86600:(Xe,we,e)=>{e.d(we,{a7:()=>W});var f=e(31738),P=e(37836),r=e(715),y=e(17967),v=e(266),S=e(78754),T=e(68678),E=e(96726);class L{static trivial(x,F){return new L([new p(new S.q(0,x.length),new S.q(0,F.length))],!1)}static trivialTimedOut(x,F){return new L([new p(new S.q(0,x.length),new S.q(0,F.length))],!0)}constructor(x,F){this.diffs=x,this.hitTimeout=F}}class p{constructor(x,F){this.seq1Range=x,this.seq2Range=F}reverse(){return new p(this.seq2Range,this.seq1Range)}toString(){return`${this.seq1Range} <-> ${this.seq2Range}`}join(x){return new p(this.seq1Range.join(x.seq1Range),this.seq2Range.join(x.seq2Range))}delta(x){return 0===x?this:new p(this.seq1Range.delta(x),this.seq2Range.delta(x))}}class c{isValid(){return!0}}c.instance=new c;class u{constructor(x){if(this.timeout=x,this.startTime=Date.now(),this.valid=!0,x<=0)throw new y.he("timeout must be positive")}isValid(){return Date.now()-this.startTime<this.timeout||!this.valid||(this.valid=!1),this.valid}}class g{constructor(x,F){this.width=x,this.height=F,this.array=[],this.array=new Array(x*F)}get(x,F){return this.array[x+F*this.width]}set(x,F,ie){this.array[x+F*this.width]=ie}}class i{compute(x,F,ie=c.instance,Ce){if(0===x.length||0===F.length)return L.trivial(x,F);const ke=new g(x.length,F.length),Pe=new g(x.length,F.length),xe=new g(x.length,F.length);for(let He=0;He<x.length;He++)for(let Je=0;Je<F.length;Je++){if(!ie.isValid())return L.trivialTimedOut(x,F);const ot=0===He?0:ke.get(He-1,Je),lt=0===Je?0:ke.get(He,Je-1);let mt;x.getElement(He)===F.getElement(Je)?(mt=0===He||0===Je?0:ke.get(He-1,Je-1),He>0&&Je>0&&3===Pe.get(He-1,Je-1)&&(mt+=xe.get(He-1,Je-1)),mt+=Ce?Ce(He,Je):1):mt=-1;const ft=Math.max(ot,lt,mt);if(ft===mt){const Lt=He>0&&Je>0?xe.get(He-1,Je-1):0;xe.set(He,Je,Lt+1),Pe.set(He,Je,3)}else ft===ot?(xe.set(He,Je,0),Pe.set(He,Je,1)):ft===lt&&(xe.set(He,Je,0),Pe.set(He,Je,2));ke.set(He,Je,ft)}const fe=[];let be=x.length,pe=F.length;function Q(He,Je){(He+1!==be||Je+1!==pe)&&fe.push(new p(new S.q(He+1,be),new S.q(Je+1,pe))),be=He,pe=Je}let le=x.length-1,Fe=F.length-1;for(;le>=0&&Fe>=0;)3===Pe.get(le,Fe)?(Q(le,Fe),le--,Fe--):1===Pe.get(le,Fe)?le--:Fe--;return Q(-1,-1),fe.reverse(),new L(fe,!1)}}function d(Y,x,F){let ie=F;return ie=function I(Y,x,F){if(0===F.length)return F;const ie=[];ie.push(F[0]);for(let ke=1;ke<F.length;ke++){const Pe=ie[ie.length-1];let xe=F[ke];if(xe.seq1Range.isEmpty||xe.seq2Range.isEmpty){const fe=xe.seq1Range.start-Pe.seq1Range.endExclusive;let be;for(be=1;be<=fe&&Y.getElement(xe.seq1Range.start-be)===Y.getElement(xe.seq1Range.endExclusive-be)&&x.getElement(xe.seq2Range.start-be)===x.getElement(xe.seq2Range.endExclusive-be);be++);if(be--,be===fe){ie[ie.length-1]=new p(new S.q(Pe.seq1Range.start,xe.seq1Range.endExclusive-fe),new S.q(Pe.seq2Range.start,xe.seq2Range.endExclusive-fe));continue}xe=xe.delta(-be)}ie.push(xe)}const Ce=[];for(let ke=0;ke<ie.length-1;ke++){const Pe=ie[ke+1];let xe=ie[ke];if(xe.seq1Range.isEmpty||xe.seq2Range.isEmpty){const fe=Pe.seq1Range.start-xe.seq1Range.endExclusive;let be;for(be=0;be<fe&&Y.getElement(xe.seq1Range.start+be)===Y.getElement(xe.seq1Range.endExclusive+be)&&x.getElement(xe.seq2Range.start+be)===x.getElement(xe.seq2Range.endExclusive+be);be++);if(be===fe){ie[ke+1]=new p(new S.q(xe.seq1Range.start+fe,Pe.seq1Range.endExclusive),new S.q(xe.seq2Range.start+fe,Pe.seq2Range.endExclusive));continue}be>0&&(xe=xe.delta(be))}Ce.push(xe)}return ie.length>0&&Ce.push(ie[ie.length-1]),Ce}(Y,x,ie),ie=function w(Y,x,F){if(!Y.getBoundaryScore||!x.getBoundaryScore)return F;for(let ie=0;ie<F.length;ie++){const Ce=ie>0?F[ie-1]:void 0,ke=F[ie],Pe=ie+1<F.length?F[ie+1]:void 0,xe=new S.q(Ce?Ce.seq1Range.start+1:0,Pe?Pe.seq1Range.endExclusive-1:Y.length),fe=new S.q(Ce?Ce.seq2Range.start+1:0,Pe?Pe.seq2Range.endExclusive-1:x.length);ke.seq1Range.isEmpty?F[ie]=D(ke,Y,x,xe,fe):ke.seq2Range.isEmpty&&(F[ie]=D(ke.reverse(),x,Y,fe,xe).reverse())}return F}(Y,x,ie),ie}function D(Y,x,F,ie,Ce){let Pe=1;for(;Y.seq1Range.start-Pe>=ie.start&&Y.seq2Range.start-Pe>=Ce.start&&F.isStronglyEqual(Y.seq2Range.start-Pe,Y.seq2Range.endExclusive-Pe)&&Pe<100;)Pe++;Pe--;let xe=0;for(;Y.seq1Range.start+xe<ie.endExclusive&&Y.seq2Range.endExclusive+xe<Ce.endExclusive&&F.isStronglyEqual(Y.seq2Range.start+xe,Y.seq2Range.endExclusive+xe)&&xe<100;)xe++;if(0===Pe&&0===xe)return Y;let fe=0,be=-1;for(let pe=-Pe;pe<=xe;pe++){const Q=Y.seq2Range.start+pe,le=Y.seq2Range.endExclusive+pe,He=x.getBoundaryScore(Y.seq1Range.start+pe)+F.getBoundaryScore(Q)+F.getBoundaryScore(le);He>be&&(be=He,fe=pe)}return Y.delta(fe)}class N{compute(x,F,ie=c.instance){if(0===x.length||0===F.length)return L.trivial(x,F);function Ce(Fe,He){for(;Fe<x.length&&He<F.length&&x.getElement(Fe)===F.getElement(He);)Fe++,He++;return Fe}let ke=0;const Pe=new k;Pe.set(0,Ce(0,0));const xe=new R;xe.set(0,0===Pe.get(0)?null:new A(null,0,0,Pe.get(0)));let fe=0;e:for(;;){if(ke++,!ie.isValid())return L.trivialTimedOut(x,F);const Fe=-Math.min(ke,F.length+ke%2),He=Math.min(ke,x.length+ke%2);for(fe=Fe;fe<=He;fe+=2){const Je=fe===He?-1:Pe.get(fe+1),ot=fe===Fe?-1:Pe.get(fe-1)+1,lt=Math.min(Math.max(Je,ot),x.length),mt=lt-fe;if(lt>x.length||mt>F.length)continue;const ft=Ce(lt,mt);Pe.set(fe,ft);const Lt=xe.get(lt===Je?fe+1:fe-1);if(xe.set(fe,ft!==lt?new A(Lt,lt,mt,ft-lt):Lt),Pe.get(fe)===x.length&&Pe.get(fe)-fe===F.length)break e}}let be=xe.get(fe);const pe=[];let Q=x.length,le=F.length;for(;;){const Fe=be?be.x+be.length:0,He=be?be.y+be.length:0;if((Fe!==Q||He!==le)&&pe.push(new p(new S.q(Fe,Q),new S.q(He,le))),!be)break;Q=be.x,le=be.y,be=be.prev}return pe.reverse(),new L(pe,!1)}}class A{constructor(x,F,ie,Ce){this.prev=x,this.x=F,this.y=ie,this.length=Ce}}class k{constructor(){this.positiveArr=new Int32Array(10),this.negativeArr=new Int32Array(10)}get(x){return x<0?this.negativeArr[x=-x-1]:this.positiveArr[x]}set(x,F){if(x<0){if((x=-x-1)>=this.negativeArr.length){const ie=this.negativeArr;this.negativeArr=new Int32Array(2*ie.length),this.negativeArr.set(ie)}this.negativeArr[x]=F}else{if(x>=this.positiveArr.length){const ie=this.positiveArr;this.positiveArr=new Int32Array(2*ie.length),this.positiveArr.set(ie)}this.positiveArr[x]=F}}}class R{constructor(){this.positiveArr=[],this.negativeArr=[]}get(x){return x<0?this.negativeArr[x=-x-1]:this.positiveArr[x]}set(x,F){x<0?this.negativeArr[x=-x-1]=F:this.positiveArr[x]=F}}var O=e(55359);class W{constructor(){this.dynamicProgrammingDiffing=new i,this.myersDiffingAlgorithm=new N}computeDiff(x,F,ie){if(x.length<=1&&(0,f.fS)(x,F,(Tt,Mt)=>Tt===Mt))return new O.hZ([],[],!1);if(1===x.length&&0===x[0].length||1===F.length&&0===F[0].length)return new O.hZ([new O.f0(new v.z(1,x.length+1),new v.z(1,F.length+1),[new O.iy(new E.e(1,1,x.length,x[0].length+1),new E.e(1,1,F.length,F[0].length+1))])],[],!1);const Ce=0===ie.maxComputationTimeMs?c.instance:new u(ie.maxComputationTimeMs),ke=!ie.ignoreTrimWhitespace,Pe=new Map;function xe(Tt){let Mt=Pe.get(Tt);return void 0===Mt&&(Mt=Pe.size,Pe.set(Tt,Mt)),Mt}const fe=x.map(Tt=>xe(Tt.trim())),be=F.map(Tt=>xe(Tt.trim())),pe=new J(fe,x),Q=new J(be,F),le=(()=>pe.length+Q.length<1700?this.dynamicProgrammingDiffing.compute(pe,Q,Ce,(Tt,Mt)=>x[Tt]===F[Mt]?0===F[Mt].length?.1:1+Math.log(1+F[Mt].length):.99):this.myersDiffingAlgorithm.compute(pe,Q))();let Fe=le.diffs,He=le.hitTimeout;Fe=d(pe,Q,Fe),Fe=function m(Y,x,F){let ie=F;if(0===ie.length)return ie;let ke,Ce=0;do{ke=!1;const Pe=[ie[0]];for(let xe=1;xe<ie.length;xe++){let pe=function(le,Fe){const He=new S.q(be.seq1Range.endExclusive,fe.seq1Range.start);return Y.getText(He).replace(/\s/g,"").length<=4&&(le.seq1Range.length+le.seq2Range.length>5||Fe.seq1Range.length+Fe.seq2Range.length>5)};const fe=ie[xe],be=Pe[Pe.length-1];pe(be,fe)?(ke=!0,Pe[Pe.length-1]=Pe[Pe.length-1].join(fe)):Pe.push(fe)}ie=Pe}while(Ce++<10&&ke);return ie}(pe,0,Fe);const Je=[],ot=Tt=>{if(ke)for(let Mt=0;Mt<Tt;Mt++){const Ut=lt+Mt,At=mt+Mt;if(x[Ut]!==F[At]){const It=this.refineDiff(x,F,new p(new S.q(Ut,Ut+1),new S.q(At,At+1)),Ce,ke);for(const it of It.mappings)Je.push(it);It.hitTimeout&&(He=!0)}}};let lt=0,mt=0;for(const Tt of Fe){(0,P.eZ)(()=>Tt.seq1Range.start-lt==Tt.seq2Range.start-mt),ot(Tt.seq1Range.start-lt),lt=Tt.seq1Range.endExclusive,mt=Tt.seq2Range.endExclusive;const Ut=this.refineDiff(x,F,Tt,Ce,ke);Ut.hitTimeout&&(He=!0);for(const At of Ut.mappings)Je.push(At)}ot(x.length-lt);const ft=j(Je,x,F);let Lt=[];return ie.computeMoves&&(Lt=this.computeMoves(ft,x,F,fe,be,Ce,ke)),(0,P.eZ)(()=>{function Tt(Ut,At){return!(Ut.lineNumber<1||Ut.lineNumber>At.length)&&!(Ut.column<1||Ut.column>At[Ut.lineNumber-1].length+1)}function Mt(Ut,At){return!(Ut.startLineNumber<1||Ut.startLineNumber>At.length+1||Ut.endLineNumberExclusive<1||Ut.endLineNumberExclusive>At.length+1)}for(const Ut of ft){if(!Ut.innerChanges)return!1;for(const At of Ut.innerChanges)if(!(Tt(At.modifiedRange.getStartPosition(),F)&&Tt(At.modifiedRange.getEndPosition(),F)&&Tt(At.originalRange.getStartPosition(),x)&&Tt(At.originalRange.getEndPosition(),x)))return!1;if(!Mt(Ut.modifiedRange,F)||!Mt(Ut.originalRange,x))return!1}return!0}),new O.hZ(ft,Lt,He)}computeMoves(x,F,ie,Ce,ke,Pe,xe){const fe=[],be=x.filter(ft=>ft.modifiedRange.isEmpty&&ft.originalRange.length>=3).map(ft=>new oe(ft.originalRange,F,ft)),pe=new Set(x.filter(ft=>ft.originalRange.isEmpty&&ft.modifiedRange.length>=3).map(ft=>new oe(ft.modifiedRange,ie,ft))),Q=new Set;for(const ft of be){let Tt,Lt=-1;for(const Mt of pe){const Ut=ft.computeSimilarity(Mt);Ut>Lt&&(Lt=Ut,Tt=Mt)}if(Lt>.9&&Tt&&(pe.delete(Tt),fe.push(new O.Qy(ft.range,Tt.range)),Q.add(ft.source),Q.add(Tt.source)),!Pe.isValid())return[]}const le=new r.r;for(const ft of x)if(!Q.has(ft))for(let Lt=ft.originalRange.startLineNumber;Lt<ft.originalRange.endLineNumberExclusive-2;Lt++)le.add(`${Ce[Lt-1]}:${Ce[Lt+1-1]}:${Ce[Lt+2-1]}`,{range:new v.z(Lt,Lt+3)});const Fe=[];x.sort((0,f.tT)(ft=>ft.modifiedRange.startLineNumber,f.fv));for(const ft of x){if(Q.has(ft))continue;let Lt=[];for(let Tt=ft.modifiedRange.startLineNumber;Tt<ft.modifiedRange.endLineNumberExclusive-2;Tt++){const Mt=`${ke[Tt-1]}:${ke[Tt+1-1]}:${ke[Tt+2-1]}`,Ut=new v.z(Tt,Tt+3),At=[];le.forEach(Mt,({range:It})=>{for(const qe of Lt)if(qe.originalLineRange.endLineNumberExclusive+1===It.endLineNumberExclusive&&qe.modifiedLineRange.endLineNumberExclusive+1===Ut.endLineNumberExclusive)return qe.originalLineRange=new v.z(qe.originalLineRange.startLineNumber,It.endLineNumberExclusive),qe.modifiedLineRange=new v.z(qe.modifiedLineRange.startLineNumber,Ut.endLineNumberExclusive),void At.push(qe);const it={modifiedLineRange:Ut,originalLineRange:It};Fe.push(it),At.push(it)}),Lt=At}if(!Pe.isValid())return[]}Fe.sort((0,f.BV)((0,f.tT)(ft=>ft.modifiedLineRange.length,f.fv)));const He=new ee,Je=new ee;for(const ft of Fe){const Lt=ft.modifiedLineRange.startLineNumber-ft.originalLineRange.startLineNumber,Ut=U(He.subtractFrom(ft.modifiedLineRange),Je.subtractFrom(ft.originalLineRange).map(At=>At.delta(Lt)));for(const At of Ut){if(At.length<3)continue;const It=At,it=At.delta(-Lt);fe.push(new O.Qy(it,It)),He.addRange(It),Je.addRange(it)}}if(fe.sort((0,f.tT)(ft=>ft.original.startLineNumber,f.fv)),0===fe.length)return[];let ot=[fe[0]];for(let ft=1;ft<fe.length;ft++){const Lt=ot[ot.length-1],Tt=fe[ft],Mt=Tt.original.startLineNumber-Lt.original.endLineNumberExclusive,Ut=Tt.modified.startLineNumber-Lt.modified.endLineNumberExclusive;Mt>=0&&Ut>=0&&Mt+Ut<=2?ot[ot.length-1]=Lt.join(Tt):Tt.original.toOffsetRange().slice(F).map(it=>it.trim()).join("\n").length<=10||ot.push(Tt)}const lt=z.createOfSorted(x,ft=>ft.originalRange.endLineNumberExclusive,f.fv);return ot=ot.filter(ft=>{const Lt=lt.findLastItemBeforeOrEqual(ft.original.startLineNumber)||new O.f0(new v.z(1,1),new v.z(1,1),[]);return ft.modified.startLineNumber-Lt.modifiedRange.endLineNumberExclusive!=ft.original.startLineNumber-Lt.originalRange.endLineNumberExclusive}),ot.map(ft=>{const Tt=j(this.refineDiff(F,ie,new p(ft.original.toOffsetRange(),ft.modified.toOffsetRange()),Pe,xe).mappings,F,ie,!0);return new O.y0(ft,Tt)})}refineDiff(x,F,ie,Ce,ke){const Pe=new ne(x,ie.seq1Range,ke),xe=new ne(F,ie.seq2Range,ke),fe=Pe.length+xe.length<500?this.dynamicProgrammingDiffing.compute(Pe,xe,Ce):this.myersDiffingAlgorithm.compute(Pe,xe,Ce);let be=fe.diffs;return be=d(Pe,xe,be),be=function G(Y,x,F){const ie=[];let Ce;function ke(){if(!Ce)return;const xe=Ce.s1Range.length-Ce.deleted;Math.max(Ce.deleted,Ce.added)+(Ce.count-1)>xe&&ie.push(new p(Ce.s1Range,Ce.s2Range)),Ce=void 0}for(const xe of F){let fe=function(Fe,He){var Je,ot,lt,mt;if(!Ce||!Ce.s1Range.containsRange(Fe)||!Ce.s2Range.containsRange(He))if(!Ce||Ce.s1Range.endExclusive<Fe.start&&Ce.s2Range.endExclusive<He.start)ke(),Ce={added:0,deleted:0,count:0,s1Range:Fe,s2Range:He};else{const Tt=S.q.tryCreate(Ce.s1Range.endExclusive,Fe.start),Mt=S.q.tryCreate(Ce.s2Range.endExclusive,He.start);Ce.deleted+=null!==(Je=Tt?.length)&&void 0!==Je?Je:0,Ce.added+=null!==(ot=Mt?.length)&&void 0!==ot?ot:0,Ce.s1Range=Ce.s1Range.join(Fe),Ce.s2Range=Ce.s2Range.join(He)}const ft=Fe.intersect(xe.seq1Range),Lt=He.intersect(xe.seq2Range);Ce.count++,Ce.deleted+=null!==(lt=ft?.length)&&void 0!==lt?lt:0,Ce.added+=null!==(mt=Lt?.length)&&void 0!==mt?mt:0};const be=Y.findWordContaining(xe.seq1Range.start-1),pe=x.findWordContaining(xe.seq2Range.start-1),Q=Y.findWordContaining(xe.seq1Range.endExclusive),le=x.findWordContaining(xe.seq2Range.endExclusive);be&&Q&&pe&&le&&be.equals(Q)&&pe.equals(le)?fe(be,pe):(be&&pe&&fe(be,pe),Q&&le&&fe(Q,le))}return ke(),function se(Y,x){const F=[];for(;Y.length>0||x.length>0;){const ie=Y[0],Ce=x[0];let ke;ke=ie&&(!Ce||ie.seq1Range.start<Ce.seq1Range.start)?Y.shift():x.shift(),F.length>0&&F[F.length-1].seq1Range.endExclusive>=ke.seq1Range.start?F[F.length-1]=F[F.length-1].join(ke):F.push(ke)}return F}(F,ie)}(Pe,xe,be),be=function a(Y,x,F){const ie=[];for(const Ce of F){const ke=ie[ie.length-1];ke&&(Ce.seq1Range.start-ke.seq1Range.endExclusive<=2||Ce.seq2Range.start-ke.seq2Range.endExclusive<=2)?ie[ie.length-1]=new p(ke.seq1Range.join(Ce.seq1Range),ke.seq2Range.join(Ce.seq2Range)):ie.push(Ce)}return ie}(0,0,be),be=function l(Y,x,F){let ie=F;if(0===ie.length)return ie;let ke,Ce=0;do{ke=!1;const Pe=[ie[0]];for(let xe=1;xe<ie.length;xe++){let pe=function(le,Fe){const He=new S.q(be.seq1Range.endExclusive,fe.seq1Range.start);if(Y.countLinesIn(He)>5||He.length>500)return!1;const ot=Y.getText(He).trim();if(ot.length>20||ot.split(/\r\n|\r|\n/).length>1)return!1;const lt=Y.countLinesIn(le.seq1Range),mt=le.seq1Range.length,ft=x.countLinesIn(le.seq2Range),Lt=le.seq2Range.length,Tt=Y.countLinesIn(Fe.seq1Range),Mt=Fe.seq1Range.length,Ut=x.countLinesIn(Fe.seq2Range),At=Fe.seq2Range.length;function it(qe){return Math.min(qe,130)}return Math.pow(Math.pow(it(40*lt+mt),1.5)+Math.pow(it(40*ft+Lt),1.5),1.5)+Math.pow(Math.pow(it(40*Tt+Mt),1.5)+Math.pow(it(40*Ut+At),1.5),1.5)>1.3*Math.pow(Math.pow(130,1.5),1.5)};const fe=ie[xe],be=Pe[Pe.length-1];pe(be,fe)?(ke=!0,Pe[Pe.length-1]=Pe[Pe.length-1].join(fe)):Pe.push(fe)}ie=Pe}while(Ce++<10&&ke);for(let Pe=0;Pe<ie.length;Pe++){const xe=ie[Pe];let fe=xe.seq1Range,be=xe.seq2Range;const pe=Y.extendToFullLines(xe.seq1Range),Q=Y.getText(new S.q(pe.start,xe.seq1Range.start));Q.length>0&&Q.trim().length<=3&&xe.seq1Range.length+xe.seq2Range.length>100&&(fe=xe.seq1Range.deltaStart(-Q.length),be=xe.seq2Range.deltaStart(-Q.length));const le=Y.getText(new S.q(xe.seq1Range.endExclusive,pe.endExclusive));le.length>0&&le.trim().length<=3&&xe.seq1Range.length+xe.seq2Range.length>150&&(fe=fe.deltaEnd(le.length),be=be.deltaEnd(le.length)),ie[Pe]=new p(fe,be)}return ie}(Pe,xe,be),{mappings:be.map(Q=>new O.iy(Pe.translateRange(Q.seq1Range),xe.translateRange(Q.seq2Range))),hitTimeout:fe.hitTimeout}}}class z{static createOfSorted(x,F,ie){return new z(x,F,ie)}constructor(x,F,ie){this._items=x,this._itemToDomain=F,this._domainComparator=ie,this._currentIdx=0,this._lastValue=void 0,this._hasLastValue=!1}findLastItemBeforeOrEqual(x){if(this._hasLastValue&&f.Bq.isLessThan(this._domainComparator(x,this._lastValue)))throw new y.he;for(this._lastValue=x,this._hasLastValue=!0;this._currentIdx<this._items.length&&f.Bq.isLessThanOrEqual(this._domainComparator(this._itemToDomain(this._items[this._currentIdx]),x));)this._currentIdx++;return 0===this._currentIdx?void 0:this._items[this._currentIdx-1]}}function U(Y,x){const F=[];let ie=0,Ce=0;for(;ie<Y.length&&Ce<x.length;){const ke=Y[ie],Pe=x[Ce],xe=ke.intersect(Pe);xe&&!xe.isEmpty&&F.push(xe),ke.endLineNumberExclusive<Pe.endLineNumberExclusive?ie++:Ce++}return F}class ee{constructor(){this._normalizedRanges=[]}addRange(x){const F=B(this._normalizedRanges.findIndex(Ce=>Ce.endLineNumberExclusive>=x.startLineNumber),this._normalizedRanges.length),ie=(0,f.qr)(this._normalizedRanges,Ce=>Ce.startLineNumber<=x.endLineNumberExclusive)+1;if(F===ie)this._normalizedRanges.splice(F,0,x);else if(F===ie-1)this._normalizedRanges[F]=this._normalizedRanges[F].join(x);else{const Ce=this._normalizedRanges[F].join(this._normalizedRanges[ie-1]).join(x);this._normalizedRanges.splice(F,ie-F,Ce)}}subtractFrom(x){const F=B(this._normalizedRanges.findIndex(Pe=>Pe.endLineNumberExclusive>=x.startLineNumber),this._normalizedRanges.length),ie=(0,f.qr)(this._normalizedRanges,Pe=>Pe.startLineNumber<=x.endLineNumberExclusive)+1;if(F===ie)return[x];const Ce=[];let ke=x.startLineNumber;for(let Pe=F;Pe<ie;Pe++){const xe=this._normalizedRanges[Pe];xe.startLineNumber>ke&&Ce.push(new v.z(ke,xe.startLineNumber)),ke=xe.endLineNumberExclusive}return ke<x.endLineNumberExclusive&&Ce.push(new v.z(ke,x.endLineNumberExclusive)),Ce}}function B(Y,x){return-1===Y?x:Y}function j(Y,x,F,ie=!1){const Ce=[];for(const ke of function*K(Y,x){let F,ie;for(const Ce of Y)void 0!==ie&&x(ie,Ce)?F.push(Ce):(F&&(yield F),F=[Ce]),ie=Ce;F&&(yield F)}(Y.map(Pe=>function $(Y,x,F){let ie=0,Ce=0;1===Y.modifiedRange.endColumn&&1===Y.originalRange.endColumn&&Y.originalRange.startLineNumber+ie<=Y.originalRange.endLineNumber&&Y.modifiedRange.startLineNumber+ie<=Y.modifiedRange.endLineNumber&&(Ce=-1),Y.modifiedRange.startColumn-1>=F[Y.modifiedRange.startLineNumber-1].length&&Y.originalRange.startColumn-1>=x[Y.originalRange.startLineNumber-1].length&&Y.originalRange.startLineNumber<=Y.originalRange.endLineNumber+Ce&&Y.modifiedRange.startLineNumber<=Y.modifiedRange.endLineNumber+Ce&&(ie=1);const ke=new v.z(Y.originalRange.startLineNumber+ie,Y.originalRange.endLineNumber+1+Ce),Pe=new v.z(Y.modifiedRange.startLineNumber+ie,Y.modifiedRange.endLineNumber+1+Ce);return new O.f0(ke,Pe,[Y])}(Pe,x,F)),(Pe,xe)=>Pe.originalRange.overlapOrTouch(xe.originalRange)||Pe.modifiedRange.overlapOrTouch(xe.modifiedRange))){const Pe=ke[0],xe=ke[ke.length-1];Ce.push(new O.f0(Pe.originalRange.join(xe.originalRange),Pe.modifiedRange.join(xe.modifiedRange),ke.map(fe=>fe.innerChanges[0])))}return(0,P.eZ)(()=>!(!ie&&Ce.length>0&&Ce[0].originalRange.startLineNumber!==Ce[0].modifiedRange.startLineNumber)&&(0,P.DM)(Ce,(ke,Pe)=>Pe.originalRange.startLineNumber-ke.originalRange.endLineNumberExclusive==Pe.modifiedRange.startLineNumber-ke.modifiedRange.endLineNumberExclusive&&ke.originalRange.endLineNumberExclusive<Pe.originalRange.startLineNumber&&ke.modifiedRange.endLineNumberExclusive<Pe.modifiedRange.startLineNumber)),Ce}class J{constructor(x,F){this.trimmedHash=x,this.lines=F}getElement(x){return this.trimmedHash[x]}get length(){return this.trimmedHash.length}getBoundaryScore(x){return 1e3-((0===x?0:te(this.lines[x-1]))+(x===this.lines.length?0:te(this.lines[x])))}getText(x){return this.lines.slice(x.start,x.endExclusive).join("\n")}isStronglyEqual(x,F){return this.lines[x]===this.lines[F]}}function te(Y){let x=0;for(;x<Y.length&&(32===Y.charCodeAt(x)||9===Y.charCodeAt(x));)x++;return x}class ne{constructor(x,F,ie){this.lines=x,this.considerWhitespaceChanges=ie,this.elements=[],this.firstCharOffsetByLineMinusOne=[],this.additionalOffsetByLine=[];let Ce=!1;F.start>0&&F.endExclusive>=x.length&&(F=new S.q(F.start-1,F.endExclusive),Ce=!0),this.lineRange=F;for(let ke=this.lineRange.start;ke<this.lineRange.endExclusive;ke++){let Pe=x[ke],xe=0;if(Ce)xe=Pe.length,Pe="",Ce=!1;else if(!ie){const fe=Pe.trimStart();xe=Pe.length-fe.length,Pe=fe.trimEnd()}this.additionalOffsetByLine.push(xe);for(let fe=0;fe<Pe.length;fe++)this.elements.push(Pe.charCodeAt(fe));ke<x.length-1&&(this.elements.push("\n".charCodeAt(0)),this.firstCharOffsetByLineMinusOne[ke-this.lineRange.start]=this.elements.length)}this.additionalOffsetByLine.push(0)}toString(){return`Slice: "${this.text}"`}get text(){return this.getText(new S.q(0,this.length))}getText(x){return this.elements.slice(x.start,x.endExclusive).map(F=>String.fromCharCode(F)).join("")}getElement(x){return this.elements[x]}get length(){return this.elements.length}getBoundaryScore(x){const F=Se(x>0?this.elements[x-1]:-1),ie=Se(x<this.elements.length?this.elements[x]:-1);if(6===F&&7===ie)return 0;let Ce=0;return F!==ie&&(Ce+=10,1===ie&&(Ce+=1)),Ce+=Ie(F),Ce+=Ie(ie),Ce}translateOffset(x){if(this.lineRange.isEmpty)return new T.L(this.lineRange.start+1,1);let F=0,ie=this.firstCharOffsetByLineMinusOne.length;for(;F<ie;){const ke=Math.floor((F+ie)/2);this.firstCharOffsetByLineMinusOne[ke]>x?ie=ke:F=ke+1}return new T.L(this.lineRange.start+F+1,x-(0===F?0:this.firstCharOffsetByLineMinusOne[F-1])+1+this.additionalOffsetByLine[F])}translateRange(x){return E.e.fromPositions(this.translateOffset(x.start),this.translateOffset(x.endExclusive))}findWordContaining(x){if(x<0||x>=this.elements.length||!ue(this.elements[x]))return;let F=x;for(;F>0&&ue(this.elements[F-1]);)F--;let ie=x;for(;ie<this.elements.length&&ue(this.elements[ie]);)ie++;return new S.q(F,ie)}countLinesIn(x){return this.translateOffset(x.endExclusive).lineNumber-this.translateOffset(x.start).lineNumber}isStronglyEqual(x,F){return this.elements[x]===this.elements[F]}extendToFullLines(x){var F,ie;const Ce=null!==(F=function ae(Y,x){const F=function _(Y,x){let F=0,ie=Y.length;for(;F<ie;){const Ce=Math.floor((F+ie)/2);x(Y[Ce])?F=Ce+1:ie=Ce}return F-1}(Y,x);return-1===F?void 0:Y[F]}(this.firstCharOffsetByLineMinusOne,Pe=>Pe<=x.start))&&void 0!==F?F:0,ke=null!==(ie=function _e(Y,x){const F=function ge(Y,x){let F=0,ie=Y.length;for(;F<ie;){const Ce=Math.floor((F+ie)/2);x(Y[Ce])?ie=Ce:F=Ce+1}return F}(Y,x);return F===Y.length?void 0:Y[F]}(this.firstCharOffsetByLineMinusOne,Pe=>x.endExclusive<=Pe))&&void 0!==ie?ie:this.elements.length;return new S.q(Ce,ke)}}function ue(Y){return Y>=97&&Y<=122||Y>=65&&Y<=90||Y>=48&&Y<=57}const ve={0:0,1:0,2:0,3:10,4:2,5:3,6:10,7:10};function Ie(Y){return ve[Y]}function Se(Y){return 10===Y?7:13===Y?6:function Ve(Y){return 32===Y||9===Y}(Y)?5:Y>=97&&Y<=122?0:Y>=65&&Y<=90?1:Y>=48&&Y<=57?2:-1===Y?3:4}const De=new Map;function ye(Y){let x=De.get(Y);return void 0===x&&(x=De.size,De.set(Y,x)),x}class oe{constructor(x,F,ie){this.range=x,this.lines=F,this.source=ie,this.histogram=[];let Ce=0;for(let ke=x.startLineNumber-1;ke<x.endLineNumberExclusive-1;ke++){const Pe=F[ke];for(let fe=0;fe<Pe.length;fe++){Ce++;const pe=ye(Pe[fe]);this.histogram[pe]=(this.histogram[pe]||0)+1}Ce++;const xe=ye("\n");this.histogram[xe]=(this.histogram[xe]||0)+1}this.totalCount=Ce}computeSimilarity(x){var F,ie;let Ce=0;const ke=Math.max(this.histogram.length,x.histogram.length);for(let Pe=0;Pe<ke;Pe++)Ce+=Math.abs((null!==(F=this.histogram[Pe])&&void 0!==F?F:0)-(null!==(ie=x.histogram[Pe])&&void 0!==ie?ie:0));return 1-Ce/(this.totalCount+x.totalCount)}}},55359:(Xe,we,e)=>{e.d(we,{Qy:()=>v,f0:()=>r,hZ:()=>P,iy:()=>y,y0:()=>S});var f=e(266);class P{constructor(E,L,p){this.changes=E,this.moves=L,this.hitTimeout=p}}class r{static inverse(E,L,p){const c=[];let u=1,g=1;for(const d of E){const a=new r(new f.z(u,d.originalRange.startLineNumber),new f.z(g,d.modifiedRange.startLineNumber),void 0);a.modifiedRange.isEmpty||c.push(a),u=d.originalRange.endLineNumberExclusive,g=d.modifiedRange.endLineNumberExclusive}const i=new r(new f.z(u,L+1),new f.z(g,p+1),void 0);return i.modifiedRange.isEmpty||c.push(i),c}constructor(E,L,p){this.originalRange=E,this.modifiedRange=L,this.innerChanges=p}toString(){return`{${this.originalRange.toString()}->${this.modifiedRange.toString()}}`}get changedLineCount(){return Math.max(this.originalRange.length,this.modifiedRange.length)}flip(){var E;return new r(this.modifiedRange,this.originalRange,null===(E=this.innerChanges)||void 0===E?void 0:E.map(L=>L.flip()))}}class y{constructor(E,L){this.originalRange=E,this.modifiedRange=L}toString(){return`{${this.originalRange.toString()}->${this.modifiedRange.toString()}}`}flip(){return new y(this.modifiedRange,this.originalRange)}}class v{constructor(E,L){this.original=E,this.modified=L}toString(){return`{${this.original.toString()}->${this.modified.toString()}}`}flip(){return new v(this.modified,this.original)}join(E){return new v(this.original.join(E.original),this.modified.join(E.modified))}}class S{constructor(E,L){this.lineRangeMapping=E,this.changes=L}flip(){return new S(this.lineRangeMapping.flip(),this.changes.map(E=>E.flip()))}}},52816:(Xe,we,e)=>{e.d(we,{p:()=>f});class f{constructor(r,y,v,S,T,E){this.id=r,this.label=y,this.alias=v,this._precondition=S,this._run=T,this._contextKeyService=E}isSupported(){return this._contextKeyService.contextMatchesRules(this._precondition)}run(r){return this.isSupported()?this._run(r):Promise.resolve(void 0)}}},50144:(Xe,we,e)=>{e.d(we,{g:()=>f});const f={ICodeEditor:"vs.editor.ICodeEditor",IDiffEditor:"vs.editor.IDiffEditor"}},15446:(Xe,we,e)=>{e.d(we,{u:()=>r});var r,y,f=e(37190),P=e(66221);(y=r||(r={})).editorSimpleInput=new P.uy("editorSimpleInput",!1,!0),y.editorTextFocus=new P.uy("editorTextFocus",!1,f.NC("editorTextFocus","Whether the editor text has focus (cursor is blinking)")),y.focus=new P.uy("editorFocus",!1,f.NC("editorFocus","Whether the editor or an editor widget has focus (e.g. focus is in the find widget)")),y.textInputFocus=new P.uy("textInputFocus",!1,f.NC("textInputFocus","Whether an editor or a rich text input has focus (cursor is blinking)")),y.readOnly=new P.uy("editorReadonly",!1,f.NC("editorReadonly","Whether the editor is read-only")),y.inDiffEditor=new P.uy("inDiffEditor",!1,f.NC("inDiffEditor","Whether the context is a diff editor")),y.isEmbeddedDiffEditor=new P.uy("isEmbeddedDiffEditor",!1,f.NC("isEmbeddedDiffEditor","Whether the context is an embedded diff editor")),y.comparingMovedCode=new P.uy("comparingMovedCode",!1,f.NC("comparingMovedCode","Whether a moved code block is selected for comparison")),y.accessibleDiffViewerVisible=new P.uy("accessibleDiffViewerVisible",!1,f.NC("accessibleDiffViewerVisible","Whether the accessible diff viewer is visible")),y.diffEditorRenderSideBySideInlineBreakpointReached=new P.uy("diffEditorRenderSideBySideInlineBreakpointReached",!1,f.NC("diffEditorRenderSideBySideInlineBreakpointReached","Whether the diff editor render side by side inline breakpoint is reached")),y.columnSelection=new P.uy("editorColumnSelection",!1,f.NC("editorColumnSelection","Whether `editor.columnSelection` is enabled")),y.writable=y.readOnly.toNegated(),y.hasNonEmptySelection=new P.uy("editorHasSelection",!1,f.NC("editorHasSelection","Whether the editor has text selected")),y.hasOnlyEmptySelection=y.hasNonEmptySelection.toNegated(),y.hasMultipleSelections=new P.uy("editorHasMultipleSelections",!1,f.NC("editorHasMultipleSelections","Whether the editor has multiple selections")),y.hasSingleSelection=y.hasMultipleSelections.toNegated(),y.tabMovesFocus=new P.uy("editorTabMovesFocus",!1,f.NC("editorTabMovesFocus","Whether `Tab` will move focus out of the editor")),y.tabDoesNotMoveFocus=y.tabMovesFocus.toNegated(),y.isInWalkThroughSnippet=new P.uy("isInEmbeddedEditor",!1,!0),y.canUndo=new P.uy("canUndo",!1,!0),y.canRedo=new P.uy("canRedo",!1,!0),y.hoverVisible=new P.uy("editorHoverVisible",!1,f.NC("editorHoverVisible","Whether the editor hover is visible")),y.hoverFocused=new P.uy("editorHoverFocused",!1,f.NC("editorHoverFocused","Whether the editor hover is focused")),y.stickyScrollFocused=new P.uy("stickyScrollFocused",!1,f.NC("stickyScrollFocused","Whether the sticky scroll is focused")),y.stickyScrollVisible=new P.uy("stickyScrollVisible",!1,f.NC("stickyScrollVisible","Whether the sticky scroll is visible")),y.standaloneColorPickerVisible=new P.uy("standaloneColorPickerVisible",!1,f.NC("standaloneColorPickerVisible","Whether the standalone color picker is visible")),y.standaloneColorPickerFocused=new P.uy("standaloneColorPickerFocused",!1,f.NC("standaloneColorPickerFocused","Whether the standalone color picker is focused")),y.inCompositeEditor=new P.uy("inCompositeEditor",void 0,f.NC("inCompositeEditor","Whether the editor is part of a larger editor (e.g. notebooks)")),y.notInCompositeEditor=y.inCompositeEditor.toNegated(),y.languageId=new P.uy("editorLangId","",f.NC("editorLangId","The language identifier of the editor")),y.hasCompletionItemProvider=new P.uy("editorHasCompletionItemProvider",!1,f.NC("editorHasCompletionItemProvider","Whether the editor has a completion item provider")),y.hasCodeActionsProvider=new P.uy("editorHasCodeActionsProvider",!1,f.NC("editorHasCodeActionsProvider","Whether the editor has a code actions provider")),y.hasCodeLensProvider=new P.uy("editorHasCodeLensProvider",!1,f.NC("editorHasCodeLensProvider","Whether the editor has a code lens provider")),y.hasDefinitionProvider=new P.uy("editorHasDefinitionProvider",!1,f.NC("editorHasDefinitionProvider","Whether the editor has a definition provider")),y.hasDeclarationProvider=new P.uy("editorHasDeclarationProvider",!1,f.NC("editorHasDeclarationProvider","Whether the editor has a declaration provider")),y.hasImplementationProvider=new P.uy("editorHasImplementationProvider",!1,f.NC("editorHasImplementationProvider","Whether the editor has an implementation provider")),y.hasTypeDefinitionProvider=new P.uy("editorHasTypeDefinitionProvider",!1,f.NC("editorHasTypeDefinitionProvider","Whether the editor has a type definition provider")),y.hasHoverProvider=new P.uy("editorHasHoverProvider",!1,f.NC("editorHasHoverProvider","Whether the editor has a hover provider")),y.hasDocumentHighlightProvider=new P.uy("editorHasDocumentHighlightProvider",!1,f.NC("editorHasDocumentHighlightProvider","Whether the editor has a document highlight provider")),y.hasDocumentSymbolProvider=new P.uy("editorHasDocumentSymbolProvider",!1,f.NC("editorHasDocumentSymbolProvider","Whether the editor has a document symbol provider")),y.hasReferenceProvider=new P.uy("editorHasReferenceProvider",!1,f.NC("editorHasReferenceProvider","Whether the editor has a reference provider")),y.hasRenameProvider=new P.uy("editorHasRenameProvider",!1,f.NC("editorHasRenameProvider","Whether the editor has a rename provider")),y.hasSignatureHelpProvider=new P.uy("editorHasSignatureHelpProvider",!1,f.NC("editorHasSignatureHelpProvider","Whether the editor has a signature help provider")),y.hasInlayHintsProvider=new P.uy("editorHasInlayHintsProvider",!1,f.NC("editorHasInlayHintsProvider","Whether the editor has an inline hints provider")),y.hasDocumentFormattingProvider=new P.uy("editorHasDocumentFormattingProvider",!1,f.NC("editorHasDocumentFormattingProvider","Whether the editor has a document formatting provider")),y.hasDocumentSelectionFormattingProvider=new P.uy("editorHasDocumentSelectionFormattingProvider",!1,f.NC("editorHasDocumentSelectionFormattingProvider","Whether the editor has a document selection formatting provider")),y.hasMultipleDocumentFormattingProvider=new P.uy("editorHasMultipleDocumentFormattingProvider",!1,f.NC("editorHasMultipleDocumentFormattingProvider","Whether the editor has multiple document formatting providers")),y.hasMultipleDocumentSelectionFormattingProvider=new P.uy("editorHasMultipleDocumentSelectionFormattingProvider",!1,f.NC("editorHasMultipleDocumentSelectionFormattingProvider","Whether the editor has multiple document selection formatting providers"))},65058:(Xe,we,e)=>{e.d(we,{n:()=>r,y:()=>P});const f=[];function P(y){f.push(y)}function r(){return f.slice(0)}},96724:(Xe,we,e)=>{e.d(we,{N:()=>f});class f{static getLanguageId(r){return(255&r)>>>0}static getTokenType(r){return(768&r)>>>8}static containsBalancedBrackets(r){return 0!=(1024&r)}static getFontStyle(r){return(30720&r)>>>11}static getForeground(r){return(16744448&r)>>>15}static getBackground(r){return(4278190080&r)>>>24}static getClassNameFromMetadata(r){let v="mtk"+this.getForeground(r);const S=this.getFontStyle(r);return 1&S&&(v+=" mtki"),2&S&&(v+=" mtkb"),4&S&&(v+=" mtku"),8&S&&(v+=" mtks"),v}static getInlineStyleFromMetadata(r,y){const v=this.getForeground(r),S=this.getFontStyle(r);let T=`color: ${y[v]};`;1&S&&(T+="font-style: italic;"),2&S&&(T+="font-weight: bold;");let E="";return 4&S&&(E+=" underline"),8&S&&(E+=" line-through"),E&&(T+=`text-decoration:${E};`),T}static getPresentationFromMetadata(r){const y=this.getForeground(r),v=this.getFontStyle(r);return{foreground:y,italic:!!(1&v),bold:!!(2&v),underline:!!(4&v),strikethrough:!!(8&v)}}}},81814:(Xe,we,e)=>{e.d(we,{mY:()=>k,gX:()=>g,MY:()=>m,DI:()=>u,AD:()=>A,gl:()=>R,bw:()=>i,MO:()=>O,ln:()=>d,WW:()=>a,uZ:()=>D,WU:()=>p,RW:()=>W,hG:()=>c,R4:()=>w,vx:()=>l});var f=e(27222),P=e(15850),r=e(96726),y=e(58178),v=e(78694),S=function(z,U,ee,B){return new(ee||(ee=Promise))(function(se,j){function $(te){try{J(B.next(te))}catch(ne){j(ne)}}function K(te){try{J(B.throw(te))}catch(ne){j(ne)}}function J(te){te.done?se(te.value):function G(se){return se instanceof ee?se:new ee(function(j){j(se)})}(te.value).then($,K)}J((B=B.apply(z,U||[])).next())})};class E extends v.JT{get isResolved(){return this._isResolved}constructor(U,ee,B){super(),this._registry=U,this._languageId=ee,this._factory=B,this._isDisposed=!1,this._resolvePromise=null,this._isResolved=!1}dispose(){this._isDisposed=!0,super.dispose()}resolve(){return S(this,void 0,void 0,function*(){return this._resolvePromise||(this._resolvePromise=this._create()),this._resolvePromise})}_create(){return S(this,void 0,void 0,function*(){const U=yield this._factory.tokenizationSupport;this._isResolved=!0,U&&!this._isDisposed&&this._register(this._registry.register(this._languageId,U))})}}var g,L=e(37190);class p{constructor(U,ee,B){this.offset=U,this.type=ee,this.language=B,this._tokenBrand=void 0}toString(){return"("+this.offset+", "+this.type+")"}}class c{constructor(U,ee){this.tokens=U,this.endState=ee,this._tokenizationResultBrand=void 0}}class u{constructor(U,ee){this.tokens=U,this.endState=ee,this._encodedTokenizationResultBrand=void 0}}!function(z){const U=new Map;U.set(0,f.l.symbolMethod),U.set(1,f.l.symbolFunction),U.set(2,f.l.symbolConstructor),U.set(3,f.l.symbolField),U.set(4,f.l.symbolVariable),U.set(5,f.l.symbolClass),U.set(6,f.l.symbolStruct),U.set(7,f.l.symbolInterface),U.set(8,f.l.symbolModule),U.set(9,f.l.symbolProperty),U.set(10,f.l.symbolEvent),U.set(11,f.l.symbolOperator),U.set(12,f.l.symbolUnit),U.set(13,f.l.symbolValue),U.set(15,f.l.symbolEnum),U.set(14,f.l.symbolConstant),U.set(15,f.l.symbolEnum),U.set(16,f.l.symbolEnumMember),U.set(17,f.l.symbolKeyword),U.set(27,f.l.symbolSnippet),U.set(18,f.l.symbolText),U.set(19,f.l.symbolColor),U.set(20,f.l.symbolFile),U.set(21,f.l.symbolReference),U.set(22,f.l.symbolCustomColor),U.set(23,f.l.symbolFolder),U.set(24,f.l.symbolTypeParameter),U.set(25,f.l.account),U.set(26,f.l.issues),z.toIcon=function ee(se){let j=U.get(se);return j||(console.info("No codicon found for CompletionItemKind "+se),j=f.l.symbolProperty),j};const B=new Map;B.set("method",0),B.set("function",1),B.set("constructor",2),B.set("field",3),B.set("variable",4),B.set("class",5),B.set("struct",6),B.set("interface",7),B.set("module",8),B.set("property",9),B.set("event",10),B.set("operator",11),B.set("unit",12),B.set("value",13),B.set("constant",14),B.set("enum",15),B.set("enum-member",16),B.set("enumMember",16),B.set("keyword",17),B.set("snippet",27),B.set("text",18),B.set("color",19),B.set("file",20),B.set("reference",21),B.set("customcolor",22),B.set("folder",23),B.set("type-parameter",24),B.set("typeParameter",24),B.set("account",25),B.set("issue",26),z.fromString=function G(se,j){let $=B.get(se);return typeof $>"u"&&!j&&($=9),$}}(g||(g={}));var i=function(z){return z[z.Automatic=0]="Automatic",z[z.Explicit=1]="Explicit",z}(i||{});class d{constructor(U,ee,B,G){this.range=U,this.text=ee,this.completionKind=B,this.isSnippetText=G}equals(U){return r.e.lift(this.range).equalsRange(U.range)&&this.text===U.text&&this.completionKind===U.completionKind&&this.isSnippetText===U.isSnippetText}}var a=function(z){return z[z.Invoke=1]="Invoke",z[z.TriggerCharacter=2]="TriggerCharacter",z[z.ContentChange=3]="ContentChange",z}(a||{}),m=function(z){return z[z.Text=0]="Text",z[z.Read=1]="Read",z[z.Write=2]="Write",z}(m||{});function l(z){return z&&P.o.isUri(z.uri)&&r.e.isIRange(z.range)&&(r.e.isIRange(z.originSelectionRange)||r.e.isIRange(z.targetSelectionRange))}const I={17:(0,L.NC)("Array","array"),16:(0,L.NC)("Boolean","boolean"),4:(0,L.NC)("Class","class"),13:(0,L.NC)("Constant","constant"),8:(0,L.NC)("Constructor","constructor"),9:(0,L.NC)("Enum","enumeration"),21:(0,L.NC)("EnumMember","enumeration member"),23:(0,L.NC)("Event","event"),7:(0,L.NC)("Field","field"),0:(0,L.NC)("File","file"),11:(0,L.NC)("Function","function"),10:(0,L.NC)("Interface","interface"),19:(0,L.NC)("Key","key"),5:(0,L.NC)("Method","method"),1:(0,L.NC)("Module","module"),2:(0,L.NC)("Namespace","namespace"),20:(0,L.NC)("Null","null"),15:(0,L.NC)("Number","number"),18:(0,L.NC)("Object","object"),24:(0,L.NC)("Operator","operator"),3:(0,L.NC)("Package","package"),6:(0,L.NC)("Property","property"),14:(0,L.NC)("String","string"),22:(0,L.NC)("Struct","struct"),25:(0,L.NC)("TypeParameter","type parameter"),12:(0,L.NC)("Variable","variable")};function w(z,U){return(0,L.NC)("symbolAriaLabel","{0} ({1})",z,I[U])}var D,k;!function(z){const U=new Map;U.set(0,f.l.symbolFile),U.set(1,f.l.symbolModule),U.set(2,f.l.symbolNamespace),U.set(3,f.l.symbolPackage),U.set(4,f.l.symbolClass),U.set(5,f.l.symbolMethod),U.set(6,f.l.symbolProperty),U.set(7,f.l.symbolField),U.set(8,f.l.symbolConstructor),U.set(9,f.l.symbolEnum),U.set(10,f.l.symbolInterface),U.set(11,f.l.symbolFunction),U.set(12,f.l.symbolVariable),U.set(13,f.l.symbolConstant),U.set(14,f.l.symbolString),U.set(15,f.l.symbolNumber),U.set(16,f.l.symbolBoolean),U.set(17,f.l.symbolArray),U.set(18,f.l.symbolObject),U.set(19,f.l.symbolKey),U.set(20,f.l.symbolNull),U.set(21,f.l.symbolEnumMember),U.set(22,f.l.symbolStruct),U.set(23,f.l.symbolEvent),U.set(24,f.l.symbolOperator),U.set(25,f.l.symbolTypeParameter),z.toIcon=function ee(B){let G=U.get(B);return G||(console.info("No codicon found for SymbolKind "+B),G=f.l.symbolProperty),G}}(D||(D={}));class A{static fromValue(U){switch(U){case"comment":return A.Comment;case"imports":return A.Imports;case"region":return A.Region}return new A(U)}constructor(U){this.value=U}}A.Comment=new A("comment"),A.Imports=new A("imports"),A.Region=new A("region"),(k||(k={})).is=function U(ee){return!(!ee||"object"!=typeof ee)&&"string"==typeof ee.id&&"string"==typeof ee.title};var R=function(z){return z[z.Type=1]="Type",z[z.Parameter=2]="Parameter",z}(R||{});class O{constructor(U){this.createSupport=U,this._tokenizationSupport=null}dispose(){this._tokenizationSupport&&this._tokenizationSupport.then(U=>{U&&U.dispose()})}get tokenizationSupport(){return this._tokenizationSupport||(this._tokenizationSupport=this.createSupport()),this._tokenizationSupport}}const W=new class T{constructor(){this._tokenizationSupports=new Map,this._factories=new Map,this._onDidChange=new y.Q5,this.onDidChange=this._onDidChange.event,this._colorMap=null}handleChange(U){this._onDidChange.fire({changedLanguages:U,changedColorMap:!1})}register(U,ee){return this._tokenizationSupports.set(U,ee),this.handleChange([U]),(0,v.OF)(()=>{this._tokenizationSupports.get(U)===ee&&(this._tokenizationSupports.delete(U),this.handleChange([U]))})}get(U){return this._tokenizationSupports.get(U)||null}registerFactory(U,ee){var B;null===(B=this._factories.get(U))||void 0===B||B.dispose();const G=new E(this,U,ee);return this._factories.set(U,G),(0,v.OF)(()=>{const se=this._factories.get(U);!se||se!==G||(this._factories.delete(U),se.dispose())})}getOrCreate(U){return S(this,void 0,void 0,function*(){const ee=this.get(U);if(ee)return ee;const B=this._factories.get(U);return!B||B.isResolved?null:(yield B.resolve(),this.get(U))})}isResolved(U){if(this.get(U))return!0;const B=this._factories.get(U);return!(B&&!B.isResolved)}setColorMap(U){this._colorMap=U,this._onDidChange.fire({changedLanguages:Array.from(this._tokenizationSupports.keys()),changedColorMap:!0})}getColorMap(){return this._colorMap}getDefaultBackground(){return this._colorMap&&this._colorMap.length>2?this._colorMap[2]:null}}},47683:(Xe,we,e)=>{e.d(we,{$9:()=>L,UF:()=>E,n8:()=>T,r7:()=>S,tI:()=>p});var f=e(16055),P=e(89224),r=e(20386),y=e(58459);function S(c,u,g,i=!0,d){if(c<4)return null;const a=d.getLanguageConfiguration(u.tokenization.getLanguageId()).indentRulesSupport;if(!a)return null;if(g<=1)return{indentation:"",action:null};for(let I=g-1;I>0&&""===u.getLineContent(I);I--)if(1===I)return{indentation:"",action:null};const m=function v(c,u,g){const i=c.tokenization.getLanguageIdAtPosition(u,0);if(u>1){let d,a=-1;for(d=u-1;d>=1;d--){if(c.tokenization.getLanguageIdAtPosition(d,0)!==i)return a;const m=c.getLineContent(d);if(!g.shouldIgnore(m)&&!/^\s+$/.test(m)&&""!==m)return d;a=d}}return-1}(u,g,a);if(m<0)return null;if(m<1)return{indentation:"",action:null};const l=u.getLineContent(m);if(a.shouldIncrease(l)||a.shouldIndentNextLine(l))return{indentation:f.V8(l),action:P.wU.Indent,line:m};if(a.shouldDecrease(l))return{indentation:f.V8(l),action:null,line:m};{if(1===m)return{indentation:f.V8(u.getLineContent(m)),action:null,line:m};const I=m-1,w=a.getIndentMetadata(u.getLineContent(I));if(!(3&w)&&4&w){let D=0;for(let N=I-1;N>0;N--)if(!a.shouldIndentNextLine(u.getLineContent(N))){D=N;break}return{indentation:f.V8(u.getLineContent(D+1)),action:null,line:D+1}}if(i)return{indentation:f.V8(u.getLineContent(m)),action:null,line:m};for(let D=m;D>0;D--){const N=u.getLineContent(D);if(a.shouldIncrease(N))return{indentation:f.V8(N),action:P.wU.Indent,line:D};if(a.shouldIndentNextLine(N)){let A=0;for(let k=D-1;k>0;k--)if(!a.shouldIndentNextLine(u.getLineContent(D))){A=k;break}return{indentation:f.V8(u.getLineContent(A+1)),action:null,line:A+1}}if(a.shouldDecrease(N))return{indentation:f.V8(N),action:null,line:D}}return{indentation:f.V8(u.getLineContent(1)),action:null,line:1}}}function T(c,u,g,i,d,a){if(c<4)return null;const m=a.getLanguageConfiguration(g);if(!m)return null;const l=a.getLanguageConfiguration(g).indentRulesSupport;if(!l)return null;const I=S(c,u,i,void 0,a),w=u.getLineContent(i);if(I){const D=I.line;if(void 0!==D){let N=!0;for(let A=D;A<i-1;A++)if(!/^\s*$/.test(u.getLineContent(A))){N=!1;break}if(N){const A=m.onEnter(c,"",u.getLineContent(D),"");if(A){let k=f.V8(u.getLineContent(D));return A.removeText&&(k=k.substring(0,k.length-A.removeText)),A.indentAction===P.wU.Indent||A.indentAction===P.wU.IndentOutdent?k=d.shiftIndent(k):A.indentAction===P.wU.Outdent&&(k=d.unshiftIndent(k)),l.shouldDecrease(w)&&(k=d.unshiftIndent(k)),A.appendText&&(k+=A.appendText),f.V8(k)}}}return l.shouldDecrease(w)?I.action===P.wU.Indent?I.indentation:d.unshiftIndent(I.indentation):I.action===P.wU.Indent?d.shiftIndent(I.indentation):I.indentation}return null}function E(c,u,g,i,d){if(c<4)return null;u.tokenization.forceTokenization(g.startLineNumber);const a=u.tokenization.getLineTokens(g.startLineNumber),m=(0,r.wH)(a,g.startColumn-1),l=m.getLineContent();let w,D,I=!1;m.firstCharOffset>0&&a.getLanguageId(0)!==m.languageId?(I=!0,w=l.substr(0,g.startColumn-1-m.firstCharOffset)):w=a.getLineContent().substring(0,g.startColumn-1),D=g.isEmpty()?l.substr(g.startColumn-1-m.firstCharOffset):(0,y.n2)(u,g.endLineNumber,g.endColumn).getLineContent().substr(g.endColumn-1-m.firstCharOffset);const N=d.getLanguageConfiguration(m.languageId).indentRulesSupport;if(!N)return null;const A=w,k=f.V8(w),R={tokenization:{getLineTokens:U=>u.tokenization.getLineTokens(U),getLanguageId:()=>u.getLanguageId(),getLanguageIdAtPosition:(U,ee)=>u.getLanguageIdAtPosition(U,ee)},getLineContent:U=>U===g.startLineNumber?A:u.getLineContent(U)},O=f.V8(a.getLineContent()),W=S(c,R,g.startLineNumber+1,void 0,d);if(!W){const U=I?O:k;return{beforeEnter:U,afterEnter:U}}let z=I?O:W.indentation;return W.action===P.wU.Indent&&(z=i.shiftIndent(z)),N.shouldDecrease(D)&&(z=i.unshiftIndent(z)),{beforeEnter:I?O:k,afterEnter:z}}function L(c,u,g,i,d,a){if(c<4)return null;const m=(0,y.n2)(u,g.startLineNumber,g.startColumn);if(m.firstCharOffset)return null;const l=a.getLanguageConfiguration(m.languageId).indentRulesSupport;if(!l)return null;const I=m.getLineContent(),w=I.substr(0,g.startColumn-1-m.firstCharOffset);let D;if(D=g.isEmpty()?I.substr(g.startColumn-1-m.firstCharOffset):(0,y.n2)(u,g.endLineNumber,g.endColumn).getLineContent().substr(g.endColumn-1-m.firstCharOffset),!l.shouldDecrease(w+D)&&l.shouldDecrease(w+i+D)){const N=S(c,u,g.startLineNumber,!1,a);if(!N)return null;let A=N.indentation;return N.action!==P.wU.Indent&&(A=d.unshiftIndent(A)),A}return null}function p(c,u,g){const i=g.getLanguageConfiguration(c.getLanguageId()).indentRulesSupport;return!i||u<1||u>c.getLineCount()?null:i.getIndentMetadata(c.getLineContent(u))}},5256:(Xe,we,e)=>{e.d(we,{A:()=>r});var f=e(89224),P=e(58459);function r(y,v,S,T){const E=(0,P.n2)(v,S.startLineNumber,S.startColumn),L=T.getLanguageConfiguration(E.languageId);if(!L)return null;const p=E.getLineContent(),c=p.substr(0,S.startColumn-1-E.firstCharOffset);let u;u=S.isEmpty()?p.substr(S.startColumn-1-E.firstCharOffset):(0,P.n2)(v,S.endLineNumber,S.endColumn).getLineContent().substr(S.endColumn-1-E.firstCharOffset);let g="";if(S.startLineNumber>1&&0===E.firstCharOffset){const I=(0,P.n2)(v,S.startLineNumber-1);I.languageId===E.languageId&&(g=I.getLineContent())}const i=L.onEnter(y,g,c,u);if(!i)return null;const d=i.indentAction;let a=i.appendText;const m=i.removeText||0;a?d===f.wU.Indent&&(a="\t"+a):a=d===f.wU.Indent||d===f.wU.IndentOutdent?"\t":"";let l=(0,P.u0)(v,S.startLineNumber,S.startColumn);return m&&(l=l.substring(0,l.length-m)),{indentAction:d,appendText:a,removeText:m,indentation:l}}},74315:(Xe,we,e)=>{e.d(we,{O:()=>P});const P=(0,e(12065).yh)("languageService")},89224:(Xe,we,e)=>{e.d(we,{V6:()=>P,c$:()=>r,wU:()=>f});var f=function(v){return v[v.None=0]="None",v[v.Indent=1]="Indent",v[v.IndentOutdent=2]="IndentOutdent",v[v.Outdent=3]="Outdent",v}(f||{});class P{constructor(S){if(this._neutralCharacter=null,this._neutralCharacterSearched=!1,this.open=S.open,this.close=S.close,this._inString=!0,this._inComment=!0,this._inRegEx=!0,Array.isArray(S.notIn))for(let T=0,E=S.notIn.length;T<E;T++)switch(S.notIn[T]){case"string":this._inString=!1;break;case"comment":this._inComment=!1;break;case"regex":this._inRegEx=!1}}isOK(S){switch(S){case 0:return!0;case 1:return this._inComment;case 2:return this._inString;case 3:return this._inRegEx}}shouldAutoClose(S,T){if(0===S.getTokenCount())return!0;const E=S.findTokenIndexAtOffset(T-2),L=S.getStandardTokenType(E);return this.isOK(L)}_findNeutralCharacterInRange(S,T){for(let E=S;E<=T;E++){const L=String.fromCharCode(E);if(!this.open.includes(L)&&!this.close.includes(L))return L}return null}findNeutralCharacter(){return this._neutralCharacterSearched||(this._neutralCharacterSearched=!0,this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(48,57)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(97,122)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(65,90))),this._neutralCharacter}}class r{constructor(S){this.autoClosingPairsOpenByStart=new Map,this.autoClosingPairsOpenByEnd=new Map,this.autoClosingPairsCloseByStart=new Map,this.autoClosingPairsCloseByEnd=new Map,this.autoClosingPairsCloseSingleChar=new Map;for(const T of S)y(this.autoClosingPairsOpenByStart,T.open.charAt(0),T),y(this.autoClosingPairsOpenByEnd,T.open.charAt(T.open.length-1),T),y(this.autoClosingPairsCloseByStart,T.close.charAt(0),T),y(this.autoClosingPairsCloseByEnd,T.close.charAt(T.close.length-1),T),1===T.close.length&&1===T.open.length&&y(this.autoClosingPairsCloseSingleChar,T.close,T)}}function y(v,S,T){v.has(S)?v.get(S).push(T):v.set(S,[T])}},58459:(Xe,we,e)=>{e.d(we,{c_:()=>U,u0:()=>$,n2:()=>K});var f=e(58178),P=e(78694),r=e(16055),y=e(28797),v=e(89224),S=e(20386);let T=(()=>{class _e{constructor(ve){if(this._autoClosingPairs=ve.autoClosingPairs?ve.autoClosingPairs.map(Ie=>new v.V6(Ie)):ve.brackets?ve.brackets.map(Ie=>new v.V6({open:Ie[0],close:Ie[1]})):[],ve.__electricCharacterSupport&&ve.__electricCharacterSupport.docComment){const Ie=ve.__electricCharacterSupport.docComment;this._autoClosingPairs.push(new v.V6({open:Ie.open,close:Ie.close||""}))}this._autoCloseBeforeForQuotes="string"==typeof ve.autoCloseBefore?ve.autoCloseBefore:_e.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_QUOTES,this._autoCloseBeforeForBrackets="string"==typeof ve.autoCloseBefore?ve.autoCloseBefore:_e.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_BRACKETS,this._surroundingPairs=ve.surroundingPairs||this._autoClosingPairs}getAutoClosingPairs(){return this._autoClosingPairs}getAutoCloseBeforeSet(ve){return ve?this._autoCloseBeforeForQuotes:this._autoCloseBeforeForBrackets}getSurroundingPairs(){return this._surroundingPairs}}return _e.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_QUOTES=";:.,=}])> \n\t",_e.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_BRACKETS="'\"`;:.,=}])> \n\t",_e})();var E=e(31738),L=e(67093);class p{constructor(ue){this._richEditBrackets=ue}getElectricCharacters(){const ue=[];if(this._richEditBrackets)for(const ve of this._richEditBrackets.brackets)for(const Ie of ve.close){const Se=Ie.charAt(Ie.length-1);ue.push(Se)}return(0,E.EB)(ue)}onElectricCharacter(ue,ve,Ie){if(!this._richEditBrackets||0===this._richEditBrackets.brackets.length)return null;const Se=ve.findTokenIndexAtOffset(Ie-1);if((0,S.Bu)(ve.getStandardTokenType(Se)))return null;const Ve=this._richEditBrackets.reversedRegex,De=ve.getLineContent().substring(0,Ie-1)+ue,ye=L.Vr.findPrevBracketInRange(Ve,1,De,0,De.length);if(!ye)return null;const oe=De.substring(ye.startColumn-1,ye.endColumn-1).toLowerCase();if(this._richEditBrackets.textIsOpenBracket[oe])return null;const x=ve.getActualLineContentBefore(ye.startColumn-1);return/^\s*$/.test(x)?{matchOpenBracket:oe}:null}}function c(_e){return _e.global&&(_e.lastIndex=0),!0}class u{constructor(ue){this._indentationRules=ue}shouldIncrease(ue){return!!(this._indentationRules&&this._indentationRules.increaseIndentPattern&&c(this._indentationRules.increaseIndentPattern)&&this._indentationRules.increaseIndentPattern.test(ue))}shouldDecrease(ue){return!!(this._indentationRules&&this._indentationRules.decreaseIndentPattern&&c(this._indentationRules.decreaseIndentPattern)&&this._indentationRules.decreaseIndentPattern.test(ue))}shouldIndentNextLine(ue){return!!(this._indentationRules&&this._indentationRules.indentNextLinePattern&&c(this._indentationRules.indentNextLinePattern)&&this._indentationRules.indentNextLinePattern.test(ue))}shouldIgnore(ue){return!!(this._indentationRules&&this._indentationRules.unIndentedLinePattern&&c(this._indentationRules.unIndentedLinePattern)&&this._indentationRules.unIndentedLinePattern.test(ue))}getIndentMetadata(ue){let ve=0;return this.shouldIncrease(ue)&&(ve+=1),this.shouldDecrease(ue)&&(ve+=2),this.shouldIndentNextLine(ue)&&(ve+=4),this.shouldIgnore(ue)&&(ve+=8),ve}}var g=e(17967);class i{constructor(ue){(ue=ue||{}).brackets=ue.brackets||[["(",")"],["{","}"],["[","]"]],this._brackets=[],ue.brackets.forEach(ve=>{const Ie=i._createOpenBracketRegExp(ve[0]),Se=i._createCloseBracketRegExp(ve[1]);Ie&&Se&&this._brackets.push({open:ve[0],openRegExp:Ie,close:ve[1],closeRegExp:Se})}),this._regExpRules=ue.onEnterRules||[]}onEnter(ue,ve,Ie,Se){if(ue>=3)for(let Ve=0,De=this._regExpRules.length;Ve<De;Ve++){const ye=this._regExpRules[Ve];if([{reg:ye.beforeText,text:Ie},{reg:ye.afterText,text:Se},{reg:ye.previousLineText,text:ve}].every(Y=>!Y.reg||(Y.reg.lastIndex=0,Y.reg.test(Y.text))))return ye.action}if(ue>=2&&Ie.length>0&&Se.length>0)for(let Ve=0,De=this._brackets.length;Ve<De;Ve++){const ye=this._brackets[Ve];if(ye.openRegExp.test(Ie)&&ye.closeRegExp.test(Se))return{indentAction:v.wU.IndentOutdent}}if(ue>=2&&Ie.length>0)for(let Ve=0,De=this._brackets.length;Ve<De;Ve++)if(this._brackets[Ve].openRegExp.test(Ie))return{indentAction:v.wU.Indent};return null}static _createOpenBracketRegExp(ue){let ve=r.ec(ue);return/\B/.test(ve.charAt(0))||(ve="\\b"+ve),ve+="\\s*$",i._safeRegExp(ve)}static _createCloseBracketRegExp(ue){let ve=r.ec(ue);return/\B/.test(ve.charAt(ve.length-1))||(ve+="\\b"),ve="^\\s*"+ve,i._safeRegExp(ve)}static _safeRegExp(ue){try{return new RegExp(ue)}catch(ve){return(0,g.dL)(ve),null}}}var d=e(12065),a=e(47358),m=e(74315),l=e(67755),I=e(81007),w=e(34762);class D{constructor(ue,ve){this.languageId=ue;const Ie=ve.brackets?N(ve.brackets):[],Se=new w.b(ye=>{const oe=new Set;return{info:new k(this,ye,oe),closing:oe}}),Ve=new w.b(ye=>{const oe=new Set,Y=new Set;return{info:new R(this,ye,oe,Y),opening:oe,openingColorized:Y}});for(const[ye,oe]of Ie){const Y=Se.get(ye),x=Ve.get(oe);Y.closing.add(x.info),x.opening.add(Y.info)}const De=ve.colorizedBracketPairs?N(ve.colorizedBracketPairs):Ie.filter(ye=>!("<"===ye[0]&&">"===ye[1]));for(const[ye,oe]of De){const Y=Se.get(ye),x=Ve.get(oe);Y.closing.add(x.info),x.openingColorized.add(Y.info),x.opening.add(Y.info)}this._openingBrackets=new Map([...Se.cachedValues].map(([ye,oe])=>[ye,oe.info])),this._closingBrackets=new Map([...Ve.cachedValues].map(([ye,oe])=>[ye,oe.info]))}get openingBrackets(){return[...this._openingBrackets.values()]}get closingBrackets(){return[...this._closingBrackets.values()]}getOpeningBracketInfo(ue){return this._openingBrackets.get(ue)}getClosingBracketInfo(ue){return this._closingBrackets.get(ue)}getBracketInfo(ue){return this.getOpeningBracketInfo(ue)||this.getClosingBracketInfo(ue)}}function N(_e){return _e.filter(([ue,ve])=>""!==ue&&""!==ve)}class A{constructor(ue,ve){this.config=ue,this.bracketText=ve}get languageId(){return this.config.languageId}}class k extends A{constructor(ue,ve,Ie){super(ue,ve),this.openedBrackets=Ie,this.isOpeningBracket=!0}}class R extends A{constructor(ue,ve,Ie,Se){super(ue,ve),this.openingBrackets=Ie,this.openingColorizedBrackets=Se,this.isOpeningBracket=!1}closes(ue){return ue.config===this.config&&this.openingBrackets.has(ue)}closesColorized(ue){return ue.config===this.config&&this.openingColorizedBrackets.has(ue)}getOpeningBrackets(){return[...this.openingBrackets]}}var W=function(_e,ue){return function(ve,Ie){ue(ve,Ie,_e)}};class z{constructor(ue){this.languageId=ue}affects(ue){return!this.languageId||this.languageId===ue}}const U=(0,d.yh)("languageConfigurationService");let ee=class extends P.JT{constructor(ue,ve){super(),this.configurationService=ue,this.languageService=ve,this._registry=this._register(new ae),this.onDidChangeEmitter=this._register(new f.Q5),this.onDidChange=this.onDidChangeEmitter.event,this.configurations=new Map;const Ie=new Set(Object.values(G));this._register(this.configurationService.onDidChangeConfiguration(Se=>{const Ve=Se.change.keys.some(ye=>Ie.has(ye)),De=Se.change.overrides.filter(([ye,oe])=>oe.some(Y=>Ie.has(Y))).map(([ye])=>ye);if(Ve)this.configurations.clear(),this.onDidChangeEmitter.fire(new z(void 0));else for(const ye of De)this.languageService.isRegisteredLanguageId(ye)&&(this.configurations.delete(ye),this.onDidChangeEmitter.fire(new z(ye)))})),this._register(this._registry.onDidChange(Se=>{this.configurations.delete(Se.languageId),this.onDidChangeEmitter.fire(new z(Se.languageId))}))}register(ue,ve,Ie){return this._registry.register(ue,ve,Ie)}getLanguageConfiguration(ue){let ve=this.configurations.get(ue);return ve||(ve=function B(_e,ue,ve,Ie){let Se=ue.getLanguageConfiguration(_e);if(!Se){if(!Ie.isRegisteredLanguageId(_e))return new ge(_e,{});Se=new ge(_e,{})}const Ve=function se(_e,ue){const ve=ue.getValue(G.brackets,{overrideIdentifier:_e}),Ie=ue.getValue(G.colorizedBracketPairs,{overrideIdentifier:_e});return{brackets:j(ve),colorizedBracketPairs:j(Ie)}}(Se.languageId,ve),De=te([Se.underlyingConfig,Ve]);return new ge(Se.languageId,De)}(ue,this._registry,this.configurationService,this.languageService),this.configurations.set(ue,ve)),ve}};ee=function(_e,ue,ve,Ie){var De,Se=arguments.length,Ve=Se<3?ue:null===Ie?Ie=Object.getOwnPropertyDescriptor(ue,ve):Ie;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ve=Reflect.decorate(_e,ue,ve,Ie);else for(var ye=_e.length-1;ye>=0;ye--)(De=_e[ye])&&(Ve=(Se<3?De(Ve):Se>3?De(ue,ve,Ve):De(ue,ve))||Ve);return Se>3&&Ve&&Object.defineProperty(ue,ve,Ve),Ve}([W(0,a.Ui),W(1,m.O)],ee);const G={brackets:"editor.language.brackets",colorizedBracketPairs:"editor.language.colorizedBracketPairs"};function j(_e){if(Array.isArray(_e))return _e.map(ue=>{if(Array.isArray(ue)&&2===ue.length)return[ue[0],ue[1]]}).filter(ue=>!!ue)}function $(_e,ue,ve){const Ie=_e.getLineContent(ue);let Se=r.V8(Ie);return Se.length>ve-1&&(Se=Se.substring(0,ve-1)),Se}function K(_e,ue,ve){_e.tokenization.forceTokenization(ue);const Ie=_e.tokenization.getLineTokens(ue),Se=typeof ve>"u"?_e.getLineMaxColumn(ue)-1:ve-1;return(0,S.wH)(Ie,Se)}class J{constructor(ue){this.languageId=ue,this._resolved=null,this._entries=[],this._order=0,this._resolved=null}register(ue,ve){const Ie=new ne(ue,ve,++this._order);return this._entries.push(Ie),this._resolved=null,(0,P.OF)(()=>{for(let Se=0;Se<this._entries.length;Se++)if(this._entries[Se]===Ie){this._entries.splice(Se,1),this._resolved=null;break}})}getResolvedConfiguration(){if(!this._resolved){const ue=this._resolve();ue&&(this._resolved=new ge(this.languageId,ue))}return this._resolved}_resolve(){return 0===this._entries.length?null:(this._entries.sort(ne.cmp),te(this._entries.map(ue=>ue.configuration)))}}function te(_e){let ue={comments:void 0,brackets:void 0,wordPattern:void 0,indentationRules:void 0,onEnterRules:void 0,autoClosingPairs:void 0,surroundingPairs:void 0,autoCloseBefore:void 0,folding:void 0,colorizedBracketPairs:void 0,__electricCharacterSupport:void 0};for(const ve of _e)ue={comments:ve.comments||ue.comments,brackets:ve.brackets||ue.brackets,wordPattern:ve.wordPattern||ue.wordPattern,indentationRules:ve.indentationRules||ue.indentationRules,onEnterRules:ve.onEnterRules||ue.onEnterRules,autoClosingPairs:ve.autoClosingPairs||ue.autoClosingPairs,surroundingPairs:ve.surroundingPairs||ue.surroundingPairs,autoCloseBefore:ve.autoCloseBefore||ue.autoCloseBefore,folding:ve.folding||ue.folding,colorizedBracketPairs:ve.colorizedBracketPairs||ue.colorizedBracketPairs,__electricCharacterSupport:ve.__electricCharacterSupport||ue.__electricCharacterSupport};return ue}class ne{constructor(ue,ve,Ie){this.configuration=ue,this.priority=ve,this.order=Ie}static cmp(ue,ve){return ue.priority===ve.priority?ue.order-ve.order:ue.priority-ve.priority}}class _{constructor(ue){this.languageId=ue}}class ae extends P.JT{constructor(){super(),this._entries=new Map,this._onDidChange=this._register(new f.Q5),this.onDidChange=this._onDidChange.event,this._register(this.register(I.bd,{brackets:[["(",")"],["[","]"],["{","}"]],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"`",close:"`"}],colorizedBracketPairs:[],folding:{offSide:!0}},0))}register(ue,ve,Ie=0){let Se=this._entries.get(ue);Se||(Se=new J(ue),this._entries.set(ue,Se));const Ve=Se.register(ve,Ie);return this._onDidChange.fire(new _(ue)),(0,P.OF)(()=>{Ve.dispose(),this._onDidChange.fire(new _(ue))})}getLanguageConfiguration(ue){const ve=this._entries.get(ue);return ve?.getResolvedConfiguration()||null}}class ge{constructor(ue,ve){this.languageId=ue,this.underlyingConfig=ve,this._brackets=null,this._electricCharacter=null,this._onEnterSupport=this.underlyingConfig.brackets||this.underlyingConfig.indentationRules||this.underlyingConfig.onEnterRules?new i(this.underlyingConfig):null,this.comments=ge._handleComments(this.underlyingConfig),this.characterPair=new T(this.underlyingConfig),this.wordDefinition=this.underlyingConfig.wordPattern||y.Af,this.indentationRules=this.underlyingConfig.indentationRules,this.indentRulesSupport=this.underlyingConfig.indentationRules?new u(this.underlyingConfig.indentationRules):null,this.foldingRules=this.underlyingConfig.folding||{},this.bracketsNew=new D(ue,this.underlyingConfig)}getWordDefinition(){return(0,y.eq)(this.wordDefinition)}get brackets(){return!this._brackets&&this.underlyingConfig.brackets&&(this._brackets=new L.EA(this.languageId,this.underlyingConfig.brackets)),this._brackets}get electricCharacter(){return this._electricCharacter||(this._electricCharacter=new p(this.brackets)),this._electricCharacter}onEnter(ue,ve,Ie,Se){return this._onEnterSupport?this._onEnterSupport.onEnter(ue,ve,Ie,Se):null}getAutoClosingPairs(){return new v.c$(this.characterPair.getAutoClosingPairs())}getAutoCloseBeforeSet(ue){return this.characterPair.getAutoCloseBeforeSet(ue)}getSurroundingPairs(){return this.characterPair.getSurroundingPairs()}static _handleComments(ue){const ve=ue.comments;if(!ve)return null;const Ie={};if(ve.lineComment&&(Ie.lineCommentToken=ve.lineComment),ve.blockComment){const[Se,Ve]=ve.blockComment;Ie.blockCommentStartToken=Se,Ie.blockCommentEndToken=Ve}return Ie}}(0,l.z)(U,ee,1)},81007:(Xe,we,e)=>{e.d(we,{bd:()=>L,dQ:()=>E});var f=e(37190),P=e(58178),r=e(81834),y=e(90361),v=e(92891);const E=new class T{constructor(){this._onDidChangeLanguages=new P.Q5,this.onDidChangeLanguages=this._onDidChangeLanguages.event,this._languages=[]}registerLanguage(u){return this._languages.push(u),this._onDidChangeLanguages.fire(void 0),{dispose:()=>{for(let g=0,i=this._languages.length;g<i;g++)if(this._languages[g]===u)return void this._languages.splice(g,1)}}}getLanguages(){return this._languages}};r.B.add("editor.modesRegistry",E);const L="plaintext";E.registerLanguage({id:L,extensions:[".txt"],aliases:[f.NC("plainText.alias","Plain Text"),"text"],mimetypes:[y.v.text]}),r.B.as(v.IP.Configuration).registerDefaultConfigurations([{overrides:{"[plaintext]":{"editor.unicodeHighlight.ambiguousCharacters":!1,"editor.unicodeHighlight.invisibleCharacters":!1}}}])},99002:(Xe,we,e)=>{e.d(we,{Dy:()=>y,Ri:()=>r,TJ:()=>P});var f=e(81814);const P=new class{clone(){return this}equals(v){return this===v}};function r(v,S){return new f.hG([new f.WU(0,"",v)],S)}function y(v,S){const T=new Uint32Array(2);return T[0]=0,T[1]=(32768|v<<0|2<<24)>>>0,new f.DI(T,null===S?P:S)}},20386:(Xe,we,e)=>{function f(y,v){const S=y.getCount(),T=y.findTokenIndexAtOffset(v),E=y.getLanguageId(T);let L=T;for(;L+1<S&&y.getLanguageId(L+1)===E;)L++;let p=T;for(;p>0&&y.getLanguageId(p-1)===E;)p--;return new P(y,E,p,L+1,y.getStartOffset(p),y.getEndOffset(L))}e.d(we,{Bu:()=>r,wH:()=>f});class P{constructor(v,S,T,E,L,p){this._scopedLineTokensBrand=void 0,this._actual=v,this.languageId=S,this._firstTokenIndex=T,this._lastTokenIndex=E,this.firstCharOffset=L,this._lastCharOffset=p}getLineContent(){return this._actual.getLineContent().substring(this.firstCharOffset,this._lastCharOffset)}getActualLineContentBefore(v){return this._actual.getLineContent().substring(0,this.firstCharOffset+v)}getTokenCount(){return this._lastTokenIndex-this._firstTokenIndex}findTokenIndexAtOffset(v){return this._actual.findTokenIndexAtOffset(v+this.firstCharOffset)-this._firstTokenIndex}getStandardTokenType(v){return this._actual.getStandardTokenType(v+this._firstTokenIndex)}}function r(y){return 0!=(3&y)}},67093:(Xe,we,e)=>{e.d(we,{EA:()=>S,Vr:()=>m});var f=e(16055),P=e(85460),r=e(96726);class y{constructor(I,w,D,N,A,k){this._richEditBracketBrand=void 0,this.languageId=I,this.index=w,this.open=D,this.close=N,this.forwardRegex=A,this.reversedRegex=k,this._openSet=y._toSet(this.open),this._closeSet=y._toSet(this.close)}isOpen(I){return this._openSet.has(I)}isClose(I){return this._closeSet.has(I)}static _toSet(I){const w=new Set;for(const D of I)w.add(D);return w}}class S{constructor(I,w){this._richEditBracketsBrand=void 0;const D=function v(l){const I=l.length;l=l.map(k=>[k[0].toLowerCase(),k[1].toLowerCase()]);const w=[];for(let k=0;k<I;k++)w[k]=k;const D=(k,R)=>{const[O,W]=k,[z,U]=R;return O===z||O===U||W===z||W===U},N=(k,R)=>{const O=Math.min(k,R),W=Math.max(k,R);for(let z=0;z<I;z++)w[z]===W&&(w[z]=O)};for(let k=0;k<I;k++){const R=l[k];for(let O=k+1;O<I;O++)D(R,l[O])&&N(w[k],w[O])}const A=[];for(let k=0;k<I;k++){const R=[],O=[];for(let W=0;W<I;W++)if(w[W]===k){const[z,U]=l[W];R.push(z),O.push(U)}R.length>0&&A.push({open:R,close:O})}return A}(w);this.brackets=D.map((N,A)=>new y(I,A,N.open,N.close,function p(l,I,w,D){let N=[];N=N.concat(l),N=N.concat(I);for(let A=0,k=N.length;A<k;A++)T(N[A],w,D,N);return N=L(N),N.sort(E),N.reverse(),d(N)}(N.open,N.close,D,A),function c(l,I,w,D){let N=[];N=N.concat(l),N=N.concat(I);for(let A=0,k=N.length;A<k;A++)T(N[A],w,D,N);return N=L(N),N.sort(E),N.reverse(),d(N.map(a))}(N.open,N.close,D,A))),this.forwardRegex=function u(l){let I=[];for(const w of l){for(const D of w.open)I.push(D);for(const D of w.close)I.push(D)}return I=L(I),d(I)}(this.brackets),this.reversedRegex=function g(l){let I=[];for(const w of l){for(const D of w.open)I.push(D);for(const D of w.close)I.push(D)}return I=L(I),d(I.map(a))}(this.brackets),this.textIsBracket={},this.textIsOpenBracket={},this.maxBracketLength=0;for(const N of this.brackets){for(const A of N.open)this.textIsBracket[A]=N,this.textIsOpenBracket[A]=!0,this.maxBracketLength=Math.max(this.maxBracketLength,A.length);for(const A of N.close)this.textIsBracket[A]=N,this.textIsOpenBracket[A]=!1,this.maxBracketLength=Math.max(this.maxBracketLength,A.length)}}}function T(l,I,w,D){for(let N=0,A=I.length;N<A;N++){if(N===w)continue;const k=I[N];for(const R of k.open)R.indexOf(l)>=0&&D.push(R);for(const R of k.close)R.indexOf(l)>=0&&D.push(R)}}function E(l,I){return l.length-I.length}function L(l){if(l.length<=1)return l;const I=[],w=new Set;for(const D of l)w.has(D)||(I.push(D),w.add(D));return I}function i(l){const I=/^[\w ]+$/.test(l);return l=f.ec(l),I?`\\b${l}\\b`:l}function d(l){const I=`(${l.map(i).join(")|(")})`;return f.GF(I,!0)}const a=function(){let I=null,w=null;return function(N){return I!==N&&(I=N,w=function l(D){const N=new Uint16Array(D.length);let A=0;for(let k=D.length-1;k>=0;k--)N[A++]=D.charCodeAt(k);return P.oe().decode(N)}(I)),w}}();class m{static _findPrevBracketInText(I,w,D,N){const A=D.match(I);if(!A)return null;const O=N+(D.length-(A.index||0));return new r.e(w,O-A[0].length+1,w,O+1)}static findPrevBracketInRange(I,w,D,N,A){const R=a(D).substring(D.length-A,D.length-N);return this._findPrevBracketInText(I,w,R,N)}static findNextBracketInText(I,w,D,N){const A=D.match(I);if(!A)return null;const R=A[0].length;if(0===R)return null;const O=N+(A.index||0);return new r.e(w,O+1,w,O+1+R)}static findNextBracketInRange(I,w,D,N,A){const k=D.substring(N,A);return this.findNextBracketInText(I,w,k,N)}}},35132:(Xe,we,e)=>{e.d(we,{C2:()=>T,Fq:()=>E});var f=e(16055),P=e(39424),r=e(81814),y=e(99002),v=function(p,c,u,g){return new(u||(u=Promise))(function(d,a){function m(w){try{I(g.next(w))}catch(D){a(D)}}function l(w){try{I(g.throw(w))}catch(D){a(D)}}function I(w){w.done?d(w.value):function i(d){return d instanceof u?d:new u(function(a){a(d)})}(w.value).then(m,l)}I((g=g.apply(p,c||[])).next())})};const S={getInitialState:()=>y.TJ,tokenizeEncoded:(p,c,u)=>(0,y.Dy)(0,u)};function T(p,c,u){return v(this,void 0,void 0,function*(){if(!u)return L(c,p.languageIdCodec,S);const g=yield r.RW.getOrCreate(u);return L(c,p.languageIdCodec,g||S)})}function E(p,c,u,g,i,d,a){let m="<div>",l=g,I=0,w=!0;for(let D=0,N=c.getCount();D<N;D++){const A=c.getEndOffset(D);if(A<=g)continue;let k="";for(;l<A&&l<i;l++){const R=p.charCodeAt(l);switch(R){case 9:{let O=d-(l+I)%d;for(I+=O-1;O>0;)a&&w?(k+="&#160;",w=!1):(k+=" ",w=!0),O--;break}case 60:k+="&lt;",w=!1;break;case 62:k+="&gt;",w=!1;break;case 38:k+="&amp;",w=!1;break;case 0:k+="&#00;",w=!1;break;case 65279:case 8232:case 8233:case 133:k+="\ufffd",w=!1;break;case 13:k+="&#8203",w=!1;break;case 32:a&&w?(k+="&#160;",w=!1):(k+=" ",w=!0);break;default:k+=String.fromCharCode(R),w=!1}}if(m+=`<span style="${c.getInlineStyle(D,u)}">${k}</span>`,A>i||l>=i)break}return m+="</div>",m}function L(p,c,u){let g='<div class="monaco-tokenized-source">';const i=f.uq(p);let d=u.getInitialState();for(let a=0,m=i.length;a<m;a++){const l=i[a];a>0&&(g+="<br/>");const I=u.tokenizeEncoded(l,!0,d);P.A.convertToEndOffset(I.tokens,l.length);const D=new P.A(I.tokens,l,c).inflate();let N=0;for(let A=0,k=D.getCount();A<k;A++){const R=D.getClassName(A),O=D.getEndOffset(A);g+=`<span class="${R}">${f.YU(l.substring(N,O))}</span>`,N=O}d=I.endState}return g+="</div>",g}},24470:(Xe,we,e)=>{e.d(we,{F5:()=>y,Hf:()=>E,Qi:()=>L,RM:()=>v,Tx:()=>p,U:()=>r,dJ:()=>S,je:()=>c,pt:()=>u,sh:()=>P,tk:()=>T});var f=e(52209),P=function(g){return g[g.Left=1]="Left",g[g.Center=2]="Center",g[g.Right=4]="Right",g[g.Full=7]="Full",g}(P||{}),r=function(g){return g[g.Left=1]="Left",g[g.Right=2]="Right",g}(r||{}),y=function(g){return g[g.Inline=1]="Inline",g[g.Gutter=2]="Gutter",g}(y||{}),v=function(g){return g[g.Both=0]="Both",g[g.Right=1]="Right",g[g.Left=2]="Left",g[g.None=3]="None",g}(v||{});class S{get originalIndentSize(){return this._indentSizeIsTabSize?"tabSize":this.indentSize}constructor(i){this._textModelResolvedOptionsBrand=void 0,this.tabSize=Math.max(1,0|i.tabSize),"tabSize"===i.indentSize?(this.indentSize=this.tabSize,this._indentSizeIsTabSize=!0):(this.indentSize=Math.max(1,0|i.indentSize),this._indentSizeIsTabSize=!1),this.insertSpaces=!!i.insertSpaces,this.defaultEOL=0|i.defaultEOL,this.trimAutoWhitespace=!!i.trimAutoWhitespace,this.bracketPairColorizationOptions=i.bracketPairColorizationOptions}equals(i){return this.tabSize===i.tabSize&&this._indentSizeIsTabSize===i._indentSizeIsTabSize&&this.indentSize===i.indentSize&&this.insertSpaces===i.insertSpaces&&this.defaultEOL===i.defaultEOL&&this.trimAutoWhitespace===i.trimAutoWhitespace&&(0,f.fS)(this.bracketPairColorizationOptions,i.bracketPairColorizationOptions)}createChangeEvent(i){return{tabSize:this.tabSize!==i.tabSize,indentSize:this.indentSize!==i.indentSize,insertSpaces:this.insertSpaces!==i.insertSpaces,trimAutoWhitespace:this.trimAutoWhitespace!==i.trimAutoWhitespace}}}class T{constructor(i,d){this._findMatchBrand=void 0,this.range=i,this.matches=d}}function E(g){return g&&"function"==typeof g.read}class L{constructor(i,d,a,m,l,I){this.identifier=i,this.range=d,this.text=a,this.forceMoveMarkers=m,this.isAutoWhitespaceEdit=l,this._isTracked=I}}class p{constructor(i,d,a){this.regex=i,this.wordSeparators=d,this.simpleSearch=a}}class c{constructor(i,d,a){this.reverseEdits=i,this.changes=d,this.trimAutoWhitespaceLineNumbers=a}}function u(g){return!g.isTooLargeForSyncing()&&!g.isForSimpleWidget}},36367:(Xe,we,e)=>{e.d(we,{BH:()=>i,Dm:()=>a,Kd:()=>S,Y0:()=>T,n2:()=>d});var f=e(17967),P=e(96678),r=e(32353),y=e(17529);class v{get length(){return this._length}constructor(l){this._length=l}}class S extends v{static create(l,I,w){let D=l.length;return I&&(D=(0,r.Ii)(D,I.length)),w&&(D=(0,r.Ii)(D,w.length)),new S(D,l,I,w,I?I.missingOpeningBracketIds:y.tS.getEmpty())}get kind(){return 2}get listHeight(){return 0}get childrenLength(){return 3}getChild(l){switch(l){case 0:return this.openingBracket;case 1:return this.child;case 2:return this.closingBracket}throw new Error("Invalid child index")}get children(){const l=[];return l.push(this.openingBracket),this.child&&l.push(this.child),this.closingBracket&&l.push(this.closingBracket),l}constructor(l,I,w,D,N){super(l),this.openingBracket=I,this.child=w,this.closingBracket=D,this.missingOpeningBracketIds=N}canBeReused(l){return!(null===this.closingBracket||l.intersects(this.missingOpeningBracketIds))}deepClone(){return new S(this.length,this.openingBracket.deepClone(),this.child&&this.child.deepClone(),this.closingBracket&&this.closingBracket.deepClone(),this.missingOpeningBracketIds)}computeMinIndentation(l,I){return this.child?this.child.computeMinIndentation((0,r.Ii)(l,this.openingBracket.length),I):Number.MAX_SAFE_INTEGER}}class T extends v{static create23(l,I,w,D=!1){let N=l.length,A=l.missingOpeningBracketIds;if(l.listHeight!==I.listHeight)throw new Error("Invalid list heights");if(N=(0,r.Ii)(N,I.length),A=A.merge(I.missingOpeningBracketIds),w){if(l.listHeight!==w.listHeight)throw new Error("Invalid list heights");N=(0,r.Ii)(N,w.length),A=A.merge(w.missingOpeningBracketIds)}return D?new L(N,l.listHeight+1,l,I,w,A):new E(N,l.listHeight+1,l,I,w,A)}static getEmpty(){return new c(r.xl,0,[],y.tS.getEmpty())}get kind(){return 4}get missingOpeningBracketIds(){return this._missingOpeningBracketIds}constructor(l,I,w){super(l),this.listHeight=I,this._missingOpeningBracketIds=w,this.cachedMinIndentation=-1}throwIfImmutable(){}makeLastElementMutable(){this.throwIfImmutable();const l=this.childrenLength;if(0===l)return;const I=this.getChild(l-1),w=4===I.kind?I.toMutable():I;return I!==w&&this.setChild(l-1,w),w}makeFirstElementMutable(){if(this.throwIfImmutable(),0===this.childrenLength)return;const I=this.getChild(0),w=4===I.kind?I.toMutable():I;return I!==w&&this.setChild(0,w),w}canBeReused(l){if(l.intersects(this.missingOpeningBracketIds)||0===this.childrenLength)return!1;let I=this;for(;4===I.kind;){const w=I.childrenLength;if(0===w)throw new f.he;I=I.getChild(w-1)}return I.canBeReused(l)}handleChildrenChanged(){this.throwIfImmutable();const l=this.childrenLength;let I=this.getChild(0).length,w=this.getChild(0).missingOpeningBracketIds;for(let D=1;D<l;D++){const N=this.getChild(D);I=(0,r.Ii)(I,N.length),w=w.merge(N.missingOpeningBracketIds)}this._length=I,this._missingOpeningBracketIds=w,this.cachedMinIndentation=-1}computeMinIndentation(l,I){if(-1!==this.cachedMinIndentation)return this.cachedMinIndentation;let w=Number.MAX_SAFE_INTEGER,D=l;for(let N=0;N<this.childrenLength;N++){const A=this.getChild(N);A&&(w=Math.min(w,A.computeMinIndentation(D,I)),D=(0,r.Ii)(D,A.length))}return this.cachedMinIndentation=w,w}}class E extends T{get childrenLength(){return null!==this._item3?3:2}getChild(l){switch(l){case 0:return this._item1;case 1:return this._item2;case 2:return this._item3}throw new Error("Invalid child index")}setChild(l,I){switch(l){case 0:return void(this._item1=I);case 1:return void(this._item2=I);case 2:return void(this._item3=I)}throw new Error("Invalid child index")}get children(){return this._item3?[this._item1,this._item2,this._item3]:[this._item1,this._item2]}get item1(){return this._item1}get item2(){return this._item2}get item3(){return this._item3}constructor(l,I,w,D,N,A){super(l,I,A),this._item1=w,this._item2=D,this._item3=N}deepClone(){return new E(this.length,this.listHeight,this._item1.deepClone(),this._item2.deepClone(),this._item3?this._item3.deepClone():null,this.missingOpeningBracketIds)}appendChildOfSameHeight(l){if(this._item3)throw new Error("Cannot append to a full (2,3) tree node");this.throwIfImmutable(),this._item3=l,this.handleChildrenChanged()}unappendChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const l=this._item3;return this._item3=null,this.handleChildrenChanged(),l}prependChildOfSameHeight(l){if(this._item3)throw new Error("Cannot prepend to a full (2,3) tree node");this.throwIfImmutable(),this._item3=this._item2,this._item2=this._item1,this._item1=l,this.handleChildrenChanged()}unprependChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const l=this._item1;return this._item1=this._item2,this._item2=this._item3,this._item3=null,this.handleChildrenChanged(),l}toMutable(){return this}}class L extends E{toMutable(){return new E(this.length,this.listHeight,this.item1,this.item2,this.item3,this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}class p extends T{get childrenLength(){return this._children.length}getChild(l){return this._children[l]}setChild(l,I){this._children[l]=I}get children(){return this._children}constructor(l,I,w,D){super(l,I,D),this._children=w}deepClone(){const l=new Array(this._children.length);for(let I=0;I<this._children.length;I++)l[I]=this._children[I].deepClone();return new p(this.length,this.listHeight,l,this.missingOpeningBracketIds)}appendChildOfSameHeight(l){this.throwIfImmutable(),this._children.push(l),this.handleChildrenChanged()}unappendChild(){this.throwIfImmutable();const l=this._children.pop();return this.handleChildrenChanged(),l}prependChildOfSameHeight(l){this.throwIfImmutable(),this._children.unshift(l),this.handleChildrenChanged()}unprependChild(){this.throwIfImmutable();const l=this._children.shift();return this.handleChildrenChanged(),l}toMutable(){return this}}class c extends p{toMutable(){return new p(this.length,this.listHeight,[...this.children],this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}const u=[];class g extends v{get listHeight(){return 0}get childrenLength(){return 0}getChild(l){return null}get children(){return u}deepClone(){return this}}class i extends g{get kind(){return 0}get missingOpeningBracketIds(){return y.tS.getEmpty()}canBeReused(l){return!0}computeMinIndentation(l,I){const w=(0,r.Hw)(l),D=(0===w.columnCount?w.lineCount:w.lineCount+1)+1,N=(0,r.W9)((0,r.Ii)(l,this.length))+1;let A=Number.MAX_SAFE_INTEGER;for(let k=D;k<=N;k++){const R=I.getLineFirstNonWhitespaceColumn(k),O=I.getLineContent(k);if(0===R)continue;const W=P.i.visibleColumnFromColumn(O,R,I.getOptions().tabSize);A=Math.min(A,W)}return A}}class d extends g{static create(l,I,w){return new d(l,I,w)}get kind(){return 1}get missingOpeningBracketIds(){return y.tS.getEmpty()}constructor(l,I,w){super(l),this.bracketInfo=I,this.bracketIds=w}get text(){return this.bracketInfo.bracketText}get languageId(){return this.bracketInfo.languageId}canBeReused(l){return!1}computeMinIndentation(l,I){return Number.MAX_SAFE_INTEGER}}class a extends g{get kind(){return 3}constructor(l,I){super(I),this.missingOpeningBracketIds=l}canBeReused(l){return!l.intersects(this.missingOpeningBracketIds)}computeMinIndentation(l,I){return Number.MAX_SAFE_INTEGER}}},63708:(Xe,we,e)=>{e.d(we,{Q:()=>r,Y:()=>y});var f=e(96726),P=e(32353);class r{static fromModelContentChanges(T){return T.map(L=>{const p=f.e.lift(L.range);return new r((0,P.PZ)(p.getStartPosition()),(0,P.PZ)(p.getEndPosition()),(0,P.oR)(L.text))}).reverse()}constructor(T,E,L){this.startOffset=T,this.endOffset=E,this.newLength=L}toString(){return`[${(0,P.Hw)(this.startOffset)}...${(0,P.Hw)(this.endOffset)}) -> ${(0,P.Hw)(this.newLength)}`}}class y{constructor(T){this.nextEditIdx=0,this.deltaOldToNewLineCount=0,this.deltaOldToNewColumnCount=0,this.deltaLineIdxInOld=-1,this.edits=T.map(E=>v.from(E))}getOffsetBeforeChange(T){return this.adjustNextEdit(T),this.translateCurToOld(T)}getDistanceToNextChange(T){this.adjustNextEdit(T);const E=this.edits[this.nextEditIdx],L=E?this.translateOldToCur(E.offsetObj):null;return null===L?null:(0,P.BE)(T,L)}translateOldToCur(T){return(0,P.Hg)(T.lineCount+this.deltaOldToNewLineCount,T.lineCount===this.deltaLineIdxInOld?T.columnCount+this.deltaOldToNewColumnCount:T.columnCount)}translateCurToOld(T){const E=(0,P.Hw)(T);return(0,P.Hg)(E.lineCount-this.deltaOldToNewLineCount,E.lineCount-this.deltaOldToNewLineCount===this.deltaLineIdxInOld?E.columnCount-this.deltaOldToNewColumnCount:E.columnCount)}adjustNextEdit(T){for(;this.nextEditIdx<this.edits.length;){const E=this.edits[this.nextEditIdx],L=this.translateOldToCur(E.endOffsetAfterObj);if(!(0,P.By)(L,T))break;{this.nextEditIdx++;const p=(0,P.Hw)(L),c=(0,P.Hw)(this.translateOldToCur(E.endOffsetBeforeObj));this.deltaOldToNewLineCount+=p.lineCount-c.lineCount,this.deltaOldToNewColumnCount=(this.deltaLineIdxInOld===E.endOffsetBeforeObj.lineCount?this.deltaOldToNewColumnCount:0)+(p.columnCount-c.columnCount),this.deltaLineIdxInOld=E.endOffsetBeforeObj.lineCount}}}}class v{static from(T){return new v(T.startOffset,T.endOffset,T.newLength)}constructor(T,E,L){this.endOffsetBeforeObj=(0,P.Hw)(E),this.endOffsetAfterObj=(0,P.Hw)((0,P.Ii)(T,L)),this.offsetObj=(0,P.Hw)(T)}}},43091:(Xe,we,e)=>{e.d(we,{Z:()=>E});var f=e(16055),P=e(36367),r=e(32353),y=e(17529),v=e(81780);class S{static createFromLanguage(p,c){function u(i){return c.getKey(`${i.languageId}:::${i.bracketText}`)}const g=new Map;for(const i of p.bracketsNew.openingBrackets){const d=(0,r.Hg)(0,i.bracketText.length),a=u(i),m=y.tS.getEmpty().add(a,y.Qw);g.set(i.bracketText,new v.WU(d,1,a,m,P.n2.create(d,i,m)))}for(const i of p.bracketsNew.closingBrackets){const d=(0,r.Hg)(0,i.bracketText.length);let a=y.tS.getEmpty();const m=i.getOpeningBrackets();for(const l of m)a=a.add(u(l),y.Qw);g.set(i.bracketText,new v.WU(d,2,u(m[0]),a,P.n2.create(d,i,a)))}return new S(g)}constructor(p){this.map=p,this.hasRegExp=!1,this._regExpGlobal=null}getRegExpStr(){if(this.isEmpty)return null;{const p=[...this.map.keys()];return p.sort(),p.reverse(),p.map(c=>function T(L){let p=(0,f.ec)(L);return/^[\w ]+/.test(L)&&(p=`\\b${p}`),/[\w ]+$/.test(L)&&(p=`${p}\\b`),p}(c)).join("|")}}get regExpGlobal(){if(!this.hasRegExp){const p=this.getRegExpStr();this._regExpGlobal=p?new RegExp(p,"gi"):null,this.hasRegExp=!0}return this._regExpGlobal}getToken(p){return this.map.get(p.toLowerCase())}findClosingTokenText(p){for(const[c,u]of this.map)if(2===u.kind&&u.bracketIds.intersects(p))return c}get isEmpty(){return 0===this.map.size}}class E{constructor(p,c){this.denseKeyProvider=p,this.getLanguageConfiguration=c,this.languageIdToBracketTokens=new Map}didLanguageChange(p){return this.languageIdToBracketTokens.has(p)}getSingleLanguageBracketTokens(p){let c=this.languageIdToBracketTokens.get(p);return c||(c=S.createFromLanguage(this.getLanguageConfiguration(p),this.denseKeyProvider),this.languageIdToBracketTokens.set(p,c)),c}}},16637:(Xe,we,e)=>{e.d(we,{o:()=>y});var f=e(31738),P=e(63708),r=e(32353);function y(T,E){if(0===T.length)return E;if(0===E.length)return T;const L=new f.H9(S(T)),p=S(E);p.push({modified:!1,lengthBefore:void 0,lengthAfter:void 0});let c=L.dequeue();function u(a){if(void 0===a){const l=L.takeWhile(I=>!0)||[];return c&&l.unshift(c),l}const m=[];for(;c&&!(0,r.xd)(a);){const[l,I]=c.splitAt(a);m.push(l),a=(0,r.BE)(l.lengthAfter,a),c=I??L.dequeue()}return(0,r.xd)(a)||m.push(new v(!1,a,a)),m}const g=[];function i(a,m,l){if(g.length>0&&(0,r.rM)(g[g.length-1].endOffset,a)){const I=g[g.length-1];g[g.length-1]=new P.Q(I.startOffset,m,(0,r.Ii)(I.newLength,l))}else g.push({startOffset:a,endOffset:m,newLength:l})}let d=r.xl;for(const a of p){const m=u(a.lengthBefore);if(a.modified){const l=(0,r.tQ)(m,w=>w.lengthBefore),I=(0,r.Ii)(d,l);i(d,I,a.lengthAfter),d=I}else for(const l of m){const I=d;d=(0,r.Ii)(d,l.lengthBefore),l.modified&&i(I,d,l.lengthAfter)}}return g}class v{constructor(E,L,p){this.modified=E,this.lengthBefore=L,this.lengthAfter=p}splitAt(E){const L=(0,r.BE)(E,this.lengthAfter);return(0,r.rM)(L,r.xl)?[this,void 0]:this.modified?[new v(this.modified,this.lengthBefore,E),new v(this.modified,r.xl,L)]:[new v(this.modified,E,E),new v(this.modified,L,L)]}toString(){return`${this.modified?"M":"U"}:${(0,r.Hw)(this.lengthBefore)} -> ${(0,r.Hw)(this.lengthAfter)}`}}function S(T){const E=[];let L=r.xl;for(const p of T){const c=(0,r.BE)(L,p.startOffset);(0,r.xd)(c)||E.push(new v(!1,c,c));const u=(0,r.BE)(p.startOffset,p.endOffset);E.push(new v(!0,u,p.newLength)),L=p.endOffset}return E}},32353:(Xe,we,e)=>{e.d(we,{BE:()=>d,By:()=>m,F_:()=>c,Hg:()=>E,Hw:()=>L,Ii:()=>u,PZ:()=>I,Qw:()=>w,VR:()=>a,W9:()=>p,Zq:()=>l,av:()=>y,oR:()=>D,rM:()=>i,tQ:()=>g,xd:()=>S,xl:()=>v});var f=e(16055),P=e(96726);class r{constructor(A,k){this.lineCount=A,this.columnCount=k}toString(){return`${this.lineCount},${this.columnCount}`}}function y(N,A,k,R){return N!==k?E(k-N,R):E(0,R-A)}r.zero=new r(0,0);const v=0;function S(N){return 0===N}const T=Math.pow(2,26);function E(N,A){return N*T+A}function L(N){const A=N,k=Math.floor(A/T);return new r(k,A-k*T)}function p(N){return Math.floor(N/T)}function c(N){return N}function u(N,A){let k=N+A;return A>=T&&(k-=N%T),k}function g(N,A){return N.reduce((k,R)=>u(k,A(R)),v)}function i(N,A){return N===A}function d(N,A){const k=N,R=A;if(R-k<=0)return v;const W=Math.floor(k/T),z=Math.floor(R/T),U=R-z*T;return W===z?E(0,U-(k-W*T)):E(z-W,U)}function a(N,A){return N<A}function m(N,A){return N<=A}function l(N,A){return N>=A}function I(N){return E(N.lineNumber-1,N.column-1)}function w(N,A){const k=N,R=Math.floor(k/T),O=k-R*T,W=A,z=Math.floor(W/T);return new P.e(R+1,O+1,z+1,W-z*T+1)}function D(N){const A=(0,f.uq)(N);return E(A.length-1,A[A.length-1].length)}},18193:(Xe,we,e)=>{e.d(we,{w:()=>i});var f=e(36367),P=e(63708),r=e(17529),y=e(32353);function S(a,m=!1){if(0===a.length)return null;if(1===a.length)return a[0];let l=a.length;for(;l>3;){const I=l>>1;for(let w=0;w<I;w++){const D=w<<1;a[w]=f.Y0.create23(a[D],a[D+1],D+3===l?a[D+2]:null,m)}l=I}return f.Y0.create23(a[0],a[1],l>=3?a[2]:null,m)}function T(a,m){return Math.abs(a.listHeight-m.listHeight)}function E(a,m){return a.listHeight===m.listHeight?f.Y0.create23(a,m,null,!1):a.listHeight>m.listHeight?function L(a,m){let l=a=a.toMutable();const I=[];let w;for(;;){if(m.listHeight===l.listHeight){w=m;break}if(4!==l.kind)throw new Error("unexpected");I.push(l),l=l.makeLastElementMutable()}for(let D=I.length-1;D>=0;D--){const N=I[D];w?N.childrenLength>=3?w=f.Y0.create23(N.unappendChild(),w,null,!1):(N.appendChildOfSameHeight(w),w=void 0):N.handleChildrenChanged()}return w?f.Y0.create23(a,w,null,!1):a}(a,m):function p(a,m){let l=a=a.toMutable();const I=[];for(;m.listHeight!==l.listHeight;){if(4!==l.kind)throw new Error("unexpected");I.push(l),l=l.makeFirstElementMutable()}let w=m;for(let D=I.length-1;D>=0;D--){const N=I[D];w?N.childrenLength>=3?w=f.Y0.create23(w,N.unprependChild(),null,!1):(N.prependChildOfSameHeight(w),w=void 0):N.handleChildrenChanged()}return w?f.Y0.create23(w,a,null,!1):a}(m,a)}class c{constructor(m){this.lastOffset=y.xl,this.nextNodes=[m],this.offsets=[y.xl],this.idxs=[]}readLongestNodeAt(m,l){if((0,y.VR)(m,this.lastOffset))throw new Error("Invalid offset");for(this.lastOffset=m;;){const I=g(this.nextNodes);if(!I)return;const w=g(this.offsets);if((0,y.VR)(m,w))return;if((0,y.VR)(w,m))if((0,y.Ii)(w,I.length)<=m)this.nextNodeAfterCurrent();else{const D=u(I);-1!==D?(this.nextNodes.push(I.getChild(D)),this.offsets.push(w),this.idxs.push(D)):this.nextNodeAfterCurrent()}else{if(l(I))return this.nextNodeAfterCurrent(),I;{const D=u(I);if(-1===D)return void this.nextNodeAfterCurrent();this.nextNodes.push(I.getChild(D)),this.offsets.push(w),this.idxs.push(D)}}}}nextNodeAfterCurrent(){for(;;){const m=g(this.offsets),l=g(this.nextNodes);if(this.nextNodes.pop(),this.offsets.pop(),0===this.idxs.length)break;const I=g(this.nextNodes),w=u(I,this.idxs[this.idxs.length-1]);if(-1!==w){this.nextNodes.push(I.getChild(w)),this.offsets.push((0,y.Ii)(m,l.length)),this.idxs[this.idxs.length-1]=w;break}this.idxs.pop()}}}function u(a,m=-1){for(;;){if(++m>=a.childrenLength)return-1;if(a.getChild(m))return m}}function g(a){return a.length>0?a[a.length-1]:void 0}function i(a,m,l,I){return new d(a,m,l,I).parseDocument()}class d{constructor(m,l,I,w){if(this.tokenizer=m,this.createImmutableLists=w,this._itemsConstructed=0,this._itemsFromCache=0,I&&w)throw new Error("Not supported");this.oldNodeReader=I?new c(I):void 0,this.positionMapper=new P.Y(l)}parseDocument(){this._itemsConstructed=0,this._itemsFromCache=0;let m=this.parseList(r.tS.getEmpty(),0);return m||(m=f.Y0.getEmpty()),m}parseList(m,l){const I=[];for(;;){let D=this.tryReadChildFromCache(m);if(!D){const N=this.tokenizer.peek();if(!N||2===N.kind&&N.bracketIds.intersects(m))break;D=this.parseChild(m,l+1)}4===D.kind&&0===D.childrenLength||I.push(D)}return this.oldNodeReader?function v(a){if(0===a.length)return null;if(1===a.length)return a[0];let m=0;function l(){if(m>=a.length)return null;const N=m,A=a[N].listHeight;for(m++;m<a.length&&a[m].listHeight===A;)m++;return m-N>=2?S(0===N&&m===a.length?a:a.slice(N,m),!1):a[N]}let I=l(),w=l();if(!w)return I;for(let N=l();N;N=l())T(I,w)<=T(w,N)?(I=E(I,w),w=N):w=E(w,N);return E(I,w)}(I):S(I,this.createImmutableLists)}tryReadChildFromCache(m){if(this.oldNodeReader){const l=this.positionMapper.getDistanceToNextChange(this.tokenizer.offset);if(null===l||!(0,y.xd)(l)){const I=this.oldNodeReader.readLongestNodeAt(this.positionMapper.getOffsetBeforeChange(this.tokenizer.offset),w=>!(null!==l&&!(0,y.VR)(w.length,l))&&w.canBeReused(m));if(I)return this._itemsFromCache++,this.tokenizer.skip(I.length),I}}}parseChild(m,l){this._itemsConstructed++;const I=this.tokenizer.read();switch(I.kind){case 2:return new f.Dm(I.bracketIds,I.length);case 0:return I.astNode;case 1:{if(l>300)return new f.BH(I.length);const w=m.merge(I.bracketIds),D=this.parseList(w,l+1),N=this.tokenizer.peek();return N&&2===N.kind&&(N.bracketId===I.bracketId||N.bracketIds.intersects(I.bracketIds))?(this.tokenizer.read(),f.Kd.create(I.astNode,D,N.astNode)):f.Kd.create(I.astNode,D,null)}default:throw new Error("unexpected")}}}},17529:(Xe,we,e)=>{e.d(we,{FE:()=>y,Qw:()=>r,tS:()=>P});const f=[];class P{static create(S,T){if(S<=128&&0===T.length){let E=P.cache[S];return E||(E=new P(S,T),P.cache[S]=E),E}return new P(S,T)}static getEmpty(){return this.empty}constructor(S,T){this.items=S,this.additionalItems=T}add(S,T){const E=T.getKey(S);let L=E>>5;if(0===L){const c=1<<E|this.items;return c===this.items?this:P.create(c,this.additionalItems)}L--;const p=this.additionalItems.slice(0);for(;p.length<L;)p.push(0);return p[L]|=1<<(31&E),P.create(this.items,p)}merge(S){const T=this.items|S.items;if(this.additionalItems===f&&S.additionalItems===f)return T===this.items?this:T===S.items?S:P.create(T,f);const E=[];for(let L=0;L<Math.max(this.additionalItems.length,S.additionalItems.length);L++)E.push((this.additionalItems[L]||0)|(S.additionalItems[L]||0));return P.create(T,E)}intersects(S){if(this.items&S.items)return!0;for(let T=0;T<Math.min(this.additionalItems.length,S.additionalItems.length);T++)if(this.additionalItems[T]&S.additionalItems[T])return!0;return!1}}P.cache=new Array(129),P.empty=P.create(0,f);const r={getKey:v=>v};class y{constructor(){this.items=new Map}getKey(S){let T=this.items.get(S);return void 0===T&&(T=this.items.size,this.items.set(S,T)),T}}},81780:(Xe,we,e)=>{e.d(we,{WU:()=>S,g:()=>L,xH:()=>T});var f=e(17967),P=e(96724),r=e(36367),y=e(32353),v=e(17529);class S{constructor(c,u,g,i,d){this.length=c,this.kind=u,this.bracketId=g,this.bracketIds=i,this.astNode=d}}class T{constructor(c,u){this.textModel=c,this.bracketTokens=u,this.reader=new E(this.textModel,this.bracketTokens),this._offset=y.xl,this.didPeek=!1,this.peeked=null,this.textBufferLineCount=c.getLineCount(),this.textBufferLastLineLength=c.getLineLength(this.textBufferLineCount)}get offset(){return this._offset}get length(){return(0,y.Hg)(this.textBufferLineCount-1,this.textBufferLastLineLength)}skip(c){this.didPeek=!1,this._offset=(0,y.Ii)(this._offset,c);const u=(0,y.Hw)(this._offset);this.reader.setPosition(u.lineCount,u.columnCount)}read(){let c;return this.peeked?(this.didPeek=!1,c=this.peeked):c=this.reader.read(),c&&(this._offset=(0,y.Ii)(this._offset,c.length)),c}peek(){return this.didPeek||(this.peeked=this.reader.read(),this.didPeek=!0),this.peeked}}class E{constructor(c,u){this.textModel=c,this.bracketTokens=u,this.lineIdx=0,this.line=null,this.lineCharOffset=0,this.lineTokens=null,this.lineTokenOffset=0,this.peekedToken=null,this.textBufferLineCount=c.getLineCount(),this.textBufferLastLineLength=c.getLineLength(this.textBufferLineCount)}setPosition(c,u){c===this.lineIdx?(this.lineCharOffset=u,null!==this.line&&(this.lineTokenOffset=0===this.lineCharOffset?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset))):(this.lineIdx=c,this.lineCharOffset=u,this.line=null),this.peekedToken=null}read(){if(this.peekedToken){const d=this.peekedToken;return this.peekedToken=null,this.lineCharOffset+=(0,y.F_)(d.length),d}if(this.lineIdx>this.textBufferLineCount-1||this.lineIdx===this.textBufferLineCount-1&&this.lineCharOffset>=this.textBufferLastLineLength)return null;null===this.line&&(this.lineTokens=this.textModel.tokenization.getLineTokens(this.lineIdx+1),this.line=this.lineTokens.getLineContent(),this.lineTokenOffset=0===this.lineCharOffset?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset));const c=this.lineIdx,u=this.lineCharOffset;let g=0;for(;;){const d=this.lineTokens,a=d.getCount();let m=null;if(this.lineTokenOffset<a){const l=d.getMetadata(this.lineTokenOffset);for(;this.lineTokenOffset+1<a&&l===d.getMetadata(this.lineTokenOffset+1);)this.lineTokenOffset++;const I=0===P.N.getTokenType(l),w=P.N.containsBalancedBrackets(l),D=d.getEndOffset(this.lineTokenOffset);if(w&&I&&this.lineCharOffset<D){const N=d.getLanguageId(this.lineTokenOffset),A=this.line.substring(this.lineCharOffset,D),k=this.bracketTokens.getSingleLanguageBracketTokens(N),R=k.regExpGlobal;if(R){R.lastIndex=0;const O=R.exec(A);O&&(m=k.getToken(O[0]),m&&(this.lineCharOffset+=O.index))}}if(g+=D-this.lineCharOffset,m){if(c!==this.lineIdx||u!==this.lineCharOffset){this.peekedToken=m;break}return this.lineCharOffset+=(0,y.F_)(m.length),m}this.lineTokenOffset++,this.lineCharOffset=D}else if(this.lineIdx===this.textBufferLineCount-1||(this.lineIdx++,this.lineTokens=this.textModel.tokenization.getLineTokens(this.lineIdx+1),this.lineTokenOffset=0,this.line=this.lineTokens.getLineContent(),this.lineCharOffset=0,g+=33,g>1e3))break;if(g>1500)break}const i=(0,y.av)(c,u,this.lineIdx,this.lineCharOffset);return new S(i,0,-1,v.tS.getEmpty(),new r.BH(i))}}class L{constructor(c,u){this.text=c,this._offset=y.xl,this.idx=0;const g=u.getRegExpStr(),i=g?new RegExp(g+"|\n","gi"):null,d=[];let a,m=0,l=0,I=0,w=0;const D=[];for(let k=0;k<60;k++)D.push(new S((0,y.Hg)(0,k),0,-1,v.tS.getEmpty(),new r.BH((0,y.Hg)(0,k))));const N=[];for(let k=0;k<60;k++)N.push(new S((0,y.Hg)(1,k),0,-1,v.tS.getEmpty(),new r.BH((0,y.Hg)(1,k))));if(i)for(i.lastIndex=0;null!==(a=i.exec(c));){const k=a.index,R=a[0];if("\n"===R)m++,l=k+1;else{if(I!==k){let O;if(w===m){const W=k-I;if(W<D.length)O=D[W];else{const z=(0,y.Hg)(0,W);O=new S(z,0,-1,v.tS.getEmpty(),new r.BH(z))}}else{const W=m-w,z=k-l;if(1===W&&z<N.length)O=N[z];else{const U=(0,y.Hg)(W,z);O=new S(U,0,-1,v.tS.getEmpty(),new r.BH(U))}}d.push(O)}d.push(u.getToken(R)),I=k+R.length,w=m}}const A=c.length;if(I!==A){const k=w===m?(0,y.Hg)(0,A-I):(0,y.Hg)(m-w,A-l);d.push(new S(k,0,-1,v.tS.getEmpty(),new r.BH(k)))}this.length=(0,y.Hg)(m,A-l),this.tokens=d}get offset(){return this._offset}read(){return this.tokens[this.idx++]||null}peek(){return this.tokens[this.idx]||null}skip(c){throw new f.B8}}},77545:(Xe,we,e)=>{e.d(we,{NL:()=>i,e9:()=>g});var f=e(37190),P=e(17967),r=e(81534),y=e(15850),v=e(27336),S=e(58204),T=e(9001);function E(d){return d.toString()}class L{static create(a,m){const l=a.getAlternativeVersionId(),I=u(a);return new L(l,l,I,I,m,m,[])}constructor(a,m,l,I,w,D,N){this.beforeVersionId=a,this.afterVersionId=m,this.beforeEOL=l,this.afterEOL=I,this.beforeCursorState=w,this.afterCursorState=D,this.changes=N}append(a,m,l,I,w){m.length>0&&(this.changes=(0,v.b)(this.changes,m)),this.afterEOL=l,this.afterVersionId=I,this.afterCursorState=w}static _writeSelectionsSize(a){return 4+16*(a?a.length:0)}static _writeSelections(a,m,l){if(S.T4(a,m?m.length:0,l),l+=4,m)for(const I of m)S.T4(a,I.selectionStartLineNumber,l),S.T4(a,I.selectionStartColumn,l+=4),S.T4(a,I.positionLineNumber,l+=4),S.T4(a,I.positionColumn,l+=4),l+=4;return l}static _readSelections(a,m,l){const I=S.Ag(a,m);m+=4;for(let w=0;w<I;w++){const D=S.Ag(a,m),N=S.Ag(a,m+=4),A=S.Ag(a,m+=4),k=S.Ag(a,m+=4);m+=4,l.push(new r.Y(D,N,A,k))}return m}serialize(){let a=10+L._writeSelectionsSize(this.beforeCursorState)+L._writeSelectionsSize(this.afterCursorState)+4;for(const I of this.changes)a+=I.writeSize();const m=new Uint8Array(a);let l=0;S.T4(m,this.beforeVersionId,l),l+=4,S.T4(m,this.afterVersionId,l),l+=4,S.Cg(m,this.beforeEOL,l),l+=1,S.Cg(m,this.afterEOL,l),l+=1,l=L._writeSelections(m,this.beforeCursorState,l),l=L._writeSelections(m,this.afterCursorState,l),S.T4(m,this.changes.length,l),l+=4;for(const I of this.changes)l=I.write(m,l);return m.buffer}static deserialize(a){const m=new Uint8Array(a);let l=0;const I=S.Ag(m,l);l+=4;const w=S.Ag(m,l);l+=4;const D=S.Q$(m,l);l+=1;const N=S.Q$(m,l);l+=1;const A=[];l=L._readSelections(m,l,A);const k=[];l=L._readSelections(m,l,k);const R=S.Ag(m,l);l+=4;const O=[];for(let W=0;W<R;W++)l=v.q.read(m,l,O);return new L(I,w,D,N,A,k,O)}}class p{get type(){return 0}get resource(){return y.o.isUri(this.model)?this.model:this.model.uri}constructor(a,m,l,I){this.label=a,this.code=m,this.model=l,this._data=L.create(l,I)}toString(){return(this._data instanceof L?this._data:L.deserialize(this._data)).changes.map(m=>m.toString()).join(", ")}matchesResource(a){return(y.o.isUri(this.model)?this.model:this.model.uri).toString()===a.toString()}setModel(a){this.model=a}canAppend(a){return this.model===a&&this._data instanceof L}append(a,m,l,I,w){this._data instanceof L&&this._data.append(a,m,l,I,w)}close(){this._data instanceof L&&(this._data=this._data.serialize())}open(){this._data instanceof L||(this._data=L.deserialize(this._data))}undo(){if(y.o.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof L&&(this._data=this._data.serialize());const a=L.deserialize(this._data);this.model._applyUndo(a.changes,a.beforeEOL,a.beforeVersionId,a.beforeCursorState)}redo(){if(y.o.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof L&&(this._data=this._data.serialize());const a=L.deserialize(this._data);this.model._applyRedo(a.changes,a.afterEOL,a.afterVersionId,a.afterCursorState)}heapSize(){return this._data instanceof L&&(this._data=this._data.serialize()),this._data.byteLength+168}}class c{get resources(){return this._editStackElementsArr.map(a=>a.resource)}constructor(a,m,l){this.label=a,this.code=m,this.type=1,this._isOpen=!0,this._editStackElementsArr=l.slice(0),this._editStackElementsMap=new Map;for(const I of this._editStackElementsArr){const w=E(I.resource);this._editStackElementsMap.set(w,I)}this._delegate=null}prepareUndoRedo(){if(this._delegate)return this._delegate.prepareUndoRedo(this)}matchesResource(a){const m=E(a);return this._editStackElementsMap.has(m)}setModel(a){const m=E(y.o.isUri(a)?a:a.uri);this._editStackElementsMap.has(m)&&this._editStackElementsMap.get(m).setModel(a)}canAppend(a){if(!this._isOpen)return!1;const m=E(a.uri);return!!this._editStackElementsMap.has(m)&&this._editStackElementsMap.get(m).canAppend(a)}append(a,m,l,I,w){const D=E(a.uri);this._editStackElementsMap.get(D).append(a,m,l,I,w)}close(){this._isOpen=!1}open(){}undo(){this._isOpen=!1;for(const a of this._editStackElementsArr)a.undo()}redo(){for(const a of this._editStackElementsArr)a.redo()}heapSize(a){const m=E(a);return this._editStackElementsMap.has(m)?this._editStackElementsMap.get(m).heapSize():0}split(){return this._editStackElementsArr}toString(){const a=[];for(const m of this._editStackElementsArr)a.push(`${(0,T.EZ)(m.resource)}: ${m}`);return`{${a.join(", ")}}`}}function u(d){return"\n"===d.getEOL()?0:1}function g(d){return!!d&&(d instanceof p||d instanceof c)}class i{constructor(a,m){this._model=a,this._undoRedoService=m}pushStackElement(){const a=this._undoRedoService.getLastElement(this._model.uri);g(a)&&a.close()}popStackElement(){const a=this._undoRedoService.getLastElement(this._model.uri);g(a)&&a.open()}clear(){this._undoRedoService.removeElements(this._model.uri)}_getOrCreateEditStackElement(a,m){const l=this._undoRedoService.getLastElement(this._model.uri);if(g(l)&&l.canAppend(this._model))return l;const I=new p(f.NC("edit","Typing"),"undoredo.textBufferEdit",this._model,a);return this._undoRedoService.pushElement(I,m),I}pushEOL(a){const m=this._getOrCreateEditStackElement(null,void 0);this._model.setEOL(a),m.append(this._model,[],u(this._model),this._model.getAlternativeVersionId(),null)}pushEditOperation(a,m,l,I){const w=this._getOrCreateEditStackElement(a,I),D=this._model.applyEdits(m,!0),N=i._computeCursorState(l,D),A=D.map((k,R)=>({index:R,textChange:k.textChange}));return A.sort((k,R)=>k.textChange.oldPosition===R.textChange.oldPosition?k.index-R.index:k.textChange.oldPosition-R.textChange.oldPosition),w.append(this._model,A.map(k=>k.textChange),u(this._model),this._model.getAlternativeVersionId(),N),N}static _computeCursorState(a,m){try{return a?a(m):null}catch(l){return(0,P.dL)(l),null}}}},42714:(Xe,we,e)=>{e.d(we,{W:()=>p,l:()=>L});var f=e(31738),P=e(16055),r=e(96678),y=e(96726),v=e(17295),S=e(31597),T=e(72417),E=e(17967);class L extends v.U{constructor(u,g){super(),this.textModel=u,this.languageConfigurationService=g}getLanguageConfiguration(u){return this.languageConfigurationService.getLanguageConfiguration(u)}_computeIndentLevel(u){return(0,S.q)(this.textModel.getLineContent(u+1),this.textModel.getOptions().tabSize)}getActiveIndentGuide(u,g,i){this.assertNotDisposed();const d=this.textModel.getLineCount();if(u<1||u>d)throw new E.he("Illegal value for lineNumber");const a=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,m=!(!a||!a.offSide);let l=-2,I=-1,w=-2,D=-1;const N=j=>{if(-1!==l&&(-2===l||l>j-1)){l=-1,I=-1;for(let $=j-2;$>=0;$--){const K=this._computeIndentLevel($);if(K>=0){l=$,I=K;break}}}if(-2===w){w=-1,D=-1;for(let $=j;$<d;$++){const K=this._computeIndentLevel($);if(K>=0){w=$,D=K;break}}}};let A=-2,k=-1,R=-2,O=-1;const W=j=>{if(-2===A){A=-1,k=-1;for(let $=j-2;$>=0;$--){const K=this._computeIndentLevel($);if(K>=0){A=$,k=K;break}}}if(-1!==R&&(-2===R||R<j-1)){R=-1,O=-1;for(let $=j;$<d;$++){const K=this._computeIndentLevel($);if(K>=0){R=$,O=K;break}}}};let z=0,U=!0,ee=0,B=!0,G=0,se=0;for(let j=0;U||B;j++){const $=u-j,K=u+j;j>1&&($<1||$<g)&&(U=!1),j>1&&(K>d||K>i)&&(B=!1),j>5e4&&(U=!1,B=!1);let J=-1;if(U&&$>=1){const ne=this._computeIndentLevel($-1);ne>=0?(w=$-1,D=ne,J=Math.ceil(ne/this.textModel.getOptions().indentSize)):(N($),J=this._getIndentLevelForWhitespaceLine(m,I,D))}let te=-1;if(B&&K<=d){const ne=this._computeIndentLevel(K-1);ne>=0?(A=K-1,k=ne,te=Math.ceil(ne/this.textModel.getOptions().indentSize)):(W(K),te=this._getIndentLevelForWhitespaceLine(m,k,O))}if(0!==j){if(1===j){if(K<=d&&te>=0&&se+1===te){U=!1,z=K,ee=K,G=te;continue}if($>=1&&J>=0&&J-1===se){B=!1,z=$,ee=$,G=J;continue}if(z=u,ee=u,G=se,0===G)return{startLineNumber:z,endLineNumber:ee,indent:G}}U&&(J>=G?z=$:U=!1),B&&(te>=G?ee=K:B=!1)}else se=J}return{startLineNumber:z,endLineNumber:ee,indent:G}}getLinesBracketGuides(u,g,i,d){var a;const m=[];for(let A=u;A<=g;A++)m.push([]);const I=this.textModel.bracketPairs.getBracketPairsInRangeWithMinIndentation(new y.e(u,1,g,this.textModel.getLineMaxColumn(g))).toArray();let w;if(i&&I.length>0){const A=(u<=i.lineNumber&&i.lineNumber<=g?I:this.textModel.bracketPairs.getBracketPairsInRange(y.e.fromPositions(i)).toArray()).filter(k=>y.e.strictContainsPosition(k.range,i));w=null===(a=(0,f.dF)(A,k=>!0))||void 0===a?void 0:a.range}const D=this.textModel.getOptions().bracketPairColorizationOptions.independentColorPoolPerBracketType,N=new p;for(const A of I){if(!A.closingBracketRange)continue;const k=w&&A.range.equalsRange(w);if(!k&&!d.includeInactive)continue;const R=N.getInlineClassName(A.nestingLevel,A.nestingLevelOfEqualBracketType,D)+(d.highlightActive&&k?" "+N.activeClassName:""),O=A.openingBracketRange.getStartPosition(),W=A.closingBracketRange.getStartPosition(),z=d.horizontalGuides===T.s6.Enabled||d.horizontalGuides===T.s6.EnabledForActive&&k;if(A.range.startLineNumber===A.range.endLineNumber){z&&m[A.range.startLineNumber-u].push(new T.UO(-1,A.openingBracketRange.getEndPosition().column,R,new T.vW(!1,W.column),-1,-1));continue}const U=this.getVisibleColumnFromPosition(W),ee=this.getVisibleColumnFromPosition(A.openingBracketRange.getStartPosition()),B=Math.min(ee,U,A.minVisibleColumnIndentation+1);let G=!1;P.LC(this.textModel.getLineContent(A.closingBracketRange.startLineNumber))<A.closingBracketRange.startColumn-1&&(G=!0);const $=Math.max(O.lineNumber,u),K=Math.min(W.lineNumber,g),J=G?1:0;for(let te=$;te<K+J;te++)m[te-u].push(new T.UO(B,-1,R,null,te===O.lineNumber?O.column:-1,te===W.lineNumber?W.column:-1));z&&(O.lineNumber>=u&&ee>B&&m[O.lineNumber-u].push(new T.UO(B,-1,R,new T.vW(!1,O.column),-1,-1)),W.lineNumber<=g&&U>B&&m[W.lineNumber-u].push(new T.UO(B,-1,R,new T.vW(!G,W.column),-1,-1)))}for(const A of m)A.sort((k,R)=>k.visibleColumn-R.visibleColumn);return m}getVisibleColumnFromPosition(u){return r.i.visibleColumnFromColumn(this.textModel.getLineContent(u.lineNumber),u.column,this.textModel.getOptions().tabSize)+1}getLinesIndentGuides(u,g){this.assertNotDisposed();const i=this.textModel.getLineCount();if(u<1||u>i)throw new Error("Illegal value for startLineNumber");if(g<1||g>i)throw new Error("Illegal value for endLineNumber");const d=this.textModel.getOptions(),a=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,m=!(!a||!a.offSide),l=new Array(g-u+1);let I=-2,w=-1,D=-2,N=-1;for(let A=u;A<=g;A++){const k=A-u,R=this._computeIndentLevel(A-1);if(R>=0)I=A-1,w=R,l[k]=Math.ceil(R/d.indentSize);else{if(-2===I){I=-1,w=-1;for(let O=A-2;O>=0;O--){const W=this._computeIndentLevel(O);if(W>=0){I=O,w=W;break}}}if(-1!==D&&(-2===D||D<A-1)){D=-1,N=-1;for(let O=A;O<i;O++){const W=this._computeIndentLevel(O);if(W>=0){D=O,N=W;break}}}l[k]=this._getIndentLevelForWhitespaceLine(m,w,N)}}return l}_getIndentLevelForWhitespaceLine(u,g,i){const d=this.textModel.getOptions();return-1===g||-1===i?0:g<i?1+Math.floor(g/d.indentSize):g===i||u?Math.ceil(i/d.indentSize):1+Math.floor(i/d.indentSize)}}class p{constructor(){this.activeClassName="indent-active"}getInlineClassName(u,g,i){return this.getInlineClassNameOfLevel(i?g:u)}getInlineClassNameOfLevel(u){return"bracket-indent-guide lvl-"+u%30}}},94703:(Xe,we,e)=>{e.d(we,{Ck:()=>y,oQ:()=>r});var f=e(31738),P=e(7309);class r{constructor(T){this.values=T,this.prefixSum=new Uint32Array(T.length),this.prefixSumValidIndex=new Int32Array(1),this.prefixSumValidIndex[0]=-1}insertValues(T,E){T=(0,P.A)(T);const L=this.values,p=this.prefixSum,c=E.length;return 0!==c&&(this.values=new Uint32Array(L.length+c),this.values.set(L.subarray(0,T),0),this.values.set(L.subarray(T),T+c),this.values.set(E,T),T-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=T-1),this.prefixSum=new Uint32Array(this.values.length),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(p.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}setValue(T,E){return T=(0,P.A)(T),E=(0,P.A)(E),this.values[T]!==E&&(this.values[T]=E,T-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=T-1),!0)}removeValues(T,E){T=(0,P.A)(T),E=(0,P.A)(E);const L=this.values,p=this.prefixSum;if(T>=L.length)return!1;const c=L.length-T;return E>=c&&(E=c),0!==E&&(this.values=new Uint32Array(L.length-E),this.values.set(L.subarray(0,T),0),this.values.set(L.subarray(T+E),T),this.prefixSum=new Uint32Array(this.values.length),T-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=T-1),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(p.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}getTotalSum(){return 0===this.values.length?0:this._getPrefixSum(this.values.length-1)}getPrefixSum(T){return T<0?0:(T=(0,P.A)(T),this._getPrefixSum(T))}_getPrefixSum(T){if(T<=this.prefixSumValidIndex[0])return this.prefixSum[T];let E=this.prefixSumValidIndex[0]+1;0===E&&(this.prefixSum[0]=this.values[0],E++),T>=this.values.length&&(T=this.values.length-1);for(let L=E;L<=T;L++)this.prefixSum[L]=this.prefixSum[L-1]+this.values[L];return this.prefixSumValidIndex[0]=Math.max(this.prefixSumValidIndex[0],T),this.prefixSum[T]}getIndexOf(T){T=Math.floor(T),this.getTotalSum();let E=0,L=this.values.length-1,p=0,c=0,u=0;for(;E<=L;)if(p=E+(L-E)/2|0,c=this.prefixSum[p],u=c-this.values[p],T<u)L=p-1;else{if(!(T>=c))break;E=p+1}return new v(p,T-u)}}class y{constructor(T){this._values=T,this._isValid=!1,this._validEndIndex=-1,this._prefixSum=[],this._indexBySum=[]}getTotalSum(){return this._ensureValid(),this._indexBySum.length}getPrefixSum(T){return this._ensureValid(),0===T?0:this._prefixSum[T-1]}getIndexOf(T){this._ensureValid();const E=this._indexBySum[T];return new v(E,T-(E>0?this._prefixSum[E-1]:0))}removeValues(T,E){this._values.splice(T,E),this._invalidate(T)}insertValues(T,E){this._values=(0,f.Zv)(this._values,T,E),this._invalidate(T)}_invalidate(T){this._isValid=!1,this._validEndIndex=Math.min(this._validEndIndex,T-1)}_ensureValid(){if(!this._isValid){for(let T=this._validEndIndex+1,E=this._values.length;T<E;T++){const L=this._values[T],p=T>0?this._prefixSum[T-1]:0;this._prefixSum[T]=p+L;for(let c=0;c<L;c++)this._indexBySum[p+c]=T}this._prefixSum.length=this._values.length,this._indexBySum.length=this._prefixSum[this._prefixSum.length-1],this._isValid=!0,this._validEndIndex=this._values.length-1}}setValue(T,E){this._values[T]!==E&&(this._values[T]=E,this._invalidate(T))}}class v{constructor(T,E){this.index=T,this.remainder=E,this._prefixSumIndexOfResultBrand=void 0,this.index=T,this.remainder=E}}},54267:(Xe,we,e)=>{e.d(we,{HS:()=>en,qx:()=>yn,yO:()=>qt});var f=e(31738),P=e(90888),r=e(17967),y=e(58178),v=e(78694),S=e(16055),T=e(15850),E=e(83393),L=e(15869),p=e(266),c=e(68678),u=e(96726),g=e(81534),i=e(30304),d=e(74315),a=e(58459),m=e(24470),l=e(20386),I=e(67093);class w{constructor(M,q,ce,Ue){this.range=M,this.nestingLevel=q,this.nestingLevelOfEqualBracketType=ce,this.isInvalid=Ue}}class D{constructor(M,q,ce,Ue,$e,ct){this.range=M,this.openingBracketRange=q,this.closingBracketRange=ce,this.nestingLevel=Ue,this.nestingLevelOfEqualBracketType=$e,this.bracketPairNode=ct}get openingBracketInfo(){return this.bracketPairNode.openingBracket.bracketInfo}}class N extends D{constructor(M,q,ce,Ue,$e,ct,Et){super(M,q,ce,Ue,$e,ct),this.minVisibleColumnIndentation=Et}}var A=e(63708),k=e(43091),R=e(32353),O=e(18193),W=e(17529),z=e(81780),U=e(16637);class ee extends v.JT{didLanguageChange(M){return this.brackets.didLanguageChange(M)}constructor(M,q){if(super(),this.textModel=M,this.getLanguageConfiguration=q,this.didChangeEmitter=new y.Q5,this.denseKeyProvider=new W.FE,this.brackets=new k.Z(this.denseKeyProvider,this.getLanguageConfiguration),this.onDidChange=this.didChangeEmitter.event,this.queuedTextEditsForInitialAstWithoutTokens=[],this.queuedTextEdits=[],M.tokenization.hasTokens)2===M.tokenization.backgroundTokenizationState?(this.initialAstWithoutTokens=void 0,this.astWithTokens=this.parseDocumentFromTextBuffer([],void 0,!1)):(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer([],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens);else{const ce=this.brackets.getSingleLanguageBracketTokens(this.textModel.getLanguageId()),Ue=new z.g(this.textModel.getValue(),ce);this.initialAstWithoutTokens=(0,O.w)(Ue,[],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens}}handleDidChangeBackgroundTokenizationState(){if(2===this.textModel.tokenization.backgroundTokenizationState){const M=void 0===this.initialAstWithoutTokens;this.initialAstWithoutTokens=void 0,M||this.didChangeEmitter.fire()}}handleDidChangeTokens({ranges:M}){const q=M.map(ce=>new A.Q((0,R.Hg)(ce.fromLineNumber-1,0),(0,R.Hg)(ce.toLineNumber,0),(0,R.Hg)(ce.toLineNumber-ce.fromLineNumber+1,0)));this.handleEdits(q,!0),this.initialAstWithoutTokens||this.didChangeEmitter.fire()}handleContentChanged(M){const q=A.Q.fromModelContentChanges(M.changes);this.handleEdits(q,!1)}handleEdits(M,q){const ce=(0,U.o)(this.queuedTextEdits,M);this.queuedTextEdits=ce,this.initialAstWithoutTokens&&!q&&(this.queuedTextEditsForInitialAstWithoutTokens=(0,U.o)(this.queuedTextEditsForInitialAstWithoutTokens,M))}flushQueue(){this.queuedTextEdits.length>0&&(this.astWithTokens=this.parseDocumentFromTextBuffer(this.queuedTextEdits,this.astWithTokens,!1),this.queuedTextEdits=[]),this.queuedTextEditsForInitialAstWithoutTokens.length>0&&(this.initialAstWithoutTokens&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer(this.queuedTextEditsForInitialAstWithoutTokens,this.initialAstWithoutTokens,!1)),this.queuedTextEditsForInitialAstWithoutTokens=[])}parseDocumentFromTextBuffer(M,q,ce){const $e=q,ct=new z.xH(this.textModel,this.brackets);return(0,O.w)(ct,M,$e,ce)}getBracketsInRange(M,q){this.flushQueue();const ce=(0,R.Hg)(M.startLineNumber-1,M.startColumn-1),Ue=(0,R.Hg)(M.endLineNumber-1,M.endColumn-1);return new f.W$($e=>{const ct=this.initialAstWithoutTokens||this.astWithTokens;se(ct,R.xl,ct.length,ce,Ue,$e,0,0,new Map,q)})}getBracketPairsInRange(M,q){this.flushQueue();const ce=(0,R.PZ)(M.getStartPosition()),Ue=(0,R.PZ)(M.getEndPosition());return new f.W$($e=>{const ct=this.initialAstWithoutTokens||this.astWithTokens,Et=new j($e,q,this.textModel);$(ct,R.xl,ct.length,ce,Ue,Et,0,new Map)})}getFirstBracketAfter(M){this.flushQueue();const q=this.initialAstWithoutTokens||this.astWithTokens;return G(q,R.xl,q.length,(0,R.PZ)(M))}getFirstBracketBefore(M){this.flushQueue();const q=this.initialAstWithoutTokens||this.astWithTokens;return B(q,R.xl,q.length,(0,R.PZ)(M))}}function B(Ft,M,q,ce){if(4===Ft.kind||2===Ft.kind){const Ue=[];for(const $e of Ft.children)q=(0,R.Ii)(M,$e.length),Ue.push({nodeOffsetStart:M,nodeOffsetEnd:q}),M=q;for(let $e=Ue.length-1;$e>=0;$e--){const{nodeOffsetStart:ct,nodeOffsetEnd:Et}=Ue[$e];if((0,R.VR)(ct,ce)){const kt=B(Ft.children[$e],ct,Et,ce);if(kt)return kt}}return null}if(3===Ft.kind)return null;if(1===Ft.kind){const Ue=(0,R.Qw)(M,q);return{bracketInfo:Ft.bracketInfo,range:Ue}}return null}function G(Ft,M,q,ce){if(4===Ft.kind||2===Ft.kind){for(const Ue of Ft.children){if(q=(0,R.Ii)(M,Ue.length),(0,R.VR)(ce,q)){const $e=G(Ue,M,q,ce);if($e)return $e}M=q}return null}if(3===Ft.kind)return null;if(1===Ft.kind){const Ue=(0,R.Qw)(M,q);return{bracketInfo:Ft.bracketInfo,range:Ue}}return null}function se(Ft,M,q,ce,Ue,$e,ct,Et,kt,ri,hi=!1){if(ct>200)return!0;e:for(;;)switch(Ft.kind){case 4:{const ii=Ft.childrenLength;for(let Si=0;Si<ii;Si++){const Ti=Ft.getChild(Si);if(Ti){if(q=(0,R.Ii)(M,Ti.length),(0,R.By)(M,Ue)&&(0,R.Zq)(q,ce)){if((0,R.Zq)(q,Ue)){Ft=Ti;continue e}if(!se(Ti,M,q,ce,Ue,$e,ct,0,kt,ri))return!1}M=q}}return!0}case 2:{const ii=!ri||!Ft.closingBracket||Ft.closingBracket.bracketInfo.closesColorized(Ft.openingBracket.bracketInfo);let Si=0;if(kt){let Bi=kt.get(Ft.openingBracket.text);void 0===Bi&&(Bi=0),Si=Bi,ii&&(Bi++,kt.set(Ft.openingBracket.text,Bi))}const Ti=Ft.childrenLength;for(let Bi=0;Bi<Ti;Bi++){const ji=Ft.getChild(Bi);if(ji){if(q=(0,R.Ii)(M,ji.length),(0,R.By)(M,Ue)&&(0,R.Zq)(q,ce)){if((0,R.Zq)(q,Ue)&&1!==ji.kind){Ft=ji,ii?(ct++,Et=Si+1):Et=Si;continue e}if((ii||1!==ji.kind||!Ft.closingBracket)&&!se(ji,M,q,ce,Ue,$e,ii?ct+1:ct,ii?Si+1:Si,kt,ri,!Ft.closingBracket))return!1}M=q}}return kt?.set(Ft.openingBracket.text,Si),!0}case 3:{const ii=(0,R.Qw)(M,q);return $e(new w(ii,ct-1,0,!0))}case 1:{const ii=(0,R.Qw)(M,q);return $e(new w(ii,ct-1,Et-1,hi))}case 0:return!0}}class j{constructor(M,q,ce){this.push=M,this.includeMinIndentation=q,this.textModel=ce}}function $(Ft,M,q,ce,Ue,$e,ct,Et){var kt;if(ct>200)return!0;let ri=!0;if(2===Ft.kind){let hi=0;if(Et){let Ti=Et.get(Ft.openingBracket.text);void 0===Ti&&(Ti=0),hi=Ti,Ti++,Et.set(Ft.openingBracket.text,Ti)}const ii=(0,R.Ii)(M,Ft.openingBracket.length);let Si=-1;if($e.includeMinIndentation&&(Si=Ft.computeMinIndentation(M,$e.textModel)),ri=$e.push(new N((0,R.Qw)(M,q),(0,R.Qw)(M,ii),Ft.closingBracket?(0,R.Qw)((0,R.Ii)(ii,(null===(kt=Ft.child)||void 0===kt?void 0:kt.length)||R.xl),q):void 0,ct,hi,Ft,Si)),M=ii,ri&&Ft.child){const Ti=Ft.child;if(q=(0,R.Ii)(M,Ti.length),(0,R.By)(M,Ue)&&(0,R.Zq)(q,ce)&&(ri=$(Ti,M,q,ce,Ue,$e,ct+1,Et),!ri))return!1}Et?.set(Ft.openingBracket.text,hi)}else{let hi=M;for(const ii of Ft.children){const Si=hi;if(hi=(0,R.Ii)(hi,ii.length),(0,R.By)(Si,Ue)&&(0,R.By)(ce,hi)&&(ri=$(ii,Si,hi,ce,Ue,$e,ct,Et),!ri))return!1}}return ri}class K extends v.JT{get canBuildAST(){return this.textModel.getValueLength()<=5e6}constructor(M,q){super(),this.textModel=M,this.languageConfigurationService=q,this.bracketPairsTree=this._register(new v.XK),this.onDidChangeEmitter=new y.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.bracketsRequested=!1,this._register(this.languageConfigurationService.onDidChange(ce=>{var Ue;(!ce.languageId||null!==(Ue=this.bracketPairsTree.value)&&void 0!==Ue&&Ue.object.didLanguageChange(ce.languageId))&&(this.bracketPairsTree.clear(),this.updateBracketPairsTree())}))}handleDidChangeOptions(M){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeLanguage(M){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeContent(M){var q;null===(q=this.bracketPairsTree.value)||void 0===q||q.object.handleContentChanged(M)}handleDidChangeBackgroundTokenizationState(){var M;null===(M=this.bracketPairsTree.value)||void 0===M||M.object.handleDidChangeBackgroundTokenizationState()}handleDidChangeTokens(M){var q;null===(q=this.bracketPairsTree.value)||void 0===q||q.object.handleDidChangeTokens(M)}updateBracketPairsTree(){if(this.bracketsRequested&&this.canBuildAST){if(!this.bracketPairsTree.value){const M=new v.SL;this.bracketPairsTree.value=function J(Ft,M){return{object:Ft,dispose:()=>M?.dispose()}}(M.add(new ee(this.textModel,q=>this.languageConfigurationService.getLanguageConfiguration(q))),M),M.add(this.bracketPairsTree.value.object.onDidChange(q=>this.onDidChangeEmitter.fire(q))),this.onDidChangeEmitter.fire()}}else this.bracketPairsTree.value&&(this.bracketPairsTree.clear(),this.onDidChangeEmitter.fire())}getBracketPairsInRange(M){var q;return this.bracketsRequested=!0,this.updateBracketPairsTree(),(null===(q=this.bracketPairsTree.value)||void 0===q?void 0:q.object.getBracketPairsInRange(M,!1))||f.W$.empty}getBracketPairsInRangeWithMinIndentation(M){var q;return this.bracketsRequested=!0,this.updateBracketPairsTree(),(null===(q=this.bracketPairsTree.value)||void 0===q?void 0:q.object.getBracketPairsInRange(M,!0))||f.W$.empty}getBracketsInRange(M,q=!1){var ce;return this.bracketsRequested=!0,this.updateBracketPairsTree(),(null===(ce=this.bracketPairsTree.value)||void 0===ce?void 0:ce.object.getBracketsInRange(M,q))||f.W$.empty}findMatchingBracketUp(M,q,ce){const Ue=this.textModel.validatePosition(q),$e=this.textModel.getLanguageIdAtPosition(Ue.lineNumber,Ue.column);if(this.canBuildAST){const ct=this.languageConfigurationService.getLanguageConfiguration($e).bracketsNew.getClosingBracketInfo(M);if(!ct)return null;const Et=this.getBracketPairsInRange(u.e.fromPositions(q,q)).findLast(kt=>ct.closes(kt.openingBracketInfo));return Et?Et.openingBracketRange:null}{const ct=M.toLowerCase(),Et=this.languageConfigurationService.getLanguageConfiguration($e).brackets;if(!Et)return null;const kt=Et.textIsBracket[ct];return kt?_(this._findMatchingBracketUp(kt,Ue,te(ce))):null}}matchBracket(M,q){if(this.canBuildAST){const ce=this.getBracketPairsInRange(u.e.fromPositions(M,M)).filter(Ue=>void 0!==Ue.closingBracketRange&&(Ue.openingBracketRange.containsPosition(M)||Ue.closingBracketRange.containsPosition(M))).findLastMaxBy((0,f.tT)(Ue=>Ue.openingBracketRange.containsPosition(M)?Ue.openingBracketRange:Ue.closingBracketRange,u.e.compareRangesUsingStarts));return ce?[ce.openingBracketRange,ce.closingBracketRange]:null}{const ce=te(q);return this._matchBracket(this.textModel.validatePosition(M),ce)}}_establishBracketSearchOffsets(M,q,ce,Ue){const $e=q.getCount(),ct=q.getLanguageId(Ue);let Et=Math.max(0,M.column-1-ce.maxBracketLength);for(let ri=Ue-1;ri>=0;ri--){const hi=q.getEndOffset(ri);if(hi<=Et)break;if((0,l.Bu)(q.getStandardTokenType(ri))||q.getLanguageId(ri)!==ct){Et=hi;break}}let kt=Math.min(q.getLineContent().length,M.column-1+ce.maxBracketLength);for(let ri=Ue+1;ri<$e;ri++){const hi=q.getStartOffset(ri);if(hi>=kt)break;if((0,l.Bu)(q.getStandardTokenType(ri))||q.getLanguageId(ri)!==ct){kt=hi;break}}return{searchStartOffset:Et,searchEndOffset:kt}}_matchBracket(M,q){const ce=M.lineNumber,Ue=this.textModel.tokenization.getLineTokens(ce),$e=this.textModel.getLineContent(ce),ct=Ue.findTokenIndexAtOffset(M.column-1);if(ct<0)return null;const Et=this.languageConfigurationService.getLanguageConfiguration(Ue.getLanguageId(ct)).brackets;if(Et&&!(0,l.Bu)(Ue.getStandardTokenType(ct))){let{searchStartOffset:kt,searchEndOffset:ri}=this._establishBracketSearchOffsets(M,Ue,Et,ct),hi=null;for(;;){const ii=I.Vr.findNextBracketInRange(Et.forwardRegex,ce,$e,kt,ri);if(!ii)break;if(ii.startColumn<=M.column&&M.column<=ii.endColumn){const Si=$e.substring(ii.startColumn-1,ii.endColumn-1).toLowerCase(),Ti=this._matchFoundBracket(ii,Et.textIsBracket[Si],Et.textIsOpenBracket[Si],q);if(Ti){if(Ti instanceof ne)return null;hi=Ti}}kt=ii.endColumn-1}if(hi)return hi}if(ct>0&&Ue.getStartOffset(ct)===M.column-1){const kt=ct-1,ri=this.languageConfigurationService.getLanguageConfiguration(Ue.getLanguageId(kt)).brackets;if(ri&&!(0,l.Bu)(Ue.getStandardTokenType(kt))){const{searchStartOffset:hi,searchEndOffset:ii}=this._establishBracketSearchOffsets(M,Ue,ri,kt),Si=I.Vr.findPrevBracketInRange(ri.reversedRegex,ce,$e,hi,ii);if(Si&&Si.startColumn<=M.column&&M.column<=Si.endColumn){const Ti=$e.substring(Si.startColumn-1,Si.endColumn-1).toLowerCase(),Bi=this._matchFoundBracket(Si,ri.textIsBracket[Ti],ri.textIsOpenBracket[Ti],q);if(Bi)return Bi instanceof ne?null:Bi}}}return null}_matchFoundBracket(M,q,ce,Ue){if(!q)return null;const $e=ce?this._findMatchingBracketDown(q,M.getEndPosition(),Ue):this._findMatchingBracketUp(q,M.getStartPosition(),Ue);return $e?$e instanceof ne?$e:[M,$e]:null}_findMatchingBracketUp(M,q,ce){const Ue=M.languageId,$e=M.reversedRegex;let ct=-1,Et=0;const kt=(ri,hi,ii,Si)=>{for(;;){if(ce&&++Et%100==0&&!ce())return ne.INSTANCE;const Ti=I.Vr.findPrevBracketInRange($e,ri,hi,ii,Si);if(!Ti)break;const Bi=hi.substring(Ti.startColumn-1,Ti.endColumn-1).toLowerCase();if(M.isOpen(Bi)?ct++:M.isClose(Bi)&&ct--,0===ct)return Ti;Si=Ti.startColumn-1}return null};for(let ri=q.lineNumber;ri>=1;ri--){const hi=this.textModel.tokenization.getLineTokens(ri),ii=hi.getCount(),Si=this.textModel.getLineContent(ri);let Ti=ii-1,Bi=Si.length,ji=Si.length;ri===q.lineNumber&&(Ti=hi.findTokenIndexAtOffset(q.column-1),Bi=q.column-1,ji=q.column-1);let Hi=!0;for(;Ti>=0;Ti--){const Cn=hi.getLanguageId(Ti)===Ue&&!(0,l.Bu)(hi.getStandardTokenType(Ti));if(Cn)Hi?Bi=hi.getStartOffset(Ti):(Bi=hi.getStartOffset(Ti),ji=hi.getEndOffset(Ti));else if(Hi&&Bi!==ji){const Ln=kt(ri,Si,Bi,ji);if(Ln)return Ln}Hi=Cn}if(Hi&&Bi!==ji){const Cn=kt(ri,Si,Bi,ji);if(Cn)return Cn}}return null}_findMatchingBracketDown(M,q,ce){const Ue=M.languageId,$e=M.forwardRegex;let ct=1,Et=0;const kt=(hi,ii,Si,Ti)=>{for(;;){if(ce&&++Et%100==0&&!ce())return ne.INSTANCE;const Bi=I.Vr.findNextBracketInRange($e,hi,ii,Si,Ti);if(!Bi)break;const ji=ii.substring(Bi.startColumn-1,Bi.endColumn-1).toLowerCase();if(M.isOpen(ji)?ct++:M.isClose(ji)&&ct--,0===ct)return Bi;Si=Bi.endColumn-1}return null},ri=this.textModel.getLineCount();for(let hi=q.lineNumber;hi<=ri;hi++){const ii=this.textModel.tokenization.getLineTokens(hi),Si=ii.getCount(),Ti=this.textModel.getLineContent(hi);let Bi=0,ji=0,Hi=0;hi===q.lineNumber&&(Bi=ii.findTokenIndexAtOffset(q.column-1),ji=q.column-1,Hi=q.column-1);let Cn=!0;for(;Bi<Si;Bi++){const Ln=ii.getLanguageId(Bi)===Ue&&!(0,l.Bu)(ii.getStandardTokenType(Bi));if(Ln)Cn||(ji=ii.getStartOffset(Bi)),Hi=ii.getEndOffset(Bi);else if(Cn&&ji!==Hi){const kn=kt(hi,Ti,ji,Hi);if(kn)return kn}Cn=Ln}if(Cn&&ji!==Hi){const Ln=kt(hi,Ti,ji,Hi);if(Ln)return Ln}}return null}findPrevBracket(M){var q;const ce=this.textModel.validatePosition(M);if(this.canBuildAST)return this.bracketsRequested=!0,this.updateBracketPairsTree(),(null===(q=this.bracketPairsTree.value)||void 0===q?void 0:q.object.getFirstBracketBefore(ce))||null;let Ue=null,$e=null,ct=null;for(let Et=ce.lineNumber;Et>=1;Et--){const kt=this.textModel.tokenization.getLineTokens(Et),ri=kt.getCount(),hi=this.textModel.getLineContent(Et);let ii=ri-1,Si=hi.length,Ti=hi.length;if(Et===ce.lineNumber){ii=kt.findTokenIndexAtOffset(ce.column-1),Si=ce.column-1,Ti=ce.column-1;const ji=kt.getLanguageId(ii);Ue!==ji&&(Ue=ji,$e=this.languageConfigurationService.getLanguageConfiguration(Ue).brackets,ct=this.languageConfigurationService.getLanguageConfiguration(Ue).bracketsNew)}let Bi=!0;for(;ii>=0;ii--){const ji=kt.getLanguageId(ii);if(Ue!==ji){if($e&&ct&&Bi&&Si!==Ti){const Cn=I.Vr.findPrevBracketInRange($e.reversedRegex,Et,hi,Si,Ti);if(Cn)return this._toFoundBracket(ct,Cn);Bi=!1}Ue=ji,$e=this.languageConfigurationService.getLanguageConfiguration(Ue).brackets,ct=this.languageConfigurationService.getLanguageConfiguration(Ue).bracketsNew}const Hi=!!$e&&!(0,l.Bu)(kt.getStandardTokenType(ii));if(Hi)Bi?Si=kt.getStartOffset(ii):(Si=kt.getStartOffset(ii),Ti=kt.getEndOffset(ii));else if(ct&&$e&&Bi&&Si!==Ti){const Cn=I.Vr.findPrevBracketInRange($e.reversedRegex,Et,hi,Si,Ti);if(Cn)return this._toFoundBracket(ct,Cn)}Bi=Hi}if(ct&&$e&&Bi&&Si!==Ti){const ji=I.Vr.findPrevBracketInRange($e.reversedRegex,Et,hi,Si,Ti);if(ji)return this._toFoundBracket(ct,ji)}}return null}findNextBracket(M){var q;const ce=this.textModel.validatePosition(M);if(this.canBuildAST)return this.bracketsRequested=!0,this.updateBracketPairsTree(),(null===(q=this.bracketPairsTree.value)||void 0===q?void 0:q.object.getFirstBracketAfter(ce))||null;const Ue=this.textModel.getLineCount();let $e=null,ct=null,Et=null;for(let kt=ce.lineNumber;kt<=Ue;kt++){const ri=this.textModel.tokenization.getLineTokens(kt),hi=ri.getCount(),ii=this.textModel.getLineContent(kt);let Si=0,Ti=0,Bi=0;if(kt===ce.lineNumber){Si=ri.findTokenIndexAtOffset(ce.column-1),Ti=ce.column-1,Bi=ce.column-1;const Hi=ri.getLanguageId(Si);$e!==Hi&&($e=Hi,ct=this.languageConfigurationService.getLanguageConfiguration($e).brackets,Et=this.languageConfigurationService.getLanguageConfiguration($e).bracketsNew)}let ji=!0;for(;Si<hi;Si++){const Hi=ri.getLanguageId(Si);if($e!==Hi){if(Et&&ct&&ji&&Ti!==Bi){const Ln=I.Vr.findNextBracketInRange(ct.forwardRegex,kt,ii,Ti,Bi);if(Ln)return this._toFoundBracket(Et,Ln);ji=!1}$e=Hi,ct=this.languageConfigurationService.getLanguageConfiguration($e).brackets,Et=this.languageConfigurationService.getLanguageConfiguration($e).bracketsNew}const Cn=!!ct&&!(0,l.Bu)(ri.getStandardTokenType(Si));if(Cn)ji||(Ti=ri.getStartOffset(Si)),Bi=ri.getEndOffset(Si);else if(Et&&ct&&ji&&Ti!==Bi){const Ln=I.Vr.findNextBracketInRange(ct.forwardRegex,kt,ii,Ti,Bi);if(Ln)return this._toFoundBracket(Et,Ln)}ji=Cn}if(Et&&ct&&ji&&Ti!==Bi){const Hi=I.Vr.findNextBracketInRange(ct.forwardRegex,kt,ii,Ti,Bi);if(Hi)return this._toFoundBracket(Et,Hi)}}return null}findEnclosingBrackets(M,q){const ce=this.textModel.validatePosition(M);if(this.canBuildAST){const Ti=u.e.fromPositions(ce),Bi=this.getBracketPairsInRange(u.e.fromPositions(ce,ce)).findLast(ji=>void 0!==ji.closingBracketRange&&ji.range.strictContainsRange(Ti));return Bi?[Bi.openingBracketRange,Bi.closingBracketRange]:null}const Ue=te(q),$e=this.textModel.getLineCount(),ct=new Map;let Et=[];const kt=(Ti,Bi)=>{if(!ct.has(Ti)){const ji=[];for(let Hi=0,Cn=Bi?Bi.brackets.length:0;Hi<Cn;Hi++)ji[Hi]=0;ct.set(Ti,ji)}Et=ct.get(Ti)};let ri=0;const hi=(Ti,Bi,ji,Hi,Cn)=>{for(;;){if(Ue&&++ri%100==0&&!Ue())return ne.INSTANCE;const Ln=I.Vr.findNextBracketInRange(Ti.forwardRegex,Bi,ji,Hi,Cn);if(!Ln)break;const kn=ji.substring(Ln.startColumn-1,Ln.endColumn-1).toLowerCase(),Kn=Ti.textIsBracket[kn];if(Kn&&(Kn.isOpen(kn)?Et[Kn.index]++:Kn.isClose(kn)&&Et[Kn.index]--,-1===Et[Kn.index]))return this._matchFoundBracket(Ln,Kn,!1,Ue);Hi=Ln.endColumn-1}return null};let ii=null,Si=null;for(let Ti=ce.lineNumber;Ti<=$e;Ti++){const Bi=this.textModel.tokenization.getLineTokens(Ti),ji=Bi.getCount(),Hi=this.textModel.getLineContent(Ti);let Cn=0,Ln=0,kn=0;if(Ti===ce.lineNumber){Cn=Bi.findTokenIndexAtOffset(ce.column-1),Ln=ce.column-1,kn=ce.column-1;const Gt=Bi.getLanguageId(Cn);ii!==Gt&&(ii=Gt,Si=this.languageConfigurationService.getLanguageConfiguration(ii).brackets,kt(ii,Si))}let Kn=!0;for(;Cn<ji;Cn++){const Gt=Bi.getLanguageId(Cn);if(ii!==Gt){if(Si&&Kn&&Ln!==kn){const We=hi(Si,Ti,Hi,Ln,kn);if(We)return _(We);Kn=!1}ii=Gt,Si=this.languageConfigurationService.getLanguageConfiguration(ii).brackets,kt(ii,Si)}const re=!!Si&&!(0,l.Bu)(Bi.getStandardTokenType(Cn));if(re)Kn||(Ln=Bi.getStartOffset(Cn)),kn=Bi.getEndOffset(Cn);else if(Si&&Kn&&Ln!==kn){const We=hi(Si,Ti,Hi,Ln,kn);if(We)return _(We)}Kn=re}if(Si&&Kn&&Ln!==kn){const Gt=hi(Si,Ti,Hi,Ln,kn);if(Gt)return _(Gt)}}return null}_toFoundBracket(M,q){if(!q)return null;let ce=this.textModel.getValueInRange(q);ce=ce.toLowerCase();const Ue=M.getBracketInfo(ce);return Ue?{range:q,bracketInfo:Ue}:null}}function te(Ft){if(typeof Ft>"u")return()=>!0;{const M=Date.now();return()=>Date.now()-M<=Ft}}class ne{constructor(){this._searchCanceledBrand=void 0}}function _(Ft){return Ft instanceof ne?null:Ft}ne.INSTANCE=new ne;var ae=e(2857),ge=e(23527);class _e extends v.JT{constructor(M){super(),this.textModel=M,this.colorProvider=new ue,this.onDidChangeEmitter=new y.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.colorizationOptions=M.getOptions().bracketPairColorizationOptions,this._register(M.bracketPairs.onDidChange(q=>{this.onDidChangeEmitter.fire()}))}handleDidChangeOptions(M){this.colorizationOptions=this.textModel.getOptions().bracketPairColorizationOptions}getDecorationsInRange(M,q,ce,Ue){return Ue||void 0===q?[]:this.colorizationOptions.enabled?this.textModel.bracketPairs.getBracketsInRange(M,!0).map(ct=>({id:`bracket${ct.range.toString()}-${ct.nestingLevel}`,options:{description:"BracketPairColorization",inlineClassName:this.colorProvider.getInlineClassName(ct,this.colorizationOptions.independentColorPoolPerBracketType)},ownerId:0,range:ct.range})).toArray():[]}getAllDecorations(M,q){return void 0===M?[]:this.colorizationOptions.enabled?this.getDecorationsInRange(new u.e(1,1,this.textModel.getLineCount(),1),M,q):[]}}class ue{constructor(){this.unexpectedClosingBracketClassName="unexpected-closing-bracket"}getInlineClassName(M,q){return M.isInvalid?this.unexpectedClosingBracketClassName:this.getInlineClassNameOfLevel(q?M.nestingLevelOfEqualBracketType:M.nestingLevel)}getInlineClassNameOfLevel(M){return"bracket-highlighting-"+M%30}}(0,ge.Ic)((Ft,M)=>{const q=[ae.zJ,ae.Vs,ae.CE,ae.UP,ae.r0,ae.m1],ce=new ue;M.addRule(`.monaco-editor .${ce.unexpectedClosingBracketClassName} { color: ${Ft.getColor(ae.ts)}; }`);const Ue=q.map($e=>Ft.getColor($e)).filter($e=>!!$e).filter($e=>!$e.isTransparent());for(let $e=0;$e<30;$e++){const ct=Ue[$e%Ue.length];M.addRule(`.monaco-editor .${ce.getInlineClassNameOfLevel($e)} { color: ${ct}; }`)}});var ve=e(77545),Ie=e(42714);class Se{constructor(){this.spacesDiff=0,this.looksLikeAlignment=!1}}function Ve(Ft,M,q,ce,Ue){let $e;for(Ue.spacesDiff=0,Ue.looksLikeAlignment=!1,$e=0;$e<M&&$e<ce&&Ft.charCodeAt($e)===q.charCodeAt($e);$e++);let ct=0,Et=0;for(let Si=$e;Si<M;Si++)32===Ft.charCodeAt(Si)?ct++:Et++;let kt=0,ri=0;for(let Si=$e;Si<ce;Si++)32===q.charCodeAt(Si)?kt++:ri++;if(ct>0&&Et>0||kt>0&&ri>0)return;const hi=Math.abs(Et-ri),ii=Math.abs(ct-kt);if(0===hi)return Ue.spacesDiff=ii,void(ii>0&&0<=kt-1&&kt-1<Ft.length&&kt<q.length&&32!==q.charCodeAt(kt)&&32===Ft.charCodeAt(kt-1)&&44===Ft.charCodeAt(Ft.length-1)&&(Ue.looksLikeAlignment=!0));ii%hi!=0||(Ue.spacesDiff=ii/hi)}function De(Ft,M,q){const ce=Math.min(Ft.getLineCount(),1e4);let Ue=0,$e=0,ct="",Et=0;const kt=[2,4,6,8,3,5,7],hi=[0,0,0,0,0,0,0,0,0],ii=new Se;for(let Bi=1;Bi<=ce;Bi++){const ji=Ft.getLineLength(Bi),Hi=Ft.getLineContent(Bi),Cn=ji<=65536;let Ln=!1,kn=0,Kn=0,Gt=0;for(let We=0,rt=ji;We<rt;We++){const Pt=Cn?Hi.charCodeAt(We):Ft.getLineCharCode(Bi,We);if(9===Pt)Gt++;else{if(32!==Pt){Ln=!0,kn=We;break}Kn++}}if(!Ln||(Gt>0?Ue++:Kn>1&&$e++,Ve(ct,Et,Hi,kn,ii),ii.looksLikeAlignment&&(!q||M!==ii.spacesDiff)))continue;const re=ii.spacesDiff;re<=8&&hi[re]++,ct=Hi,Et=kn}let Si=q;Ue!==$e&&(Si=Ue<$e);let Ti=M;if(Si){let Bi=Si?0:.1*ce;kt.forEach(ji=>{const Hi=hi[ji];Hi>Bi&&(Bi=Hi,Ti=ji)}),4===Ti&&hi[4]>0&&hi[2]>0&&hi[2]>=hi[4]/2&&(Ti=2)}return{insertSpaces:Si,tabSize:Ti}}function ye(Ft){return(1&Ft.metadata)>>>0}function oe(Ft,M){Ft.metadata=254&Ft.metadata|M<<0}function Y(Ft){return(2&Ft.metadata)>>>1==1}function x(Ft,M){Ft.metadata=253&Ft.metadata|(M?1:0)<<1}function F(Ft){return(4&Ft.metadata)>>>2==1}function ie(Ft,M){Ft.metadata=251&Ft.metadata|(M?1:0)<<2}function Ce(Ft){return(64&Ft.metadata)>>>6==1}function ke(Ft,M){Ft.metadata=191&Ft.metadata|(M?1:0)<<6}function xe(Ft,M){Ft.metadata=231&Ft.metadata|M<<3}function be(Ft,M){Ft.metadata=223&Ft.metadata|(M?1:0)<<5}class pe{constructor(M,q,ce){this.metadata=0,this.parent=this,this.left=this,this.right=this,oe(this,1),this.start=q,this.end=ce,this.delta=0,this.maxEnd=ce,this.id=M,this.ownerId=0,this.options=null,ie(this,!1),ke(this,!1),xe(this,1),be(this,!1),this.cachedVersionId=0,this.cachedAbsoluteStart=q,this.cachedAbsoluteEnd=ce,this.range=null,x(this,!1)}reset(M,q,ce,Ue){this.start=q,this.end=ce,this.maxEnd=ce,this.cachedVersionId=M,this.cachedAbsoluteStart=q,this.cachedAbsoluteEnd=ce,this.range=Ue}setOptions(M){this.options=M;const q=this.options.className;ie(this,"squiggly-error"===q||"squiggly-warning"===q||"squiggly-info"===q),ke(this,null!==this.options.glyphMarginClassName),xe(this,this.options.stickiness),be(this,this.options.collapseOnReplaceEdit)}setCachedOffsets(M,q,ce){this.cachedVersionId!==ce&&(this.range=null),this.cachedVersionId=ce,this.cachedAbsoluteStart=M,this.cachedAbsoluteEnd=q}detach(){this.parent=null,this.left=null,this.right=null}}const Q=new pe(null,0,0);Q.parent=Q,Q.left=Q,Q.right=Q,oe(Q,0);class le{constructor(){this.root=Q,this.requestNormalizeDelta=!1}intervalSearch(M,q,ce,Ue,$e,ct){return this.root===Q?[]:function Tt(Ft,M,q,ce,Ue,$e,ct){let Et=Ft.root,kt=0,ri=0,hi=0,ii=0;const Si=[];let Ti=0;for(;Et!==Q;)if(Y(Et))x(Et.left,!1),x(Et.right,!1),Et===Et.parent.right&&(kt-=Et.parent.delta),Et=Et.parent;else{if(!Y(Et.left)){if(ri=kt+Et.maxEnd,ri<M){x(Et,!0);continue}if(Et.left!==Q){Et=Et.left;continue}}if(hi=kt+Et.start,hi>q)x(Et,!0);else{if(ii=kt+Et.end,ii>=M){Et.setCachedOffsets(hi,ii,$e);let Bi=!0;ce&&Et.ownerId&&Et.ownerId!==ce&&(Bi=!1),Ue&&F(Et)&&(Bi=!1),ct&&!Ce(Et)&&(Bi=!1),Bi&&(Si[Ti++]=Et)}x(Et,!0),Et.right===Q||Y(Et.right)||(kt+=Et.delta,Et=Et.right)}}return x(Ft.root,!1),Si}(this,M,q,ce,Ue,$e,ct)}search(M,q,ce,Ue){return this.root===Q?[]:function Lt(Ft,M,q,ce,Ue){let $e=Ft.root,ct=0,Et=0,kt=0;const ri=[];let hi=0;for(;$e!==Q;){if(Y($e)){x($e.left,!1),x($e.right,!1),$e===$e.parent.right&&(ct-=$e.parent.delta),$e=$e.parent;continue}if($e.left!==Q&&!Y($e.left)){$e=$e.left;continue}Et=ct+$e.start,kt=ct+$e.end,$e.setCachedOffsets(Et,kt,ce);let ii=!0;M&&$e.ownerId&&$e.ownerId!==M&&(ii=!1),q&&F($e)&&(ii=!1),Ue&&!Ce($e)&&(ii=!1),ii&&(ri[hi++]=$e),x($e,!0),$e.right===Q||Y($e.right)||(ct+=$e.delta,$e=$e.right)}return x(Ft.root,!1),ri}(this,M,q,ce,Ue)}collectNodesFromOwner(M){return function mt(Ft,M){let q=Ft.root;const ce=[];let Ue=0;for(;q!==Q;)Y(q)?(x(q.left,!1),x(q.right,!1),q=q.parent):q.left===Q||Y(q.left)?(q.ownerId===M&&(ce[Ue++]=q),x(q,!0),q.right===Q||Y(q.right)||(q=q.right)):q=q.left;return x(Ft.root,!1),ce}(this,M)}collectNodesPostOrder(){return function ft(Ft){let M=Ft.root;const q=[];let ce=0;for(;M!==Q;)Y(M)?(x(M.left,!1),x(M.right,!1),M=M.parent):M.left===Q||Y(M.left)?M.right===Q||Y(M.right)?(q[ce++]=M,x(M,!0)):M=M.right:M=M.left;return x(Ft.root,!1),q}(this)}insert(M){Mt(this,M),this._normalizeDeltaIfNecessary()}delete(M){At(this,M),this._normalizeDeltaIfNecessary()}resolveNode(M,q){const ce=M;let Ue=0;for(;M!==this.root;)M===M.parent.right&&(Ue+=M.parent.delta),M=M.parent;ce.setCachedOffsets(ce.start+Ue,ce.end+Ue,q)}acceptReplace(M,q,ce,Ue){const $e=function ot(Ft,M,q){let ce=Ft.root,Ue=0,$e=0,ct=0,Et=0;const kt=[];let ri=0;for(;ce!==Q;)if(Y(ce))x(ce.left,!1),x(ce.right,!1),ce===ce.parent.right&&(Ue-=ce.parent.delta),ce=ce.parent;else{if(!Y(ce.left)){if($e=Ue+ce.maxEnd,$e<M){x(ce,!0);continue}if(ce.left!==Q){ce=ce.left;continue}}ct=Ue+ce.start,ct>q?x(ce,!0):(Et=Ue+ce.end,Et>=M&&(ce.setCachedOffsets(ct,Et,0),kt[ri++]=ce),x(ce,!0),ce.right===Q||Y(ce.right)||(Ue+=ce.delta,ce=ce.right))}return x(Ft.root,!1),kt}(this,M,M+q);for(let ct=0,Et=$e.length;ct<Et;ct++)At(this,$e[ct]);this._normalizeDeltaIfNecessary(),function lt(Ft,M,q,ce){let Ue=Ft.root,$e=0,ct=0,Et=0;const kt=ce-(q-M);for(;Ue!==Q;)if(Y(Ue))x(Ue.left,!1),x(Ue.right,!1),Ue===Ue.parent.right&&($e-=Ue.parent.delta),Te(Ue),Ue=Ue.parent;else{if(!Y(Ue.left)){if(ct=$e+Ue.maxEnd,ct<M){x(Ue,!0);continue}if(Ue.left!==Q){Ue=Ue.left;continue}}Et=$e+Ue.start,Et>q?(Ue.start+=kt,Ue.end+=kt,Ue.delta+=kt,(Ue.delta<-1073741824||Ue.delta>1073741824)&&(Ft.requestNormalizeDelta=!0),x(Ue,!0)):(x(Ue,!0),Ue.right===Q||Y(Ue.right)||($e+=Ue.delta,Ue=Ue.right))}x(Ft.root,!1)}(this,M,M+q,ce),this._normalizeDeltaIfNecessary();for(let ct=0,Et=$e.length;ct<Et;ct++){const kt=$e[ct];kt.start=kt.cachedAbsoluteStart,kt.end=kt.cachedAbsoluteEnd,Je(kt,M,M+q,ce,Ue),kt.maxEnd=kt.end,Mt(this,kt)}this._normalizeDeltaIfNecessary()}_normalizeDeltaIfNecessary(){this.requestNormalizeDelta&&(this.requestNormalizeDelta=!1,function Fe(Ft){let M=Ft.root,q=0;for(;M!==Q;)M.left===Q||Y(M.left)?M.right===Q||Y(M.right)?(M.start=q+M.start,M.end=q+M.end,M.delta=0,Te(M),x(M,!0),x(M.left,!1),x(M.right,!1),M===M.parent.right&&(q-=M.parent.delta),M=M.parent):(q+=M.delta,M=M.right):M=M.left;x(Ft.root,!1)}(this))}}function He(Ft,M,q,ce){return Ft<q||!(Ft>q||1===ce)&&(2===ce||M)}function Je(Ft,M,q,ce,Ue){const $e=function Pe(Ft){return(24&Ft.metadata)>>>3}(Ft),ct=0===$e||2===$e,Et=1===$e||2===$e,kt=q-M,ri=ce,hi=Math.min(kt,ri),ii=Ft.start;let Si=!1;const Ti=Ft.end;let Bi=!1;M<=ii&&Ti<=q&&function fe(Ft){return(32&Ft.metadata)>>>5==1}(Ft)&&(Ft.start=M,Si=!0,Ft.end=M,Bi=!0);{const Hi=Ue?1:kt>0?2:0;!Si&&He(ii,ct,M,Hi)&&(Si=!0),!Bi&&He(Ti,Et,M,Hi)&&(Bi=!0)}if(hi>0&&!Ue){const Hi=kt>ri?2:0;!Si&&He(ii,ct,M+hi,Hi)&&(Si=!0),!Bi&&He(Ti,Et,M+hi,Hi)&&(Bi=!0)}{const Hi=Ue?1:0;!Si&&He(ii,ct,q,Hi)&&(Ft.start=M+ri,Si=!0),!Bi&&He(Ti,Et,q,Hi)&&(Ft.end=M+ri,Bi=!0)}const ji=ri-kt;Si||(Ft.start=Math.max(0,ii+ji)),Bi||(Ft.end=Math.max(0,Ti+ji)),Ft.start>Ft.end&&(Ft.end=Ft.start)}function Mt(Ft,M){if(Ft.root===Q)return M.parent=Q,M.left=Q,M.right=Q,oe(M,0),Ft.root=M,Ft.root;(function Ut(Ft,M){let q=0,ce=Ft.root;const Ue=M.start,$e=M.end;for(;;)if(ht(Ue,$e,ce.start+q,ce.end+q)<0){if(ce.left===Q){M.start-=q,M.end-=q,M.maxEnd-=q,ce.left=M;break}ce=ce.left}else{if(ce.right===Q){M.start-=q+ce.delta,M.end-=q+ce.delta,M.maxEnd-=q+ce.delta,ce.right=M;break}q+=ce.delta,ce=ce.right}M.parent=ce,M.left=Q,M.right=Q,oe(M,1)})(Ft,M),Ae(M.parent);let q=M;for(;q!==Ft.root&&1===ye(q.parent);)if(q.parent===q.parent.parent.left){const ce=q.parent.parent.right;1===ye(ce)?(oe(q.parent,0),oe(ce,0),oe(q.parent.parent,1),q=q.parent.parent):(q===q.parent.right&&(q=q.parent,qe(Ft,q)),oe(q.parent,0),oe(q.parent.parent,1),Ze(Ft,q.parent.parent))}else{const ce=q.parent.parent.left;1===ye(ce)?(oe(q.parent,0),oe(ce,0),oe(q.parent.parent,1),q=q.parent.parent):(q===q.parent.left&&(q=q.parent,Ze(Ft,q)),oe(q.parent,0),oe(q.parent.parent,1),qe(Ft,q.parent.parent))}return oe(Ft.root,0),M}function At(Ft,M){let q,ce;if(M.left===Q?(q=M.right,ce=M,q.delta+=M.delta,(q.delta<-1073741824||q.delta>1073741824)&&(Ft.requestNormalizeDelta=!0),q.start+=M.delta,q.end+=M.delta):M.right===Q?(q=M.left,ce=M):(ce=function It(Ft){for(;Ft.left!==Q;)Ft=Ft.left;return Ft}(M.right),q=ce.right,q.start+=ce.delta,q.end+=ce.delta,q.delta+=ce.delta,(q.delta<-1073741824||q.delta>1073741824)&&(Ft.requestNormalizeDelta=!0),ce.start+=M.delta,ce.end+=M.delta,ce.delta=M.delta,(ce.delta<-1073741824||ce.delta>1073741824)&&(Ft.requestNormalizeDelta=!0)),ce===Ft.root)return Ft.root=q,oe(q,0),M.detach(),it(),Te(q),void(Ft.root.parent=Q);const Ue=1===ye(ce);if(ce===ce.parent.left?ce.parent.left=q:ce.parent.right=q,ce===M?q.parent=ce.parent:(q.parent=ce.parent===M?ce:ce.parent,ce.left=M.left,ce.right=M.right,ce.parent=M.parent,oe(ce,ye(M)),M===Ft.root?Ft.root=ce:M===M.parent.left?M.parent.left=ce:M.parent.right=ce,ce.left!==Q&&(ce.left.parent=ce),ce.right!==Q&&(ce.right.parent=ce)),M.detach(),Ue)return Ae(q.parent),ce!==M&&(Ae(ce),Ae(ce.parent)),void it();let $e;for(Ae(q),Ae(q.parent),ce!==M&&(Ae(ce),Ae(ce.parent));q!==Ft.root&&0===ye(q);)q===q.parent.left?($e=q.parent.right,1===ye($e)&&(oe($e,0),oe(q.parent,1),qe(Ft,q.parent),$e=q.parent.right),0===ye($e.left)&&0===ye($e.right)?(oe($e,1),q=q.parent):(0===ye($e.right)&&(oe($e.left,0),oe($e,1),Ze(Ft,$e),$e=q.parent.right),oe($e,ye(q.parent)),oe(q.parent,0),oe($e.right,0),qe(Ft,q.parent),q=Ft.root)):($e=q.parent.left,1===ye($e)&&(oe($e,0),oe(q.parent,1),Ze(Ft,q.parent),$e=q.parent.left),0===ye($e.left)&&0===ye($e.right)?(oe($e,1),q=q.parent):(0===ye($e.left)&&(oe($e.right,0),oe($e,1),qe(Ft,$e),$e=q.parent.left),oe($e,ye(q.parent)),oe(q.parent,0),oe($e.left,0),Ze(Ft,q.parent),q=Ft.root));oe(q,0),it()}function it(){Q.parent=Q,Q.delta=0,Q.start=0,Q.end=0}function qe(Ft,M){const q=M.right;q.delta+=M.delta,(q.delta<-1073741824||q.delta>1073741824)&&(Ft.requestNormalizeDelta=!0),q.start+=M.delta,q.end+=M.delta,M.right=q.left,q.left!==Q&&(q.left.parent=M),q.parent=M.parent,M.parent===Q?Ft.root=q:M===M.parent.left?M.parent.left=q:M.parent.right=q,q.left=M,M.parent=q,Te(M),Te(q)}function Ze(Ft,M){const q=M.left;M.delta-=q.delta,(M.delta<-1073741824||M.delta>1073741824)&&(Ft.requestNormalizeDelta=!0),M.start-=q.delta,M.end-=q.delta,M.left=q.right,q.right!==Q&&(q.right.parent=M),q.parent=M.parent,M.parent===Q?Ft.root=q:M===M.parent.right?M.parent.right=q:M.parent.left=q,q.right=M,M.parent=q,Te(M),Te(q)}function Ee(Ft){let M=Ft.end;if(Ft.left!==Q){const q=Ft.left.maxEnd;q>M&&(M=q)}if(Ft.right!==Q){const q=Ft.right.maxEnd+Ft.delta;q>M&&(M=q)}return M}function Te(Ft){Ft.maxEnd=Ee(Ft)}function Ae(Ft){for(;Ft!==Q;){const M=Ee(Ft);if(Ft.maxEnd===M)return;Ft.maxEnd=M,Ft=Ft.parent}}function ht(Ft,M,q,ce){return Ft===q?M-ce:Ft-q}class yt{constructor(M,q){this.piece=M,this.color=q,this.size_left=0,this.lf_left=0,this.parent=this,this.left=this,this.right=this}next(){if(this.right!==Dt)return Ot(this.right);let M=this;for(;M.parent!==Dt&&M.parent.left!==M;)M=M.parent;return M.parent===Dt?Dt:M.parent}prev(){if(this.left!==Dt)return gt(this.left);let M=this;for(;M.parent!==Dt&&M.parent.right!==M;)M=M.parent;return M.parent===Dt?Dt:M.parent}detach(){this.parent=null,this.left=null,this.right=null}}const Dt=new yt(null,0);function Ot(Ft){for(;Ft.left!==Dt;)Ft=Ft.left;return Ft}function gt(Ft){for(;Ft.right!==Dt;)Ft=Ft.right;return Ft}function Rt(Ft){return Ft===Dt?0:Ft.size_left+Ft.piece.length+Rt(Ft.right)}function Zt(Ft){return Ft===Dt?0:Ft.lf_left+Ft.piece.lineFeedCnt+Zt(Ft.right)}function Ci(){Dt.parent=Dt}function ci(Ft,M){const q=M.right;q.size_left+=M.size_left+(M.piece?M.piece.length:0),q.lf_left+=M.lf_left+(M.piece?M.piece.lineFeedCnt:0),M.right=q.left,q.left!==Dt&&(q.left.parent=M),q.parent=M.parent,M.parent===Dt?Ft.root=q:M.parent.left===M?M.parent.left=q:M.parent.right=q,q.left=M,M.parent=q}function Mi(Ft,M){const q=M.left;M.left=q.right,q.right!==Dt&&(q.right.parent=M),q.parent=M.parent,M.size_left-=q.size_left+(q.piece?q.piece.length:0),M.lf_left-=q.lf_left+(q.piece?q.piece.lineFeedCnt:0),M.parent===Dt?Ft.root=q:M===M.parent.right?M.parent.right=q:M.parent.left=q,q.right=M,M.parent=q}function Gi(Ft,M){let q,ce;if(M.left===Dt?(ce=M,q=ce.right):M.right===Dt?(ce=M,q=ce.left):(ce=Ot(M.right),q=ce.right),ce===Ft.root)return Ft.root=q,q.color=0,M.detach(),Ci(),void(Ft.root.parent=Dt);const Ue=1===ce.color;if(ce===ce.parent.left?ce.parent.left=q:ce.parent.right=q,ce===M?(q.parent=ce.parent,st(Ft,q)):(q.parent=ce.parent===M?ce:ce.parent,st(Ft,q),ce.left=M.left,ce.right=M.right,ce.parent=M.parent,ce.color=M.color,M===Ft.root?Ft.root=ce:M===M.parent.left?M.parent.left=ce:M.parent.right=ce,ce.left!==Dt&&(ce.left.parent=ce),ce.right!==Dt&&(ce.right.parent=ce),ce.size_left=M.size_left,ce.lf_left=M.lf_left,st(Ft,ce)),M.detach(),q.parent.left===q){const ct=Rt(q),Et=Zt(q);if(ct!==q.parent.size_left||Et!==q.parent.lf_left){const kt=ct-q.parent.size_left,ri=Et-q.parent.lf_left;q.parent.size_left=ct,q.parent.lf_left=Et,St(Ft,q.parent,kt,ri)}}if(st(Ft,q.parent),Ue)return void Ci();let $e;for(;q!==Ft.root&&0===q.color;)q===q.parent.left?($e=q.parent.right,1===$e.color&&($e.color=0,q.parent.color=1,ci(Ft,q.parent),$e=q.parent.right),0===$e.left.color&&0===$e.right.color?($e.color=1,q=q.parent):(0===$e.right.color&&($e.left.color=0,$e.color=1,Mi(Ft,$e),$e=q.parent.right),$e.color=q.parent.color,q.parent.color=0,$e.right.color=0,ci(Ft,q.parent),q=Ft.root)):($e=q.parent.left,1===$e.color&&($e.color=0,q.parent.color=1,Mi(Ft,q.parent),$e=q.parent.left),0===$e.left.color&&0===$e.right.color?($e.color=1,q=q.parent):(0===$e.left.color&&($e.right.color=0,$e.color=1,ci(Ft,$e),$e=q.parent.left),$e.color=q.parent.color,q.parent.color=0,$e.left.color=0,Mi(Ft,q.parent),q=Ft.root));q.color=0,Ci()}function Zi(Ft,M){for(st(Ft,M);M!==Ft.root&&1===M.parent.color;)if(M.parent===M.parent.parent.left){const q=M.parent.parent.right;1===q.color?(M.parent.color=0,q.color=0,M.parent.parent.color=1,M=M.parent.parent):(M===M.parent.right&&ci(Ft,M=M.parent),M.parent.color=0,M.parent.parent.color=1,Mi(Ft,M.parent.parent))}else{const q=M.parent.parent.left;1===q.color?(M.parent.color=0,q.color=0,M.parent.parent.color=1,M=M.parent.parent):(M===M.parent.left&&Mi(Ft,M=M.parent),M.parent.color=0,M.parent.parent.color=1,ci(Ft,M.parent.parent))}Ft.root.color=0}function St(Ft,M,q,ce){for(;M!==Ft.root&&M!==Dt;)M.parent.left===M&&(M.parent.size_left+=q,M.parent.lf_left+=ce),M=M.parent}function st(Ft,M){let q=0,ce=0;if(M!==Ft.root){for(;M!==Ft.root&&M===M.parent.right;)M=M.parent;if(M!==Ft.root)for(q=Rt((M=M.parent).left)-M.size_left,ce=Zt(M.left)-M.lf_left,M.size_left+=q,M.lf_left+=ce;M!==Ft.root&&(0!==q||0!==ce);)M.parent.left===M&&(M.parent.size_left+=q,M.parent.lf_left+=ce),M=M.parent}}Dt.parent=Dt,Dt.left=Dt,Dt.right=Dt,Dt.color=0;var ut=e(54187);const pt=65535;function Ne(Ft){let M;return M=Ft[Ft.length-1]<65536?new Uint16Array(Ft.length):new Uint32Array(Ft.length),M.set(Ft,0),M}class je{constructor(M,q,ce,Ue,$e){this.lineStarts=M,this.cr=q,this.lf=ce,this.crlf=Ue,this.isBasicASCII=$e}}function et(Ft,M=!0){const q=[0];let ce=1;for(let Ue=0,$e=Ft.length;Ue<$e;Ue++){const ct=Ft.charCodeAt(Ue);13===ct?Ue+1<$e&&10===Ft.charCodeAt(Ue+1)?(q[ce++]=Ue+2,Ue++):q[ce++]=Ue+1:10===ct&&(q[ce++]=Ue+1)}return M?Ne(q):q}class Bt{constructor(M,q,ce,Ue,$e){this.bufferIndex=M,this.start=q,this.end=ce,this.lineFeedCnt=Ue,this.length=$e}}class xt{constructor(M,q){this.buffer=M,this.lineStarts=q}}class Qt{constructor(M,q){this._pieces=[],this._tree=M,this._BOM=q,this._index=0,M.root!==Dt&&M.iterate(M.root,ce=>(ce!==Dt&&this._pieces.push(ce.piece),!0))}read(){return 0===this._pieces.length?0===this._index?(this._index++,this._BOM):null:this._index>this._pieces.length-1?null:0===this._index?this._BOM+this._tree.getPieceContent(this._pieces[this._index++]):this._tree.getPieceContent(this._pieces[this._index++])}}class ai{constructor(M){this._limit=M,this._cache=[]}get(M){for(let q=this._cache.length-1;q>=0;q--){const ce=this._cache[q];if(ce.nodeStartOffset<=M&&ce.nodeStartOffset+ce.node.piece.length>=M)return ce}return null}get2(M){for(let q=this._cache.length-1;q>=0;q--){const ce=this._cache[q];if(ce.nodeStartLineNumber&&ce.nodeStartLineNumber<M&&ce.nodeStartLineNumber+ce.node.piece.lineFeedCnt>=M)return ce}return null}set(M){this._cache.length>=this._limit&&this._cache.shift(),this._cache.push(M)}validate(M){let q=!1;const ce=this._cache;for(let Ue=0;Ue<ce.length;Ue++){const $e=ce[Ue];(null===$e.node.parent||$e.nodeStartOffset>=M)&&(ce[Ue]=null,q=!0)}if(q){const Ue=[];for(const $e of ce)null!==$e&&Ue.push($e);this._cache=Ue}}}class gi{constructor(M,q,ce){this.create(M,q,ce)}create(M,q,ce){this._buffers=[new xt("",[0])],this._lastChangeBufferPos={line:0,column:0},this.root=Dt,this._lineCnt=1,this._length=0,this._EOL=q,this._EOLLength=q.length,this._EOLNormalized=ce;let Ue=null;for(let $e=0,ct=M.length;$e<ct;$e++)if(M[$e].buffer.length>0){M[$e].lineStarts||(M[$e].lineStarts=et(M[$e].buffer));const Et=new Bt($e+1,{line:0,column:0},{line:M[$e].lineStarts.length-1,column:M[$e].buffer.length-M[$e].lineStarts[M[$e].lineStarts.length-1]},M[$e].lineStarts.length-1,M[$e].buffer.length);this._buffers.push(M[$e]),Ue=this.rbInsertRight(Ue,Et)}this._searchCache=new ai(1),this._lastVisitedLine={lineNumber:0,value:""},this.computeBufferMetadata()}normalizeEOL(M){const ce=65535-Math.floor(21845),Ue=2*ce;let $e="",ct=0;const Et=[];if(this.iterate(this.root,kt=>{const ri=this.getNodeContent(kt),hi=ri.length;if(ct<=ce||ct+hi<Ue)return $e+=ri,ct+=hi,!0;const ii=$e.replace(/\r\n|\r|\n/g,M);return Et.push(new xt(ii,et(ii))),$e=ri,ct=hi,!0}),ct>0){const kt=$e.replace(/\r\n|\r|\n/g,M);Et.push(new xt(kt,et(kt)))}this.create(Et,M,!0)}getEOL(){return this._EOL}setEOL(M){this._EOL=M,this._EOLLength=this._EOL.length,this.normalizeEOL(M)}createSnapshot(M){return new Qt(this,M)}getOffsetAt(M,q){let ce=0,Ue=this.root;for(;Ue!==Dt;)if(Ue.left!==Dt&&Ue.lf_left+1>=M)Ue=Ue.left;else{if(Ue.lf_left+Ue.piece.lineFeedCnt+1>=M)return ce+=Ue.size_left,ce+(this.getAccumulatedValue(Ue,M-Ue.lf_left-2)+q-1);M-=Ue.lf_left+Ue.piece.lineFeedCnt,ce+=Ue.size_left+Ue.piece.length,Ue=Ue.right}return ce}getPositionAt(M){M=Math.floor(M),M=Math.max(0,M);let q=this.root,ce=0;const Ue=M;for(;q!==Dt;)if(0!==q.size_left&&q.size_left>=M)q=q.left;else{if(q.size_left+q.piece.length>=M){const $e=this.getIndexOf(q,M-q.size_left);if(ce+=q.lf_left+$e.index,0===$e.index){const ct=this.getOffsetAt(ce+1,1);return new c.L(ce+1,Ue-ct+1)}return new c.L(ce+1,$e.remainder+1)}if(M-=q.size_left+q.piece.length,ce+=q.lf_left+q.piece.lineFeedCnt,q.right===Dt){const $e=this.getOffsetAt(ce+1,1);return new c.L(ce+1,Ue-M-$e+1)}q=q.right}return new c.L(1,1)}getValueInRange(M,q){if(M.startLineNumber===M.endLineNumber&&M.startColumn===M.endColumn)return"";const ce=this.nodeAt2(M.startLineNumber,M.startColumn),Ue=this.nodeAt2(M.endLineNumber,M.endColumn),$e=this.getValueInRange2(ce,Ue);return q?q===this._EOL&&this._EOLNormalized&&q===this.getEOL()&&this._EOLNormalized?$e:$e.replace(/\r\n|\r|\n/g,q):$e}getValueInRange2(M,q){if(M.node===q.node){const Et=M.node,kt=this._buffers[Et.piece.bufferIndex].buffer,ri=this.offsetInBuffer(Et.piece.bufferIndex,Et.piece.start);return kt.substring(ri+M.remainder,ri+q.remainder)}let ce=M.node;const Ue=this._buffers[ce.piece.bufferIndex].buffer,$e=this.offsetInBuffer(ce.piece.bufferIndex,ce.piece.start);let ct=Ue.substring($e+M.remainder,$e+ce.piece.length);for(ce=ce.next();ce!==Dt;){const Et=this._buffers[ce.piece.bufferIndex].buffer,kt=this.offsetInBuffer(ce.piece.bufferIndex,ce.piece.start);if(ce===q.node){ct+=Et.substring(kt,kt+q.remainder);break}ct+=Et.substr(kt,ce.piece.length),ce=ce.next()}return ct}getLinesContent(){const M=[];let q=0,ce="",Ue=!1;return this.iterate(this.root,$e=>{if($e===Dt)return!0;const ct=$e.piece;let Et=ct.length;if(0===Et)return!0;const kt=this._buffers[ct.bufferIndex].buffer,ri=this._buffers[ct.bufferIndex].lineStarts,hi=ct.start.line,ii=ct.end.line;let Si=ri[hi]+ct.start.column;if(Ue&&(10===kt.charCodeAt(Si)&&(Si++,Et--),M[q++]=ce,ce="",Ue=!1,0===Et))return!0;if(hi===ii)return this._EOLNormalized||13!==kt.charCodeAt(Si+Et-1)?ce+=kt.substr(Si,Et):(Ue=!0,ce+=kt.substr(Si,Et-1)),!0;ce+=this._EOLNormalized?kt.substring(Si,Math.max(Si,ri[hi+1]-this._EOLLength)):kt.substring(Si,ri[hi+1]).replace(/(\r\n|\r|\n)$/,""),M[q++]=ce;for(let Ti=hi+1;Ti<ii;Ti++)ce=this._EOLNormalized?kt.substring(ri[Ti],ri[Ti+1]-this._EOLLength):kt.substring(ri[Ti],ri[Ti+1]).replace(/(\r\n|\r|\n)$/,""),M[q++]=ce;return this._EOLNormalized||13!==kt.charCodeAt(ri[ii]+ct.end.column-1)?ce=kt.substr(ri[ii],ct.end.column):(Ue=!0,0===ct.end.column?q--:ce=kt.substr(ri[ii],ct.end.column-1)),!0}),Ue&&(M[q++]=ce,ce=""),M[q++]=ce,M}getLength(){return this._length}getLineCount(){return this._lineCnt}getLineContent(M){return this._lastVisitedLine.lineNumber===M||(this._lastVisitedLine.lineNumber=M,this._lastVisitedLine.value=M===this._lineCnt?this.getLineRawContent(M):this._EOLNormalized?this.getLineRawContent(M,this._EOLLength):this.getLineRawContent(M).replace(/(\r\n|\r|\n)$/,"")),this._lastVisitedLine.value}_getCharCode(M){if(M.remainder===M.node.piece.length){const q=M.node.next();if(!q)return 0;const ce=this._buffers[q.piece.bufferIndex],Ue=this.offsetInBuffer(q.piece.bufferIndex,q.piece.start);return ce.buffer.charCodeAt(Ue)}{const q=this._buffers[M.node.piece.bufferIndex],Ue=this.offsetInBuffer(M.node.piece.bufferIndex,M.node.piece.start)+M.remainder;return q.buffer.charCodeAt(Ue)}}getLineCharCode(M,q){const ce=this.nodeAt2(M,q+1);return this._getCharCode(ce)}getLineLength(M){if(M===this.getLineCount()){const q=this.getOffsetAt(M,1);return this.getLength()-q}return this.getOffsetAt(M+1,1)-this.getOffsetAt(M,1)-this._EOLLength}findMatchesInNode(M,q,ce,Ue,$e,ct,Et,kt,ri,hi,ii){const Si=this._buffers[M.piece.bufferIndex],Ti=this.offsetInBuffer(M.piece.bufferIndex,M.piece.start),Bi=this.offsetInBuffer(M.piece.bufferIndex,$e),ji=this.offsetInBuffer(M.piece.bufferIndex,ct);let Hi;const Cn={line:0,column:0};let Ln,kn;q._wordSeparators?(Ln=Si.buffer.substring(Bi,ji),kn=Kn=>Kn+Bi,q.reset(0)):(Ln=Si.buffer,kn=Kn=>Kn,q.reset(Bi));do{if(Hi=q.next(Ln),Hi){if(kn(Hi.index)>=ji)return hi;this.positionInBuffer(M,kn(Hi.index)-Ti,Cn);const Kn=this.getLineFeedCnt(M.piece.bufferIndex,$e,Cn),Gt=Cn.line===$e.line?Cn.column-$e.column+Ue:Cn.column+1;if(ii[hi++]=(0,ut.iE)(new u.e(ce+Kn,Gt,ce+Kn,Gt+Hi[0].length),Hi,kt),kn(Hi.index)+Hi[0].length>=ji||hi>=ri)return hi}}while(Hi);return hi}findMatchesLineByLine(M,q,ce,Ue){const $e=[];let ct=0;const Et=new ut.sz(q.wordSeparators,q.regex);let kt=this.nodeAt2(M.startLineNumber,M.startColumn);if(null===kt)return[];const ri=this.nodeAt2(M.endLineNumber,M.endColumn);if(null===ri)return[];let hi=this.positionInBuffer(kt.node,kt.remainder);const ii=this.positionInBuffer(ri.node,ri.remainder);if(kt.node===ri.node)return this.findMatchesInNode(kt.node,Et,M.startLineNumber,M.startColumn,hi,ii,q,ce,Ue,ct,$e),$e;let Si=M.startLineNumber,Ti=kt.node;for(;Ti!==ri.node;){const ji=this.getLineFeedCnt(Ti.piece.bufferIndex,hi,Ti.piece.end);if(ji>=1){const Cn=this._buffers[Ti.piece.bufferIndex].lineStarts,Ln=this.offsetInBuffer(Ti.piece.bufferIndex,Ti.piece.start);if(ct=this.findMatchesInNode(Ti,Et,Si,Si===M.startLineNumber?M.startColumn:1,hi,this.positionInBuffer(Ti,Cn[hi.line+ji]-Ln),q,ce,Ue,ct,$e),ct>=Ue)return $e;Si+=ji}const Hi=Si===M.startLineNumber?M.startColumn-1:0;if(Si===M.endLineNumber){const Cn=this.getLineContent(Si).substring(Hi,M.endColumn-1);return ct=this._findMatchesInLine(q,Et,Cn,M.endLineNumber,Hi,ct,$e,ce,Ue),$e}if(ct=this._findMatchesInLine(q,Et,this.getLineContent(Si).substr(Hi),Si,Hi,ct,$e,ce,Ue),ct>=Ue)return $e;Si++,kt=this.nodeAt2(Si,1),Ti=kt.node,hi=this.positionInBuffer(kt.node,kt.remainder)}if(Si===M.endLineNumber){const ji=Si===M.startLineNumber?M.startColumn-1:0,Hi=this.getLineContent(Si).substring(ji,M.endColumn-1);return ct=this._findMatchesInLine(q,Et,Hi,M.endLineNumber,ji,ct,$e,ce,Ue),$e}return ct=this.findMatchesInNode(ri.node,Et,Si,Si===M.startLineNumber?M.startColumn:1,hi,ii,q,ce,Ue,ct,$e),$e}_findMatchesInLine(M,q,ce,Ue,$e,ct,Et,kt,ri){const hi=M.wordSeparators;if(!kt&&M.simpleSearch){const Si=M.simpleSearch,Ti=Si.length,Bi=ce.length;let ji=-Ti;for(;-1!==(ji=ce.indexOf(Si,ji+Ti));)if((!hi||(0,ut.cM)(hi,ce,Bi,ji,Ti))&&(Et[ct++]=new m.tk(new u.e(Ue,ji+1+$e,Ue,ji+1+Ti+$e),null),ct>=ri))return ct;return ct}let ii;q.reset(0);do{if(ii=q.next(ce),ii&&(Et[ct++]=(0,ut.iE)(new u.e(Ue,ii.index+1+$e,Ue,ii.index+1+ii[0].length+$e),ii,kt),ct>=ri))return ct}while(ii);return ct}insert(M,q,ce=!1){if(this._EOLNormalized=this._EOLNormalized&&ce,this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",this.root!==Dt){const{node:Ue,remainder:$e,nodeStartOffset:ct}=this.nodeAt(M),Et=Ue.piece,kt=Et.bufferIndex,ri=this.positionInBuffer(Ue,$e);if(0===Ue.piece.bufferIndex&&Et.end.line===this._lastChangeBufferPos.line&&Et.end.column===this._lastChangeBufferPos.column&&ct+Et.length===M&&q.length<pt)return this.appendToNode(Ue,q),void this.computeBufferMetadata();if(ct===M)this.insertContentToNodeLeft(q,Ue),this._searchCache.validate(M);else if(ct+Ue.piece.length>M){const hi=[];let ii=new Bt(Et.bufferIndex,ri,Et.end,this.getLineFeedCnt(Et.bufferIndex,ri,Et.end),this.offsetInBuffer(kt,Et.end)-this.offsetInBuffer(kt,ri));if(this.shouldCheckCRLF()&&this.endWithCR(q)&&10===this.nodeCharCodeAt(Ue,$e)){const ji={line:ii.start.line+1,column:0};ii=new Bt(ii.bufferIndex,ji,ii.end,this.getLineFeedCnt(ii.bufferIndex,ji,ii.end),ii.length-1),q+="\n"}if(this.shouldCheckCRLF()&&this.startWithLF(q))if(13===this.nodeCharCodeAt(Ue,$e-1)){const ji=this.positionInBuffer(Ue,$e-1);this.deleteNodeTail(Ue,ji),q="\r"+q,0===Ue.piece.length&&hi.push(Ue)}else this.deleteNodeTail(Ue,ri);else this.deleteNodeTail(Ue,ri);const Si=this.createNewPieces(q);ii.length>0&&this.rbInsertRight(Ue,ii);let Ti=Ue;for(let Bi=0;Bi<Si.length;Bi++)Ti=this.rbInsertRight(Ti,Si[Bi]);this.deleteNodes(hi)}else this.insertContentToNodeRight(q,Ue)}else{const Ue=this.createNewPieces(q);let $e=this.rbInsertLeft(null,Ue[0]);for(let ct=1;ct<Ue.length;ct++)$e=this.rbInsertRight($e,Ue[ct])}this.computeBufferMetadata()}delete(M,q){if(this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",q<=0||this.root===Dt)return;const ce=this.nodeAt(M),Ue=this.nodeAt(M+q),$e=ce.node,ct=Ue.node;if($e===ct){const Si=this.positionInBuffer($e,ce.remainder),Ti=this.positionInBuffer($e,Ue.remainder);if(ce.nodeStartOffset===M){if(q===$e.piece.length){const Bi=$e.next();return Gi(this,$e),this.validateCRLFWithPrevNode(Bi),void this.computeBufferMetadata()}return this.deleteNodeHead($e,Ti),this._searchCache.validate(M),this.validateCRLFWithPrevNode($e),void this.computeBufferMetadata()}return ce.nodeStartOffset+$e.piece.length===M+q?(this.deleteNodeTail($e,Si),this.validateCRLFWithNextNode($e),void this.computeBufferMetadata()):(this.shrinkNode($e,Si,Ti),void this.computeBufferMetadata())}const Et=[],kt=this.positionInBuffer($e,ce.remainder);this.deleteNodeTail($e,kt),this._searchCache.validate(M),0===$e.piece.length&&Et.push($e);const ri=this.positionInBuffer(ct,Ue.remainder);this.deleteNodeHead(ct,ri),0===ct.piece.length&&Et.push(ct);for(let Si=$e.next();Si!==Dt&&Si!==ct;Si=Si.next())Et.push(Si);const ii=0===$e.piece.length?$e.prev():$e;this.deleteNodes(Et),this.validateCRLFWithNextNode(ii),this.computeBufferMetadata()}insertContentToNodeLeft(M,q){const ce=[];if(this.shouldCheckCRLF()&&this.endWithCR(M)&&this.startWithLF(q)){const ct=q.piece,Et={line:ct.start.line+1,column:0},kt=new Bt(ct.bufferIndex,Et,ct.end,this.getLineFeedCnt(ct.bufferIndex,Et,ct.end),ct.length-1);q.piece=kt,M+="\n",St(this,q,-1,-1),0===q.piece.length&&ce.push(q)}const Ue=this.createNewPieces(M);let $e=this.rbInsertLeft(q,Ue[Ue.length-1]);for(let ct=Ue.length-2;ct>=0;ct--)$e=this.rbInsertLeft($e,Ue[ct]);this.validateCRLFWithPrevNode($e),this.deleteNodes(ce)}insertContentToNodeRight(M,q){this.adjustCarriageReturnFromNext(M,q)&&(M+="\n");const ce=this.createNewPieces(M),Ue=this.rbInsertRight(q,ce[0]);let $e=Ue;for(let ct=1;ct<ce.length;ct++)$e=this.rbInsertRight($e,ce[ct]);this.validateCRLFWithPrevNode(Ue)}positionInBuffer(M,q,ce){const Ue=M.piece,ct=this._buffers[M.piece.bufferIndex].lineStarts,kt=ct[Ue.start.line]+Ue.start.column+q;let ri=Ue.start.line,hi=Ue.end.line,ii=0,Si=0,Ti=0;for(;ri<=hi&&(ii=ri+(hi-ri)/2|0,Ti=ct[ii],ii!==hi);)if(Si=ct[ii+1],kt<Ti)hi=ii-1;else{if(!(kt>=Si))break;ri=ii+1}return ce?(ce.line=ii,ce.column=kt-Ti,null):{line:ii,column:kt-Ti}}getLineFeedCnt(M,q,ce){if(0===ce.column)return ce.line-q.line;const Ue=this._buffers[M].lineStarts;if(ce.line===Ue.length-1)return ce.line-q.line;const ct=Ue[ce.line]+ce.column;return Ue[ce.line+1]>ct+1?ce.line-q.line:13===this._buffers[M].buffer.charCodeAt(ct-1)?ce.line-q.line+1:ce.line-q.line}offsetInBuffer(M,q){return this._buffers[M].lineStarts[q.line]+q.column}deleteNodes(M){for(let q=0;q<M.length;q++)Gi(this,M[q])}createNewPieces(M){if(M.length>pt){const hi=[];for(;M.length>pt;){const Si=M.charCodeAt(pt-1);let Ti;13===Si||Si>=55296&&Si<=56319?(Ti=M.substring(0,pt-1),M=M.substring(pt-1)):(Ti=M.substring(0,pt),M=M.substring(pt));const Bi=et(Ti);hi.push(new Bt(this._buffers.length,{line:0,column:0},{line:Bi.length-1,column:Ti.length-Bi[Bi.length-1]},Bi.length-1,Ti.length)),this._buffers.push(new xt(Ti,Bi))}const ii=et(M);return hi.push(new Bt(this._buffers.length,{line:0,column:0},{line:ii.length-1,column:M.length-ii[ii.length-1]},ii.length-1,M.length)),this._buffers.push(new xt(M,ii)),hi}let q=this._buffers[0].buffer.length;const ce=et(M,!1);let Ue=this._lastChangeBufferPos;if(this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-1]===q&&0!==q&&this.startWithLF(M)&&this.endWithCR(this._buffers[0].buffer)){this._lastChangeBufferPos={line:this._lastChangeBufferPos.line,column:this._lastChangeBufferPos.column+1},Ue=this._lastChangeBufferPos;for(let hi=0;hi<ce.length;hi++)ce[hi]+=q+1;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(ce.slice(1)),this._buffers[0].buffer+="_"+M,q+=1}else{if(0!==q)for(let hi=0;hi<ce.length;hi++)ce[hi]+=q;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(ce.slice(1)),this._buffers[0].buffer+=M}const $e=this._buffers[0].buffer.length,ct=this._buffers[0].lineStarts.length-1,kt={line:ct,column:$e-this._buffers[0].lineStarts[ct]},ri=new Bt(0,Ue,kt,this.getLineFeedCnt(0,Ue,kt),$e-q);return this._lastChangeBufferPos=kt,[ri]}getLineRawContent(M,q=0){let ce=this.root,Ue="";const $e=this._searchCache.get2(M);if($e){ce=$e.node;const ct=this.getAccumulatedValue(ce,M-$e.nodeStartLineNumber-1),Et=this._buffers[ce.piece.bufferIndex].buffer,kt=this.offsetInBuffer(ce.piece.bufferIndex,ce.piece.start);if($e.nodeStartLineNumber+ce.piece.lineFeedCnt!==M){const ri=this.getAccumulatedValue(ce,M-$e.nodeStartLineNumber);return Et.substring(kt+ct,kt+ri-q)}Ue=Et.substring(kt+ct,kt+ce.piece.length)}else{let ct=0;const Et=M;for(;ce!==Dt;)if(ce.left!==Dt&&ce.lf_left>=M-1)ce=ce.left;else{if(ce.lf_left+ce.piece.lineFeedCnt>M-1){const kt=this.getAccumulatedValue(ce,M-ce.lf_left-2),ri=this.getAccumulatedValue(ce,M-ce.lf_left-1),hi=this._buffers[ce.piece.bufferIndex].buffer,ii=this.offsetInBuffer(ce.piece.bufferIndex,ce.piece.start);return ct+=ce.size_left,this._searchCache.set({node:ce,nodeStartOffset:ct,nodeStartLineNumber:Et-(M-1-ce.lf_left)}),hi.substring(ii+kt,ii+ri-q)}if(ce.lf_left+ce.piece.lineFeedCnt===M-1){const kt=this.getAccumulatedValue(ce,M-ce.lf_left-2),ri=this._buffers[ce.piece.bufferIndex].buffer,hi=this.offsetInBuffer(ce.piece.bufferIndex,ce.piece.start);Ue=ri.substring(hi+kt,hi+ce.piece.length);break}M-=ce.lf_left+ce.piece.lineFeedCnt,ct+=ce.size_left+ce.piece.length,ce=ce.right}}for(ce=ce.next();ce!==Dt;){const ct=this._buffers[ce.piece.bufferIndex].buffer;if(ce.piece.lineFeedCnt>0){const Et=this.getAccumulatedValue(ce,0),kt=this.offsetInBuffer(ce.piece.bufferIndex,ce.piece.start);return Ue+=ct.substring(kt,kt+Et-q),Ue}{const Et=this.offsetInBuffer(ce.piece.bufferIndex,ce.piece.start);Ue+=ct.substr(Et,ce.piece.length)}ce=ce.next()}return Ue}computeBufferMetadata(){let M=this.root,q=1,ce=0;for(;M!==Dt;)q+=M.lf_left+M.piece.lineFeedCnt,ce+=M.size_left+M.piece.length,M=M.right;this._lineCnt=q,this._length=ce,this._searchCache.validate(this._length)}getIndexOf(M,q){const ce=M.piece,Ue=this.positionInBuffer(M,q),$e=Ue.line-ce.start.line;if(this.offsetInBuffer(ce.bufferIndex,ce.end)-this.offsetInBuffer(ce.bufferIndex,ce.start)===q){const ct=this.getLineFeedCnt(M.piece.bufferIndex,ce.start,Ue);if(ct!==$e)return{index:ct,remainder:0}}return{index:$e,remainder:Ue.column}}getAccumulatedValue(M,q){if(q<0)return 0;const ce=M.piece,Ue=this._buffers[ce.bufferIndex].lineStarts,$e=ce.start.line+q+1;return $e>ce.end.line?Ue[ce.end.line]+ce.end.column-Ue[ce.start.line]-ce.start.column:Ue[$e]-Ue[ce.start.line]-ce.start.column}deleteNodeTail(M,q){const ce=M.piece,Ue=ce.lineFeedCnt,$e=this.offsetInBuffer(ce.bufferIndex,ce.end),ct=q,Et=this.offsetInBuffer(ce.bufferIndex,ct),kt=this.getLineFeedCnt(ce.bufferIndex,ce.start,ct),ri=kt-Ue,hi=Et-$e;M.piece=new Bt(ce.bufferIndex,ce.start,ct,kt,ce.length+hi),St(this,M,hi,ri)}deleteNodeHead(M,q){const ce=M.piece,Ue=ce.lineFeedCnt,$e=this.offsetInBuffer(ce.bufferIndex,ce.start),ct=q,Et=this.getLineFeedCnt(ce.bufferIndex,ct,ce.end),ri=Et-Ue,hi=$e-this.offsetInBuffer(ce.bufferIndex,ct);M.piece=new Bt(ce.bufferIndex,ct,ce.end,Et,ce.length+hi),St(this,M,hi,ri)}shrinkNode(M,q,ce){const Ue=M.piece,$e=Ue.start,ct=Ue.end,Et=Ue.length,kt=Ue.lineFeedCnt,ri=q,hi=this.getLineFeedCnt(Ue.bufferIndex,Ue.start,ri),ii=this.offsetInBuffer(Ue.bufferIndex,q)-this.offsetInBuffer(Ue.bufferIndex,$e);M.piece=new Bt(Ue.bufferIndex,Ue.start,ri,hi,ii),St(this,M,ii-Et,hi-kt);const Si=new Bt(Ue.bufferIndex,ce,ct,this.getLineFeedCnt(Ue.bufferIndex,ce,ct),this.offsetInBuffer(Ue.bufferIndex,ct)-this.offsetInBuffer(Ue.bufferIndex,ce)),Ti=this.rbInsertRight(M,Si);this.validateCRLFWithPrevNode(Ti)}appendToNode(M,q){this.adjustCarriageReturnFromNext(q,M)&&(q+="\n");const ce=this.shouldCheckCRLF()&&this.startWithLF(q)&&this.endWithCR(M),Ue=this._buffers[0].buffer.length;this._buffers[0].buffer+=q;const $e=et(q,!1);for(let Ti=0;Ti<$e.length;Ti++)$e[Ti]+=Ue;if(ce){const Ti=this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-2];this._buffers[0].lineStarts.pop(),this._lastChangeBufferPos={line:this._lastChangeBufferPos.line-1,column:Ue-Ti}}this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat($e.slice(1));const ct=this._buffers[0].lineStarts.length-1,kt={line:ct,column:this._buffers[0].buffer.length-this._buffers[0].lineStarts[ct]},ri=M.piece.length+q.length,hi=M.piece.lineFeedCnt,ii=this.getLineFeedCnt(0,M.piece.start,kt),Si=ii-hi;M.piece=new Bt(M.piece.bufferIndex,M.piece.start,kt,ii,ri),this._lastChangeBufferPos=kt,St(this,M,q.length,Si)}nodeAt(M){let q=this.root;const ce=this._searchCache.get(M);if(ce)return{node:ce.node,nodeStartOffset:ce.nodeStartOffset,remainder:M-ce.nodeStartOffset};let Ue=0;for(;q!==Dt;)if(q.size_left>M)q=q.left;else{if(q.size_left+q.piece.length>=M){Ue+=q.size_left;const $e={node:q,remainder:M-q.size_left,nodeStartOffset:Ue};return this._searchCache.set($e),$e}M-=q.size_left+q.piece.length,Ue+=q.size_left+q.piece.length,q=q.right}return null}nodeAt2(M,q){let ce=this.root,Ue=0;for(;ce!==Dt;)if(ce.left!==Dt&&ce.lf_left>=M-1)ce=ce.left;else{if(ce.lf_left+ce.piece.lineFeedCnt>M-1){const $e=this.getAccumulatedValue(ce,M-ce.lf_left-2),ct=this.getAccumulatedValue(ce,M-ce.lf_left-1);return Ue+=ce.size_left,{node:ce,remainder:Math.min($e+q-1,ct),nodeStartOffset:Ue}}if(ce.lf_left+ce.piece.lineFeedCnt===M-1){const $e=this.getAccumulatedValue(ce,M-ce.lf_left-2);if($e+q-1<=ce.piece.length)return{node:ce,remainder:$e+q-1,nodeStartOffset:Ue};q-=ce.piece.length-$e;break}M-=ce.lf_left+ce.piece.lineFeedCnt,Ue+=ce.size_left+ce.piece.length,ce=ce.right}for(ce=ce.next();ce!==Dt;){if(ce.piece.lineFeedCnt>0){const $e=this.getAccumulatedValue(ce,0),ct=this.offsetOfNode(ce);return{node:ce,remainder:Math.min(q-1,$e),nodeStartOffset:ct}}if(ce.piece.length>=q-1)return{node:ce,remainder:q-1,nodeStartOffset:this.offsetOfNode(ce)};q-=ce.piece.length,ce=ce.next()}return null}nodeCharCodeAt(M,q){if(M.piece.lineFeedCnt<1)return-1;const ce=this._buffers[M.piece.bufferIndex],Ue=this.offsetInBuffer(M.piece.bufferIndex,M.piece.start)+q;return ce.buffer.charCodeAt(Ue)}offsetOfNode(M){if(!M)return 0;let q=M.size_left;for(;M!==this.root;)M.parent.right===M&&(q+=M.parent.size_left+M.parent.piece.length),M=M.parent;return q}shouldCheckCRLF(){return!(this._EOLNormalized&&"\n"===this._EOL)}startWithLF(M){if("string"==typeof M)return 10===M.charCodeAt(0);if(M===Dt||0===M.piece.lineFeedCnt)return!1;const q=M.piece,ce=this._buffers[q.bufferIndex].lineStarts,Ue=q.start.line,$e=ce[Ue]+q.start.column;return!(Ue===ce.length-1||ce[Ue+1]>$e+1)&&10===this._buffers[q.bufferIndex].buffer.charCodeAt($e)}endWithCR(M){return"string"==typeof M?13===M.charCodeAt(M.length-1):M!==Dt&&0!==M.piece.lineFeedCnt&&13===this.nodeCharCodeAt(M,M.piece.length-1)}validateCRLFWithPrevNode(M){if(this.shouldCheckCRLF()&&this.startWithLF(M)){const q=M.prev();this.endWithCR(q)&&this.fixCRLF(q,M)}}validateCRLFWithNextNode(M){if(this.shouldCheckCRLF()&&this.endWithCR(M)){const q=M.next();this.startWithLF(q)&&this.fixCRLF(M,q)}}fixCRLF(M,q){const ce=[],Ue=this._buffers[M.piece.bufferIndex].lineStarts;let $e;$e=0===M.piece.end.column?{line:M.piece.end.line-1,column:Ue[M.piece.end.line]-Ue[M.piece.end.line-1]-1}:{line:M.piece.end.line,column:M.piece.end.column-1},M.piece=new Bt(M.piece.bufferIndex,M.piece.start,$e,M.piece.lineFeedCnt-1,M.piece.length-1),St(this,M,-1,-1),0===M.piece.length&&ce.push(M);const kt={line:q.piece.start.line+1,column:0},ri=q.piece.length-1,hi=this.getLineFeedCnt(q.piece.bufferIndex,kt,q.piece.end);q.piece=new Bt(q.piece.bufferIndex,kt,q.piece.end,hi,ri),St(this,q,-1,-1),0===q.piece.length&&ce.push(q);const ii=this.createNewPieces("\r\n");this.rbInsertRight(M,ii[0]);for(let Si=0;Si<ce.length;Si++)Gi(this,ce[Si])}adjustCarriageReturnFromNext(M,q){if(this.shouldCheckCRLF()&&this.endWithCR(M)){const ce=q.next();if(this.startWithLF(ce)){if(M+="\n",1===ce.piece.length)Gi(this,ce);else{const Ue=ce.piece,$e={line:Ue.start.line+1,column:0},ct=Ue.length-1,Et=this.getLineFeedCnt(Ue.bufferIndex,$e,Ue.end);ce.piece=new Bt(Ue.bufferIndex,$e,Ue.end,Et,ct),St(this,ce,-1,-1)}return!0}}return!1}iterate(M,q){return M===Dt?q(Dt):this.iterate(M.left,q)&&q(M)&&this.iterate(M.right,q)}getNodeContent(M){if(M===Dt)return"";const q=this._buffers[M.piece.bufferIndex],ce=M.piece,Ue=this.offsetInBuffer(ce.bufferIndex,ce.start),$e=this.offsetInBuffer(ce.bufferIndex,ce.end);return q.buffer.substring(Ue,$e)}getPieceContent(M){const q=this._buffers[M.bufferIndex],ce=this.offsetInBuffer(M.bufferIndex,M.start),Ue=this.offsetInBuffer(M.bufferIndex,M.end);return q.buffer.substring(ce,Ue)}rbInsertRight(M,q){const ce=new yt(q,1);if(ce.left=Dt,ce.right=Dt,ce.parent=Dt,ce.size_left=0,ce.lf_left=0,this.root===Dt)this.root=ce,ce.color=0;else if(M.right===Dt)M.right=ce,ce.parent=M;else{const $e=Ot(M.right);$e.left=ce,ce.parent=$e}return Zi(this,ce),ce}rbInsertLeft(M,q){const ce=new yt(q,1);if(ce.left=Dt,ce.right=Dt,ce.parent=Dt,ce.size_left=0,ce.lf_left=0,this.root===Dt)this.root=ce,ce.color=0;else if(M.left===Dt)M.left=ce,ce.parent=M;else{const Ue=gt(M.left);Ue.right=ce,ce.parent=Ue}return Zi(this,ce),ce}}var di=e(27336);class Ei extends v.JT{constructor(M,q,ce,Ue,$e,ct,Et){super(),this._onDidChangeContent=this._register(new y.Q5),this._BOM=q,this._mightContainNonBasicASCII=!ct,this._mightContainRTL=Ue,this._mightContainUnusualLineTerminators=$e,this._pieceTree=new gi(M,ce,Et)}mightContainRTL(){return this._mightContainRTL}mightContainUnusualLineTerminators(){return this._mightContainUnusualLineTerminators}resetMightContainUnusualLineTerminators(){this._mightContainUnusualLineTerminators=!1}mightContainNonBasicASCII(){return this._mightContainNonBasicASCII}getBOM(){return this._BOM}getEOL(){return this._pieceTree.getEOL()}createSnapshot(M){return this._pieceTree.createSnapshot(M?this._BOM:"")}getOffsetAt(M,q){return this._pieceTree.getOffsetAt(M,q)}getPositionAt(M){return this._pieceTree.getPositionAt(M)}getRangeAt(M,q){const ce=M+q,Ue=this.getPositionAt(M),$e=this.getPositionAt(ce);return new u.e(Ue.lineNumber,Ue.column,$e.lineNumber,$e.column)}getValueInRange(M,q=0){if(M.isEmpty())return"";const ce=this._getEndOfLine(q);return this._pieceTree.getValueInRange(M,ce)}getValueLengthInRange(M,q=0){if(M.isEmpty())return 0;if(M.startLineNumber===M.endLineNumber)return M.endColumn-M.startColumn;const ce=this.getOffsetAt(M.startLineNumber,M.startColumn),Ue=this.getOffsetAt(M.endLineNumber,M.endColumn);let $e=0;const ct=this._getEndOfLine(q),Et=this.getEOL();return ct.length!==Et.length&&($e=(ct.length-Et.length)*(M.endLineNumber-M.startLineNumber)),Ue-ce+$e}getCharacterCountInRange(M,q=0){if(this._mightContainNonBasicASCII){let ce=0;const Ue=M.startLineNumber,$e=M.endLineNumber;for(let ct=Ue;ct<=$e;ct++){const Et=this.getLineContent(ct),ri=ct===$e?M.endColumn-1:Et.length;for(let hi=ct===Ue?M.startColumn-1:0;hi<ri;hi++)S.ZG(Et.charCodeAt(hi))?(ce+=1,hi+=1):ce+=1}return ce+=this._getEndOfLine(q).length*($e-Ue),ce}return this.getValueLengthInRange(M,q)}getLength(){return this._pieceTree.getLength()}getLineCount(){return this._pieceTree.getLineCount()}getLinesContent(){return this._pieceTree.getLinesContent()}getLineContent(M){return this._pieceTree.getLineContent(M)}getLineCharCode(M,q){return this._pieceTree.getLineCharCode(M,q)}getLineLength(M){return this._pieceTree.getLineLength(M)}getLineFirstNonWhitespaceColumn(M){const q=S.LC(this.getLineContent(M));return-1===q?0:q+1}getLineLastNonWhitespaceColumn(M){const q=S.ow(this.getLineContent(M));return-1===q?0:q+2}_getEndOfLine(M){switch(M){case 1:return"\n";case 2:return"\r\n";case 0:return this.getEOL();default:throw new Error("Unknown EOL preference")}}setEOL(M){this._pieceTree.setEOL(M)}applyEdits(M,q,ce){let Ue=this._mightContainRTL,$e=this._mightContainUnusualLineTerminators,ct=this._mightContainNonBasicASCII,Et=!0,kt=[];for(let ji=0;ji<M.length;ji++){const Hi=M[ji];Et&&Hi._isTracked&&(Et=!1);const Cn=Hi.range;if(Hi.text){let re=!0;ct||(re=!S.$i(Hi.text),ct=re),!Ue&&re&&(Ue=S.Ut(Hi.text)),!$e&&re&&($e=S.ab(Hi.text))}let Ln="",kn=0,Kn=0,Gt=0;if(Hi.text){let re;[kn,Kn,Gt,re]=(0,E.Q)(Hi.text);const We=this.getEOL();Ln=0===re||re===("\r\n"===We?2:1)?Hi.text:Hi.text.replace(/\r\n|\r|\n/g,We)}kt[ji]={sortIndex:ji,identifier:Hi.identifier||null,range:Cn,rangeOffset:this.getOffsetAt(Cn.startLineNumber,Cn.startColumn),rangeLength:this.getValueLengthInRange(Cn),text:Ln,eolCount:kn,firstLineLength:Kn,lastLineLength:Gt,forceMoveMarkers:!!Hi.forceMoveMarkers,isAutoWhitespaceEdit:Hi.isAutoWhitespaceEdit||!1}}kt.sort(Ei._sortOpsAscending);let ri=!1;for(let ji=0,Hi=kt.length-1;ji<Hi;ji++){const Cn=kt[ji].range.getEndPosition(),Ln=kt[ji+1].range.getStartPosition();if(Ln.isBeforeOrEqual(Cn)){if(Ln.isBefore(Cn))throw new Error("Overlapping ranges are not allowed!");ri=!0}}Et&&(kt=this._reduceOperations(kt));const hi=ce||q?Ei._getInverseEditRanges(kt):[],ii=[];if(q)for(let ji=0;ji<kt.length;ji++){const Hi=kt[ji],Cn=hi[ji];if(Hi.isAutoWhitespaceEdit&&Hi.range.isEmpty())for(let Ln=Cn.startLineNumber;Ln<=Cn.endLineNumber;Ln++){let kn="";Ln===Cn.startLineNumber&&(kn=this.getLineContent(Hi.range.startLineNumber),-1!==S.LC(kn))||ii.push({lineNumber:Ln,oldContent:kn})}}let Si=null;if(ce){let ji=0;Si=[];for(let Hi=0;Hi<kt.length;Hi++){const Cn=kt[Hi],Ln=hi[Hi],kn=this.getValueInRange(Cn.range),Kn=Cn.rangeOffset+ji;ji+=Cn.text.length-kn.length,Si[Hi]={sortIndex:Cn.sortIndex,identifier:Cn.identifier,range:Ln,text:kn,textChange:new di.q(Cn.rangeOffset,kn,Kn,Cn.text)}}ri||Si.sort((Hi,Cn)=>Hi.sortIndex-Cn.sortIndex)}this._mightContainRTL=Ue,this._mightContainUnusualLineTerminators=$e,this._mightContainNonBasicASCII=ct;const Ti=this._doApplyEdits(kt);let Bi=null;if(q&&ii.length>0){ii.sort((ji,Hi)=>Hi.lineNumber-ji.lineNumber),Bi=[];for(let ji=0,Hi=ii.length;ji<Hi;ji++){const Cn=ii[ji].lineNumber;if(ji>0&&ii[ji-1].lineNumber===Cn)continue;const Ln=ii[ji].oldContent,kn=this.getLineContent(Cn);0===kn.length||kn===Ln||-1!==S.LC(kn)||Bi.push(Cn)}}return this._onDidChangeContent.fire(),new m.je(Si,Ti,Bi)}_reduceOperations(M){return M.length<1e3?M:[this._toSingleEditOperation(M)]}_toSingleEditOperation(M){let q=!1;const ce=M[0].range,Ue=M[M.length-1].range,$e=new u.e(ce.startLineNumber,ce.startColumn,Ue.endLineNumber,Ue.endColumn);let ct=ce.startLineNumber,Et=ce.startColumn;const kt=[];for(let Ti=0,Bi=M.length;Ti<Bi;Ti++){const ji=M[Ti],Hi=ji.range;q=q||ji.forceMoveMarkers,kt.push(this.getValueInRange(new u.e(ct,Et,Hi.startLineNumber,Hi.startColumn))),ji.text.length>0&&kt.push(ji.text),ct=Hi.endLineNumber,Et=Hi.endColumn}const ri=kt.join(""),[hi,ii,Si]=(0,E.Q)(ri);return{sortIndex:0,identifier:M[0].identifier,range:$e,rangeOffset:this.getOffsetAt($e.startLineNumber,$e.startColumn),rangeLength:this.getValueLengthInRange($e,0),text:ri,eolCount:hi,firstLineLength:ii,lastLineLength:Si,forceMoveMarkers:q,isAutoWhitespaceEdit:!1}}_doApplyEdits(M){M.sort(Ei._sortOpsDescending);const q=[];for(let ce=0;ce<M.length;ce++){const Ue=M[ce],$e=Ue.range.startLineNumber,ct=Ue.range.startColumn,Et=Ue.range.endLineNumber,kt=Ue.range.endColumn;if($e===Et&&ct===kt&&0===Ue.text.length)continue;Ue.text?(this._pieceTree.delete(Ue.rangeOffset,Ue.rangeLength),this._pieceTree.insert(Ue.rangeOffset,Ue.text,!0)):this._pieceTree.delete(Ue.rangeOffset,Ue.rangeLength);const ri=new u.e($e,ct,Et,kt);q.push({range:ri,rangeLength:Ue.rangeLength,text:Ue.text,rangeOffset:Ue.rangeOffset,forceMoveMarkers:Ue.forceMoveMarkers})}return q}findMatchesLineByLine(M,q,ce,Ue){return this._pieceTree.findMatchesLineByLine(M,q,ce,Ue)}static _getInverseEditRanges(M){const q=[];let ce=0,Ue=0,$e=null;for(let ct=0,Et=M.length;ct<Et;ct++){const kt=M[ct];let ri,hi,ii;if($e?$e.range.endLineNumber===kt.range.startLineNumber?(ri=ce,hi=Ue+(kt.range.startColumn-$e.range.endColumn)):(ri=ce+(kt.range.startLineNumber-$e.range.endLineNumber),hi=kt.range.startColumn):(ri=kt.range.startLineNumber,hi=kt.range.startColumn),kt.text.length>0){const Si=kt.eolCount+1;ii=1===Si?new u.e(ri,hi,ri,hi+kt.firstLineLength):new u.e(ri,hi,ri+Si-1,kt.lastLineLength+1)}else ii=new u.e(ri,hi,ri,hi);ce=ii.endLineNumber,Ue=ii.endColumn,q.push(ii),$e=kt}return q}static _sortOpsAscending(M,q){const ce=u.e.compareRangesUsingEnds(M.range,q.range);return 0===ce?M.sortIndex-q.sortIndex:ce}static _sortOpsDescending(M,q){const ce=u.e.compareRangesUsingEnds(M.range,q.range);return 0===ce?q.sortIndex-M.sortIndex:-ce}}class Ki{constructor(M,q,ce,Ue,$e,ct,Et,kt,ri){this._chunks=M,this._bom=q,this._cr=ce,this._lf=Ue,this._crlf=$e,this._containsRTL=ct,this._containsUnusualLineTerminators=Et,this._isBasicASCII=kt,this._normalizeEOL=ri}_getEOL(M){const q=this._cr+this._lf+this._crlf;return 0===q?1===M?"\n":"\r\n":this._cr+this._crlf>q/2?"\r\n":"\n"}create(M){const q=this._getEOL(M),ce=this._chunks;if(this._normalizeEOL&&("\r\n"===q&&(this._cr>0||this._lf>0)||"\n"===q&&(this._cr>0||this._crlf>0)))for(let $e=0,ct=ce.length;$e<ct;$e++){const Et=ce[$e].buffer.replace(/\r\n|\r|\n/g,q),kt=et(Et);ce[$e]=new xt(Et,kt)}const Ue=new Ei(ce,this._bom,q,this._containsRTL,this._containsUnusualLineTerminators,this._isBasicASCII,this._normalizeEOL);return{textBuffer:Ue,disposable:Ue}}}class zi{constructor(){this.chunks=[],this.BOM="",this._hasPreviousChar=!1,this._previousChar=0,this._tmpLineStarts=[],this.cr=0,this.lf=0,this.crlf=0,this.containsRTL=!1,this.containsUnusualLineTerminators=!1,this.isBasicASCII=!0}acceptChunk(M){if(0===M.length)return;0===this.chunks.length&&S.uS(M)&&(this.BOM=S.c1,M=M.substr(1));const q=M.charCodeAt(M.length-1);13===q||q>=55296&&q<=56319?(this._acceptChunk1(M.substr(0,M.length-1),!1),this._hasPreviousChar=!0,this._previousChar=q):(this._acceptChunk1(M,!1),this._hasPreviousChar=!1,this._previousChar=q)}_acceptChunk1(M,q){!q&&0===M.length||this._acceptChunk2(this._hasPreviousChar?String.fromCharCode(this._previousChar)+M:M)}_acceptChunk2(M){const q=function wt(Ft,M){Ft.length=0,Ft[0]=0;let q=1,ce=0,Ue=0,$e=0,ct=!0;for(let kt=0,ri=M.length;kt<ri;kt++){const hi=M.charCodeAt(kt);13===hi?kt+1<ri&&10===M.charCodeAt(kt+1)?($e++,Ft[q++]=kt+2,kt++):(ce++,Ft[q++]=kt+1):10===hi?(Ue++,Ft[q++]=kt+1):ct&&9!==hi&&(hi<32||hi>126)&&(ct=!1)}const Et=new je(Ne(Ft),ce,Ue,$e,ct);return Ft.length=0,Et}(this._tmpLineStarts,M);this.chunks.push(new xt(M,q.lineStarts)),this.cr+=q.cr,this.lf+=q.lf,this.crlf+=q.crlf,q.isBasicASCII||(this.isBasicASCII=!1,this.containsRTL||(this.containsRTL=S.Ut(M)),this.containsUnusualLineTerminators||(this.containsUnusualLineTerminators=S.ab(M)))}finish(M=!0){return this._finish(),new Ki(this.chunks,this.BOM,this.cr,this.lf,this.crlf,this.containsRTL,this.containsUnusualLineTerminators,this.isBasicASCII,M)}_finish(){if(0===this.chunks.length&&this._acceptChunk1("",!0),this._hasPreviousChar){this._hasPreviousChar=!1;const M=this.chunks[this.chunks.length-1];M.buffer+=String.fromCharCode(this._previousChar);const q=et(M.buffer);M.lineStarts=q,13===this._previousChar&&this.cr++}}}var qi=e(85328),fn=e(28797),Nn=e(81814),xn=e(17295),Fn=e(88593),vi=e(11664),ui=e(78754),ni=e(99002);class Nt{constructor(M){this._default=M,this._store=[]}get(M){return M<this._store.length?this._store[M]:this._default}set(M,q){for(;M>=this._store.length;)this._store[this._store.length]=this._default;this._store[M]=q}replace(M,q,ce){if(M>=this._store.length)return;if(0===q)return void this.insert(M,ce);if(0===ce)return void this.delete(M,q);const Ue=this._store.slice(0,M),$e=this._store.slice(M+q),ct=function Wt(Ft,M){const q=[];for(let ce=0;ce<Ft;ce++)q[ce]=M;return q}(ce,this._default);this._store=Ue.concat(ct,$e)}delete(M,q){0===q||M>=this._store.length||this._store.splice(M,q)}insert(M,q){if(0===q||M>=this._store.length)return;const ce=[];for(let Ue=0;Ue<q;Ue++)ce[Ue]=this._default;this._store=(0,f.Zv)(this._store,M,ce)}}class li{get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._startLineNumber+this._tokens.length-1}constructor(M,q){this._startLineNumber=M,this._tokens=q}getLineTokens(M){return this._tokens[M-this._startLineNumber]}appendLineTokens(M){this._tokens.push(M)}}class Yt{constructor(){this._tokens=[]}add(M,q){if(this._tokens.length>0){const ce=this._tokens[this._tokens.length-1];if(ce.endLineNumber+1===M)return void ce.appendLineTokens(q)}this._tokens.push(new li(M,[q]))}finalize(){return this._tokens}}var bi=e(39424);class Fi{constructor(M,q){this.tokenizationSupport=q,this.initialState=this.tokenizationSupport.getInitialState(),this.store=new Qi(M)}getStartState(M){return this.store.getStartState(M,this.initialState)}getFirstInvalidLine(){return this.store.getFirstInvalidLine(this.initialState)}}class Yi extends Fi{constructor(M,q,ce,Ue){super(M,q),this._textModel=ce,this._languageIdCodec=Ue}updateTokensUntilLine(M,q){const ce=this._textModel.getLanguageId();for(;;){const Ue=this.getFirstInvalidLine();if(!Ue||Ue.lineNumber>q)break;const $e=this._textModel.getLineContent(Ue.lineNumber),ct=Dn(this._languageIdCodec,ce,this.tokenizationSupport,$e,!0,Ue.startState);M.add(Ue.lineNumber,ct.tokens),this.store.setEndState(Ue.lineNumber,ct.endState)}}getTokenTypeIfInsertingCharacter(M,q){const ce=this.getStartState(M.lineNumber);if(!ce)return 0;const Ue=this._textModel.getLanguageId(),$e=this._textModel.getLineContent(M.lineNumber),ct=$e.substring(0,M.column-1)+q+$e.substring(M.column-1),Et=Dn(this._languageIdCodec,Ue,this.tokenizationSupport,ct,!0,ce),kt=new bi.A(Et.tokens,ct,this._languageIdCodec);if(0===kt.getCount())return 0;const ri=kt.findTokenIndexAtOffset(M.column-1);return kt.getStandardTokenType(ri)}tokenizeLineWithEdit(M,q,ce){const Ue=M.lineNumber,$e=M.column,ct=this.getStartState(Ue);if(!ct)return null;const Et=this._textModel.getLineContent(Ue),kt=Et.substring(0,$e-1)+ce+Et.substring($e-1+q),ri=this._textModel.getLanguageIdAtPosition(Ue,0),hi=Dn(this._languageIdCodec,ri,this.tokenizationSupport,kt,!0,ct);return new bi.A(hi.tokens,kt,this._languageIdCodec)}isCheapToTokenize(M){const q=this.store.getFirstInvalidEndStateLineNumberOrMax();return M<q||M===q&&this._textModel.getLineLength(M)<2048}tokenizeHeuristically(M,q,ce){if(ce<=this.store.getFirstInvalidEndStateLineNumberOrMax())return{heuristicTokens:!1};if(q<=this.store.getFirstInvalidEndStateLineNumberOrMax())return this.updateTokensUntilLine(M,ce),{heuristicTokens:!1};let Ue=this.guessStartState(q);const $e=this._textModel.getLanguageId();for(let ct=q;ct<=ce;ct++){const Et=this._textModel.getLineContent(ct),kt=Dn(this._languageIdCodec,$e,this.tokenizationSupport,Et,!0,Ue);M.add(ct,kt.tokens),Ue=kt.endState}return{heuristicTokens:!0}}guessStartState(M){let q=this._textModel.getLineFirstNonWhitespaceColumn(M);const ce=[];let Ue=null;for(let Et=M-1;q>1&&Et>=1;Et--){const kt=this._textModel.getLineFirstNonWhitespaceColumn(Et);if(0!==kt&&kt<q&&(ce.push(this._textModel.getLineContent(Et)),q=kt,Ue=this.getStartState(Et),Ue))break}Ue||(Ue=this.tokenizationSupport.getInitialState()),ce.reverse();const $e=this._textModel.getLanguageId();let ct=Ue;for(const Et of ce)ct=Dn(this._languageIdCodec,$e,this.tokenizationSupport,Et,!1,ct).endState;return ct}}class Qi{constructor(M){this.lineCount=M,this._tokenizationStateStore=new cn,this._invalidEndStatesLineNumbers=new bn,this._invalidEndStatesLineNumbers.addRange(new ui.q(1,M+1))}getEndState(M){return this._tokenizationStateStore.getEndState(M)}setEndState(M,q){if(!q)throw new r.he("Cannot set null/undefined state");this._invalidEndStatesLineNumbers.delete(M);const ce=this._tokenizationStateStore.setEndState(M,q);return ce&&M<this.lineCount&&this._invalidEndStatesLineNumbers.addRange(new ui.q(M+1,M+2)),ce}acceptChange(M,q){this.lineCount+=q-M.length,this._tokenizationStateStore.acceptChange(M,q),this._invalidEndStatesLineNumbers.addRangeAndResize(new ui.q(M.startLineNumber,M.endLineNumberExclusive),q)}acceptChanges(M){for(const q of M){const[ce]=(0,E.Q)(q.text);this.acceptChange(new p.z(q.range.startLineNumber,q.range.endLineNumber+1),ce+1)}}invalidateEndStateRange(M){this._invalidEndStatesLineNumbers.addRange(new ui.q(M.startLineNumber,M.endLineNumberExclusive))}getFirstInvalidEndStateLineNumber(){return this._invalidEndStatesLineNumbers.min}getFirstInvalidEndStateLineNumberOrMax(){return this.getFirstInvalidEndStateLineNumber()||Number.MAX_SAFE_INTEGER}allStatesValid(){return null===this._invalidEndStatesLineNumbers.min}getStartState(M,q){return 1===M?q:this.getEndState(M-1)}getFirstInvalidLine(M){const q=this.getFirstInvalidEndStateLineNumber();if(null===q)return null;const ce=this.getStartState(q,M);if(!ce)throw new r.he("Start state must be defined");return{lineNumber:q,startState:ce}}}class cn{constructor(){this._lineEndStates=new Nt(null)}getEndState(M){return this._lineEndStates.get(M)}setEndState(M,q){const ce=this._lineEndStates.get(M);return!(ce&&ce.equals(q)||(this._lineEndStates.set(M,q),0))}acceptChange(M,q){let ce=M.length;q>0&&ce>0&&(ce--,q--),this._lineEndStates.replace(M.startLineNumber,ce,q)}}class bn{constructor(){this._ranges=[]}get min(){return 0===this._ranges.length?null:this._ranges[0].start}delete(M){const q=this._ranges.findIndex(ce=>ce.contains(M));if(-1!==q){const ce=this._ranges[q];ce.start===M?ce.endExclusive===M+1?this._ranges.splice(q,1):this._ranges[q]=new ui.q(M+1,ce.endExclusive):ce.endExclusive===M+1?this._ranges[q]=new ui.q(ce.start,M):this._ranges.splice(q,1,new ui.q(ce.start,M),new ui.q(M+1,ce.endExclusive))}}addRange(M){ui.q.addRange(M,this._ranges)}addRangeAndResize(M,q){let ce=0;for(;!(ce>=this._ranges.length||M.start<=this._ranges[ce].endExclusive);)ce++;let Ue=ce;for(;!(Ue>=this._ranges.length||M.endExclusive<this._ranges[Ue].start);)Ue++;const $e=q-M.length;for(let ct=Ue;ct<this._ranges.length;ct++)this._ranges[ct]=this._ranges[ct].delta($e);if(ce===Ue){const ct=new ui.q(M.start,M.start+q);ct.isEmpty||this._ranges.splice(ce,0,ct)}else{const ct=Math.min(M.start,this._ranges[ce].start),Et=Math.max(M.endExclusive,this._ranges[Ue-1].endExclusive),kt=new ui.q(ct,Et+$e);kt.isEmpty?this._ranges.splice(ce,Ue-ce):this._ranges.splice(ce,Ue-ce,kt)}}toString(){return this._ranges.map(M=>M.toString()).join(" + ")}}function Dn(Ft,M,q,ce,Ue,$e){let ct=null;if(q)try{ct=q.tokenizeEncoded(ce,Ue,$e.clone())}catch(Et){(0,r.dL)(Et)}return ct||(ct=(0,ni.Dy)(Ft.encodeLanguageId(M),$e)),bi.A.convertToEndOffset(ct.tokens,ce.length),ct}class Pn{constructor(M,q){this._tokenizerWithStateStore=M,this._backgroundTokenStore=q,this._isDisposed=!1,this._isScheduled=!1}dispose(){this._isDisposed=!0}handleChanges(){this._beginBackgroundTokenization()}_beginBackgroundTokenization(){this._isScheduled||!this._tokenizerWithStateStore._textModel.isAttachedToEditor()||!this._hasLinesToTokenize()||(this._isScheduled=!0,(0,qi.To)(M=>{this._isScheduled=!1,this._backgroundTokenizeWithDeadline(M)}))}_backgroundTokenizeWithDeadline(M){const q=Date.now()+M.timeRemaining(),ce=()=>{this._isDisposed||!this._tokenizerWithStateStore._textModel.isAttachedToEditor()||!this._hasLinesToTokenize()||(this._backgroundTokenizeForAtLeast1ms(),Date.now()<q?(0,Fn.fn)(ce):this._beginBackgroundTokenization())};ce()}_backgroundTokenizeForAtLeast1ms(){const M=this._tokenizerWithStateStore._textModel.getLineCount(),q=new Yt,ce=vi.G.create(!1);do{if(ce.elapsed()>1||this._tokenizeOneInvalidLine(q)>=M)break}while(this._hasLinesToTokenize());this._backgroundTokenStore.setTokens(q.finalize()),this.checkFinished()}_hasLinesToTokenize(){return!!this._tokenizerWithStateStore&&!this._tokenizerWithStateStore.store.allStatesValid()}_tokenizeOneInvalidLine(M){var q;const ce=null===(q=this._tokenizerWithStateStore)||void 0===q?void 0:q.getFirstInvalidLine();return ce?(this._tokenizerWithStateStore.updateTokensUntilLine(M,ce.lineNumber),ce.lineNumber):this._tokenizerWithStateStore._textModel.getLineCount()+1}checkFinished(){this._isDisposed||this._tokenizerWithStateStore.store.allStatesValid()&&this._backgroundTokenStore.backgroundTokenizationFinished()}requestTokens(M,q){this._tokenizerWithStateStore.store.invalidateEndStateRange(new p.z(M,q))}}const vn=new Uint32Array(0).buffer;class Xn{static deleteBeginning(M,q){return null===M||M===vn?M:Xn.delete(M,0,q)}static deleteEnding(M,q){if(null===M||M===vn)return M;const ce=Wn(M);return Xn.delete(M,q,ce[ce.length-2])}static delete(M,q,ce){if(null===M||M===vn||q===ce)return M;const Ue=Wn(M),$e=Ue.length>>>1;if(0===q&&Ue[Ue.length-2]===ce)return vn;const ct=bi.A.findIndexInTokensArray(Ue,q),Et=ct>0?Ue[ct-1<<1]:0;if(ce<Ue[ct<<1]){const Ti=ce-q;for(let Bi=ct;Bi<$e;Bi++)Ue[Bi<<1]-=Ti;return M}let ri,hi;Et!==q?(Ue[ct<<1]=q,ri=ct+1<<1,hi=q):(ri=ct<<1,hi=Et);const ii=ce-q;for(let Ti=ct+1;Ti<$e;Ti++){const Bi=Ue[Ti<<1]-ii;Bi>hi&&(Ue[ri++]=Bi,Ue[ri++]=Ue[1+(Ti<<1)],hi=Bi)}if(ri===Ue.length)return M;const Si=new Uint32Array(ri);return Si.set(Ue.subarray(0,ri),0),Si.buffer}static append(M,q){if(q===vn)return M;if(M===vn)return q;if(null===M)return M;if(null===q)return null;const ce=Wn(M),Ue=Wn(q),$e=Ue.length>>>1,ct=new Uint32Array(ce.length+Ue.length);ct.set(ce,0);let Et=ce.length;const kt=ce[ce.length-2];for(let ri=0;ri<$e;ri++)ct[Et++]=Ue[ri<<1]+kt,ct[Et++]=Ue[1+(ri<<1)];return ct.buffer}static insert(M,q,ce){if(null===M||M===vn)return M;const Ue=Wn(M),$e=Ue.length>>>1;let ct=bi.A.findIndexInTokensArray(Ue,q);ct>0&&Ue[ct-1<<1]===q&&ct--;for(let Et=ct;Et<$e;Et++)Ue[Et<<1]+=ce;return M}}function Wn(Ft){return Ft instanceof Uint32Array?Ft:new Uint32Array(Ft)}var eo=e(96724);class wn{constructor(M){this._lineTokens=[],this._len=0,this._languageIdCodec=M}flush(){this._lineTokens=[],this._len=0}get hasTokens(){return this._lineTokens.length>0}getTokens(M,q,ce){let Ue=null;if(q<this._len&&(Ue=this._lineTokens[q]),null!==Ue&&Ue!==vn)return new bi.A(Wn(Ue),ce,this._languageIdCodec);const $e=new Uint32Array(2);return $e[0]=ce.length,$e[1]=Un(this._languageIdCodec.encodeLanguageId(M)),new bi.A($e,ce,this._languageIdCodec)}static _massageTokens(M,q,ce){const Ue=ce?Wn(ce):null;if(0===q){let $e=!1;if(Ue&&Ue.length>1&&($e=eo.N.getLanguageId(Ue[1])!==M),!$e)return vn}if(!Ue||0===Ue.length){const $e=new Uint32Array(2);return $e[0]=q,$e[1]=Un(M),$e.buffer}return Ue[Ue.length-2]=q,0===Ue.byteOffset&&Ue.byteLength===Ue.buffer.byteLength?Ue.buffer:Ue}_ensureLine(M){for(;M>=this._len;)this._lineTokens[this._len]=null,this._len++}_deleteLines(M,q){0!==q&&(M+q>this._len&&(q=this._len-M),this._lineTokens.splice(M,q),this._len-=q)}_insertLines(M,q){if(0===q)return;const ce=[];for(let Ue=0;Ue<q;Ue++)ce[Ue]=null;this._lineTokens=f.Zv(this._lineTokens,M,ce),this._len+=q}setTokens(M,q,ce,Ue,$e){const ct=wn._massageTokens(this._languageIdCodec.encodeLanguageId(M),ce,Ue);this._ensureLine(q);const Et=this._lineTokens[q];return this._lineTokens[q]=ct,!!$e&&!wn._equals(Et,ct)}static _equals(M,q){if(!M||!q)return!M&&!q;const ce=Wn(M),Ue=Wn(q);if(ce.length!==Ue.length)return!1;for(let $e=0,ct=ce.length;$e<ct;$e++)if(ce[$e]!==Ue[$e])return!1;return!0}acceptEdit(M,q,ce){this._acceptDeleteRange(M),this._acceptInsertText(new c.L(M.startLineNumber,M.startColumn),q,ce)}_acceptDeleteRange(M){const q=M.startLineNumber-1;if(q>=this._len)return;if(M.startLineNumber===M.endLineNumber){if(M.startColumn===M.endColumn)return;return void(this._lineTokens[q]=Xn.delete(this._lineTokens[q],M.startColumn-1,M.endColumn-1))}this._lineTokens[q]=Xn.deleteEnding(this._lineTokens[q],M.startColumn-1);const ce=M.endLineNumber-1;let Ue=null;ce<this._len&&(Ue=Xn.deleteBeginning(this._lineTokens[ce],M.endColumn-1)),this._lineTokens[q]=Xn.append(this._lineTokens[q],Ue),this._deleteLines(M.startLineNumber,M.endLineNumber-M.startLineNumber)}_acceptInsertText(M,q,ce){if(0===q&&0===ce)return;const Ue=M.lineNumber-1;if(!(Ue>=this._len)){if(0===q)return void(this._lineTokens[Ue]=Xn.insert(this._lineTokens[Ue],M.column-1,ce));this._lineTokens[Ue]=Xn.deleteEnding(this._lineTokens[Ue],M.column-1),this._lineTokens[Ue]=Xn.insert(this._lineTokens[Ue],M.column-1,ce),this._insertLines(M.lineNumber,q)}}setMultilineTokens(M,q){if(0===M.length)return{changes:[]};const ce=[];for(let Ue=0,$e=M.length;Ue<$e;Ue++){const ct=M[Ue];let Et=0,kt=0,ri=!1;for(let hi=ct.startLineNumber;hi<=ct.endLineNumber;hi++)ri?(this.setTokens(q.getLanguageId(),hi-1,q.getLineLength(hi),ct.getLineTokens(hi),!1),kt=hi):this.setTokens(q.getLanguageId(),hi-1,q.getLineLength(hi),ct.getLineTokens(hi),!0)&&(ri=!0,Et=hi,kt=hi);ri&&ce.push({fromLineNumber:Et,toLineNumber:kt})}return{changes:ce}}}function Un(Ft){return(32768|Ft<<0|2<<24|1024)>>>0}class po{constructor(M){this._pieces=[],this._isComplete=!1,this._languageIdCodec=M}flush(){this._pieces=[],this._isComplete=!1}isEmpty(){return 0===this._pieces.length}set(M,q){this._pieces=M||[],this._isComplete=q}setPartial(M,q){let ce=M;if(q.length>0){const $e=q[0].getRange(),ct=q[q.length-1].getRange();if(!$e||!ct)return M;ce=M.plusRange($e).plusRange(ct)}let Ue=null;for(let $e=0,ct=this._pieces.length;$e<ct;$e++){const Et=this._pieces[$e];if(Et.endLineNumber<ce.startLineNumber)continue;if(Et.startLineNumber>ce.endLineNumber){Ue=Ue||{index:$e};break}if(Et.removeTokens(ce),Et.isEmpty()){this._pieces.splice($e,1),$e--,ct--;continue}if(Et.endLineNumber<ce.startLineNumber)continue;if(Et.startLineNumber>ce.endLineNumber){Ue=Ue||{index:$e};continue}const[kt,ri]=Et.split(ce);kt.isEmpty()?Ue=Ue||{index:$e}:ri.isEmpty()||(this._pieces.splice($e,1,kt,ri),$e++,ct++,Ue=Ue||{index:$e})}return Ue=Ue||{index:this._pieces.length},q.length>0&&(this._pieces=f.Zv(this._pieces,Ue.index,q)),ce}isComplete(){return this._isComplete}addSparseTokens(M,q){if(0===q.getLineContent().length)return q;const ce=this._pieces;if(0===ce.length)return q;const $e=ce[po._findFirstPieceWithLine(ce,M)].getLineTokens(M);if(!$e)return q;const ct=q.getCount(),Et=$e.getCount();let kt=0;const ri=[];let hi=0,ii=0;const Si=(Ti,Bi)=>{Ti!==ii&&(ii=Ti,ri[hi++]=Ti,ri[hi++]=Bi)};for(let Ti=0;Ti<Et;Ti++){const Bi=$e.getStartCharacter(Ti),ji=$e.getEndCharacter(Ti),Hi=$e.getMetadata(Ti),Cn=((1&Hi?2048:0)|(2&Hi?4096:0)|(4&Hi?8192:0)|(8&Hi?16384:0)|(16&Hi?16744448:0)|(32&Hi?4278190080:0))>>>0,Ln=~Cn>>>0;for(;kt<ct&&q.getEndOffset(kt)<=Bi;)Si(q.getEndOffset(kt),q.getMetadata(kt)),kt++;for(kt<ct&&q.getStartOffset(kt)<Bi&&Si(Bi,q.getMetadata(kt));kt<ct&&q.getEndOffset(kt)<ji;)Si(q.getEndOffset(kt),q.getMetadata(kt)&Ln|Hi&Cn),kt++;if(kt<ct)Si(ji,q.getMetadata(kt)&Ln|Hi&Cn),q.getEndOffset(kt)===ji&&kt++;else{const kn=Math.min(Math.max(0,kt-1),ct-1);Si(ji,q.getMetadata(kn)&Ln|Hi&Cn)}}for(;kt<ct;)Si(q.getEndOffset(kt),q.getMetadata(kt)),kt++;return new bi.A(new Uint32Array(ri),q.getLineContent(),this._languageIdCodec)}static _findFirstPieceWithLine(M,q){let ce=0,Ue=M.length-1;for(;ce<Ue;){let $e=ce+Math.floor((Ue-ce)/2);if(M[$e].endLineNumber<q)ce=$e+1;else{if(!(M[$e].startLineNumber>q)){for(;$e>ce&&M[$e-1].startLineNumber<=q&&q<=M[$e-1].endLineNumber;)$e--;return $e}Ue=$e-1}}return ce}acceptEdit(M,q,ce,Ue,$e){for(const ct of this._pieces)ct.acceptEdit(M,q,ce,Ue,$e)}}class Jt extends xn.U{constructor(M,q,ce,Ue,$e,ct){super(),this._languageService=M,this._languageConfigurationService=q,this._textModel=ce,this._bracketPairsTextModelPart=Ue,this._languageId=$e,this._attachedViews=ct,this._semanticTokens=new po(this._languageService.languageIdCodec),this._onDidChangeLanguage=this._register(new y.Q5),this.onDidChangeLanguage=this._onDidChangeLanguage.event,this._onDidChangeLanguageConfiguration=this._register(new y.Q5),this.onDidChangeLanguageConfiguration=this._onDidChangeLanguageConfiguration.event,this._onDidChangeTokens=this._register(new y.Q5),this.onDidChangeTokens=this._onDidChangeTokens.event,this.grammarTokens=this._register(new qn(this._languageService.languageIdCodec,this._textModel,()=>this._languageId,this._attachedViews)),this._register(this._languageConfigurationService.onDidChange(Et=>{Et.affects(this._languageId)&&this._onDidChangeLanguageConfiguration.fire({})})),this._register(this.grammarTokens.onDidChangeTokens(Et=>{this._emitModelTokensChangedEvent(Et)})),this._register(this.grammarTokens.onDidChangeBackgroundTokenizationState(Et=>{this._bracketPairsTextModelPart.handleDidChangeBackgroundTokenizationState()}))}handleDidChangeContent(M){if(M.isFlush)this._semanticTokens.flush();else if(!M.isEolChange)for(const q of M.changes){const[ce,Ue,$e]=(0,E.Q)(q.text);this._semanticTokens.acceptEdit(q.range,ce,Ue,$e,q.text.length>0?q.text.charCodeAt(0):0)}this.grammarTokens.handleDidChangeContent(M)}handleDidChangeAttached(){this.grammarTokens.handleDidChangeAttached()}getLineTokens(M){this.validateLineNumber(M);const q=this.grammarTokens.getLineTokens(M);return this._semanticTokens.addSparseTokens(M,q)}_emitModelTokensChangedEvent(M){this._textModel._isDisposing()||(this._bracketPairsTextModelPart.handleDidChangeTokens(M),this._onDidChangeTokens.fire(M))}validateLineNumber(M){if(M<1||M>this._textModel.getLineCount())throw new r.he("Illegal value for lineNumber")}get hasTokens(){return this.grammarTokens.hasTokens}resetTokenization(){this.grammarTokens.resetTokenization()}get backgroundTokenizationState(){return this.grammarTokens.backgroundTokenizationState}forceTokenization(M){this.validateLineNumber(M),this.grammarTokens.forceTokenization(M)}isCheapToTokenize(M){return this.validateLineNumber(M),this.grammarTokens.isCheapToTokenize(M)}tokenizeIfCheap(M){this.validateLineNumber(M),this.grammarTokens.tokenizeIfCheap(M)}getTokenTypeIfInsertingCharacter(M,q,ce){return this.grammarTokens.getTokenTypeIfInsertingCharacter(M,q,ce)}tokenizeLineWithEdit(M,q,ce){return this.grammarTokens.tokenizeLineWithEdit(M,q,ce)}setSemanticTokens(M,q){this._semanticTokens.set(M,q),this._emitModelTokensChangedEvent({semanticTokensApplied:null!==M,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]})}hasCompleteSemanticTokens(){return this._semanticTokens.isComplete()}hasSomeSemanticTokens(){return!this._semanticTokens.isEmpty()}setPartialSemanticTokens(M,q){if(this.hasCompleteSemanticTokens())return;const ce=this._textModel.validateRange(this._semanticTokens.setPartial(M,q));this._emitModelTokensChangedEvent({semanticTokensApplied:!0,ranges:[{fromLineNumber:ce.startLineNumber,toLineNumber:ce.endLineNumber}]})}getWordAtPosition(M){this.assertNotDisposed();const q=this._textModel.validatePosition(M),ce=this._textModel.getLineContent(q.lineNumber),Ue=this.getLineTokens(q.lineNumber),$e=Ue.findTokenIndexAtOffset(q.column-1),[ct,Et]=Jt._findLanguageBoundaries(Ue,$e),kt=(0,fn.t2)(q.column,this.getLanguageConfiguration(Ue.getLanguageId($e)).getWordDefinition(),ce.substring(ct,Et),ct);if(kt&&kt.startColumn<=M.column&&M.column<=kt.endColumn)return kt;if($e>0&&ct===q.column-1){const[ri,hi]=Jt._findLanguageBoundaries(Ue,$e-1),ii=(0,fn.t2)(q.column,this.getLanguageConfiguration(Ue.getLanguageId($e-1)).getWordDefinition(),ce.substring(ri,hi),ri);if(ii&&ii.startColumn<=M.column&&M.column<=ii.endColumn)return ii}return null}getLanguageConfiguration(M){return this._languageConfigurationService.getLanguageConfiguration(M)}static _findLanguageBoundaries(M,q){const ce=M.getLanguageId(q);let Ue=0;for(let ct=q;ct>=0&&M.getLanguageId(ct)===ce;ct--)Ue=M.getStartOffset(ct);let $e=M.getLineContent().length;for(let ct=q,Et=M.getCount();ct<Et&&M.getLanguageId(ct)===ce;ct++)$e=M.getEndOffset(ct);return[Ue,$e]}getWordUntilPosition(M){const q=this.getWordAtPosition(M);return q?{word:q.word.substr(0,M.column-q.startColumn),startColumn:q.startColumn,endColumn:M.column}:{word:"",startColumn:M.column,endColumn:M.column}}getLanguageId(){return this._languageId}getLanguageIdAtPosition(M,q){const ce=this._textModel.validatePosition(new c.L(M,q)),Ue=this.getLineTokens(ce.lineNumber);return Ue.getLanguageId(Ue.findTokenIndexAtOffset(ce.column-1))}setLanguageId(M,q="api"){if(this._languageId===M)return;const ce={oldLanguage:this._languageId,newLanguage:M,source:q};this._languageId=M,this._bracketPairsTextModelPart.handleDidChangeLanguage(ce),this.grammarTokens.resetTokenization(),this._onDidChangeLanguage.fire(ce),this._onDidChangeLanguageConfiguration.fire({})}}class qn extends v.JT{get backgroundTokenizationState(){return this._backgroundTokenizationState}constructor(M,q,ce,Ue){super(),this._languageIdCodec=M,this._textModel=q,this.getLanguageId=ce,this._tokenizer=null,this._defaultBackgroundTokenizer=null,this._backgroundTokenizer=this._register(new v.XK),this._tokens=new wn(this._languageIdCodec),this._debugBackgroundTokenizer=this._register(new v.XK),this._backgroundTokenizationState=1,this._onDidChangeBackgroundTokenizationState=this._register(new y.Q5),this.onDidChangeBackgroundTokenizationState=this._onDidChangeBackgroundTokenizationState.event,this._onDidChangeTokens=this._register(new y.Q5),this.onDidChangeTokens=this._onDidChangeTokens.event,this._attachedViewStates=this._register(new v.b2),this._register(Nn.RW.onDidChange($e=>{const ct=this.getLanguageId();-1!==$e.changedLanguages.indexOf(ct)&&this.resetTokenization()})),this.resetTokenization(),this._register(Ue.onDidChangeVisibleRanges(({view:$e,state:ct})=>{if(ct){let Et=this._attachedViewStates.get($e);Et||(Et=new gn(()=>this.refreshRanges(Et.lineRanges)),this._attachedViewStates.set($e,Et)),Et.handleStateChange(ct)}else this._attachedViewStates.deleteAndDispose($e)}))}resetTokenization(M=!0){var q;this._tokens.flush(),null===(q=this._debugBackgroundTokens)||void 0===q||q.flush(),this._debugBackgroundStates&&(this._debugBackgroundStates=new Qi(this._textModel.getLineCount())),M&&this._onDidChangeTokens.fire({semanticTokensApplied:!1,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]});const[Ue,$e]=(()=>{if(this._textModel.isTooLargeForTokenization())return[null,null];const ct=Nn.RW.get(this.getLanguageId());if(!ct)return[null,null];let Et;try{Et=ct.getInitialState()}catch(kt){return(0,r.dL)(kt),[null,null]}return[ct,Et]})();if(this._tokenizer=Ue&&$e?new Yi(this._textModel.getLineCount(),Ue,this._textModel,this._languageIdCodec):null,this._backgroundTokenizer.clear(),this._defaultBackgroundTokenizer=null,this._tokenizer){const ct={setTokens:Et=>{this.setTokens(Et)},backgroundTokenizationFinished:()=>{2!==this._backgroundTokenizationState&&(this._backgroundTokenizationState=2,this._onDidChangeBackgroundTokenizationState.fire())},setEndState:(Et,kt)=>{var ri;if(!this._tokenizer)return;const hi=this._tokenizer.store.getFirstInvalidEndStateLineNumber();null!==hi&&Et>=hi&&(null===(ri=this._tokenizer)||void 0===ri||ri.store.setEndState(Et,kt))}};Ue&&Ue.createBackgroundTokenizer&&!Ue.backgroundTokenizerShouldOnlyVerifyTokens&&(this._backgroundTokenizer.value=Ue.createBackgroundTokenizer(this._textModel,ct)),this._backgroundTokenizer.value||(this._backgroundTokenizer.value=this._defaultBackgroundTokenizer=new Pn(this._tokenizer,ct),this._defaultBackgroundTokenizer.handleChanges()),Ue?.backgroundTokenizerShouldOnlyVerifyTokens&&Ue.createBackgroundTokenizer?(this._debugBackgroundTokens=new wn(this._languageIdCodec),this._debugBackgroundStates=new Qi(this._textModel.getLineCount()),this._debugBackgroundTokenizer.clear(),this._debugBackgroundTokenizer.value=Ue.createBackgroundTokenizer(this._textModel,{setTokens:Et=>{var kt;null===(kt=this._debugBackgroundTokens)||void 0===kt||kt.setMultilineTokens(Et,this._textModel)},backgroundTokenizationFinished(){},setEndState:(Et,kt)=>{var ri;null===(ri=this._debugBackgroundStates)||void 0===ri||ri.setEndState(Et,kt)}})):(this._debugBackgroundTokens=void 0,this._debugBackgroundStates=void 0,this._debugBackgroundTokenizer.value=void 0)}this.refreshAllVisibleLineTokens()}handleDidChangeAttached(){var M;null===(M=this._defaultBackgroundTokenizer)||void 0===M||M.handleChanges()}handleDidChangeContent(M){var q,ce,Ue;if(M.isFlush)this.resetTokenization(!1);else if(!M.isEolChange){for(const $e of M.changes){const[ct,Et]=(0,E.Q)($e.text);this._tokens.acceptEdit($e.range,ct,Et),null===(q=this._debugBackgroundTokens)||void 0===q||q.acceptEdit($e.range,ct,Et)}null===(ce=this._debugBackgroundStates)||void 0===ce||ce.acceptChanges(M.changes),this._tokenizer&&this._tokenizer.store.acceptChanges(M.changes),null===(Ue=this._defaultBackgroundTokenizer)||void 0===Ue||Ue.handleChanges()}}setTokens(M){const{changes:q}=this._tokens.setMultilineTokens(M,this._textModel);return q.length>0&&this._onDidChangeTokens.fire({semanticTokensApplied:!1,ranges:q}),{changes:q}}refreshAllVisibleLineTokens(){const M=p.z.joinMany([...this._attachedViewStates].map(([q,ce])=>ce.lineRanges));this.refreshRanges(M)}refreshRanges(M){for(const q of M)this.refreshRange(q.startLineNumber,q.endLineNumberExclusive-1)}refreshRange(M,q){var ce,Ue;if(!this._tokenizer)return;M=Math.max(1,Math.min(this._textModel.getLineCount(),M)),q=Math.min(this._textModel.getLineCount(),q);const $e=new Yt,{heuristicTokens:ct}=this._tokenizer.tokenizeHeuristically($e,M,q),Et=this.setTokens($e.finalize());if(ct)for(const kt of Et.changes)null===(ce=this._backgroundTokenizer.value)||void 0===ce||ce.requestTokens(kt.fromLineNumber,kt.toLineNumber+1);null===(Ue=this._defaultBackgroundTokenizer)||void 0===Ue||Ue.checkFinished()}forceTokenization(M){var q,ce;const Ue=new Yt;null===(q=this._tokenizer)||void 0===q||q.updateTokensUntilLine(Ue,M),this.setTokens(Ue.finalize()),null===(ce=this._defaultBackgroundTokenizer)||void 0===ce||ce.checkFinished()}isCheapToTokenize(M){return!this._tokenizer||this._tokenizer.isCheapToTokenize(M)}tokenizeIfCheap(M){this.isCheapToTokenize(M)&&this.forceTokenization(M)}getLineTokens(M){var q;const ce=this._textModel.getLineContent(M),Ue=this._tokens.getTokens(this._textModel.getLanguageId(),M-1,ce);if(this._debugBackgroundTokens&&this._debugBackgroundStates&&this._tokenizer&&this._debugBackgroundStates.getFirstInvalidEndStateLineNumberOrMax()>M&&this._tokenizer.store.getFirstInvalidEndStateLineNumberOrMax()>M){const $e=this._debugBackgroundTokens.getTokens(this._textModel.getLanguageId(),M-1,ce);!Ue.equals($e)&&null!==(q=this._debugBackgroundTokenizer.value)&&void 0!==q&&q.reportMismatchingTokens&&this._debugBackgroundTokenizer.value.reportMismatchingTokens(M)}return Ue}getTokenTypeIfInsertingCharacter(M,q,ce){if(!this._tokenizer)return 0;const Ue=this._textModel.validatePosition(new c.L(M,q));return this.forceTokenization(Ue.lineNumber),this._tokenizer.getTokenTypeIfInsertingCharacter(Ue,ce)}tokenizeLineWithEdit(M,q,ce){if(!this._tokenizer)return null;const Ue=this._textModel.validatePosition(M);return this.forceTokenization(Ue.lineNumber),this._tokenizer.tokenizeLineWithEdit(Ue,q,ce)}get hasTokens(){return this._tokens.hasTokens}}class gn extends v.JT{get lineRanges(){return this._lineRanges}constructor(M){super(),this._refreshTokens=M,this.runner=this._register(new qi.pY(()=>this.update(),50)),this._computedLineRanges=[],this._lineRanges=[]}update(){(0,f.fS)(this._computedLineRanges,this._lineRanges,(M,q)=>M.equals(q))||(this._computedLineRanges=this._lineRanges,this._refreshTokens())}handleStateChange(M){this._lineRanges=M.visibleLineRanges,M.stabilized?(this.runner.cancel(),this.update()):this.runner.schedule()}}var Me,Gn=e(23910),Qn=e(26093),nt=function(Ft,M){return function(q,ce){M(q,ce,Ft)}};function Ke(Ft,M){let q;return q="string"==typeof Ft?function he(Ft){const M=new zi;return M.acceptChunk(Ft),M.finish()}(Ft):m.Hf(Ft)?function Be(Ft){const M=new zi;let q;for(;"string"==typeof(q=Ft.read());)M.acceptChunk(q);return M.finish()}(Ft):Ft,q.create(M)}let Ye=0;class _i{constructor(M){this._source=M,this._eos=!1}read(){if(this._eos)return null;const M=[];let q=0,ce=0;for(;;){const Ue=this._source.read();if(null===Ue)return this._eos=!0,0===q?null:M.join("");if(Ue.length>0&&(M[q++]=Ue,ce+=Ue.length),ce>=65536)return M.join("")}}}const mi=()=>{throw new Error("Invalid change accessor")};let qt=Me=class extends v.JT{static resolveOptions(M,q){if(q.detectIndentation){const ce=De(M,q.tabSize,q.insertSpaces);return new m.dJ({tabSize:ce.tabSize,indentSize:"tabSize",insertSpaces:ce.insertSpaces,trimAutoWhitespace:q.trimAutoWhitespace,defaultEOL:q.defaultEOL,bracketPairColorizationOptions:q.bracketPairColorizationOptions})}return new m.dJ(q)}get onDidChangeLanguage(){return this._tokenizationTextModelPart.onDidChangeLanguage}get onDidChangeLanguageConfiguration(){return this._tokenizationTextModelPart.onDidChangeLanguageConfiguration}get onDidChangeTokens(){return this._tokenizationTextModelPart.onDidChangeTokens}onDidChangeContent(M){return this._eventEmitter.slowEvent(q=>M(q.contentChangedEvent))}onDidChangeContentOrInjectedText(M){return(0,v.F8)(this._eventEmitter.fastEvent(q=>M(q)),this._onDidChangeInjectedText.event(q=>M(q)))}_isDisposing(){return this.__isDisposing}get tokenization(){return this._tokenizationTextModelPart}get bracketPairs(){return this._bracketPairs}get guides(){return this._guidesTextModelPart}constructor(M,q,ce,Ue=null,$e,ct,Et){super(),this._undoRedoService=$e,this._languageService=ct,this._languageConfigurationService=Et,this._onWillDispose=this._register(new y.Q5),this.onWillDispose=this._onWillDispose.event,this._onDidChangeDecorations=this._register(new ao(Ti=>this.handleBeforeFireDecorationsChangedEvent(Ti))),this.onDidChangeDecorations=this._onDidChangeDecorations.event,this._onDidChangeOptions=this._register(new y.Q5),this.onDidChangeOptions=this._onDidChangeOptions.event,this._onDidChangeAttached=this._register(new y.Q5),this.onDidChangeAttached=this._onDidChangeAttached.event,this._onDidChangeInjectedText=this._register(new y.Q5),this._eventEmitter=this._register(new lo),this._languageSelectionListener=this._register(new v.XK),this._deltaDecorationCallCnt=0,this._attachedViews=new wo,Ye++,this.id="$model"+Ye,this.isForSimpleWidget=ce.isForSimpleWidget,this._associatedResource=typeof Ue>"u"||null===Ue?T.o.parse("inmemory://model/"+Ye):Ue,this._attachedEditorCount=0;const{textBuffer:kt,disposable:ri}=Ke(M,ce.defaultEOL);this._buffer=kt,this._bufferDisposable=ri,this._options=Me.resolveOptions(this._buffer,ce);const hi="string"==typeof q?q:q.languageId;"string"!=typeof q&&(this._languageSelectionListener.value=q.onDidChange(()=>this._setLanguage(q.languageId))),this._bracketPairs=this._register(new K(this,this._languageConfigurationService)),this._guidesTextModelPart=this._register(new Ie.l(this,this._languageConfigurationService)),this._decorationProvider=this._register(new _e(this)),this._tokenizationTextModelPart=new Jt(this._languageService,this._languageConfigurationService,this,this._bracketPairs,hi,this._attachedViews);const ii=this._buffer.getLineCount(),Si=this._buffer.getValueLengthInRange(new u.e(1,1,ii,this._buffer.getLineLength(ii)+1),0);this._isTooLargeForTokenization=!!ce.largeFileOptimizations&&(Si>Me.LARGE_FILE_SIZE_THRESHOLD||ii>Me.LARGE_FILE_LINE_COUNT_THRESHOLD),this._isTooLargeForSyncing=Si>Me._MODEL_SYNC_LIMIT,this._versionId=1,this._alternativeVersionId=1,this._initialUndoRedoSnapshot=null,this._isDisposed=!1,this.__isDisposing=!1,this._instanceId=S.PJ(Ye),this._lastDecorationId=0,this._decorations=Object.create(null),this._decorationsTree=new $i,this._commandManager=new ve.NL(this,this._undoRedoService),this._isUndoing=!1,this._isRedoing=!1,this._trimAutoWhitespaceLines=null,this._register(this._decorationProvider.onDidChange(()=>{this._onDidChangeDecorations.beginDeferredEmit(),this._onDidChangeDecorations.fire(),this._onDidChangeDecorations.endDeferredEmit()})),this._languageService.requestRichLanguageFeatures(hi)}dispose(){this.__isDisposing=!0,this._onWillDispose.fire(),this._tokenizationTextModelPart.dispose(),this._isDisposed=!0,super.dispose(),this._bufferDisposable.dispose(),this.__isDisposing=!1;const M=new Ei([],"","\n",!1,!1,!0,!0);M.dispose(),this._buffer=M,this._bufferDisposable=v.JT.None}_assertNotDisposed(){if(this._isDisposed)throw new Error("Model is disposed!")}_emitContentChangedEvent(M,q){this.__isDisposing||(this._tokenizationTextModelPart.handleDidChangeContent(q),this._bracketPairs.handleDidChangeContent(q),this._eventEmitter.fire(new Gn.fV(M,q)))}setValue(M){if(this._assertNotDisposed(),null==M)throw(0,r.b1)();const{textBuffer:q,disposable:ce}=Ke(M,this._options.defaultEOL);this._setValueFromTextBuffer(q,ce)}_createContentChanged2(M,q,ce,Ue,$e,ct,Et,kt){return{changes:[{range:M,rangeOffset:q,rangeLength:ce,text:Ue}],eol:this._buffer.getEOL(),isEolChange:kt,versionId:this.getVersionId(),isUndoing:$e,isRedoing:ct,isFlush:Et}}_setValueFromTextBuffer(M,q){this._assertNotDisposed();const ce=this.getFullModelRange(),Ue=this.getValueLengthInRange(ce),$e=this.getLineCount(),ct=this.getLineMaxColumn($e);this._buffer=M,this._bufferDisposable.dispose(),this._bufferDisposable=q,this._increaseVersionId(),this._decorations=Object.create(null),this._decorationsTree=new $i,this._commandManager.clear(),this._trimAutoWhitespaceLines=null,this._emitContentChangedEvent(new Gn.dQ([new Gn.Jx],this._versionId,!1,!1),this._createContentChanged2(new u.e(1,1,$e,ct),0,Ue,this.getValue(),!1,!1,!0,!1))}setEOL(M){this._assertNotDisposed();const q=1===M?"\r\n":"\n";if(this._buffer.getEOL()===q)return;const ce=this.getFullModelRange(),Ue=this.getValueLengthInRange(ce),$e=this.getLineCount(),ct=this.getLineMaxColumn($e);this._onBeforeEOLChange(),this._buffer.setEOL(q),this._increaseVersionId(),this._onAfterEOLChange(),this._emitContentChangedEvent(new Gn.dQ([new Gn.CZ],this._versionId,!1,!1),this._createContentChanged2(new u.e(1,1,$e,ct),0,Ue,this.getValue(),!1,!1,!1,!0))}_onBeforeEOLChange(){this._decorationsTree.ensureAllNodesHaveRanges(this)}_onAfterEOLChange(){const M=this.getVersionId(),q=this._decorationsTree.collectNodesPostOrder();for(let ce=0,Ue=q.length;ce<Ue;ce++){const $e=q[ce],ct=$e.range,Et=$e.cachedAbsoluteStart-$e.start,kt=this._buffer.getOffsetAt(ct.startLineNumber,ct.startColumn),ri=this._buffer.getOffsetAt(ct.endLineNumber,ct.endColumn);$e.cachedAbsoluteStart=kt,$e.cachedAbsoluteEnd=ri,$e.cachedVersionId=M,$e.start=kt-Et,$e.end=ri-Et,Te($e)}}onBeforeAttached(){return this._attachedEditorCount++,1===this._attachedEditorCount&&(this._tokenizationTextModelPart.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0)),this._attachedViews.attachView()}onBeforeDetached(M){this._attachedEditorCount--,0===this._attachedEditorCount&&(this._tokenizationTextModelPart.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0)),this._attachedViews.detachView(M)}isAttachedToEditor(){return this._attachedEditorCount>0}getAttachedEditorCount(){return this._attachedEditorCount}isTooLargeForSyncing(){return this._isTooLargeForSyncing}isTooLargeForTokenization(){return this._isTooLargeForTokenization}isDisposed(){return this._isDisposed}isDominatedByLongLines(){if(this._assertNotDisposed(),this.isTooLargeForTokenization())return!1;let M=0,q=0;const ce=this._buffer.getLineCount();for(let Ue=1;Ue<=ce;Ue++){const $e=this._buffer.getLineLength(Ue);$e>=1e4?q+=$e:M+=$e}return q>M}get uri(){return this._associatedResource}getOptions(){return this._assertNotDisposed(),this._options}getFormattingOptions(){return{tabSize:this._options.indentSize,insertSpaces:this._options.insertSpaces}}updateOptions(M){this._assertNotDisposed();const Et=new m.dJ({tabSize:typeof M.tabSize<"u"?M.tabSize:this._options.tabSize,indentSize:typeof M.indentSize<"u"?M.indentSize:this._options.originalIndentSize,insertSpaces:typeof M.insertSpaces<"u"?M.insertSpaces:this._options.insertSpaces,defaultEOL:this._options.defaultEOL,trimAutoWhitespace:typeof M.trimAutoWhitespace<"u"?M.trimAutoWhitespace:this._options.trimAutoWhitespace,bracketPairColorizationOptions:typeof M.bracketColorizationOptions<"u"?M.bracketColorizationOptions:this._options.bracketPairColorizationOptions});if(this._options.equals(Et))return;const kt=this._options.createChangeEvent(Et);this._options=Et,this._bracketPairs.handleDidChangeOptions(kt),this._decorationProvider.handleDidChangeOptions(kt),this._onDidChangeOptions.fire(kt)}detectIndentation(M,q){this._assertNotDisposed();const ce=De(this._buffer,q,M);this.updateOptions({insertSpaces:ce.insertSpaces,tabSize:ce.tabSize,indentSize:ce.tabSize})}normalizeIndentation(M){return this._assertNotDisposed(),(0,L.x)(M,this._options.indentSize,this._options.insertSpaces)}getVersionId(){return this._assertNotDisposed(),this._versionId}mightContainRTL(){return this._buffer.mightContainRTL()}mightContainUnusualLineTerminators(){return this._buffer.mightContainUnusualLineTerminators()}removeUnusualLineTerminators(M=null){const q=this.findMatches(S.Qe.source,!1,!0,!1,null,!1,1073741824);this._buffer.resetMightContainUnusualLineTerminators(),this.pushEditOperations(M,q.map(ce=>({range:ce.range,text:null})),()=>null)}mightContainNonBasicASCII(){return this._buffer.mightContainNonBasicASCII()}getAlternativeVersionId(){return this._assertNotDisposed(),this._alternativeVersionId}getInitialUndoRedoSnapshot(){return this._assertNotDisposed(),this._initialUndoRedoSnapshot}getOffsetAt(M){this._assertNotDisposed();const q=this._validatePosition(M.lineNumber,M.column,0);return this._buffer.getOffsetAt(q.lineNumber,q.column)}getPositionAt(M){this._assertNotDisposed();const q=Math.min(this._buffer.getLength(),Math.max(0,M));return this._buffer.getPositionAt(q)}_increaseVersionId(){this._versionId=this._versionId+1,this._alternativeVersionId=this._versionId}_overwriteVersionId(M){this._versionId=M}_overwriteAlternativeVersionId(M){this._alternativeVersionId=M}_overwriteInitialUndoRedoSnapshot(M){this._initialUndoRedoSnapshot=M}getValue(M,q=!1){this._assertNotDisposed();const ce=this.getFullModelRange(),Ue=this.getValueInRange(ce,M);return q?this._buffer.getBOM()+Ue:Ue}createSnapshot(M=!1){return new _i(this._buffer.createSnapshot(M))}getValueLength(M,q=!1){this._assertNotDisposed();const ce=this.getFullModelRange(),Ue=this.getValueLengthInRange(ce,M);return q?this._buffer.getBOM().length+Ue:Ue}getValueInRange(M,q=0){return this._assertNotDisposed(),this._buffer.getValueInRange(this.validateRange(M),q)}getValueLengthInRange(M,q=0){return this._assertNotDisposed(),this._buffer.getValueLengthInRange(this.validateRange(M),q)}getCharacterCountInRange(M,q=0){return this._assertNotDisposed(),this._buffer.getCharacterCountInRange(this.validateRange(M),q)}getLineCount(){return this._assertNotDisposed(),this._buffer.getLineCount()}getLineContent(M){if(this._assertNotDisposed(),M<1||M>this.getLineCount())throw new r.he("Illegal value for lineNumber");return this._buffer.getLineContent(M)}getLineLength(M){if(this._assertNotDisposed(),M<1||M>this.getLineCount())throw new r.he("Illegal value for lineNumber");return this._buffer.getLineLength(M)}getLinesContent(){return this._assertNotDisposed(),this._buffer.getLinesContent()}getEOL(){return this._assertNotDisposed(),this._buffer.getEOL()}getEndOfLineSequence(){return this._assertNotDisposed(),"\n"===this._buffer.getEOL()?0:1}getLineMinColumn(M){return this._assertNotDisposed(),1}getLineMaxColumn(M){if(this._assertNotDisposed(),M<1||M>this.getLineCount())throw new r.he("Illegal value for lineNumber");return this._buffer.getLineLength(M)+1}getLineFirstNonWhitespaceColumn(M){if(this._assertNotDisposed(),M<1||M>this.getLineCount())throw new r.he("Illegal value for lineNumber");return this._buffer.getLineFirstNonWhitespaceColumn(M)}getLineLastNonWhitespaceColumn(M){if(this._assertNotDisposed(),M<1||M>this.getLineCount())throw new r.he("Illegal value for lineNumber");return this._buffer.getLineLastNonWhitespaceColumn(M)}_validateRangeRelaxedNoAllocations(M){const q=this._buffer.getLineCount(),ce=M.startLineNumber,Ue=M.startColumn;let $e=Math.floor("number"!=typeof ce||isNaN(ce)?1:ce),ct=Math.floor("number"!=typeof Ue||isNaN(Ue)?1:Ue);if($e<1)$e=1,ct=1;else if($e>q)$e=q,ct=this.getLineMaxColumn($e);else if(ct<=1)ct=1;else{const ii=this.getLineMaxColumn($e);ct>=ii&&(ct=ii)}const Et=M.endLineNumber,kt=M.endColumn;let ri=Math.floor("number"!=typeof Et||isNaN(Et)?1:Et),hi=Math.floor("number"!=typeof kt||isNaN(kt)?1:kt);if(ri<1)ri=1,hi=1;else if(ri>q)ri=q,hi=this.getLineMaxColumn(ri);else if(hi<=1)hi=1;else{const ii=this.getLineMaxColumn(ri);hi>=ii&&(hi=ii)}return ce===$e&&Ue===ct&&Et===ri&&kt===hi&&M instanceof u.e&&!(M instanceof g.Y)?M:new u.e($e,ct,ri,hi)}_isValidPosition(M,q,ce){if("number"!=typeof M||"number"!=typeof q||isNaN(M)||isNaN(q)||M<1||q<1||(0|M)!==M||(0|q)!==q)return!1;if(M>this._buffer.getLineCount())return!1;if(1===q)return!0;if(q>this.getLineMaxColumn(M))return!1;if(1===ce){const ct=this._buffer.getLineCharCode(M,q-2);if(S.ZG(ct))return!1}return!0}_validatePosition(M,q,ce){const Ue=Math.floor("number"!=typeof M||isNaN(M)?1:M),$e=Math.floor("number"!=typeof q||isNaN(q)?1:q),ct=this._buffer.getLineCount();if(Ue<1)return new c.L(1,1);if(Ue>ct)return new c.L(ct,this.getLineMaxColumn(ct));if($e<=1)return new c.L(Ue,1);const Et=this.getLineMaxColumn(Ue);if($e>=Et)return new c.L(Ue,Et);if(1===ce){const kt=this._buffer.getLineCharCode(Ue,$e-2);if(S.ZG(kt))return new c.L(Ue,$e-1)}return new c.L(Ue,$e)}validatePosition(M){return this._assertNotDisposed(),M instanceof c.L&&this._isValidPosition(M.lineNumber,M.column,1)?M:this._validatePosition(M.lineNumber,M.column,1)}_isValidRange(M,q){const ce=M.startLineNumber,Ue=M.startColumn,$e=M.endLineNumber,ct=M.endColumn;if(!this._isValidPosition(ce,Ue,0)||!this._isValidPosition($e,ct,0))return!1;if(1===q){const Et=Ue>1?this._buffer.getLineCharCode(ce,Ue-2):0,kt=ct>1&&ct<=this._buffer.getLineLength($e)?this._buffer.getLineCharCode($e,ct-2):0,ri=S.ZG(Et),hi=S.ZG(kt);return!ri&&!hi}return!0}validateRange(M){if(this._assertNotDisposed(),M instanceof u.e&&!(M instanceof g.Y)&&this._isValidRange(M,1))return M;const ce=this._validatePosition(M.startLineNumber,M.startColumn,0),Ue=this._validatePosition(M.endLineNumber,M.endColumn,0),$e=ce.lineNumber,ct=ce.column,Et=Ue.lineNumber,kt=Ue.column;{const ri=ct>1?this._buffer.getLineCharCode($e,ct-2):0,hi=kt>1&&kt<=this._buffer.getLineLength(Et)?this._buffer.getLineCharCode(Et,kt-2):0,ii=S.ZG(ri),Si=S.ZG(hi);return ii||Si?$e===Et&&ct===kt?new u.e($e,ct-1,Et,kt-1):ii&&Si?new u.e($e,ct-1,Et,kt+1):ii?new u.e($e,ct-1,Et,kt):new u.e($e,ct,Et,kt+1):new u.e($e,ct,Et,kt)}}modifyPosition(M,q){this._assertNotDisposed();const ce=this.getOffsetAt(M)+q;return this.getPositionAt(Math.min(this._buffer.getLength(),Math.max(0,ce)))}getFullModelRange(){this._assertNotDisposed();const M=this.getLineCount();return new u.e(1,1,M,this.getLineMaxColumn(M))}findMatchesLineByLine(M,q,ce,Ue){return this._buffer.findMatchesLineByLine(M,q,ce,Ue)}findMatches(M,q,ce,Ue,$e,ct,Et=999){this._assertNotDisposed();let kt=null;null!==q&&(Array.isArray(q)||(q=[q]),q.every(ii=>u.e.isIRange(ii))&&(kt=q.map(ii=>this.validateRange(ii)))),null===kt&&(kt=[this.getFullModelRange()]),kt=kt.sort((ii,Si)=>ii.startLineNumber-Si.startLineNumber||ii.startColumn-Si.startColumn);const ri=[];let hi;if(ri.push(kt.reduce((ii,Si)=>u.e.areIntersecting(ii,Si)?ii.plusRange(Si):(ri.push(ii),Si))),!ce&&M.indexOf("\n")<0){const Si=new ut.bc(M,ce,Ue,$e).parseSearchRequest();if(!Si)return[];hi=Ti=>this.findMatchesLineByLine(Ti,Si,ct,Et)}else hi=ii=>ut.pM.findMatches(this,new ut.bc(M,ce,Ue,$e),ii,ct,Et);return ri.map(hi).reduce((ii,Si)=>ii.concat(Si),[])}findNextMatch(M,q,ce,Ue,$e,ct){this._assertNotDisposed();const Et=this.validatePosition(q);if(!ce&&M.indexOf("\n")<0){const ri=new ut.bc(M,ce,Ue,$e).parseSearchRequest();if(!ri)return null;const hi=this.getLineCount();let ii=new u.e(Et.lineNumber,Et.column,hi,this.getLineMaxColumn(hi)),Si=this.findMatchesLineByLine(ii,ri,ct,1);return ut.pM.findNextMatch(this,new ut.bc(M,ce,Ue,$e),Et,ct),Si.length>0||(ii=new u.e(1,1,Et.lineNumber,this.getLineMaxColumn(Et.lineNumber)),Si=this.findMatchesLineByLine(ii,ri,ct,1),Si.length>0)?Si[0]:null}return ut.pM.findNextMatch(this,new ut.bc(M,ce,Ue,$e),Et,ct)}findPreviousMatch(M,q,ce,Ue,$e,ct){this._assertNotDisposed();const Et=this.validatePosition(q);return ut.pM.findPreviousMatch(this,new ut.bc(M,ce,Ue,$e),Et,ct)}pushStackElement(){this._commandManager.pushStackElement()}popStackElement(){this._commandManager.popStackElement()}pushEOL(M){if(("\n"===this.getEOL()?0:1)!==M)try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),null===this._initialUndoRedoSnapshot&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEOL(M)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_validateEditOperation(M){return M instanceof m.Qi?M:new m.Qi(M.identifier||null,this.validateRange(M.range),M.text,M.forceMoveMarkers||!1,M.isAutoWhitespaceEdit||!1,M._isTracked||!1)}_validateEditOperations(M){const q=[];for(let ce=0,Ue=M.length;ce<Ue;ce++)q[ce]=this._validateEditOperation(M[ce]);return q}pushEditOperations(M,q,ce,Ue){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._pushEditOperations(M,this._validateEditOperations(q),ce,Ue)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_pushEditOperations(M,q,ce,Ue){if(this._options.trimAutoWhitespace&&this._trimAutoWhitespaceLines){const $e=q.map(Et=>({range:this.validateRange(Et.range),text:Et.text}));let ct=!0;if(M)for(let Et=0,kt=M.length;Et<kt;Et++){const ri=M[Et];let hi=!1;for(let ii=0,Si=$e.length;ii<Si;ii++){const Ti=$e[ii].range;if(!(Ti.startLineNumber>ri.endLineNumber||ri.startLineNumber>Ti.endLineNumber)){hi=!0;break}}if(!hi){ct=!1;break}}if(ct)for(let Et=0,kt=this._trimAutoWhitespaceLines.length;Et<kt;Et++){const ri=this._trimAutoWhitespaceLines[Et],hi=this.getLineMaxColumn(ri);let ii=!0;for(let Si=0,Ti=$e.length;Si<Ti;Si++){const Bi=$e[Si].range,ji=$e[Si].text;if(!(ri<Bi.startLineNumber||ri>Bi.endLineNumber||ri===Bi.startLineNumber&&Bi.startColumn===hi&&Bi.isEmpty()&&ji&&ji.length>0&&"\n"===ji.charAt(0)||ri===Bi.startLineNumber&&1===Bi.startColumn&&Bi.isEmpty()&&ji&&ji.length>0&&"\n"===ji.charAt(ji.length-1))){ii=!1;break}}if(ii){const Si=new u.e(ri,1,ri,hi);q.push(new m.Qi(null,Si,null,!1,!1,!1))}}this._trimAutoWhitespaceLines=null}return null===this._initialUndoRedoSnapshot&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEditOperation(M,q,ce,Ue)}_applyUndo(M,q,ce,Ue){const $e=M.map(ct=>{const Et=this.getPositionAt(ct.newPosition),kt=this.getPositionAt(ct.newEnd);return{range:new u.e(Et.lineNumber,Et.column,kt.lineNumber,kt.column),text:ct.oldText}});this._applyUndoRedoEdits($e,q,!0,!1,ce,Ue)}_applyRedo(M,q,ce,Ue){const $e=M.map(ct=>{const Et=this.getPositionAt(ct.oldPosition),kt=this.getPositionAt(ct.oldEnd);return{range:new u.e(Et.lineNumber,Et.column,kt.lineNumber,kt.column),text:ct.newText}});this._applyUndoRedoEdits($e,q,!1,!0,ce,Ue)}_applyUndoRedoEdits(M,q,ce,Ue,$e,ct){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._isUndoing=ce,this._isRedoing=Ue,this.applyEdits(M,!1),this.setEOL(q),this._overwriteAlternativeVersionId($e)}finally{this._isUndoing=!1,this._isRedoing=!1,this._eventEmitter.endDeferredEmit(ct),this._onDidChangeDecorations.endDeferredEmit()}}applyEdits(M,q=!1){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit();const ce=this._validateEditOperations(M);return this._doApplyEdits(ce,q)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_doApplyEdits(M,q){const ce=this._buffer.getLineCount(),Ue=this._buffer.applyEdits(M,this._options.trimAutoWhitespace,q),$e=this._buffer.getLineCount(),ct=Ue.changes;if(this._trimAutoWhitespaceLines=Ue.trimAutoWhitespaceLineNumbers,0!==ct.length){for(let ri=0,hi=ct.length;ri<hi;ri++){const ii=ct[ri];this._decorationsTree.acceptReplace(ii.rangeOffset,ii.rangeLength,ii.text.length,ii.forceMoveMarkers)}const Et=[];this._increaseVersionId();let kt=ce;for(let ri=0,hi=ct.length;ri<hi;ri++){const ii=ct[ri],[Si]=(0,E.Q)(ii.text);this._onDidChangeDecorations.fire();const Ti=ii.range.startLineNumber,Bi=ii.range.endLineNumber,ji=Bi-Ti,Hi=Si,Cn=Math.min(ji,Hi),Ln=Hi-ji,kn=$e-kt-Ln+Ti,Gt=kn+Hi,re=this._decorationsTree.getInjectedTextInInterval(this,this.getOffsetAt(new c.L(kn,1)),this.getOffsetAt(new c.L(Gt,this.getLineMaxColumn(Gt))),0),We=Gn.gk.fromDecorations(re),rt=new f.H9(We);for(let Pt=Cn;Pt>=0;Pt--){const Kt=Ti+Pt,ti=kn+Pt;rt.takeFromEndWhile(Li=>Li.lineNumber>ti);const yi=rt.takeFromEndWhile(Li=>Li.lineNumber===ti);Et.push(new Gn.rU(Kt,this.getLineContent(ti),yi))}if(Cn<ji&&Et.push(new Gn.lN(Ti+Cn+1,Bi)),Cn<Hi){const Pt=new f.H9(We),Kt=Ti+Cn,ti=Hi-Cn,yi=$e-kt-ti+Kt+1,Li=[],sn=[];for(let on=0;on<ti;on++){const rn=yi+on;sn[on]=this.getLineContent(rn),Pt.takeWhile(ln=>ln.lineNumber<rn),Li[on]=Pt.takeWhile(ln=>ln.lineNumber===rn)}Et.push(new Gn.Tx(Kt+1,Ti+Hi,sn,Li))}kt+=Ln}this._emitContentChangedEvent(new Gn.dQ(Et,this.getVersionId(),this._isUndoing,this._isRedoing),{changes:ct,eol:this._buffer.getEOL(),isEolChange:!1,versionId:this.getVersionId(),isUndoing:this._isUndoing,isRedoing:this._isRedoing,isFlush:!1})}return null===Ue.reverseEdits?void 0:Ue.reverseEdits}undo(){return this._undoRedoService.undo(this.uri)}canUndo(){return this._undoRedoService.canUndo(this.uri)}redo(){return this._undoRedoService.redo(this.uri)}canRedo(){return this._undoRedoService.canRedo(this.uri)}handleBeforeFireDecorationsChangedEvent(M){if(null===M||0===M.size)return;const ce=Array.from(M).map(Ue=>new Gn.rU(Ue,this.getLineContent(Ue),this._getInjectedTextInLine(Ue)));this._onDidChangeInjectedText.fire(new Gn.D8(ce))}changeDecorations(M,q=0){this._assertNotDisposed();try{return this._onDidChangeDecorations.beginDeferredEmit(),this._changeDecorations(q,M)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_changeDecorations(M,q){const ce={addDecoration:($e,ct)=>this._deltaDecorationsImpl(M,[],[{range:$e,options:ct}])[0],changeDecoration:($e,ct)=>{this._changeDecorationImpl($e,ct)},changeDecorationOptions:($e,ct)=>{this._changeDecorationOptionsImpl($e,ro(ct))},removeDecoration:$e=>{this._deltaDecorationsImpl(M,[$e],[])},deltaDecorations:($e,ct)=>0===$e.length&&0===ct.length?[]:this._deltaDecorationsImpl(M,$e,ct)};let Ue=null;try{Ue=q(ce)}catch($e){(0,r.dL)($e)}return ce.addDecoration=mi,ce.changeDecoration=mi,ce.changeDecorationOptions=mi,ce.removeDecoration=mi,ce.deltaDecorations=mi,Ue}deltaDecorations(M,q,ce=0){if(this._assertNotDisposed(),M||(M=[]),0===M.length&&0===q.length)return[];try{return this._deltaDecorationCallCnt++,this._deltaDecorationCallCnt>1&&(console.warn("Invoking deltaDecorations recursively could lead to leaking decorations."),(0,r.dL)(new Error("Invoking deltaDecorations recursively could lead to leaking decorations."))),this._onDidChangeDecorations.beginDeferredEmit(),this._deltaDecorationsImpl(ce,M,q)}finally{this._onDidChangeDecorations.endDeferredEmit(),this._deltaDecorationCallCnt--}}_getTrackedRange(M){return this.getDecorationRange(M)}_setTrackedRange(M,q,ce){const Ue=M?this._decorations[M]:null;if(!Ue)return q?this._deltaDecorationsImpl(0,[],[{range:q,options:An[ce]}],!0)[0]:null;if(!q)return this._decorationsTree.delete(Ue),delete this._decorations[Ue.id],null;const $e=this._validateRangeRelaxedNoAllocations(q),ct=this._buffer.getOffsetAt($e.startLineNumber,$e.startColumn),Et=this._buffer.getOffsetAt($e.endLineNumber,$e.endColumn);return this._decorationsTree.delete(Ue),Ue.reset(this.getVersionId(),ct,Et,$e),Ue.setOptions(An[ce]),this._decorationsTree.insert(Ue),Ue.id}removeAllDecorationsWithOwnerId(M){if(this._isDisposed)return;const q=this._decorationsTree.collectNodesFromOwner(M);for(let ce=0,Ue=q.length;ce<Ue;ce++){const $e=q[ce];this._decorationsTree.delete($e),delete this._decorations[$e.id]}}getDecorationOptions(M){const q=this._decorations[M];return q?q.options:null}getDecorationRange(M){const q=this._decorations[M];return q?this._decorationsTree.getNodeRange(this,q):null}getLineDecorations(M,q=0,ce=!1){return M<1||M>this.getLineCount()?[]:this.getLinesDecorations(M,M,q,ce)}getLinesDecorations(M,q,ce=0,Ue=!1,$e=!1){const ct=this.getLineCount(),Et=Math.min(ct,Math.max(1,M)),kt=Math.min(ct,Math.max(1,q)),ri=this.getLineMaxColumn(kt),hi=new u.e(Et,1,kt,ri),ii=this._getDecorationsInRange(hi,ce,Ue,$e);return(0,f.vA)(ii,this._decorationProvider.getDecorationsInRange(hi,ce,Ue)),ii}getDecorationsInRange(M,q=0,ce=!1,Ue=!1,$e=!1){const ct=this.validateRange(M),Et=this._getDecorationsInRange(ct,q,ce,$e);return(0,f.vA)(Et,this._decorationProvider.getDecorationsInRange(ct,q,ce,Ue)),Et}getOverviewRulerDecorations(M=0,q=!1){return this._decorationsTree.getAll(this,M,q,!0,!1)}getInjectedTextDecorations(M=0){return this._decorationsTree.getAllInjectedText(this,M)}_getInjectedTextInLine(M){const q=this._buffer.getOffsetAt(M,1),ce=q+this._buffer.getLineLength(M),Ue=this._decorationsTree.getInjectedTextInInterval(this,q,ce,0);return Gn.gk.fromDecorations(Ue).filter($e=>$e.lineNumber===M)}getAllDecorations(M=0,q=!1){let ce=this._decorationsTree.getAll(this,M,q,!1,!1);return ce=ce.concat(this._decorationProvider.getAllDecorations(M,q)),ce}getAllMarginDecorations(M=0){return this._decorationsTree.getAll(this,M,!1,!1,!0)}_getDecorationsInRange(M,q,ce,Ue){const $e=this._buffer.getOffsetAt(M.startLineNumber,M.startColumn),ct=this._buffer.getOffsetAt(M.endLineNumber,M.endColumn);return this._decorationsTree.getAllInInterval(this,$e,ct,q,ce,Ue)}getRangeAt(M,q){return this._buffer.getRangeAt(M,q-M)}_changeDecorationImpl(M,q){const ce=this._decorations[M];if(!ce)return;if(ce.options.after){const Et=this.getDecorationRange(M);this._onDidChangeDecorations.recordLineAffectedByInjectedText(Et.endLineNumber)}if(ce.options.before){const Et=this.getDecorationRange(M);this._onDidChangeDecorations.recordLineAffectedByInjectedText(Et.startLineNumber)}const Ue=this._validateRangeRelaxedNoAllocations(q),$e=this._buffer.getOffsetAt(Ue.startLineNumber,Ue.startColumn),ct=this._buffer.getOffsetAt(Ue.endLineNumber,Ue.endColumn);this._decorationsTree.delete(ce),ce.reset(this.getVersionId(),$e,ct,Ue),this._decorationsTree.insert(ce),this._onDidChangeDecorations.checkAffectedAndFire(ce.options),ce.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(Ue.endLineNumber),ce.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(Ue.startLineNumber)}_changeDecorationOptionsImpl(M,q){const ce=this._decorations[M];if(!ce)return;const Ue=!(!ce.options.overviewRuler||!ce.options.overviewRuler.color),$e=!(!q.overviewRuler||!q.overviewRuler.color);if(this._onDidChangeDecorations.checkAffectedAndFire(ce.options),this._onDidChangeDecorations.checkAffectedAndFire(q),ce.options.after||q.after){const ct=this._decorationsTree.getNodeRange(this,ce);this._onDidChangeDecorations.recordLineAffectedByInjectedText(ct.endLineNumber)}if(ce.options.before||q.before){const ct=this._decorationsTree.getNodeRange(this,ce);this._onDidChangeDecorations.recordLineAffectedByInjectedText(ct.startLineNumber)}Ue!==$e?(this._decorationsTree.delete(ce),ce.setOptions(q),this._decorationsTree.insert(ce)):ce.setOptions(q)}_deltaDecorationsImpl(M,q,ce,Ue=!1){const $e=this.getVersionId(),ct=q.length;let Et=0;const kt=ce.length;let ri=0;this._onDidChangeDecorations.beginDeferredEmit();try{const hi=new Array(kt);for(;Et<ct||ri<kt;){let ii=null;if(Et<ct){do{ii=this._decorations[q[Et++]]}while(!ii&&Et<ct);if(ii){if(ii.options.after){const Si=this._decorationsTree.getNodeRange(this,ii);this._onDidChangeDecorations.recordLineAffectedByInjectedText(Si.endLineNumber)}if(ii.options.before){const Si=this._decorationsTree.getNodeRange(this,ii);this._onDidChangeDecorations.recordLineAffectedByInjectedText(Si.startLineNumber)}this._decorationsTree.delete(ii),Ue||this._onDidChangeDecorations.checkAffectedAndFire(ii.options)}}if(ri<kt){if(!ii){const Cn=++this._lastDecorationId,Ln=`${this._instanceId};${Cn}`;ii=new pe(Ln,0,0),this._decorations[Ln]=ii}const Si=ce[ri],Ti=this._validateRangeRelaxedNoAllocations(Si.range),Bi=ro(Si.options),ji=this._buffer.getOffsetAt(Ti.startLineNumber,Ti.startColumn),Hi=this._buffer.getOffsetAt(Ti.endLineNumber,Ti.endColumn);ii.ownerId=M,ii.reset($e,ji,Hi,Ti),ii.setOptions(Bi),ii.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(Ti.endLineNumber),ii.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(Ti.startLineNumber),Ue||this._onDidChangeDecorations.checkAffectedAndFire(Bi),this._decorationsTree.insert(ii),hi[ri]=ii.id,ri++}else ii&&delete this._decorations[ii.id]}return hi}finally{this._onDidChangeDecorations.endDeferredEmit()}}getLanguageId(){return this.tokenization.getLanguageId()}setLanguage(M,q){"string"==typeof M?(this._languageSelectionListener.clear(),this._setLanguage(M,q)):(this._languageSelectionListener.value=M.onDidChange(()=>this._setLanguage(M.languageId,q)),this._setLanguage(M.languageId,q))}_setLanguage(M,q){this.tokenization.setLanguageId(M,q),this._languageService.requestRichLanguageFeatures(M)}getLanguageIdAtPosition(M,q){return this.tokenization.getLanguageIdAtPosition(M,q)}getWordAtPosition(M){return this._tokenizationTextModelPart.getWordAtPosition(M)}getWordUntilPosition(M){return this._tokenizationTextModelPart.getWordUntilPosition(M)}normalizePosition(M,q){return M}getLineIndentColumn(M){return function oi(Ft){let M=0;for(const q of Ft){if(" "!==q&&"\t"!==q)break;M++}return M}(this.getLineContent(M))+1}};function Ai(Ft){return!(!Ft.options.overviewRuler||!Ft.options.overviewRuler.color)}function Wi(Ft){return!!Ft.options.after||!!Ft.options.before}qt._MODEL_SYNC_LIMIT=52428800,qt.LARGE_FILE_SIZE_THRESHOLD=20971520,qt.LARGE_FILE_LINE_COUNT_THRESHOLD=3e5,qt.DEFAULT_CREATION_OPTIONS={isForSimpleWidget:!1,tabSize:i.D.tabSize,indentSize:i.D.indentSize,insertSpaces:i.D.insertSpaces,detectIndentation:!1,defaultEOL:1,trimAutoWhitespace:i.D.trimAutoWhitespace,largeFileOptimizations:i.D.largeFileOptimizations,bracketPairColorizationOptions:i.D.bracketPairColorizationOptions},qt=Me=function(Ft,M,q,ce){var ct,Ue=arguments.length,$e=Ue<3?M:null===ce?ce=Object.getOwnPropertyDescriptor(M,q):ce;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)$e=Reflect.decorate(Ft,M,q,ce);else for(var Et=Ft.length-1;Et>=0;Et--)(ct=Ft[Et])&&($e=(Ue<3?ct($e):Ue>3?ct(M,q,$e):ct(M,q))||$e);return Ue>3&&$e&&Object.defineProperty(M,q,$e),$e}([nt(4,Qn.tJ),nt(5,d.O),nt(6,a.c_)],qt);class $i{constructor(){this._decorationsTree0=new le,this._decorationsTree1=new le,this._injectedTextDecorationsTree=new le}ensureAllNodesHaveRanges(M){this.getAll(M,0,!1,!1,!1)}_ensureNodesHaveRanges(M,q){for(const ce of q)null===ce.range&&(ce.range=M.getRangeAt(ce.cachedAbsoluteStart,ce.cachedAbsoluteEnd));return q}getAllInInterval(M,q,ce,Ue,$e,ct){const Et=M.getVersionId(),kt=this._intervalSearch(q,ce,Ue,$e,Et,ct);return this._ensureNodesHaveRanges(M,kt)}_intervalSearch(M,q,ce,Ue,$e,ct){const Et=this._decorationsTree0.intervalSearch(M,q,ce,Ue,$e,ct),kt=this._decorationsTree1.intervalSearch(M,q,ce,Ue,$e,ct),ri=this._injectedTextDecorationsTree.intervalSearch(M,q,ce,Ue,$e,ct);return Et.concat(kt).concat(ri)}getInjectedTextInInterval(M,q,ce,Ue){const $e=M.getVersionId(),ct=this._injectedTextDecorationsTree.intervalSearch(q,ce,Ue,!1,$e,!1);return this._ensureNodesHaveRanges(M,ct).filter(Et=>Et.options.showIfCollapsed||!Et.range.isEmpty())}getAllInjectedText(M,q){const ce=M.getVersionId(),Ue=this._injectedTextDecorationsTree.search(q,!1,ce,!1);return this._ensureNodesHaveRanges(M,Ue).filter($e=>$e.options.showIfCollapsed||!$e.range.isEmpty())}getAll(M,q,ce,Ue,$e){const ct=M.getVersionId(),Et=this._search(q,ce,Ue,ct,$e);return this._ensureNodesHaveRanges(M,Et)}_search(M,q,ce,Ue,$e){if(ce)return this._decorationsTree1.search(M,q,Ue,$e);{const ct=this._decorationsTree0.search(M,q,Ue,$e),Et=this._decorationsTree1.search(M,q,Ue,$e),kt=this._injectedTextDecorationsTree.search(M,q,Ue,$e);return ct.concat(Et).concat(kt)}}collectNodesFromOwner(M){const q=this._decorationsTree0.collectNodesFromOwner(M),ce=this._decorationsTree1.collectNodesFromOwner(M),Ue=this._injectedTextDecorationsTree.collectNodesFromOwner(M);return q.concat(ce).concat(Ue)}collectNodesPostOrder(){const M=this._decorationsTree0.collectNodesPostOrder(),q=this._decorationsTree1.collectNodesPostOrder(),ce=this._injectedTextDecorationsTree.collectNodesPostOrder();return M.concat(q).concat(ce)}insert(M){Wi(M)?this._injectedTextDecorationsTree.insert(M):Ai(M)?this._decorationsTree1.insert(M):this._decorationsTree0.insert(M)}delete(M){Wi(M)?this._injectedTextDecorationsTree.delete(M):Ai(M)?this._decorationsTree1.delete(M):this._decorationsTree0.delete(M)}getNodeRange(M,q){const ce=M.getVersionId();return q.cachedVersionId!==ce&&this._resolveNode(q,ce),null===q.range&&(q.range=M.getRangeAt(q.cachedAbsoluteStart,q.cachedAbsoluteEnd)),q.range}_resolveNode(M,q){Wi(M)?this._injectedTextDecorationsTree.resolveNode(M,q):Ai(M)?this._decorationsTree1.resolveNode(M,q):this._decorationsTree0.resolveNode(M,q)}acceptReplace(M,q,ce,Ue){this._decorationsTree0.acceptReplace(M,q,ce,Ue),this._decorationsTree1.acceptReplace(M,q,ce,Ue),this._injectedTextDecorationsTree.acceptReplace(M,q,ce,Ue)}}function fi(Ft){return Ft.replace(/[^a-z0-9\-_]/gi," ")}class $t{constructor(M){this.color=M.color||"",this.darkColor=M.darkColor||""}}class Ii extends $t{constructor(M){super(M),this._resolvedColor=null,this.position="number"==typeof M.position?M.position:m.sh.Center}getColor(M){return this._resolvedColor||(this._resolvedColor=this._resolveColor("light"!==M.type&&this.darkColor?this.darkColor:this.color,M)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=null}_resolveColor(M,q){if("string"==typeof M)return M;const ce=M?q.getColor(M.id):null;return ce?ce.toString():""}}class si{constructor(M){var q;this.position=null!==(q=M?.position)&&void 0!==q?q:m.U.Left}}class nn extends $t{constructor(M){super(M),this.position=M.position}getColor(M){return this._resolvedColor||(this._resolvedColor=this._resolveColor("light"!==M.type&&this.darkColor?this.darkColor:this.color,M)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=void 0}_resolveColor(M,q){return"string"==typeof M?P.Il.fromHex(M):q.getColor(M.id)}}class en{static from(M){return M instanceof en?M:new en(M)}constructor(M){this.content=M.content||"",this.inlineClassName=M.inlineClassName||null,this.inlineClassNameAffectsLetterSpacing=M.inlineClassNameAffectsLetterSpacing||!1,this.attachedData=M.attachedData||null,this.cursorStops=M.cursorStops||null}}class yn{static register(M){return new yn(M)}static createDynamic(M){return new yn(M)}constructor(M){var q,ce,Ue,$e,ct,Et;this.description=M.description,this.blockClassName=M.blockClassName?fi(M.blockClassName):null,this.blockDoesNotCollapse=null!==(q=M.blockDoesNotCollapse)&&void 0!==q?q:null,this.blockIsAfterEnd=null!==(ce=M.blockIsAfterEnd)&&void 0!==ce?ce:null,this.blockPadding=null!==(Ue=M.blockPadding)&&void 0!==Ue?Ue:null,this.stickiness=M.stickiness||0,this.zIndex=M.zIndex||0,this.className=M.className?fi(M.className):null,this.shouldFillLineOnLineBreak=null!==($e=M.shouldFillLineOnLineBreak)&&void 0!==$e?$e:null,this.hoverMessage=M.hoverMessage||null,this.glyphMarginHoverMessage=M.glyphMarginHoverMessage||null,this.isWholeLine=M.isWholeLine||!1,this.showIfCollapsed=M.showIfCollapsed||!1,this.collapseOnReplaceEdit=M.collapseOnReplaceEdit||!1,this.overviewRuler=M.overviewRuler?new Ii(M.overviewRuler):null,this.minimap=M.minimap?new nn(M.minimap):null,this.glyphMargin=M.glyphMarginClassName?new si(M.glyphMargin):null,this.glyphMarginClassName=M.glyphMarginClassName?fi(M.glyphMarginClassName):null,this.linesDecorationsClassName=M.linesDecorationsClassName?fi(M.linesDecorationsClassName):null,this.firstLineDecorationClassName=M.firstLineDecorationClassName?fi(M.firstLineDecorationClassName):null,this.marginClassName=M.marginClassName?fi(M.marginClassName):null,this.inlineClassName=M.inlineClassName?fi(M.inlineClassName):null,this.inlineClassNameAffectsLetterSpacing=M.inlineClassNameAffectsLetterSpacing||!1,this.beforeContentClassName=M.beforeContentClassName?fi(M.beforeContentClassName):null,this.afterContentClassName=M.afterContentClassName?fi(M.afterContentClassName):null,this.after=M.after?en.from(M.after):null,this.before=M.before?en.from(M.before):null,this.hideInCommentTokens=null!==(ct=M.hideInCommentTokens)&&void 0!==ct&&ct,this.hideInStringTokens=null!==(Et=M.hideInStringTokens)&&void 0!==Et&&Et}}yn.EMPTY=yn.register({description:"empty"});const An=[yn.register({description:"tracked-range-always-grows-when-typing-at-edges",stickiness:0}),yn.register({description:"tracked-range-never-grows-when-typing-at-edges",stickiness:1}),yn.register({description:"tracked-range-grows-only-when-typing-before",stickiness:2}),yn.register({description:"tracked-range-grows-only-when-typing-after",stickiness:3})];function ro(Ft){return Ft instanceof yn?Ft:yn.createDynamic(Ft)}class ao extends v.JT{constructor(M){super(),this.handleBeforeFire=M,this._actual=this._register(new y.Q5),this.event=this._actual.event,this._affectedInjectedTextLines=null,this._deferredCnt=0,this._shouldFireDeferred=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._affectsGlyphMargin=!1}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(){var M;this._deferredCnt--,0===this._deferredCnt&&(this._shouldFireDeferred&&this.doFire(),null===(M=this._affectedInjectedTextLines)||void 0===M||M.clear(),this._affectedInjectedTextLines=null)}recordLineAffectedByInjectedText(M){this._affectedInjectedTextLines||(this._affectedInjectedTextLines=new Set),this._affectedInjectedTextLines.add(M)}checkAffectedAndFire(M){this._affectsMinimap||(this._affectsMinimap=!(!M.minimap||!M.minimap.position)),this._affectsOverviewRuler||(this._affectsOverviewRuler=!(!M.overviewRuler||!M.overviewRuler.color)),this._affectsGlyphMargin||(this._affectsGlyphMargin=!!M.glyphMarginClassName),this.tryFire()}fire(){this._affectsMinimap=!0,this._affectsOverviewRuler=!0,this._affectsGlyphMargin=!0,this.tryFire()}tryFire(){0===this._deferredCnt?this.doFire():this._shouldFireDeferred=!0}doFire(){this.handleBeforeFire(this._affectedInjectedTextLines);const M={affectsMinimap:this._affectsMinimap,affectsOverviewRuler:this._affectsOverviewRuler,affectsGlyphMargin:this._affectsGlyphMargin};this._shouldFireDeferred=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._affectsGlyphMargin=!1,this._actual.fire(M)}}class lo extends v.JT{constructor(){super(),this._fastEmitter=this._register(new y.Q5),this.fastEvent=this._fastEmitter.event,this._slowEmitter=this._register(new y.Q5),this.slowEvent=this._slowEmitter.event,this._deferredCnt=0,this._deferredEvent=null}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(M=null){if(this._deferredCnt--,0===this._deferredCnt&&null!==this._deferredEvent){this._deferredEvent.rawContentChangedEvent.resultingSelection=M;const q=this._deferredEvent;this._deferredEvent=null,this._fastEmitter.fire(q),this._slowEmitter.fire(q)}}fire(M){this._deferredCnt>0?this._deferredEvent=this._deferredEvent?this._deferredEvent.merge(M):M:(this._fastEmitter.fire(M),this._slowEmitter.fire(M))}}class wo{constructor(){this._onDidChangeVisibleRanges=new y.Q5,this.onDidChangeVisibleRanges=this._onDidChangeVisibleRanges.event,this._views=new Set}attachView(){const M=new vs(q=>{this._onDidChangeVisibleRanges.fire({view:M,state:q})});return this._views.add(M),M}detachView(M){this._views.delete(M),this._onDidChangeVisibleRanges.fire({view:M,state:void 0})}}class vs{constructor(M){this.handleStateChange=M}setVisibleLines(M,q){const ce=M.map(Ue=>new p.z(Ue.startLineNumber,Ue.endLineNumber+1));this.handleStateChange({visibleLineRanges:ce,stabilized:q})}}},17295:(Xe,we,e)=>{e.d(we,{U:()=>P});var f=e(78694);class P extends f.JT{constructor(){super(...arguments),this._isDisposed=!1}dispose(){super.dispose(),this._isDisposed=!0}assertNotDisposed(){if(this._isDisposed)throw new Error("TextModelPart is disposed!")}}},54187:(Xe,we,e)=>{e.d(we,{bc:()=>T,cM:()=>i,iE:()=>L,pM:()=>c,sz:()=>d});var f=e(16055),P=e(80020),r=e(68678),y=e(96726),v=e(24470);class T{constructor(m,l,I,w){this.searchString=m,this.isRegex=l,this.matchCase=I,this.wordSeparators=w}parseSearchRequest(){if(""===this.searchString)return null;let m;m=this.isRegex?function E(a){if(!a||0===a.length)return!1;for(let m=0,l=a.length;m<l;m++){const I=a.charCodeAt(m);if(10===I)return!0;if(92===I){if(m++,m>=l)break;const w=a.charCodeAt(m);if(110===w||114===w||87===w)return!0}}return!1}(this.searchString):this.searchString.indexOf("\n")>=0;let l=null;try{l=f.GF(this.searchString,this.isRegex,{matchCase:this.matchCase,wholeWord:!1,multiline:m,global:!0,unicode:!0})}catch{return null}if(!l)return null;let I=!this.isRegex&&!m;return I&&this.searchString.toLowerCase()!==this.searchString.toUpperCase()&&(I=this.matchCase),new v.Tx(l,this.wordSeparators?(0,P.u)(this.wordSeparators):null,I?this.searchString:null)}}function L(a,m,l){if(!l)return new v.tk(a,null);const I=[];for(let w=0,D=m.length;w<D;w++)I[w]=m[w];return new v.tk(a,I)}class p{constructor(m){const l=[];let I=0;for(let w=0,D=m.length;w<D;w++)10===m.charCodeAt(w)&&(l[I++]=w);this._lineFeedsOffsets=l}findLineFeedCountBeforeOffset(m){const l=this._lineFeedsOffsets;let I=0,w=l.length-1;if(-1===w||m<=l[0])return 0;for(;I<w;){const D=I+((w-I)/2>>0);l[D]>=m?w=D-1:l[D+1]>=m?(I=D,w=D):I=D+1}return I+1}}class c{static findMatches(m,l,I,w,D){const N=l.parseSearchRequest();return N?N.regex.multiline?this._doFindMatchesMultiline(m,I,new d(N.wordSeparators,N.regex),w,D):this._doFindMatchesLineByLine(m,I,N,w,D):[]}static _getMultilineMatchRange(m,l,I,w,D,N){let A,R,k=0;if(w?(k=w.findLineFeedCountBeforeOffset(D),A=l+D+k):A=l+D,w){const U=w.findLineFeedCountBeforeOffset(D+N.length)-k;R=A+N.length+U}else R=A+N.length;const O=m.getPositionAt(A),W=m.getPositionAt(R);return new y.e(O.lineNumber,O.column,W.lineNumber,W.column)}static _doFindMatchesMultiline(m,l,I,w,D){const N=m.getOffsetAt(l.getStartPosition()),A=m.getValueInRange(l,1),k="\r\n"===m.getEOL()?new p(A):null,R=[];let W,O=0;for(I.reset(0);W=I.next(A);)if(R[O++]=L(this._getMultilineMatchRange(m,N,A,k,W.index,W[0]),W,w),O>=D)return R;return R}static _doFindMatchesLineByLine(m,l,I,w,D){const N=[];let A=0;if(l.startLineNumber===l.endLineNumber){const R=m.getLineContent(l.startLineNumber).substring(l.startColumn-1,l.endColumn-1);return A=this._findMatchesInLine(I,R,l.startLineNumber,l.startColumn-1,A,N,w,D),N}const k=m.getLineContent(l.startLineNumber).substring(l.startColumn-1);A=this._findMatchesInLine(I,k,l.startLineNumber,l.startColumn-1,A,N,w,D);for(let R=l.startLineNumber+1;R<l.endLineNumber&&A<D;R++)A=this._findMatchesInLine(I,m.getLineContent(R),R,0,A,N,w,D);if(A<D){const R=m.getLineContent(l.endLineNumber).substring(0,l.endColumn-1);A=this._findMatchesInLine(I,R,l.endLineNumber,0,A,N,w,D)}return N}static _findMatchesInLine(m,l,I,w,D,N,A,k){const R=m.wordSeparators;if(!A&&m.simpleSearch){const z=m.simpleSearch,U=z.length,ee=l.length;let B=-U;for(;-1!==(B=l.indexOf(z,B+U));)if((!R||i(R,l,ee,B,U))&&(N[D++]=new v.tk(new y.e(I,B+1+w,I,B+1+U+w),null),D>=k))return D;return D}const O=new d(m.wordSeparators,m.regex);let W;O.reset(0);do{if(W=O.next(l),W&&(N[D++]=L(new y.e(I,W.index+1+w,I,W.index+1+W[0].length+w),W,A),D>=k))return D}while(W);return D}static findNextMatch(m,l,I,w){const D=l.parseSearchRequest();if(!D)return null;const N=new d(D.wordSeparators,D.regex);return D.regex.multiline?this._doFindNextMatchMultiline(m,I,N,w):this._doFindNextMatchLineByLine(m,I,N,w)}static _doFindNextMatchMultiline(m,l,I,w){const D=new r.L(l.lineNumber,1),N=m.getOffsetAt(D),A=m.getLineCount(),k=m.getValueInRange(new y.e(D.lineNumber,D.column,A,m.getLineMaxColumn(A)),1),R="\r\n"===m.getEOL()?new p(k):null;I.reset(l.column-1);const O=I.next(k);return O?L(this._getMultilineMatchRange(m,N,k,R,O.index,O[0]),O,w):1!==l.lineNumber||1!==l.column?this._doFindNextMatchMultiline(m,new r.L(1,1),I,w):null}static _doFindNextMatchLineByLine(m,l,I,w){const D=m.getLineCount(),N=l.lineNumber,A=m.getLineContent(N),k=this._findFirstMatchInLine(I,A,N,l.column,w);if(k)return k;for(let R=1;R<=D;R++){const O=(N+R-1)%D,W=m.getLineContent(O+1),z=this._findFirstMatchInLine(I,W,O+1,1,w);if(z)return z}return null}static _findFirstMatchInLine(m,l,I,w,D){m.reset(w-1);const N=m.next(l);return N?L(new y.e(I,N.index+1,I,N.index+1+N[0].length),N,D):null}static findPreviousMatch(m,l,I,w){const D=l.parseSearchRequest();if(!D)return null;const N=new d(D.wordSeparators,D.regex);return D.regex.multiline?this._doFindPreviousMatchMultiline(m,I,N,w):this._doFindPreviousMatchLineByLine(m,I,N,w)}static _doFindPreviousMatchMultiline(m,l,I,w){const D=this._doFindMatchesMultiline(m,new y.e(1,1,l.lineNumber,l.column),I,w,9990);if(D.length>0)return D[D.length-1];const N=m.getLineCount();return l.lineNumber!==N||l.column!==m.getLineMaxColumn(N)?this._doFindPreviousMatchMultiline(m,new r.L(N,m.getLineMaxColumn(N)),I,w):null}static _doFindPreviousMatchLineByLine(m,l,I,w){const D=m.getLineCount(),N=l.lineNumber,A=m.getLineContent(N).substring(0,l.column-1),k=this._findLastMatchInLine(I,A,N,w);if(k)return k;for(let R=1;R<=D;R++){const O=(D+N-R-1)%D,W=m.getLineContent(O+1),z=this._findLastMatchInLine(I,W,O+1,w);if(z)return z}return null}static _findLastMatchInLine(m,l,I,w){let N,D=null;for(m.reset(0);N=m.next(l);)D=L(new y.e(I,N.index+1,I,N.index+1+N[0].length),N,w);return D}}function i(a,m,l,I,w){return function u(a,m,l,I,w){if(0===I)return!0;const D=m.charCodeAt(I-1);if(0!==a.get(D)||13===D||10===D)return!0;if(w>0){const N=m.charCodeAt(I);if(0!==a.get(N))return!0}return!1}(a,m,0,I,w)&&function g(a,m,l,I,w){if(I+w===l)return!0;const D=m.charCodeAt(I+w);if(0!==a.get(D)||13===D||10===D)return!0;if(w>0){const N=m.charCodeAt(I+w-1);if(0!==a.get(N))return!0}return!1}(a,m,l,I,w)}class d{constructor(m,l){this._wordSeparators=m,this._searchRegex=l,this._prevMatchStartIndex=-1,this._prevMatchLength=0}reset(m){this._searchRegex.lastIndex=m,this._prevMatchStartIndex=-1,this._prevMatchLength=0}next(m){const l=m.length;let I;do{if(this._prevMatchStartIndex+this._prevMatchLength===l||(I=this._searchRegex.exec(m),!I))return null;const w=I.index,D=I[0].length;if(w===this._prevMatchStartIndex&&D===this._prevMatchLength){if(0===D){f.ZH(m,l,this._searchRegex.lastIndex)>65535?this._searchRegex.lastIndex+=2:this._searchRegex.lastIndex+=1;continue}return null}if(this._prevMatchStartIndex=w,this._prevMatchLength=D,!this._wordSeparators||i(this._wordSeparators,m,l,w,D))return I}while(I);return null}}},31597:(Xe,we,e)=>{function f(P,r){let y=0,v=0;const S=P.length;for(;v<S;){const T=P.charCodeAt(v);if(32===T)y++;else{if(9!==T)break;y=y-y%r+r}v++}return v===S?-1:y}e.d(we,{q:()=>f})},93663:(Xe,we,e)=>{e.d(we,{O:()=>c});var f=e(87618),P=e(58178),r=e(48994),y=e(15850),v=e(68678),S=e(96726),T=e(81534),E=e(81814),L=e(15437);let p=(()=>{class u{static chord(i,d){return(0,r.gx)(i,d)}}return u.CtrlCmd=2048,u.Shift=1024,u.Alt=512,u.WinCtrl=256,u})();function c(){return{editor:void 0,languages:void 0,CancellationTokenSource:f.A,Emitter:P.Q5,KeyCode:L.VD,KeyMod:p,Position:v.L,Range:S.e,Selection:T.Y,SelectionDirection:L.a$,MarkerSeverity:L.ZL,MarkerTag:L.eB,Uri:y.o,Token:E.WU}}},57205:(Xe,we,e)=>{e.d(we,{p:()=>P});const P=(0,e(12065).yh)("editorWorkerService")},31663:(Xe,we,e)=>{e.d(we,{A:()=>c});var f=e(27388),P=e(38164),r=e(53499),y=e(62310),v=e(67755),S=e(12065),T=e(22468),E=e(6628),p=function(a,m){return function(l,I){m(l,I,a)}};const c=(0,S.yh)("ILanguageFeatureDebounceService");var u;!function(a){const m=new WeakMap;let l=0;a.of=function I(w){let D=m.get(w);return void 0===D&&(D=++l,m.set(w,D)),D}}(u||(u={}));class g{constructor(m){this._default=m}get(m){return this._default}update(m,l){return this._default}default(){return this._default}}class i{constructor(m,l,I,w,D,N){this._logService=m,this._name=l,this._registry=I,this._default=w,this._min=D,this._max=N,this._cache=new P.z6(50,.7)}_key(m){return m.id+this._registry.all(m).reduce((l,I)=>(0,f.SP)(u.of(I),l),0)}get(m){const l=this._key(m),I=this._cache.get(l);return I?(0,r.uZ)(I.value,this._min,this._max):this.default()}update(m,l){const I=this._key(m);let w=this._cache.get(I);w||(w=new r.N(6),this._cache.set(I,w));const D=(0,r.uZ)(w.update(l),this._min,this._max);return(0,E.xn)(m.uri,"output")||this._logService.trace(`[DEBOUNCE: ${this._name}] for ${m.uri.toString()} is ${D}ms`),D}_overall(){const m=new r.nM;for(const[,l]of this._cache)m.update(l.value);return m.value}default(){const m=0|this._overall()||this._default;return(0,r.uZ)(m,this._min,this._max)}}let d=class{constructor(m,l){this._logService=m,this._data=new Map,this._isDev=l.isExtensionDevelopment||!l.isBuilt}for(m,l,I){var w,D,N;const A=null!==(w=I?.min)&&void 0!==w?w:50,k=null!==(D=I?.max)&&void 0!==D?D:Math.pow(A,2),R=null!==(N=I?.key)&&void 0!==N?N:void 0,O=`${u.of(m)},${A}${R?","+R:""}`;let W=this._data.get(O);return W||(this._isDev?W=new i(this._logService,l,m,0|this._overallAverage()||1.5*A,A,k):(this._logService.debug(`[DEBOUNCE: ${l}] is disabled in developed mode`),W=new g(1.5*A)),this._data.set(O,W)),W}_overallAverage(){const m=new r.nM;for(const l of this._data.values())m.update(l.default());return m.value}};d=function(a,m,l,I){var N,w=arguments.length,D=w<3?m:null===I?I=Object.getOwnPropertyDescriptor(m,l):I;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)D=Reflect.decorate(a,m,l,I);else for(var A=a.length-1;A>=0;A--)(N=a[A])&&(D=(w<3?N(D):w>3?N(m,l,D):N(m,l))||D);return w>3&&D&&Object.defineProperty(m,l,D),D}([p(0,T.VZ),p(1,y.Y)],d),(0,v.z)(c,d,1)},55763:(Xe,we,e)=>{e.d(we,{p:()=>P});const P=(0,e(12065).yh)("ILanguageFeaturesService")},73079:(Xe,we,e)=>{e.d(we,{i:()=>P});const P=(0,e(12065).yh)("markerDecorationsService")},41204:(Xe,we,e)=>{e.d(we,{q:()=>P});const P=(0,e(12065).yh)("modelService")},56230:(Xe,we,e)=>{e.d(we,{S:()=>P});const P=(0,e(12065).yh)("textModelService")},73784:(Xe,we,e)=>{e.d(we,{$:()=>g,h:()=>i});var f=e(96724),P=e(23527),r=e(22468),y=e(68678),v=e(96726),S=e(83393);class T{static create(l,I){return new T(l,new E(I))}get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._endLineNumber}constructor(l,I){this._startLineNumber=l,this._tokens=I,this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}toString(){return this._tokens.toString(this._startLineNumber)}_updateEndLineNumber(){this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}isEmpty(){return this._tokens.isEmpty()}getLineTokens(l){return this._startLineNumber<=l&&l<=this._endLineNumber?this._tokens.getLineTokens(l-this._startLineNumber):null}getRange(){const l=this._tokens.getRange();return l&&new v.e(this._startLineNumber+l.startLineNumber,l.startColumn,this._startLineNumber+l.endLineNumber,l.endColumn)}removeTokens(l){this._startLineNumber+=this._tokens.removeTokens(l.startLineNumber-this._startLineNumber,l.startColumn-1,l.endLineNumber-this._startLineNumber,l.endColumn-1),this._updateEndLineNumber()}split(l){const I=l.startLineNumber-this._startLineNumber,w=l.endLineNumber-this._startLineNumber,[D,N,A]=this._tokens.split(I,l.startColumn-1,w,l.endColumn-1);return[new T(this._startLineNumber,D),new T(this._startLineNumber+A,N)]}applyEdit(l,I){const[w,D,N]=(0,S.Q)(I);this.acceptEdit(l,w,D,N,I.length>0?I.charCodeAt(0):0)}acceptEdit(l,I,w,D,N){this._acceptDeleteRange(l),this._acceptInsertText(new y.L(l.startLineNumber,l.startColumn),I,w,D,N),this._updateEndLineNumber()}_acceptDeleteRange(l){if(l.startLineNumber===l.endLineNumber&&l.startColumn===l.endColumn)return;const I=l.startLineNumber-this._startLineNumber,w=l.endLineNumber-this._startLineNumber;if(w<0)return void(this._startLineNumber-=w-I);const D=this._tokens.getMaxDeltaLine();if(!(I>=D+1)){if(I<0&&w>=D+1)return this._startLineNumber=0,void this._tokens.clear();I<0?(this._startLineNumber-=-I,this._tokens.acceptDeleteRange(l.startColumn-1,0,0,w,l.endColumn-1)):this._tokens.acceptDeleteRange(0,I,l.startColumn-1,w,l.endColumn-1)}}_acceptInsertText(l,I,w,D,N){if(0===I&&0===w)return;const A=l.lineNumber-this._startLineNumber;A<0?this._startLineNumber+=I:A>=this._tokens.getMaxDeltaLine()+1||this._tokens.acceptInsertText(A,l.column-1,I,w,D,N)}}class E{constructor(l){this._tokens=l,this._tokenCount=l.length/4}toString(l){const I=[];for(let w=0;w<this._tokenCount;w++)I.push(`(${this._getDeltaLine(w)+l},${this._getStartCharacter(w)}-${this._getEndCharacter(w)})`);return`[${I.join(",")}]`}getMaxDeltaLine(){const l=this._getTokenCount();return 0===l?-1:this._getDeltaLine(l-1)}getRange(){const l=this._getTokenCount();if(0===l)return null;const I=this._getStartCharacter(0),w=this._getDeltaLine(l-1),D=this._getEndCharacter(l-1);return new v.e(0,I+1,w,D+1)}_getTokenCount(){return this._tokenCount}_getDeltaLine(l){return this._tokens[4*l]}_getStartCharacter(l){return this._tokens[4*l+1]}_getEndCharacter(l){return this._tokens[4*l+2]}isEmpty(){return 0===this._getTokenCount()}getLineTokens(l){let I=0,w=this._getTokenCount()-1;for(;I<w;){const D=I+Math.floor((w-I)/2),N=this._getDeltaLine(D);if(N<l)I=D+1;else{if(!(N>l)){let A=D;for(;A>I&&this._getDeltaLine(A-1)===l;)A--;let k=D;for(;k<w&&this._getDeltaLine(k+1)===l;)k++;return new L(this._tokens.subarray(4*A,4*k+4))}w=D-1}}return this._getDeltaLine(I)===l?new L(this._tokens.subarray(4*I,4*I+4)):null}clear(){this._tokenCount=0}removeTokens(l,I,w,D){const N=this._tokens,A=this._tokenCount;let k=0,R=!1,O=0;for(let W=0;W<A;W++){const z=4*W,U=N[z],ee=N[z+1],B=N[z+2],G=N[z+3];if((U>l||U===l&&B>=I)&&(U<w||U===w&&ee<=D))R=!0;else{if(0===k&&(O=U),R){const se=4*k;N[se]=U-O,N[se+1]=ee,N[se+2]=B,N[se+3]=G}k++}}return this._tokenCount=k,O}split(l,I,w,D){const N=this._tokens,A=this._tokenCount,k=[],R=[];let O=k,W=0,z=0;for(let U=0;U<A;U++){const ee=4*U,B=N[ee],G=N[ee+1],se=N[ee+2],j=N[ee+3];if(B>l||B===l&&se>=I){if(B<w||B===w&&G<=D)continue;O!==R&&(O=R,W=0,z=B)}O[W++]=B-z,O[W++]=G,O[W++]=se,O[W++]=j}return[new E(new Uint32Array(k)),new E(new Uint32Array(R)),z]}acceptDeleteRange(l,I,w,D,N){const A=this._tokens,k=this._tokenCount,R=D-I;let O=0,W=!1;for(let z=0;z<k;z++){const U=4*z;let ee=A[U],B=A[U+1],G=A[U+2];const se=A[U+3];if(ee<I||ee===I&&G<=w){O++;continue}if(ee===I&&B<w)ee===D&&G>N?G-=N-w:G=w;else if(ee===I&&B===w){if(!(ee===D&&G>N)){W=!0;continue}G-=N-w}else if(ee<D||ee===D&&B<N){if(!(ee===D&&G>N)){W=!0;continue}ee=I,B=w,G=B+(G-N)}else if(ee>D){if(0===R&&!W){O=k;break}ee-=R}else{if(!(ee===D&&B>=N))throw new Error("Not possible!");l&&0===ee&&(B+=l,G+=l),ee-=R,B-=N-w,G-=N-w}const j=4*O;A[j]=ee,A[j+1]=B,A[j+2]=G,A[j+3]=se,O++}this._tokenCount=O}acceptInsertText(l,I,w,D,N,A){const k=0===w&&1===D&&(A>=48&&A<=57||A>=65&&A<=90||A>=97&&A<=122),R=this._tokens,O=this._tokenCount;for(let W=0;W<O;W++){const z=4*W;let U=R[z],ee=R[z+1],B=R[z+2];if(!(U<l||U===l&&B<I)){if(U===l&&B===I){if(!k)continue;B+=1}else if(U===l&&ee<I&&I<B)0===w?B+=D:B=I;else{if(U===l&&ee===I&&k)continue;if(U===l)if(U+=w,0===w)ee+=D,B+=D;else{const G=B-ee;ee=N+(ee-I),B=ee+G}else U+=w}R[z]=U,R[z+1]=ee,R[z+2]=B}}}}class L{constructor(l){this._tokens=l}getCount(){return this._tokens.length/4}getStartCharacter(l){return this._tokens[4*l+1]}getEndCharacter(l){return this._tokens[4*l+2]}getMetadata(l){return this._tokens[4*l+3]}}var p=e(74315),u=function(m,l){return function(I,w){l(I,w,m)}};let g=class{constructor(l,I,w,D){this._legend=l,this._themeService=I,this._languageService=w,this._logService=D,this._hasWarnedOverlappingTokens=!1,this._hasWarnedInvalidLengthTokens=!1,this._hasWarnedInvalidEditStart=!1,this._hashTable=new a}getMetadata(l,I,w){const D=this._languageService.languageIdCodec.encodeLanguageId(w),N=this._hashTable.get(l,I,D);let A;if(N)A=N.metadata,this._logService.getLevel()===r.in.Trace&&this._logService.trace(`SemanticTokensProviderStyling [CACHED] ${l} / ${I}: foreground ${f.N.getForeground(A)}, fontStyle ${f.N.getFontStyle(A).toString(2)}`);else{let k=this._legend.tokenTypes[l];const R=[];if(k){let O=I;for(let z=0;O>0&&z<this._legend.tokenModifiers.length;z++)1&O&&R.push(this._legend.tokenModifiers[z]),O>>=1;O>0&&this._logService.getLevel()===r.in.Trace&&(this._logService.trace(`SemanticTokensProviderStyling: unknown token modifier index: ${I.toString(2)} for legend: ${JSON.stringify(this._legend.tokenModifiers)}`),R.push("not-in-legend"));const W=this._themeService.getColorTheme().getTokenStyleMetadata(k,R,w);typeof W>"u"?A=2147483647:(A=0,typeof W.italic<"u"&&(A|=1|(W.italic?1:0)<<11),typeof W.bold<"u"&&(A|=2|(W.bold?2:0)<<11),typeof W.underline<"u"&&(A|=4|(W.underline?4:0)<<11),typeof W.strikethrough<"u"&&(A|=8|(W.strikethrough?8:0)<<11),W.foreground&&(A|=16|W.foreground<<15),0===A&&(A=2147483647))}else this._logService.getLevel()===r.in.Trace&&this._logService.trace(`SemanticTokensProviderStyling: unknown token type index: ${l} for legend: ${JSON.stringify(this._legend.tokenTypes)}`),A=2147483647,k="not-in-legend";this._hashTable.add(l,I,D,A),this._logService.getLevel()===r.in.Trace&&this._logService.trace(`SemanticTokensProviderStyling ${l} (${k}) / ${I} (${R.join(" ")}): foreground ${f.N.getForeground(A)}, fontStyle ${f.N.getFontStyle(A).toString(2)}`)}return A}warnOverlappingSemanticTokens(l,I){this._hasWarnedOverlappingTokens||(this._hasWarnedOverlappingTokens=!0,console.warn(`Overlapping semantic tokens detected at lineNumber ${l}, column ${I}`))}warnInvalidLengthSemanticTokens(l,I){this._hasWarnedInvalidLengthTokens||(this._hasWarnedInvalidLengthTokens=!0,console.warn(`Semantic token with invalid length detected at lineNumber ${l}, column ${I}`))}warnInvalidEditStart(l,I,w,D,N){this._hasWarnedInvalidEditStart||(this._hasWarnedInvalidEditStart=!0,console.warn(`Invalid semantic tokens edit detected (previousResultId: ${l}, resultId: ${I}) at edit #${w}: The provided start offset ${D} is outside the previous data (length ${N}).`))}};function i(m,l,I){const w=m.data,D=m.data.length/5|0,N=Math.max(Math.ceil(D/1024),400),A=[];let k=0,R=1,O=0;for(;k<D;){const W=k;let z=Math.min(W+N,D);if(z<D){let $=z;for(;$-1>W&&0===w[5*$];)$--;if($-1===W){let K=z;for(;K+1<D&&0===w[5*K];)K++;z=K}else z=$}let U=new Uint32Array(4*(z-W)),ee=0,B=0,G=0,se=0;for(;k<z;){const $=5*k,K=w[$],J=w[$+1],te=R+K|0,ne=0===K?O+J|0:J,ae=ne+w[$+2]|0,ge=w[$+3],_e=w[$+4];if(ae<=ne)l.warnInvalidLengthSemanticTokens(te,ne+1);else if(G===te&&se>ne)l.warnOverlappingSemanticTokens(te,ne+1);else{const ue=l.getMetadata(ge,_e,I);2147483647!==ue&&(0===B&&(B=te),U[ee]=te-B,U[ee+1]=ne,U[ee+2]=ae,U[ee+3]=ue,ee+=4,G=te,se=ae)}R=te,O=ne,k++}ee!==U.length&&(U=U.subarray(0,ee));const j=T.create(B,U);A.push(j)}return A}g=function(m,l,I,w){var A,D=arguments.length,N=D<3?l:null===w?w=Object.getOwnPropertyDescriptor(l,I):w;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)N=Reflect.decorate(m,l,I,w);else for(var k=m.length-1;k>=0;k--)(A=m[k])&&(N=(D<3?A(N):D>3?A(l,I,N):A(l,I))||N);return D>3&&N&&Object.defineProperty(l,I,N),N}([u(1,P.XE),u(2,p.O),u(3,r.VZ)],g);class d{constructor(l,I,w,D){this.tokenTypeIndex=l,this.tokenModifierSet=I,this.languageId=w,this.metadata=D,this.next=null}}let a=(()=>{class m{constructor(){this._elementsCount=0,this._currentLengthIndex=0,this._currentLength=m._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<m._SIZES.length?2/3*this._currentLength:0),this._elements=[],m._nullOutEntries(this._elements,this._currentLength)}static _nullOutEntries(I,w){for(let D=0;D<w;D++)I[D]=null}_hash2(I,w){return(I<<5)-I+w|0}_hashFunc(I,w,D){return this._hash2(this._hash2(I,w),D)%this._currentLength}get(I,w,D){const N=this._hashFunc(I,w,D);let A=this._elements[N];for(;A;){if(A.tokenTypeIndex===I&&A.tokenModifierSet===w&&A.languageId===D)return A;A=A.next}return null}add(I,w,D,N){if(this._elementsCount++,0!==this._growCount&&this._elementsCount>=this._growCount){const A=this._elements;this._currentLengthIndex++,this._currentLength=m._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<m._SIZES.length?2/3*this._currentLength:0),this._elements=[],m._nullOutEntries(this._elements,this._currentLength);for(const k of A){let R=k;for(;R;){const O=R.next;R.next=null,this._add(R),R=O}}}this._add(new d(I,w,D,N))}_add(I){const w=this._hashFunc(I.tokenTypeIndex,I.tokenModifierSet,I.languageId);I.next=this._elements[w],this._elements[w]=I}}return m._SIZES=[3,7,13,31,61,127,251,509,1021,2039,4093,8191,16381,32749,65521,131071,262139,524287,1048573,2097143],m})()},26056:(Xe,we,e)=>{e.d(we,{s:()=>P});const P=(0,e(12065).yh)("semanticTokensStylingService")},75782:(Xe,we,e)=>{e.d(we,{V:()=>P,y:()=>r});var f=e(12065);const P=(0,f.yh)("textResourceConfigurationService"),r=(0,f.yh)("textResourcePropertiesService")},74097:(Xe,we,e)=>{e.d(we,{a:()=>S});var f=e(96726),P=e(54187),r=e(16055),y=e(37836),v=e(28797);class S{static computeUnicodeHighlights(c,u,g){const i=g?g.startLineNumber:1,d=g?g.endLineNumber:c.getLineCount(),a=new E(u),m=a.getCandidateCodePoints();let l;l="allNonBasicAscii"===m?new RegExp("[^\\t\\n\\r\\x20-\\x7E]","g"):new RegExp(`${function T(p,c){return`[${r.ec(p.map(g=>String.fromCodePoint(g)).join(""))}]`}(Array.from(m))}`,"g");const I=new P.sz(null,l),w=[];let N,D=!1,A=0,k=0,R=0;e:for(let O=i,W=d;O<=W;O++){const z=c.getLineContent(O),U=z.length;I.reset(0);do{if(N=I.next(z),N){let ee=N.index,B=N.index+N[0].length;if(ee>0){const $=z.charCodeAt(ee-1);r.ZG($)&&ee--}if(B+1<U){const $=z.charCodeAt(B-1);r.ZG($)&&B++}const G=z.substring(ee,B);let se=(0,v.t2)(ee+1,v.Af,z,0);se&&se.endColumn<=ee+1&&(se=null);const j=a.shouldHighlightNonBasicASCII(G,se?se.word:null);if(0!==j){if(3===j?A++:2===j?k++:1===j?R++:(0,y.vE)(j),w.length>=1e3){D=!0;break e}w.push(new f.e(O,ee+1,O,B+1))}}}while(N)}return{ranges:w,hasMore:D,ambiguousCharacterCount:A,invisibleCharacterCount:k,nonBasicAsciiCharacterCount:R}}static computeUnicodeHighlightReason(c,u){const g=new E(u);switch(g.shouldHighlightNonBasicASCII(c,null)){case 0:return null;case 2:return{kind:1};case 3:{const d=c.codePointAt(0),a=g.ambiguousCharacters.getPrimaryConfusable(d),m=r.ZK.getLocales().filter(l=>!r.ZK.getInstance(new Set([...u.allowedLocales,l])).isAmbiguous(d));return{kind:0,confusableWith:String.fromCodePoint(a),notAmbiguousInLocales:m}}case 1:return{kind:2}}}}class E{constructor(c){this.options=c,this.allowedCodePoints=new Set(c.allowedCodePoints),this.ambiguousCharacters=r.ZK.getInstance(new Set(c.allowedLocales))}getCandidateCodePoints(){if(this.options.nonBasicASCII)return"allNonBasicAscii";const c=new Set;if(this.options.invisibleCharacters)for(const u of r.vU.codePoints)L(String.fromCodePoint(u))||c.add(u);if(this.options.ambiguousCharacters)for(const u of this.ambiguousCharacters.getConfusableCodePoints())c.add(u);for(const u of this.allowedCodePoints)c.delete(u);return c}shouldHighlightNonBasicASCII(c,u){const g=c.codePointAt(0);if(this.allowedCodePoints.has(g))return 0;if(this.options.nonBasicASCII)return 1;let i=!1,d=!1;if(u)for(const a of u){const m=a.codePointAt(0),l=r.$i(a);i=i||l,!l&&!this.ambiguousCharacters.isAmbiguous(m)&&!r.vU.isInvisibleCharacter(m)&&(d=!0)}return!i&&d?0:this.options.invisibleCharacters&&!L(c)&&r.vU.isInvisibleCharacter(g)?2:this.options.ambiguousCharacters&&this.ambiguousCharacters.isAmbiguous(g)?3:0}}function L(p){return" "===p||"\n"===p||"\t"===p}},15437:(Xe,we,e)=>{e.d(we,{E$:()=>R,F5:()=>A,Ij:()=>S,In:()=>K,Lu:()=>z,MG:()=>k,MY:()=>p,OI:()=>te,RM:()=>m,U:()=>d,VD:()=>w,Vi:()=>E,WW:()=>se,ZL:()=>D,_x:()=>L,a$:()=>G,a7:()=>r,ao:()=>f,bw:()=>I,cR:()=>j,cm:()=>y,d2:()=>J,eB:()=>N,g4:()=>ee,g_:()=>B,gl:()=>l,gm:()=>g,jl:()=>i,np:()=>P,py:()=>W,r3:()=>T,r4:()=>$,rf:()=>c,sh:()=>O,up:()=>ne,vQ:()=>U,wT:()=>u,wU:()=>a,we:()=>v});var f=function(_){return _[_.Unknown=0]="Unknown",_[_.Disabled=1]="Disabled",_[_.Enabled=2]="Enabled",_}(f||{}),P=function(_){return _[_.Invoke=1]="Invoke",_[_.Auto=2]="Auto",_}(P||{}),r=function(_){return _[_.None=0]="None",_[_.KeepWhitespace=1]="KeepWhitespace",_[_.InsertAsSnippet=4]="InsertAsSnippet",_}(r||{}),y=function(_){return _[_.Method=0]="Method",_[_.Function=1]="Function",_[_.Constructor=2]="Constructor",_[_.Field=3]="Field",_[_.Variable=4]="Variable",_[_.Class=5]="Class",_[_.Struct=6]="Struct",_[_.Interface=7]="Interface",_[_.Module=8]="Module",_[_.Property=9]="Property",_[_.Event=10]="Event",_[_.Operator=11]="Operator",_[_.Unit=12]="Unit",_[_.Value=13]="Value",_[_.Constant=14]="Constant",_[_.Enum=15]="Enum",_[_.EnumMember=16]="EnumMember",_[_.Keyword=17]="Keyword",_[_.Text=18]="Text",_[_.Color=19]="Color",_[_.File=20]="File",_[_.Reference=21]="Reference",_[_.Customcolor=22]="Customcolor",_[_.Folder=23]="Folder",_[_.TypeParameter=24]="TypeParameter",_[_.User=25]="User",_[_.Issue=26]="Issue",_[_.Snippet=27]="Snippet",_}(y||{}),v=function(_){return _[_.Deprecated=1]="Deprecated",_}(v||{}),S=function(_){return _[_.Invoke=0]="Invoke",_[_.TriggerCharacter=1]="TriggerCharacter",_[_.TriggerForIncompleteCompletions=2]="TriggerForIncompleteCompletions",_}(S||{}),T=function(_){return _[_.EXACT=0]="EXACT",_[_.ABOVE=1]="ABOVE",_[_.BELOW=2]="BELOW",_}(T||{}),E=function(_){return _[_.NotSet=0]="NotSet",_[_.ContentFlush=1]="ContentFlush",_[_.RecoverFromMarkers=2]="RecoverFromMarkers",_[_.Explicit=3]="Explicit",_[_.Paste=4]="Paste",_[_.Undo=5]="Undo",_[_.Redo=6]="Redo",_}(E||{}),L=function(_){return _[_.LF=1]="LF",_[_.CRLF=2]="CRLF",_}(L||{}),p=function(_){return _[_.Text=0]="Text",_[_.Read=1]="Read",_[_.Write=2]="Write",_}(p||{}),c=function(_){return _[_.None=0]="None",_[_.Keep=1]="Keep",_[_.Brackets=2]="Brackets",_[_.Advanced=3]="Advanced",_[_.Full=4]="Full",_}(c||{}),u=function(_){return _[_.acceptSuggestionOnCommitCharacter=0]="acceptSuggestionOnCommitCharacter",_[_.acceptSuggestionOnEnter=1]="acceptSuggestionOnEnter",_[_.accessibilitySupport=2]="accessibilitySupport",_[_.accessibilityPageSize=3]="accessibilityPageSize",_[_.ariaLabel=4]="ariaLabel",_[_.ariaRequired=5]="ariaRequired",_[_.autoClosingBrackets=6]="autoClosingBrackets",_[_.screenReaderAnnounceInlineSuggestion=7]="screenReaderAnnounceInlineSuggestion",_[_.autoClosingDelete=8]="autoClosingDelete",_[_.autoClosingOvertype=9]="autoClosingOvertype",_[_.autoClosingQuotes=10]="autoClosingQuotes",_[_.autoIndent=11]="autoIndent",_[_.automaticLayout=12]="automaticLayout",_[_.autoSurround=13]="autoSurround",_[_.bracketPairColorization=14]="bracketPairColorization",_[_.guides=15]="guides",_[_.codeLens=16]="codeLens",_[_.codeLensFontFamily=17]="codeLensFontFamily",_[_.codeLensFontSize=18]="codeLensFontSize",_[_.colorDecorators=19]="colorDecorators",_[_.colorDecoratorsLimit=20]="colorDecoratorsLimit",_[_.columnSelection=21]="columnSelection",_[_.comments=22]="comments",_[_.contextmenu=23]="contextmenu",_[_.copyWithSyntaxHighlighting=24]="copyWithSyntaxHighlighting",_[_.cursorBlinking=25]="cursorBlinking",_[_.cursorSmoothCaretAnimation=26]="cursorSmoothCaretAnimation",_[_.cursorStyle=27]="cursorStyle",_[_.cursorSurroundingLines=28]="cursorSurroundingLines",_[_.cursorSurroundingLinesStyle=29]="cursorSurroundingLinesStyle",_[_.cursorWidth=30]="cursorWidth",_[_.disableLayerHinting=31]="disableLayerHinting",_[_.disableMonospaceOptimizations=32]="disableMonospaceOptimizations",_[_.domReadOnly=33]="domReadOnly",_[_.dragAndDrop=34]="dragAndDrop",_[_.dropIntoEditor=35]="dropIntoEditor",_[_.emptySelectionClipboard=36]="emptySelectionClipboard",_[_.experimentalWhitespaceRendering=37]="experimentalWhitespaceRendering",_[_.extraEditorClassName=38]="extraEditorClassName",_[_.fastScrollSensitivity=39]="fastScrollSensitivity",_[_.find=40]="find",_[_.fixedOverflowWidgets=41]="fixedOverflowWidgets",_[_.folding=42]="folding",_[_.foldingStrategy=43]="foldingStrategy",_[_.foldingHighlight=44]="foldingHighlight",_[_.foldingImportsByDefault=45]="foldingImportsByDefault",_[_.foldingMaximumRegions=46]="foldingMaximumRegions",_[_.unfoldOnClickAfterEndOfLine=47]="unfoldOnClickAfterEndOfLine",_[_.fontFamily=48]="fontFamily",_[_.fontInfo=49]="fontInfo",_[_.fontLigatures=50]="fontLigatures",_[_.fontSize=51]="fontSize",_[_.fontWeight=52]="fontWeight",_[_.fontVariations=53]="fontVariations",_[_.formatOnPaste=54]="formatOnPaste",_[_.formatOnType=55]="formatOnType",_[_.glyphMargin=56]="glyphMargin",_[_.gotoLocation=57]="gotoLocation",_[_.hideCursorInOverviewRuler=58]="hideCursorInOverviewRuler",_[_.hover=59]="hover",_[_.inDiffEditor=60]="inDiffEditor",_[_.inlineSuggest=61]="inlineSuggest",_[_.letterSpacing=62]="letterSpacing",_[_.lightbulb=63]="lightbulb",_[_.lineDecorationsWidth=64]="lineDecorationsWidth",_[_.lineHeight=65]="lineHeight",_[_.lineNumbers=66]="lineNumbers",_[_.lineNumbersMinChars=67]="lineNumbersMinChars",_[_.linkedEditing=68]="linkedEditing",_[_.links=69]="links",_[_.matchBrackets=70]="matchBrackets",_[_.minimap=71]="minimap",_[_.mouseStyle=72]="mouseStyle",_[_.mouseWheelScrollSensitivity=73]="mouseWheelScrollSensitivity",_[_.mouseWheelZoom=74]="mouseWheelZoom",_[_.multiCursorMergeOverlapping=75]="multiCursorMergeOverlapping",_[_.multiCursorModifier=76]="multiCursorModifier",_[_.multiCursorPaste=77]="multiCursorPaste",_[_.multiCursorLimit=78]="multiCursorLimit",_[_.occurrencesHighlight=79]="occurrencesHighlight",_[_.overviewRulerBorder=80]="overviewRulerBorder",_[_.overviewRulerLanes=81]="overviewRulerLanes",_[_.padding=82]="padding",_[_.pasteAs=83]="pasteAs",_[_.parameterHints=84]="parameterHints",_[_.peekWidgetDefaultFocus=85]="peekWidgetDefaultFocus",_[_.definitionLinkOpensInPeek=86]="definitionLinkOpensInPeek",_[_.quickSuggestions=87]="quickSuggestions",_[_.quickSuggestionsDelay=88]="quickSuggestionsDelay",_[_.readOnly=89]="readOnly",_[_.readOnlyMessage=90]="readOnlyMessage",_[_.renameOnType=91]="renameOnType",_[_.renderControlCharacters=92]="renderControlCharacters",_[_.renderFinalNewline=93]="renderFinalNewline",_[_.renderLineHighlight=94]="renderLineHighlight",_[_.renderLineHighlightOnlyWhenFocus=95]="renderLineHighlightOnlyWhenFocus",_[_.renderValidationDecorations=96]="renderValidationDecorations",_[_.renderWhitespace=97]="renderWhitespace",_[_.revealHorizontalRightPadding=98]="revealHorizontalRightPadding",_[_.roundedSelection=99]="roundedSelection",_[_.rulers=100]="rulers",_[_.scrollbar=101]="scrollbar",_[_.scrollBeyondLastColumn=102]="scrollBeyondLastColumn",_[_.scrollBeyondLastLine=103]="scrollBeyondLastLine",_[_.scrollPredominantAxis=104]="scrollPredominantAxis",_[_.selectionClipboard=105]="selectionClipboard",_[_.selectionHighlight=106]="selectionHighlight",_[_.selectOnLineNumbers=107]="selectOnLineNumbers",_[_.showFoldingControls=108]="showFoldingControls",_[_.showUnused=109]="showUnused",_[_.snippetSuggestions=110]="snippetSuggestions",_[_.smartSelect=111]="smartSelect",_[_.smoothScrolling=112]="smoothScrolling",_[_.stickyScroll=113]="stickyScroll",_[_.stickyTabStops=114]="stickyTabStops",_[_.stopRenderingLineAfter=115]="stopRenderingLineAfter",_[_.suggest=116]="suggest",_[_.suggestFontSize=117]="suggestFontSize",_[_.suggestLineHeight=118]="suggestLineHeight",_[_.suggestOnTriggerCharacters=119]="suggestOnTriggerCharacters",_[_.suggestSelection=120]="suggestSelection",_[_.tabCompletion=121]="tabCompletion",_[_.tabIndex=122]="tabIndex",_[_.unicodeHighlighting=123]="unicodeHighlighting",_[_.unusualLineTerminators=124]="unusualLineTerminators",_[_.useShadowDOM=125]="useShadowDOM",_[_.useTabStops=126]="useTabStops",_[_.wordBreak=127]="wordBreak",_[_.wordSeparators=128]="wordSeparators",_[_.wordWrap=129]="wordWrap",_[_.wordWrapBreakAfterCharacters=130]="wordWrapBreakAfterCharacters",_[_.wordWrapBreakBeforeCharacters=131]="wordWrapBreakBeforeCharacters",_[_.wordWrapColumn=132]="wordWrapColumn",_[_.wordWrapOverride1=133]="wordWrapOverride1",_[_.wordWrapOverride2=134]="wordWrapOverride2",_[_.wrappingIndent=135]="wrappingIndent",_[_.wrappingStrategy=136]="wrappingStrategy",_[_.showDeprecated=137]="showDeprecated",_[_.inlayHints=138]="inlayHints",_[_.editorClassName=139]="editorClassName",_[_.pixelRatio=140]="pixelRatio",_[_.tabFocusMode=141]="tabFocusMode",_[_.layoutInfo=142]="layoutInfo",_[_.wrappingInfo=143]="wrappingInfo",_[_.defaultColorDecorators=144]="defaultColorDecorators",_[_.colorDecoratorsActivatedOn=145]="colorDecoratorsActivatedOn",_[_.inlineCompletionsAccessibilityVerbose=146]="inlineCompletionsAccessibilityVerbose",_}(u||{}),g=function(_){return _[_.TextDefined=0]="TextDefined",_[_.LF=1]="LF",_[_.CRLF=2]="CRLF",_}(g||{}),i=function(_){return _[_.LF=0]="LF",_[_.CRLF=1]="CRLF",_}(i||{}),d=function(_){return _[_.Left=1]="Left",_[_.Right=2]="Right",_}(d||{}),a=function(_){return _[_.None=0]="None",_[_.Indent=1]="Indent",_[_.IndentOutdent=2]="IndentOutdent",_[_.Outdent=3]="Outdent",_}(a||{}),m=function(_){return _[_.Both=0]="Both",_[_.Right=1]="Right",_[_.Left=2]="Left",_[_.None=3]="None",_}(m||{}),l=function(_){return _[_.Type=1]="Type",_[_.Parameter=2]="Parameter",_}(l||{}),I=function(_){return _[_.Automatic=0]="Automatic",_[_.Explicit=1]="Explicit",_}(I||{}),w=function(_){return _[_.DependsOnKbLayout=-1]="DependsOnKbLayout",_[_.Unknown=0]="Unknown",_[_.Backspace=1]="Backspace",_[_.Tab=2]="Tab",_[_.Enter=3]="Enter",_[_.Shift=4]="Shift",_[_.Ctrl=5]="Ctrl",_[_.Alt=6]="Alt",_[_.PauseBreak=7]="PauseBreak",_[_.CapsLock=8]="CapsLock",_[_.Escape=9]="Escape",_[_.Space=10]="Space",_[_.PageUp=11]="PageUp",_[_.PageDown=12]="PageDown",_[_.End=13]="End",_[_.Home=14]="Home",_[_.LeftArrow=15]="LeftArrow",_[_.UpArrow=16]="UpArrow",_[_.RightArrow=17]="RightArrow",_[_.DownArrow=18]="DownArrow",_[_.Insert=19]="Insert",_[_.Delete=20]="Delete",_[_.Digit0=21]="Digit0",_[_.Digit1=22]="Digit1",_[_.Digit2=23]="Digit2",_[_.Digit3=24]="Digit3",_[_.Digit4=25]="Digit4",_[_.Digit5=26]="Digit5",_[_.Digit6=27]="Digit6",_[_.Digit7=28]="Digit7",_[_.Digit8=29]="Digit8",_[_.Digit9=30]="Digit9",_[_.KeyA=31]="KeyA",_[_.KeyB=32]="KeyB",_[_.KeyC=33]="KeyC",_[_.KeyD=34]="KeyD",_[_.KeyE=35]="KeyE",_[_.KeyF=36]="KeyF",_[_.KeyG=37]="KeyG",_[_.KeyH=38]="KeyH",_[_.KeyI=39]="KeyI",_[_.KeyJ=40]="KeyJ",_[_.KeyK=41]="KeyK",_[_.KeyL=42]="KeyL",_[_.KeyM=43]="KeyM",_[_.KeyN=44]="KeyN",_[_.KeyO=45]="KeyO",_[_.KeyP=46]="KeyP",_[_.KeyQ=47]="KeyQ",_[_.KeyR=48]="KeyR",_[_.KeyS=49]="KeyS",_[_.KeyT=50]="KeyT",_[_.KeyU=51]="KeyU",_[_.KeyV=52]="KeyV",_[_.KeyW=53]="KeyW",_[_.KeyX=54]="KeyX",_[_.KeyY=55]="KeyY",_[_.KeyZ=56]="KeyZ",_[_.Meta=57]="Meta",_[_.ContextMenu=58]="ContextMenu",_[_.F1=59]="F1",_[_.F2=60]="F2",_[_.F3=61]="F3",_[_.F4=62]="F4",_[_.F5=63]="F5",_[_.F6=64]="F6",_[_.F7=65]="F7",_[_.F8=66]="F8",_[_.F9=67]="F9",_[_.F10=68]="F10",_[_.F11=69]="F11",_[_.F12=70]="F12",_[_.F13=71]="F13",_[_.F14=72]="F14",_[_.F15=73]="F15",_[_.F16=74]="F16",_[_.F17=75]="F17",_[_.F18=76]="F18",_[_.F19=77]="F19",_[_.F20=78]="F20",_[_.F21=79]="F21",_[_.F22=80]="F22",_[_.F23=81]="F23",_[_.F24=82]="F24",_[_.NumLock=83]="NumLock",_[_.ScrollLock=84]="ScrollLock",_[_.Semicolon=85]="Semicolon",_[_.Equal=86]="Equal",_[_.Comma=87]="Comma",_[_.Minus=88]="Minus",_[_.Period=89]="Period",_[_.Slash=90]="Slash",_[_.Backquote=91]="Backquote",_[_.BracketLeft=92]="BracketLeft",_[_.Backslash=93]="Backslash",_[_.BracketRight=94]="BracketRight",_[_.Quote=95]="Quote",_[_.OEM_8=96]="OEM_8",_[_.IntlBackslash=97]="IntlBackslash",_[_.Numpad0=98]="Numpad0",_[_.Numpad1=99]="Numpad1",_[_.Numpad2=100]="Numpad2",_[_.Numpad3=101]="Numpad3",_[_.Numpad4=102]="Numpad4",_[_.Numpad5=103]="Numpad5",_[_.Numpad6=104]="Numpad6",_[_.Numpad7=105]="Numpad7",_[_.Numpad8=106]="Numpad8",_[_.Numpad9=107]="Numpad9",_[_.NumpadMultiply=108]="NumpadMultiply",_[_.NumpadAdd=109]="NumpadAdd",_[_.NUMPAD_SEPARATOR=110]="NUMPAD_SEPARATOR",_[_.NumpadSubtract=111]="NumpadSubtract",_[_.NumpadDecimal=112]="NumpadDecimal",_[_.NumpadDivide=113]="NumpadDivide",_[_.KEY_IN_COMPOSITION=114]="KEY_IN_COMPOSITION",_[_.ABNT_C1=115]="ABNT_C1",_[_.ABNT_C2=116]="ABNT_C2",_[_.AudioVolumeMute=117]="AudioVolumeMute",_[_.AudioVolumeUp=118]="AudioVolumeUp",_[_.AudioVolumeDown=119]="AudioVolumeDown",_[_.BrowserSearch=120]="BrowserSearch",_[_.BrowserHome=121]="BrowserHome",_[_.BrowserBack=122]="BrowserBack",_[_.BrowserForward=123]="BrowserForward",_[_.MediaTrackNext=124]="MediaTrackNext",_[_.MediaTrackPrevious=125]="MediaTrackPrevious",_[_.MediaStop=126]="MediaStop",_[_.MediaPlayPause=127]="MediaPlayPause",_[_.LaunchMediaPlayer=128]="LaunchMediaPlayer",_[_.LaunchMail=129]="LaunchMail",_[_.LaunchApp2=130]="LaunchApp2",_[_.Clear=131]="Clear",_[_.MAX_VALUE=132]="MAX_VALUE",_}(w||{}),D=function(_){return _[_.Hint=1]="Hint",_[_.Info=2]="Info",_[_.Warning=4]="Warning",_[_.Error=8]="Error",_}(D||{}),N=function(_){return _[_.Unnecessary=1]="Unnecessary",_[_.Deprecated=2]="Deprecated",_}(N||{}),A=function(_){return _[_.Inline=1]="Inline",_[_.Gutter=2]="Gutter",_}(A||{}),k=function(_){return _[_.UNKNOWN=0]="UNKNOWN",_[_.TEXTAREA=1]="TEXTAREA",_[_.GUTTER_GLYPH_MARGIN=2]="GUTTER_GLYPH_MARGIN",_[_.GUTTER_LINE_NUMBERS=3]="GUTTER_LINE_NUMBERS",_[_.GUTTER_LINE_DECORATIONS=4]="GUTTER_LINE_DECORATIONS",_[_.GUTTER_VIEW_ZONE=5]="GUTTER_VIEW_ZONE",_[_.CONTENT_TEXT=6]="CONTENT_TEXT",_[_.CONTENT_EMPTY=7]="CONTENT_EMPTY",_[_.CONTENT_VIEW_ZONE=8]="CONTENT_VIEW_ZONE",_[_.CONTENT_WIDGET=9]="CONTENT_WIDGET",_[_.OVERVIEW_RULER=10]="OVERVIEW_RULER",_[_.SCROLLBAR=11]="SCROLLBAR",_[_.OVERLAY_WIDGET=12]="OVERLAY_WIDGET",_[_.OUTSIDE_EDITOR=13]="OUTSIDE_EDITOR",_}(k||{}),R=function(_){return _[_.TOP_RIGHT_CORNER=0]="TOP_RIGHT_CORNER",_[_.BOTTOM_RIGHT_CORNER=1]="BOTTOM_RIGHT_CORNER",_[_.TOP_CENTER=2]="TOP_CENTER",_}(R||{}),O=function(_){return _[_.Left=1]="Left",_[_.Center=2]="Center",_[_.Right=4]="Right",_[_.Full=7]="Full",_}(O||{}),W=function(_){return _[_.Left=0]="Left",_[_.Right=1]="Right",_[_.None=2]="None",_[_.LeftOfInjectedText=3]="LeftOfInjectedText",_[_.RightOfInjectedText=4]="RightOfInjectedText",_}(W||{}),z=function(_){return _[_.Off=0]="Off",_[_.On=1]="On",_[_.Relative=2]="Relative",_[_.Interval=3]="Interval",_[_.Custom=4]="Custom",_}(z||{}),U=function(_){return _[_.None=0]="None",_[_.Text=1]="Text",_[_.Blocks=2]="Blocks",_}(U||{}),ee=function(_){return _[_.Smooth=0]="Smooth",_[_.Immediate=1]="Immediate",_}(ee||{}),B=function(_){return _[_.Auto=1]="Auto",_[_.Hidden=2]="Hidden",_[_.Visible=3]="Visible",_}(B||{}),G=function(_){return _[_.LTR=0]="LTR",_[_.RTL=1]="RTL",_}(G||{}),se=function(_){return _[_.Invoke=1]="Invoke",_[_.TriggerCharacter=2]="TriggerCharacter",_[_.ContentChange=3]="ContentChange",_}(se||{}),j=function(_){return _[_.File=0]="File",_[_.Module=1]="Module",_[_.Namespace=2]="Namespace",_[_.Package=3]="Package",_[_.Class=4]="Class",_[_.Method=5]="Method",_[_.Property=6]="Property",_[_.Field=7]="Field",_[_.Constructor=8]="Constructor",_[_.Enum=9]="Enum",_[_.Interface=10]="Interface",_[_.Function=11]="Function",_[_.Variable=12]="Variable",_[_.Constant=13]="Constant",_[_.String=14]="String",_[_.Number=15]="Number",_[_.Boolean=16]="Boolean",_[_.Array=17]="Array",_[_.Object=18]="Object",_[_.Key=19]="Key",_[_.Null=20]="Null",_[_.EnumMember=21]="EnumMember",_[_.Struct=22]="Struct",_[_.Event=23]="Event",_[_.Operator=24]="Operator",_[_.TypeParameter=25]="TypeParameter",_}(j||{}),$=function(_){return _[_.Deprecated=1]="Deprecated",_}($||{}),K=function(_){return _[_.Hidden=0]="Hidden",_[_.Blink=1]="Blink",_[_.Smooth=2]="Smooth",_[_.Phase=3]="Phase",_[_.Expand=4]="Expand",_[_.Solid=5]="Solid",_}(K||{}),J=function(_){return _[_.Line=1]="Line",_[_.Block=2]="Block",_[_.Underline=3]="Underline",_[_.LineThin=4]="LineThin",_[_.BlockOutline=5]="BlockOutline",_[_.UnderlineThin=6]="UnderlineThin",_}(J||{}),te=function(_){return _[_.AlwaysGrowsWhenTypingAtEdges=0]="AlwaysGrowsWhenTypingAtEdges",_[_.NeverGrowsWhenTypingAtEdges=1]="NeverGrowsWhenTypingAtEdges",_[_.GrowsOnlyWhenTypingBefore=2]="GrowsOnlyWhenTypingBefore",_[_.GrowsOnlyWhenTypingAfter=3]="GrowsOnlyWhenTypingAfter",_}(te||{}),ne=function(_){return _[_.None=0]="None",_[_.Same=1]="Same",_[_.Indent=2]="Indent",_[_.DeepIndent=3]="DeepIndent",_}(ne||{})},44356:(Xe,we,e)=>{e.d(we,{B8:()=>T,UX:()=>v,aq:()=>S,iN:()=>L,ld:()=>y,qq:()=>r,ug:()=>P,xi:()=>E});var P,r,y,v,S,T,E,L,f=e(37190);(P||(P={})).inspectTokensAction=f.NC("inspectTokens","Developer: Inspect Tokens"),(r||(r={})).gotoLineActionLabel=f.NC("gotoLineActionLabel","Go to Line/Column..."),function(p){p.helpQuickAccessActionLabel=f.NC("helpQuickAccess","Show all Quick Access Providers")}(y||(y={})),function(p){p.quickCommandActionLabel=f.NC("quickCommandActionLabel","Command Palette"),p.quickCommandHelp=f.NC("quickCommandActionHelp","Show And Run Commands")}(v||(v={})),function(p){p.quickOutlineActionLabel=f.NC("quickOutlineActionLabel","Go to Symbol..."),p.quickOutlineByCategoryActionLabel=f.NC("quickOutlineByCategoryActionLabel","Go to Symbol by Category...")}(S||(S={})),function(p){p.editorViewAccessibleLabel=f.NC("editorViewAccessibleLabel","Editor content"),p.accessibilityHelpMessage=f.NC("accessibilityHelpMessage","Press Alt+F1 for Accessibility Options.")}(T||(T={})),function(p){p.toggleHighContrast=f.NC("toggleHighContrast","Toggle High Contrast Theme")}(E||(E={})),function(p){p.bulkEditServiceSummary=f.NC("bulkEditServiceSummary","Made {0} edits in {1} files")}(L||(L={}))},23910:(Xe,we,e)=>{e.d(we,{CZ:()=>S,D8:()=>E,Jx:()=>f,Tx:()=>v,dQ:()=>T,fV:()=>L,gk:()=>P,lN:()=>y,rU:()=>r});class f{constructor(){this.changeType=1}}class P{static applyInjectedText(c,u){if(!u||0===u.length)return c;let g="",i=0;for(const d of u)g+=c.substring(i,d.column-1),i=d.column-1,g+=d.options.content;return g+=c.substring(i),g}static fromDecorations(c){const u=[];for(const g of c)g.options.before&&g.options.before.content.length>0&&u.push(new P(g.ownerId,g.range.startLineNumber,g.range.startColumn,g.options.before,0)),g.options.after&&g.options.after.content.length>0&&u.push(new P(g.ownerId,g.range.endLineNumber,g.range.endColumn,g.options.after,1));return u.sort((g,i)=>g.lineNumber===i.lineNumber?g.column===i.column?g.order-i.order:g.column-i.column:g.lineNumber-i.lineNumber),u}constructor(c,u,g,i,d){this.ownerId=c,this.lineNumber=u,this.column=g,this.options=i,this.order=d}}class r{constructor(c,u,g){this.changeType=2,this.lineNumber=c,this.detail=u,this.injectedText=g}}class y{constructor(c,u){this.changeType=3,this.fromLineNumber=c,this.toLineNumber=u}}class v{constructor(c,u,g,i){this.changeType=4,this.injectedTexts=i,this.fromLineNumber=c,this.toLineNumber=u,this.detail=g}}class S{constructor(){this.changeType=5}}class T{constructor(c,u,g,i){this.changes=c,this.versionId=u,this.isUndoing=g,this.isRedoing=i,this.resultingSelection=null}containsEvent(c){for(let u=0,g=this.changes.length;u<g;u++)if(this.changes[u].changeType===c)return!0;return!1}static merge(c,u){const g=[].concat(c.changes).concat(u.changes);return new T(g,u.versionId,c.isUndoing||u.isUndoing,c.isRedoing||u.isRedoing)}}class E{constructor(c){this.changes=c}}class L{constructor(c,u){this.rawContentChangedEvent=c,this.contentChangedEvent=u}merge(c){const u=T.merge(this.rawContentChangedEvent,c.rawContentChangedEvent),g=L._mergeChangeEvents(this.contentChangedEvent,c.contentChangedEvent);return new L(u,g)}static _mergeChangeEvents(c,u){return{changes:[].concat(c.changes).concat(u.changes),eol:u.eol,isEolChange:c.isEolChange&&u.isEolChange,versionId:u.versionId,isUndoing:c.isUndoing||u.isUndoing,isRedoing:c.isRedoing||u.isRedoing,isFlush:c.isFlush||u.isFlush}}}},72417:(Xe,we,e)=>{e.d(we,{UO:()=>P,s6:()=>f,vW:()=>r});var f=function(y){return y[y.Disabled=0]="Disabled",y[y.EnabledForActive=1]="EnabledForActive",y[y.Enabled=2]="Enabled",y}(f||{});class P{constructor(v,S,T,E,L,p){if(this.visibleColumn=v,this.column=S,this.className=T,this.horizontalLine=E,this.forWrappedLinesAfterColumn=L,this.forWrappedLinesBeforeOrAtColumn=p,-1!==v==(-1!==S))throw new Error}}class r{constructor(v,S){this.top=v,this.endColumn=S}}},39424:(Xe,we,e)=>{e.d(we,{A:()=>P});var f=e(96724);let P=(()=>{class y{static createEmpty(S,T){const E=y.defaultTokenMetadata,L=new Uint32Array(2);return L[0]=S.length,L[1]=E,new y(L,S,T)}constructor(S,T,E){this._lineTokensBrand=void 0,this._tokens=S,this._tokensCount=this._tokens.length>>>1,this._text=T,this._languageIdCodec=E}equals(S){return S instanceof y&&this.slicedEquals(S,0,this._tokensCount)}slicedEquals(S,T,E){if(this._text!==S._text||this._tokensCount!==S._tokensCount)return!1;const L=T<<1,p=L+(E<<1);for(let c=L;c<p;c++)if(this._tokens[c]!==S._tokens[c])return!1;return!0}getLineContent(){return this._text}getCount(){return this._tokensCount}getStartOffset(S){return S>0?this._tokens[S-1<<1]:0}getMetadata(S){return this._tokens[1+(S<<1)]}getLanguageId(S){const E=f.N.getLanguageId(this._tokens[1+(S<<1)]);return this._languageIdCodec.decodeLanguageId(E)}getStandardTokenType(S){return f.N.getTokenType(this._tokens[1+(S<<1)])}getForeground(S){return f.N.getForeground(this._tokens[1+(S<<1)])}getClassName(S){return f.N.getClassNameFromMetadata(this._tokens[1+(S<<1)])}getInlineStyle(S,T){return f.N.getInlineStyleFromMetadata(this._tokens[1+(S<<1)],T)}getPresentation(S){return f.N.getPresentationFromMetadata(this._tokens[1+(S<<1)])}getEndOffset(S){return this._tokens[S<<1]}findTokenIndexAtOffset(S){return y.findIndexInTokensArray(this._tokens,S)}inflate(){return this}sliceAndInflate(S,T,E){return new r(this,S,T,E)}static convertToEndOffset(S,T){const L=(S.length>>>1)-1;for(let p=0;p<L;p++)S[p<<1]=S[p+1<<1];S[L<<1]=T}static findIndexInTokensArray(S,T){if(S.length<=2)return 0;let E=0,L=(S.length>>>1)-1;for(;E<L;){const p=E+Math.floor((L-E)/2),c=S[p<<1];if(c===T)return p+1;c<T?E=p+1:c>T&&(L=p)}return E}withInserted(S){if(0===S.length)return this;let T=0,E=0,L="";const p=new Array;let c=0;for(;;){const u=T<this._tokensCount?this._tokens[T<<1]:-1,g=E<S.length?S[E]:null;if(-1!==u&&(null===g||u<=g.offset))L+=this._text.substring(c,u),p.push(L.length,this._tokens[1+(T<<1)]),T++,c=u;else{if(!g)break;g.offset>c&&(L+=this._text.substring(c,g.offset),p.push(L.length,this._tokens[1+(T<<1)]),c=g.offset),L+=g.text,p.push(L.length,g.tokenMetadata),E++}}return new y(new Uint32Array(p),L,this._languageIdCodec)}}return y.defaultTokenMetadata=33587200,y})();class r{constructor(v,S,T,E){this._source=v,this._startOffset=S,this._endOffset=T,this._deltaOffset=E,this._firstTokenIndex=v.findTokenIndexAtOffset(S),this._tokensCount=0;for(let L=this._firstTokenIndex,p=v.getCount();L<p&&!(v.getStartOffset(L)>=T);L++)this._tokensCount++}getMetadata(v){return this._source.getMetadata(this._firstTokenIndex+v)}getLanguageId(v){return this._source.getLanguageId(this._firstTokenIndex+v)}getLineContent(){return this._source.getLineContent().substring(this._startOffset,this._endOffset)}equals(v){return v instanceof r&&this._startOffset===v._startOffset&&this._endOffset===v._endOffset&&this._deltaOffset===v._deltaOffset&&this._source.slicedEquals(v._source,this._firstTokenIndex,this._tokensCount)}getCount(){return this._tokensCount}getForeground(v){return this._source.getForeground(this._firstTokenIndex+v)}getEndOffset(v){const S=this._source.getEndOffset(this._firstTokenIndex+v);return Math.min(this._endOffset,S)-this._startOffset+this._deltaOffset}getClassName(v){return this._source.getClassName(this._firstTokenIndex+v)}getInlineStyle(v,S){return this._source.getInlineStyle(this._firstTokenIndex+v,S)}getPresentation(v){return this._source.getPresentation(this._firstTokenIndex+v)}findTokenIndexAtOffset(v){return this._source.findTokenIndexAtOffset(v+this._startOffset-this._deltaOffset)-this._firstTokenIndex}}},48092:(Xe,we,e)=>{e.d(we,{Kp:()=>P,k:()=>v});var f=e(16055);class P{constructor(T,E,L,p){this.startColumn=T,this.endColumn=E,this.className=L,this.type=p,this._lineDecorationBrand=void 0}static _equals(T,E){return T.startColumn===E.startColumn&&T.endColumn===E.endColumn&&T.className===E.className&&T.type===E.type}static equalsArr(T,E){const L=T.length;if(L!==E.length)return!1;for(let c=0;c<L;c++)if(!P._equals(T[c],E[c]))return!1;return!0}static extractWrapped(T,E,L){if(0===T.length)return T;const p=E+1,c=L+1,u=L-E,g=[];let i=0;for(const d of T)d.endColumn<=p||d.startColumn>=c||(g[i++]=new P(Math.max(1,d.startColumn-p+1),Math.min(u+1,d.endColumn-p+1),d.className,d.type));return g}static filter(T,E,L,p){if(0===T.length)return[];const c=[];let u=0;for(let g=0,i=T.length;g<i;g++){const d=T[g],a=d.range;a.endLineNumber<E||a.startLineNumber>E||a.isEmpty()&&(0===d.type||3===d.type)||(c[u++]=new P(a.startLineNumber===E?a.startColumn:L,a.endLineNumber===E?a.endColumn:p,d.inlineClassName,d.type))}return c}static _typeCompare(T,E){const L=[2,0,1,3];return L[T]-L[E]}static compare(T,E){if(T.startColumn!==E.startColumn)return T.startColumn-E.startColumn;if(T.endColumn!==E.endColumn)return T.endColumn-E.endColumn;const L=P._typeCompare(T.type,E.type);return 0!==L?L:T.className!==E.className?T.className<E.className?-1:1:0}}class r{constructor(T,E,L,p){this.startOffset=T,this.endOffset=E,this.className=L,this.metadata=p}}class y{constructor(){this.stopOffsets=[],this.classNames=[],this.metadata=[],this.count=0}static _metadata(T){let E=0;for(let L=0,p=T.length;L<p;L++)E|=T[L];return E}consumeLowerThan(T,E,L){for(;this.count>0&&this.stopOffsets[0]<T;){let p=0;for(;p+1<this.count&&this.stopOffsets[p]===this.stopOffsets[p+1];)p++;L.push(new r(E,this.stopOffsets[p],this.classNames.join(" "),y._metadata(this.metadata))),E=this.stopOffsets[p]+1,this.stopOffsets.splice(0,p+1),this.classNames.splice(0,p+1),this.metadata.splice(0,p+1),this.count-=p+1}return this.count>0&&E<T&&(L.push(new r(E,T-1,this.classNames.join(" "),y._metadata(this.metadata))),E=T),E}insert(T,E,L){if(0===this.count||this.stopOffsets[this.count-1]<=T)this.stopOffsets.push(T),this.classNames.push(E),this.metadata.push(L);else for(let p=0;p<this.count;p++)if(this.stopOffsets[p]>=T){this.stopOffsets.splice(p,0,T),this.classNames.splice(p,0,E),this.metadata.splice(p,0,L);break}this.count++}}class v{static normalize(T,E){if(0===E.length)return[];const L=[],p=new y;let c=0;for(let u=0,g=E.length;u<g;u++){const i=E[u];let d=i.startColumn,a=i.endColumn;const m=i.className,l=1===i.type?2:2===i.type?4:0;if(d>1){const D=T.charCodeAt(d-2);f.ZG(D)&&d--}if(a>1){const D=T.charCodeAt(a-2);f.ZG(D)&&a--}const I=d-1,w=a-2;c=p.consumeLowerThan(I,c,L),0===p.count&&(c=I),p.insert(w,m,l)}return p.consumeLowerThan(1073741824,c,L),L}}},82911:(Xe,we,e)=>{e.d(we,{Nd:()=>E,zG:()=>S,IJ:()=>T,d1:()=>c,tF:()=>g});var f=e(37190),P=e(16055),r=e(85460),y=e(48092);class v{constructor(O,W,z,U){this.endIndex=O,this.type=W,this.metadata=z,this.containsRTL=U,this._linePartBrand=void 0}isWhitespace(){return!!(1&this.metadata)}isPseudoAfter(){return!!(4&this.metadata)}}class S{constructor(O,W){this.startOffset=O,this.endOffset=W}equals(O){return this.startOffset===O.startOffset&&this.endOffset===O.endOffset}}class T{constructor(O,W,z,U,ee,B,G,se,j,$,K,J,te,ne,_,ae,ge,_e,ue){this.useMonospaceOptimizations=O,this.canUseHalfwidthRightwardsArrow=W,this.lineContent=z,this.continuesWithWrappedLine=U,this.isBasicASCII=ee,this.containsRTL=B,this.fauxIndentLength=G,this.lineTokens=se,this.lineDecorations=j.sort(y.Kp.compare),this.tabSize=$,this.startVisibleColumn=K,this.spaceWidth=J,this.stopRenderingLineAfter=_,this.renderWhitespace="all"===ae?4:"boundary"===ae?1:"selection"===ae?2:"trailing"===ae?3:0,this.renderControlCharacters=ge,this.fontLigatures=_e,this.selectionsOnLine=ue&&ue.sort((Se,Ve)=>Se.startOffset<Ve.startOffset?-1:1),Math.abs(ne-J)<Math.abs(te-J)?(this.renderSpaceWidth=ne,this.renderSpaceCharCode=11825):(this.renderSpaceWidth=te,this.renderSpaceCharCode=183)}sameSelection(O){if(null===this.selectionsOnLine)return null===O;if(null===O||O.length!==this.selectionsOnLine.length)return!1;for(let W=0;W<this.selectionsOnLine.length;W++)if(!this.selectionsOnLine[W].equals(O[W]))return!1;return!0}equals(O){return this.useMonospaceOptimizations===O.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===O.canUseHalfwidthRightwardsArrow&&this.lineContent===O.lineContent&&this.continuesWithWrappedLine===O.continuesWithWrappedLine&&this.isBasicASCII===O.isBasicASCII&&this.containsRTL===O.containsRTL&&this.fauxIndentLength===O.fauxIndentLength&&this.tabSize===O.tabSize&&this.startVisibleColumn===O.startVisibleColumn&&this.spaceWidth===O.spaceWidth&&this.renderSpaceWidth===O.renderSpaceWidth&&this.renderSpaceCharCode===O.renderSpaceCharCode&&this.stopRenderingLineAfter===O.stopRenderingLineAfter&&this.renderWhitespace===O.renderWhitespace&&this.renderControlCharacters===O.renderControlCharacters&&this.fontLigatures===O.fontLigatures&&y.Kp.equalsArr(this.lineDecorations,O.lineDecorations)&&this.lineTokens.equals(O.lineTokens)&&this.sameSelection(O.selectionsOnLine)}}class E{constructor(O,W){this.partIndex=O,this.charIndex=W}}class L{static getPartIndex(O){return(4294901760&O)>>>16}static getCharIndex(O){return(65535&O)>>>0}constructor(O,W){this.length=O,this._data=new Uint32Array(this.length),this._horizontalOffset=new Uint32Array(this.length)}setColumnInfo(O,W,z,U){this._data[O-1]=(W<<16|z<<0)>>>0,this._horizontalOffset[O-1]=U}getHorizontalOffset(O){return 0===this._horizontalOffset.length?0:this._horizontalOffset[O-1]}charOffsetToPartData(O){return 0===this.length?0:O<0?this._data[0]:O>=this.length?this._data[this.length-1]:this._data[O]}getDomPosition(O){const W=this.charOffsetToPartData(O-1),z=L.getPartIndex(W),U=L.getCharIndex(W);return new E(z,U)}getColumn(O,W){return this.partDataToCharOffset(O.partIndex,W,O.charIndex)+1}partDataToCharOffset(O,W,z){if(0===this.length)return 0;const U=(O<<16|z<<0)>>>0;let ee=0,B=this.length-1;for(;ee+1<B;){const _=ee+B>>>1,ae=this._data[_];if(ae===U)return _;ae>U?B=_:ee=_}if(ee===B)return ee;const G=this._data[ee],se=this._data[B];if(G===U)return ee;if(se===U)return B;const j=L.getPartIndex(G),$=L.getCharIndex(G);let J;return J=j!==L.getPartIndex(se)?W:L.getCharIndex(se),z-$<=J-z?ee:B}}class p{constructor(O,W,z){this._renderLineOutputBrand=void 0,this.characterMapping=O,this.containsRTL=W,this.containsForeignElements=z}}function c(R,O){if(0===R.lineContent.length){if(R.lineDecorations.length>0){O.appendString("<span>");let W=0,z=0,U=0;for(const B of R.lineDecorations)(1===B.type||2===B.type)&&(O.appendString('<span class="'),O.appendString(B.className),O.appendString('"></span>'),1===B.type&&(U|=1,W++),2===B.type&&(U|=2,z++));O.appendString("</span>");const ee=new L(1,W+z);return ee.setColumnInfo(1,W,0,0),new p(ee,!1,U)}return O.appendString("<span><span></span></span>"),new p(new L(0,0),!1,0)}return function N(R,O){const W=R.fontIsMonospace,z=R.canUseHalfwidthRightwardsArrow,U=R.containsForeignElements,ee=R.lineContent,B=R.len,G=R.isOverflowing,se=R.overflowingCharCount,j=R.parts,$=R.fauxIndentLength,K=R.tabSize,J=R.startVisibleColumn,te=R.containsRTL,ne=R.spaceWidth,_=R.renderSpaceCharCode,ae=R.renderWhitespace,ge=R.renderControlCharacters,_e=new L(B+1,j.length);let ue=!1,ve=0,Ie=J,Se=0,Ve=0,De=0;O.appendString(te?'<span dir="ltr">':"<span>");for(let ye=0,oe=j.length;ye<oe;ye++){const Y=j[ye],x=Y.endIndex,F=Y.type,ie=Y.containsRTL,Ce=0!==ae&&Y.isWhitespace(),ke=Ce&&!W&&("mtkw"===F||!U),Pe=ve===x&&Y.isPseudoAfter();if(Se=0,O.appendString("<span "),ie&&O.appendString('style="unicode-bidi:isolate" '),O.appendString('class="'),O.appendString(ke?"mtkz":F),O.appendASCIICharCode(34),Ce){let xe=0;{let fe=ve,be=Ie;for(;fe<x;fe++){const Q=0|(9===ee.charCodeAt(fe)?K-be%K:1);xe+=Q,fe>=$&&(be+=Q)}}for(ke&&(O.appendString(' style="width:'),O.appendString(String(ne*xe)),O.appendString('px"')),O.appendASCIICharCode(62);ve<x;ve++){let be,pe;if(_e.setColumnInfo(ve+1,ye-De,Se,Ve),De=0,9===ee.charCodeAt(ve)){be=K-Ie%K|0,pe=be,O.appendCharCode(!z||pe>1?8594:65515);for(let Q=2;Q<=pe;Q++)O.appendCharCode(160)}else be=2,pe=1,O.appendCharCode(_),O.appendCharCode(8204);Se+=be,Ve+=pe,ve>=$&&(Ie+=pe)}}else for(O.appendASCIICharCode(62);ve<x;ve++){_e.setColumnInfo(ve+1,ye-De,Se,Ve),De=0;const xe=ee.charCodeAt(ve);let fe=1,be=1;switch(xe){case 9:fe=K-Ie%K,be=fe;for(let pe=1;pe<=fe;pe++)O.appendCharCode(160);break;case 32:O.appendCharCode(160);break;case 60:O.appendString("&lt;");break;case 62:O.appendString("&gt;");break;case 38:O.appendString("&amp;");break;case 0:ge?O.appendCharCode(9216):O.appendString("&#00;");break;case 65279:case 8232:case 8233:case 133:O.appendCharCode(65533);break;default:P.K7(xe)&&be++,ge&&xe<32?O.appendCharCode(9216+xe):ge&&127===xe?O.appendCharCode(9249):ge&&l(xe)?(O.appendString("[U+"),O.appendString(A(xe)),O.appendString("]"),fe=8,be=fe):O.appendCharCode(xe)}Se+=fe,Ve+=be,ve>=$&&(Ie+=be)}Pe?De++:De=0,ve>=B&&!ue&&Y.isPseudoAfter()&&(ue=!0,_e.setColumnInfo(ve+1,ye,Se,Ve)),O.appendString("</span>")}return ue||_e.setColumnInfo(B+1,j.length-1,Se,Ve),G&&(O.appendString('<span class="mtkoverflow">'),O.appendString(f.NC("showMore","Show more ({0})",function k(R){return R<1024?f.NC("overflow.chars","{0} chars",R):R<1048576?`${(R/1024).toFixed(1)} KB`:`${(R/1024/1024).toFixed(1)} MB`}(se))),O.appendString("</span>")),O.appendString("</span>"),new p(_e,te,U)}(function d(R){const O=R.lineContent;let W,z,U;-1!==R.stopRenderingLineAfter&&R.stopRenderingLineAfter<O.length?(W=!0,z=O.length-R.stopRenderingLineAfter,U=R.stopRenderingLineAfter):(W=!1,z=0,U=O.length);let ee=function a(R,O,W,z,U){const ee=[];let B=0;z>0&&(ee[B++]=new v(z,"",0,!1));let G=z;for(let se=0,j=W.getCount();se<j;se++){const $=W.getEndOffset(se);if($<=z)continue;const K=W.getClassName(se);if($>=U){const te=!!O&&P.Ut(R.substring(G,U));ee[B++]=new v(U,K,0,te);break}const J=!!O&&P.Ut(R.substring(G,$));ee[B++]=new v($,K,0,J),G=$}return ee}(O,R.containsRTL,R.lineTokens,R.fauxIndentLength,U);R.renderControlCharacters&&!R.isBasicASCII&&(ee=function I(R,O){const W=[];let z=new v(0,"",0,!1),U=0;for(const ee of O){const B=ee.endIndex;for(;U<B;U++)l(R.charCodeAt(U))&&(U>z.endIndex&&(z=new v(U,ee.type,ee.metadata,ee.containsRTL),W.push(z)),z=new v(U+1,"mtkcontrol",ee.metadata,!1),W.push(z));U>z.endIndex&&(z=new v(B,ee.type,ee.metadata,ee.containsRTL),W.push(z))}return W}(O,ee)),(4===R.renderWhitespace||1===R.renderWhitespace||2===R.renderWhitespace&&R.selectionsOnLine||3===R.renderWhitespace&&!R.continuesWithWrappedLine)&&(ee=function w(R,O,W,z){const U=R.continuesWithWrappedLine,ee=R.fauxIndentLength,B=R.tabSize,G=R.startVisibleColumn,se=R.useMonospaceOptimizations,j=R.selectionsOnLine,$=1===R.renderWhitespace,K=3===R.renderWhitespace,J=R.renderSpaceWidth!==R.spaceWidth,te=[];let ne=0,_=0,ae=z[_].type,ge=z[_].containsRTL,_e=z[_].endIndex;const ue=z.length;let Se,ve=!1,Ie=P.LC(O);-1===Ie?(ve=!0,Ie=W,Se=W):Se=P.ow(O);let Ve=!1,De=0,ye=j&&j[De],oe=G%B;for(let x=ee;x<W;x++){const F=O.charCodeAt(x);let ie;if(ye&&x>=ye.endOffset&&(De++,ye=j&&j[De]),x<Ie||x>Se)ie=!0;else if(9===F)ie=!0;else if(32===F)if($)if(Ve)ie=!0;else{const Ce=x+1<W?O.charCodeAt(x+1):0;ie=32===Ce||9===Ce}else ie=!0;else ie=!1;if(ie&&j&&(ie=!!ye&&ye.startOffset<=x&&ye.endOffset>x),ie&&K&&(ie=ve||x>Se),ie&&ge&&x>=Ie&&x<=Se&&(ie=!1),Ve){if(!ie||!se&&oe>=B){if(J)for(let ke=(ne>0?te[ne-1].endIndex:ee)+1;ke<=x;ke++)te[ne++]=new v(ke,"mtkw",1,!1);else te[ne++]=new v(x,"mtkw",1,!1);oe%=B}}else(x===_e||ie&&x>ee)&&(te[ne++]=new v(x,ae,0,ge),oe%=B);for(9===F?oe=B:P.K7(F)?oe+=2:oe++,Ve=ie;x===_e&&(_++,_<ue);)ae=z[_].type,ge=z[_].containsRTL,_e=z[_].endIndex}let Y=!1;if(Ve)if(U&&$){const x=W>0?O.charCodeAt(W-1):0,F=W>1?O.charCodeAt(W-2):0;32===x&&32!==F&&9!==F||(Y=!0)}else Y=!0;if(Y)if(J)for(let F=(ne>0?te[ne-1].endIndex:ee)+1;F<=W;F++)te[ne++]=new v(F,"mtkw",1,!1);else te[ne++]=new v(W,"mtkw",1,!1);else te[ne++]=new v(W,ae,0,ge);return te}(R,O,U,ee));let B=0;if(R.lineDecorations.length>0){for(let G=0,se=R.lineDecorations.length;G<se;G++){const j=R.lineDecorations[G];3===j.type||1===j.type?B|=1:2===j.type&&(B|=2)}ee=function D(R,O,W,z){z.sort(y.Kp.compare);const U=y.k.normalize(R,z),ee=U.length;let B=0;const G=[];let se=0,j=0;for(let K=0,J=W.length;K<J;K++){const te=W[K],ne=te.endIndex,_=te.type,ae=te.metadata,ge=te.containsRTL;for(;B<ee&&U[B].startOffset<ne;){const _e=U[B];if(_e.startOffset>j&&(j=_e.startOffset,G[se++]=new v(j,_,ae,ge)),!(_e.endOffset+1<=ne)){j=ne,G[se++]=new v(j,_+" "+_e.className,ae|_e.metadata,ge);break}j=_e.endOffset+1,G[se++]=new v(j,_+" "+_e.className,ae|_e.metadata,ge),B++}ne>j&&(j=ne,G[se++]=new v(j,_,ae,ge))}const $=W[W.length-1].endIndex;if(B<ee&&U[B].startOffset===$)for(;B<ee&&U[B].startOffset===$;){const K=U[B];G[se++]=new v(j,K.className,K.metadata,!1),B++}return G}(O,0,ee,R.lineDecorations)}return R.containsRTL||(ee=function m(R,O,W){let z=0;const U=[];let ee=0;if(W)for(let B=0,G=O.length;B<G;B++){const se=O[B],j=se.endIndex;if(z+50<j){const $=se.type,K=se.metadata,J=se.containsRTL;let te=-1,ne=z;for(let _=z;_<j;_++)32===R.charCodeAt(_)&&(te=_),-1!==te&&_-ne>=50&&(U[ee++]=new v(te+1,$,K,J),ne=te+1,te=-1);ne!==j&&(U[ee++]=new v(j,$,K,J))}else U[ee++]=se;z=j}else for(let B=0,G=O.length;B<G;B++){const se=O[B],j=se.endIndex,$=j-z;if($>50){const K=se.type,J=se.metadata,te=se.containsRTL,ne=Math.ceil($/50);for(let _=1;_<ne;_++)U[ee++]=new v(z+50*_,K,J,te);U[ee++]=new v(j,K,J,te)}else U[ee++]=se;z=j}return U}(O,ee,!R.isBasicASCII||R.fontLigatures)),new i(R.useMonospaceOptimizations,R.canUseHalfwidthRightwardsArrow,O,U,W,z,ee,B,R.fauxIndentLength,R.tabSize,R.startVisibleColumn,R.containsRTL,R.spaceWidth,R.renderSpaceCharCode,R.renderWhitespace,R.renderControlCharacters)}(R),O)}class u{constructor(O,W,z,U){this.characterMapping=O,this.html=W,this.containsRTL=z,this.containsForeignElements=U}}function g(R){const O=new r.HT(1e4),W=c(R,O);return new u(W.characterMapping,O.build(),W.containsRTL,W.containsForeignElements)}class i{constructor(O,W,z,U,ee,B,G,se,j,$,K,J,te,ne,_,ae){this.fontIsMonospace=O,this.canUseHalfwidthRightwardsArrow=W,this.lineContent=z,this.len=U,this.isOverflowing=ee,this.overflowingCharCount=B,this.parts=G,this.containsForeignElements=se,this.fauxIndentLength=j,this.tabSize=$,this.startVisibleColumn=K,this.containsRTL=J,this.spaceWidth=te,this.renderSpaceCharCode=ne,this.renderWhitespace=_,this.renderControlCharacters=ae}}function l(R){return R<32?9!==R:127===R||R>=8234&&R<=8238||R>=8294&&R<=8297||R>=8206&&R<=8207||1564===R}function A(R){return R.toString(16).toUpperCase().padStart(4,"0")}},56970:(Xe,we,e)=>{e.d(we,{$l:()=>L,$t:()=>T,IP:()=>v,SQ:()=>p,Wx:()=>E,l_:()=>r,ud:()=>y,wA:()=>S});var f=e(16055),P=e(96726);class r{constructor(u,g,i,d){this._viewportBrand=void 0,this.top=0|u,this.left=0|g,this.width=0|i,this.height=0|d}}class y{constructor(u,g){this.tabSize=u,this.data=g}}class v{constructor(u,g,i,d,a,m,l){this._viewLineDataBrand=void 0,this.content=u,this.continuesWithWrappedLine=g,this.minColumn=i,this.maxColumn=d,this.startVisibleColumn=a,this.tokens=m,this.inlineDecorations=l}}class S{constructor(u,g,i,d,a,m,l,I,w,D){this.minColumn=u,this.maxColumn=g,this.content=i,this.continuesWithWrappedLine=d,this.isBasicASCII=S.isBasicASCII(i,m),this.containsRTL=S.containsRTL(i,this.isBasicASCII,a),this.tokens=l,this.inlineDecorations=I,this.tabSize=w,this.startVisibleColumn=D}static isBasicASCII(u,g){return!g||f.$i(u)}static containsRTL(u,g,i){return!(g||!i)&&f.Ut(u)}}class T{constructor(u,g,i){this.range=u,this.inlineClassName=g,this.type=i}}class E{constructor(u,g,i,d){this.startOffset=u,this.endOffset=g,this.inlineClassName=i,this.inlineClassNameAffectsLetterSpacing=d}toInlineDecoration(u){return new T(new P.e(u,this.startOffset+1,u,this.endOffset+1),this.inlineClassName,this.inlineClassNameAffectsLetterSpacing?3:0)}}class L{constructor(u,g){this._viewModelDecorationBrand=void 0,this.range=u,this.options=g}}class p{constructor(u,g,i){this.color=u,this.zIndex=g,this.data=i}static cmp(u,g){return u.zIndex===g.zIndex?u.color<g.color?-1:u.color>g.color?1:0:u.zIndex-g.zIndex}}},53056:(Xe,we,e)=>{e.d(we,{EY:()=>P,Tj:()=>r});class f{constructor(v,S,T){this._colorZoneBrand=void 0,this.from=0|v,this.to=0|S,this.colorId=0|T}static compare(v,S){return v.colorId===S.colorId?v.from===S.from?v.to-S.to:v.from-S.from:v.colorId-S.colorId}}class P{constructor(v,S,T,E){this._overviewRulerZoneBrand=void 0,this.startLineNumber=v,this.endLineNumber=S,this.heightInLines=T,this.color=E,this._colorZone=null}static compare(v,S){return v.color===S.color?v.startLineNumber===S.startLineNumber?v.heightInLines===S.heightInLines?v.endLineNumber-S.endLineNumber:v.heightInLines-S.heightInLines:v.startLineNumber-S.startLineNumber:v.color<S.color?-1:1}setColorZone(v){this._colorZone=v}getColorZones(){return this._colorZone}}class r{constructor(v){this._getVerticalOffsetForLine=v,this._zones=[],this._colorZonesInvalid=!1,this._lineHeight=0,this._domWidth=0,this._domHeight=0,this._outerHeight=0,this._pixelRatio=1,this._lastAssignedId=0,this._color2Id=Object.create(null),this._id2Color=[]}getId2Color(){return this._id2Color}setZones(v){this._zones=v,this._zones.sort(P.compare)}setLineHeight(v){return this._lineHeight!==v&&(this._lineHeight=v,this._colorZonesInvalid=!0,!0)}setPixelRatio(v){this._pixelRatio=v,this._colorZonesInvalid=!0}getDOMWidth(){return this._domWidth}getCanvasWidth(){return this._domWidth*this._pixelRatio}setDOMWidth(v){return this._domWidth!==v&&(this._domWidth=v,this._colorZonesInvalid=!0,!0)}getDOMHeight(){return this._domHeight}getCanvasHeight(){return this._domHeight*this._pixelRatio}setDOMHeight(v){return this._domHeight!==v&&(this._domHeight=v,this._colorZonesInvalid=!0,!0)}getOuterHeight(){return this._outerHeight}setOuterHeight(v){return this._outerHeight!==v&&(this._outerHeight=v,this._colorZonesInvalid=!0,!0)}resolveColorZones(){const v=this._colorZonesInvalid,S=Math.floor(this._lineHeight),T=Math.floor(this.getCanvasHeight()),L=T/Math.floor(this._outerHeight),p=Math.floor(4*this._pixelRatio/2),c=[];for(let u=0,g=this._zones.length;u<g;u++){const i=this._zones[u];if(!v){const k=i.getColorZones();if(k){c.push(k);continue}}const d=this._getVerticalOffsetForLine(i.startLineNumber),a=0===i.heightInLines?this._getVerticalOffsetForLine(i.endLineNumber)+S:d+i.heightInLines*S,m=Math.floor(L*d),l=Math.floor(L*a);let I=Math.floor((m+l)/2),w=l-I;w<p&&(w=p),I-w<0&&(I=w),I+w>T&&(I=T-w);const D=i.color;let N=this._color2Id[D];N||(N=++this._lastAssignedId,this._color2Id[D]=N,this._id2Color[N]=D);const A=new f(I-w,I+w,N);i.setColorZone(A),c.push(A)}return this._colorZonesInvalid=!1,c.sort(f.compare),c}}},45462:(Xe,we,e)=>{e.d(we,{$t:()=>T,CU:()=>v,Fd:()=>S,zg:()=>E});var f=e(68678),P=e(96726),r=e(56970),y=e(36413);class v{constructor(c,u,g,i,d){this.editorId=c,this.model=u,this.configuration=g,this._linesCollection=i,this._coordinatesConverter=d,this._decorationsCache=Object.create(null),this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}_clearCachedModelDecorationsResolver(){this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}dispose(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}reset(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onModelDecorationsChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onLineMappingChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}_getOrCreateViewModelDecoration(c){const u=c.id;let g=this._decorationsCache[u];if(!g){const i=c.range,d=c.options;let a;if(d.isWholeLine){const m=this._coordinatesConverter.convertModelPositionToViewPosition(new f.L(i.startLineNumber,1),0,!1,!0),l=this._coordinatesConverter.convertModelPositionToViewPosition(new f.L(i.endLineNumber,this.model.getLineMaxColumn(i.endLineNumber)),1);a=new P.e(m.lineNumber,m.column,l.lineNumber,l.column)}else a=this._coordinatesConverter.convertModelRangeToViewRange(i,1);g=new r.$l(a,d),this._decorationsCache[u]=g}return g}getMinimapDecorationsInRange(c){return this._getDecorationsInRange(c,!0,!1).decorations}getDecorationsViewportData(c){let u=null!==this._cachedModelDecorationsResolver;return u=u&&c.equalsRange(this._cachedModelDecorationsResolverViewRange),u||(this._cachedModelDecorationsResolver=this._getDecorationsInRange(c,!1,!1),this._cachedModelDecorationsResolverViewRange=c),this._cachedModelDecorationsResolver}getInlineDecorationsOnLine(c,u=!1,g=!1){const i=new P.e(c,this._linesCollection.getViewLineMinColumn(c),c,this._linesCollection.getViewLineMaxColumn(c));return this._getDecorationsInRange(i,u,g).inlineDecorations[0]}_getDecorationsInRange(c,u,g){const i=this._linesCollection.getDecorationsInRange(c,this.editorId,(0,y.$J)(this.configuration.options),u,g),d=c.startLineNumber,a=c.endLineNumber,m=[];let l=0;const I=[];for(let w=d;w<=a;w++)I[w-d]=[];for(let w=0,D=i.length;w<D;w++){const N=i[w],A=N.options;if(!S(this.model,N))continue;const k=this._getOrCreateViewModelDecoration(N),R=k.range;if(m[l++]=k,A.inlineClassName){const O=new r.$t(R,A.inlineClassName,A.inlineClassNameAffectsLetterSpacing?3:0),W=Math.max(d,R.startLineNumber),z=Math.min(a,R.endLineNumber);for(let U=W;U<=z;U++)I[U-d].push(O)}if(A.beforeContentClassName&&d<=R.startLineNumber&&R.startLineNumber<=a){const O=new r.$t(new P.e(R.startLineNumber,R.startColumn,R.startLineNumber,R.startColumn),A.beforeContentClassName,1);I[R.startLineNumber-d].push(O)}if(A.afterContentClassName&&d<=R.endLineNumber&&R.endLineNumber<=a){const O=new r.$t(new P.e(R.endLineNumber,R.endColumn,R.endLineNumber,R.endColumn),A.afterContentClassName,2);I[R.endLineNumber-d].push(O)}}return{decorations:m,inlineDecorations:I}}}function S(p,c){return!(c.options.hideInCommentTokens&&T(p,c)||c.options.hideInStringTokens&&E(p,c))}function T(p,c){return L(p,c.range,u=>1===u)}function E(p,c){return L(p,c.range,u=>2===u)}function L(p,c,u){for(let g=c.startLineNumber;g<=c.endLineNumber;g++){const i=p.tokenization.getLineTokens(g),a=g===c.endLineNumber;let m=g===c.startLineNumber?i.findTokenIndexAtOffset(c.startColumn-1):0;for(;m<i.getCount()&&!(a&&i.getStartOffset(m)>c.endColumn-1);){if(!u(i.getStandardTokenType(m)))return!1;m++}}return!0}},38811:(Xe,we,e)=>{var f=e(41539),P=e(10878),r=e(48994),y=e(93379),v=e.n(y),S=e(7795),T=e.n(S),E=e(90569),L=e.n(E),p=e(3565),c=e.n(p),u=e(19216),g=e.n(u),i=e(44589),d=e.n(i),a=e(34055),m={};m.styleTagTransform=d(),m.setAttributes=c(),m.insert=L().bind(null,"head"),m.domAPI=T(),m.insertStyleElement=g(),v()(a.Z,m);var z,w=e(8256),D=e(81534),N=e(15446),A=e(37190),k=e(66221),W=function($,K,J,te){return new(J||(J=Promise))(function(_,ae){function ge(ve){try{ue(te.next(ve))}catch(Ie){ae(Ie)}}function _e(ve){try{ue(te.throw(ve))}catch(Ie){ae(Ie)}}function ue(ve){ve.done?_(ve.value):function ne(_){return _ instanceof J?_:new J(function(ae){ae(_)})}(ve.value).then(ge,_e)}ue((te=te.apply($,K||[])).next())})};const U=new k.uy("selectionAnchorSet",!1);let ee=z=class{static get(K){return K.getContribution(z.ID)}constructor(K,J){this.editor=K,this.selectionAnchorSetContextKey=U.bindTo(J),this.modelChangeListener=K.onDidChangeModel(()=>this.selectionAnchorSetContextKey.reset())}setSelectionAnchor(){if(this.editor.hasModel()){const K=this.editor.getPosition();this.editor.changeDecorations(J=>{this.decorationId&&J.removeDecoration(this.decorationId),this.decorationId=J.addDecoration(D.Y.fromPositions(K,K),{description:"selection-anchor",stickiness:1,hoverMessage:(new P.W5).appendText((0,A.NC)("selectionAnchor","Selection Anchor")),className:"selection-anchor"})}),this.selectionAnchorSetContextKey.set(!!this.decorationId),(0,f.Z9)((0,A.NC)("anchorSet","Anchor set at {0}:{1}",K.lineNumber,K.column))}}goToSelectionAnchor(){if(this.editor.hasModel()&&this.decorationId){const K=this.editor.getModel().getDecorationRange(this.decorationId);K&&this.editor.setPosition(K.getStartPosition())}}selectFromAnchorToCursor(){if(this.editor.hasModel()&&this.decorationId){const K=this.editor.getModel().getDecorationRange(this.decorationId);if(K){const J=this.editor.getPosition();this.editor.setSelection(D.Y.fromPositions(K.getStartPosition(),J)),this.cancelSelectionAnchor()}}}cancelSelectionAnchor(){if(this.decorationId){const K=this.decorationId;this.editor.changeDecorations(J=>{J.removeDecoration(K),this.decorationId=void 0}),this.selectionAnchorSetContextKey.set(!1)}}dispose(){this.cancelSelectionAnchor(),this.modelChangeListener.dispose()}};var K;ee.ID="editor.contrib.selectionAnchorController",ee=z=function($,K,J,te){var ae,ne=arguments.length,_=ne<3?K:null===te?te=Object.getOwnPropertyDescriptor(K,J):te;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)_=Reflect.decorate($,K,J,te);else for(var ge=$.length-1;ge>=0;ge--)(ae=$[ge])&&(_=(ne<3?ae(_):ne>3?ae(K,J,_):ae(K,J))||_);return ne>3&&_&&Object.defineProperty(K,J,_),_}([(1,K=k.i6,function(J,te){K(J,te,1)})],ee),(0,w._K)(ee.ID,ee,4),(0,w.Qr)(class B extends w.R6{constructor(){super({id:"editor.action.setSelectionAnchor",label:(0,A.NC)("setSelectionAnchor","Set Selection Anchor"),alias:"Set Selection Anchor",precondition:void 0,kbOpts:{kbExpr:N.u.editorTextFocus,primary:(0,r.gx)(2089,2080),weight:100}})}run(K,J){var te;return W(this,void 0,void 0,function*(){null===(te=ee.get(J))||void 0===te||te.setSelectionAnchor()})}}),(0,w.Qr)(class G extends w.R6{constructor(){super({id:"editor.action.goToSelectionAnchor",label:(0,A.NC)("goToSelectionAnchor","Go to Selection Anchor"),alias:"Go to Selection Anchor",precondition:U})}run(K,J){var te;return W(this,void 0,void 0,function*(){null===(te=ee.get(J))||void 0===te||te.goToSelectionAnchor()})}}),(0,w.Qr)(class se extends w.R6{constructor(){super({id:"editor.action.selectFromAnchorToCursor",label:(0,A.NC)("selectFromAnchorToCursor","Select from Anchor to Cursor"),alias:"Select from Anchor to Cursor",precondition:U,kbOpts:{kbExpr:N.u.editorTextFocus,primary:(0,r.gx)(2089,2089),weight:100}})}run(K,J){var te;return W(this,void 0,void 0,function*(){null===(te=ee.get(J))||void 0===te||te.selectFromAnchorToCursor()})}}),(0,w.Qr)(class j extends w.R6{constructor(){super({id:"editor.action.cancelSelectionAnchor",label:(0,A.NC)("cancelSelectionAnchor","Cancel Selection Anchor"),alias:"Cancel Selection Anchor",precondition:U,kbOpts:{kbExpr:N.u.editorTextFocus,primary:9,weight:100}})}run(K,J){var te;return W(this,void 0,void 0,function*(){null===(te=ee.get(J))||void 0===te||te.cancelSelectionAnchor()})}})},17129:(Xe,we,e)=>{var f=e(85328),P=e(78694),r=e(93379),y=e.n(r),v=e(7795),S=e.n(v),T=e(90569),E=e.n(T),L=e(3565),p=e.n(L),c=e(19216),u=e.n(c),g=e(44589),i=e.n(g),d=e(12205),a={};a.styleTagTransform=i(),a.setAttributes=p(),a.insert=E().bind(null,"head"),a.domAPI=S(),a.insertStyleElement=u(),y()(d.Z,a);var I=e(8256),w=e(68678),D=e(96726),N=e(81534),A=e(15446),k=e(24470),R=e(54267),O=e(37190),W=e(63032),z=e(99745),U=e(23527);const ee=(0,z.P6G)("editorOverviewRuler.bracketMatchForeground",{dark:"#A0A0A0",light:"#A0A0A0",hcDark:"#A0A0A0",hcLight:"#A0A0A0"},O.NC("overviewRulerBracketMatchForeground","Overview ruler marker color for matching brackets."));class j{constructor(J,te,ne){this.position=J,this.brackets=te,this.options=ne}}class $ extends P.JT{static get(J){return J.getContribution($.ID)}constructor(J){super(),this._editor=J,this._lastBracketsData=[],this._lastVersionId=0,this._decorations=this._editor.createDecorationsCollection(),this._updateBracketsSoon=this._register(new f.pY(()=>this._updateBrackets(),50)),this._matchBrackets=this._editor.getOption(70),this._updateBracketsSoon.schedule(),this._register(J.onDidChangeCursorPosition(te=>{"never"!==this._matchBrackets&&this._updateBracketsSoon.schedule()})),this._register(J.onDidChangeModelContent(te=>{this._updateBracketsSoon.schedule()})),this._register(J.onDidChangeModel(te=>{this._lastBracketsData=[],this._updateBracketsSoon.schedule()})),this._register(J.onDidChangeModelLanguageConfiguration(te=>{this._lastBracketsData=[],this._updateBracketsSoon.schedule()})),this._register(J.onDidChangeConfiguration(te=>{te.hasChanged(70)&&(this._matchBrackets=this._editor.getOption(70),this._decorations.clear(),this._lastBracketsData=[],this._lastVersionId=0,this._updateBracketsSoon.schedule())})),this._register(J.onDidBlurEditorWidget(()=>{this._updateBracketsSoon.schedule()})),this._register(J.onDidFocusEditorWidget(()=>{this._updateBracketsSoon.schedule()}))}jumpToBracket(){if(!this._editor.hasModel())return;const J=this._editor.getModel(),te=this._editor.getSelections().map(ne=>{const _=ne.getStartPosition(),ae=J.bracketPairs.matchBracket(_);let ge=null;if(ae)ae[0].containsPosition(_)&&!ae[1].containsPosition(_)?ge=ae[1].getStartPosition():ae[1].containsPosition(_)&&(ge=ae[0].getStartPosition());else{const _e=J.bracketPairs.findEnclosingBrackets(_);if(_e)ge=_e[1].getStartPosition();else{const ue=J.bracketPairs.findNextBracket(_);ue&&ue.range&&(ge=ue.range.getStartPosition())}}return ge?new N.Y(ge.lineNumber,ge.column,ge.lineNumber,ge.column):new N.Y(_.lineNumber,_.column,_.lineNumber,_.column)});this._editor.setSelections(te),this._editor.revealRange(te[0])}selectToBracket(J){if(!this._editor.hasModel())return;const te=this._editor.getModel(),ne=[];this._editor.getSelections().forEach(_=>{const ae=_.getStartPosition();let ge=te.bracketPairs.matchBracket(ae);if(!ge&&(ge=te.bracketPairs.findEnclosingBrackets(ae),!ge)){const ve=te.bracketPairs.findNextBracket(ae);ve&&ve.range&&(ge=te.bracketPairs.matchBracket(ve.range.getStartPosition()))}let _e=null,ue=null;if(ge){ge.sort(D.e.compareRangesUsingStarts);const[ve,Ie]=ge;if(_e=J?ve.getStartPosition():ve.getEndPosition(),ue=J?Ie.getEndPosition():Ie.getStartPosition(),Ie.containsPosition(ae)){const Se=_e;_e=ue,ue=Se}}_e&&ue&&ne.push(new N.Y(_e.lineNumber,_e.column,ue.lineNumber,ue.column))}),ne.length>0&&(this._editor.setSelections(ne),this._editor.revealRange(ne[0]))}removeBrackets(J){if(!this._editor.hasModel())return;const te=this._editor.getModel();this._editor.getSelections().forEach(ne=>{const _=ne.getPosition();let ae=te.bracketPairs.matchBracket(_);ae||(ae=te.bracketPairs.findEnclosingBrackets(_)),ae&&(this._editor.pushUndoStop(),this._editor.executeEdits(J,[{range:ae[0],text:""},{range:ae[1],text:""}]),this._editor.pushUndoStop())})}_updateBrackets(){if("never"===this._matchBrackets)return;this._recomputeBrackets();const J=[];let te=0;for(const ne of this._lastBracketsData){const _=ne.brackets;_&&(J[te++]={range:_[0],options:ne.options},J[te++]={range:_[1],options:ne.options})}this._decorations.set(J)}_recomputeBrackets(){if(!this._editor.hasModel()||!this._editor.hasWidgetFocus())return this._lastBracketsData=[],void(this._lastVersionId=0);const J=this._editor.getSelections();if(J.length>100)return this._lastBracketsData=[],void(this._lastVersionId=0);const te=this._editor.getModel(),ne=te.getVersionId();let _=[];this._lastVersionId===ne&&(_=this._lastBracketsData);const ae=[];let ge=0;for(let Se=0,Ve=J.length;Se<Ve;Se++){const De=J[Se];De.isEmpty()&&(ae[ge++]=De.getStartPosition())}ae.length>1&&ae.sort(w.L.compare);const _e=[];let ue=0,ve=0;const Ie=_.length;for(let Se=0,Ve=ae.length;Se<Ve;Se++){const De=ae[Se];for(;ve<Ie&&_[ve].position.isBefore(De);)ve++;if(ve<Ie&&_[ve].position.equals(De))_e[ue++]=_[ve];else{let ye=te.bracketPairs.matchBracket(De,20),oe=$._DECORATION_OPTIONS_WITH_OVERVIEW_RULER;!ye&&"always"===this._matchBrackets&&(ye=te.bracketPairs.findEnclosingBrackets(De,20),oe=$._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER),_e[ue++]=new j(De,ye,oe)}}this._lastBracketsData=_e,this._lastVersionId=ne}}$.ID="editor.contrib.bracketMatchingController",$._DECORATION_OPTIONS_WITH_OVERVIEW_RULER=R.qx.register({description:"bracket-match-overview",stickiness:1,className:"bracket-match",overviewRuler:{color:(0,U.EN)(ee),position:k.sh.Center}}),$._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER=R.qx.register({description:"bracket-match-no-overview",stickiness:1,className:"bracket-match"}),(0,I._K)($.ID,$,1),(0,I.Qr)(class G extends I.R6{constructor(){super({id:"editor.action.selectToBracket",label:O.NC("smartSelect.selectToBracket","Select to Bracket"),alias:"Select to Bracket",precondition:void 0,description:{description:"Select to Bracket",args:[{name:"args",schema:{type:"object",properties:{selectBrackets:{type:"boolean",default:!0}}}}]}})}run(J,te,ne){var _;let ae=!0;ne&&!1===ne.selectBrackets&&(ae=!1),null===(_=$.get(te))||void 0===_||_.selectToBracket(ae)}}),(0,I.Qr)(class B extends I.R6{constructor(){super({id:"editor.action.jumpToBracket",label:O.NC("smartSelect.jumpBracket","Go to Bracket"),alias:"Go to Bracket",precondition:void 0,kbOpts:{kbExpr:A.u.editorTextFocus,primary:3165,weight:100}})}run(J,te){var ne;null===(ne=$.get(te))||void 0===ne||ne.jumpToBracket()}}),(0,I.Qr)(class se extends I.R6{constructor(){super({id:"editor.action.removeBrackets",label:O.NC("smartSelect.removeBrackets","Remove Brackets"),alias:"Remove Brackets",precondition:void 0,kbOpts:{kbExpr:A.u.editorTextFocus,primary:2561,weight:100}})}run(J,te){var ne;null===(ne=$.get(te))||void 0===ne||ne.removeBrackets(this.id)}}),W.BH.appendMenuItem(W.eH.MenubarGoMenu,{group:"5_infile_nav",command:{id:"editor.action.jumpToBracket",title:O.NC({key:"miGoToBracket",comment:["&& denotes a mnemonic"]},"Go to &&Bracket")},order:2})},40972:(Xe,we,e)=>{var f=e(8256),P=e(15446),r=e(96726),y=e(81534);class v{constructor(c,u){this._selection=c,this._isMovingLeft=u}getEditOperations(c,u){if(this._selection.startLineNumber!==this._selection.endLineNumber||this._selection.isEmpty())return;const g=this._selection.startLineNumber,i=this._selection.startColumn,d=this._selection.endColumn;if((!this._isMovingLeft||1!==i)&&(this._isMovingLeft||d!==c.getLineMaxColumn(g)))if(this._isMovingLeft){const a=new r.e(g,i-1,g,i),m=c.getValueInRange(a);u.addEditOperation(a,null),u.addEditOperation(new r.e(g,d,g,d),m)}else{const a=new r.e(g,d,g,d+1),m=c.getValueInRange(a);u.addEditOperation(a,null),u.addEditOperation(new r.e(g,i,g,i),m)}}computeCursorState(c,u){return this._isMovingLeft?new y.Y(this._selection.startLineNumber,this._selection.startColumn-1,this._selection.endLineNumber,this._selection.endColumn-1):new y.Y(this._selection.startLineNumber,this._selection.startColumn+1,this._selection.endLineNumber,this._selection.endColumn+1)}}var S=e(37190);class T extends f.R6{constructor(c,u){super(u),this.left=c}run(c,u){if(!u.hasModel())return;const g=[],i=u.getSelections();for(const d of i)g.push(new v(d,this.left));u.pushUndoStop(),u.executeCommands(this.id,g),u.pushUndoStop()}}(0,f.Qr)(class E extends T{constructor(){super(!0,{id:"editor.action.moveCarretLeftAction",label:S.NC("caret.moveLeft","Move Selected Text Left"),alias:"Move Selected Text Left",precondition:P.u.writable})}}),(0,f.Qr)(class L extends T{constructor(){super(!1,{id:"editor.action.moveCarretRightAction",label:S.NC("caret.moveRight","Move Selected Text Right"),alias:"Move Selected Text Right",precondition:P.u.writable})}})},99931:(Xe,we,e)=>{var f=e(8256),P=e(41604),r=e(51322),y=e(96726),v=e(15446),S=e(37190);(0,f.Qr)(class T extends f.R6{constructor(){super({id:"editor.action.transposeLetters",label:S.NC("transposeLetters.label","Transpose Letters"),alias:"Transpose Letters",precondition:v.u.writable,kbOpts:{kbExpr:v.u.textInputFocus,primary:0,mac:{primary:306},weight:100}})}run(L,p){if(!p.hasModel())return;const c=p.getModel(),u=[],g=p.getSelections();for(const i of g){if(!i.isEmpty())continue;const d=i.startLineNumber,a=i.startColumn,m=c.getLineMaxColumn(d);if(1===d&&(1===a||2===a&&2===m))continue;const l=a===m?i.getPosition():r.o.rightPosition(c,i.getPosition().lineNumber,i.getPosition().column),I=r.o.leftPosition(c,l),w=r.o.leftPosition(c,I),D=c.getValueInRange(y.e.fromPositions(w,I)),N=c.getValueInRange(y.e.fromPositions(I,l)),A=y.e.fromPositions(w,l);u.push(new P.T4(A,N+D))}u.length>0&&(p.pushUndoStop(),p.executeCommands(this.id,u),p.pushUndoStop())}})},74658:(Xe,we,e)=>{var f=e(47492),P=e(88593),r=e(44114),y=e(8256),v=e(51617),S=e(15446),T=e(37190),E=e(63032),L=e(2034),p=e(66221);const u="9_cutcopypaste",g=P.tY||document.queryCommandSupported("cut"),i=P.tY||document.queryCommandSupported("copy"),d=!(typeof navigator.clipboard>"u"||f.vU)||document.queryCommandSupported("paste");function a(N){return N.register(),N}const m=g?a(new y.AJ({id:"editor.action.clipboardCutAction",precondition:void 0,kbOpts:P.tY?{primary:2102,win:{primary:2102,secondary:[1044]},weight:100}:void 0,menuOpts:[{menuId:E.eH.MenubarEditMenu,group:"2_ccp",title:T.NC({key:"miCut",comment:["&& denotes a mnemonic"]},"Cu&&t"),order:1},{menuId:E.eH.EditorContext,group:u,title:T.NC("actions.clipboard.cutLabel","Cut"),when:S.u.writable,order:1},{menuId:E.eH.CommandPalette,group:"",title:T.NC("actions.clipboard.cutLabel","Cut"),order:1},{menuId:E.eH.SimpleEditorContext,group:u,title:T.NC("actions.clipboard.cutLabel","Cut"),when:S.u.writable,order:1}]})):void 0,l=i?a(new y.AJ({id:"editor.action.clipboardCopyAction",precondition:void 0,kbOpts:P.tY?{primary:2081,win:{primary:2081,secondary:[2067]},weight:100}:void 0,menuOpts:[{menuId:E.eH.MenubarEditMenu,group:"2_ccp",title:T.NC({key:"miCopy",comment:["&& denotes a mnemonic"]},"&&Copy"),order:2},{menuId:E.eH.EditorContext,group:u,title:T.NC("actions.clipboard.copyLabel","Copy"),order:2},{menuId:E.eH.CommandPalette,group:"",title:T.NC("actions.clipboard.copyLabel","Copy"),order:1},{menuId:E.eH.SimpleEditorContext,group:u,title:T.NC("actions.clipboard.copyLabel","Copy"),order:2}]})):void 0;E.BH.appendMenuItem(E.eH.MenubarEditMenu,{submenu:E.eH.MenubarCopy,title:{value:T.NC("copy as","Copy As"),original:"Copy As"},group:"2_ccp",order:3}),E.BH.appendMenuItem(E.eH.EditorContext,{submenu:E.eH.EditorContextCopy,title:{value:T.NC("copy as","Copy As"),original:"Copy As"},group:u,order:3}),E.BH.appendMenuItem(E.eH.EditorContext,{submenu:E.eH.EditorContextShare,title:{value:T.NC("share","Share"),original:"Share"},group:"11_share",order:-1,when:p.Ao.and(p.Ao.notEquals("resourceScheme","output"),S.u.editorTextFocus)}),E.BH.appendMenuItem(E.eH.EditorTitleContext,{submenu:E.eH.EditorTitleContextShare,title:{value:T.NC("share","Share"),original:"Share"},group:"11_share",order:-1}),E.BH.appendMenuItem(E.eH.ExplorerContext,{submenu:E.eH.ExplorerContextShare,title:{value:T.NC("share","Share"),original:"Share"},group:"11_share",order:-1});const I=d?a(new y.AJ({id:"editor.action.clipboardPasteAction",precondition:void 0,kbOpts:P.tY?{primary:2100,win:{primary:2100,secondary:[1043]},linux:{primary:2100,secondary:[1043]},weight:100}:void 0,menuOpts:[{menuId:E.eH.MenubarEditMenu,group:"2_ccp",title:T.NC({key:"miPaste",comment:["&& denotes a mnemonic"]},"&&Paste"),order:4},{menuId:E.eH.EditorContext,group:u,title:T.NC("actions.clipboard.pasteLabel","Paste"),when:S.u.writable,order:4},{menuId:E.eH.CommandPalette,group:"",title:T.NC("actions.clipboard.pasteLabel","Paste"),order:1},{menuId:E.eH.SimpleEditorContext,group:u,title:T.NC("actions.clipboard.pasteLabel","Paste"),when:S.u.writable,order:4}]})):void 0;function D(N,A){N&&(N.addImplementation(1e4,"code-editor",(k,R)=>{const O=k.get(v.$).getFocusedCodeEditor();if(O&&O.hasTextFocus()){const W=O.getOption(36),z=O.getSelection();return z&&z.isEmpty()&&!W||document.execCommand(A),!0}return!1}),N.addImplementation(0,"generic-dom",(k,R)=>(document.execCommand(A),!0)))}D(m,"cut"),D(l,"copy"),I&&(I.addImplementation(1e4,"code-editor",(N,A)=>{const k=N.get(v.$),R=N.get(L.p),O=k.getFocusedCodeEditor();return!(!O||!O.hasTextFocus())&&(!(!document.execCommand("paste")&&P.$L)||function(N,A,k,R){return new(k||(k=Promise))(function(W,z){function U(G){try{B(R.next(G))}catch(se){z(se)}}function ee(G){try{B(R.throw(G))}catch(se){z(se)}}function B(G){G.done?W(G.value):function O(W){return W instanceof k?W:new k(function(z){z(W)})}(G.value).then(U,ee)}B((R=R.apply(N,A||[])).next())})}(void 0,void 0,void 0,function*(){const z=yield R.readText();if(""!==z){const U=r.Nl.INSTANCE.get(z);let ee=!1,B=null,G=null;U&&(ee=O.getOption(36)&&!!U.isFromEmptySelection,B=typeof U.multicursorText<"u"?U.multicursorText:null,G=U.mode),O.trigger("keyboard","paste",{text:z,pasteOnNewLine:ee,multicursorText:B,mode:G})}}))}),I.addImplementation(0,"generic-dom",(N,A)=>(document.execCommand("paste"),!0))),i&&(0,y.Qr)(class w extends y.R6{constructor(){super({id:"editor.action.clipboardCopyWithSyntaxHighlightingAction",label:T.NC("actions.clipboard.copyWithSyntaxHighlightingLabel","Copy With Syntax Highlighting"),alias:"Copy With Syntax Highlighting",precondition:void 0,kbOpts:{kbExpr:S.u.textInputFocus,primary:0,weight:100}})}run(A,k){!k.hasModel()||!k.getOption(36)&&k.getSelection().isEmpty()||(r.RA.forceCopyWithSyntaxHighlighting=!0,k.focus(),document.execCommand("copy"),r.RA.forceCopyWithSyntaxHighlighting=!1)}})},97538:(Xe,we,e)=>{e.d(we,{Bb:()=>N,LR:()=>se,MN:()=>A,RB:()=>I,TM:()=>R,UX:()=>G,aI:()=>z,cz:()=>w,pZ:()=>D,uH:()=>k});var f=e(31738),P=e(87618),r=e(17967),y=e(78694),v=e(15850),S=e(97361),T=e(96726),E=e(81534),L=e(55763),p=e(41204),c=e(45173),u=e(37190),g=e(11813),i=e(22438),d=e(51367),a=e(58942),m=e(35366),l=function($,K,J,te){return new(J||(J=Promise))(function(_,ae){function ge(ve){try{ue(te.next(ve))}catch(Ie){ae(Ie)}}function _e(ve){try{ue(te.throw(ve))}catch(Ie){ae(Ie)}}function ue(ve){ve.done?_(ve.value):function ne(_){return _ instanceof J?_:new J(function(ae){ae(_)})}(ve.value).then(ge,_e)}ue((te=te.apply($,K||[])).next())})};const I="editor.action.codeAction",w="editor.action.quickFix",D="editor.action.autoFix",N="editor.action.refactor",A="editor.action.sourceAction",k="editor.action.organizeImports",R="editor.action.fixAll";class O extends y.JT{static codeActionsPreferredComparator(K,J){return K.isPreferred&&!J.isPreferred?-1:!K.isPreferred&&J.isPreferred?1:0}static codeActionsComparator({action:K},{action:J}){return(0,f.Of)(K.diagnostics)?(0,f.Of)(J.diagnostics)?O.codeActionsPreferredComparator(K,J):-1:(0,f.Of)(J.diagnostics)?1:O.codeActionsPreferredComparator(K,J)}constructor(K,J,te){super(),this.documentation=J,this._register(te),this.allActions=[...K].sort(O.codeActionsComparator),this.validActions=this.allActions.filter(({action:ne})=>!ne.disabled)}get hasAutoFix(){return this.validActions.some(({action:K})=>!!K.kind&&m.yN.QuickFix.contains(new m.yN(K.kind))&&!!K.isPreferred)}}const W={actions:[],documentation:void 0};function z($,K,J,te,ne,_){var ae;return l(this,void 0,void 0,function*(){const ge=te.filter||{},_e={only:null===(ae=ge.include)||void 0===ae?void 0:ae.value,trigger:te.type},ue=new c.YQ(K,_),ve=function U($,K,J){return $.all(K).filter(te=>!te.providedCodeActionKinds||te.providedCodeActionKinds.some(ne=>(0,m.EU)(J,new m.yN(ne))))}($,K,ge),Ie=new y.SL,Se=ve.map(De=>l(this,void 0,void 0,function*(){try{ne.report(De);const ye=yield De.provideCodeActions(K,J,_e,ue.token);if(ye&&Ie.add(ye),ue.token.isCancellationRequested)return W;const oe=(ye?.actions||[]).filter(x=>x&&(0,m.Yl)(ge,x)),Y=function B($,K,J){if(!$.documentation)return;const te=$.documentation.map(ne=>({kind:new m.yN(ne.kind),command:ne.command}));if(J){let ne;for(const _ of te)_.kind.contains(J)&&(ne?ne.kind.contains(_.kind)&&(ne=_):ne=_);if(ne)return ne?.command}for(const ne of K)if(ne.kind)for(const _ of te)if(_.kind.contains(new m.yN(ne.kind)))return _.command}(De,oe,ge.include);return{actions:oe.map(x=>new m.bA(x,De)),documentation:Y}}catch(ye){if((0,r.n2)(ye))throw ye;return(0,r.Cp)(ye),W}})),Ve=$.onDidChange(()=>{const De=$.all(K);(0,f.fS)(De,ve)||ue.cancel()});try{const De=yield Promise.all(Se),ye=De.map(Y=>Y.actions).flat(),oe=[...(0,f.kX)(De.map(Y=>Y.documentation)),...ee($,K,te,ye)];return new O(ye,oe,Ie)}finally{Ve.dispose(),ue.dispose()}})}function*ee($,K,J,te){var ne,_,ae;if(K&&te.length)for(const ge of $.all(K))ge._getAdditionalMenuItems&&(yield*null===(ne=ge._getAdditionalMenuItems)||void 0===ne?void 0:ne.call(ge,{trigger:J.type,only:null===(ae=null===(_=J.filter)||void 0===_?void 0:_.include)||void 0===ae?void 0:ae.value},te.map(_e=>_e.action)))}var G=function($){return $.OnSave="onSave",$.FromProblemsView="fromProblemsView",$.FromCodeActions="fromCodeActions",$}(G||{});function se($,K,J,te,ne=P.T.None){var _;return l(this,void 0,void 0,function*(){const ae=$.get(S.vu),ge=$.get(g.H),_e=$.get(a.b),ue=$.get(i.lT);if(_e.publicLog2("codeAction.applyCodeAction",{codeActionTitle:K.action.title,codeActionKind:K.action.kind,codeActionIsPreferred:!!K.action.isPreferred,reason:J}),yield K.resolve(ne),!ne.isCancellationRequested&&(null===(_=K.action.edit)||void 0===_||!_.edits.length||(yield ae.apply(K.action.edit,{editor:te?.editor,label:K.action.title,quotableLabel:K.action.title,code:"undoredo.codeAction",respectAutoSaveConfig:J!==G.OnSave,showPreview:te?.preview})).isApplied)&&K.action.command)try{yield ge.executeCommand(K.action.command.id,...K.action.command.arguments||[])}catch(ve){const Ie=function j($){return"string"==typeof $?$:$ instanceof Error&&"string"==typeof $.message?$.message:void 0}(ve);ue.error("string"==typeof Ie?Ie:u.NC("applyCodeActionFailed","An unknown error occurred while applying the code action"))}})}g.P.registerCommand("_executeCodeActionProvider",function($,K,J,te,ne){return l(this,void 0,void 0,function*(){if(!(K instanceof v.o))throw(0,r.b1)();const{codeActionProvider:_}=$.get(L.p),ae=$.get(p.q).getModel(K);if(!ae)throw(0,r.b1)();const ge=E.Y.isISelection(J)?E.Y.liftSelection(J):T.e.isIRange(J)?ae.validateRange(J):void 0;if(!ge)throw(0,r.b1)();const _e="string"==typeof te?new m.yN(te):void 0,ue=yield z(_,ae,ge,{type:1,triggerAction:m.aQ.Default,filter:{includeSourceActions:!0,include:_e}},d.Ex.None,P.T.None),ve=[],Ie=Math.min(ue.validActions.length,"number"==typeof ne?ne:0);for(let Se=0;Se<Ie;Se++)ve.push(ue.validActions[Se].resolve(P.T.None));try{return yield Promise.all(ve),ue.validActions.map(Se=>Se.action)}finally{setTimeout(()=>ue.dispose(),100)}})})},81715:(Xe,we,e)=>{var f=e(8256),P=e(41079),r=e(16055),y=e(15446),v=e(97538),S=e(37190),T=e(66221),E=e(35366),L=e(63314),p=e(48712);function c(k){return T.Ao.regex(p.fj.keys()[0],new RegExp("(\\s|^)"+(0,r.ec)(k.value)+"\\b"))}const u={type:"object",defaultSnippets:[{body:{kind:""}}],properties:{kind:{type:"string",description:S.NC("args.schema.kind","Kind of the code action to run.")},apply:{type:"string",description:S.NC("args.schema.apply","Controls when the returned actions are applied."),default:"ifSingle",enum:["first","ifSingle","never"],enumDescriptions:[S.NC("args.schema.apply.first","Always apply the first returned code action."),S.NC("args.schema.apply.ifSingle","Apply the first returned code action if it is the only one."),S.NC("args.schema.apply.never","Do not apply the returned code actions.")]},preferred:{type:"boolean",default:!1,description:S.NC("args.schema.preferred","Controls if only preferred code actions should be returned.")}}};function g(k,R,O,W,z=E.aQ.Default){if(k.hasModel()){const U=L.G.get(k);U?.manualTriggerAtCurrentPosition(R,z,O,W)}}var D=e(37332),N=e(92891),A=e(81834);(0,f._K)(L.G.ID,L.G,3),(0,f._K)(D.f.ID,D.f,4),(0,f.Qr)(class i extends f.R6{constructor(){super({id:v.cz,label:S.NC("quickfix.trigger.label","Quick Fix..."),alias:"Quick Fix...",precondition:T.Ao.and(y.u.writable,y.u.hasCodeActionsProvider),kbOpts:{kbExpr:y.u.textInputFocus,primary:2137,weight:100}})}run(R,O){return g(O,S.NC("editor.action.quickFix.noneMessage","No code actions available"),void 0,void 0,E.aQ.QuickFix)}}),(0,f.Qr)(class a extends f.R6{constructor(){super({id:v.Bb,label:S.NC("refactor.label","Refactor..."),alias:"Refactor...",precondition:T.Ao.and(y.u.writable,y.u.hasCodeActionsProvider),kbOpts:{kbExpr:y.u.textInputFocus,primary:3120,mac:{primary:1328},weight:100},contextMenuOpts:{group:"1_modification",order:2,when:T.Ao.and(y.u.writable,c(E.yN.Refactor))},description:{description:"Refactor...",args:[{name:"args",schema:u}]}})}run(R,O,W){const z=E.wZ.fromUser(W,{kind:E.yN.Refactor,apply:"never"});return g(O,"string"==typeof W?.kind?z.preferred?S.NC("editor.action.refactor.noneMessage.preferred.kind","No preferred refactorings for '{0}' available",W.kind):S.NC("editor.action.refactor.noneMessage.kind","No refactorings for '{0}' available",W.kind):z.preferred?S.NC("editor.action.refactor.noneMessage.preferred","No preferred refactorings available"):S.NC("editor.action.refactor.noneMessage","No refactorings available"),{include:E.yN.Refactor.contains(z.kind)?z.kind:E.yN.None,onlyIncludePreferredActions:z.preferred},z.apply,E.aQ.Refactor)}}),(0,f.Qr)(class m extends f.R6{constructor(){super({id:v.MN,label:S.NC("source.label","Source Action..."),alias:"Source Action...",precondition:T.Ao.and(y.u.writable,y.u.hasCodeActionsProvider),contextMenuOpts:{group:"1_modification",order:2.1,when:T.Ao.and(y.u.writable,c(E.yN.Source))},description:{description:"Source Action...",args:[{name:"args",schema:u}]}})}run(R,O,W){const z=E.wZ.fromUser(W,{kind:E.yN.Source,apply:"never"});return g(O,"string"==typeof W?.kind?z.preferred?S.NC("editor.action.source.noneMessage.preferred.kind","No preferred source actions for '{0}' available",W.kind):S.NC("editor.action.source.noneMessage.kind","No source actions for '{0}' available",W.kind):z.preferred?S.NC("editor.action.source.noneMessage.preferred","No preferred source actions available"):S.NC("editor.action.source.noneMessage","No source actions available"),{include:E.yN.Source.contains(z.kind)?z.kind:E.yN.None,includeSourceActions:!0,onlyIncludePreferredActions:z.preferred},z.apply,E.aQ.SourceAction)}}),(0,f.Qr)(class l extends f.R6{constructor(){super({id:v.uH,label:S.NC("organizeImports.label","Organize Imports"),alias:"Organize Imports",precondition:T.Ao.and(y.u.writable,c(E.yN.SourceOrganizeImports)),kbOpts:{kbExpr:y.u.textInputFocus,primary:1581,weight:100}})}run(R,O){return g(O,S.NC("editor.action.organize.noneMessage","No organize imports action available"),{include:E.yN.SourceOrganizeImports,includeSourceActions:!0},"ifSingle",E.aQ.OrganizeImports)}}),(0,f.Qr)(class w extends f.R6{constructor(){super({id:v.pZ,label:S.NC("autoFix.label","Auto Fix..."),alias:"Auto Fix...",precondition:T.Ao.and(y.u.writable,c(E.yN.QuickFix)),kbOpts:{kbExpr:y.u.textInputFocus,primary:1625,mac:{primary:2649},weight:100}})}run(R,O){return g(O,S.NC("editor.action.autoFix.noneMessage","No auto fixes available"),{include:E.yN.QuickFix,onlyIncludePreferredActions:!0},"ifSingle",E.aQ.AutoFix)}}),(0,f.Qr)(class I extends f.R6{constructor(){super({id:v.TM,label:S.NC("fixAll.label","Fix All"),alias:"Fix All",precondition:T.Ao.and(y.u.writable,c(E.yN.SourceFixAll))})}run(R,O){return g(O,S.NC("fixAll.noneMessage","No fix all action available"),{include:E.yN.SourceFixAll,includeSourceActions:!0},"ifSingle",E.aQ.FixAll)}}),(0,f.fK)(new class d extends f._l{constructor(){super({id:v.RB,precondition:T.Ao.and(y.u.writable,y.u.hasCodeActionsProvider),description:{description:"Trigger a code action",args:[{name:"args",schema:u}]}})}runEditorCommand(R,O,W){const z=E.wZ.fromUser(W,{kind:E.yN.Empty,apply:"ifSingle"});return g(O,"string"==typeof W?.kind?z.preferred?S.NC("editor.action.codeAction.noneMessage.preferred.kind","No preferred code actions for '{0}' available",W.kind):S.NC("editor.action.codeAction.noneMessage.kind","No code actions for '{0}' available",W.kind):z.preferred?S.NC("editor.action.codeAction.noneMessage.preferred","No preferred code actions available"):S.NC("editor.action.codeAction.noneMessage","No code actions available"),{include:z.kind,includeSourceActions:!0,onlyIncludePreferredActions:z.preferred},z.apply)}}),A.B.as(N.IP.Configuration).registerConfiguration(Object.assign(Object.assign({},P.wk),{properties:{"editor.codeActionWidget.showHeaders":{type:"boolean",scope:5,description:S.NC("showCodeActionHeaders","Enable/disable showing group headers in the Code Action menu."),default:!0}}}))},63314:(Xe,we,e)=>{e.d(we,{G:()=>It});var u,f=e(20274),P=e(17967),r=e(81183),y=e(78694),v=e(68678),S=e(55763),T=e(97538),E=e(35366),L=e(21536);let g=u=class{constructor(qe){this.keybindingService=qe}getResolver(){const qe=new r.o(()=>this.keybindingService.getKeybindings().filter(Ze=>u.codeActionCommands.indexOf(Ze.command)>=0).filter(Ze=>Ze.resolvedKeybinding).map(Ze=>{let Ee=Ze.commandArgs;return Ze.command===T.uH?Ee={kind:E.yN.SourceOrganizeImports.value}:Ze.command===T.TM&&(Ee={kind:E.yN.SourceFixAll.value}),Object.assign({resolvedKeybinding:Ze.resolvedKeybinding},E.wZ.fromUser(Ee,{kind:E.yN.None,apply:"never"}))}));return Ze=>{if(Ze.kind){const Ee=this.bestKeybindingForCodeAction(Ze,qe.value);return Ee?.resolvedKeybinding}}}bestKeybindingForCodeAction(qe,Ze){if(!qe.kind)return;const Ee=new E.yN(qe.kind);return Ze.filter(Te=>Te.kind.contains(Ee)).filter(Te=>!Te.preferred||qe.isPreferred).reduceRight((Te,Ae)=>Te?Te.kind.contains(Ae.kind)?Ae:Te:Ae,void 0)}};var qe;g.codeActionCommands=[T.Bb,T.RB,T.MN,T.uH,T.TM],g=u=function(it,qe,Ze,Ee){var ht,Te=arguments.length,Ae=Te<3?qe:null===Ee?Ee=Object.getOwnPropertyDescriptor(qe,Ze):Ee;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ae=Reflect.decorate(it,qe,Ze,Ee);else for(var yt=it.length-1;yt>=0;yt--)(ht=it[yt])&&(Ae=(Te<3?ht(Ae):Te>3?ht(qe,Ze,Ae):ht(qe,Ze))||Ae);return Te>3&&Ae&&Object.defineProperty(qe,Ze,Ae),Ae}([(0,qe=L.d,function(Ze,Ee){qe(Ze,Ee,0)})],g),e(15810);var d=e(27222),m=(e(94073),e(37190));const l=Object.freeze({kind:E.yN.Empty,title:(0,m.NC)("codeAction.widget.id.more","More Actions...")}),I=Object.freeze([{kind:E.yN.QuickFix,title:(0,m.NC)("codeAction.widget.id.quickfix","Quick Fix")},{kind:E.yN.RefactorExtract,title:(0,m.NC)("codeAction.widget.id.extract","Extract"),icon:d.l.wrench},{kind:E.yN.RefactorInline,title:(0,m.NC)("codeAction.widget.id.inline","Inline"),icon:d.l.wrench},{kind:E.yN.RefactorRewrite,title:(0,m.NC)("codeAction.widget.id.convert","Rewrite"),icon:d.l.wrench},{kind:E.yN.RefactorMove,title:(0,m.NC)("codeAction.widget.id.move","Move"),icon:d.l.wrench},{kind:E.yN.SurroundWith,title:(0,m.NC)("codeAction.widget.id.surround","Surround With"),icon:d.l.symbolSnippet},{kind:E.yN.Source,title:(0,m.NC)("codeAction.widget.id.source","Source Action"),icon:d.l.symbolFile},l]);var D=e(37332),N=e(29941),A=e(26775),k=e(93379),R=e.n(k),O=e(7795),W=e.n(O),z=e(90569),U=e.n(z),ee=e(3565),B=e.n(ee),G=e(19216),se=e.n(G),j=e(44589),$=e.n(j),K=e(90711),J={};J.styleTagTransform=$(),J.setAttributes=B(),J.insert=U().bind(null,"head"),J.domAPI=W(),J.insertStyleElement=se(),R()(K.Z,J);var _=e(4625),ae=e(80568),ge=e(88593),_e=e(35053),ue=e(76485),ve=e(36547),Ie=e(99745),Se=function(it,qe,Ze,Ee){var ht,Te=arguments.length,Ae=Te<3?qe:null===Ee?Ee=Object.getOwnPropertyDescriptor(qe,Ze):Ee;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ae=Reflect.decorate(it,qe,Ze,Ee);else for(var yt=it.length-1;yt>=0;yt--)(ht=it[yt])&&(Ae=(Te<3?ht(Ae):Te>3?ht(qe,Ze,Ae):ht(qe,Ze))||Ae);return Te>3&&Ae&&Object.defineProperty(qe,Ze,Ae),Ae},Ve=function(it,qe){return function(Ze,Ee){qe(Ze,Ee,it)}};const De="acceptSelectedCodeAction",ye="previewSelectedCodeAction";class oe{get templateId(){return"header"}renderTemplate(qe){qe.classList.add("group-header");const Ze=document.createElement("span");return qe.append(Ze),{container:qe,text:Ze}}renderElement(qe,Ze,Ee){var Te,Ae;Ee.text.textContent=null!==(Ae=null===(Te=qe.group)||void 0===Te?void 0:Te.title)&&void 0!==Ae?Ae:""}disposeTemplate(qe){}}let Y=class{get templateId(){return"action"}constructor(qe,Ze){this._supportsPreview=qe,this._keybindingService=Ze}renderTemplate(qe){qe.classList.add(this.templateId);const Ze=document.createElement("div");Ze.className="icon",qe.append(Ze);const Ee=document.createElement("span");return Ee.className="title",qe.append(Ee),{container:qe,icon:Ze,text:Ee,keybinding:new _.e(qe,ge.OS)}}renderElement(qe,Ze,Ee){var Te,Ae,ht;if(null!==(Te=qe.group)&&void 0!==Te&&Te.icon?(Ee.icon.className=_e.k.asClassName(qe.group.icon),qe.group.icon.color&&(Ee.icon.style.color=(0,Ie.n_1)(qe.group.icon.color.id))):(Ee.icon.className=_e.k.asClassName(d.l.lightBulb),Ee.icon.style.color="var(--vscode-editorLightBulb-foreground)"),!qe.item||!qe.label)return;Ee.text.textContent=ke(qe.label),Ee.keybinding.set(qe.keybinding),f.iJ(!!qe.keybinding,Ee.keybinding.element);const yt=null===(Ae=this._keybindingService.lookupKeybinding(De))||void 0===Ae?void 0:Ae.getLabel(),Dt=null===(ht=this._keybindingService.lookupKeybinding(ye))||void 0===ht?void 0:ht.getLabel();Ee.container.classList.toggle("option-disabled",qe.disabled),Ee.container.title=qe.disabled?qe.label:yt&&Dt?this._supportsPreview?(0,m.NC)({key:"label-preview",comment:['placeholders are keybindings, e.g "F2 to apply, Shift+F2 to preview"']},"{0} to apply, {1} to preview",yt,Dt):(0,m.NC)({key:"label",comment:['placeholder is a keybinding, e.g "F2 to apply"']},"{0} to apply",yt):""}disposeTemplate(qe){}};Y=Se([Ve(1,L.d)],Y);class x extends UIEvent{constructor(){super("acceptSelectedAction")}}class F extends UIEvent{constructor(){super("previewSelectedAction")}}function ie(it){if("action"===it.kind)return it.label}let Ce=class extends y.JT{constructor(qe,Ze,Ee,Te,Ae,ht){super(),this._delegate=Te,this._contextViewService=Ae,this._keybindingService=ht,this._actionLineHeight=24,this._headerLineHeight=26,this.domNode=document.createElement("div"),this.domNode.classList.add("actionList"),this._list=this._register(new ae.aV(qe,this.domNode,{getHeight:Dt=>"header"===Dt.kind?this._headerLineHeight:this._actionLineHeight,getTemplateId:Dt=>Dt.kind},[new Y(Ze,this._keybindingService),new oe],{keyboardSupport:!1,typeNavigationEnabled:!0,keyboardNavigationLabelProvider:{getKeyboardNavigationLabel:ie},accessibilityProvider:{getAriaLabel:Dt=>{if("action"===Dt.kind){let Ot=Dt.label?ke(Dt?.label):"";return Dt.disabled&&(Ot=(0,m.NC)({key:"customQuickFixWidget.labels",comment:["Action widget labels for accessibility."]},"{0}, Disabled Reason: {1}",Ot,Dt.disabled)),Ot}return null},getWidgetAriaLabel:()=>(0,m.NC)({key:"customQuickFixWidget",comment:["An action widget option"]},"Action Widget"),getRole:Dt=>"action"===Dt.kind?"option":"separator",getWidgetRole:()=>"listbox"}})),this._list.style(ve.O2),this._register(this._list.onMouseClick(Dt=>this.onListClick(Dt))),this._register(this._list.onMouseOver(Dt=>this.onListHover(Dt))),this._register(this._list.onDidChangeFocus(()=>this._list.domFocus())),this._register(this._list.onDidChangeSelection(Dt=>this.onListSelection(Dt))),this._allMenuItems=Ee,this._list.splice(0,this._list.length,this._allMenuItems),this._list.length&&this.focusNext()}focusCondition(qe){return!qe.disabled&&"action"===qe.kind}hide(qe){this._delegate.onHide(qe),this._contextViewService.hideContextView()}layout(qe){const Ze=this._allMenuItems.filter(Ot=>"header"===Ot.kind).length,Te=this._allMenuItems.length*this._actionLineHeight+Ze*this._headerLineHeight-Ze*this._actionLineHeight;this._list.layout(Te);const Ae=this._allMenuItems.map((Ot,gt)=>{const Rt=document.getElementById(this._list.getElementID(gt));if(Rt){Rt.style.width="auto";const Zt=Rt.getBoundingClientRect().width;return Rt.style.width="",Zt}return 0}),ht=Math.max(...Ae,qe),Dt=Math.min(Te,.7*document.body.clientHeight);return this._list.layout(Dt,ht),this.domNode.style.height=`${Dt}px`,this._list.domFocus(),ht}focusPrevious(){this._list.focusPrevious(1,!0,void 0,this.focusCondition)}focusNext(){this._list.focusNext(1,!0,void 0,this.focusCondition)}acceptSelected(qe){const Ze=this._list.getFocus();if(0===Ze.length)return;const Ee=Ze[0],Te=this._list.element(Ee);if(!this.focusCondition(Te))return;const Ae=qe?new F:new x;this._list.setSelection([Ee],Ae)}onListSelection(qe){if(!qe.elements.length)return;const Ze=qe.elements[0];Ze.item&&this.focusCondition(Ze)?this._delegate.onSelect(Ze.item,qe.browserEvent instanceof F):this._list.setSelection([])}onListHover(qe){this._list.setFocus("number"==typeof qe.index?[qe.index]:[])}onListClick(qe){qe.element&&this.focusCondition(qe.element)&&this._list.setFocus([])}};function ke(it){return it.replace(/\r\n|\r|\n/g," ")}Ce=Se([Ve(4,ue.u),Ve(5,L.d)],Ce);var Pe=e(63032),xe=e(66221),fe=e(67755),be=e(12065),Q=function(it,qe){return function(Ze,Ee){qe(Ze,Ee,it)}};(0,Ie.P6G)("actionBar.toggledBackground",{dark:Ie.XEs,light:Ie.XEs,hcDark:Ie.XEs,hcLight:Ie.XEs},(0,m.NC)("actionBar.toggledBackground","Background color for toggled action items in action bar."));const le={Visible:new xe.uy("codeActionMenuVisible",!1,(0,m.NC)("codeActionMenuVisible","Whether the action widget list is visible"))},Fe=(0,be.yh)("actionWidgetService");let He=class extends y.JT{get isVisible(){return le.Visible.getValue(this._contextKeyService)||!1}constructor(qe,Ze,Ee){super(),this._contextViewService=qe,this._contextKeyService=Ze,this._instantiationService=Ee,this._list=this._register(new y.XK)}show(qe,Ze,Ee,Te,Ae,ht,yt){const Dt=le.Visible.bindTo(this._contextKeyService),Ot=this._instantiationService.createInstance(Ce,qe,Ze,Ee,Te);this._contextViewService.showContextView({getAnchor:()=>Ae,render:gt=>(Dt.set(!0),this._renderWidget(gt,Ot,yt??[])),onHide:gt=>{Dt.reset(),this._onWidgetClosed(gt)}},ht,!1)}acceptSelected(qe){var Ze;null===(Ze=this._list.value)||void 0===Ze||Ze.acceptSelected(qe)}focusPrevious(){var qe,Ze;null===(Ze=null===(qe=this._list)||void 0===qe?void 0:qe.value)||void 0===Ze||Ze.focusPrevious()}focusNext(){var qe,Ze;null===(Ze=null===(qe=this._list)||void 0===qe?void 0:qe.value)||void 0===Ze||Ze.focusNext()}hide(){var qe;null===(qe=this._list.value)||void 0===qe||qe.hide(),this._list.clear()}_renderWidget(qe,Ze,Ee){var Te;const Ae=document.createElement("div");if(Ae.classList.add("action-widget"),qe.appendChild(Ae),this._list.value=Ze,!this._list.value)throw new Error("List has no value");Ae.appendChild(this._list.value.domNode);const ht=new y.SL,yt=document.createElement("div"),Dt=qe.appendChild(yt);Dt.classList.add("context-view-block"),ht.add(f.nm(Dt,f.tw.MOUSE_DOWN,ci=>ci.stopPropagation()));const Ot=document.createElement("div"),gt=qe.appendChild(Ot);gt.classList.add("context-view-pointerBlock"),ht.add(f.nm(gt,f.tw.POINTER_MOVE,()=>gt.remove())),ht.add(f.nm(gt,f.tw.MOUSE_DOWN,()=>gt.remove()));let Rt=0;if(Ee.length){const ci=this._createActionBar(".action-widget-action-bar",Ee);ci&&(Ae.appendChild(ci.getContainer().parentElement),ht.add(ci),Rt=ci.getContainer().offsetWidth)}const Zt=null===(Te=this._list.value)||void 0===Te?void 0:Te.layout(Rt);Ae.style.width=`${Zt}px`;const Ci=ht.add(f.go(qe));return ht.add(Ci.onDidBlur(()=>this.hide())),ht}_createActionBar(qe,Ze){if(!Ze.length)return;const Ee=f.$(qe),Te=new A.o(Ee);return Te.push(Ze,{icon:!1,label:!0}),Te}_onWidgetClosed(qe){var Ze;null===(Ze=this._list.value)||void 0===Ze||Ze.hide(qe)}};He=function(it,qe,Ze,Ee){var ht,Te=arguments.length,Ae=Te<3?qe:null===Ee?Ee=Object.getOwnPropertyDescriptor(qe,Ze):Ee;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ae=Reflect.decorate(it,qe,Ze,Ee);else for(var yt=it.length-1;yt>=0;yt--)(ht=it[yt])&&(Ae=(Te<3?ht(Ae):Te>3?ht(qe,Ze,Ae):ht(qe,Ze))||Ae);return Te>3&&Ae&&Object.defineProperty(qe,Ze,Ae),Ae}([Q(0,ue.u),Q(1,xe.i6),Q(2,be.TG)],He),(0,fe.z)(Fe,He,1);const Je=1100;(0,Pe.r1)(class extends Pe.Ke{constructor(){super({id:"hideCodeActionWidget",title:{value:(0,m.NC)("hideCodeActionWidget.title","Hide action widget"),original:"Hide action widget"},precondition:le.Visible,keybinding:{weight:Je,primary:9,secondary:[1033]}})}run(it){it.get(Fe).hide()}}),(0,Pe.r1)(class extends Pe.Ke{constructor(){super({id:"selectPrevCodeAction",title:{value:(0,m.NC)("selectPrevCodeAction.title","Select previous action"),original:"Select previous action"},precondition:le.Visible,keybinding:{weight:Je,primary:16,secondary:[2064],mac:{primary:16,secondary:[2064,302]}}})}run(it){const qe=it.get(Fe);qe instanceof He&&qe.focusPrevious()}}),(0,Pe.r1)(class extends Pe.Ke{constructor(){super({id:"selectNextCodeAction",title:{value:(0,m.NC)("selectNextCodeAction.title","Select next action"),original:"Select next action"},precondition:le.Visible,keybinding:{weight:Je,primary:18,secondary:[2066],mac:{primary:18,secondary:[2066,300]}}})}run(it){const qe=it.get(Fe);qe instanceof He&&qe.focusNext()}}),(0,Pe.r1)(class extends Pe.Ke{constructor(){super({id:De,title:{value:(0,m.NC)("acceptSelected.title","Accept selected action"),original:"Accept selected action"},precondition:le.Visible,keybinding:{weight:Je,primary:3,secondary:[2137]}})}run(it){const qe=it.get(Fe);qe instanceof He&&qe.acceptSelected()}}),(0,Pe.r1)(class extends Pe.Ke{constructor(){super({id:ye,title:{value:(0,m.NC)("previewSelected.title","Preview selected action"),original:"Preview selected action"},precondition:le.Visible,keybinding:{weight:Je,primary:2051}})}run(it){const qe=it.get(Fe);qe instanceof He&&qe.acceptSelected(!0)}});var At,ot=e(11813),lt=e(47358),mt=e(17259),ft=e(51367),Lt=e(48712),Mt=function(it,qe){return function(Ze,Ee){qe(Ze,Ee,it)}},Ut=function(it,qe,Ze,Ee){return new(Ze||(Ze=Promise))(function(Ae,ht){function yt(gt){try{Ot(Ee.next(gt))}catch(Rt){ht(Rt)}}function Dt(gt){try{Ot(Ee.throw(gt))}catch(Rt){ht(Rt)}}function Ot(gt){gt.done?Ae(gt.value):function Te(Ae){return Ae instanceof Ze?Ae:new Ze(function(ht){ht(Ae)})}(gt.value).then(yt,Dt)}Ot((Ee=Ee.apply(it,qe||[])).next())})};let It=At=class extends y.JT{static get(qe){return qe.getContribution(At.ID)}constructor(qe,Ze,Ee,Te,Ae,ht,yt,Dt,Ot,gt){super(),this._commandService=yt,this._configurationService=Dt,this._actionWidgetService=Ot,this._instantiationService=gt,this._activeCodeActions=this._register(new y.XK),this._showDisabled=!1,this._disposed=!1,this._editor=qe,this._model=this._register(new Lt.Jt(this._editor,Ae.codeActionProvider,Ze,Ee,ht)),this._register(this._model.onDidChangeState(Rt=>this.update(Rt))),this._lightBulbWidget=new r.o(()=>{const Rt=this._editor.getContribution(D.f.ID);return Rt&&this._register(Rt.onClick(Zt=>this.showCodeActionList(Zt.actions,Zt,{includeDisabledActions:!1,fromLightbulb:!0}))),Rt}),this._resolver=Te.createInstance(g),this._register(this._editor.onDidLayoutChange(()=>this._actionWidgetService.hide()))}dispose(){this._disposed=!0,super.dispose()}showCodeActions(qe,Ze,Ee){return this.showCodeActionList(Ze,Ee,{includeDisabledActions:!1,fromLightbulb:!1})}manualTriggerAtCurrentPosition(qe,Ze,Ee,Te){var Ae;if(!this._editor.hasModel())return;null===(Ae=N.O.get(this._editor))||void 0===Ae||Ae.closeMessage();const ht=this._editor.getPosition();this._trigger({type:1,triggerAction:Ze,filter:Ee,autoApply:Te,context:{notAvailableMessage:qe,position:ht}})}_trigger(qe){return this._model.trigger(qe)}_applyCodeAction(qe,Ze,Ee){return Ut(this,void 0,void 0,function*(){try{yield this._instantiationService.invokeFunction(T.LR,qe,T.UX.FromCodeActions,{preview:Ee,editor:this._editor})}finally{Ze&&this._trigger({type:2,triggerAction:E.aQ.QuickFix,filter:{}})}})}update(qe){var Ze,Ee,Te,Ae,ht,yt,Dt;return Ut(this,void 0,void 0,function*(){if(1!==qe.type)return void(null===(Ze=this._lightBulbWidget.rawValue)||void 0===Ze||Ze.hide());let Ot;try{Ot=yield qe.actions}catch(gt){return void(0,P.dL)(gt)}if(!this._disposed)if(null===(Ee=this._lightBulbWidget.value)||void 0===Ee||Ee.update(Ot,qe.trigger,qe.position),1===qe.trigger.type){if(null!==(Te=qe.trigger.filter)&&void 0!==Te&&Te.include){const Rt=this.tryGetValidActionToApply(qe.trigger,Ot);if(Rt){try{null===(Ae=this._lightBulbWidget.value)||void 0===Ae||Ae.hide(),yield this._applyCodeAction(Rt,!1,!1)}finally{Ot.dispose()}return}if(qe.trigger.context){const Zt=this.getInvalidActionThatWouldHaveBeenApplied(qe.trigger,Ot);if(Zt&&Zt.action.disabled)return null===(ht=N.O.get(this._editor))||void 0===ht||ht.showMessage(Zt.action.disabled,qe.trigger.context.position),void Ot.dispose()}}const gt=!(null===(yt=qe.trigger.filter)||void 0===yt||!yt.include);if(qe.trigger.context&&(!Ot.allActions.length||!gt&&!Ot.validActions.length))return null===(Dt=N.O.get(this._editor))||void 0===Dt||Dt.showMessage(qe.trigger.context.notAvailableMessage,qe.trigger.context.position),this._activeCodeActions.value=Ot,void Ot.dispose();this._activeCodeActions.value=Ot,this.showCodeActionList(Ot,this.toCoords(qe.position),{includeDisabledActions:gt,fromLightbulb:!1})}else this._actionWidgetService.isVisible?Ot.dispose():this._activeCodeActions.value=Ot})}getInvalidActionThatWouldHaveBeenApplied(qe,Ze){if(Ze.allActions.length&&("first"===qe.autoApply&&0===Ze.validActions.length||"ifSingle"===qe.autoApply&&1===Ze.allActions.length))return Ze.allActions.find(({action:Ee})=>Ee.disabled)}tryGetValidActionToApply(qe,Ze){if(Ze.validActions.length&&("first"===qe.autoApply&&Ze.validActions.length>0||"ifSingle"===qe.autoApply&&1===Ze.validActions.length))return Ze.validActions[0]}showCodeActionList(qe,Ze,Ee){return Ut(this,void 0,void 0,function*(){const Te=this._editor.getDomNode();if(!Te)return;const Ae=Ee.includeDisabledActions&&(this._showDisabled||0===qe.validActions.length)?qe.allActions:qe.validActions;if(!Ae.length)return;const ht=v.L.isIPosition(Ze)?this.toCoords(Ze):Ze,yt={onSelect:(Dt,Ot)=>Ut(this,void 0,void 0,function*(){this._applyCodeAction(Dt,!0,!!Ot),this._actionWidgetService.hide()}),onHide:()=>{var Dt;null===(Dt=this._editor)||void 0===Dt||Dt.focus()}};this._actionWidgetService.show("codeActionWidget",!0,function w(it,qe,Ze){if(!qe)return it.map(Ae=>({kind:"action",item:Ae,group:l,disabled:!!Ae.action.disabled,label:Ae.action.disabled||Ae.action.title}));const Ee=I.map(Ae=>({group:Ae,actions:[]}));for(const Ae of it){const ht=Ae.action.kind?new E.yN(Ae.action.kind):E.yN.None;for(const yt of Ee)if(yt.group.kind.contains(ht)){yt.actions.push(Ae);break}}const Te=[];for(const Ae of Ee)if(Ae.actions.length){Te.push({kind:"header",group:Ae.group});for(const ht of Ae.actions)Te.push({kind:"action",item:ht,group:Ae.group,label:ht.action.title,disabled:!!ht.action.disabled,keybinding:Ze(ht.action)})}return Te}(Ae,this._shouldShowHeaders(),this._resolver.getResolver()),yt,ht,Te,this._getActionBarActions(qe,Ze,Ee))})}toCoords(qe){if(!this._editor.hasModel())return{x:0,y:0};this._editor.revealPosition(qe,1),this._editor.render();const Ze=this._editor.getScrolledVisiblePosition(qe),Ee=(0,f.i)(this._editor.getDomNode());return{x:Ee.left+Ze.left,y:Ee.top+Ze.top+Ze.height}}_shouldShowHeaders(){var qe;const Ze=null===(qe=this._editor)||void 0===qe?void 0:qe.getModel();return this._configurationService.getValue("editor.codeActionWidget.showHeaders",{resource:Ze?.uri})}_getActionBarActions(qe,Ze,Ee){if(Ee.fromLightbulb)return[];const Te=qe.documentation.map(Ae=>{var ht;return{id:Ae.id,label:Ae.title,tooltip:null!==(ht=Ae.tooltip)&&void 0!==ht?ht:"",class:void 0,enabled:!0,run:()=>{var yt;return this._commandService.executeCommand(Ae.id,...null!==(yt=Ae.arguments)&&void 0!==yt?yt:[])}}});return Ee.includeDisabledActions&&qe.validActions.length>0&&qe.allActions.length!==qe.validActions.length&&Te.push(this._showDisabled?{id:"hideMoreActions",label:(0,m.NC)("hideMoreActions","Hide Disabled"),enabled:!0,tooltip:"",class:void 0,run:()=>(this._showDisabled=!1,this.showCodeActionList(qe,Ze,Ee))}:{id:"showMoreActions",label:(0,m.NC)("showMoreActions","Show Disabled"),enabled:!0,tooltip:"",class:void 0,run:()=>(this._showDisabled=!0,this.showCodeActionList(qe,Ze,Ee))}),Te}};It.ID="editor.contrib.codeActionController",It=At=function(it,qe,Ze,Ee){var ht,Te=arguments.length,Ae=Te<3?qe:null===Ee?Ee=Object.getOwnPropertyDescriptor(qe,Ze):Ee;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ae=Reflect.decorate(it,qe,Ze,Ee);else for(var yt=it.length-1;yt>=0;yt--)(ht=it[yt])&&(Ae=(Te<3?ht(Ae):Te>3?ht(qe,Ze,Ae):ht(qe,Ze))||Ae);return Te>3&&Ae&&Object.defineProperty(qe,Ze,Ae),Ae}([Mt(1,mt.lT),Mt(2,xe.i6),Mt(3,be.TG),Mt(4,S.p),Mt(5,ft.ek),Mt(6,ot.H),Mt(7,lt.Ui),Mt(8,Fe),Mt(9,be.TG)],It)},48712:(Xe,we,e)=>{e.d(we,{Jt:()=>i,fj:()=>p});var f=e(85328),P=e(17967),r=e(58178),y=e(78694),v=e(9001),S=e(66221),T=e(51367),E=e(35366),L=e(97538);const p=new S.uy("supportedCodeAction","");class c extends y.JT{constructor(a,m,l,I=250){super(),this._editor=a,this._markerService=m,this._signalChange=l,this._delay=I,this._autoTriggerTimer=this._register(new f._F),this._register(this._markerService.onMarkerChanged(w=>this._onMarkerChanges(w))),this._register(this._editor.onDidChangeCursorPosition(()=>this._tryAutoTrigger()))}trigger(a){const m=this._getRangeOfSelectionUnlessWhitespaceEnclosed(a);this._signalChange(m?{trigger:a,selection:m}:void 0)}_onMarkerChanges(a){const m=this._editor.getModel();m&&a.some(l=>(0,v.Xy)(l,m.uri))&&this._tryAutoTrigger()}_tryAutoTrigger(){this._autoTriggerTimer.cancelAndSet(()=>{this.trigger({type:2,triggerAction:E.aQ.Default})},this._delay)}_getRangeOfSelectionUnlessWhitespaceEnclosed(a){if(!this._editor.hasModel())return;const m=this._editor.getModel(),l=this._editor.getSelection();if(l.isEmpty()&&2===a.type){const{lineNumber:I,column:w}=l.getPosition(),D=m.getLineContent(I);if(0===D.length)return;if(1===w){if(/\s/.test(D[0]))return}else if(w===m.getLineMaxColumn(I)){if(/\s/.test(D[D.length-1]))return}else if(/\s/.test(D[w-2])&&/\s/.test(D[w-1]))return}return l}}var u,d;(d=u||(u={})).Empty={type:0},d.Triggered=class a{constructor(l,I,w){this.trigger=l,this.position=I,this._cancellablePromise=w,this.type=1,this.actions=w.catch(D=>{if((0,P.n2)(D))return g;throw D})}cancel(){this._cancellablePromise.cancel()}};const g=Object.freeze({allActions:[],validActions:[],dispose:()=>{},documentation:[],hasAutoFix:!1});class i extends y.JT{constructor(a,m,l,I,w){super(),this._editor=a,this._registry=m,this._markerService=l,this._progressService=w,this._codeActionOracle=this._register(new y.XK),this._state=u.Empty,this._onDidChangeState=this._register(new r.Q5),this.onDidChangeState=this._onDidChangeState.event,this._disposed=!1,this._supportedCodeActions=p.bindTo(I),this._register(this._editor.onDidChangeModel(()=>this._update())),this._register(this._editor.onDidChangeModelLanguage(()=>this._update())),this._register(this._registry.onDidChange(()=>this._update())),this._update()}dispose(){this._disposed||(this._disposed=!0,super.dispose(),this.setState(u.Empty,!0))}_update(){if(this._disposed)return;this._codeActionOracle.value=void 0,this.setState(u.Empty);const a=this._editor.getModel();if(a&&this._registry.has(a)&&!this._editor.getOption(89)){const m=this._registry.all(a).flatMap(l=>{var I;return null!==(I=l.providedCodeActionKinds)&&void 0!==I?I:[]});this._supportedCodeActions.set(m.join(" ")),this._codeActionOracle.value=new c(this._editor,this._markerService,l=>{var I;if(!l)return void this.setState(u.Empty);const w=(0,f.PG)(D=>(0,L.aI)(this._registry,a,l.selection,l.trigger,T.Ex.None,D));1===l.trigger.type&&(null===(I=this._progressService)||void 0===I||I.showWhile(w,250)),this.setState(new u.Triggered(l.trigger,l.selection.getStartPosition(),w))},void 0),this._codeActionOracle.value.trigger({type:2,triggerAction:E.aQ.Default})}else this._supportedCodeActions.reset()}trigger(a){var m;null===(m=this._codeActionOracle.value)||void 0===m||m.trigger(a)}setState(a,m){a!==this._state&&(1===this._state.type&&this._state.cancel(),this._state=a,!m&&!this._disposed&&this._onDidChangeState.fire(a))}}},37332:(Xe,we,e)=>{e.d(we,{f:()=>B});var f=e(20274),P=e(54796),r=e(27222),y=e(58178),v=e(78694),S=e(35053),T=e(93379),E=e.n(T),L=e(7795),p=e.n(L),c=e(90569),u=e.n(c),g=e(3565),i=e.n(g),d=e(19216),a=e.n(d),m=e(44589),l=e.n(m),I=e(32874),w={};w.styleTagTransform=l(),w.setAttributes=i(),w.insert=u().bind(null,"head"),w.domAPI=p(),w.insertStyleElement=a(),E()(I.Z,w);var U,ee,A=e(31597),k=e(97538),R=e(37190),O=e(21536);!function(G){G.Hidden={type:0},G.Showing=class se{constructor($,K,J,te){this.actions=$,this.trigger=K,this.editorPosition=J,this.widgetPosition=te,this.type=1}}}(ee||(ee={}));let B=U=class extends v.JT{constructor(se,j){super(),this._editor=se,this._onClick=this._register(new y.Q5),this.onClick=this._onClick.event,this._state=ee.Hidden,this._domNode=f.$("div.lightBulbWidget"),this._register(P.o.ignoreTarget(this._domNode)),this._editor.addContentWidget(this),this._register(this._editor.onDidChangeModelContent($=>{const K=this._editor.getModel();(1!==this.state.type||!K||this.state.editorPosition.lineNumber>=K.getLineCount())&&this.hide()})),this._register(f.GQ(this._domNode,$=>{if(1!==this.state.type)return;this._editor.focus(),$.preventDefault();const{top:K,height:J}=f.i(this._domNode),te=this._editor.getOption(65);let ne=Math.floor(te/3);null!==this.state.widgetPosition.position&&this.state.widgetPosition.position.lineNumber<this.state.editorPosition.lineNumber&&(ne+=te),this._onClick.fire({x:$.posx,y:K+J+ne,actions:this.state.actions,trigger:this.state.trigger})})),this._register(f.nm(this._domNode,"mouseenter",$=>{1==(1&$.buttons)&&this.hide()})),this._register(this._editor.onDidChangeConfiguration($=>{$.hasChanged(63)&&!this._editor.getOption(63).enabled&&this.hide()})),this._register(y.ju.runAndSubscribe(j.onDidUpdateKeybindings,()=>{var $,K,J,te;this._preferredKbLabel=null!==(K=null===($=j.lookupKeybinding(k.pZ))||void 0===$?void 0:$.getLabel())&&void 0!==K?K:void 0,this._quickFixKbLabel=null!==(te=null===(J=j.lookupKeybinding(k.cz))||void 0===J?void 0:J.getLabel())&&void 0!==te?te:void 0,this._updateLightBulbTitleAndIcon()}))}dispose(){super.dispose(),this._editor.removeContentWidget(this)}getId(){return"LightBulbWidget"}getDomNode(){return this._domNode}getPosition(){return 1===this._state.type?this._state.widgetPosition:null}update(se,j,$){if(se.validActions.length<=0)return this.hide();const K=this._editor.getOptions();if(!K.get(63).enabled)return this.hide();const J=this._editor.getModel();if(!J)return this.hide();const{lineNumber:te,column:ne}=J.validatePosition($),_=J.getOptions().tabSize,ae=K.get(49),ge=J.getLineContent(te),_e=(0,A.q)(ge,_),ve=Se=>Se>2&&this._editor.getTopForLineNumber(Se)===this._editor.getTopForLineNumber(Se-1);let Ie=te;if(!(ae.spaceWidth*_e>22))if(te>1&&!ve(te-1))Ie-=1;else if(ve(te+1)){if(ne*ae.spaceWidth<22)return this.hide()}else Ie+=1;this.state=new ee.Showing(se,j,$,{position:{lineNumber:Ie,column:1},preference:U._posPref}),this._editor.layoutContentWidget(this)}hide(){this.state!==ee.Hidden&&(this.state=ee.Hidden,this._editor.layoutContentWidget(this))}get state(){return this._state}set state(se){this._state=se,this._updateLightBulbTitleAndIcon()}_updateLightBulbTitleAndIcon(){1===this.state.type&&this.state.actions.hasAutoFix&&(this._domNode.classList.remove(...S.k.asClassNameArray(r.l.lightBulb)),this._domNode.classList.add(...S.k.asClassNameArray(r.l.lightbulbAutofix)),this._preferredKbLabel)?this.title=R.NC("preferredcodeActionWithKb","Show Code Actions. Preferred Quick Fix Available ({0})",this._preferredKbLabel):(this._domNode.classList.remove(...S.k.asClassNameArray(r.l.lightbulbAutofix)),this._domNode.classList.add(...S.k.asClassNameArray(r.l.lightBulb)),this.title=this._quickFixKbLabel?R.NC("codeActionWithKb","Show Code Actions ({0})",this._quickFixKbLabel):R.NC("codeAction","Show Code Actions"))}set title(se){this._domNode.title=se}};var se;B.ID="editor.contrib.lightbulbWidget",B._posPref=[0],B=U=function(G,se,j,$){var te,K=arguments.length,J=K<3?se:null===$?$=Object.getOwnPropertyDescriptor(se,j):$;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)J=Reflect.decorate(G,se,j,$);else for(var ne=G.length-1;ne>=0;ne--)(te=G[ne])&&(J=(K<3?te(J):K>3?te(se,j,J):te(se,j))||J);return K>3&&J&&Object.defineProperty(se,j,J),J}([(1,se=O.d,function(j,$){se(j,$,1)})],B)},35366:(Xe,we,e)=>{e.d(we,{EU:()=>v,Yl:()=>S,aQ:()=>y,bA:()=>L,wZ:()=>E,yN:()=>r});var f=e(17967);class r{constructor(c){this.value=c}equals(c){return this.value===c.value}contains(c){return this.equals(c)||""===this.value||c.value.startsWith(this.value+r.sep)}intersects(c){return this.contains(c)||c.contains(this)}append(c){return new r(this.value+r.sep+c)}}r.sep=".",r.None=new r("@@none@@"),r.Empty=new r(""),r.QuickFix=new r("quickfix"),r.Refactor=new r("refactor"),r.RefactorExtract=r.Refactor.append("extract"),r.RefactorInline=r.Refactor.append("inline"),r.RefactorMove=r.Refactor.append("move"),r.RefactorRewrite=r.Refactor.append("rewrite"),r.Source=new r("source"),r.SourceOrganizeImports=r.Source.append("organizeImports"),r.SourceFixAll=r.Source.append("fixAll"),r.SurroundWith=r.Refactor.append("surround");var y=function(p){return p.Refactor="refactor",p.RefactorPreview="refactor preview",p.Lightbulb="lightbulb",p.Default="other (default)",p.SourceAction="source action",p.QuickFix="quick fix action",p.FixAll="fix all",p.OrganizeImports="organize imports",p.AutoFix="auto fix",p.QuickFixHover="quick fix hover window",p.OnSave="save participants",p.ProblemsView="problems view",p}(y||{});function v(p,c){return!(p.include&&!p.include.intersects(c)||p.excludes&&p.excludes.some(u=>T(c,u,p.include))||!p.includeSourceActions&&r.Source.contains(c))}function S(p,c){const u=c.kind?new r(c.kind):void 0;return!(p.include&&(!u||!p.include.contains(u))||p.excludes&&u&&p.excludes.some(g=>T(u,g,p.include))||!p.includeSourceActions&&u&&r.Source.contains(u)||p.onlyIncludePreferredActions&&!c.isPreferred)}function T(p,c,u){return!(!c.contains(p)||u&&c.contains(u))}class E{static fromUser(c,u){return c&&"object"==typeof c?new E(E.getKindFromUser(c,u.kind),E.getApplyFromUser(c,u.apply),E.getPreferredUser(c)):new E(u.kind,u.apply,!1)}static getApplyFromUser(c,u){switch("string"==typeof c.apply?c.apply.toLowerCase():""){case"first":return"first";case"never":return"never";case"ifsingle":return"ifSingle";default:return u}}static getKindFromUser(c,u){return"string"==typeof c.kind?new r(c.kind):u}static getPreferredUser(c){return"boolean"==typeof c.preferred&&c.preferred}constructor(c,u,g){this.kind=c,this.apply=u,this.preferred=g}}class L{constructor(c,u){this.action=c,this.provider=u}resolve(c){var u;return function(p,c,u,g){return new(u||(u=Promise))(function(d,a){function m(w){try{I(g.next(w))}catch(D){a(D)}}function l(w){try{I(g.throw(w))}catch(D){a(D)}}function I(w){w.done?d(w.value):function i(d){return d instanceof u?d:new u(function(a){a(d)})}(w.value).then(m,l)}I((g=g.apply(p,c||[])).next())})}(this,void 0,void 0,function*(){if(null!==(u=this.provider)&&void 0!==u&&u.resolveCodeAction&&!this.action.edit){let g;try{g=yield this.provider.resolveCodeAction(this.action,c)}catch(i){(0,f.Cp)(i)}g&&(this.action.edit=g.edit)}return this})}}},96999:(Xe,we,e)=>{var f=e(85328),P=e(17967),r=e(78694),y=e(45332),v=e(8256),S=e(36413),T=e(15446),E=e(87618),L=e(91402),p=e(15850),c=e(41204),u=e(11813),g=e(55763),i=function(fe,be,pe,Q){return new(pe||(pe=Promise))(function(Fe,He){function Je(mt){try{lt(Q.next(mt))}catch(ft){He(ft)}}function ot(mt){try{lt(Q.throw(mt))}catch(ft){He(ft)}}function lt(mt){mt.done?Fe(mt.value):function le(Fe){return Fe instanceof pe?Fe:new pe(function(He){He(Fe)})}(mt.value).then(Je,ot)}lt((Q=Q.apply(fe,be||[])).next())})};class d{constructor(){this.lenses=[],this._disposables=new r.SL}dispose(){this._disposables.dispose()}get isDisposed(){return this._disposables.isDisposed}add(be,pe){this._disposables.add(be);for(const Q of be.lenses)this.lenses.push({symbol:Q,provider:pe})}}function a(fe,be,pe){return i(this,void 0,void 0,function*(){const Q=fe.ordered(be),le=new Map,Fe=new d,He=Q.map((Je,ot)=>i(this,void 0,void 0,function*(){le.set(Je,ot);try{const lt=yield Promise.resolve(Je.provideCodeLenses(be,pe));lt&&Fe.add(lt,Je)}catch(lt){(0,P.Cp)(lt)}}));return yield Promise.all(He),Fe.lenses=Fe.lenses.sort((Je,ot)=>Je.symbol.range.startLineNumber<ot.symbol.range.startLineNumber?-1:Je.symbol.range.startLineNumber>ot.symbol.range.startLineNumber?1:le.get(Je.provider)<le.get(ot.provider)?-1:le.get(Je.provider)>le.get(ot.provider)?1:Je.symbol.range.startColumn<ot.symbol.range.startColumn?-1:Je.symbol.range.startColumn>ot.symbol.range.startColumn?1:0),Fe})}u.P.registerCommand("_executeCodeLensProvider",function(fe,...be){let[pe,Q]=be;(0,L.p_)(p.o.isUri(pe)),(0,L.p_)("number"==typeof Q||!Q);const{codeLensProvider:le}=fe.get(g.p),Fe=fe.get(c.q).getModel(pe);if(!Fe)throw(0,P.b1)();const He=[],Je=new r.SL;return a(le,Fe,E.T.None).then(ot=>{Je.add(ot);const lt=[];for(const mt of ot.lenses)null==Q||mt.symbol.command?He.push(mt.symbol):Q-- >0&&mt.provider.resolveCodeLens&&lt.push(Promise.resolve(mt.provider.resolveCodeLens(Fe,mt.symbol,E.T.None)).then(ft=>He.push(ft||mt.symbol)));return Promise.all(lt)}).then(()=>He).finally(()=>{setTimeout(()=>Je.dispose(),100)})});var m=e(45644),l=e(38164),I=e(96726),w=e(67755),D=e(12065),N=e(93476);const R=(0,D.yh)("ICodeLensCache");class O{constructor(be,pe){this.lineCount=be,this.data=pe}}let W=class{constructor(be){this._fakeProvider=new class{provideCodeLenses(){throw new Error("not supported")}},this._cache=new l.z6(20,.75),(0,f.To)(()=>be.remove("codelens/cache",1));const Q="codelens/cache2",le=be.get(Q,1,"{}");this._deserialize(le),(0,m.I)(be.onWillSaveState)(Fe=>{Fe.reason===N.fk.SHUTDOWN&&be.store(Q,this._serialize(),1,1)})}put(be,pe){const Q=pe.lenses.map(He=>{var Je;return{range:He.symbol.range,command:He.symbol.command&&{id:"",title:null===(Je=He.symbol.command)||void 0===Je?void 0:Je.title}}}),le=new d;le.add({lenses:Q,dispose:()=>{}},this._fakeProvider);const Fe=new O(be.getLineCount(),le);this._cache.set(be.uri.toString(),Fe)}get(be){const pe=this._cache.get(be.uri.toString());return pe&&pe.lineCount===be.getLineCount()?pe.data:void 0}delete(be){this._cache.delete(be.uri.toString())}_serialize(){const be=Object.create(null);for(const[pe,Q]of this._cache){const le=new Set;for(const Fe of Q.data.lenses)le.add(Fe.symbol.range.startLineNumber);be[pe]={lineCount:Q.lineCount,lines:[...le.values()]}}return JSON.stringify(be)}_deserialize(be){try{const pe=JSON.parse(be);for(const Q in pe){const le=pe[Q],Fe=[];for(const Je of le.lines)Fe.push({range:new I.e(Je,1,Je,11)});const He=new d;He.add({lenses:Fe,dispose(){}},this._fakeProvider),this._cache.set(Q,new O(le.lineCount,He))}}catch{}}};var be;W=function(fe,be,pe,Q){var He,le=arguments.length,Fe=le<3?be:null===Q?Q=Object.getOwnPropertyDescriptor(be,pe):Q;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Fe=Reflect.decorate(fe,be,pe,Q);else for(var Je=fe.length-1;Je>=0;Je--)(He=fe[Je])&&(Fe=(le<3?He(Fe):le>3?He(be,pe,Fe):He(be,pe))||Fe);return le>3&&Fe&&Object.defineProperty(be,pe,Fe),Fe}([(0,be=N.Uy,function(pe,Q){be(pe,Q,0)})],W),(0,w.z)(R,W,1);var z=e(20274),U=e(51674),ee=e(93379),B=e.n(ee),G=e(7795),se=e.n(G),j=e(90569),$=e.n(j),K=e(3565),J=e.n(K),te=e(19216),ne=e.n(te),_=e(44589),ae=e.n(_),ge=e(32849),_e={};_e.styleTagTransform=ae(),_e.setAttributes=J(),_e.insert=$().bind(null,"head"),_e.domAPI=se(),_e.insertStyleElement=ne(),B()(ge.Z,_e);var Ie=e(54267);class Se{constructor(be,pe,Q){this.afterColumn=1073741824,this.afterLineNumber=be,this.heightInPx=pe,this._onHeight=Q,this.suppressMouseDown=!0,this.domNode=document.createElement("div")}onComputedHeight(be){void 0===this._lastHeight?this._lastHeight=be:this._lastHeight!==be&&(this._lastHeight=be,this._onHeight())}isVisible(){return 0!==this._lastHeight&&this.domNode.hasAttribute("monaco-visible-view-zone")}}let Ve=(()=>{class fe{constructor(pe,Q){this.allowEditorOverflow=!1,this.suppressMouseDown=!0,this._commands=new Map,this._isEmpty=!0,this._editor=pe,this._id="codelens.widget-"+fe._idPool++,this.updatePosition(Q),this._domNode=document.createElement("span"),this._domNode.className="codelens-decoration"}withCommands(pe,Q){this._commands.clear();const le=[];let Fe=!1;for(let He=0;He<pe.length;He++){const Je=pe[He];if(Je&&(Fe=!0,Je.command)){const ot=(0,U.T)(Je.command.title.trim());Je.command.id?(le.push(z.$("a",{id:String(He),title:Je.command.tooltip,role:"button"},...ot)),this._commands.set(String(He),Je.command)):le.push(z.$("span",{title:Je.command.tooltip},...ot)),He+1<pe.length&&le.push(z.$("span",void 0,"\xa0|\xa0"))}}Fe?(z.mc(this._domNode,...le),this._isEmpty&&Q&&this._domNode.classList.add("fadein"),this._isEmpty=!1):z.mc(this._domNode,z.$("span",void 0,"no commands"))}getCommand(pe){return pe.parentElement===this._domNode?this._commands.get(pe.id):void 0}getId(){return this._id}getDomNode(){return this._domNode}updatePosition(pe){const Q=this._editor.getModel().getLineFirstNonWhitespaceColumn(pe);this._widgetPosition={position:{lineNumber:pe,column:Q},preference:[1]}}getPosition(){return this._widgetPosition||null}}return fe._idPool=0,fe})();class De{constructor(){this._removeDecorations=[],this._addDecorations=[],this._addDecorationsCallbacks=[]}addDecoration(be,pe){this._addDecorations.push(be),this._addDecorationsCallbacks.push(pe)}removeDecoration(be){this._removeDecorations.push(be)}commit(be){const pe=be.deltaDecorations(this._removeDecorations,this._addDecorations);for(let Q=0,le=pe.length;Q<le;Q++)this._addDecorationsCallbacks[Q](pe[Q])}}const ye=Ie.qx.register({collapseOnReplaceEdit:!0,description:"codelens"});class oe{constructor(be,pe,Q,le,Fe,He){let Je;this._isDisposed=!1,this._editor=pe,this._data=be,this._decorationIds=[];const ot=[];this._data.forEach((lt,mt)=>{lt.symbol.command&&ot.push(lt.symbol),Q.addDecoration({range:lt.symbol.range,options:ye},ft=>this._decorationIds[mt]=ft),Je=Je?I.e.plusRange(Je,lt.symbol.range):I.e.lift(lt.symbol.range)}),this._viewZone=new Se(Je.startLineNumber-1,Fe,He),this._viewZoneId=le.addZone(this._viewZone),ot.length>0&&(this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(ot,!1))}_createContentWidgetIfNecessary(){this._contentWidget?this._editor.layoutContentWidget(this._contentWidget):(this._contentWidget=new Ve(this._editor,this._viewZone.afterLineNumber+1),this._editor.addContentWidget(this._contentWidget))}dispose(be,pe){this._decorationIds.forEach(be.removeDecoration,be),this._decorationIds=[],pe?.removeZone(this._viewZoneId),this._contentWidget&&(this._editor.removeContentWidget(this._contentWidget),this._contentWidget=void 0),this._isDisposed=!0}isDisposed(){return this._isDisposed}isValid(){return this._decorationIds.some((be,pe)=>{const Q=this._editor.getModel().getDecorationRange(be);return!(!Q||I.e.isEmpty(this._data[pe].symbol.range)!==Q.isEmpty())})}updateCodeLensSymbols(be,pe){this._decorationIds.forEach(pe.removeDecoration,pe),this._decorationIds=[],this._data=be,this._data.forEach((Q,le)=>{pe.addDecoration({range:Q.symbol.range,options:ye},Fe=>this._decorationIds[le]=Fe)})}updateHeight(be,pe){this._viewZone.heightInPx=be,pe.layoutZone(this._viewZoneId),this._contentWidget&&this._editor.layoutContentWidget(this._contentWidget)}computeIfNecessary(be){if(!this._viewZone.isVisible())return null;for(let pe=0;pe<this._decorationIds.length;pe++){const Q=be.getDecorationRange(this._decorationIds[pe]);Q&&(this._data[pe].symbol.range=Q)}return this._data}updateCommands(be){this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(be,!0);for(let pe=0;pe<this._data.length;pe++){const Q=be[pe];if(Q){const{symbol:le}=this._data[pe];le.command=Q.command||le.command}}}getCommand(be){var pe;return null===(pe=this._contentWidget)||void 0===pe?void 0:pe.getCommand(be)}getLineNumber(){const be=this._editor.getModel().getDecorationRange(this._decorationIds[0]);return be?be.startLineNumber:-1}update(be){if(this.isValid()){const pe=this._editor.getModel().getDecorationRange(this._decorationIds[0]);pe&&(this._viewZone.afterLineNumber=pe.startLineNumber-1,be.layoutZone(this._viewZoneId),this._contentWidget&&(this._contentWidget.updatePosition(pe.startLineNumber),this._editor.layoutContentWidget(this._contentWidget)))}}}var Y=e(37190),x=e(22438),F=e(49010),ie=e(31663),ke=function(fe,be){return function(pe,Q){be(pe,Q,fe)}};let xe=class{constructor(be,pe,Q,le,Fe,He){this._editor=be,this._languageFeaturesService=pe,this._commandService=le,this._notificationService=Fe,this._codeLensCache=He,this._disposables=new r.SL,this._localToDispose=new r.SL,this._lenses=[],this._oldCodeLensModels=new r.SL,this._provideCodeLensDebounce=Q.for(pe.codeLensProvider,"CodeLensProvide",{min:250}),this._resolveCodeLensesDebounce=Q.for(pe.codeLensProvider,"CodeLensResolve",{min:250,salt:"resolve"}),this._resolveCodeLensesScheduler=new f.pY(()=>this._resolveCodeLensesInViewport(),this._resolveCodeLensesDebounce.default()),this._disposables.add(this._editor.onDidChangeModel(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeConfiguration(Je=>{(Je.hasChanged(49)||Je.hasChanged(18)||Je.hasChanged(17))&&this._updateLensStyle(),Je.hasChanged(16)&&this._onModelChange()})),this._disposables.add(pe.codeLensProvider.onDidChange(this._onModelChange,this)),this._onModelChange(),this._updateLensStyle()}dispose(){var be;this._localDispose(),this._disposables.dispose(),this._oldCodeLensModels.dispose(),null===(be=this._currentCodeLensModel)||void 0===be||be.dispose()}_getLayoutInfo(){const be=Math.max(1.3,this._editor.getOption(65)/this._editor.getOption(51));let pe=this._editor.getOption(18);return(!pe||pe<5)&&(pe=.9*this._editor.getOption(51)|0),{fontSize:pe,codeLensHeight:pe*be|0}}_updateLensStyle(){const{codeLensHeight:be,fontSize:pe}=this._getLayoutInfo(),Q=this._editor.getOption(17),le=this._editor.getOption(49),{style:Fe}=this._editor.getContainerDomNode();Fe.setProperty("--vscode-editorCodeLens-lineHeight",`${be}px`),Fe.setProperty("--vscode-editorCodeLens-fontSize",`${pe}px`),Fe.setProperty("--vscode-editorCodeLens-fontFeatureSettings",le.fontFeatureSettings),Q&&(Fe.setProperty("--vscode-editorCodeLens-fontFamily",Q),Fe.setProperty("--vscode-editorCodeLens-fontFamilyDefault",S.hL.fontFamily)),this._editor.changeViewZones(He=>{for(const Je of this._lenses)Je.updateHeight(be,He)})}_localDispose(){var be,pe,Q;null===(be=this._getCodeLensModelPromise)||void 0===be||be.cancel(),this._getCodeLensModelPromise=void 0,null===(pe=this._resolveCodeLensesPromise)||void 0===pe||pe.cancel(),this._resolveCodeLensesPromise=void 0,this._localToDispose.clear(),this._oldCodeLensModels.clear(),null===(Q=this._currentCodeLensModel)||void 0===Q||Q.dispose()}_onModelChange(){this._localDispose();const be=this._editor.getModel();if(!be||!this._editor.getOption(16))return;const pe=this._codeLensCache.get(be);if(pe&&this._renderCodeLensSymbols(pe),!this._languageFeaturesService.codeLensProvider.has(be))return void(pe&&this._localToDispose.add((0,f.Vg)(()=>{const le=this._codeLensCache.get(be);pe===le&&(this._codeLensCache.delete(be),this._onModelChange())},3e4)));for(const le of this._languageFeaturesService.codeLensProvider.all(be))if("function"==typeof le.onDidChange){const Fe=le.onDidChange(()=>Q.schedule());this._localToDispose.add(Fe)}const Q=new f.pY(()=>{var le;const Fe=Date.now();null===(le=this._getCodeLensModelPromise)||void 0===le||le.cancel(),this._getCodeLensModelPromise=(0,f.PG)(He=>a(this._languageFeaturesService.codeLensProvider,be,He)),this._getCodeLensModelPromise.then(He=>{this._currentCodeLensModel&&this._oldCodeLensModels.add(this._currentCodeLensModel),this._currentCodeLensModel=He,this._codeLensCache.put(be,He);const Je=this._provideCodeLensDebounce.update(be,Date.now()-Fe);Q.delay=Je,this._renderCodeLensSymbols(He),this._resolveCodeLensesInViewportSoon()},P.dL)},this._provideCodeLensDebounce.get(be));this._localToDispose.add(Q),this._localToDispose.add((0,r.OF)(()=>this._resolveCodeLensesScheduler.cancel())),this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{var le;this._editor.changeDecorations(Fe=>{this._editor.changeViewZones(He=>{const Je=[];let ot=-1;this._lenses.forEach(mt=>{mt.isValid()&&ot!==mt.getLineNumber()?(mt.update(He),ot=mt.getLineNumber()):Je.push(mt)});const lt=new De;Je.forEach(mt=>{mt.dispose(lt,He),this._lenses.splice(this._lenses.indexOf(mt),1)}),lt.commit(Fe)})}),Q.schedule(),this._resolveCodeLensesScheduler.cancel(),null===(le=this._resolveCodeLensesPromise)||void 0===le||le.cancel(),this._resolveCodeLensesPromise=void 0})),this._localToDispose.add(this._editor.onDidFocusEditorWidget(()=>{Q.schedule()})),this._localToDispose.add(this._editor.onDidScrollChange(le=>{le.scrollTopChanged&&this._lenses.length>0&&this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add(this._editor.onDidLayoutChange(()=>{this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add((0,r.OF)(()=>{if(this._editor.getModel()){const le=y.Z.capture(this._editor);this._editor.changeDecorations(Fe=>{this._editor.changeViewZones(He=>{this._disposeAllLenses(Fe,He)})}),le.restore(this._editor)}else this._disposeAllLenses(void 0,void 0)})),this._localToDispose.add(this._editor.onMouseDown(le=>{if(9!==le.target.type)return;let Fe=le.target.element;if("SPAN"===Fe?.tagName&&(Fe=Fe.parentElement),"A"===Fe?.tagName)for(const He of this._lenses){const Je=He.getCommand(Fe);if(Je){this._commandService.executeCommand(Je.id,...Je.arguments||[]).catch(ot=>this._notificationService.error(ot));break}}})),Q.schedule()}_disposeAllLenses(be,pe){const Q=new De;for(const le of this._lenses)le.dispose(Q,pe);be&&Q.commit(be),this._lenses.length=0}_renderCodeLensSymbols(be){if(!this._editor.hasModel())return;const pe=this._editor.getModel().getLineCount(),Q=[];let le;for(const Je of be.lenses){const ot=Je.symbol.range.startLineNumber;ot<1||ot>pe||(le&&le[le.length-1].symbol.range.startLineNumber===ot?le.push(Je):(le=[Je],Q.push(le)))}if(!Q.length&&!this._lenses.length)return;const Fe=y.Z.capture(this._editor),He=this._getLayoutInfo();this._editor.changeDecorations(Je=>{this._editor.changeViewZones(ot=>{const lt=new De;let mt=0,ft=0;for(;ft<Q.length&&mt<this._lenses.length;){const Lt=Q[ft][0].symbol.range.startLineNumber,Tt=this._lenses[mt].getLineNumber();Tt<Lt?(this._lenses[mt].dispose(lt,ot),this._lenses.splice(mt,1)):Tt===Lt?(this._lenses[mt].updateCodeLensSymbols(Q[ft],lt),ft++,mt++):(this._lenses.splice(mt,0,new oe(Q[ft],this._editor,lt,ot,He.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),mt++,ft++)}for(;mt<this._lenses.length;)this._lenses[mt].dispose(lt,ot),this._lenses.splice(mt,1);for(;ft<Q.length;)this._lenses.push(new oe(Q[ft],this._editor,lt,ot,He.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),ft++;lt.commit(Je)})}),Fe.restore(this._editor)}_resolveCodeLensesInViewportSoon(){this._editor.getModel()&&this._resolveCodeLensesScheduler.schedule()}_resolveCodeLensesInViewport(){var be;null===(be=this._resolveCodeLensesPromise)||void 0===be||be.cancel(),this._resolveCodeLensesPromise=void 0;const pe=this._editor.getModel();if(!pe)return;const Q=[],le=[];if(this._lenses.forEach(Je=>{const ot=Je.computeIfNecessary(pe);ot&&(Q.push(ot),le.push(Je))}),0===Q.length)return;const Fe=Date.now(),He=(0,f.PG)(Je=>{const ot=Q.map((lt,mt)=>{const ft=new Array(lt.length),Lt=lt.map((Tt,Mt)=>Tt.symbol.command||"function"!=typeof Tt.provider.resolveCodeLens?(ft[Mt]=Tt.symbol,Promise.resolve(void 0)):Promise.resolve(Tt.provider.resolveCodeLens(pe,Tt.symbol,Je)).then(Ut=>{ft[Mt]=Ut},P.Cp));return Promise.all(Lt).then(()=>{!Je.isCancellationRequested&&!le[mt].isDisposed()&&le[mt].updateCommands(ft)})});return Promise.all(ot)});this._resolveCodeLensesPromise=He,this._resolveCodeLensesPromise.then(()=>{const Je=this._resolveCodeLensesDebounce.update(pe,Date.now()-Fe);this._resolveCodeLensesScheduler.delay=Je,this._currentCodeLensModel&&this._codeLensCache.put(pe,this._currentCodeLensModel),this._oldCodeLensModels.clear(),He===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)},Je=>{(0,P.dL)(Je),He===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)})}getModel(){return this._currentCodeLensModel}};xe.ID="css.editor.codeLens",xe=function(fe,be,pe,Q){var He,le=arguments.length,Fe=le<3?be:null===Q?Q=Object.getOwnPropertyDescriptor(be,pe):Q;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Fe=Reflect.decorate(fe,be,pe,Q);else for(var Je=fe.length-1;Je>=0;Je--)(He=fe[Je])&&(Fe=(le<3?He(Fe):le>3?He(be,pe,Fe):He(be,pe))||Fe);return le>3&&Fe&&Object.defineProperty(be,pe,Fe),Fe}([ke(1,g.p),ke(2,ie.A),ke(3,u.H),ke(4,x.lT),ke(5,R)],xe),(0,v._K)(xe.ID,xe,1),(0,v.Qr)(class extends v.R6{constructor(){super({id:"codelens.showLensesInCurrentLine",precondition:T.u.hasCodeLensProvider,label:(0,Y.NC)("showLensOnLine","Show CodeLens Commands For Current Line"),alias:"Show CodeLens Commands For Current Line"})}run(be,pe){return function(fe,be,pe,Q){return new(pe||(pe=Promise))(function(Fe,He){function Je(mt){try{lt(Q.next(mt))}catch(ft){He(ft)}}function ot(mt){try{lt(Q.throw(mt))}catch(ft){He(ft)}}function lt(mt){mt.done?Fe(mt.value):function le(Fe){return Fe instanceof pe?Fe:new pe(function(He){He(Fe)})}(mt.value).then(Je,ot)}lt((Q=Q.apply(fe,be||[])).next())})}(this,void 0,void 0,function*(){if(!pe.hasModel())return;const Q=be.get(F.eJ),le=be.get(u.H),Fe=be.get(x.lT),He=pe.getSelection().positionLineNumber,Je=pe.getContribution(xe.ID);if(!Je)return;const ot=Je.getModel();if(!ot)return;const lt=[];for(const ft of ot.lenses)ft.symbol.command&&ft.symbol.range.startLineNumber===He&&lt.push({label:ft.symbol.command.title,command:ft.symbol.command});if(0===lt.length)return;const mt=yield Q.pick(lt,{canPickMany:!1});if(mt){if(ot.isDisposed)return yield le.executeCommand(this.id);try{yield le.executeCommand(mt.command.id,...mt.command.arguments||[])}catch(ft){Fe.error(ft)}}})}})},9661:(Xe,we,e)=>{e.d(we,{E:()=>c,R:()=>u});var f=e(87618),P=e(17967),r=e(15850),y=e(96726),v=e(41204),S=e(11813),T=e(55763),E=e(88757),L=e(47358),p=function(l,I,w,D){return new(w||(w=Promise))(function(A,k){function R(z){try{W(D.next(z))}catch(U){k(U)}}function O(z){try{W(D.throw(z))}catch(U){k(U)}}function W(z){z.done?A(z.value):function N(A){return A instanceof w?A:new w(function(k){k(A)})}(z.value).then(R,O)}W((D=D.apply(l,I||[])).next())})};function c(l,I,w,D=!0){return p(this,void 0,void 0,function*(){return a(new g,l,I,w,D)})}function u(l,I,w,D){return Promise.resolve(w.provideColorPresentations(l,I,D))}class g{constructor(){}compute(I,w,D,N){return p(this,void 0,void 0,function*(){const A=yield I.provideDocumentColors(w,D);if(Array.isArray(A))for(const k of A)N.push({colorInfo:k,provider:I});return Array.isArray(A)})}}class i{constructor(){}compute(I,w,D,N){return p(this,void 0,void 0,function*(){const A=yield I.provideDocumentColors(w,D);if(Array.isArray(A))for(const k of A)N.push({range:k.range,color:[k.color.red,k.color.green,k.color.blue,k.color.alpha]});return Array.isArray(A)})}}class d{constructor(I){this.colorInfo=I}compute(I,w,D,N){return p(this,void 0,void 0,function*(){const A=yield I.provideColorPresentations(w,this.colorInfo,f.T.None);return Array.isArray(A)&&N.push(...A),Array.isArray(A)})}}function a(l,I,w,D,N){return p(this,void 0,void 0,function*(){let k,A=!1;const R=[],O=I.ordered(w);for(let W=O.length-1;W>=0;W--){const z=O[W];if(z instanceof E.G)k=z;else try{(yield l.compute(z,w,D,R))&&(A=!0)}catch(U){(0,P.Cp)(U)}}return A?R:k&&N?(yield l.compute(k,w,D,R),R):[]})}function m(l,I){const{colorProvider:w}=l.get(T.p),D=l.get(v.q).getModel(I);if(!D)throw(0,P.b1)();return{model:D,colorProviderRegistry:w,isDefaultColorDecoratorsEnabled:l.get(L.Ui).getValue("editor.defaultColorDecorators",{resource:I})}}S.P.registerCommand("_executeDocumentColorProvider",function(l,...I){const[w]=I;if(!(w instanceof r.o))throw(0,P.b1)();const{model:D,colorProviderRegistry:N,isDefaultColorDecoratorsEnabled:A}=m(l,w);return a(new i,N,D,f.T.None,A)}),S.P.registerCommand("_executeColorPresentationProvider",function(l,...I){const[w,D]=I,{uri:N,range:A}=D;if(!(N instanceof r.o&&Array.isArray(w)&&4===w.length&&y.e.isIRange(A)))throw(0,P.b1)();const{model:k,colorProviderRegistry:R,isDefaultColorDecoratorsEnabled:O}=m(l,N),[W,z,U,ee]=w;return a(new d({range:A,color:{red:W,green:z,blue:U,alpha:ee}}),R,k,f.T.None,O)})},96127:(Xe,we,e)=>{var f=e(78694),P=e(8256),r=e(96726),y=e(15563),v=e(86868),S=e(30015),T=e(9282);let E=(()=>{class L extends f.JT{constructor(c){super(),this._editor=c,this._register(c.onMouseDown(u=>this.onMouseDown(u)))}dispose(){super.dispose()}onMouseDown(c){const u=this._editor.getOption(145);if("click"!==u&&"clickAndHover"!==u)return;const g=c.target;if(6!==g.type||!g.detail.injectedText||g.detail.injectedText.options.attachedData!==y.Ak||!g.range)return;const i=this._editor.getContribution(S.E.ID);if(i&&!i.isColorPickerVisible){const d=new r.e(g.range.startLineNumber,g.range.startColumn+1,g.range.endLineNumber,g.range.endColumn+1);i.showContentHover(d,1,0,!1,!0)}}}return L.ID="editor.contrib.colorContribution",L})();(0,P._K)(E.ID,E,2),T.Ae.register(v.nh)},15563:(Xe,we,e)=>{e.d(we,{Ak:()=>w,if:()=>D});var I,f=e(85328),P=e(90888),r=e(17967),y=e(58178),v=e(78694),S=e(11664),T=e(16055),E=e(58431),L=e(8256),p=e(96726),c=e(54267),u=e(31663),g=e(55763),i=e(9661),d=e(47358),m=function(A,k){return function(R,O){k(R,O,A)}},l=function(A,k,R,O){return new(R||(R=Promise))(function(z,U){function ee(se){try{G(O.next(se))}catch(j){U(j)}}function B(se){try{G(O.throw(se))}catch(j){U(j)}}function G(se){se.done?z(se.value):function W(z){return z instanceof R?z:new R(function(U){U(z)})}(se.value).then(ee,B)}G((O=O.apply(A,k||[])).next())})};const w=Object.create({});let D=I=class extends v.JT{constructor(k,R,O,W){super(),this._editor=k,this._configurationService=R,this._languageFeaturesService=O,this._localToDispose=this._register(new v.SL),this._decorationsIds=[],this._colorDatas=new Map,this._colorDecoratorIds=this._editor.createDecorationsCollection(),this._ruleFactory=new E.t7(this._editor),this._decoratorLimitReporter=new N,this._colorDecorationClassRefs=this._register(new v.SL),this._debounceInformation=W.for(O.colorProvider,"Document Colors",{min:I.RECOMPUTE_TIME}),this._register(k.onDidChangeModel(()=>{this._isColorDecoratorsEnabled=this.isEnabled(),this.updateColors()})),this._register(k.onDidChangeModelLanguage(()=>this.updateColors())),this._register(O.colorProvider.onDidChange(()=>this.updateColors())),this._register(k.onDidChangeConfiguration(z=>{const U=this._isColorDecoratorsEnabled;this._isColorDecoratorsEnabled=this.isEnabled(),this._isDefaultColorDecoratorsEnabled=this._editor.getOption(144);const ee=U!==this._isColorDecoratorsEnabled||z.hasChanged(20),B=z.hasChanged(144);(ee||B)&&(this._isColorDecoratorsEnabled?this.updateColors():this.removeAllDecorations())})),this._timeoutTimer=null,this._computePromise=null,this._isColorDecoratorsEnabled=this.isEnabled(),this._isDefaultColorDecoratorsEnabled=this._editor.getOption(144),this.updateColors()}isEnabled(){const k=this._editor.getModel();if(!k)return!1;const R=k.getLanguageId(),O=this._configurationService.getValue(R);if(O&&"object"==typeof O){const W=O.colorDecorators;if(W&&void 0!==W.enable&&!W.enable)return W.enable}return this._editor.getOption(19)}static get(k){return k.getContribution(this.ID)}dispose(){this.stop(),this.removeAllDecorations(),super.dispose()}updateColors(){if(this.stop(),!this._isColorDecoratorsEnabled)return;const k=this._editor.getModel();!k||!this._languageFeaturesService.colorProvider.has(k)||(this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{this._timeoutTimer||(this._timeoutTimer=new f._F,this._timeoutTimer.cancelAndSet(()=>{this._timeoutTimer=null,this.beginCompute()},this._debounceInformation.get(k)))})),this.beginCompute())}beginCompute(){return l(this,void 0,void 0,function*(){this._computePromise=(0,f.PG)(k=>l(this,void 0,void 0,function*(){const R=this._editor.getModel();if(!R)return[];const O=new S.G(!1),W=yield(0,i.E)(this._languageFeaturesService.colorProvider,R,k,this._isDefaultColorDecoratorsEnabled);return this._debounceInformation.update(R,O.elapsed()),W}));try{const k=yield this._computePromise;this.updateDecorations(k),this.updateColorDecorators(k),this._computePromise=null}catch(k){(0,r.dL)(k)}})}stop(){this._timeoutTimer&&(this._timeoutTimer.cancel(),this._timeoutTimer=null),this._computePromise&&(this._computePromise.cancel(),this._computePromise=null),this._localToDispose.clear()}updateDecorations(k){const R=k.map(O=>({range:{startLineNumber:O.colorInfo.range.startLineNumber,startColumn:O.colorInfo.range.startColumn,endLineNumber:O.colorInfo.range.endLineNumber,endColumn:O.colorInfo.range.endColumn},options:c.qx.EMPTY}));this._editor.changeDecorations(O=>{this._decorationsIds=O.deltaDecorations(this._decorationsIds,R),this._colorDatas=new Map,this._decorationsIds.forEach((W,z)=>this._colorDatas.set(W,k[z]))})}updateColorDecorators(k){this._colorDecorationClassRefs.clear();const R=[],O=this._editor.getOption(20);for(let z=0;z<k.length&&R.length<O;z++){const{red:U,green:ee,blue:B,alpha:G}=k[z].colorInfo.color,se=new P.VS(Math.round(255*U),Math.round(255*ee),Math.round(255*B),G),$=this._colorDecorationClassRefs.add(this._ruleFactory.createClassNameRef({backgroundColor:`rgba(${se.r}, ${se.g}, ${se.b}, ${se.a})`}));R.push({range:{startLineNumber:k[z].colorInfo.range.startLineNumber,startColumn:k[z].colorInfo.range.startColumn,endLineNumber:k[z].colorInfo.range.endLineNumber,endColumn:k[z].colorInfo.range.endColumn},options:{description:"colorDetector",before:{content:T.B4,inlineClassName:`${$.className} colorpicker-color-decoration`,inlineClassNameAffectsLetterSpacing:!0,attachedData:w}}})}this._decoratorLimitReporter.update(k.length,O<k.length&&O),this._colorDecoratorIds.set(R)}removeAllDecorations(){this._editor.removeDecorations(this._decorationsIds),this._decorationsIds=[],this._colorDecoratorIds.clear(),this._colorDecorationClassRefs.clear()}getColorData(k){const R=this._editor.getModel();if(!R)return null;const O=R.getDecorationsInRange(p.e.fromPositions(k,k)).filter(W=>this._colorDatas.has(W.id));return 0===O.length?null:this._colorDatas.get(O[0].id)}isColorDecoration(k){return this._colorDecoratorIds.has(k)}};D.ID="editor.contrib.colorDetector",D.RECOMPUTE_TIME=1e3,D=I=function(A,k,R,O){var U,W=arguments.length,z=W<3?k:null===O?O=Object.getOwnPropertyDescriptor(k,R):O;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)z=Reflect.decorate(A,k,R,O);else for(var ee=A.length-1;ee>=0;ee--)(U=A[ee])&&(z=(W<3?U(z):W>3?U(k,R,z):U(k,R))||z);return W>3&&z&&Object.defineProperty(k,R,z),z}([m(1,d.Ui),m(2,g.p),m(3,u.A)],D);class N{constructor(){this._onDidChange=new y.Q5,this._computed=0,this._limited=!1}update(k,R){(k!==this._computed||R!==this._limited)&&(this._computed=k,this._limited=R,this._onDidChange.fire())}}(0,L._K)(D.ID,D,1)},86868:(Xe,we,e)=>{e.d(we,{nh:()=>$,PQ:()=>J});var f=e(85328),P=e(87618),r=e(90888),y=e(78694),v=e(96726),S=e(9661),T=e(15563),E=e(58178);class L{get color(){return this._color}set color(_e){this._color.equals(_e)||(this._color=_e,this._onDidChangeColor.fire(_e))}get presentation(){return this.colorPresentations[this.presentationIndex]}get colorPresentations(){return this._colorPresentations}set colorPresentations(_e){this._colorPresentations=_e,this.presentationIndex>_e.length-1&&(this.presentationIndex=0),this._onDidChangePresentation.fire(this.presentation)}constructor(_e,ue,ve){this.presentationIndex=ve,this._onColorFlushed=new E.Q5,this.onColorFlushed=this._onColorFlushed.event,this._onDidChangeColor=new E.Q5,this.onDidChangeColor=this._onDidChangeColor.event,this._onDidChangePresentation=new E.Q5,this.onDidChangePresentation=this._onDidChangePresentation.event,this.originalColor=_e,this._color=_e,this._colorPresentations=ue}selectNextColorPresentation(){this.presentationIndex=(this.presentationIndex+1)%this.colorPresentations.length,this.flushColor(),this._onDidChangePresentation.fire(this.presentation)}guessColorPresentation(_e,ue){let ve=-1;for(let Ie=0;Ie<this.colorPresentations.length;Ie++)if(ue.toLowerCase()===this.colorPresentations[Ie].label){ve=Ie;break}if(-1===ve){const Ie=ue.split("(")[0].toLowerCase();for(let Se=0;Se<this.colorPresentations.length;Se++)if(this.colorPresentations[Se].label.toLowerCase().startsWith(Ie)){ve=Se;break}}-1!==ve&&ve!==this.presentationIndex&&(this.presentationIndex=ve,this._onDidChangePresentation.fire(this.presentation))}flushColor(){this._onColorFlushed.fire(this._color)}}var p=e(47492),c=e(20274),u=e(46738),g=e(19491),i=e(27222),d=e(35053),m=(e(39587),e(37190)),l=e(99745),I=e(34252);const w=c.$;class D extends y.JT{constructor(_e,ue,ve,Ie=!1){super(),this.model=ue,this.showingStandaloneColorPicker=Ie,this._closeButton=null,this._domNode=w(".colorpicker-header"),c.R3(_e,this._domNode),this._pickedColorNode=c.R3(this._domNode,w(".picked-color")),c.R3(this._pickedColorNode,w("span.codicon.codicon-color-mode")),this._pickedColorPresentation=c.R3(this._pickedColorNode,document.createElement("span")),this._pickedColorPresentation.classList.add("picked-color-presentation");const Se=(0,m.NC)("clickToToggleColorOptions","Click to toggle color options (rgb/hsl/hex)");this._pickedColorNode.setAttribute("title",Se),this._originalColorNode=c.R3(this._domNode,w(".original-color")),this._originalColorNode.style.backgroundColor=r.Il.Format.CSS.format(this.model.originalColor)||"",this.backgroundColor=ve.getColorTheme().getColor(l.yJx)||r.Il.white,this._register(ve.onDidColorThemeChange(Ve=>{this.backgroundColor=Ve.getColor(l.yJx)||r.Il.white})),this._register(c.nm(this._pickedColorNode,c.tw.CLICK,()=>this.model.selectNextColorPresentation())),this._register(c.nm(this._originalColorNode,c.tw.CLICK,()=>{this.model.color=this.model.originalColor,this.model.flushColor()})),this._register(ue.onDidChangeColor(this.onDidChangeColor,this)),this._register(ue.onDidChangePresentation(this.onDidChangePresentation,this)),this._pickedColorNode.style.backgroundColor=r.Il.Format.CSS.format(ue.color)||"",this._pickedColorNode.classList.toggle("light",ue.color.rgba.a<.5?this.backgroundColor.isLighter():ue.color.isLighter()),this.onDidChangeColor(this.model.color),this.showingStandaloneColorPicker&&(this._domNode.classList.add("standalone-colorpicker"),this._closeButton=this._register(new N(this._domNode)))}get closeButton(){return this._closeButton}get pickedColorNode(){return this._pickedColorNode}get originalColorNode(){return this._originalColorNode}onDidChangeColor(_e){this._pickedColorNode.style.backgroundColor=r.Il.Format.CSS.format(_e)||"",this._pickedColorNode.classList.toggle("light",_e.rgba.a<.5?this.backgroundColor.isLighter():_e.isLighter()),this.onDidChangePresentation()}onDidChangePresentation(){this._pickedColorPresentation.textContent=this.model.presentation?this.model.presentation.label:""}}class N extends y.JT{constructor(_e){super(),this._onClicked=this._register(new E.Q5),this.onClicked=this._onClicked.event,this._button=document.createElement("div"),this._button.classList.add("close-button"),c.R3(_e,this._button);const ue=document.createElement("div");ue.classList.add("close-button-inner-div"),c.R3(this._button,ue),c.R3(ue,w(".button"+d.k.asCSSSelector((0,I.q5)("color-picker-close",i.l.close,(0,m.NC)("closeIcon","Icon to close the color picker"))))).classList.add("close-icon"),this._button.onclick=()=>{this._onClicked.fire()}}}class A extends y.JT{constructor(_e,ue,ve,Ie=!1){super(),this.model=ue,this.pixelRatio=ve,this._insertButton=null,this._domNode=w(".colorpicker-body"),c.R3(_e,this._domNode),this._saturationBox=new k(this._domNode,this.model,this.pixelRatio),this._register(this._saturationBox),this._register(this._saturationBox.onDidChange(this.onDidSaturationValueChange,this)),this._register(this._saturationBox.onColorFlushed(this.flushColor,this)),this._opacityStrip=new O(this._domNode,this.model,Ie),this._register(this._opacityStrip),this._register(this._opacityStrip.onDidChange(this.onDidOpacityChange,this)),this._register(this._opacityStrip.onColorFlushed(this.flushColor,this)),this._hueStrip=new W(this._domNode,this.model,Ie),this._register(this._hueStrip),this._register(this._hueStrip.onDidChange(this.onDidHueChange,this)),this._register(this._hueStrip.onColorFlushed(this.flushColor,this)),Ie&&(this._insertButton=this._register(new z(this._domNode)),this._domNode.classList.add("standalone-colorpicker"))}flushColor(){this.model.flushColor()}onDidSaturationValueChange({s:_e,v:ue}){const ve=this.model.color.hsva;this.model.color=new r.Il(new r.tx(ve.h,_e,ue,ve.a))}onDidOpacityChange(_e){const ue=this.model.color.hsva;this.model.color=new r.Il(new r.tx(ue.h,ue.s,ue.v,_e))}onDidHueChange(_e){const ue=this.model.color.hsva,ve=360*(1-_e);this.model.color=new r.Il(new r.tx(360===ve?0:ve,ue.s,ue.v,ue.a))}get domNode(){return this._domNode}get saturationBox(){return this._saturationBox}get enterButton(){return this._insertButton}layout(){this._saturationBox.layout(),this._opacityStrip.layout(),this._hueStrip.layout()}}class k extends y.JT{constructor(_e,ue,ve){super(),this.model=ue,this.pixelRatio=ve,this._onDidChange=new E.Q5,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new E.Q5,this.onColorFlushed=this._onColorFlushed.event,this._domNode=w(".saturation-wrap"),c.R3(_e,this._domNode),this._canvas=document.createElement("canvas"),this._canvas.className="saturation-box",c.R3(this._domNode,this._canvas),this.selection=w(".saturation-selection"),c.R3(this._domNode,this.selection),this.layout(),this._register(c.nm(this._domNode,c.tw.POINTER_DOWN,Ie=>this.onPointerDown(Ie))),this._register(this.model.onDidChangeColor(this.onDidChangeColor,this)),this.monitor=null}get domNode(){return this._domNode}onPointerDown(_e){if(!(_e.target&&_e.target instanceof Element))return;this.monitor=this._register(new u.C);const ue=c.i(this._domNode);_e.target!==this.selection&&this.onDidChangePosition(_e.offsetX,_e.offsetY),this.monitor.startMonitoring(_e.target,_e.pointerId,_e.buttons,Ie=>this.onDidChangePosition(Ie.pageX-ue.left,Ie.pageY-ue.top),()=>null);const ve=c.nm(document,c.tw.POINTER_UP,()=>{this._onColorFlushed.fire(),ve.dispose(),this.monitor&&(this.monitor.stopMonitoring(!0),this.monitor=null)},!0)}onDidChangePosition(_e,ue){const ve=Math.max(0,Math.min(1,_e/this.width)),Ie=Math.max(0,Math.min(1,1-ue/this.height));this.paintSelection(ve,Ie),this._onDidChange.fire({s:ve,v:Ie})}layout(){this.width=this._domNode.offsetWidth,this.height=this._domNode.offsetHeight,this._canvas.width=this.width*this.pixelRatio,this._canvas.height=this.height*this.pixelRatio,this.paint();const _e=this.model.color.hsva;this.paintSelection(_e.s,_e.v)}paint(){const ue=new r.Il(new r.tx(this.model.color.hsva.h,1,1,1)),ve=this._canvas.getContext("2d"),Ie=ve.createLinearGradient(0,0,this._canvas.width,0);Ie.addColorStop(0,"rgba(255, 255, 255, 1)"),Ie.addColorStop(.5,"rgba(255, 255, 255, 0.5)"),Ie.addColorStop(1,"rgba(255, 255, 255, 0)");const Se=ve.createLinearGradient(0,0,0,this._canvas.height);Se.addColorStop(0,"rgba(0, 0, 0, 0)"),Se.addColorStop(1,"rgba(0, 0, 0, 1)"),ve.rect(0,0,this._canvas.width,this._canvas.height),ve.fillStyle=r.Il.Format.CSS.format(ue),ve.fill(),ve.fillStyle=Ie,ve.fill(),ve.fillStyle=Se,ve.fill()}paintSelection(_e,ue){this.selection.style.left=_e*this.width+"px",this.selection.style.top=this.height-ue*this.height+"px"}onDidChangeColor(_e){if(this.monitor&&this.monitor.isMonitoring())return;this.paint();const ue=_e.hsva;this.paintSelection(ue.s,ue.v)}}class R extends y.JT{constructor(_e,ue,ve=!1){super(),this.model=ue,this._onDidChange=new E.Q5,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new E.Q5,this.onColorFlushed=this._onColorFlushed.event,ve?(this.domNode=c.R3(_e,w(".standalone-strip")),this.overlay=c.R3(this.domNode,w(".standalone-overlay"))):(this.domNode=c.R3(_e,w(".strip")),this.overlay=c.R3(this.domNode,w(".overlay"))),this.slider=c.R3(this.domNode,w(".slider")),this.slider.style.top="0px",this._register(c.nm(this.domNode,c.tw.POINTER_DOWN,Ie=>this.onPointerDown(Ie))),this._register(ue.onDidChangeColor(this.onDidChangeColor,this)),this.layout()}layout(){this.height=this.domNode.offsetHeight-this.slider.offsetHeight;const _e=this.getValue(this.model.color);this.updateSliderPosition(_e)}onDidChangeColor(_e){const ue=this.getValue(_e);this.updateSliderPosition(ue)}onPointerDown(_e){if(!(_e.target&&_e.target instanceof Element))return;const ue=this._register(new u.C),ve=c.i(this.domNode);this.domNode.classList.add("grabbing"),_e.target!==this.slider&&this.onDidChangeTop(_e.offsetY),ue.startMonitoring(_e.target,_e.pointerId,_e.buttons,Se=>this.onDidChangeTop(Se.pageY-ve.top),()=>null);const Ie=c.nm(document,c.tw.POINTER_UP,()=>{this._onColorFlushed.fire(),Ie.dispose(),ue.stopMonitoring(!0),this.domNode.classList.remove("grabbing")},!0)}onDidChangeTop(_e){const ue=Math.max(0,Math.min(1,1-_e/this.height));this.updateSliderPosition(ue),this._onDidChange.fire(ue)}updateSliderPosition(_e){this.slider.style.top=(1-_e)*this.height+"px"}}class O extends R{constructor(_e,ue,ve=!1){super(_e,ue,ve),this.domNode.classList.add("opacity-strip"),this.onDidChangeColor(this.model.color)}onDidChangeColor(_e){super.onDidChangeColor(_e);const{r:ue,g:ve,b:Ie}=_e.rgba,Se=new r.Il(new r.VS(ue,ve,Ie,1)),Ve=new r.Il(new r.VS(ue,ve,Ie,0));this.overlay.style.background=`linear-gradient(to bottom, ${Se} 0%, ${Ve} 100%)`}getValue(_e){return _e.hsva.a}}class W extends R{constructor(_e,ue,ve=!1){super(_e,ue,ve),this.domNode.classList.add("hue-strip")}getValue(_e){return 1-_e.hsva.h/360}}class z extends y.JT{constructor(_e){super(),this._onClicked=this._register(new E.Q5),this.onClicked=this._onClicked.event,this._button=c.R3(_e,document.createElement("button")),this._button.classList.add("insert-button"),this._button.textContent="Insert",this._button.onclick=ue=>{this._onClicked.fire()}}get button(){return this._button}}class U extends g.${constructor(_e,ue,ve,Ie,Se=!1){super(),this.model=ue,this.pixelRatio=ve,this._register(p.Tz.onDidChange(()=>this.layout()));const Ve=w(".colorpicker-widget");_e.appendChild(Ve),this.header=this._register(new D(Ve,this.model,Ie,Se)),this.body=this._register(new A(Ve,this.model,this.pixelRatio,Se))}layout(){this.body.layout()}}var ee=e(23527),B=function(ge,_e,ue,ve){var Ve,Ie=arguments.length,Se=Ie<3?_e:null===ve?ve=Object.getOwnPropertyDescriptor(_e,ue):ve;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Se=Reflect.decorate(ge,_e,ue,ve);else for(var De=ge.length-1;De>=0;De--)(Ve=ge[De])&&(Se=(Ie<3?Ve(Se):Ie>3?Ve(_e,ue,Se):Ve(_e,ue))||Se);return Ie>3&&Se&&Object.defineProperty(_e,ue,Se),Se},G=function(ge,_e){return function(ue,ve){_e(ue,ve,ge)}},se=function(ge,_e,ue,ve){return new(ue||(ue=Promise))(function(Se,Ve){function De(Y){try{oe(ve.next(Y))}catch(x){Ve(x)}}function ye(Y){try{oe(ve.throw(Y))}catch(x){Ve(x)}}function oe(Y){Y.done?Se(Y.value):function Ie(Se){return Se instanceof ue?Se:new ue(function(Ve){Ve(Se)})}(Y.value).then(De,ye)}oe((ve=ve.apply(ge,_e||[])).next())})};class j{constructor(_e,ue,ve,Ie){this.owner=_e,this.range=ue,this.model=ve,this.provider=Ie,this.forceShowAtRange=!0}isValidForHoverAnchor(_e){return 1===_e.type&&this.range.startColumn<=_e.range.startColumn&&this.range.endColumn>=_e.range.endColumn}}let $=class{constructor(_e,ue){this._editor=_e,this._themeService=ue,this.hoverOrdinal=2}computeSync(_e,ue){return[]}computeAsync(_e,ue,ve){return f.Aq.fromPromise(this._computeAsync(_e,ue,ve))}_computeAsync(_e,ue,ve){return se(this,void 0,void 0,function*(){if(!this._editor.hasModel())return[];const Ie=T.if.get(this._editor);if(!Ie)return[];for(const Se of ue){if(!Ie.isColorDecoration(Se))continue;const Ve=Ie.getColorData(Se.range.getStartPosition());if(Ve)return[yield te(this,this._editor.getModel(),Ve.colorInfo,Ve.provider)]}return[]})}renderHoverParts(_e,ue){return ne(this,this._editor,this._themeService,ue,_e)}};$=B([G(1,ee.XE)],$);class K{constructor(_e,ue,ve,Ie){this.owner=_e,this.range=ue,this.model=ve,this.provider=Ie}}let J=class{constructor(_e,ue){this._editor=_e,this._themeService=ue,this._color=null}createColorHover(_e,ue,ve){return se(this,void 0,void 0,function*(){if(!this._editor.hasModel()||!T.if.get(this._editor))return null;const Se=yield(0,S.E)(ve,this._editor.getModel(),P.T.None);let Ve=null,De=null;for(const x of Se){const F=x.colorInfo;v.e.containsRange(F.range,_e.range)&&(Ve=F,De=x.provider)}const ye=Ve??_e,oe=De??ue,Y=!!Ve;return{colorHover:yield te(this,this._editor.getModel(),ye,oe),foundInEditor:Y}})}updateEditorModel(_e){return se(this,void 0,void 0,function*(){if(!this._editor.hasModel())return;const ue=_e.model;let ve=new v.e(_e.range.startLineNumber,_e.range.startColumn,_e.range.endLineNumber,_e.range.endColumn);this._color&&(yield ae(this._editor.getModel(),ue,this._color,ve,_e),ve=_(this._editor,ve,ue))})}renderHoverParts(_e,ue){return ne(this,this._editor,this._themeService,ue,_e)}set color(_e){this._color=_e}get color(){return this._color}};function te(ge,_e,ue,ve){return se(this,void 0,void 0,function*(){const Ie=_e.getValueInRange(ue.range),{red:Se,green:Ve,blue:De,alpha:ye}=ue.color,oe=new r.VS(Math.round(255*Se),Math.round(255*Ve),Math.round(255*De),ye),Y=new r.Il(oe),x=yield(0,S.R)(_e,ue,ve,P.T.None),F=new L(Y,[],0);return F.colorPresentations=x||[],F.guessColorPresentation(Y,Ie),ge instanceof $?new j(ge,v.e.lift(ue.range),F,ve):new K(ge,v.e.lift(ue.range),F,ve)})}function ne(ge,_e,ue,ve,Ie){if(0===ve.length||!_e.hasModel())return y.JT.None;if(Ie.setMinimumDimensions){const F=_e.getOption(65)+8;Ie.setMinimumDimensions(new c.Ro(302,F))}const Se=new y.SL,Ve=ve[0],De=_e.getModel(),ye=Ve.model,oe=Se.add(new U(Ie.fragment,ye,_e.getOption(140),ue,ge instanceof J));Ie.setColorPicker(oe);let Y=!1,x=new v.e(Ve.range.startLineNumber,Ve.range.startColumn,Ve.range.endLineNumber,Ve.range.endColumn);if(ge instanceof J){const F=ve[0].model.color;ge.color=F,ae(De,ye,F,x,Ve),Se.add(ye.onColorFlushed(ie=>{ge.color=ie}))}else Se.add(ye.onColorFlushed(F=>se(this,void 0,void 0,function*(){yield ae(De,ye,F,x,Ve),Y=!0,x=_(_e,x,ye,Ie)})));return Se.add(ye.onDidChangeColor(F=>{ae(De,ye,F,x,Ve)})),Se.add(_e.onDidChangeModelContent(F=>{Y?Y=!1:(Ie.hide(),_e.focus())})),Se}function _(ge,_e,ue,ve){let Ie,Se;if(ue.presentation.textEdit){Ie=[ue.presentation.textEdit],Se=new v.e(ue.presentation.textEdit.range.startLineNumber,ue.presentation.textEdit.range.startColumn,ue.presentation.textEdit.range.endLineNumber,ue.presentation.textEdit.range.endColumn);const Ve=ge.getModel()._setTrackedRange(null,Se,3);ge.pushUndoStop(),ge.executeEdits("colorpicker",Ie),Se=ge.getModel()._getTrackedRange(Ve)||Se}else Ie=[{range:_e,text:ue.presentation.label,forceMoveMarkers:!1}],Se=_e.setEndPosition(_e.endLineNumber,_e.startColumn+ue.presentation.label.length),ge.pushUndoStop(),ge.executeEdits("colorpicker",Ie);return ue.presentation.additionalTextEdits&&(Ie=[...ue.presentation.additionalTextEdits],ge.executeEdits("colorpicker",Ie),ve&&ve.hide()),ge.pushUndoStop(),Se}function ae(ge,_e,ue,ve,Ie){return se(this,void 0,void 0,function*(){const Se=yield(0,S.R)(ge,{range:ve,color:{red:ue.rgba.r/255,green:ue.rgba.g/255,blue:ue.rgba.b/255,alpha:ue.rgba.a}},Ie.provider,P.T.None);_e.colorPresentations=Se||[]})}J=B([G(1,ee.XE)],J)},88757:(Xe,we,e)=>{e.d(we,{G:()=>c});var f=e(90888),P=e(11714),r=e(41204),y=e(58459),v=e(78694),S=e(55763),T=e(65058),L=function(g,i){return function(d,a){i(d,a,g)}};class c{constructor(i,d){this._editorWorkerClient=new P.Q8(i,!1,"editorWorkerService",d)}provideDocumentColors(i,d){return function(g,i,d,a){return new(d||(d=Promise))(function(l,I){function w(A){try{N(a.next(A))}catch(k){I(k)}}function D(A){try{N(a.throw(A))}catch(k){I(k)}}function N(A){A.done?l(A.value):function m(l){return l instanceof d?l:new d(function(I){I(l)})}(A.value).then(w,D)}N((a=a.apply(g,i||[])).next())})}(this,void 0,void 0,function*(){return this._editorWorkerClient.computeDefaultDocumentColors(i.uri)})}provideColorPresentations(i,d,a){const m=d.range,l=d.color,I=l.alpha,w=new f.Il(new f.VS(Math.round(255*l.red),Math.round(255*l.green),Math.round(255*l.blue),I)),D=I?f.Il.Format.CSS.formatRGB(w):f.Il.Format.CSS.formatRGBA(w),N=I?f.Il.Format.CSS.formatHSL(w):f.Il.Format.CSS.formatHSLA(w),A=I?f.Il.Format.CSS.formatHex(w):f.Il.Format.CSS.formatHexA(w),k=[];return k.push({label:D,textEdit:{range:m,text:D}}),k.push({label:N,textEdit:{range:m,text:N}}),k.push({label:A,textEdit:{range:m,text:A}}),k}}let u=class extends v.JT{constructor(i,d,a){super(),this._register(a.colorProvider.register("*",new c(i,d)))}};u=function(g,i,d,a){var I,m=arguments.length,l=m<3?i:null===a?a=Object.getOwnPropertyDescriptor(i,d):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(g,i,d,a);else for(var w=g.length-1;w>=0;w--)(I=g[w])&&(l=(m<3?I(l):m>3?I(i,d,l):I(i,d))||l);return m>3&&l&&Object.defineProperty(i,d,l),l}([L(0,r.q),L(1,y.c_),L(2,S.p)],u),(0,T.y)(u)},83402:(Xe,we,e)=>{var w,D,f=e(8256),P=e(37190),r=e(78694),y=e(86868),v=e(12065),S=e(10604),T=e(21536),E=e(58178),L=e(55763),p=e(15446),c=e(66221),u=e(41204),g=e(58459),i=e(88757),d=e(20274),m=(e(39587),function(B,G,se,j){var J,$=arguments.length,K=$<3?G:null===j?j=Object.getOwnPropertyDescriptor(G,se):j;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)K=Reflect.decorate(B,G,se,j);else for(var te=B.length-1;te>=0;te--)(J=B[te])&&(K=($<3?J(K):$>3?J(G,se,K):J(G,se))||K);return $>3&&K&&Object.defineProperty(G,se,K),K}),l=function(B,G){return function(se,j){G(se,j,B)}},I=function(B,G,se,j){return new(se||(se=Promise))(function(K,J){function te(ae){try{_(j.next(ae))}catch(ge){J(ge)}}function ne(ae){try{_(j.throw(ae))}catch(ge){J(ge)}}function _(ae){ae.done?K(ae.value):function $(K){return K instanceof se?K:new se(function(J){J(K)})}(ae.value).then(te,ne)}_((j=j.apply(B,G||[])).next())})};let N=w=class extends r.JT{constructor(G,se,j,$,K,J,te){super(),this._editor=G,this._modelService=j,this._keybindingService=$,this._instantiationService=K,this._languageFeatureService=J,this._languageConfigurationService=te,this._standaloneColorPickerWidget=null,this._standaloneColorPickerVisible=p.u.standaloneColorPickerVisible.bindTo(se),this._standaloneColorPickerFocused=p.u.standaloneColorPickerFocused.bindTo(se)}showOrFocus(){var G;this._editor.hasModel()&&(this._standaloneColorPickerVisible.get()?this._standaloneColorPickerFocused.get()||null===(G=this._standaloneColorPickerWidget)||void 0===G||G.focus():this._standaloneColorPickerWidget=new R(this._editor,this._standaloneColorPickerVisible,this._standaloneColorPickerFocused,this._instantiationService,this._modelService,this._keybindingService,this._languageFeatureService,this._languageConfigurationService))}hide(){var G;this._standaloneColorPickerFocused.set(!1),this._standaloneColorPickerVisible.set(!1),null===(G=this._standaloneColorPickerWidget)||void 0===G||G.hide(),this._editor.focus()}insertColor(){var G;null===(G=this._standaloneColorPickerWidget)||void 0===G||G.updateEditor(),this.hide()}static get(G){return G.getContribution(w.ID)}};N.ID="editor.contrib.standaloneColorPickerController",N=w=m([l(1,c.i6),l(2,u.q),l(3,T.d),l(4,v.TG),l(5,L.p),l(6,g.c_)],N),(0,f._K)(N.ID,N,1);let R=D=class extends r.JT{constructor(G,se,j,$,K,J,te,ne){var _;super(),this._editor=G,this._standaloneColorPickerVisible=se,this._standaloneColorPickerFocused=j,this._modelService=K,this._keybindingService=J,this._languageFeaturesService=te,this._languageConfigurationService=ne,this.allowEditorOverflow=!0,this._position=void 0,this._body=document.createElement("div"),this._colorHover=null,this._selectionSetInEditor=!1,this._onResult=this._register(new E.Q5),this.onResult=this._onResult.event,this._standaloneColorPickerVisible.set(!0),this._standaloneColorPickerParticipant=$.createInstance(y.PQ,this._editor),this._position=null===(_=this._editor._getViewModel())||void 0===_?void 0:_.getPrimaryCursorState().modelState.position;const ae=this._editor.getSelection(),ge=ae?{startLineNumber:ae.startLineNumber,startColumn:ae.startColumn,endLineNumber:ae.endLineNumber,endColumn:ae.endColumn}:{startLineNumber:0,endLineNumber:0,endColumn:0,startColumn:0},_e=this._register(d.go(this._body));this._register(_e.onDidBlur(ue=>{this.hide()})),this._register(_e.onDidFocus(ue=>{this.focus()})),this._register(this._editor.onDidChangeCursorPosition(()=>{this._selectionSetInEditor?this._selectionSetInEditor=!1:this.hide()})),this._register(this._editor.onMouseMove(ue=>{var ve;const Ie=null===(ve=ue.target.element)||void 0===ve?void 0:ve.classList;Ie&&Ie.contains("colorpicker-color-decoration")&&this.hide()})),this._register(this.onResult(ue=>{this._render(ue.value,ue.foundInEditor)})),this._start(ge),this._body.style.zIndex="50",this._editor.addContentWidget(this)}updateEditor(){this._colorHover&&this._standaloneColorPickerParticipant.updateEditorModel(this._colorHover)}getId(){return D.ID}getDomNode(){return this._body}getPosition(){if(!this._position)return null;const G=this._editor.getOption(59).above;return{position:this._position,secondaryPosition:this._position,preference:G?[1,2]:[2,1],positionAffinity:2}}hide(){this.dispose(),this._standaloneColorPickerVisible.set(!1),this._standaloneColorPickerFocused.set(!1),this._editor.removeContentWidget(this),this._editor.focus()}focus(){this._standaloneColorPickerFocused.set(!0),this._body.focus()}_start(G){return I(this,void 0,void 0,function*(){const se=yield this._computeAsync(G);se&&this._onResult.fire(new O(se.result,se.foundInEditor))})}_computeAsync(G){return I(this,void 0,void 0,function*(){if(!this._editor.hasModel())return null;const se={range:G,color:{red:0,green:0,blue:0,alpha:1}},j=yield this._standaloneColorPickerParticipant.createColorHover(se,new i.G(this._modelService,this._languageConfigurationService),this._languageFeaturesService.colorProvider);return j?{result:j.colorHover,foundInEditor:j.foundInEditor}:null})}_render(G,se){const j=document.createDocumentFragment();let K;const J={fragment:j,statusBar:this._register(new S.mR(this._keybindingService)),setColorPicker:Ie=>K=Ie,onContentsChanged:()=>{},hide:()=>this.hide()};if(this._colorHover=G,this._register(this._standaloneColorPickerParticipant.renderHoverParts(J,[G])),void 0===K)return;this._body.classList.add("standalone-colorpicker-body"),this._body.style.maxHeight=Math.max(this._editor.getLayoutInfo().height/4,250)+"px",this._body.style.maxWidth=Math.max(.66*this._editor.getLayoutInfo().width,500)+"px",this._body.tabIndex=0,this._body.appendChild(j),K.layout();const te=K.body,ne=te.saturationBox.domNode.clientWidth,_=te.domNode.clientWidth-ne-22-8,ae=K.body.enterButton;ae?.onClicked(()=>{this.updateEditor(),this.hide()});const ge=K.header;ge.pickedColorNode.style.width=ne+8+"px",ge.originalColorNode.style.width=_+"px";const ve=K.header.closeButton;ve?.onClicked(()=>{this.hide()}),se&&(ae&&(ae.button.textContent="Replace"),this._selectionSetInEditor=!0,this._editor.setSelection(G.range)),this._editor.layoutContentWidget(this)}};R.ID="editor.contrib.standaloneColorPickerWidget",R=D=m([l(3,v.TG),l(4,u.q),l(5,T.d),l(6,L.p),l(7,g.c_)],R);class O{constructor(G,se){this.value=G,this.foundInEditor=se}}var W=e(63032);(0,f.Qr)(class U extends f.R6{constructor(){super({id:"editor.action.hideColorPicker",label:(0,P.NC)({key:"hideColorPicker",comment:["Action that hides the color picker"]},"Hide the Color Picker"),alias:"Hide the Color Picker",precondition:p.u.standaloneColorPickerVisible.isEqualTo(!0),kbOpts:{primary:9,weight:100}})}run(G,se){var j;null===(j=N.get(se))||void 0===j||j.hide()}}),(0,f.Qr)(class ee extends f.R6{constructor(){super({id:"editor.action.insertColorWithStandaloneColorPicker",label:(0,P.NC)({key:"insertColorWithStandaloneColorPicker",comment:["Action that inserts color with standalone color picker"]},"Insert Color with Standalone Color Picker"),alias:"Insert Color with Standalone Color Picker",precondition:p.u.standaloneColorPickerFocused.isEqualTo(!0),kbOpts:{primary:3,weight:100}})}run(G,se){var j;null===(j=N.get(se))||void 0===j||j.insertColor()}}),(0,W.r1)(class z extends f.x1{constructor(){super({id:"editor.action.showOrFocusStandaloneColorPicker",title:{value:(0,P.NC)("showOrFocusStandaloneColorPicker","Show or Focus Standalone Color Picker"),mnemonicTitle:(0,P.NC)({key:"mishowOrFocusStandaloneColorPicker",comment:["&& denotes a mnemonic"]},"&&Show or Focus Standalone Color Picker"),original:"Show or Focus Standalone Color Picker"},precondition:void 0,menu:[{id:W.eH.CommandPalette}]})}runEditorCommand(G,se){var j;null===(j=N.get(se))||void 0===j||j.showOrFocus()}})},67120:(Xe,we,e)=>{var f=e(48994),P=e(8256),r=e(96726),y=e(15446),v=e(58459),S=e(20158),T=e(68678),E=e(81534);class L{constructor(w,D,N){this.languageConfigurationService=N,this._selection=w,this._insertSpace=D,this._usedEndToken=null}static _haystackHasNeedleAtOffset(w,D,N){if(N<0)return!1;const A=D.length;if(N+A>w.length)return!1;for(let R=0;R<A;R++){const O=w.charCodeAt(N+R),W=D.charCodeAt(R);if(!(O===W||O>=65&&O<=90&&O+32===W||W>=65&&W<=90&&W+32===O))return!1}return!0}_createOperationsForBlockComment(w,D,N,A,k,R){const O=w.startLineNumber,W=w.startColumn,z=w.endLineNumber,U=w.endColumn,ee=k.getLineContent(O),B=k.getLineContent(z);let j,G=ee.lastIndexOf(D,W-1+D.length),se=B.indexOf(N,U-1-N.length);if(-1!==G&&-1!==se)if(O===z)ee.substring(G+D.length,se).indexOf(N)>=0&&(G=-1,se=-1);else{const $=ee.substring(G+D.length),K=B.substring(0,se);($.indexOf(N)>=0||K.indexOf(N)>=0)&&(G=-1,se=-1)}-1!==G&&-1!==se?(A&&G+D.length<ee.length&&32===ee.charCodeAt(G+D.length)&&(D+=" "),A&&se>0&&32===B.charCodeAt(se-1)&&(N=" "+N,se-=1),j=L._createRemoveBlockCommentOperations(new r.e(O,G+D.length+1,z,se+1),D,N)):(j=L._createAddBlockCommentOperations(w,D,N,this._insertSpace),this._usedEndToken=1===j.length?N:null);for(const $ of j)R.addTrackedEditOperation($.range,$.text)}static _createRemoveBlockCommentOperations(w,D,N){const A=[];return r.e.isEmpty(w)?A.push(S.h.delete(new r.e(w.startLineNumber,w.startColumn-D.length,w.endLineNumber,w.endColumn+N.length))):(A.push(S.h.delete(new r.e(w.startLineNumber,w.startColumn-D.length,w.startLineNumber,w.startColumn))),A.push(S.h.delete(new r.e(w.endLineNumber,w.endColumn,w.endLineNumber,w.endColumn+N.length)))),A}static _createAddBlockCommentOperations(w,D,N,A){const k=[];return r.e.isEmpty(w)?k.push(S.h.replace(new r.e(w.startLineNumber,w.startColumn,w.endLineNumber,w.endColumn),D+"  "+N)):(k.push(S.h.insert(new T.L(w.startLineNumber,w.startColumn),D+(A?" ":""))),k.push(S.h.insert(new T.L(w.endLineNumber,w.endColumn),(A?" ":"")+N))),k}getEditOperations(w,D){const N=this._selection.startLineNumber,A=this._selection.startColumn;w.tokenization.tokenizeIfCheap(N);const k=w.getLanguageIdAtPosition(N,A),R=this.languageConfigurationService.getLanguageConfiguration(k).comments;!R||!R.blockCommentStartToken||!R.blockCommentEndToken||this._createOperationsForBlockComment(this._selection,R.blockCommentStartToken,R.blockCommentEndToken,this._insertSpace,w,D)}computeCursorState(w,D){const N=D.getInverseEditOperations();if(2===N.length){const A=N[0],k=N[1];return new E.Y(A.range.endLineNumber,A.range.endColumn,k.range.startLineNumber,k.range.startColumn)}{const A=N[0].range,k=this._usedEndToken?-this._usedEndToken.length-1:0;return new E.Y(A.endLineNumber,A.endColumn+k,A.endLineNumber,A.endColumn+k)}}}var p=e(16055);class c{constructor(w,D,N,A,k,R,O){this.languageConfigurationService=w,this._selection=D,this._tabSize=N,this._type=A,this._insertSpace=k,this._selectionId=null,this._deltaColumn=0,this._moveEndPositionDown=!1,this._ignoreEmptyLines=R,this._ignoreFirstLine=O||!1}static _gatherPreflightCommentStrings(w,D,N,A){w.tokenization.tokenizeIfCheap(D);const k=w.getLanguageIdAtPosition(D,1),R=A.getLanguageConfiguration(k).comments,O=R?R.lineCommentToken:null;if(!O)return null;const W=[];for(let z=0,U=N-D+1;z<U;z++)W[z]={ignore:!1,commentStr:O,commentStrOffset:0,commentStrLength:O.length};return W}static _analyzeLines(w,D,N,A,k,R,O,W){let U,z=!0;U=0===w||1!==w;for(let ee=0,B=A.length;ee<B;ee++){const G=A[ee],se=k+ee;if(se===k&&O){G.ignore=!0;continue}const j=N.getLineContent(se),$=p.LC(j);if(-1!==$){if(z=!1,G.ignore=!1,G.commentStrOffset=$,U&&!L._haystackHasNeedleAtOffset(j,G.commentStr,$)&&(0===w?U=!1:1===w||(G.ignore=!0)),U&&D){const K=$+G.commentStrLength;K<j.length&&32===j.charCodeAt(K)&&(G.commentStrLength+=1)}}else G.ignore=R,G.commentStrOffset=j.length}if(0===w&&z){U=!1;for(let ee=0,B=A.length;ee<B;ee++)A[ee].ignore=!1}return{supported:!0,shouldRemoveComments:U,lines:A}}static _gatherPreflightData(w,D,N,A,k,R,O,W){const z=c._gatherPreflightCommentStrings(N,A,k,W);return null===z?{supported:!1}:c._analyzeLines(w,D,N,z,A,R,O,W)}_executeLineComments(w,D,N,A){let k;N.shouldRemoveComments?k=c._createRemoveLineCommentsOperations(N.lines,A.startLineNumber):(c._normalizeInsertionPoint(w,N.lines,A.startLineNumber,this._tabSize),k=this._createAddLineCommentsOperations(N.lines,A.startLineNumber));const R=new T.L(A.positionLineNumber,A.positionColumn);for(let O=0,W=k.length;O<W;O++)D.addEditOperation(k[O].range,k[O].text),r.e.isEmpty(k[O].range)&&r.e.getStartPosition(k[O].range).equals(R)&&w.getLineContent(R.lineNumber).length+1===R.column&&(this._deltaColumn=(k[O].text||"").length);this._selectionId=D.trackSelection(A)}_attemptRemoveBlockComment(w,D,N,A){let k=D.startLineNumber,R=D.endLineNumber;const O=A.length+Math.max(w.getLineFirstNonWhitespaceColumn(D.startLineNumber),D.startColumn);let W=w.getLineContent(k).lastIndexOf(N,O-1),z=w.getLineContent(R).indexOf(A,D.endColumn-1-N.length);return-1!==W&&-1===z&&(z=w.getLineContent(k).indexOf(A,W+N.length),R=k),-1===W&&-1!==z&&(W=w.getLineContent(R).lastIndexOf(N,z),k=R),D.isEmpty()&&(-1===W||-1===z)&&(W=w.getLineContent(k).indexOf(N),-1!==W&&(z=w.getLineContent(k).indexOf(A,W+N.length))),-1!==W&&32===w.getLineContent(k).charCodeAt(W+N.length)&&(N+=" "),-1!==z&&32===w.getLineContent(R).charCodeAt(z-1)&&(A=" "+A,z-=1),-1!==W&&-1!==z?L._createRemoveBlockCommentOperations(new r.e(k,W+N.length+1,R,z+1),N,A):null}_executeBlockComment(w,D,N){w.tokenization.tokenizeIfCheap(N.startLineNumber);const A=w.getLanguageIdAtPosition(N.startLineNumber,1),k=this.languageConfigurationService.getLanguageConfiguration(A).comments;if(!k||!k.blockCommentStartToken||!k.blockCommentEndToken)return;const R=k.blockCommentStartToken,O=k.blockCommentEndToken;let W=this._attemptRemoveBlockComment(w,N,R,O);if(!W){if(N.isEmpty()){const z=w.getLineContent(N.startLineNumber);let U=p.LC(z);-1===U&&(U=z.length),W=L._createAddBlockCommentOperations(new r.e(N.startLineNumber,U+1,N.startLineNumber,z.length+1),R,O,this._insertSpace)}else W=L._createAddBlockCommentOperations(new r.e(N.startLineNumber,w.getLineFirstNonWhitespaceColumn(N.startLineNumber),N.endLineNumber,w.getLineMaxColumn(N.endLineNumber)),R,O,this._insertSpace);1===W.length&&(this._deltaColumn=R.length+1)}this._selectionId=D.trackSelection(N);for(const z of W)D.addEditOperation(z.range,z.text)}getEditOperations(w,D){let N=this._selection;if(this._moveEndPositionDown=!1,N.startLineNumber===N.endLineNumber&&this._ignoreFirstLine)return D.addEditOperation(new r.e(N.startLineNumber,w.getLineMaxColumn(N.startLineNumber),N.startLineNumber+1,1),N.startLineNumber===w.getLineCount()?"":"\n"),void(this._selectionId=D.trackSelection(N));N.startLineNumber<N.endLineNumber&&1===N.endColumn&&(this._moveEndPositionDown=!0,N=N.setEndPosition(N.endLineNumber-1,w.getLineMaxColumn(N.endLineNumber-1)));const A=c._gatherPreflightData(this._type,this._insertSpace,w,N.startLineNumber,N.endLineNumber,this._ignoreEmptyLines,this._ignoreFirstLine,this.languageConfigurationService);return A.supported?this._executeLineComments(w,D,A,N):this._executeBlockComment(w,D,N)}computeCursorState(w,D){let N=D.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(N=N.setEndPosition(N.endLineNumber+1,1)),new E.Y(N.selectionStartLineNumber,N.selectionStartColumn+this._deltaColumn,N.positionLineNumber,N.positionColumn+this._deltaColumn)}static _createRemoveLineCommentsOperations(w,D){const N=[];for(let A=0,k=w.length;A<k;A++){const R=w[A];R.ignore||N.push(S.h.delete(new r.e(D+A,R.commentStrOffset+1,D+A,R.commentStrOffset+R.commentStrLength+1)))}return N}_createAddLineCommentsOperations(w,D){const N=[],A=this._insertSpace?" ":"";for(let k=0,R=w.length;k<R;k++){const O=w[k];O.ignore||N.push(S.h.insert(new T.L(D+k,O.commentStrOffset+1),O.commentStr+A))}return N}static nextVisibleColumn(w,D,N,A){return N?w+(D-w%D):w+A}static _normalizeInsertionPoint(w,D,N,A){let R,O,k=1073741824;for(let W=0,z=D.length;W<z;W++){if(D[W].ignore)continue;const U=w.getLineContent(N+W);let ee=0;for(let B=0,G=D[W].commentStrOffset;ee<k&&B<G;B++)ee=c.nextVisibleColumn(ee,A,9===U.charCodeAt(B),1);ee<k&&(k=ee)}k=Math.floor(k/A)*A;for(let W=0,z=D.length;W<z;W++){if(D[W].ignore)continue;const U=w.getLineContent(N+W);let ee=0;for(R=0,O=D[W].commentStrOffset;ee<k&&R<O;R++)ee=c.nextVisibleColumn(ee,A,9===U.charCodeAt(R),1);D[W].commentStrOffset=ee>k?R-1:R}}}var u=e(37190),g=e(63032);class i extends P.R6{constructor(w,D){super(D),this._type=w}run(w,D){const N=w.get(v.c_);if(!D.hasModel())return;const k=[],R=D.getModel().getOptions(),O=D.getOption(22),W=D.getSelections().map((U,ee)=>({selection:U,index:ee,ignoreFirstLine:!1}));W.sort((U,ee)=>r.e.compareRangesUsingStarts(U.selection,ee.selection));let z=W[0];for(let U=1;U<W.length;U++){const ee=W[U];z.selection.endLineNumber===ee.selection.startLineNumber&&(z.index<ee.index?ee.ignoreFirstLine=!0:(z.ignoreFirstLine=!0,z=ee))}for(const U of W)k.push(new c(N,U.selection,R.tabSize,this._type,O.insertSpace,O.ignoreEmptyLines,U.ignoreFirstLine));D.pushUndoStop(),D.executeCommands(this.id,k),D.pushUndoStop()}}(0,P.Qr)(class d extends i{constructor(){super(0,{id:"editor.action.commentLine",label:u.NC("comment.line","Toggle Line Comment"),alias:"Toggle Line Comment",precondition:y.u.writable,kbOpts:{kbExpr:y.u.editorTextFocus,primary:2138,weight:100},menuOpts:{menuId:g.eH.MenubarEditMenu,group:"5_insert",title:u.NC({key:"miToggleLineComment",comment:["&& denotes a mnemonic"]},"&&Toggle Line Comment"),order:1}})}}),(0,P.Qr)(class a extends i{constructor(){super(1,{id:"editor.action.addCommentLine",label:u.NC("comment.line.add","Add Line Comment"),alias:"Add Line Comment",precondition:y.u.writable,kbOpts:{kbExpr:y.u.editorTextFocus,primary:(0,f.gx)(2089,2081),weight:100}})}}),(0,P.Qr)(class m extends i{constructor(){super(2,{id:"editor.action.removeCommentLine",label:u.NC("comment.line.remove","Remove Line Comment"),alias:"Remove Line Comment",precondition:y.u.writable,kbOpts:{kbExpr:y.u.editorTextFocus,primary:(0,f.gx)(2089,2099),weight:100}})}}),(0,P.Qr)(class l extends P.R6{constructor(){super({id:"editor.action.blockComment",label:u.NC("comment.block","Toggle Block Comment"),alias:"Toggle Block Comment",precondition:y.u.writable,kbOpts:{kbExpr:y.u.editorTextFocus,primary:1567,linux:{primary:3103},weight:100},menuOpts:{menuId:g.eH.MenubarEditMenu,group:"5_insert",title:u.NC({key:"miToggleBlockComment",comment:["&& denotes a mnemonic"]},"Toggle &&Block Comment"),order:2}})}run(w,D){const N=w.get(v.c_);if(!D.hasModel())return;const A=D.getOption(22),k=[],R=D.getSelections();for(const O of R)k.push(new L(O,A.insertSpace,N));D.pushUndoStop(),D.executeCommands(this.id,k),D.pushUndoStop()}})},12816:(Xe,we,e)=>{var m,f=e(20274),P=e(42243),r=e(54457),y=e(78694),v=e(88593),S=e(8256),T=e(15446),E=e(37190),L=e(63032),p=e(66221),c=e(76485),u=e(21536),g=e(47358),i=e(45615),a=function(w,D){return function(N,A){D(N,A,w)}};let l=m=class{static get(D){return D.getContribution(m.ID)}constructor(D,N,A,k,R,O,W,z){this._contextMenuService=N,this._contextViewService=A,this._contextKeyService=k,this._keybindingService=R,this._menuService=O,this._configurationService=W,this._workspaceContextService=z,this._toDispose=new y.SL,this._contextMenuIsBeingShownCount=0,this._editor=D,this._toDispose.add(this._editor.onContextMenu(U=>this._onContextMenu(U))),this._toDispose.add(this._editor.onMouseWheel(U=>{if(this._contextMenuIsBeingShownCount>0){const ee=this._contextViewService.getContextViewElement(),B=U.srcElement;B.shadowRoot&&f.Ay(ee)===B.shadowRoot||this._contextViewService.hideContextView()}})),this._toDispose.add(this._editor.onKeyDown(U=>{this._editor.getOption(23)&&58===U.keyCode&&(U.preventDefault(),U.stopPropagation(),this.showContextMenu())}))}_onContextMenu(D){if(!this._editor.hasModel())return;if(!this._editor.getOption(23))return this._editor.focus(),void(D.target.position&&!this._editor.getSelection().containsPosition(D.target.position)&&this._editor.setPosition(D.target.position));if(12===D.target.type||6===D.target.type&&D.target.detail.injectedText)return;if(D.event.preventDefault(),D.event.stopPropagation(),11===D.target.type)return this._showScrollbarContextMenu(D.event);if(6!==D.target.type&&7!==D.target.type&&1!==D.target.type)return;if(this._editor.focus(),D.target.position){let A=!1;for(const k of this._editor.getSelections())if(k.containsPosition(D.target.position)){A=!0;break}A||this._editor.setPosition(D.target.position)}let N=null;1!==D.target.type&&(N=D.event),this.showContextMenu(N)}showContextMenu(D){if(!this._editor.getOption(23)||!this._editor.hasModel())return;const N=this._getMenuActions(this._editor.getModel(),this._editor.isSimpleWidget?L.eH.SimpleEditorContext:L.eH.EditorContext);N.length>0&&this._doShowContextMenu(N,D)}_getMenuActions(D,N){const A=[],k=this._menuService.createMenu(N,this._contextKeyService),R=k.getActions({arg:D.uri});k.dispose();for(const O of R){const[,W]=O;let z=0;for(const U of W)if(U instanceof L.NZ){const ee=this._getMenuActions(D,U.item.submenu);ee.length>0&&(A.push(new r.wY(U.id,U.label,ee)),z++)}else A.push(U),z++;z&&A.push(new r.Z0)}return A.length&&A.pop(),A}_doShowContextMenu(D,N=null){if(!this._editor.hasModel())return;const A=this._editor.getOption(59);this._editor.updateOptions({hover:{enabled:!1}});let k=N;if(!k){this._editor.revealPosition(this._editor.getPosition(),1),this._editor.render();const O=this._editor.getScrolledVisiblePosition(this._editor.getPosition()),W=f.i(this._editor.getDomNode());k={x:W.left+O.left,y:W.top+O.top+O.height}}const R=this._editor.getOption(125)&&!v.gn;this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:R?this._editor.getDomNode():void 0,getAnchor:()=>k,getActions:()=>D,getActionViewItem:O=>{const W=this._keybindingFor(O);return W?new P.gU(O,O,{label:!0,keybinding:W.getLabel(),isMenu:!0}):"function"==typeof O.getActionViewItem?O.getActionViewItem():new P.gU(O,O,{icon:!0,label:!0,isMenu:!0})},getKeyBinding:O=>this._keybindingFor(O),onHide:O=>{this._contextMenuIsBeingShownCount--,this._editor.updateOptions({hover:A})}})}_showScrollbarContextMenu(D){if(!this._editor.hasModel()||(0,i.x)(this._workspaceContextService.getWorkspace()))return;const N=this._editor.getOption(71);let A=0;const k=U=>({id:"menu-action-"+ ++A,label:U.label,tooltip:"",class:void 0,enabled:typeof U.enabled>"u"||U.enabled,checked:U.checked,run:U.run}),O=(U,ee,B,G,se)=>{if(!ee)return k({label:U,enabled:ee,run:()=>{}});const j=K=>()=>{this._configurationService.updateValue(B,K)},$=[];for(const K of se)$.push(k({label:K.label,checked:G===K.value,run:j(K.value)}));return((U,ee)=>new r.wY("menu-action-"+ ++A,U,ee,void 0))(U,$)},W=[];W.push(k({label:E.NC("context.minimap.minimap","Minimap"),checked:N.enabled,run:()=>{this._configurationService.updateValue("editor.minimap.enabled",!N.enabled)}})),W.push(new r.Z0),W.push(k({label:E.NC("context.minimap.renderCharacters","Render Characters"),enabled:N.enabled,checked:N.renderCharacters,run:()=>{this._configurationService.updateValue("editor.minimap.renderCharacters",!N.renderCharacters)}})),W.push(O(E.NC("context.minimap.size","Vertical size"),N.enabled,"editor.minimap.size",N.size,[{label:E.NC("context.minimap.size.proportional","Proportional"),value:"proportional"},{label:E.NC("context.minimap.size.fill","Fill"),value:"fill"},{label:E.NC("context.minimap.size.fit","Fit"),value:"fit"}])),W.push(O(E.NC("context.minimap.slider","Slider"),N.enabled,"editor.minimap.showSlider",N.showSlider,[{label:E.NC("context.minimap.slider.mouseover","Mouse Over"),value:"mouseover"},{label:E.NC("context.minimap.slider.always","Always"),value:"always"}]));const z=this._editor.getOption(125)&&!v.gn;this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:z?this._editor.getDomNode():void 0,getAnchor:()=>D,getActions:()=>W,onHide:U=>{this._contextMenuIsBeingShownCount--,this._editor.focus()}})}_keybindingFor(D){return this._keybindingService.lookupKeybinding(D.id)}dispose(){this._contextMenuIsBeingShownCount>0&&this._contextViewService.hideContextView(),this._toDispose.dispose()}};l.ID="editor.contrib.contextmenu",l=m=function(w,D,N,A){var O,k=arguments.length,R=k<3?D:null===A?A=Object.getOwnPropertyDescriptor(D,N):A;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)R=Reflect.decorate(w,D,N,A);else for(var W=w.length-1;W>=0;W--)(O=w[W])&&(R=(k<3?O(R):k>3?O(D,N,R):O(D,N))||R);return k>3&&R&&Object.defineProperty(D,N,R),R}([a(1,c.i),a(2,c.u),a(3,p.i6),a(4,u.d),a(5,L.co),a(6,g.Ui),a(7,i.ec)],l),(0,S._K)(l.ID,l,2),(0,S.Qr)(class I extends S.R6{constructor(){super({id:"editor.action.showContextMenu",label:E.NC("action.showContextMenu.label","Show Editor Context Menu"),alias:"Show Editor Context Menu",precondition:void 0,kbOpts:{kbExpr:T.u.textInputFocus,primary:1092,weight:100}})}run(D,N){var A;null===(A=l.get(N))||void 0===A||A.showContextMenu()}})},14864:(Xe,we,e)=>{var f=e(78694),P=e(8256),r=e(15446),y=e(37190);class v{constructor(c){this.selections=c}equals(c){const u=this.selections.length;if(u!==c.selections.length)return!1;for(let i=0;i<u;i++)if(!this.selections[i].equalsSelection(c.selections[i]))return!1;return!0}}class S{constructor(c,u,g){this.cursorState=c,this.scrollTop=u,this.scrollLeft=g}}let T=(()=>{class p extends f.JT{static get(u){return u.getContribution(p.ID)}constructor(u){super(),this._editor=u,this._isCursorUndoRedo=!1,this._undoStack=[],this._redoStack=[],this._register(u.onDidChangeModel(g=>{this._undoStack=[],this._redoStack=[]})),this._register(u.onDidChangeModelContent(g=>{this._undoStack=[],this._redoStack=[]})),this._register(u.onDidChangeCursorSelection(g=>{if(this._isCursorUndoRedo||!g.oldSelections||g.oldModelVersionId!==g.modelVersionId)return;const i=new v(g.oldSelections);this._undoStack.length>0&&this._undoStack[this._undoStack.length-1].cursorState.equals(i)||(this._undoStack.push(new S(i,u.getScrollTop(),u.getScrollLeft())),this._redoStack=[],this._undoStack.length>50&&this._undoStack.shift())}))}cursorUndo(){!this._editor.hasModel()||0===this._undoStack.length||(this._redoStack.push(new S(new v(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._undoStack.pop()))}cursorRedo(){!this._editor.hasModel()||0===this._redoStack.length||(this._undoStack.push(new S(new v(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._redoStack.pop()))}_applyState(u){this._isCursorUndoRedo=!0,this._editor.setSelections(u.cursorState.selections),this._editor.setScrollPosition({scrollTop:u.scrollTop,scrollLeft:u.scrollLeft}),this._isCursorUndoRedo=!1}}return p.ID="editor.contrib.cursorUndoRedoController",p})();(0,P._K)(T.ID,T,0),(0,P.Qr)(class E extends P.R6{constructor(){super({id:"cursorUndo",label:y.NC("cursor.undo","Cursor Undo"),alias:"Cursor Undo",precondition:void 0,kbOpts:{kbExpr:r.u.textInputFocus,primary:2099,weight:100}})}run(c,u,g){var i;null===(i=T.get(u))||void 0===i||i.cursorUndo()}}),(0,P.Qr)(class L extends P.R6{constructor(){super({id:"cursorRedo",label:y.NC("cursor.redo","Cursor Redo"),alias:"Cursor Redo",precondition:void 0})}run(c,u,g){var i;null===(i=T.get(u))||void 0===i||i.cursorRedo()}})},89609:(Xe,we,e)=>{var f=e(78694),P=e(88593),r=e(93379),y=e.n(r),v=e(7795),S=e.n(v),T=e(90569),E=e.n(T),L=e(3565),p=e.n(L),c=e(19216),u=e.n(c),g=e(44589),i=e.n(g),d=e(97070),a={};a.styleTagTransform=i(),a.setAttributes=p(),a.insert=E().bind(null,"head"),a.domAPI=S(),a.insertStyleElement=u(),y()(d.Z,a);var I=e(8256),w=e(68678),D=e(96726),N=e(81534),A=e(54267);class k{constructor(z,U,ee){this.selection=z,this.targetPosition=U,this.copy=ee,this.targetSelection=null}getEditOperations(z,U){const ee=z.getValueInRange(this.selection);this.copy||U.addEditOperation(this.selection,null),U.addEditOperation(new D.e(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column),ee),this.targetSelection=!this.selection.containsPosition(this.targetPosition)||this.copy&&(this.selection.getEndPosition().equals(this.targetPosition)||this.selection.getStartPosition().equals(this.targetPosition))?this.copy?new N.Y(this.targetPosition.lineNumber,this.targetPosition.column,this.selection.endLineNumber-this.selection.startLineNumber+this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn):this.targetPosition.lineNumber>this.selection.endLineNumber?new N.Y(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn):this.targetPosition.lineNumber<this.selection.endLineNumber?new N.Y(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber+this.selection.endLineNumber-this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn):this.selection.endColumn<=this.targetPosition.column?new N.Y(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column-this.selection.endColumn+this.selection.startColumn,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column:this.selection.endColumn):new N.Y(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column+this.selection.endColumn-this.selection.startColumn):this.selection}computeCursorState(z,U){return this.targetSelection}}function R(W){return P.dz?W.altKey:W.ctrlKey}class O extends f.JT{constructor(z){super(),this._editor=z,this._dndDecorationIds=this._editor.createDecorationsCollection(),this._register(this._editor.onMouseDown(U=>this._onEditorMouseDown(U))),this._register(this._editor.onMouseUp(U=>this._onEditorMouseUp(U))),this._register(this._editor.onMouseDrag(U=>this._onEditorMouseDrag(U))),this._register(this._editor.onMouseDrop(U=>this._onEditorMouseDrop(U))),this._register(this._editor.onMouseDropCanceled(()=>this._onEditorMouseDropCanceled())),this._register(this._editor.onKeyDown(U=>this.onEditorKeyDown(U))),this._register(this._editor.onKeyUp(U=>this.onEditorKeyUp(U))),this._register(this._editor.onDidBlurEditorWidget(()=>this.onEditorBlur())),this._register(this._editor.onDidBlurEditorText(()=>this.onEditorBlur())),this._mouseDown=!1,this._modifierPressed=!1,this._dragSelection=null}onEditorBlur(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1}onEditorKeyDown(z){!this._editor.getOption(34)||this._editor.getOption(21)||(R(z)&&(this._modifierPressed=!0),this._mouseDown&&R(z)&&this._editor.updateOptions({mouseStyle:"copy"}))}onEditorKeyUp(z){!this._editor.getOption(34)||this._editor.getOption(21)||(R(z)&&(this._modifierPressed=!1),this._mouseDown&&z.keyCode===O.TRIGGER_KEY_VALUE&&this._editor.updateOptions({mouseStyle:"default"}))}_onEditorMouseDown(z){this._mouseDown=!0}_onEditorMouseUp(z){this._mouseDown=!1,this._editor.updateOptions({mouseStyle:"text"})}_onEditorMouseDrag(z){const U=z.target;if(null===this._dragSelection){const B=(this._editor.getSelections()||[]).filter(G=>U.position&&G.containsPosition(U.position));if(1!==B.length)return;this._dragSelection=B[0]}R(z.event)?this._editor.updateOptions({mouseStyle:"copy"}):this._editor.updateOptions({mouseStyle:"default"}),U.position&&(this._dragSelection.containsPosition(U.position)?this._removeDecoration():this.showAt(U.position))}_onEditorMouseDropCanceled(){this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}_onEditorMouseDrop(z){if(z.target&&(this._hitContent(z.target)||this._hitMargin(z.target))&&z.target.position){const U=new w.L(z.target.position.lineNumber,z.target.position.column);if(null===this._dragSelection){let ee=null;if(z.event.shiftKey){const B=this._editor.getSelection();if(B){const{selectionStartLineNumber:G,selectionStartColumn:se}=B;ee=[new N.Y(G,se,U.lineNumber,U.column)]}}else ee=(this._editor.getSelections()||[]).map(B=>B.containsPosition(U)?new N.Y(U.lineNumber,U.column,U.lineNumber,U.column):B);this._editor.setSelections(ee||[],"mouse",3)}else(!this._dragSelection.containsPosition(U)||(R(z.event)||this._modifierPressed)&&(this._dragSelection.getEndPosition().equals(U)||this._dragSelection.getStartPosition().equals(U)))&&(this._editor.pushUndoStop(),this._editor.executeCommand(O.ID,new k(this._dragSelection,U,R(z.event)||this._modifierPressed)),this._editor.pushUndoStop())}this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}showAt(z){this._dndDecorationIds.set([{range:new D.e(z.lineNumber,z.column,z.lineNumber,z.column),options:O._DECORATION_OPTIONS}]),this._editor.revealPosition(z,1)}_removeDecoration(){this._dndDecorationIds.clear()}_hitContent(z){return 6===z.type||7===z.type}_hitMargin(z){return 2===z.type||3===z.type||4===z.type}dispose(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1,super.dispose()}}O.ID="editor.contrib.dragAndDrop",O.TRIGGER_KEY_VALUE=P.dz?6:5,O._DECORATION_OPTIONS=A.qx.register({description:"dnd-target",className:"dnd-target"}),(0,I._K)(O.ID,O,2)},48940:(Xe,we,e)=>{var f=e(87618),P=e(91402),r=e(15850),y=e(56230),v=e(22649),S=e(11813);S.P.registerCommand("_executeDocumentSymbolProvider",function(E,...L){return function(E,L,p,c){return new(p||(p=Promise))(function(g,i){function d(l){try{m(c.next(l))}catch(I){i(I)}}function a(l){try{m(c.throw(l))}catch(I){i(I)}}function m(l){l.done?g(l.value):function u(g){return g instanceof p?g:new p(function(i){i(g)})}(l.value).then(d,a)}m((c=c.apply(E,L||[])).next())})}(this,void 0,void 0,function*(){const[p]=L;(0,P.p_)(r.o.isUri(p));const c=E.get(v.Je),g=yield E.get(y.S).createModelReference(p);try{return(yield c.getOrCreate(g.object.textEditorModel,f.T.None)).getTopLevelSymbols()}finally{g.dispose()}})})},22649:(Xe,we,e)=>{e.d(we,{C3:()=>w,H3:()=>I,Je:()=>D,sT:()=>l});var f=e(31738),P=e(87618),r=e(17967),y=e(68733),v=e(38164),S=e(68678),T=e(96726),E=e(31663),L=e(12065),p=e(67755),c=e(41204),u=e(78694),g=e(55763),d=function(A,k){return function(R,O){k(R,O,A)}};class m{remove(){var k;null===(k=this.parent)||void 0===k||k.children.delete(this.id)}static findId(k,R){let O;"string"==typeof k?O=`${R.id}/${k}`:(O=`${R.id}/${k.name}`,void 0!==R.children.get(O)&&(O=`${R.id}/${k.name}_${k.range.startLineNumber}_${k.range.startColumn}`));let W=O;for(let z=0;void 0!==R.children.get(W);z++)W=`${O}_${z}`;return W}static empty(k){return 0===k.children.size}}class l extends m{constructor(k,R,O){super(),this.id=k,this.parent=R,this.symbol=O,this.children=new Map}}class I extends m{constructor(k,R,O,W){super(),this.id=k,this.parent=R,this.label=O,this.order=W,this.children=new Map}}class w extends m{static create(k,R,O){const W=new P.A(O),z=new w(R.uri),U=k.ordered(R),ee=U.map((G,se)=>{var j;const $=m.findId(`provider_${se}`,z),K=new I($,z,null!==(j=G.displayName)&&void 0!==j?j:"Unknown Outline Provider",se);return Promise.resolve(G.provideDocumentSymbols(R,W.token)).then(J=>{for(const te of J||[])w._makeOutlineElement(te,K);return K},J=>((0,r.Cp)(J),K)).then(J=>{m.empty(J)?J.remove():z._groups.set($,J)})}),B=k.onDidChange(()=>{const G=k.ordered(R);(0,f.fS)(G,U)||W.cancel()});return Promise.all(ee).then(()=>W.token.isCancellationRequested&&!O.isCancellationRequested?w.create(k,R,O):z._compact()).finally(()=>{B.dispose()})}static _makeOutlineElement(k,R){const O=m.findId(k,R),W=new l(O,R,k);if(k.children)for(const z of k.children)w._makeOutlineElement(z,W);R.children.set(W.id,W)}constructor(k){super(),this.uri=k,this.id="root",this.parent=void 0,this._groups=new Map,this.children=new Map,this.id="root",this.parent=void 0}_compact(){let k=0;for(const[R,O]of this._groups)0===O.children.size?this._groups.delete(R):k+=1;if(1!==k)this.children=this._groups;else{const R=y.$.first(this._groups.values());for(const[,O]of R.children)O.parent=this,this.children.set(O.id,O)}return this}getTopLevelSymbols(){const k=[];for(const R of this.children.values())R instanceof l?k.push(R.symbol):k.push(...y.$.map(R.children.values(),O=>O.symbol));return k.sort((R,O)=>T.e.compareRangesUsingStarts(R.range,O.range))}asListOfDocumentSymbols(){const k=this.getTopLevelSymbols(),R=[];return w._flattenDocumentSymbols(R,k,""),R.sort((O,W)=>S.L.compare(T.e.getStartPosition(O.range),T.e.getStartPosition(W.range))||S.L.compare(T.e.getEndPosition(W.range),T.e.getEndPosition(O.range)))}static _flattenDocumentSymbols(k,R,O){for(const W of R)k.push({kind:W.kind,tags:W.tags,name:W.name,detail:W.detail,containerName:W.containerName||O,range:W.range,selectionRange:W.selectionRange,children:void 0}),W.children&&w._flattenDocumentSymbols(k,W.children,W.name)}}const D=(0,L.yh)("IOutlineModelService");let N=class{constructor(k,R,O){this._languageFeaturesService=k,this._disposables=new u.SL,this._cache=new v.z6(10,.7),this._debounceInformation=R.for(k.documentSymbolProvider,"DocumentSymbols",{min:350}),this._disposables.add(O.onModelRemoved(W=>{this._cache.delete(W.id)}))}dispose(){this._disposables.dispose()}getOrCreate(k,R){return function(A,k,R,O){return new(R||(R=Promise))(function(z,U){function ee(se){try{G(O.next(se))}catch(j){U(j)}}function B(se){try{G(O.throw(se))}catch(j){U(j)}}function G(se){se.done?z(se.value):function W(z){return z instanceof R?z:new R(function(U){U(z)})}(se.value).then(ee,B)}G((O=O.apply(A,k||[])).next())})}(this,void 0,void 0,function*(){const O=this._languageFeaturesService.documentSymbolProvider,W=O.ordered(k);let z=this._cache.get(k.id);if(!z||z.versionId!==k.getVersionId()||!(0,f.fS)(z.provider,W)){const ee=new P.A;z={versionId:k.getVersionId(),provider:W,promiseCnt:0,source:ee,promise:w.create(O,k,ee.token),model:void 0},this._cache.set(k.id,z);const B=Date.now();z.promise.then(G=>{z.model=G,this._debounceInformation.update(k,Date.now()-B)}).catch(G=>{this._cache.delete(k.id)})}if(z.model)return z.model;z.promiseCnt+=1;const U=R.onCancellationRequested(()=>{0==--z.promiseCnt&&(z.source.cancel(),this._cache.delete(k.id))});try{return yield z.promise}finally{U.dispose()}})}};N=function(A,k,R,O){var U,W=arguments.length,z=W<3?k:null===O?O=Object.getOwnPropertyDescriptor(k,R):O;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)z=Reflect.decorate(A,k,R,O);else for(var ee=A.length-1;ee>=0;ee--)(U=A[ee])&&(z=(W<3?U(z):W>3?U(k,R,z):U(k,R))||z);return W>3&&z&&Object.defineProperty(k,R,z),z}([d(0,g.p),d(1,E.A),d(2,c.q)],N),(0,p.z)(D,N,1)},49469:(Xe,we,e)=>{var U,f=e(8256),P=e(65058),r=e(20274),y=e(31738),v=e(85328),S=e(16813),T=e(78694),E=e(90361),L=e(88593),p=e(58778),c=e(44114),u=e(40122),g=e(97361),i=e(96726),d=e(55763),a=e(75179),m=e(45173),l=e(77132),I=e(37190),w=e(2034),D=e(66221),N=e(12065),A=e(51367),k=e(49010),R=e(71283),W=function(K,J){return function(te,ne){J(te,ne,K)}},z=function(K,J,te,ne){return new(te||(te=Promise))(function(ae,ge){function _e(Ie){try{ve(ne.next(Ie))}catch(Se){ge(Se)}}function ue(Ie){try{ve(ne.throw(Ie))}catch(Se){ge(Se)}}function ve(Ie){Ie.done?ae(Ie.value):function _(ae){return ae instanceof te?ae:new te(function(ge){ge(ae)})}(Ie.value).then(_e,ue)}ve((ne=ne.apply(K,J||[])).next())})};const ee="editor.changePasteType",B=new D.uy("pasteWidgetVisible",!1,(0,I.NC)("pasteWidgetVisible","Whether the paste widget is showing")),G="application/vnd.code.copyMetadata";let se=U=class extends T.JT{static get(J){return J.getContribution(U.ID)}constructor(J,te,ne,_,ae,ge,_e){super(),this._bulkEditService=ne,this._clipboardService=_,this._languageFeaturesService=ae,this._quickInputService=ge,this._progressService=_e,this._editor=J;const ue=J.getContainerDomNode();this._register((0,r.nm)(ue,"copy",ve=>this.handleCopy(ve))),this._register((0,r.nm)(ue,"cut",ve=>this.handleCopy(ve))),this._register((0,r.nm)(ue,"paste",ve=>this.handlePaste(ve),!0)),this._pasteProgressManager=this._register(new l.r("pasteIntoEditor",J,te)),this._postPasteWidgetManager=this._register(te.createInstance(R.p,"pasteIntoEditor",J,B,{id:ee,label:(0,I.NC)("postPasteWidgetTitle","Show paste options...")}))}changePasteType(){this._postPasteWidgetManager.tryShowSelector()}pasteAs(J){this._editor.focus();try{this._pasteAsActionContext={preferredId:J},document.execCommand("paste")}finally{this._pasteAsActionContext=void 0}}isPasteAsEnabled(){return this._editor.getOption(83).enabled&&!this._editor.getOption(89)}handleCopy(J){var te,ne;if(!this._editor.hasTextFocus()||(L.$L&&this._clipboardService.writeResources([]),!J.clipboardData||!this.isPasteAsEnabled()))return;const _=this._editor.getModel(),ae=this._editor.getSelections();if(!_||!ae?.length)return;const ge=this._editor.getOption(36);let _e=ae;const ue=1===ae.length&&ae[0].isEmpty();if(ue){if(!ge)return;_e=[new i.e(_e[0].startLineNumber,1,_e[0].startLineNumber,1+_.getLineLength(_e[0].startLineNumber))]}const ve=null===(te=this._editor._getViewModel())||void 0===te?void 0:te.getPlainTextToCopy(ae,ge,L.ED),Se={multicursorText:Array.isArray(ve)?ve:null,pasteOnNewLine:ue,mode:null},Ve=this._languageFeaturesService.documentPasteEditProvider.ordered(_).filter(x=>!!x.prepareDocumentPaste);if(!Ve.length)return void this.setCopyMetadata(J.clipboardData,{defaultPastePayload:Se});const De=(0,u.B)(J.clipboardData),ye=Ve.flatMap(x=>{var F;return null!==(F=x.copyMimeTypes)&&void 0!==F?F:[]}),oe=(0,p.R)();this.setCopyMetadata(J.clipboardData,{id:oe,providerCopyMimeTypes:ye,defaultPastePayload:Se});const Y=(0,v.PG)(x=>z(this,void 0,void 0,function*(){const F=(0,y.kX)(yield Promise.all(Ve.map(ie=>z(this,void 0,void 0,function*(){try{return yield ie.prepareDocumentPaste(_,_e,De,x)}catch(Ce){return void console.error(Ce)}}))));F.reverse();for(const ie of F)for(const[Ce,ke]of ie)De.replace(Ce,ke);return De}));null===(ne=this._currentCopyOperation)||void 0===ne||ne.dataTransferPromise.cancel(),this._currentCopyOperation={handle:oe,dataTransferPromise:Y}}handlePaste(J){var te,ne;return z(this,void 0,void 0,function*(){if(!J.clipboardData||!this._editor.hasTextFocus())return;null===(te=this._currentPasteOperation)||void 0===te||te.cancel(),this._currentPasteOperation=void 0;const _=this._editor.getModel(),ae=this._editor.getSelections();if(!ae?.length||!_||!this.isPasteAsEnabled())return;const ge=this.fetchCopyMetadata(J),_e=(0,u.L)(J.clipboardData);_e.delete(G);const ue=[...J.clipboardData.types,...null!==(ne=ge?.providerCopyMimeTypes)&&void 0!==ne?ne:[],E.v.uriList],ve=this._languageFeaturesService.documentPasteEditProvider.ordered(_).filter(Ie=>{var Se;return null===(Se=Ie.pasteMimeTypes)||void 0===Se?void 0:Se.some(Ve=>(0,S.SN)(Ve,ue))});ve.length&&(J.preventDefault(),J.stopImmediatePropagation(),this._pasteAsActionContext?this.showPasteAsPick(this._pasteAsActionContext.preferredId,ve,ae,_e,ge):this.doPasteInline(ve,ae,_e,ge))})}doPasteInline(J,te,ne,_){const ae=(0,v.PG)(ge=>z(this,void 0,void 0,function*(){const _e=this._editor;if(!_e.hasModel())return;const ue=_e.getModel(),ve=new m.Dl(_e,3,void 0,ge);try{if(yield this.mergeInDataFromCopy(ne,_,ve.token),ve.token.isCancellationRequested)return;const Ie=J.filter(Ve=>j(Ve,ne));if(!Ie.length||1===Ie.length&&"text"===Ie[0].id)return void(yield this.applyDefaultPasteHandler(ne,_,ve.token));const Se=yield this.getPasteEdits(Ie,ne,ue,te,ve.token);if(ve.token.isCancellationRequested)return;if(1===Se.length&&"text"===Se[0].providerId)return void(yield this.applyDefaultPasteHandler(ne,_,ve.token));if(Se.length){const Ve="afterPaste"===_e.getOption(83).showPasteSelector;return this._postPasteWidgetManager.applyEditAndShowIfNeeded(te,{activeEditIndex:0,allEdits:Se},Ve,ve.token)}yield this.applyDefaultPasteHandler(ne,_,ve.token)}finally{ve.dispose(),this._currentPasteOperation===ae&&(this._currentPasteOperation=void 0)}}));this._pasteProgressManager.showWhile(te[0].getEndPosition(),(0,I.NC)("pasteIntoEditorProgress","Running paste handlers. Click to cancel"),ae),this._currentPasteOperation=ae}showPasteAsPick(J,te,ne,_,ae){const ge=(0,v.PG)(_e=>z(this,void 0,void 0,function*(){const ue=this._editor;if(!ue.hasModel())return;const ve=ue.getModel(),Ie=new m.Dl(ue,3,void 0,_e);try{if(yield this.mergeInDataFromCopy(_,ae,Ie.token),Ie.token.isCancellationRequested)return;let Se=te.filter(oe=>j(oe,_));J&&(Se=Se.filter(oe=>oe.id===J));const Ve=yield this.getPasteEdits(Se,_,ve,ne,Ie.token);if(Ie.token.isCancellationRequested||!Ve.length)return;let De;if(J)De=Ve.at(0);else{const oe=yield this._quickInputService.pick(Ve.map(Y=>({label:Y.label,description:Y.providerId,detail:Y.detail,edit:Y})),{placeHolder:(0,I.NC)("pasteAsPickerPlaceholder","Select Paste Action")});De=oe?.edit}if(!De)return;const ye=(0,a.n)(ve.uri,ne,De);yield this._bulkEditService.apply(ye,{editor:this._editor})}finally{Ie.dispose(),this._currentPasteOperation===ge&&(this._currentPasteOperation=void 0)}}));this._progressService.withProgress({location:10,title:(0,I.NC)("pasteAsProgress","Running paste handlers")},()=>ge)}setCopyMetadata(J,te){J.setData(G,JSON.stringify(te))}fetchCopyMetadata(J){var te;if(!J.clipboardData)return;const ne=J.clipboardData.getData(G);if(ne)try{return JSON.parse(ne)}catch{return}const[_,ae]=c.b6.getTextData(J.clipboardData);return ae?{defaultPastePayload:{mode:ae.mode,multicursorText:null!==(te=ae.multicursorText)&&void 0!==te?te:null,pasteOnNewLine:!!ae.isFromEmptySelection}}:void 0}mergeInDataFromCopy(J,te,ne){var _;return z(this,void 0,void 0,function*(){if(te?.id&&(null===(_=this._currentCopyOperation)||void 0===_?void 0:_.handle)===te.id){const ae=yield this._currentCopyOperation.dataTransferPromise;if(ne.isCancellationRequested)return;for(const[ge,_e]of ae)J.replace(ge,_e)}if(!J.has(E.v.uriList)){const ae=yield this._clipboardService.readResources();if(ne.isCancellationRequested)return;ae.length&&J.append(E.v.uriList,(0,S.ZO)(S.Z0.create(ae)))}})}getPasteEdits(J,te,ne,_,ae){return z(this,void 0,void 0,function*(){const ge=yield(0,v.eP)(Promise.all(J.map(ue=>z(this,void 0,void 0,function*(){var ve;try{const Ie=yield null===(ve=ue.provideDocumentPasteEdits)||void 0===ve?void 0:ve.call(ue,ne,_,te,ae);if(Ie)return Object.assign(Object.assign({},Ie),{providerId:ue.id})}catch(Ie){console.error(Ie)}}))),ae),_e=(0,y.kX)(ge??[]);return(0,a.C)(_e),_e})}applyDefaultPasteHandler(J,te,ne){var _,ae,ge;return z(this,void 0,void 0,function*(){const _e=null!==(_=J.get(E.v.text))&&void 0!==_?_:J.get("text");if(!_e)return;const ue=yield _e.asString();if(ne.isCancellationRequested)return;const ve={text:ue,pasteOnNewLine:null!==(ae=te?.defaultPastePayload.pasteOnNewLine)&&void 0!==ae&&ae,multicursorText:null!==(ge=te?.defaultPastePayload.multicursorText)&&void 0!==ge?ge:null,mode:null};this._editor.trigger("keyboard","paste",ve)})}};function j(K,J){var te;return!(null===(te=K.pasteMimeTypes)||void 0===te||!te.some(ne=>J.matches(ne)))}se.ID="editor.contrib.copyPasteActionController",se=U=function(K,J,te,ne){var ge,_=arguments.length,ae=_<3?J:null===ne?ne=Object.getOwnPropertyDescriptor(J,te):ne;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ae=Reflect.decorate(K,J,te,ne);else for(var _e=K.length-1;_e>=0;_e--)(ge=K[_e])&&(ae=(_<3?ge(ae):_>3?ge(J,te,ae):ge(J,te))||ae);return _>3&&ae&&Object.defineProperty(J,te,ae),ae}([W(1,N.TG),W(2,g.vu),W(3,w.p),W(4,d.p),W(5,k.eJ),W(6,A.R9)],se);var $=e(17442);(0,f._K)(se.ID,se,0),(0,P.y)($.v),(0,f.fK)(new class extends f._l{constructor(){super({id:ee,precondition:B,kbOpts:{weight:100,primary:2137}})}runEditorCommand(K,J,te){var ne;return null===(ne=se.get(J))||void 0===ne?void 0:ne.changePasteType()}}),(0,f.Qr)(class extends f.R6{constructor(){super({id:"editor.action.pasteAs",label:I.NC("pasteAs","Paste As..."),alias:"Paste As...",precondition:void 0,description:{description:"Paste as",args:[{name:"args",schema:{type:"object",properties:{id:{type:"string",description:I.NC("pasteAs.id","The id of the paste edit to try applying. If not provided, the editor will show a picker.")}}}}]}})}run(K,J,te){var ne;const _="string"==typeof te?.id?te.id:void 0;return null===(ne=se.get(J))||void 0===ne?void 0:ne.pasteAs(_)}})},17442:(Xe,we,e)=>{e.d(we,{P:()=>w,v:()=>D});var f=e(31738),P=e(16813),r=e(78694),y=e(90361),v=e(42685),S=e(9001),T=e(15850),E=e(55763),L=e(37190),p=e(45615),c=function(N,A,k,R){var z,O=arguments.length,W=O<3?A:null===R?R=Object.getOwnPropertyDescriptor(A,k):R;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)W=Reflect.decorate(N,A,k,R);else for(var U=N.length-1;U>=0;U--)(z=N[U])&&(W=(O<3?z(W):O>3?z(A,k,W):z(A,k))||W);return O>3&&W&&Object.defineProperty(A,k,W),W},u=function(N,A){return function(k,R){A(k,R,N)}},g=function(N,A,k,R){return new(k||(k=Promise))(function(W,z){function U(G){try{B(R.next(G))}catch(se){z(se)}}function ee(G){try{B(R.throw(G))}catch(se){z(se)}}function B(G){G.done?W(G.value):function O(W){return W instanceof k?W:new k(function(z){z(W)})}(G.value).then(U,ee)}B((R=R.apply(N,A||[])).next())})};const i=(0,L.NC)("builtIn","Built-in");class d{provideDocumentPasteEdits(A,k,R,O){return g(this,void 0,void 0,function*(){const W=yield this.getEdit(R,O);return W?{insertText:W.insertText,label:W.label,detail:W.detail,handledMimeType:W.handledMimeType,yieldTo:W.yieldTo}:void 0})}provideDocumentOnDropEdits(A,k,R,O){return g(this,void 0,void 0,function*(){const W=yield this.getEdit(R,O);return W?{insertText:W.insertText,label:W.label,handledMimeType:W.handledMimeType,yieldTo:W.yieldTo}:void 0})}}class a extends d{constructor(){super(...arguments),this.id="text",this.dropMimeTypes=[y.v.text],this.pasteMimeTypes=[y.v.text]}getEdit(A,k){return g(this,void 0,void 0,function*(){const R=A.get(y.v.text);if(!R||A.has(y.v.uriList))return;const O=yield R.asString();return{handledMimeType:y.v.text,label:(0,L.NC)("text.label","Insert Plain Text"),detail:i,insertText:O}})}}class m extends d{constructor(){super(...arguments),this.id="uri",this.dropMimeTypes=[y.v.uriList],this.pasteMimeTypes=[y.v.uriList]}getEdit(A,k){return g(this,void 0,void 0,function*(){const R=yield I(A);if(!R.length||k.isCancellationRequested)return;let O=0;const W=R.map(({uri:U,originalText:ee})=>U.scheme===v.lg.file?U.fsPath:(O++,ee)).join(" ");let z;return z=O>0?R.length>1?(0,L.NC)("defaultDropProvider.uriList.uris","Insert Uris"):(0,L.NC)("defaultDropProvider.uriList.uri","Insert Uri"):R.length>1?(0,L.NC)("defaultDropProvider.uriList.paths","Insert Paths"):(0,L.NC)("defaultDropProvider.uriList.path","Insert Path"),{handledMimeType:y.v.uriList,insertText:W,label:z,detail:i}})}}let l=class extends d{constructor(A){super(),this._workspaceContextService=A,this.id="relativePath",this.dropMimeTypes=[y.v.uriList],this.pasteMimeTypes=[y.v.uriList]}getEdit(A,k){return g(this,void 0,void 0,function*(){const R=yield I(A);if(!R.length||k.isCancellationRequested)return;const O=(0,f.kX)(R.map(({uri:W})=>{const z=this._workspaceContextService.getWorkspaceFolder(W);return z?(0,S.lX)(z.uri,W):void 0}));return O.length?{handledMimeType:y.v.uriList,insertText:O.join(" "),label:R.length>1?(0,L.NC)("defaultDropProvider.uriList.relativePaths","Insert Relative Paths"):(0,L.NC)("defaultDropProvider.uriList.relativePath","Insert Relative Path"),detail:i}:void 0})}};function I(N){return g(this,void 0,void 0,function*(){const A=N.get(y.v.uriList);if(!A)return[];const k=yield A.asString(),R=[];for(const O of P.Z0.parse(k))try{R.push({uri:T.o.parse(O),originalText:O})}catch{}return R})}l=c([u(0,p.ec)],l);let w=class extends r.JT{constructor(A,k){super(),this._register(A.documentOnDropEditProvider.register("*",new a)),this._register(A.documentOnDropEditProvider.register("*",new m)),this._register(A.documentOnDropEditProvider.register("*",new l(k)))}};w=c([u(0,E.p),u(1,p.ec)],w);let D=class extends r.JT{constructor(A,k){super(),this._register(A.documentPasteEditProvider.register("*",new a)),this._register(A.documentPasteEditProvider.register("*",new m)),this._register(A.documentPasteEditProvider.register("*",new l(k)))}};D=c([u(0,E.p),u(1,p.ec)],D)},32498:(Xe,we,e)=>{var f=e(8256),P=e(41079),r=e(65058),y=e(17442),v=e(37190),S=e(92891),T=e(81834),E=e(31738),L=e(85328),p=e(16813),c=e(78694),u=e(40122),g=e(96726),i=e(55763);class a{constructor(K){this.identifier=K}}var m=e(67755),l=e(12065);const I=(0,l.yh)("treeViewsDndService");(0,m.z)(I,class d{constructor(){this._dragOperations=new Map}removeDragOperationTransfer(K){if(K&&this._dragOperations.has(K)){const J=this._dragOperations.get(K);return this._dragOperations.delete(K),J}}},1);var ee,w=e(45173),D=e(77132),N=e(47358),A=e(66221),k=e(93152),R=e(75179),O=e(71283),z=function($,K){return function(J,te){K(J,te,$)}},U=function($,K,J,te){return new(J||(J=Promise))(function(_,ae){function ge(ve){try{ue(te.next(ve))}catch(Ie){ae(Ie)}}function _e(ve){try{ue(te.throw(ve))}catch(Ie){ae(Ie)}}function ue(ve){ve.done?_(ve.value):function ne(_){return _ instanceof J?_:new J(function(ae){ae(_)})}(ve.value).then(ge,_e)}ue((te=te.apply($,K||[])).next())})};const B="editor.experimental.dropIntoEditor.defaultProvider",G="editor.changeDropType",se=new A.uy("dropWidgetVisible",!1,(0,v.NC)("dropWidgetVisible","Whether the drop widget is showing"));let j=ee=class extends c.JT{static get(K){return K.getContribution(ee.ID)}constructor(K,J,te,ne,_){super(),this._configService=te,this._languageFeaturesService=ne,this._treeViewsDragAndDropService=_,this.treeItemsTransfer=k.Ej.getInstance(),this._dropProgressManager=this._register(J.createInstance(D.r,"dropIntoEditor",K)),this._postDropWidgetManager=this._register(J.createInstance(O.p,"dropIntoEditor",K,se,{id:G,label:(0,v.NC)("postDropWidgetTitle","Show drop options...")})),this._register(K.onDropIntoEditor(ae=>this.onDropIntoEditor(K,ae.position,ae.event)))}changeDropType(){this._postDropWidgetManager.tryShowSelector()}onDropIntoEditor(K,J,te){var ne;return U(this,void 0,void 0,function*(){if(!te.dataTransfer||!K.hasModel())return;null===(ne=this._currentOperation)||void 0===ne||ne.cancel(),K.focus(),K.setPosition(J);const _=(0,L.PG)(ae=>U(this,void 0,void 0,function*(){const ge=new w.Dl(K,1,void 0,ae);try{const _e=yield this.extractDataTransferData(te);if(0===_e.size||ge.token.isCancellationRequested)return;const ue=K.getModel();if(!ue)return;const ve=this._languageFeaturesService.documentOnDropEditProvider.ordered(ue).filter(Se=>!Se.dropMimeTypes||Se.dropMimeTypes.some(Ve=>_e.matches(Ve))),Ie=yield this.getDropEdits(ve,ue,J,_e,ge);if(ge.token.isCancellationRequested)return;if(Ie.length){const Se=this.getInitialActiveEditIndex(ue,Ie),Ve="afterDrop"===K.getOption(35).showDropSelector;yield this._postDropWidgetManager.applyEditAndShowIfNeeded([g.e.fromPositions(J)],{activeEditIndex:Se,allEdits:Ie},Ve,ae)}}finally{ge.dispose(),this._currentOperation===_&&(this._currentOperation=void 0)}}));this._dropProgressManager.showWhile(J,(0,v.NC)("dropIntoEditorProgress","Running drop handlers. Click to cancel"),_),this._currentOperation=_})}getDropEdits(K,J,te,ne,_){return U(this,void 0,void 0,function*(){const ae=yield(0,L.eP)(Promise.all(K.map(_e=>U(this,void 0,void 0,function*(){try{const ue=yield _e.provideDocumentOnDropEdits(J,te,ne,_.token);if(ue)return Object.assign(Object.assign({},ue),{providerId:_e.id})}catch(ue){console.error(ue)}}))),_.token),ge=(0,E.kX)(ae??[]);return(0,R.C)(ge)})}getInitialActiveEditIndex(K,J){const te=this._configService.getValue(B,{resource:K.uri});for(const[ne,_]of Object.entries(te)){const ae=J.findIndex(ge=>_===ge.providerId&&ge.handledMimeType&&(0,p.SN)(ne,[ge.handledMimeType]));if(ae>=0)return ae}return 0}extractDataTransferData(K){return U(this,void 0,void 0,function*(){if(!K.dataTransfer)return new p.Hl;const J=(0,u.L)(K.dataTransfer);if(this.treeItemsTransfer.hasData(a.prototype)){const te=this.treeItemsTransfer.getData(a.prototype);if(Array.isArray(te))for(const ne of te){const _=yield this._treeViewsDragAndDropService.removeDragOperationTransfer(ne.identifier);if(_)for(const[ae,ge]of _)J.replace(ae,ge)}}return J})}};j.ID="editor.contrib.dropIntoEditorController",j=ee=function($,K,J,te){var ae,ne=arguments.length,_=ne<3?K:null===te?te=Object.getOwnPropertyDescriptor(K,J):te;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)_=Reflect.decorate($,K,J,te);else for(var ge=$.length-1;ge>=0;ge--)(ae=$[ge])&&(_=(ne<3?ae(_):ne>3?ae(K,J,_):ae(K,J))||_);return ne>3&&_&&Object.defineProperty(K,J,_),_}([z(1,l.TG),z(2,N.Ui),z(3,i.p),z(4,I)],j),(0,f._K)(j.ID,j,2),(0,f.fK)(new class extends f._l{constructor(){super({id:G,precondition:se,kbOpts:{weight:100,primary:2137}})}runEditorCommand($,K,J){var te;null===(te=j.get(K))||void 0===te||te.changeDropType()}}),(0,r.y)(y.P),T.B.as(S.IP.Configuration).registerConfiguration(Object.assign(Object.assign({},P.wk),{properties:{[B]:{type:"object",scope:5,description:v.NC("defaultProviderDescription","Configures the default drop provider to use for content of a given mime type."),default:{},additionalProperties:{type:"string"}}}}))},75179:(Xe,we,e)=>{e.d(we,{C:()=>r,n:()=>P});var f=e(97361);function P(y,v,S){var T,E;return{edits:[...v.map(L=>new f.Gl(y,"string"==typeof S.insertText?{range:L,text:S.insertText,insertAsSnippet:!1}:{range:L,text:S.insertText.snippet,insertAsSnippet:!0})),...null!==(E=null===(T=S.additionalEdit)||void 0===T?void 0:T.edits)&&void 0!==E?E:[]]}}function r(y){var v;function S(c,u){return"providerId"in c&&c.providerId===u.providerId||"mimeType"in c&&c.mimeType===u.handledMimeType}const T=new Map;for(const c of y)for(const u of null!==(v=c.yieldTo)&&void 0!==v?v:[])for(const g of y)if(g!==c&&S(u,g)){let i=T.get(c);i||(i=[],T.set(c,i)),i.push(g)}if(!T.size)return Array.from(y);const E=new Set,L=[];return function p(c){if(!c.length)return[];const u=c[0];if(L.includes(u))return console.warn(`Yield to cycle detected for ${u.providerId}`),c;if(E.has(u))return p(c.slice(1));let g=[];const i=T.get(u);return i&&(L.push(u),g=p(i),L.pop()),E.add(u),[...g,u,...p(c.slice(1))]}(Array.from(y))}},71283:(Xe,we,e)=>{e.d(we,{p:()=>G});var f=e(20274),P=e(7108),r=e(54457),y=e(58178),v=e(78694),S=e(93379),T=e.n(S),E=e(7795),L=e.n(E),p=e(90569),c=e.n(p),u=e(3565),g=e.n(u),i=e(19216),d=e.n(i),a=e(44589),m=e.n(a),l=e(33399),I={};I.styleTagTransform=m(),I.setAttributes=g(),I.insert=c().bind(null,"head"),I.domAPI=L(),I.insertStyleElement=d(),T()(l.Z,I);var ee,N=e(97361),A=e(66221),k=e(76485),R=e(12065),O=e(21536),W=function(se,j,$,K){var ne,J=arguments.length,te=J<3?j:null===K?K=Object.getOwnPropertyDescriptor(j,$):K;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)te=Reflect.decorate(se,j,$,K);else for(var _=se.length-1;_>=0;_--)(ne=se[_])&&(te=(J<3?ne(te):J>3?ne(j,$,te):ne(j,$))||te);return J>3&&te&&Object.defineProperty(j,$,te),te},z=function(se,j){return function($,K){j($,K,se)}},U=function(se,j,$,K){return new($||($=Promise))(function(te,ne){function _(_e){try{ge(K.next(_e))}catch(ue){ne(ue)}}function ae(_e){try{ge(K.throw(_e))}catch(ue){ne(ue)}}function ge(_e){_e.done?te(_e.value):function J(te){return te instanceof $?te:new $(function(ne){ne(te)})}(_e.value).then(_,ae)}ge((K=K.apply(se,j||[])).next())})};let B=ee=class extends v.JT{constructor(j,$,K,J,te,ne,_,ae,ge,_e){super(),this.typeId=j,this.editor=$,this.showCommand=J,this.range=te,this.edits=ne,this.onSelectNewEdit=_,this._contextMenuService=ae,this._keybindingService=_e,this.allowEditorOverflow=!0,this.suppressMouseDown=!0,this.create(),this.visibleContext=K.bindTo(ge),this.visibleContext.set(!0),this._register((0,v.OF)(()=>this.visibleContext.reset())),this.editor.addContentWidget(this),this.editor.layoutContentWidget(this),this._register((0,v.OF)(()=>this.editor.removeContentWidget(this))),this._register(this.editor.onDidChangeCursorPosition(ue=>{te.containsPosition(ue.position)||this.dispose()})),this._register(y.ju.runAndSubscribe(_e.onDidUpdateKeybindings,()=>{this._updateButtonTitle()}))}_updateButtonTitle(){var j;const $=null===(j=this._keybindingService.lookupKeybinding(this.showCommand.id))||void 0===j?void 0:j.getLabel();this.button.element.title=this.showCommand.label+($?` (${$})`:"")}create(){this.domNode=f.$(".post-edit-widget"),this.button=this._register(new P.z(this.domNode,{supportIcons:!0})),this.button.label="$(insert)",this._register(f.nm(this.domNode,f.tw.CLICK,()=>this.showSelector()))}getId(){return ee.baseId+"."+this.typeId}getDomNode(){return this.domNode}getPosition(){return{position:this.range.getEndPosition(),preference:[2]}}showSelector(){this._contextMenuService.showContextMenu({getAnchor:()=>{const j=f.i(this.button.element);return{x:j.left+j.width,y:j.top+j.height}},getActions:()=>this.edits.allEdits.map((j,$)=>(0,r.xw)({id:"",label:j.label,checked:$===this.edits.activeEditIndex,run:()=>{if($!==this.edits.activeEditIndex)return this.onSelectNewEdit($)}}))})}};B.baseId="editor.widget.postEditWidget",B=ee=W([z(7,k.i),z(8,A.i6),z(9,O.d)],B);let G=class extends v.JT{constructor(j,$,K,J,te,ne){super(),this._id=j,this._editor=$,this._visibleContext=K,this._showCommand=J,this._instantiationService=te,this._bulkEditService=ne,this._currentWidget=this._register(new v.XK),this._register(y.ju.any($.onDidChangeModel,$.onDidChangeModelContent)(()=>this.clear()))}applyEditAndShowIfNeeded(j,$,K,J){var te,ne;return U(this,void 0,void 0,function*(){const _=this._editor.getModel();if(!_||!j.length)return;const ae=$.allEdits[$.activeEditIndex];if(!ae)return;let ge=[];ge=("string"==typeof ae.insertText?""===ae.insertText:""===ae.insertText.snippet)?[]:j.map(De=>new N.Gl(_.uri,"string"==typeof ae.insertText?{range:De,text:ae.insertText,insertAsSnippet:!1}:{range:De,text:ae.insertText.snippet,insertAsSnippet:!0}));const ue={edits:[...ge,...null!==(ne=null===(te=ae.additionalEdit)||void 0===te?void 0:te.edits)&&void 0!==ne?ne:[]]},ve=j[0],Ie=_.deltaDecorations([],[{range:ve,options:{description:"paste-line-suffix",stickiness:0}}]);let Se,Ve;try{Se=yield this._bulkEditService.apply(ue,{editor:this._editor,token:J}),Ve=_.getDecorationRange(Ie[0])}finally{_.deltaDecorations(Ie,[])}K&&Se.isApplied&&$.allEdits.length>1&&this.show(Ve??ve,$,De=>U(this,void 0,void 0,function*(){const ye=this._editor.getModel();ye&&(yield ye.undo(),this.applyEditAndShowIfNeeded(j,{activeEditIndex:De,allEdits:$.allEdits},K,J))}))})}show(j,$,K){this.clear(),this._editor.hasModel()&&(this._currentWidget.value=this._instantiationService.createInstance(B,this._id,this._editor,this._visibleContext,this._showCommand,j,$,K))}clear(){this._currentWidget.clear()}tryShowSelector(){var j;null===(j=this._currentWidget.value)||void 0===j||j.showSelector()}};G=W([z(4,R.TG),z(5,N.vu)],G)},45173:(Xe,we,e)=>{e.d(we,{yy:()=>i,Dl:()=>d,YQ:()=>a});var f=e(16055),P=e(96726),r=e(87618),y=e(78694),v=e(8256),S=e(66221),T=e(86211),E=e(12065),L=e(67755),p=e(37190);const c=(0,E.yh)("IEditorCancelService"),u=new S.uy("cancellableOperation",!1,(0,p.NC)("cancellableOperation","Whether the editor runs a cancellable operation, e.g. like 'Peek References'"));(0,L.z)(c,class{constructor(){this._tokens=new WeakMap}add(m,l){let w,I=this._tokens.get(m);return I||(I=m.invokeWithinContext(D=>({key:u.bindTo(D.get(S.i6)),tokens:new T.S})),this._tokens.set(m,I)),I.key.set(!0),w=I.tokens.push(l),()=>{w&&(w(),I.key.set(!I.tokens.isEmpty()),w=void 0)}}cancel(m){const l=this._tokens.get(m);if(!l)return;const I=l.tokens.pop();I&&(I.cancel(),l.key.set(!l.tokens.isEmpty()))}},1);class g extends r.A{constructor(l,I){super(I),this.editor=l,this._unregister=l.invokeWithinContext(w=>w.get(c).add(l,this))}dispose(){this._unregister(),super.dispose()}}(0,v.fK)(new class extends v._l{constructor(){super({id:"editor.cancelOperation",kbOpts:{weight:100,primary:9},precondition:u})}runEditorCommand(m,l){m.get(c).cancel(l)}});class i{constructor(l,I){if(this.flags=I,1&this.flags){const w=l.getModel();this.modelVersionId=w?f.WU("{0}#{1}",w.uri.toString(),w.getVersionId()):null}else this.modelVersionId=null;this.position=4&this.flags?l.getPosition():null,this.selection=2&this.flags?l.getSelection():null,8&this.flags?(this.scrollLeft=l.getScrollLeft(),this.scrollTop=l.getScrollTop()):(this.scrollLeft=-1,this.scrollTop=-1)}_equals(l){if(!(l instanceof i))return!1;const I=l;return!(this.modelVersionId!==I.modelVersionId||this.scrollLeft!==I.scrollLeft||this.scrollTop!==I.scrollTop||!this.position&&I.position||this.position&&!I.position||this.position&&I.position&&!this.position.equals(I.position)||!this.selection&&I.selection||this.selection&&!I.selection||this.selection&&I.selection&&!this.selection.equalsRange(I.selection))}validate(l){return this._equals(new i(l,this.flags))}}class d extends g{constructor(l,I,w,D){super(l,D),this._listener=new y.SL,4&I&&this._listener.add(l.onDidChangeCursorPosition(N=>{(!w||!P.e.containsPosition(w,N.position))&&this.cancel()})),2&I&&this._listener.add(l.onDidChangeCursorSelection(N=>{(!w||!P.e.containsRange(w,N.selection))&&this.cancel()})),8&I&&this._listener.add(l.onDidScrollChange(N=>this.cancel())),1&I&&(this._listener.add(l.onDidChangeModel(N=>this.cancel())),this._listener.add(l.onDidChangeModelContent(N=>this.cancel())))}dispose(){this._listener.dispose(),super.dispose()}}class a extends r.A{constructor(l,I){super(I),this._listener=l.onDidChangeContent(()=>this.cancel())}dispose(){this._listener.dispose(),super.dispose()}}},49375:(Xe,we,e)=>{e.d(we,{pR:()=>Dn});var f=e(85328),P=e(78694),r=e(16055),y=e(8256),v=e(2857),S=e(15446),T=e(24470),E=e(31738),L=e(41604),p=e(68678),c=e(96726),u=e(81534),g=e(54187),i=e(54267),d=e(99745),a=e(23527);class m{constructor(Me){this._editor=Me,this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null,this._startPosition=this._editor.getPosition()}dispose(){this._editor.removeDecorations(this._allDecorations()),this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}reset(){this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}getCount(){return this._decorations.length}getFindScope(){return this._findScopeDecorationIds[0]?this._editor.getModel().getDecorationRange(this._findScopeDecorationIds[0]):null}getFindScopes(){if(this._findScopeDecorationIds.length){const Me=this._findScopeDecorationIds.map(he=>this._editor.getModel().getDecorationRange(he)).filter(he=>!!he);if(Me.length)return Me}return null}getStartPosition(){return this._startPosition}setStartPosition(Me){this._startPosition=Me,this.setCurrentFindMatch(null)}_getDecorationIndex(Me){const he=this._decorations.indexOf(Me);return he>=0?he+1:1}getDecorationRangeAt(Me){const he=Me<this._decorations.length?this._decorations[Me]:null;return he?this._editor.getModel().getDecorationRange(he):null}getCurrentMatchesPosition(Me){const he=this._editor.getModel().getDecorationsInRange(Me);for(const Be of he){const Ke=Be.options;if(Ke===m._FIND_MATCH_DECORATION||Ke===m._CURRENT_FIND_MATCH_DECORATION)return this._getDecorationIndex(Be.id)}return 0}setCurrentFindMatch(Me){let he=null,Be=0;if(Me)for(let Ke=0,Ye=this._decorations.length;Ke<Ye;Ke++){const dt=this._editor.getModel().getDecorationRange(this._decorations[Ke]);if(Me.equalsRange(dt)){he=this._decorations[Ke],Be=Ke+1;break}}return(null!==this._highlightedDecorationId||null!==he)&&this._editor.changeDecorations(Ke=>{if(null!==this._highlightedDecorationId&&(Ke.changeDecorationOptions(this._highlightedDecorationId,m._FIND_MATCH_DECORATION),this._highlightedDecorationId=null),null!==he&&(this._highlightedDecorationId=he,Ke.changeDecorationOptions(this._highlightedDecorationId,m._CURRENT_FIND_MATCH_DECORATION)),null!==this._rangeHighlightDecorationId&&(Ke.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),null!==he){let Ye=this._editor.getModel().getDecorationRange(he);if(Ye.startLineNumber!==Ye.endLineNumber&&1===Ye.endColumn){const dt=Ye.endLineNumber-1,zt=this._editor.getModel().getLineMaxColumn(dt);Ye=new c.e(Ye.startLineNumber,Ye.startColumn,dt,zt)}this._rangeHighlightDecorationId=Ke.addDecoration(Ye,m._RANGE_HIGHLIGHT_DECORATION)}}),Be}set(Me,he){this._editor.changeDecorations(Be=>{let Ke=m._FIND_MATCH_DECORATION;const Ye=[];if(Me.length>1e3){Ke=m._FIND_MATCH_NO_OVERVIEW_DECORATION;const zt=this._editor.getModel().getLineCount(),mi=this._editor.getLayoutInfo().height/zt,qt=Math.max(2,Math.ceil(3/mi));let oi=Me[0].range.startLineNumber,Ai=Me[0].range.endLineNumber;for(let Wi=1,$i=Me.length;Wi<$i;Wi++){const fi=Me[Wi].range;Ai+qt>=fi.startLineNumber?fi.endLineNumber>Ai&&(Ai=fi.endLineNumber):(Ye.push({range:new c.e(oi,1,Ai,1),options:m._FIND_MATCH_ONLY_OVERVIEW_DECORATION}),oi=fi.startLineNumber,Ai=fi.endLineNumber)}Ye.push({range:new c.e(oi,1,Ai,1),options:m._FIND_MATCH_ONLY_OVERVIEW_DECORATION})}const dt=new Array(Me.length);for(let zt=0,_i=Me.length;zt<_i;zt++)dt[zt]={range:Me[zt].range,options:Ke};this._decorations=Be.deltaDecorations(this._decorations,dt),this._overviewRulerApproximateDecorations=Be.deltaDecorations(this._overviewRulerApproximateDecorations,Ye),this._rangeHighlightDecorationId&&(Be.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),this._findScopeDecorationIds.length&&(this._findScopeDecorationIds.forEach(zt=>Be.removeDecoration(zt)),this._findScopeDecorationIds=[]),he?.length&&(this._findScopeDecorationIds=he.map(zt=>Be.addDecoration(zt,m._FIND_SCOPE_DECORATION)))})}matchBeforePosition(Me){if(0===this._decorations.length)return null;for(let he=this._decorations.length-1;he>=0;he--){const Be=this._decorations[he],Ke=this._editor.getModel().getDecorationRange(Be);if(Ke&&!(Ke.endLineNumber>Me.lineNumber)){if(Ke.endLineNumber<Me.lineNumber)return Ke;if(!(Ke.endColumn>Me.column))return Ke}}return this._editor.getModel().getDecorationRange(this._decorations[this._decorations.length-1])}matchAfterPosition(Me){if(0===this._decorations.length)return null;for(let he=0,Be=this._decorations.length;he<Be;he++){const Ke=this._decorations[he],Ye=this._editor.getModel().getDecorationRange(Ke);if(Ye&&!(Ye.startLineNumber<Me.lineNumber)){if(Ye.startLineNumber>Me.lineNumber)return Ye;if(!(Ye.startColumn<Me.column))return Ye}}return this._editor.getModel().getDecorationRange(this._decorations[0])}_allDecorations(){let Me=[];return Me=Me.concat(this._decorations),Me=Me.concat(this._overviewRulerApproximateDecorations),this._findScopeDecorationIds.length&&Me.push(...this._findScopeDecorationIds),this._rangeHighlightDecorationId&&Me.push(this._rangeHighlightDecorationId),Me}}m._CURRENT_FIND_MATCH_DECORATION=i.qx.register({description:"current-find-match",stickiness:1,zIndex:13,className:"currentFindMatch",showIfCollapsed:!0,overviewRuler:{color:(0,a.EN)(d.Fm_),position:T.sh.Center},minimap:{color:(0,a.EN)(d.SUY),position:T.F5.Inline}}),m._FIND_MATCH_DECORATION=i.qx.register({description:"find-match",stickiness:1,zIndex:10,className:"findMatch",showIfCollapsed:!0,overviewRuler:{color:(0,a.EN)(d.Fm_),position:T.sh.Center},minimap:{color:(0,a.EN)(d.SUY),position:T.F5.Inline}}),m._FIND_MATCH_NO_OVERVIEW_DECORATION=i.qx.register({description:"find-match-no-overview",stickiness:1,className:"findMatch",showIfCollapsed:!0}),m._FIND_MATCH_ONLY_OVERVIEW_DECORATION=i.qx.register({description:"find-match-only-overview",stickiness:1,overviewRuler:{color:(0,a.EN)(d.Fm_),position:T.sh.Center}}),m._RANGE_HIGHLIGHT_DECORATION=i.qx.register({description:"find-range-highlight",stickiness:1,className:"rangeHighlight",isWholeLine:!0}),m._FIND_SCOPE_DECORATION=i.qx.register({description:"find-scope",className:"findScope",isWholeLine:!0});class l{constructor(Me,he,Be){this._editorSelection=Me,this._ranges=he,this._replaceStrings=Be,this._trackedEditorSelectionId=null}getEditOperations(Me,he){if(this._ranges.length>0){const Be=[];for(let dt=0;dt<this._ranges.length;dt++)Be.push({range:this._ranges[dt],text:this._replaceStrings[dt]});Be.sort((dt,zt)=>c.e.compareRangesUsingStarts(dt.range,zt.range));const Ke=[];let Ye=Be[0];for(let dt=1;dt<Be.length;dt++)Ye.range.endLineNumber===Be[dt].range.startLineNumber&&Ye.range.endColumn===Be[dt].range.startColumn?(Ye.range=Ye.range.plusRange(Be[dt].range),Ye.text=Ye.text+Be[dt].text):(Ke.push(Ye),Ye=Be[dt]);Ke.push(Ye);for(const dt of Ke)he.addEditOperation(dt.range,dt.text)}this._trackedEditorSelectionId=he.trackSelection(this._editorSelection)}computeCursorState(Me,he){return he.getTrackedSelection(this._trackedEditorSelectionId)}}function I(nt,Me){if(nt&&""!==nt[0]){const he=w(nt,Me,"-"),Be=w(nt,Me,"_");return he&&!Be?D(nt,Me,"-"):!he&&Be?D(nt,Me,"_"):nt[0].toUpperCase()===nt[0]?Me.toUpperCase():nt[0].toLowerCase()===nt[0]?Me.toLowerCase():r.Kw(nt[0][0])&&Me.length>0?Me[0].toUpperCase()+Me.substr(1):nt[0][0].toUpperCase()!==nt[0][0]&&Me.length>0?Me[0].toLowerCase()+Me.substr(1):Me}return Me}function w(nt,Me,he){return-1!==nt[0].indexOf(he)&&-1!==Me.indexOf(he)&&nt[0].split(he).length===Me.split(he).length}function D(nt,Me,he){const Be=Me.split(he),Ke=nt[0].split(he);let Ye="";return Be.forEach((dt,zt)=>{Ye+=I([Ke[zt]],dt)+he}),Ye.slice(0,-1)}class N{constructor(Me){this.staticValue=Me,this.kind=0}}class A{constructor(Me){this.pieces=Me,this.kind=1}}class k{static fromStaticValue(Me){return new k([R.staticValue(Me)])}get hasReplacementPatterns(){return 1===this._state.kind}constructor(Me){this._state=Me&&0!==Me.length?1===Me.length&&null!==Me[0].staticValue?new N(Me[0].staticValue):new A(Me):new N("")}buildReplaceString(Me,he){if(0===this._state.kind)return he?I(Me,this._state.staticValue):this._state.staticValue;let Be="";for(let Ke=0,Ye=this._state.pieces.length;Ke<Ye;Ke++){const dt=this._state.pieces[Ke];if(null!==dt.staticValue){Be+=dt.staticValue;continue}let zt=k._substitute(dt.matchIndex,Me);if(null!==dt.caseOps&&dt.caseOps.length>0){const _i=[],mi=dt.caseOps.length;let qt=0;for(let oi=0,Ai=zt.length;oi<Ai;oi++){if(qt>=mi){_i.push(zt.slice(oi));break}switch(dt.caseOps[qt]){case"U":_i.push(zt[oi].toUpperCase());break;case"u":_i.push(zt[oi].toUpperCase()),qt++;break;case"L":_i.push(zt[oi].toLowerCase());break;case"l":_i.push(zt[oi].toLowerCase()),qt++;break;default:_i.push(zt[oi])}}zt=_i.join("")}Be+=zt}return Be}static _substitute(Me,he){if(null===he)return"";if(0===Me)return he[0];let Be="";for(;Me>0;){if(Me<he.length)return(he[Me]||"")+Be;Be=String(Me%10)+Be,Me=Math.floor(Me/10)}return"$"+Be}}class R{static staticValue(Me){return new R(Me,-1,null)}static caseOps(Me,he){return new R(null,Me,he)}constructor(Me,he,Be){this.staticValue=Me,this.matchIndex=he,this.caseOps=Be&&0!==Be.length?Be.slice(0):null}}class O{constructor(Me){this._source=Me,this._lastCharIndex=0,this._result=[],this._resultLen=0,this._currentStaticPiece=""}emitUnchanged(Me){this._emitStatic(this._source.substring(this._lastCharIndex,Me)),this._lastCharIndex=Me}emitStatic(Me,he){this._emitStatic(Me),this._lastCharIndex=he}_emitStatic(Me){0!==Me.length&&(this._currentStaticPiece+=Me)}emitMatchIndex(Me,he,Be){0!==this._currentStaticPiece.length&&(this._result[this._resultLen++]=R.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),this._result[this._resultLen++]=R.caseOps(Me,Be),this._lastCharIndex=he}finalize(){return this.emitUnchanged(this._source.length),0!==this._currentStaticPiece.length&&(this._result[this._resultLen++]=R.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),new k(this._result)}}var z=e(66221);const U=new z.uy("findWidgetVisible",!1),B=(U.toNegated(),new z.uy("findInputFocussed",!1)),G=new z.uy("replaceInputFocussed",!1),se={primary:545,mac:{primary:2593}},j={primary:565,mac:{primary:2613}},$={primary:560,mac:{primary:2608}},K={primary:554,mac:{primary:2602}},J={primary:558,mac:{primary:2606}},ne=19999;class ae{constructor(Me,he){this._toDispose=new P.SL,this._editor=Me,this._state=he,this._isDisposed=!1,this._startSearchingTimer=new f._F,this._decorations=new m(Me),this._toDispose.add(this._decorations),this._updateDecorationsScheduler=new f.pY(()=>this.research(!1),100),this._toDispose.add(this._updateDecorationsScheduler),this._toDispose.add(this._editor.onDidChangeCursorPosition(Be=>{(3===Be.reason||5===Be.reason||6===Be.reason)&&this._decorations.setStartPosition(this._editor.getPosition())})),this._ignoreModelContentChanged=!1,this._toDispose.add(this._editor.onDidChangeModelContent(Be=>{this._ignoreModelContentChanged||(Be.isFlush&&this._decorations.reset(),this._decorations.setStartPosition(this._editor.getPosition()),this._updateDecorationsScheduler.schedule())})),this._toDispose.add(this._state.onFindReplaceStateChange(Be=>this._onStateChanged(Be))),this.research(!1,this._state.searchScope)}dispose(){this._isDisposed=!0,(0,P.B9)(this._startSearchingTimer),this._toDispose.dispose()}_onStateChanged(Me){this._isDisposed||this._editor.hasModel()&&(Me.searchString||Me.isReplaceRevealed||Me.isRegex||Me.wholeWord||Me.matchCase||Me.searchScope)&&(this._editor.getModel().isTooLargeForSyncing()?(this._startSearchingTimer.cancel(),this._startSearchingTimer.setIfNotSet(()=>{Me.searchScope?this.research(Me.moveCursor,this._state.searchScope):this.research(Me.moveCursor)},240)):Me.searchScope?this.research(Me.moveCursor,this._state.searchScope):this.research(Me.moveCursor))}static _getSearchRange(Me,he){return he||Me.getFullModelRange()}research(Me,he){let Be=null;typeof he<"u"?null!==he&&(Be=Array.isArray(he)?he:[he]):Be=this._decorations.getFindScopes(),null!==Be&&(Be=Be.map(zt=>{if(zt.startLineNumber!==zt.endLineNumber){let _i=zt.endLineNumber;return 1===zt.endColumn&&(_i-=1),new c.e(zt.startLineNumber,1,_i,this._editor.getModel().getLineMaxColumn(_i))}return zt}));const Ke=this._findMatches(Be,!1,ne);this._decorations.set(Ke,Be);const Ye=this._editor.getSelection();let dt=this._decorations.getCurrentMatchesPosition(Ye);if(0===dt&&Ke.length>0){const zt=(0,E.lG)(Ke.map(_i=>_i.range),_i=>c.e.compareRangesUsingStarts(_i,Ye)>=0);dt=zt>0?zt-1+1:dt}this._state.changeMatchInfo(dt,this._decorations.getCount(),void 0),Me&&this._editor.getOption(40).cursorMoveOnType&&this._moveToNextMatch(this._decorations.getStartPosition())}_hasMatches(){return this._state.matchesCount>0}_cannotFind(){if(!this._hasMatches()){const Me=this._decorations.getFindScope();return Me&&this._editor.revealRangeInCenterIfOutsideViewport(Me,0),!0}return!1}_setCurrentFindMatch(Me){const he=this._decorations.setCurrentFindMatch(Me);this._state.changeMatchInfo(he,this._decorations.getCount(),Me),this._editor.setSelection(Me),this._editor.revealRangeInCenterIfOutsideViewport(Me,0)}_prevSearchPosition(Me){const he=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0);let{lineNumber:Be,column:Ke}=Me;const Ye=this._editor.getModel();return he||1===Ke?(1===Be?Be=Ye.getLineCount():Be--,Ke=Ye.getLineMaxColumn(Be)):Ke--,new p.L(Be,Ke)}_moveToPrevMatch(Me,he=!1){if(!this._state.canNavigateBack()){const qt=this._decorations.matchAfterPosition(Me);return void(qt&&this._setCurrentFindMatch(qt))}if(this._decorations.getCount()<ne){let qt=this._decorations.matchBeforePosition(Me);return qt&&qt.isEmpty()&&qt.getStartPosition().equals(Me)&&(Me=this._prevSearchPosition(Me),qt=this._decorations.matchBeforePosition(Me)),void(qt&&this._setCurrentFindMatch(qt))}if(this._cannotFind())return;const Be=this._decorations.getFindScope(),Ke=ae._getSearchRange(this._editor.getModel(),Be);Ke.getEndPosition().isBefore(Me)&&(Me=Ke.getEndPosition()),Me.isBefore(Ke.getStartPosition())&&(Me=Ke.getEndPosition());const{lineNumber:Ye,column:dt}=Me,zt=this._editor.getModel();let _i=new p.L(Ye,dt),mi=zt.findPreviousMatch(this._state.searchString,_i,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(128):null,!1);if(mi&&mi.range.isEmpty()&&mi.range.getStartPosition().equals(_i)&&(_i=this._prevSearchPosition(_i),mi=zt.findPreviousMatch(this._state.searchString,_i,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(128):null,!1)),mi){if(!he&&!Ke.containsRange(mi.range))return this._moveToPrevMatch(mi.range.getStartPosition(),!0);this._setCurrentFindMatch(mi.range)}}moveToPrevMatch(){this._moveToPrevMatch(this._editor.getSelection().getStartPosition())}_nextSearchPosition(Me){const he=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0);let{lineNumber:Be,column:Ke}=Me;const Ye=this._editor.getModel();return he||Ke===Ye.getLineMaxColumn(Be)?(Be===Ye.getLineCount()?Be=1:Be++,Ke=1):Ke++,new p.L(Be,Ke)}_moveToNextMatch(Me){if(!this._state.canNavigateForward()){const Be=this._decorations.matchBeforePosition(Me);return void(Be&&this._setCurrentFindMatch(Be))}if(this._decorations.getCount()<ne){let Be=this._decorations.matchAfterPosition(Me);return Be&&Be.isEmpty()&&Be.getStartPosition().equals(Me)&&(Me=this._nextSearchPosition(Me),Be=this._decorations.matchAfterPosition(Me)),void(Be&&this._setCurrentFindMatch(Be))}const he=this._getNextMatch(Me,!1,!0);he&&this._setCurrentFindMatch(he.range)}_getNextMatch(Me,he,Be,Ke=!1){if(this._cannotFind())return null;const Ye=this._decorations.getFindScope(),dt=ae._getSearchRange(this._editor.getModel(),Ye);dt.getEndPosition().isBefore(Me)&&(Me=dt.getStartPosition()),Me.isBefore(dt.getStartPosition())&&(Me=dt.getStartPosition());const{lineNumber:zt,column:_i}=Me,mi=this._editor.getModel();let qt=new p.L(zt,_i),oi=mi.findNextMatch(this._state.searchString,qt,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(128):null,he);return Be&&oi&&oi.range.isEmpty()&&oi.range.getStartPosition().equals(qt)&&(qt=this._nextSearchPosition(qt),oi=mi.findNextMatch(this._state.searchString,qt,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(128):null,he)),oi?Ke||dt.containsRange(oi.range)?oi:this._getNextMatch(oi.range.getEndPosition(),he,Be,!0):null}moveToNextMatch(){this._moveToNextMatch(this._editor.getSelection().getEndPosition())}_moveToMatch(Me){const he=this._decorations.getDecorationRangeAt(Me);he&&this._setCurrentFindMatch(he)}moveToMatch(Me){this._moveToMatch(Me)}_getReplacePattern(){return this._state.isRegex?function W(nt){if(!nt||0===nt.length)return new k(null);const Me=[],he=new O(nt);for(let Be=0,Ke=nt.length;Be<Ke;Be++){const Ye=nt.charCodeAt(Be);if(92!==Ye){if(36===Ye){if(Be++,Be>=Ke)break;const dt=nt.charCodeAt(Be);if(36===dt){he.emitUnchanged(Be-1),he.emitStatic("$",Be+1);continue}if(48===dt||38===dt){he.emitUnchanged(Be-1),he.emitMatchIndex(0,Be+1,Me),Me.length=0;continue}if(49<=dt&&dt<=57){let zt=dt-48;if(Be+1<Ke){const _i=nt.charCodeAt(Be+1);if(48<=_i&&_i<=57){Be++,zt=10*zt+(_i-48),he.emitUnchanged(Be-2),he.emitMatchIndex(zt,Be+1,Me),Me.length=0;continue}}he.emitUnchanged(Be-1),he.emitMatchIndex(zt,Be+1,Me),Me.length=0;continue}}}else{if(Be++,Be>=Ke)break;const dt=nt.charCodeAt(Be);switch(dt){case 92:he.emitUnchanged(Be-1),he.emitStatic("\\",Be+1);break;case 110:he.emitUnchanged(Be-1),he.emitStatic("\n",Be+1);break;case 116:he.emitUnchanged(Be-1),he.emitStatic("\t",Be+1);break;case 117:case 85:case 108:case 76:he.emitUnchanged(Be-1),he.emitStatic("",Be+1),Me.push(String.fromCharCode(dt))}}}return he.finalize()}(this._state.replaceString):k.fromStaticValue(this._state.replaceString)}replace(){if(!this._hasMatches())return;const Me=this._getReplacePattern(),he=this._editor.getSelection(),Be=this._getNextMatch(he.getStartPosition(),!0,!1);if(Be)if(he.equalsRange(Be.range)){const Ke=Me.buildReplaceString(Be.matches,this._state.preserveCase),Ye=new L.T4(he,Ke);this._executeEditorCommand("replace",Ye),this._decorations.setStartPosition(new p.L(he.startLineNumber,he.startColumn+Ke.length)),this.research(!0)}else this._decorations.setStartPosition(this._editor.getPosition()),this._setCurrentFindMatch(Be.range)}_findMatches(Me,he,Be){const Ke=(Me||[null]).map(Ye=>ae._getSearchRange(this._editor.getModel(),Ye));return this._editor.getModel().findMatches(this._state.searchString,Ke,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(128):null,he,Be)}replaceAll(){if(!this._hasMatches())return;const Me=this._decorations.getFindScopes();null===Me&&this._state.matchesCount>=ne?this._largeReplaceAll():this._regularReplaceAll(Me),this.research(!1)}_largeReplaceAll(){const he=new g.bc(this._state.searchString,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(128):null).parseSearchRequest();if(!he)return;let Be=he.regex;if(!Be.multiline){let oi="mu";Be.ignoreCase&&(oi+="i"),Be.global&&(oi+="g"),Be=new RegExp(Be.source,oi)}const Ke=this._editor.getModel(),Ye=Ke.getValue(1),dt=Ke.getFullModelRange(),zt=this._getReplacePattern();let _i;const mi=this._state.preserveCase;_i=Ye.replace(Be,zt.hasReplacementPatterns||mi?function(){return zt.buildReplaceString(arguments,mi)}:zt.buildReplaceString(null,mi));const qt=new L.hP(dt,_i,this._editor.getSelection());this._executeEditorCommand("replaceAll",qt)}_regularReplaceAll(Me){const he=this._getReplacePattern(),Be=this._findMatches(Me,he.hasReplacementPatterns||this._state.preserveCase,1073741824),Ke=[];for(let dt=0,zt=Be.length;dt<zt;dt++)Ke[dt]=he.buildReplaceString(Be[dt].matches,this._state.preserveCase);const Ye=new l(this._editor.getSelection(),Be.map(dt=>dt.range),Ke);this._executeEditorCommand("replaceAll",Ye)}selectAllMatches(){if(!this._hasMatches())return;const Me=this._decorations.getFindScopes();let Be=this._findMatches(Me,!1,1073741824).map(Ye=>new u.Y(Ye.range.startLineNumber,Ye.range.startColumn,Ye.range.endLineNumber,Ye.range.endColumn));const Ke=this._editor.getSelection();for(let Ye=0,dt=Be.length;Ye<dt;Ye++)if(Be[Ye].equalsRange(Ke)){Be=[Ke].concat(Be.slice(0,Ye)).concat(Be.slice(Ye+1));break}this._editor.setSelections(Be)}_executeEditorCommand(Me,he){try{this._ignoreModelContentChanged=!0,this._editor.pushUndoStop(),this._editor.executeCommand(Me,he),this._editor.pushUndoStop()}finally{this._ignoreModelContentChanged=!1}}}var ge=e(20274),_e=e(93379),ue=e.n(_e),ve=e(7795),Ie=e.n(ve),Se=e(90569),Ve=e.n(Se),De=e(3565),ye=e.n(De),oe=e(19216),Y=e.n(oe),x=e(44589),F=e.n(x),ie=e(68875),Ce={};Ce.styleTagTransform=F(),Ce.setAttributes=ye(),Ce.insert=Ve().bind(null,"head"),Ce.domAPI=Ie(),Ce.insertStyleElement=Y(),ue()(ie.Z,Ce);var xe=e(65306),fe=e(19491);let be=(()=>{class nt extends fe.${constructor(he,Be,Ke){super(),this._hideSoon=this._register(new f.pY(()=>this._hide(),2e3)),this._isVisible=!1,this._editor=he,this._state=Be,this._keybindingService=Ke,this._domNode=document.createElement("div"),this._domNode.className="findOptionsWidget",this._domNode.style.display="none",this._domNode.style.top="10px",this._domNode.style.zIndex="12",this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true");const Ye={inputActiveOptionBorder:(0,d.n_1)(d.PRb),inputActiveOptionForeground:(0,d.n_1)(d.Pvw),inputActiveOptionBackground:(0,d.n_1)(d.XEs)};this.caseSensitive=this._register(new xe.rk(Object.assign({appendTitle:this._keybindingLabelFor("toggleFindCaseSensitive"),isChecked:this._state.matchCase},Ye))),this._domNode.appendChild(this.caseSensitive.domNode),this._register(this.caseSensitive.onChange(()=>{this._state.change({matchCase:this.caseSensitive.checked},!1)})),this.wholeWords=this._register(new xe.Qx(Object.assign({appendTitle:this._keybindingLabelFor("toggleFindWholeWord"),isChecked:this._state.wholeWord},Ye))),this._domNode.appendChild(this.wholeWords.domNode),this._register(this.wholeWords.onChange(()=>{this._state.change({wholeWord:this.wholeWords.checked},!1)})),this.regex=this._register(new xe.eH(Object.assign({appendTitle:this._keybindingLabelFor("toggleFindRegex"),isChecked:this._state.isRegex},Ye))),this._domNode.appendChild(this.regex.domNode),this._register(this.regex.onChange(()=>{this._state.change({isRegex:this.regex.checked},!1)})),this._editor.addOverlayWidget(this),this._register(this._state.onFindReplaceStateChange(dt=>{let zt=!1;dt.isRegex&&(this.regex.checked=this._state.isRegex,zt=!0),dt.wholeWord&&(this.wholeWords.checked=this._state.wholeWord,zt=!0),dt.matchCase&&(this.caseSensitive.checked=this._state.matchCase,zt=!0),!this._state.isRevealed&&zt&&this._revealTemporarily()})),this._register(ge.nm(this._domNode,ge.tw.MOUSE_LEAVE,dt=>this._onMouseLeave())),this._register(ge.nm(this._domNode,"mouseover",dt=>this._onMouseOver()))}_keybindingLabelFor(he){const Be=this._keybindingService.lookupKeybinding(he);return Be?` (${Be.getLabel()})`:""}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return nt.ID}getDomNode(){return this._domNode}getPosition(){return{preference:0}}highlightFindOptions(){this._revealTemporarily()}_revealTemporarily(){this._show(),this._hideSoon.schedule()}_onMouseLeave(){this._hideSoon.schedule()}_onMouseOver(){this._hideSoon.cancel()}_show(){this._isVisible||(this._isVisible=!0,this._domNode.style.display="block")}_hide(){this._isVisible&&(this._isVisible=!1,this._domNode.style.display="none")}}return nt.ID="editor.contrib.findOptionsWidget",nt})();var pe=e(58178);function Q(nt,Me){return 1===nt||2!==nt&&Me}class le extends P.JT{get searchString(){return this._searchString}get replaceString(){return this._replaceString}get isRevealed(){return this._isRevealed}get isReplaceRevealed(){return this._isReplaceRevealed}get isRegex(){return Q(this._isRegexOverride,this._isRegex)}get wholeWord(){return Q(this._wholeWordOverride,this._wholeWord)}get matchCase(){return Q(this._matchCaseOverride,this._matchCase)}get preserveCase(){return Q(this._preserveCaseOverride,this._preserveCase)}get actualIsRegex(){return this._isRegex}get actualWholeWord(){return this._wholeWord}get actualMatchCase(){return this._matchCase}get actualPreserveCase(){return this._preserveCase}get searchScope(){return this._searchScope}get matchesPosition(){return this._matchesPosition}get matchesCount(){return this._matchesCount}get currentMatch(){return this._currentMatch}constructor(){super(),this._onFindReplaceStateChange=this._register(new pe.Q5),this.onFindReplaceStateChange=this._onFindReplaceStateChange.event,this._searchString="",this._replaceString="",this._isRevealed=!1,this._isReplaceRevealed=!1,this._isRegex=!1,this._isRegexOverride=0,this._wholeWord=!1,this._wholeWordOverride=0,this._matchCase=!1,this._matchCaseOverride=0,this._preserveCase=!1,this._preserveCaseOverride=0,this._searchScope=null,this._matchesPosition=0,this._matchesCount=0,this._currentMatch=null,this._loop=!0,this._isSearching=!1,this._filters=null}changeMatchInfo(Me,he,Be){const Ke={moveCursor:!1,updateHistory:!1,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1,isSearching:!1,filters:!1};let Ye=!1;0===he&&(Me=0),Me>he&&(Me=he),this._matchesPosition!==Me&&(this._matchesPosition=Me,Ke.matchesPosition=!0,Ye=!0),this._matchesCount!==he&&(this._matchesCount=he,Ke.matchesCount=!0,Ye=!0),typeof Be<"u"&&(c.e.equalsRange(this._currentMatch,Be)||(this._currentMatch=Be,Ke.currentMatch=!0,Ye=!0)),Ye&&this._onFindReplaceStateChange.fire(Ke)}change(Me,he,Be=!0){var Ke;const Ye={moveCursor:he,updateHistory:Be,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1,isSearching:!1,filters:!1};let dt=!1;const zt=this.isRegex,_i=this.wholeWord,mi=this.matchCase,qt=this.preserveCase;typeof Me.searchString<"u"&&this._searchString!==Me.searchString&&(this._searchString=Me.searchString,Ye.searchString=!0,dt=!0),typeof Me.replaceString<"u"&&this._replaceString!==Me.replaceString&&(this._replaceString=Me.replaceString,Ye.replaceString=!0,dt=!0),typeof Me.isRevealed<"u"&&this._isRevealed!==Me.isRevealed&&(this._isRevealed=Me.isRevealed,Ye.isRevealed=!0,dt=!0),typeof Me.isReplaceRevealed<"u"&&this._isReplaceRevealed!==Me.isReplaceRevealed&&(this._isReplaceRevealed=Me.isReplaceRevealed,Ye.isReplaceRevealed=!0,dt=!0),typeof Me.isRegex<"u"&&(this._isRegex=Me.isRegex),typeof Me.wholeWord<"u"&&(this._wholeWord=Me.wholeWord),typeof Me.matchCase<"u"&&(this._matchCase=Me.matchCase),typeof Me.preserveCase<"u"&&(this._preserveCase=Me.preserveCase),typeof Me.searchScope<"u"&&(!(null===(Ke=Me.searchScope)||void 0===Ke)&&Ke.every(oi=>{var Ai;return null===(Ai=this._searchScope)||void 0===Ai?void 0:Ai.some(Wi=>!c.e.equalsRange(Wi,oi))})||(this._searchScope=Me.searchScope,Ye.searchScope=!0,dt=!0)),typeof Me.loop<"u"&&this._loop!==Me.loop&&(this._loop=Me.loop,Ye.loop=!0,dt=!0),typeof Me.isSearching<"u"&&this._isSearching!==Me.isSearching&&(this._isSearching=Me.isSearching,Ye.isSearching=!0,dt=!0),typeof Me.filters<"u"&&(this._filters?this._filters.update(Me.filters):this._filters=Me.filters,Ye.filters=!0,dt=!0),this._isRegexOverride=typeof Me.isRegexOverride<"u"?Me.isRegexOverride:0,this._wholeWordOverride=typeof Me.wholeWordOverride<"u"?Me.wholeWordOverride:0,this._matchCaseOverride=typeof Me.matchCaseOverride<"u"?Me.matchCaseOverride:0,this._preserveCaseOverride=typeof Me.preserveCaseOverride<"u"?Me.preserveCaseOverride:0,zt!==this.isRegex&&(dt=!0,Ye.isRegex=!0),_i!==this.wholeWord&&(dt=!0,Ye.wholeWord=!0),mi!==this.matchCase&&(dt=!0,Ye.matchCase=!0),qt!==this.preserveCase&&(dt=!0,Ye.preserveCase=!0),dt&&this._onFindReplaceStateChange.fire(Ye)}canNavigateBack(){return this.canNavigateInLoop()||1!==this.matchesPosition}canNavigateForward(){return this.canNavigateInLoop()||this.matchesPosition<this.matchesCount}canNavigateInLoop(){return this._loop||this.matchesCount>=ne}}var Fe=e(41539),He=e(50145),Je=e(89344),ot=e(27222),lt=e(17967),mt=e(88593),ft=e(56950),Lt={};Lt.styleTagTransform=F(),Lt.setAttributes=ye(),Lt.insert=Ve().bind(null,"head"),Lt.domAPI=Ie(),Lt.insertStyleElement=Y(),ue()(ft.Z,Lt);var Ut=e(37190),At=e(30545);function It(nt){var Me,he;return"Up"===(null===(Me=nt.lookupKeybinding("history.showPrevious"))||void 0===Me?void 0:Me.getElectronAccelerator())&&"Down"===(null===(he=nt.lookupKeybinding("history.showNext"))||void 0===he?void 0:he.getElectronAccelerator())}var it=e(34252),qe=e(35053),Ze=e(13054),Ee=e(91402),Te=e(36547);const ht=(0,it.q5)("find-selection",ot.l.selection,Ut.NC("findSelectionIcon","Icon for 'Find in Selection' in the editor find widget.")),yt=(0,it.q5)("find-collapsed",ot.l.chevronRight,Ut.NC("findCollapsedIcon","Icon to indicate that the editor find widget is collapsed.")),Dt=(0,it.q5)("find-expanded",ot.l.chevronDown,Ut.NC("findExpandedIcon","Icon to indicate that the editor find widget is expanded.")),Ot=(0,it.q5)("find-replace",ot.l.replace,Ut.NC("findReplaceIcon","Icon for 'Replace' in the editor find widget.")),gt=(0,it.q5)("find-replace-all",ot.l.replaceAll,Ut.NC("findReplaceAllIcon","Icon for 'Replace All' in the editor find widget.")),Rt=(0,it.q5)("find-previous-match",ot.l.arrowUp,Ut.NC("findPreviousMatchIcon","Icon for 'Find Previous' in the editor find widget.")),Zt=(0,it.q5)("find-next-match",ot.l.arrowDown,Ut.NC("findNextMatchIcon","Icon for 'Find Next' in the editor find widget.")),Ci=Ut.NC("label.findDialog","Find / Replace"),ci=Ut.NC("label.find","Find"),Mi=Ut.NC("placeholder.find","Find"),Gi=Ut.NC("label.previousMatchButton","Previous Match"),Zi=Ut.NC("label.nextMatchButton","Next Match"),St=Ut.NC("label.toggleSelectionFind","Find in Selection"),st=Ut.NC("label.closeButton","Close"),ut=Ut.NC("label.replace","Replace"),pt=Ut.NC("placeholder.replace","Replace"),Ne=Ut.NC("label.replaceButton","Replace"),je=Ut.NC("label.replaceAllButton","Replace All"),et=Ut.NC("label.toggleReplaceButton","Toggle Replace"),wt=Ut.NC("title.matchesCountLimit","Only the first {0} results are highlighted, but all find operations work on the entire text.",ne),Bt=Ut.NC("label.matchesLocation","{0} of {1}"),xt=Ut.NC("label.noResults","No results");let di=69;const Ki="ctrlEnterReplaceAll.windows.donotask",zi=mt.dz?256:2048;class qi{constructor(Me){this.afterLineNumber=Me,this.heightInPx=33,this.suppressMouseDown=!1,this.domNode=document.createElement("div"),this.domNode.className="dock-find-viewzone"}}function fn(nt,Me,he){const Be=!!Me.match(/\n/);he&&Be&&he.selectionStart>0&&nt.stopPropagation()}function Nn(nt,Me,he){const Be=!!Me.match(/\n/);he&&Be&&he.selectionEnd<he.value.length&&nt.stopPropagation()}let xn=(()=>{class nt extends fe.${constructor(he,Be,Ke,Ye,dt,zt,_i,mi,qt){super(),this._cachedHeight=null,this._revealTimeouts=[],this._codeEditor=he,this._controller=Be,this._state=Ke,this._contextViewProvider=Ye,this._keybindingService=dt,this._contextKeyService=zt,this._storageService=mi,this._notificationService=qt,this._ctrlEnterReplaceAllWarningPrompted=!!mi.getBoolean(Ki,0),this._isVisible=!1,this._isReplaceVisible=!1,this._ignoreChangeEvent=!1,this._updateHistoryDelayer=new f.vp(500),this._register((0,P.OF)(()=>this._updateHistoryDelayer.cancel())),this._register(this._state.onFindReplaceStateChange(oi=>this._onStateChanged(oi))),this._buildDomNode(),this._updateButtons(),this._tryUpdateWidgetWidth(),this._findInput.inputBox.layout(),this._register(this._codeEditor.onDidChangeConfiguration(oi=>{if(oi.hasChanged(89)&&(this._codeEditor.getOption(89)&&this._state.change({isReplaceRevealed:!1},!1),this._updateButtons()),oi.hasChanged(142)&&this._tryUpdateWidgetWidth(),oi.hasChanged(2)&&this.updateAccessibilitySupport(),oi.hasChanged(40)){const Ai=this._codeEditor.getOption(40).loop;this._state.change({loop:Ai},!1);const Wi=this._codeEditor.getOption(40).addExtraSpaceOnTop;Wi&&!this._viewZone&&(this._viewZone=new qi(0),this._showViewZone()),!Wi&&this._viewZone&&this._removeViewZone()}})),this.updateAccessibilitySupport(),this._register(this._codeEditor.onDidChangeCursorSelection(()=>{this._isVisible&&this._updateToggleSelectionFindButton()})),this._register(this._codeEditor.onDidFocusEditorWidget(()=>function(nt,Me,he,Be){return new(he||(he=Promise))(function(Ye,dt){function zt(qt){try{mi(Be.next(qt))}catch(oi){dt(oi)}}function _i(qt){try{mi(Be.throw(qt))}catch(oi){dt(oi)}}function mi(qt){qt.done?Ye(qt.value):function Ke(Ye){return Ye instanceof he?Ye:new he(function(dt){dt(Ye)})}(qt.value).then(zt,_i)}mi((Be=Be.apply(nt,Me||[])).next())})}(this,void 0,void 0,function*(){if(this._isVisible){const oi=yield this._controller.getGlobalBufferTerm();oi&&oi!==this._state.searchString&&(this._state.change({searchString:oi},!1),this._findInput.select())}}))),this._findInputFocused=B.bindTo(zt),this._findFocusTracker=this._register(ge.go(this._findInput.inputBox.inputElement)),this._register(this._findFocusTracker.onDidFocus(()=>{this._findInputFocused.set(!0),this._updateSearchScope()})),this._register(this._findFocusTracker.onDidBlur(()=>{this._findInputFocused.set(!1)})),this._replaceInputFocused=G.bindTo(zt),this._replaceFocusTracker=this._register(ge.go(this._replaceInput.inputBox.inputElement)),this._register(this._replaceFocusTracker.onDidFocus(()=>{this._replaceInputFocused.set(!0),this._updateSearchScope()})),this._register(this._replaceFocusTracker.onDidBlur(()=>{this._replaceInputFocused.set(!1)})),this._codeEditor.addOverlayWidget(this),this._codeEditor.getOption(40).addExtraSpaceOnTop&&(this._viewZone=new qi(0)),this._register(this._codeEditor.onDidChangeModel(()=>{this._isVisible&&(this._viewZoneId=void 0)})),this._register(this._codeEditor.onDidScrollChange(oi=>{oi.scrollTopChanged?this._layoutViewZone():setTimeout(()=>{this._layoutViewZone()},0)}))}getId(){return nt.ID}getDomNode(){return this._domNode}getPosition(){return this._isVisible?{preference:0}:null}_onStateChanged(he){if(he.searchString){try{this._ignoreChangeEvent=!0,this._findInput.setValue(this._state.searchString)}finally{this._ignoreChangeEvent=!1}this._updateButtons()}he.replaceString&&(this._replaceInput.inputBox.value=this._state.replaceString),he.isRevealed&&(this._state.isRevealed?this._reveal():this._hide(!0)),he.isReplaceRevealed&&(this._state.isReplaceRevealed?!this._codeEditor.getOption(89)&&!this._isReplaceVisible&&(this._isReplaceVisible=!0,this._replaceInput.width=ge.w(this._findInput.domNode),this._updateButtons(),this._replaceInput.inputBox.layout()):this._isReplaceVisible&&(this._isReplaceVisible=!1,this._updateButtons())),(he.isRevealed||he.isReplaceRevealed)&&(this._state.isRevealed||this._state.isReplaceRevealed)&&this._tryUpdateHeight()&&this._showViewZone(),he.isRegex&&this._findInput.setRegex(this._state.isRegex),he.wholeWord&&this._findInput.setWholeWords(this._state.wholeWord),he.matchCase&&this._findInput.setCaseSensitive(this._state.matchCase),he.preserveCase&&this._replaceInput.setPreserveCase(this._state.preserveCase),he.searchScope&&(this._toggleSelectionFind.checked=!!this._state.searchScope,this._updateToggleSelectionFindButton()),(he.searchString||he.matchesCount||he.matchesPosition)&&(this._domNode.classList.toggle("no-results",this._state.searchString.length>0&&0===this._state.matchesCount),this._updateMatchesCount(),this._updateButtons()),(he.searchString||he.currentMatch)&&this._layoutViewZone(),he.updateHistory&&this._delayedUpdateHistory(),he.loop&&this._updateButtons()}_delayedUpdateHistory(){this._updateHistoryDelayer.trigger(this._updateHistory.bind(this)).then(void 0,lt.dL)}_updateHistory(){this._state.searchString&&this._findInput.inputBox.addToHistory(),this._state.replaceString&&this._replaceInput.inputBox.addToHistory()}_updateMatchesCount(){let he;if(this._matchesCount.style.minWidth=di+"px",this._matchesCount.title=this._state.matchesCount>=ne?wt:"",this._matchesCount.firstChild&&this._matchesCount.removeChild(this._matchesCount.firstChild),this._state.matchesCount>0){let Be=String(this._state.matchesCount);this._state.matchesCount>=ne&&(Be+="+");let Ke=String(this._state.matchesPosition);"0"===Ke&&(Ke="?"),he=r.WU(Bt,Ke,Be)}else he=xt;this._matchesCount.appendChild(document.createTextNode(he)),(0,Fe.Z9)(this._getAriaLabel(he,this._state.currentMatch,this._state.searchString)),di=Math.max(di,this._matchesCount.clientWidth)}_getAriaLabel(he,Be,Ke){if(he===xt)return""===Ke?Ut.NC("ariaSearchNoResultEmpty","{0} found",he):Ut.NC("ariaSearchNoResult","{0} found for '{1}'",he,Ke);if(Be){const Ye=Ut.NC("ariaSearchNoResultWithLineNum","{0} found for '{1}', at {2}",he,Ke,Be.startLineNumber+":"+Be.startColumn),dt=this._codeEditor.getModel();return dt&&Be.startLineNumber<=dt.getLineCount()&&Be.startLineNumber>=1?`${dt.getLineContent(Be.startLineNumber)}, ${Ye}`:Ye}return Ut.NC("ariaSearchNoResultWithLineNumNoCurrentMatch","{0} found for '{1}'",he,Ke)}_updateToggleSelectionFindButton(){const he=this._codeEditor.getSelection();this._isVisible&&(this._toggleSelectionFind.checked||he&&(he.startLineNumber!==he.endLineNumber||he.startColumn!==he.endColumn))?this._toggleSelectionFind.enable():this._toggleSelectionFind.disable()}_updateButtons(){this._findInput.setEnabled(this._isVisible),this._replaceInput.setEnabled(this._isVisible&&this._isReplaceVisible),this._updateToggleSelectionFindButton(),this._closeBtn.setEnabled(this._isVisible);const he=this._state.searchString.length>0,Be=!!this._state.matchesCount;this._prevBtn.setEnabled(this._isVisible&&he&&Be&&this._state.canNavigateBack()),this._nextBtn.setEnabled(this._isVisible&&he&&Be&&this._state.canNavigateForward()),this._replaceBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&he),this._replaceAllBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&he),this._domNode.classList.toggle("replaceToggled",this._isReplaceVisible),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible);const Ke=!this._codeEditor.getOption(89);this._toggleReplaceBtn.setEnabled(this._isVisible&&Ke)}_reveal(){if(this._revealTimeouts.forEach(he=>{clearTimeout(he)}),this._revealTimeouts=[],!this._isVisible){this._isVisible=!0;const he=this._codeEditor.getSelection();switch(this._codeEditor.getOption(40).autoFindInSelection){case"always":this._toggleSelectionFind.checked=!0;break;case"never":this._toggleSelectionFind.checked=!1;break;case"multiline":this._toggleSelectionFind.checked=!!he&&he.startLineNumber!==he.endLineNumber}this._tryUpdateWidgetWidth(),this._updateButtons(),this._revealTimeouts.push(setTimeout(()=>{this._domNode.classList.add("visible"),this._domNode.setAttribute("aria-hidden","false")},0)),this._revealTimeouts.push(setTimeout(()=>{this._findInput.validate()},200)),this._codeEditor.layoutOverlayWidget(this);let Be=!0;if(this._codeEditor.getOption(40).seedSearchStringFromSelection&&he){const Ke=this._codeEditor.getDomNode();if(Ke){const Ye=ge.i(Ke),dt=this._codeEditor.getScrolledVisiblePosition(he.getStartPosition()),zt=Ye.left+(dt?dt.left:0);if(this._viewZone&&(dt?dt.top:0)<this._viewZone.heightInPx){he.endLineNumber>he.startLineNumber&&(Be=!1);const mi=ge.xQ(this._domNode).left;zt>mi&&(Be=!1);const qt=this._codeEditor.getScrolledVisiblePosition(he.getEndPosition());Ye.left+(qt?qt.left:0)>mi&&(Be=!1)}}}this._showViewZone(Be)}}_hide(he){this._revealTimeouts.forEach(Be=>{clearTimeout(Be)}),this._revealTimeouts=[],this._isVisible&&(this._isVisible=!1,this._updateButtons(),this._domNode.classList.remove("visible"),this._domNode.setAttribute("aria-hidden","true"),this._findInput.clearMessage(),he&&this._codeEditor.focus(),this._codeEditor.layoutOverlayWidget(this),this._removeViewZone())}_layoutViewZone(he){if(!this._codeEditor.getOption(40).addExtraSpaceOnTop)return void this._removeViewZone();if(!this._isVisible)return;const Ke=this._viewZone;void 0!==this._viewZoneId||!Ke||this._codeEditor.changeViewZones(Ye=>{Ke.heightInPx=this._getHeight(),this._viewZoneId=Ye.addZone(Ke),this._codeEditor.setScrollTop(he||this._codeEditor.getScrollTop()+Ke.heightInPx)})}_showViewZone(he=!0){if(!this._isVisible||!this._codeEditor.getOption(40).addExtraSpaceOnTop)return;void 0===this._viewZone&&(this._viewZone=new qi(0));const Ke=this._viewZone;this._codeEditor.changeViewZones(Ye=>{if(void 0!==this._viewZoneId){const dt=this._getHeight();if(dt===Ke.heightInPx)return;const zt=dt-Ke.heightInPx;return Ke.heightInPx=dt,Ye.layoutZone(this._viewZoneId),void(he&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+zt))}{let dt=this._getHeight();if(dt-=this._codeEditor.getOption(82).top,dt<=0)return;Ke.heightInPx=dt,this._viewZoneId=Ye.addZone(Ke),he&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+dt)}})}_removeViewZone(){this._codeEditor.changeViewZones(he=>{void 0!==this._viewZoneId&&(he.removeZone(this._viewZoneId),this._viewZoneId=void 0,this._viewZone&&(this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()-this._viewZone.heightInPx),this._viewZone=void 0))})}_tryUpdateWidgetWidth(){if(!this._isVisible||!ge.Uw(this._domNode))return;const he=this._codeEditor.getLayoutInfo();if(he.contentWidth<=0)return void this._domNode.classList.add("hiddenEditor");this._domNode.classList.contains("hiddenEditor")&&this._domNode.classList.remove("hiddenEditor");const Ke=he.width,Ye=he.minimap.minimapWidth;let dt=!1,zt=!1,_i=!1;if(this._resized&&ge.w(this._domNode)>419)return this._domNode.style.maxWidth=Ke-28-Ye-15+"px",void(this._replaceInput.width=ge.w(this._findInput.domNode));if(447+Ye>=Ke&&(zt=!0),447+Ye-di>=Ke&&(_i=!0),447+Ye-di>=Ke+50&&(dt=!0),this._domNode.classList.toggle("collapsed-find-widget",dt),this._domNode.classList.toggle("narrow-find-widget",_i),this._domNode.classList.toggle("reduced-find-widget",zt),!_i&&!dt&&(this._domNode.style.maxWidth=Ke-28-Ye-15+"px"),this._findInput.layout({collapsedFindWidget:dt,narrowFindWidget:_i,reducedFindWidget:zt}),this._resized){const mi=this._findInput.inputBox.element.clientWidth;mi>0&&(this._replaceInput.width=mi)}else this._isReplaceVisible&&(this._replaceInput.width=ge.w(this._findInput.domNode))}_getHeight(){let he=0;return he+=4,he+=this._findInput.inputBox.height+2,this._isReplaceVisible&&(he+=4,he+=this._replaceInput.inputBox.height+2),he+=4,he}_tryUpdateHeight(){const he=this._getHeight();return(null===this._cachedHeight||this._cachedHeight!==he)&&(this._cachedHeight=he,this._domNode.style.height=`${he}px`,!0)}focusFindInput(){this._findInput.select(),this._findInput.focus()}focusReplaceInput(){this._replaceInput.select(),this._replaceInput.focus()}highlightFindOptions(){this._findInput.highlightFindOptions()}_updateSearchScope(){if(this._codeEditor.hasModel()&&this._toggleSelectionFind.checked){const he=this._codeEditor.getSelections();he.map(Be=>(1===Be.endColumn&&Be.endLineNumber>Be.startLineNumber&&(Be=Be.setEndPosition(Be.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(Be.endLineNumber-1))),Be.startLineNumber===Be.endLineNumber||c.e.equalsRange(Be,this._state.currentMatch)?null:Be)).filter(Be=>!!Be),he.length&&this._state.change({searchScope:he},!0)}}_onFindInputMouseDown(he){he.middleButton&&he.stopPropagation()}_onFindInputKeyDown(he){return he.equals(3|zi)?(this._keybindingService.dispatchEvent(he,he.target)||this._findInput.inputBox.insertAtCursor("\n"),void he.preventDefault()):he.equals(2)?(this._isReplaceVisible?this._replaceInput.focus():this._findInput.focusOnCaseSensitive(),void he.preventDefault()):he.equals(2066)?(this._codeEditor.focus(),void he.preventDefault()):he.equals(16)?fn(he,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea")):he.equals(18)?Nn(he,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea")):void 0}_onReplaceInputKeyDown(he){return he.equals(3|zi)?(this._keybindingService.dispatchEvent(he,he.target)||(mt.ED&&mt.tY&&!this._ctrlEnterReplaceAllWarningPrompted&&(this._notificationService.info(Ut.NC("ctrlEnter.keybindingChanged","Ctrl+Enter now inserts line break instead of replacing all. You can modify the keybinding for editor.action.replaceAll to override this behavior.")),this._ctrlEnterReplaceAllWarningPrompted=!0,this._storageService.store(Ki,!0,0,0)),this._replaceInput.inputBox.insertAtCursor("\n")),void he.preventDefault()):he.equals(2)?(this._findInput.focusOnCaseSensitive(),void he.preventDefault()):he.equals(1026)?(this._findInput.focus(),void he.preventDefault()):he.equals(2066)?(this._codeEditor.focus(),void he.preventDefault()):he.equals(16)?fn(he,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea")):he.equals(18)?Nn(he,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea")):void 0}getVerticalSashLeft(he){return 0}_keybindingLabelFor(he){const Be=this._keybindingService.lookupKeybinding(he);return Be?` (${Be.getLabel()})`:""}_buildDomNode(){this._findInput=this._register(new At.Yb(null,this._contextViewProvider,{width:221,label:ci,placeholder:Mi,appendCaseSensitiveLabel:this._keybindingLabelFor("toggleFindCaseSensitive"),appendWholeWordsLabel:this._keybindingLabelFor("toggleFindWholeWord"),appendRegexLabel:this._keybindingLabelFor("toggleFindRegex"),validation:mi=>{if(0===mi.length||!this._findInput.getRegex())return null;try{return new RegExp(mi,"gu"),null}catch(qt){return{content:qt.message}}},flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118,showCommonFindToggles:!0,showHistoryHint:()=>It(this._keybindingService),inputBoxStyles:Te.Hc,toggleStyles:Te.pl},this._contextKeyService)),this._findInput.setRegex(!!this._state.isRegex),this._findInput.setCaseSensitive(!!this._state.matchCase),this._findInput.setWholeWords(!!this._state.wholeWord),this._register(this._findInput.onKeyDown(mi=>this._onFindInputKeyDown(mi))),this._register(this._findInput.inputBox.onDidChange(()=>{this._ignoreChangeEvent||this._state.change({searchString:this._findInput.getValue()},!0)})),this._register(this._findInput.onDidOptionChange(()=>{this._state.change({isRegex:this._findInput.getRegex(),wholeWord:this._findInput.getWholeWords(),matchCase:this._findInput.getCaseSensitive()},!0)})),this._register(this._findInput.onCaseSensitiveKeyDown(mi=>{mi.equals(1026)&&this._isReplaceVisible&&(this._replaceInput.focus(),mi.preventDefault())})),this._register(this._findInput.onRegexKeyDown(mi=>{mi.equals(2)&&this._isReplaceVisible&&(this._replaceInput.focusOnPreserve(),mi.preventDefault())})),this._register(this._findInput.inputBox.onDidHeightChange(mi=>{this._tryUpdateHeight()&&this._showViewZone()})),mt.IJ&&this._register(this._findInput.onMouseDown(mi=>this._onFindInputMouseDown(mi))),this._matchesCount=document.createElement("div"),this._matchesCount.className="matchesCount",this._updateMatchesCount(),this._prevBtn=this._register(new Fn({label:Gi+this._keybindingLabelFor("editor.action.previousMatchFindAction"),icon:Rt,onTrigger:()=>{(0,Ee.cW)(this._codeEditor.getAction("editor.action.previousMatchFindAction")).run().then(void 0,lt.dL)}})),this._nextBtn=this._register(new Fn({label:Zi+this._keybindingLabelFor("editor.action.nextMatchFindAction"),icon:Zt,onTrigger:()=>{(0,Ee.cW)(this._codeEditor.getAction("editor.action.nextMatchFindAction")).run().then(void 0,lt.dL)}}));const Ke=document.createElement("div");Ke.className="find-part",Ke.appendChild(this._findInput.domNode);const Ye=document.createElement("div");Ye.className="find-actions",Ke.appendChild(Ye),Ye.appendChild(this._matchesCount),Ye.appendChild(this._prevBtn.domNode),Ye.appendChild(this._nextBtn.domNode),this._toggleSelectionFind=this._register(new He.Z({icon:ht,title:St+this._keybindingLabelFor("toggleFindInSelection"),isChecked:!1,inputActiveOptionBackground:(0,d.n_1)(d.XEs),inputActiveOptionBorder:(0,d.n_1)(d.PRb),inputActiveOptionForeground:(0,d.n_1)(d.Pvw)})),this._register(this._toggleSelectionFind.onChange(()=>{if(this._toggleSelectionFind.checked){if(this._codeEditor.hasModel()){const mi=this._codeEditor.getSelections();mi.map(qt=>(1===qt.endColumn&&qt.endLineNumber>qt.startLineNumber&&(qt=qt.setEndPosition(qt.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(qt.endLineNumber-1))),qt.isEmpty()?null:qt)).filter(qt=>!!qt),mi.length&&this._state.change({searchScope:mi},!0)}}else this._state.change({searchScope:null},!0)})),Ye.appendChild(this._toggleSelectionFind.domNode),this._closeBtn=this._register(new Fn({label:st+this._keybindingLabelFor("closeFindWidget"),icon:it.s_,onTrigger:()=>{this._state.change({isRevealed:!1,searchScope:null},!1)},onKeyDown:mi=>{mi.equals(2)&&this._isReplaceVisible&&(this._replaceBtn.isEnabled()?this._replaceBtn.focus():this._codeEditor.focus(),mi.preventDefault())}})),this._replaceInput=this._register(new At.Nq(null,void 0,{label:ut,placeholder:pt,appendPreserveCaseLabel:this._keybindingLabelFor("togglePreserveCase"),history:[],flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118,showHistoryHint:()=>It(this._keybindingService),inputBoxStyles:Te.Hc,toggleStyles:Te.pl},this._contextKeyService,!0)),this._replaceInput.setPreserveCase(!!this._state.preserveCase),this._register(this._replaceInput.onKeyDown(mi=>this._onReplaceInputKeyDown(mi))),this._register(this._replaceInput.inputBox.onDidChange(()=>{this._state.change({replaceString:this._replaceInput.inputBox.value},!1)})),this._register(this._replaceInput.inputBox.onDidHeightChange(mi=>{this._isReplaceVisible&&this._tryUpdateHeight()&&this._showViewZone()})),this._register(this._replaceInput.onDidOptionChange(()=>{this._state.change({preserveCase:this._replaceInput.getPreserveCase()},!0)})),this._register(this._replaceInput.onPreserveCaseKeyDown(mi=>{mi.equals(2)&&(this._prevBtn.isEnabled()?this._prevBtn.focus():this._nextBtn.isEnabled()?this._nextBtn.focus():this._toggleSelectionFind.enabled?this._toggleSelectionFind.focus():this._closeBtn.isEnabled()&&this._closeBtn.focus(),mi.preventDefault())})),this._replaceBtn=this._register(new Fn({label:Ne+this._keybindingLabelFor("editor.action.replaceOne"),icon:Ot,onTrigger:()=>{this._controller.replace()},onKeyDown:mi=>{mi.equals(1026)&&(this._closeBtn.focus(),mi.preventDefault())}})),this._replaceAllBtn=this._register(new Fn({label:je+this._keybindingLabelFor("editor.action.replaceAll"),icon:gt,onTrigger:()=>{this._controller.replaceAll()}}));const dt=document.createElement("div");dt.className="replace-part",dt.appendChild(this._replaceInput.domNode);const zt=document.createElement("div");zt.className="replace-actions",dt.appendChild(zt),zt.appendChild(this._replaceBtn.domNode),zt.appendChild(this._replaceAllBtn.domNode),this._toggleReplaceBtn=this._register(new Fn({label:et,className:"codicon toggle left",onTrigger:()=>{this._state.change({isReplaceRevealed:!this._isReplaceVisible},!1),this._isReplaceVisible&&(this._replaceInput.width=ge.w(this._findInput.domNode),this._replaceInput.inputBox.layout()),this._showViewZone()}})),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible),this._domNode=document.createElement("div"),this._domNode.className="editor-widget find-widget",this._domNode.setAttribute("aria-hidden","true"),this._domNode.ariaLabel=Ci,this._domNode.role="dialog",this._domNode.style.width="419px",this._domNode.appendChild(this._toggleReplaceBtn.domNode),this._domNode.appendChild(Ke),this._domNode.appendChild(this._closeBtn.domNode),this._domNode.appendChild(dt),this._resizeSash=new Je.g(this._domNode,this,{orientation:0,size:2}),this._resized=!1;let _i=419;this._register(this._resizeSash.onDidStart(()=>{_i=ge.w(this._domNode)})),this._register(this._resizeSash.onDidChange(mi=>{this._resized=!0;const qt=_i+mi.startX-mi.currentX;qt<419||qt>(parseFloat(ge.Dx(this._domNode).maxWidth)||0)||(this._domNode.style.width=`${qt}px`,this._isReplaceVisible&&(this._replaceInput.width=ge.w(this._findInput.domNode)),this._findInput.inputBox.layout(),this._tryUpdateHeight())})),this._register(this._resizeSash.onDidReset(()=>{const mi=ge.w(this._domNode);if(mi<419)return;let qt=419;if(!this._resized||419===mi){const oi=this._codeEditor.getLayoutInfo();qt=oi.width-28-oi.minimap.minimapWidth-15,this._resized=!0}this._domNode.style.width=`${qt}px`,this._isReplaceVisible&&(this._replaceInput.width=ge.w(this._findInput.domNode)),this._findInput.inputBox.layout()}))}updateAccessibilitySupport(){const he=this._codeEditor.getOption(2);this._findInput.setFocusInputOnOptionClick(2!==he)}}return nt.ID="editor.contrib.findWidget",nt})();class Fn extends fe.${constructor(Me){super(),this._opts=Me;let he="button";this._opts.className&&(he=he+" "+this._opts.className),this._opts.icon&&(he=he+" "+qe.k.asClassName(this._opts.icon)),this._domNode=document.createElement("div"),this._domNode.title=this._opts.label,this._domNode.tabIndex=0,this._domNode.className=he,this._domNode.setAttribute("role","button"),this._domNode.setAttribute("aria-label",this._opts.label),this.onclick(this._domNode,Be=>{this._opts.onTrigger(),Be.preventDefault()}),this.onkeydown(this._domNode,Be=>{var Ke,Ye;if(Be.equals(10)||Be.equals(3))return this._opts.onTrigger(),void Be.preventDefault();null===(Ye=(Ke=this._opts).onKeyDown)||void 0===Ye||Ye.call(Ke,Be)})}get domNode(){return this._domNode}isEnabled(){return this._domNode.tabIndex>=0}focus(){this._domNode.focus()}setEnabled(Me){this._domNode.classList.toggle("disabled",!Me),this._domNode.setAttribute("aria-disabled",String(!Me)),this._domNode.tabIndex=Me?0:-1}setExpanded(Me){this._domNode.setAttribute("aria-expanded",String(!!Me)),Me?(this._domNode.classList.remove(...qe.k.asClassNameArray(yt)),this._domNode.classList.add(...qe.k.asClassNameArray(Dt))):(this._domNode.classList.remove(...qe.k.asClassNameArray(Dt)),this._domNode.classList.add(...qe.k.asClassNameArray(yt)))}}(0,a.Ic)((nt,Me)=>{const he=(fi,$t)=>{$t&&Me.addRule(`.monaco-editor ${fi} { background-color: ${$t}; }`)};he(".findMatch",nt.getColor(d.MUv)),he(".currentFindMatch",nt.getColor(d.nyM)),he(".findScope",nt.getColor(d.jUe)),he(".find-widget",nt.getColor(d.D0T));const Ke=nt.getColor(d.rh);Ke&&Me.addRule(`.monaco-editor .find-widget { box-shadow: 0 0 8px 2px ${Ke}; }`);const Ye=nt.getColor(d.A42);Ye&&Me.addRule(`.monaco-editor .find-widget { border-left: 1px solid ${Ye}; border-right: 1px solid ${Ye}; border-bottom: 1px solid ${Ye}; }`);const dt=nt.getColor(d.EiJ);dt&&Me.addRule(`.monaco-editor .findMatch { border: 1px ${(0,Ze.c3)(nt.type)?"dotted":"solid"} ${dt}; box-sizing: border-box; }`);const zt=nt.getColor(d.pnM);zt&&Me.addRule(`.monaco-editor .currentFindMatch { border: 2px solid ${zt}; padding: 1px; box-sizing: border-box; }`);const _i=nt.getColor(d.gkn);_i&&Me.addRule(`.monaco-editor .findScope { border: 1px ${(0,Ze.c3)(nt.type)?"dashed":"solid"} ${_i}; }`);const mi=nt.getColor(d.lRK);mi&&Me.addRule(`.monaco-editor .find-widget { border: 1px solid ${mi}; }`);const qt=nt.getColor(d.Hfx);qt&&Me.addRule(`.monaco-editor .find-widget { color: ${qt}; }`);const oi=nt.getColor(d.Ido);oi&&Me.addRule(`.monaco-editor .find-widget.no-results .matchesCount { color: ${oi}; }`);const Ai=nt.getColor(d.Ng6);if(Ai)Me.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${Ai}; }`);else{const fi=nt.getColor(d.D1_);fi&&Me.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${fi}; }`)}const Wi=nt.getColor(d.lUq);Wi&&Me.addRule(`\n\t\t.monaco-editor .find-widget .button:not(.disabled):hover,\n\t\t.monaco-editor .find-widget .codicon-find-selection:hover {\n\t\t\tbackground-color: ${Wi} !important;\n\t\t}\n\t`);const $i=nt.getColor(d.R80);$i&&Me.addRule(`.monaco-editor .find-widget .monaco-inputbox.synthetic-focus { outline-color: ${$i}; }`)});var Qi,vi=e(63032),ui=e(2034),ni=e(76485),Nt=e(21536),Wt=e(22438),li=e(49010),Yt=e(93476),bi=function(nt,Me,he,Be){var dt,Ke=arguments.length,Ye=Ke<3?Me:null===Be?Be=Object.getOwnPropertyDescriptor(Me,he):Be;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ye=Reflect.decorate(nt,Me,he,Be);else for(var zt=nt.length-1;zt>=0;zt--)(dt=nt[zt])&&(Ye=(Ke<3?dt(Ye):Ke>3?dt(Me,he,Ye):dt(Me,he))||Ye);return Ke>3&&Ye&&Object.defineProperty(Me,he,Ye),Ye},Fi=function(nt,Me){return function(he,Be){Me(he,Be,nt)}},Yi=function(nt,Me,he,Be){return new(he||(he=Promise))(function(Ye,dt){function zt(qt){try{mi(Be.next(qt))}catch(oi){dt(oi)}}function _i(qt){try{mi(Be.throw(qt))}catch(oi){dt(oi)}}function mi(qt){qt.done?Ye(qt.value):function Ke(Ye){return Ye instanceof he?Ye:new he(function(dt){dt(Ye)})}(qt.value).then(zt,_i)}mi((Be=Be.apply(nt,Me||[])).next())})};function bn(nt,Me="single",he=!1){if(!nt.hasModel())return null;const Be=nt.getSelection();if("single"===Me&&Be.startLineNumber===Be.endLineNumber||"multiple"===Me)if(Be.isEmpty()){const Ke=nt.getConfiguredWordAtPosition(Be.getStartPosition());if(Ke&&!1===he)return Ke.word}else if(nt.getModel().getValueLengthInRange(Be)<524288)return nt.getModel().getValueInRange(Be);return null}let Dn=Qi=class extends P.JT{get editor(){return this._editor}static get(Me){return Me.getContribution(Qi.ID)}constructor(Me,he,Be,Ke){super(),this._editor=Me,this._findWidgetVisible=U.bindTo(he),this._contextKeyService=he,this._storageService=Be,this._clipboardService=Ke,this._updateHistoryDelayer=new f.vp(500),this._state=this._register(new le),this.loadQueryState(),this._register(this._state.onFindReplaceStateChange(Ye=>this._onStateChanged(Ye))),this._model=null,this._register(this._editor.onDidChangeModel(()=>{const Ye=this._editor.getModel()&&this._state.isRevealed;this.disposeModel(),this._state.change({searchScope:null,matchCase:this._storageService.getBoolean("editor.matchCase",1,!1),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,!1),isRegex:this._storageService.getBoolean("editor.isRegex",1,!1),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,!1)},!1),Ye&&this._start({forceRevealReplace:!1,seedSearchStringFromSelection:"none",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!1,updateSearchScope:!1,loop:this._editor.getOption(40).loop})}))}dispose(){this.disposeModel(),super.dispose()}disposeModel(){this._model&&(this._model.dispose(),this._model=null)}_onStateChanged(Me){this.saveQueryState(Me),Me.isRevealed&&(this._state.isRevealed?this._findWidgetVisible.set(!0):(this._findWidgetVisible.reset(),this.disposeModel())),Me.searchString&&this.setGlobalBufferTerm(this._state.searchString)}saveQueryState(Me){Me.isRegex&&this._storageService.store("editor.isRegex",this._state.actualIsRegex,1,1),Me.wholeWord&&this._storageService.store("editor.wholeWord",this._state.actualWholeWord,1,1),Me.matchCase&&this._storageService.store("editor.matchCase",this._state.actualMatchCase,1,1),Me.preserveCase&&this._storageService.store("editor.preserveCase",this._state.actualPreserveCase,1,1)}loadQueryState(){this._state.change({matchCase:this._storageService.getBoolean("editor.matchCase",1,this._state.matchCase),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,this._state.wholeWord),isRegex:this._storageService.getBoolean("editor.isRegex",1,this._state.isRegex),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,this._state.preserveCase)},!1)}isFindInputFocused(){return!!B.getValue(this._contextKeyService)}getState(){return this._state}closeFindWidget(){this._state.change({isRevealed:!1,searchScope:null},!1),this._editor.focus()}toggleCaseSensitive(){this._state.change({matchCase:!this._state.matchCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleWholeWords(){this._state.change({wholeWord:!this._state.wholeWord},!1),this._state.isRevealed||this.highlightFindOptions()}toggleRegex(){this._state.change({isRegex:!this._state.isRegex},!1),this._state.isRevealed||this.highlightFindOptions()}togglePreserveCase(){this._state.change({preserveCase:!this._state.preserveCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleSearchScope(){if(this._state.searchScope)this._state.change({searchScope:null},!0);else if(this._editor.hasModel()){const Me=this._editor.getSelections();Me.map(he=>(1===he.endColumn&&he.endLineNumber>he.startLineNumber&&(he=he.setEndPosition(he.endLineNumber-1,this._editor.getModel().getLineMaxColumn(he.endLineNumber-1))),he.isEmpty()?null:he)).filter(he=>!!he),Me.length&&this._state.change({searchScope:Me},!0)}}setSearchString(Me){this._state.isRegex&&(Me=r.ec(Me)),this._state.change({searchString:Me},!1)}highlightFindOptions(Me=!1){}_start(Me,he){return Yi(this,void 0,void 0,function*(){if(this.disposeModel(),!this._editor.hasModel())return;const Be=Object.assign(Object.assign({},he),{isRevealed:!0});if("single"===Me.seedSearchStringFromSelection){const Ke=bn(this._editor,Me.seedSearchStringFromSelection,Me.seedSearchStringFromNonEmptySelection);Ke&&(Be.searchString=this._state.isRegex?r.ec(Ke):Ke)}else if("multiple"===Me.seedSearchStringFromSelection&&!Me.updateSearchScope){const Ke=bn(this._editor,Me.seedSearchStringFromSelection);Ke&&(Be.searchString=Ke)}if(!Be.searchString&&Me.seedSearchStringFromGlobalClipboard){const Ke=yield this.getGlobalBufferTerm();if(!this._editor.hasModel())return;Ke&&(Be.searchString=Ke)}if(Me.forceRevealReplace||Be.isReplaceRevealed?Be.isReplaceRevealed=!0:this._findWidgetVisible.get()||(Be.isReplaceRevealed=!1),Me.updateSearchScope){const Ke=this._editor.getSelections();Ke.some(Ye=>!Ye.isEmpty())&&(Be.searchScope=Ke)}Be.loop=Me.loop,this._state.change(Be,!1),this._model||(this._model=new ae(this._editor,this._state))})}start(Me,he){return this._start(Me,he)}moveToNextMatch(){return!!this._model&&(this._model.moveToNextMatch(),!0)}moveToPrevMatch(){return!!this._model&&(this._model.moveToPrevMatch(),!0)}goToMatch(Me){return!!this._model&&(this._model.moveToMatch(Me),!0)}replace(){return!!this._model&&(this._model.replace(),!0)}replaceAll(){return!!this._model&&(this._model.replaceAll(),!0)}selectAllMatches(){return!!this._model&&(this._model.selectAllMatches(),this._editor.focus(),!0)}getGlobalBufferTerm(){return Yi(this,void 0,void 0,function*(){return this._editor.getOption(40).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()?this._clipboardService.readFindText():""})}setGlobalBufferTerm(Me){this._editor.getOption(40).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()&&this._clipboardService.writeFindText(Me)}};Dn.ID="editor.contrib.findController",Dn=Qi=bi([Fi(1,z.i6),Fi(2,Yt.Uy),Fi(3,ui.p)],Dn);let Pn=class extends Dn{constructor(Me,he,Be,Ke,Ye,dt,zt,_i){super(Me,Be,zt,_i),this._contextViewService=he,this._keybindingService=Ke,this._themeService=Ye,this._notificationService=dt,this._widget=null,this._findOptionsWidget=null}_start(Me,he){const Be=Object.create(null,{_start:{get:()=>super._start}});return Yi(this,void 0,void 0,function*(){this._widget||this._createFindWidget();const Ke=this._editor.getSelection();let Ye=!1;switch(this._editor.getOption(40).autoFindInSelection){case"always":Ye=!0;break;case"never":Ye=!1;break;case"multiline":Ye=!!Ke&&Ke.startLineNumber!==Ke.endLineNumber}Me.updateSearchScope=Me.updateSearchScope||Ye,yield Be._start.call(this,Me,he),this._widget&&(2===Me.shouldFocus?this._widget.focusReplaceInput():1===Me.shouldFocus&&this._widget.focusFindInput())})}highlightFindOptions(Me=!1){this._widget||this._createFindWidget(),this._state.isRevealed&&!Me?this._widget.highlightFindOptions():this._findOptionsWidget.highlightFindOptions()}_createFindWidget(){this._widget=this._register(new xn(this._editor,this,this._state,this._contextViewService,this._keybindingService,this._contextKeyService,this._themeService,this._storageService,this._notificationService)),this._findOptionsWidget=this._register(new be(this._editor,this._state,this._keybindingService))}};Pn=bi([Fi(1,ni.u),Fi(2,z.i6),Fi(3,Nt.d),Fi(4,a.XE),Fi(5,Wt.lT),Fi(6,Yt.Uy),Fi(7,ui.p)],Pn),(0,y.rn)(new y.jY({id:"actions.find",label:Ut.NC("startFindAction","Find"),alias:"Find",precondition:z.Ao.or(S.u.focus,z.Ao.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2084,weight:100},menuOpts:{menuId:vi.eH.MenubarEditMenu,group:"3_find",title:Ut.NC({key:"miFind",comment:["&& denotes a mnemonic"]},"&&Find"),order:1}})).addImplementation(0,(nt,Me,he)=>{const Be=Dn.get(Me);return!!Be&&Be.start({forceRevealReplace:!1,seedSearchStringFromSelection:"never"!==Me.getOption(40).seedSearchStringFromSelection?"single":"none",seedSearchStringFromNonEmptySelection:"selection"===Me.getOption(40).seedSearchStringFromSelection,seedSearchStringFromGlobalClipboard:Me.getOption(40).globalFindClipboard,shouldFocus:1,shouldAnimate:!0,updateSearchScope:!1,loop:Me.getOption(40).loop})});const Xn={description:"Open a new In-Editor Find Widget.",args:[{name:"Open a new In-Editor Find Widget args",schema:{properties:{searchString:{type:"string"},replaceString:{type:"string"},regex:{type:"boolean"},regexOverride:{type:"number",description:Ut.NC("actions.find.isRegexOverride",'Overrides "Use Regular Expression" flag.\nThe flag will not be saved for the future.\n0: Do Nothing\n1: True\n2: False')},wholeWord:{type:"boolean"},wholeWordOverride:{type:"number",description:Ut.NC("actions.find.wholeWordOverride",'Overrides "Match Whole Word" flag.\nThe flag will not be saved for the future.\n0: Do Nothing\n1: True\n2: False')},matchCase:{type:"boolean"},matchCaseOverride:{type:"number",description:Ut.NC("actions.find.matchCaseOverride",'Overrides "Math Case" flag.\nThe flag will not be saved for the future.\n0: Do Nothing\n1: True\n2: False')},preserveCase:{type:"boolean"},preserveCaseOverride:{type:"number",description:Ut.NC("actions.find.preserveCaseOverride",'Overrides "Preserve Case" flag.\nThe flag will not be saved for the future.\n0: Do Nothing\n1: True\n2: False')},findInSelection:{type:"boolean"}}}}]};class wn extends y.R6{run(Me,he){return Yi(this,void 0,void 0,function*(){const Be=Dn.get(he);Be&&!this._run(Be)&&(yield Be.start({forceRevealReplace:!1,seedSearchStringFromSelection:0===Be.getState().searchString.length&&"never"!==he.getOption(40).seedSearchStringFromSelection?"single":"none",seedSearchStringFromNonEmptySelection:"selection"===he.getOption(40).seedSearchStringFromSelection,seedSearchStringFromGlobalClipboard:!0,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:he.getOption(40).loop}),this._run(Be))})}}class qn extends y.R6{run(Me,he){return Yi(this,void 0,void 0,function*(){const Be=Dn.get(he);if(!Be)return;const Ke=bn(he,"single",!1);Ke&&Be.setSearchString(Ke),this._run(Be)||(yield Be.start({forceRevealReplace:!1,seedSearchStringFromSelection:"none",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:he.getOption(40).loop}),this._run(Be))})}}(0,y.rn)(new y.jY({id:"editor.action.startFindReplaceAction",label:Ut.NC("startReplace","Replace"),alias:"Replace",precondition:z.Ao.or(S.u.focus,z.Ao.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2086,mac:{primary:2596},weight:100},menuOpts:{menuId:vi.eH.MenubarEditMenu,group:"3_find",title:Ut.NC({key:"miReplace",comment:["&& denotes a mnemonic"]},"&&Replace"),order:2}})).addImplementation(0,(nt,Me,he)=>{if(!Me.hasModel()||Me.getOption(89))return!1;const Be=Dn.get(Me);if(!Be)return!1;const Ke=Me.getSelection(),Ye=Be.isFindInputFocused(),dt=!Ke.isEmpty()&&Ke.startLineNumber===Ke.endLineNumber&&"never"!==Me.getOption(40).seedSearchStringFromSelection&&!Ye,zt=Ye||dt?2:1;return Be.start({forceRevealReplace:!0,seedSearchStringFromSelection:dt?"single":"none",seedSearchStringFromNonEmptySelection:"selection"===Me.getOption(40).seedSearchStringFromSelection,seedSearchStringFromGlobalClipboard:"never"!==Me.getOption(40).seedSearchStringFromSelection,shouldFocus:zt,shouldAnimate:!0,updateSearchScope:!1,loop:Me.getOption(40).loop})}),(0,y._K)(Dn.ID,Pn,0),(0,y.Qr)(class Wn extends y.R6{constructor(){super({id:"editor.actions.findWithArgs",label:Ut.NC("startFindWithArgsAction","Find With Arguments"),alias:"Find With Arguments",precondition:void 0,kbOpts:{kbExpr:null,primary:0,weight:100},description:Xn})}run(Me,he,Be){return Yi(this,void 0,void 0,function*(){const Ke=Dn.get(he);if(Ke){const Ye=Be?{searchString:Be.searchString,replaceString:Be.replaceString,isReplaceRevealed:void 0!==Be.replaceString,isRegex:Be.isRegex,wholeWord:Be.matchWholeWord,matchCase:Be.isCaseSensitive,preserveCase:Be.preserveCase}:{};yield Ke.start({forceRevealReplace:!1,seedSearchStringFromSelection:0===Ke.getState().searchString.length&&"never"!==he.getOption(40).seedSearchStringFromSelection?"single":"none",seedSearchStringFromNonEmptySelection:"selection"===he.getOption(40).seedSearchStringFromSelection,seedSearchStringFromGlobalClipboard:!0,shouldFocus:1,shouldAnimate:!0,updateSearchScope:Be?.findInSelection||!1,loop:he.getOption(40).loop},Ye),Ke.setGlobalBufferTerm(Ke.getState().searchString)}})}}),(0,y.Qr)(class eo extends y.R6{constructor(){super({id:"actions.findWithSelection",label:Ut.NC("startFindWithSelectionAction","Find With Selection"),alias:"Find With Selection",precondition:void 0,kbOpts:{kbExpr:null,primary:0,mac:{primary:2083},weight:100}})}run(Me,he){return Yi(this,void 0,void 0,function*(){const Be=Dn.get(he);Be&&(yield Be.start({forceRevealReplace:!1,seedSearchStringFromSelection:"multiple",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:he.getOption(40).loop}),Be.setGlobalBufferTerm(Be.getState().searchString))})}}),(0,y.Qr)(class Un extends wn{constructor(){super({id:"editor.action.nextMatchFindAction",label:Ut.NC("findNextMatchAction","Find Next"),alias:"Find Next",precondition:void 0,kbOpts:[{kbExpr:S.u.focus,primary:61,mac:{primary:2085,secondary:[61]},weight:100},{kbExpr:z.Ao.and(S.u.focus,B),primary:3,weight:100}]})}_run(Me){return!!Me.moveToNextMatch()&&(Me.editor.pushUndoStop(),!0)}}),(0,y.Qr)(class po extends wn{constructor(){super({id:"editor.action.previousMatchFindAction",label:Ut.NC("findPreviousMatchAction","Find Previous"),alias:"Find Previous",precondition:void 0,kbOpts:[{kbExpr:S.u.focus,primary:1085,mac:{primary:3109,secondary:[1085]},weight:100},{kbExpr:z.Ao.and(S.u.focus,B),primary:1027,weight:100}]})}_run(Me){return Me.moveToPrevMatch()}}),(0,y.Qr)(class Jt extends y.R6{constructor(){super({id:"editor.action.goToMatchFindAction",label:Ut.NC("findMatchAction.goToMatch","Go to Match..."),alias:"Go to Match...",precondition:U}),this._highlightDecorations=[]}run(Me,he,Be){const Ke=Dn.get(he);if(!Ke)return;const Ye=Ke.getState().matchesCount;if(Ye<1)return void Me.get(Wt.lT).notify({severity:Wt.zb.Warning,message:Ut.NC("findMatchAction.noResults","No matches. Try searching for something else.")});const zt=Me.get(li.eJ).createInputBox();zt.placeholder=Ut.NC("findMatchAction.inputPlaceHolder","Type a number to go to a specific match (between 1 and {0})",Ye);const _i=qt=>{const oi=parseInt(qt);if(isNaN(oi))return;const Ai=Ke.getState().matchesCount;return oi>0&&oi<=Ai?oi-1:oi<0&&oi>=-Ai?Ai+oi:void 0},mi=qt=>{const oi=_i(qt);if("number"==typeof oi){zt.validationMessage=void 0,Ke.goToMatch(oi);const Ai=Ke.getState().currentMatch;Ai&&this.addDecorations(he,Ai)}else zt.validationMessage=Ut.NC("findMatchAction.inputValidationMessage","Please type a number between 1 and {0}",Ke.getState().matchesCount),this.clearDecorations(he)};zt.onDidChangeValue(qt=>{mi(qt)}),zt.onDidAccept(()=>{const qt=_i(zt.value);"number"==typeof qt?(Ke.goToMatch(qt),zt.hide()):zt.validationMessage=Ut.NC("findMatchAction.inputValidationMessage","Please type a number between 1 and {0}",Ke.getState().matchesCount)}),zt.onDidHide(()=>{this.clearDecorations(he),zt.dispose()}),zt.show()}clearDecorations(Me){Me.changeDecorations(he=>{this._highlightDecorations=he.deltaDecorations(this._highlightDecorations,[])})}addDecorations(Me,he){Me.changeDecorations(Be=>{this._highlightDecorations=Be.deltaDecorations(this._highlightDecorations,[{range:he,options:{description:"find-match-quick-access-range-highlight",className:"rangeHighlight",isWholeLine:!0}},{range:he,options:{description:"find-match-quick-access-range-highlight-overview",overviewRuler:{color:(0,a.EN)(v.m9),position:T.sh.Full}}}])})}}),(0,y.Qr)(class gn extends qn{constructor(){super({id:"editor.action.nextSelectionMatchFindAction",label:Ut.NC("nextSelectionMatchFindAction","Find Next Selection"),alias:"Find Next Selection",precondition:void 0,kbOpts:{kbExpr:S.u.focus,primary:2109,weight:100}})}_run(Me){return Me.moveToNextMatch()}}),(0,y.Qr)(class Gn extends qn{constructor(){super({id:"editor.action.previousSelectionMatchFindAction",label:Ut.NC("previousSelectionMatchFindAction","Find Previous Selection"),alias:"Find Previous Selection",precondition:void 0,kbOpts:{kbExpr:S.u.focus,primary:3133,weight:100}})}_run(Me){return Me.moveToPrevMatch()}});const ki=y._l.bindToContribution(Dn.get);(0,y.fK)(new ki({id:"closeFindWidget",precondition:U,handler:nt=>nt.closeFindWidget(),kbOpts:{weight:105,kbExpr:z.Ao.and(S.u.focus,z.Ao.not("isComposing")),primary:9,secondary:[1033]}})),(0,y.fK)(new ki({id:"toggleFindCaseSensitive",precondition:void 0,handler:nt=>nt.toggleCaseSensitive(),kbOpts:{weight:105,kbExpr:S.u.focus,primary:se.primary,mac:se.mac,win:se.win,linux:se.linux}})),(0,y.fK)(new ki({id:"toggleFindWholeWord",precondition:void 0,handler:nt=>nt.toggleWholeWords(),kbOpts:{weight:105,kbExpr:S.u.focus,primary:j.primary,mac:j.mac,win:j.win,linux:j.linux}})),(0,y.fK)(new ki({id:"toggleFindRegex",precondition:void 0,handler:nt=>nt.toggleRegex(),kbOpts:{weight:105,kbExpr:S.u.focus,primary:$.primary,mac:$.mac,win:$.win,linux:$.linux}})),(0,y.fK)(new ki({id:"toggleFindInSelection",precondition:void 0,handler:nt=>nt.toggleSearchScope(),kbOpts:{weight:105,kbExpr:S.u.focus,primary:K.primary,mac:K.mac,win:K.win,linux:K.linux}})),(0,y.fK)(new ki({id:"togglePreserveCase",precondition:void 0,handler:nt=>nt.togglePreserveCase(),kbOpts:{weight:105,kbExpr:S.u.focus,primary:J.primary,mac:J.mac,win:J.win,linux:J.linux}})),(0,y.fK)(new ki({id:"editor.action.replaceOne",precondition:U,handler:nt=>nt.replace(),kbOpts:{weight:105,kbExpr:S.u.focus,primary:3094}})),(0,y.fK)(new ki({id:"editor.action.replaceOne",precondition:U,handler:nt=>nt.replace(),kbOpts:{weight:105,kbExpr:z.Ao.and(S.u.focus,G),primary:3}})),(0,y.fK)(new ki({id:"editor.action.replaceAll",precondition:U,handler:nt=>nt.replaceAll(),kbOpts:{weight:105,kbExpr:S.u.focus,primary:2563}})),(0,y.fK)(new ki({id:"editor.action.replaceAll",precondition:U,handler:nt=>nt.replaceAll(),kbOpts:{weight:105,kbExpr:z.Ao.and(S.u.focus,G),primary:void 0,mac:{primary:2051}}})),(0,y.fK)(new ki({id:"editor.action.selectAllMatches",precondition:U,handler:nt=>nt.selectAllMatches(),kbOpts:{weight:105,kbExpr:S.u.focus,primary:515}}))},60209:(Xe,we,e)=>{e.d(we,{f:()=>Ce,n:()=>ke});var f=e(85328),P=e(87618),r=e(17967),y=e(48994),v=e(78694),S=e(16055),T=e(91402),E=e(93379),L=e.n(E),p=e(7795),c=e.n(p),u=e(90569),g=e.n(u),i=e(3565),d=e.n(i),a=e(19216),m=e.n(a),l=e(44589),I=e.n(l),w=e(43388),D={};D.styleTagTransform=I(),D.setAttributes=d(),D.insert=g().bind(null,"head"),D.domAPI=c(),D.insertStyleElement=m(),L()(w.Z,D);var k=e(45332),R=e(8256),O=e(15446),W=e(81814),z=e(58459),U=e(58039),ee=e(31738),B=e(58178),G=e(96726),se=e(83393);class j{get onDidChange(){return this._updateEventEmitter.event}get hiddenRanges(){return this._hiddenRanges}constructor(qe){this._updateEventEmitter=new B.Q5,this._hasLineChanges=!1,this._foldingModel=qe,this._foldingModelListener=qe.onDidChange(Ze=>this.updateHiddenRanges()),this._hiddenRanges=[],qe.regions.length&&this.updateHiddenRanges()}notifyChangeModelContent(qe){this._hiddenRanges.length&&!this._hasLineChanges&&(this._hasLineChanges=qe.changes.some(Ze=>Ze.range.endLineNumber!==Ze.range.startLineNumber||0!==(0,se.Q)(Ze.text)[0]))}updateHiddenRanges(){let qe=!1;const Ze=[];let Ee=0,Te=0,Ae=Number.MAX_VALUE,ht=-1;const yt=this._foldingModel.regions;for(;Ee<yt.length;Ee++){if(!yt.isCollapsed(Ee))continue;const Dt=yt.getStartLineNumber(Ee)+1,Ot=yt.getEndLineNumber(Ee);Ae<=Dt&&Ot<=ht||(!qe&&Te<this._hiddenRanges.length&&this._hiddenRanges[Te].startLineNumber===Dt&&this._hiddenRanges[Te].endLineNumber===Ot?(Ze.push(this._hiddenRanges[Te]),Te++):(qe=!0,Ze.push(new G.e(Dt,1,Ot,1))),Ae=Dt,ht=Ot)}(this._hasLineChanges||qe||Te<this._hiddenRanges.length)&&this.applyHiddenRanges(Ze)}applyHiddenRanges(qe){this._hiddenRanges=qe,this._hasLineChanges=!1,this._updateEventEmitter.fire(qe)}hasRanges(){return this._hiddenRanges.length>0}isHidden(qe){return null!==K(this._hiddenRanges,qe)}adjustSelections(qe){let Ze=!1;const Ee=this._foldingModel.textModel;let Te=null;const Ae=ht=>((!Te||!function $(it,qe){return it>=qe.startLineNumber&&it<=qe.endLineNumber}(ht,Te))&&(Te=K(this._hiddenRanges,ht)),Te?Te.startLineNumber-1:null);for(let ht=0,yt=qe.length;ht<yt;ht++){let Dt=qe[ht];const Ot=Ae(Dt.startLineNumber);Ot&&(Dt=Dt.setStartPosition(Ot,Ee.getLineMaxColumn(Ot)),Ze=!0);const gt=Ae(Dt.endLineNumber);gt&&(Dt=Dt.setEndPosition(gt,Ee.getLineMaxColumn(gt)),Ze=!0),qe[ht]=Dt}return Ze}dispose(){this.hiddenRanges.length>0&&(this._hiddenRanges=[],this._updateEventEmitter.fire(this._hiddenRanges)),this._foldingModelListener&&(this._foldingModelListener.dispose(),this._foldingModelListener=null)}}function K(it,qe){const Ze=(0,ee.lG)(it,Ee=>qe<Ee.startLineNumber)-1;return Ze>=0&&it[Ze].endLineNumber>=qe?it[Ze]:null}var F,J=e(88215),te=e(37190),ne=e(66221),_=e(77826),ae=e(72847),ge=e(11969),_e=e(22438),ue=e(31663),ve=e(11664),Ie=e(55763),Se=e(11813),Ve=e(15850),De=e(41204),ye=e(47358),Y=function(it,qe){return function(Ze,Ee){qe(Ze,Ee,it)}};const ie=new ne.uy("foldingEnabled",!1);let Ce=F=class extends v.JT{static get(qe){return qe.getContribution(F.ID)}static getFoldingRangeProviders(qe,Ze){var Ee,Te;const Ae=qe.foldingRangeProvider.ordered(Ze);return null!==(Te=null===(Ee=F._foldingRangeSelector)||void 0===Ee?void 0:Ee.call(F,Ae,Ze))&&void 0!==Te?Te:Ae}constructor(qe,Ze,Ee,Te,Ae,ht){super(),this.contextKeyService=Ze,this.languageConfigurationService=Ee,this.languageFeaturesService=ht,this.localToDispose=this._register(new v.SL),this.editor=qe,this._foldingLimitReporter=new ke(qe);const yt=this.editor.getOptions();this._isEnabled=yt.get(42),this._useFoldingProviders="indentation"!==yt.get(43),this._unfoldOnClickAfterEndOfLine=yt.get(47),this._restoringViewState=!1,this._currentModelHasFoldedImports=!1,this._foldingImportsByDefault=yt.get(45),this.updateDebounceInfo=Ae.for(ht.foldingRangeProvider,"Folding",{min:200}),this.foldingModel=null,this.hiddenRangeModel=null,this.rangeProvider=null,this.foldingRegionPromise=null,this.foldingModelPromise=null,this.updateScheduler=null,this.cursorChangedScheduler=null,this.mouseDownInfo=null,this.foldingDecorationProvider=new _.fF(qe),this.foldingDecorationProvider.showFoldingControls=yt.get(108),this.foldingDecorationProvider.showFoldingHighlights=yt.get(44),this.foldingEnabled=ie.bindTo(this.contextKeyService),this.foldingEnabled.set(this._isEnabled),this._register(this.editor.onDidChangeModel(()=>this.onModelChanged())),this._register(this.editor.onDidChangeConfiguration(Dt=>{if(Dt.hasChanged(42)&&(this._isEnabled=this.editor.getOptions().get(42),this.foldingEnabled.set(this._isEnabled),this.onModelChanged()),Dt.hasChanged(46)&&this.onModelChanged(),Dt.hasChanged(108)||Dt.hasChanged(44)){const Ot=this.editor.getOptions();this.foldingDecorationProvider.showFoldingControls=Ot.get(108),this.foldingDecorationProvider.showFoldingHighlights=Ot.get(44),this.triggerFoldingModelChanged()}Dt.hasChanged(43)&&(this._useFoldingProviders="indentation"!==this.editor.getOptions().get(43),this.onFoldingStrategyChanged()),Dt.hasChanged(47)&&(this._unfoldOnClickAfterEndOfLine=this.editor.getOptions().get(47)),Dt.hasChanged(45)&&(this._foldingImportsByDefault=this.editor.getOptions().get(45))})),this.onModelChanged()}saveViewState(){const qe=this.editor.getModel();if(!qe||!this._isEnabled||qe.isTooLargeForTokenization())return{};if(this.foldingModel){const Ze=this.foldingModel.getMemento(),Ee=this.rangeProvider?this.rangeProvider.id:void 0;return{collapsedRegions:Ze,lineCount:qe.getLineCount(),provider:Ee,foldedImports:this._currentModelHasFoldedImports}}}restoreViewState(qe){const Ze=this.editor.getModel();if(Ze&&this._isEnabled&&!Ze.isTooLargeForTokenization()&&this.hiddenRangeModel&&qe&&(this._currentModelHasFoldedImports=!!qe.foldedImports,qe.collapsedRegions&&qe.collapsedRegions.length>0&&this.foldingModel)){this._restoringViewState=!0;try{this.foldingModel.applyMemento(qe.collapsedRegions)}finally{this._restoringViewState=!1}}}onModelChanged(){this.localToDispose.clear();const qe=this.editor.getModel();!this._isEnabled||!qe||qe.isTooLargeForTokenization()||(this._currentModelHasFoldedImports=!1,this.foldingModel=new U.av(qe,this.foldingDecorationProvider),this.localToDispose.add(this.foldingModel),this.hiddenRangeModel=new j(this.foldingModel),this.localToDispose.add(this.hiddenRangeModel),this.localToDispose.add(this.hiddenRangeModel.onDidChange(Ze=>this.onHiddenRangesChanges(Ze))),this.updateScheduler=new f.vp(this.updateDebounceInfo.get(qe)),this.cursorChangedScheduler=new f.pY(()=>this.revealCursor(),200),this.localToDispose.add(this.cursorChangedScheduler),this.localToDispose.add(this.languageFeaturesService.foldingRangeProvider.onDidChange(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelLanguageConfiguration(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelContent(Ze=>this.onDidChangeModelContent(Ze))),this.localToDispose.add(this.editor.onDidChangeCursorPosition(()=>this.onCursorPositionChanged())),this.localToDispose.add(this.editor.onMouseDown(Ze=>this.onEditorMouseDown(Ze))),this.localToDispose.add(this.editor.onMouseUp(Ze=>this.onEditorMouseUp(Ze))),this.localToDispose.add({dispose:()=>{var Ze,Ee;this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),null===(Ze=this.updateScheduler)||void 0===Ze||Ze.cancel(),this.updateScheduler=null,this.foldingModel=null,this.foldingModelPromise=null,this.hiddenRangeModel=null,this.cursorChangedScheduler=null,null===(Ee=this.rangeProvider)||void 0===Ee||Ee.dispose(),this.rangeProvider=null}}),this.triggerFoldingModelChanged())}onFoldingStrategyChanged(){var qe;null===(qe=this.rangeProvider)||void 0===qe||qe.dispose(),this.rangeProvider=null,this.triggerFoldingModelChanged()}getRangeProvider(qe){if(this.rangeProvider)return this.rangeProvider;const Ze=new J.aI(qe,this.languageConfigurationService,this._foldingLimitReporter);if(this.rangeProvider=Ze,this._useFoldingProviders&&this.foldingModel){const Ee=F.getFoldingRangeProviders(this.languageFeaturesService,qe);Ee.length>0&&(this.rangeProvider=new ge.e(qe,Ee,()=>this.triggerFoldingModelChanged(),this._foldingLimitReporter,Ze))}return this.rangeProvider}getFoldingModel(){return this.foldingModelPromise}onDidChangeModelContent(qe){var Ze;null===(Ze=this.hiddenRangeModel)||void 0===Ze||Ze.notifyChangeModelContent(qe),this.triggerFoldingModelChanged()}triggerFoldingModelChanged(){this.updateScheduler&&(this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.foldingModelPromise=this.updateScheduler.trigger(()=>{const qe=this.foldingModel;if(!qe)return null;const Ze=new ve.G,Ee=this.getRangeProvider(qe.textModel),Te=this.foldingRegionPromise=(0,f.PG)(Ae=>Ee.compute(Ae));return Te.then(Ae=>{if(Ae&&Te===this.foldingRegionPromise){let ht;if(this._foldingImportsByDefault&&!this._currentModelHasFoldedImports){const gt=Ae.setCollapsedAllOfType(W.AD.Imports.value,!0);gt&&(ht=k.Z.capture(this.editor),this._currentModelHasFoldedImports=gt)}const yt=this.editor.getSelections(),Dt=yt?yt.map(gt=>gt.startLineNumber):[];qe.update(Ae,Dt),ht?.restore(this.editor);const Ot=this.updateDebounceInfo.update(qe.textModel,Ze.elapsed());this.updateScheduler&&(this.updateScheduler.defaultDelay=Ot)}return qe})}).then(void 0,qe=>((0,r.dL)(qe),null)))}onHiddenRangesChanges(qe){if(this.hiddenRangeModel&&qe.length&&!this._restoringViewState){const Ze=this.editor.getSelections();Ze&&this.hiddenRangeModel.adjustSelections(Ze)&&this.editor.setSelections(Ze)}this.editor.setHiddenAreas(qe,this)}onCursorPositionChanged(){this.hiddenRangeModel&&this.hiddenRangeModel.hasRanges()&&this.cursorChangedScheduler.schedule()}revealCursor(){const qe=this.getFoldingModel();qe&&qe.then(Ze=>{if(Ze){const Ee=this.editor.getSelections();if(Ee&&Ee.length>0){const Te=[];for(const Ae of Ee){const ht=Ae.selectionStartLineNumber;this.hiddenRangeModel&&this.hiddenRangeModel.isHidden(ht)&&Te.push(...Ze.getAllRegionsAtLine(ht,yt=>yt.isCollapsed&&ht>yt.startLineNumber))}Te.length&&(Ze.toggleCollapseState(Te),this.reveal(Ee[0].getPosition()))}}}).then(void 0,r.dL)}onEditorMouseDown(qe){if(this.mouseDownInfo=null,!this.hiddenRangeModel||!qe.target||!qe.target.range||!qe.event.leftButton&&!qe.event.middleButton)return;const Ze=qe.target.range;let Ee=!1;switch(qe.target.type){case 4:if(qe.target.detail.offsetX-qe.target.element.offsetLeft<4)return;Ee=!0;break;case 7:if(this._unfoldOnClickAfterEndOfLine&&this.hiddenRangeModel.hasRanges()&&!qe.target.detail.isAfterLines)break;return;case 6:if(this.hiddenRangeModel.hasRanges()){const Te=this.editor.getModel();if(Te&&Ze.startColumn===Te.getLineMaxColumn(Ze.startLineNumber))break}return;default:return}this.mouseDownInfo={lineNumber:Ze.startLineNumber,iconClicked:Ee}}onEditorMouseUp(qe){const Ze=this.foldingModel;if(!Ze||!this.mouseDownInfo||!qe.target)return;const Ee=this.mouseDownInfo.lineNumber,Te=this.mouseDownInfo.iconClicked,Ae=qe.target.range;if(!Ae||Ae.startLineNumber!==Ee)return;if(Te){if(4!==qe.target.type)return}else{const yt=this.editor.getModel();if(!yt||Ae.startColumn!==yt.getLineMaxColumn(Ee))return}const ht=Ze.getRegionAtLine(Ee);if(ht&&ht.startLineNumber===Ee){const yt=ht.isCollapsed;if(Te||yt){let Ot=[];if(qe.event.altKey){const Rt=Ze.getRegionsInside(null,Zt=>!Zt.containedBy(ht)&&!ht.containedBy(Zt));for(const Zt of Rt)Zt.isCollapsed&&Ot.push(Zt);0===Ot.length&&(Ot=Rt)}else{const gt=qe.event.middleButton||qe.event.shiftKey;if(gt)for(const Rt of Ze.getRegionsInside(ht))Rt.isCollapsed===yt&&Ot.push(Rt);(yt||!gt||0===Ot.length)&&Ot.push(ht)}Ze.toggleCollapseState(Ot),this.reveal({lineNumber:Ee,column:1})}}}reveal(qe){this.editor.revealPositionInCenterIfOutsideViewport(qe,0)}};Ce.ID="editor.contrib.folding",Ce=F=function(it,qe,Ze,Ee){var ht,Te=arguments.length,Ae=Te<3?qe:null===Ee?Ee=Object.getOwnPropertyDescriptor(qe,Ze):Ee;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ae=Reflect.decorate(it,qe,Ze,Ee);else for(var yt=it.length-1;yt>=0;yt--)(ht=it[yt])&&(Ae=(Te<3?ht(Ae):Te>3?ht(qe,Ze,Ae):ht(qe,Ze))||Ae);return Te>3&&Ae&&Object.defineProperty(qe,Ze,Ae),Ae}([Y(1,ne.i6),Y(2,z.c_),Y(3,_e.lT),Y(4,ue.A),Y(5,Ie.p)],Ce);class ke{constructor(qe){this.editor=qe,this._onDidChange=new B.Q5,this._computed=0,this._limited=!1}get limit(){return this.editor.getOptions().get(46)}update(qe,Ze){(qe!==this._computed||Ze!==this._limited)&&(this._computed=qe,this._limited=Ze,this._onDidChange.fire())}}class Pe extends R.R6{runEditorCommand(qe,Ze,Ee){const Te=qe.get(z.c_),Ae=Ce.get(Ze);if(!Ae)return;const ht=Ae.getFoldingModel();return ht?(this.reportTelemetry(qe,Ze),ht.then(yt=>{if(yt){this.invoke(Ae,yt,Ze,Ee,Te);const Dt=Ze.getSelection();Dt&&Ae.reveal(Dt.getStartPosition())}})):void 0}getSelectedLines(qe){const Ze=qe.getSelections();return Ze?Ze.map(Ee=>Ee.startLineNumber):[]}getLineNumbers(qe,Ze){return qe&&qe.selectionLines?qe.selectionLines.map(Ee=>Ee+1):this.getSelectedLines(Ze)}run(qe,Ze){}}function xe(it){if(!T.o8(it)){if(!T.Kn(it))return!1;const qe=it;if(!T.o8(qe.levels)&&!T.hj(qe.levels)||!T.o8(qe.direction)&&!T.HD(qe.direction)||!T.o8(qe.selectionLines)&&(!Array.isArray(qe.selectionLines)||!qe.selectionLines.every(T.hj)))return!1}return!0}let Lt=(()=>{class it extends Pe{getFoldingLevel(){return parseInt(this.id.substr(it.ID_PREFIX.length))}invoke(Ze,Ee,Te){(0,U.Ln)(Ee,this.getFoldingLevel(),!0,this.getSelectedLines(Te))}}return it.ID_PREFIX="editor.foldLevel",it.ID=qe=>it.ID_PREFIX+qe,it})();(0,R._K)(Ce.ID,Ce,0),(0,R.Qr)(class fe extends Pe{constructor(){super({id:"editor.unfold",label:te.NC("unfoldAction.label","Unfold"),alias:"Unfold",precondition:ie,kbOpts:{kbExpr:O.u.editorTextFocus,primary:3166,mac:{primary:2654},weight:100},description:{description:"Unfold the content in the editor",args:[{name:"Unfold editor argument",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t\t* 'levels': Number of levels to unfold. If not set, defaults to 1.\n\t\t\t\t\t\t* 'direction': If 'up', unfold given number of levels up otherwise unfolds down.\n\t\t\t\t\t\t* 'selectionLines': Array of the start lines (0-based) of the editor selections to apply the unfold action to. If not set, the active selection(s) will be used.\n\t\t\t\t\t\t",constraint:xe,schema:{type:"object",properties:{levels:{type:"number",default:1},direction:{type:"string",enum:["up","down"],default:"down"},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(qe,Ze,Ee,Te){const Ae=Te&&Te.levels||1,ht=this.getLineNumbers(Te,Ee);Te&&"up"===Te.direction?(0,U.gU)(Ze,!1,Ae,ht):(0,U.R$)(Ze,!1,Ae,ht)}}),(0,R.Qr)(class be extends Pe{constructor(){super({id:"editor.unfoldRecursively",label:te.NC("unFoldRecursivelyAction.label","Unfold Recursively"),alias:"Unfold Recursively",precondition:ie,kbOpts:{kbExpr:O.u.editorTextFocus,primary:(0,y.gx)(2089,2142),weight:100}})}invoke(qe,Ze,Ee,Te){(0,U.R$)(Ze,!1,Number.MAX_VALUE,this.getSelectedLines(Ee))}}),(0,R.Qr)(class pe extends Pe{constructor(){super({id:"editor.fold",label:te.NC("foldAction.label","Fold"),alias:"Fold",precondition:ie,kbOpts:{kbExpr:O.u.editorTextFocus,primary:3164,mac:{primary:2652},weight:100},description:{description:"Fold the content in the editor",args:[{name:"Fold editor argument",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t\t\t* 'levels': Number of levels to fold.\n\t\t\t\t\t\t\t* 'direction': If 'up', folds given number of levels up otherwise folds down.\n\t\t\t\t\t\t\t* 'selectionLines': Array of the start lines (0-based) of the editor selections to apply the fold action to. If not set, the active selection(s) will be used.\n\t\t\t\t\t\t\tIf no levels or direction is set, folds the region at the locations or if already collapsed, the first uncollapsed parent instead.\n\t\t\t\t\t\t",constraint:xe,schema:{type:"object",properties:{levels:{type:"number"},direction:{type:"string",enum:["up","down"]},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(qe,Ze,Ee,Te){const Ae=this.getLineNumbers(Te,Ee),ht=Te&&Te.levels,yt=Te&&Te.direction;"number"!=typeof ht&&"string"!=typeof yt?(0,U.HX)(Ze,!0,Ae):"up"===yt?(0,U.gU)(Ze,!0,ht||1,Ae):(0,U.R$)(Ze,!0,ht||1,Ae)}}),(0,R.Qr)(class le extends Pe{constructor(){super({id:"editor.foldRecursively",label:te.NC("foldRecursivelyAction.label","Fold Recursively"),alias:"Fold Recursively",precondition:ie,kbOpts:{kbExpr:O.u.editorTextFocus,primary:(0,y.gx)(2089,2140),weight:100}})}invoke(qe,Ze,Ee){const Te=this.getSelectedLines(Ee);(0,U.R$)(Ze,!0,Number.MAX_VALUE,Te)}}),(0,R.Qr)(class mt extends Pe{constructor(){super({id:"editor.foldAll",label:te.NC("foldAllAction.label","Fold All"),alias:"Fold All",precondition:ie,kbOpts:{kbExpr:O.u.editorTextFocus,primary:(0,y.gx)(2089,2069),weight:100}})}invoke(qe,Ze,Ee){(0,U.R$)(Ze,!0)}}),(0,R.Qr)(class ft extends Pe{constructor(){super({id:"editor.unfoldAll",label:te.NC("unfoldAllAction.label","Unfold All"),alias:"Unfold All",precondition:ie,kbOpts:{kbExpr:O.u.editorTextFocus,primary:(0,y.gx)(2089,2088),weight:100}})}invoke(qe,Ze,Ee){(0,U.R$)(Ze,!1)}}),(0,R.Qr)(class Fe extends Pe{constructor(){super({id:"editor.foldAllBlockComments",label:te.NC("foldAllBlockComments.label","Fold All Block Comments"),alias:"Fold All Block Comments",precondition:ie,kbOpts:{kbExpr:O.u.editorTextFocus,primary:(0,y.gx)(2089,2138),weight:100}})}invoke(qe,Ze,Ee,Te,Ae){if(Ze.regions.hasTypes())(0,U.MW)(Ze,W.AD.Comment.value,!0);else{const ht=Ee.getModel();if(!ht)return;const yt=Ae.getLanguageConfiguration(ht.getLanguageId()).comments;if(yt&&yt.blockCommentStartToken){const Dt=new RegExp("^\\s*"+(0,S.ec)(yt.blockCommentStartToken));(0,U.DW)(Ze,Dt,!0)}}}}),(0,R.Qr)(class He extends Pe{constructor(){super({id:"editor.foldAllMarkerRegions",label:te.NC("foldAllMarkerRegions.label","Fold All Regions"),alias:"Fold All Regions",precondition:ie,kbOpts:{kbExpr:O.u.editorTextFocus,primary:(0,y.gx)(2089,2077),weight:100}})}invoke(qe,Ze,Ee,Te,Ae){if(Ze.regions.hasTypes())(0,U.MW)(Ze,W.AD.Region.value,!0);else{const ht=Ee.getModel();if(!ht)return;const yt=Ae.getLanguageConfiguration(ht.getLanguageId()).foldingRules;if(yt&&yt.markers&&yt.markers.start){const Dt=new RegExp(yt.markers.start);(0,U.DW)(Ze,Dt,!0)}}}}),(0,R.Qr)(class Je extends Pe{constructor(){super({id:"editor.unfoldAllMarkerRegions",label:te.NC("unfoldAllMarkerRegions.label","Unfold All Regions"),alias:"Unfold All Regions",precondition:ie,kbOpts:{kbExpr:O.u.editorTextFocus,primary:(0,y.gx)(2089,2078),weight:100}})}invoke(qe,Ze,Ee,Te,Ae){if(Ze.regions.hasTypes())(0,U.MW)(Ze,W.AD.Region.value,!1);else{const ht=Ee.getModel();if(!ht)return;const yt=Ae.getLanguageConfiguration(ht.getLanguageId()).foldingRules;if(yt&&yt.markers&&yt.markers.start){const Dt=new RegExp(yt.markers.start);(0,U.DW)(Ze,Dt,!1)}}}}),(0,R.Qr)(class ot extends Pe{constructor(){super({id:"editor.foldAllExcept",label:te.NC("foldAllExcept.label","Fold All Except Selected"),alias:"Fold All Except Selected",precondition:ie,kbOpts:{kbExpr:O.u.editorTextFocus,primary:(0,y.gx)(2089,2136),weight:100}})}invoke(qe,Ze,Ee){const Te=this.getSelectedLines(Ee);(0,U.YT)(Ze,!0,Te)}}),(0,R.Qr)(class lt extends Pe{constructor(){super({id:"editor.unfoldAllExcept",label:te.NC("unfoldAllExcept.label","Unfold All Except Selected"),alias:"Unfold All Except Selected",precondition:ie,kbOpts:{kbExpr:O.u.editorTextFocus,primary:(0,y.gx)(2089,2134),weight:100}})}invoke(qe,Ze,Ee){const Te=this.getSelectedLines(Ee);(0,U.YT)(Ze,!1,Te)}}),(0,R.Qr)(class Q extends Pe{constructor(){super({id:"editor.toggleFold",label:te.NC("toggleFoldAction.label","Toggle Fold"),alias:"Toggle Fold",precondition:ie,kbOpts:{kbExpr:O.u.editorTextFocus,primary:(0,y.gx)(2089,2090),weight:100}})}invoke(qe,Ze,Ee){const Te=this.getSelectedLines(Ee);(0,U.d8)(Ze,1,Te)}}),(0,R.Qr)(class Tt extends Pe{constructor(){super({id:"editor.gotoParentFold",label:te.NC("gotoParentFold.label","Go to Parent Fold"),alias:"Go to Parent Fold",precondition:ie,kbOpts:{kbExpr:O.u.editorTextFocus,weight:100}})}invoke(qe,Ze,Ee){const Te=this.getSelectedLines(Ee);if(Te.length>0){const Ae=(0,U.PV)(Te[0],Ze);null!==Ae&&Ee.setSelection({startLineNumber:Ae,startColumn:1,endLineNumber:Ae,endColumn:1})}}}),(0,R.Qr)(class Mt extends Pe{constructor(){super({id:"editor.gotoPreviousFold",label:te.NC("gotoPreviousFold.label","Go to Previous Folding Range"),alias:"Go to Previous Folding Range",precondition:ie,kbOpts:{kbExpr:O.u.editorTextFocus,weight:100}})}invoke(qe,Ze,Ee){const Te=this.getSelectedLines(Ee);if(Te.length>0){const Ae=(0,U.sK)(Te[0],Ze);null!==Ae&&Ee.setSelection({startLineNumber:Ae,startColumn:1,endLineNumber:Ae,endColumn:1})}}}),(0,R.Qr)(class Ut extends Pe{constructor(){super({id:"editor.gotoNextFold",label:te.NC("gotoNextFold.label","Go to Next Folding Range"),alias:"Go to Next Folding Range",precondition:ie,kbOpts:{kbExpr:O.u.editorTextFocus,weight:100}})}invoke(qe,Ze,Ee){const Te=this.getSelectedLines(Ee);if(Te.length>0){const Ae=(0,U.hE)(Te[0],Ze);null!==Ae&&Ee.setSelection({startLineNumber:Ae,startColumn:1,endLineNumber:Ae,endColumn:1})}}}),(0,R.Qr)(class At extends Pe{constructor(){super({id:"editor.createFoldingRangeFromSelection",label:te.NC("createManualFoldRange.label","Create Folding Range from Selection"),alias:"Create Folding Range from Selection",precondition:ie,kbOpts:{kbExpr:O.u.editorTextFocus,primary:(0,y.gx)(2089,2135),weight:100}})}invoke(qe,Ze,Ee){var Te;const Ae=[],ht=Ee.getSelections();if(ht){for(const yt of ht){let Dt=yt.endLineNumber;1===yt.endColumn&&--Dt,Dt>yt.startLineNumber&&(Ae.push({startLineNumber:yt.startLineNumber,endLineNumber:Dt,type:void 0,isCollapsed:!0,source:1}),Ee.setSelection({startLineNumber:yt.startLineNumber,startColumn:1,endLineNumber:yt.startLineNumber,endColumn:1}))}if(Ae.length>0){Ae.sort((Dt,Ot)=>Dt.startLineNumber-Ot.startLineNumber);const yt=ae.MN.sanitizeAndMerge(Ze.regions,Ae,null===(Te=Ee.getModel())||void 0===Te?void 0:Te.getLineCount());Ze.updatePost(ae.MN.fromFoldRanges(yt))}}}}),(0,R.Qr)(class It extends Pe{constructor(){super({id:"editor.removeManualFoldingRanges",label:te.NC("removeManualFoldingRanges.label","Remove Manual Folding Ranges"),alias:"Remove Manual Folding Ranges",precondition:ie,kbOpts:{kbExpr:O.u.editorTextFocus,primary:(0,y.gx)(2089,2137),weight:100}})}invoke(qe,Ze,Ee){const Te=Ee.getSelections();if(Te){const Ae=[];for(const ht of Te){const{startLineNumber:yt,endLineNumber:Dt}=ht;Ae.push(Dt>=yt?{startLineNumber:yt,endLineNumber:Dt}:{endLineNumber:Dt,startLineNumber:yt})}Ze.removeManualRanges(Ae),qe.triggerFoldingModelChanged()}}});for(let it=1;it<=7;it++)(0,R.QG)(new Lt({id:Lt.ID(it),label:te.NC("foldLevelAction.label","Fold Level {0}",it),alias:`Fold Level ${it}`,precondition:ie,kbOpts:{kbExpr:O.u.editorTextFocus,primary:(0,y.gx)(2089,2048|21+it),weight:100}}));Se.P.registerCommand("_executeFoldingRangeProvider",function(it,...qe){return function(it,qe,Ze,Ee){return new(Ze||(Ze=Promise))(function(Ae,ht){function yt(gt){try{Ot(Ee.next(gt))}catch(Rt){ht(Rt)}}function Dt(gt){try{Ot(Ee.throw(gt))}catch(Rt){ht(Rt)}}function Ot(gt){gt.done?Ae(gt.value):function Te(Ae){return Ae instanceof Ze?Ae:new Ze(function(ht){ht(Ae)})}(gt.value).then(yt,Dt)}Ot((Ee=Ee.apply(it,qe||[])).next())})}(this,void 0,void 0,function*(){const[Ze]=qe;if(!(Ze instanceof Ve.o))throw(0,r.b1)();const Ee=it.get(Ie.p),Te=it.get(De.q).getModel(Ze);if(!Te)throw(0,r.b1)();const Ae=it.get(ye.Ui);if(!Ae.getValue("editor.folding",{resource:Ze}))return[];const ht=it.get(z.c_),yt=Ae.getValue("editor.foldingStrategy",{resource:Ze}),Dt={get limit(){return Ae.getValue("editor.foldingMaximumRegions",{resource:Ze})},update:(Ci,ci)=>{}},Ot=new J.aI(Te,ht,Dt);let gt=Ot;if("indentation"!==yt){const Ci=Ce.getFoldingRangeProviders(Ee,Te);Ci.length&&(gt=new ge.e(Te,Ci,()=>{},Dt,Ot))}const Rt=yield gt.compute(P.T.None),Zt=[];try{if(Rt)for(let Ci=0;Ci<Rt.length;Ci++){const ci=Rt.getType(Ci);Zt.push({start:Rt.getStartLineNumber(Ci),end:Rt.getEndLineNumber(Ci),kind:ci?W.AD.fromValue(ci):void 0})}return Zt}finally{gt.dispose()}})})},77826:(Xe,we,e)=>{e.d(we,{Iy:()=>p,f5:()=>c,fF:()=>d});var f=e(27222),P=e(24470),r=e(54267),y=e(37190),v=e(99745),S=e(34252),T=e(23527),E=e(35053);const L=(0,v.P6G)("editor.foldBackground",{light:(0,v.ZnX)(v.hEj,.3),dark:(0,v.ZnX)(v.hEj,.3),hcDark:null,hcLight:null},(0,y.NC)("foldBackgroundBackground","Background color behind folded ranges. The color must not be opaque so as not to hide underlying decorations."),!0);(0,v.P6G)("editorGutter.foldingControlForeground",{dark:v.XZx,light:v.XZx,hcDark:v.XZx,hcLight:v.XZx},(0,y.NC)("editorGutter.foldingControlForeground","Color of the folding control in the editor gutter."));const p=(0,S.q5)("folding-expanded",f.l.chevronDown,(0,y.NC)("foldingExpandedIcon","Icon for expanded ranges in the editor glyph margin.")),c=(0,S.q5)("folding-collapsed",f.l.chevronRight,(0,y.NC)("foldingCollapsedIcon","Icon for collapsed ranges in the editor glyph margin.")),u=(0,S.q5)("folding-manual-collapsed",c,(0,y.NC)("foldingManualCollapedIcon","Icon for manually collapsed ranges in the editor glyph margin.")),g=(0,S.q5)("folding-manual-expanded",p,(0,y.NC)("foldingManualExpandedIcon","Icon for manually expanded ranges in the editor glyph margin.")),i={color:(0,T.EN)(L),position:P.F5.Inline};class d{constructor(m){this.editor=m,this.showFoldingControls="mouseover",this.showFoldingHighlights=!0}getDecorationOption(m,l,I){return l?d.HIDDEN_RANGE_DECORATION:"never"===this.showFoldingControls?m?this.showFoldingHighlights?d.NO_CONTROLS_COLLAPSED_HIGHLIGHTED_RANGE_DECORATION:d.NO_CONTROLS_COLLAPSED_RANGE_DECORATION:d.NO_CONTROLS_EXPANDED_RANGE_DECORATION:m?I?this.showFoldingHighlights?d.MANUALLY_COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:d.MANUALLY_COLLAPSED_VISUAL_DECORATION:this.showFoldingHighlights?d.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:d.COLLAPSED_VISUAL_DECORATION:"mouseover"===this.showFoldingControls?I?d.MANUALLY_EXPANDED_AUTO_HIDE_VISUAL_DECORATION:d.EXPANDED_AUTO_HIDE_VISUAL_DECORATION:I?d.MANUALLY_EXPANDED_VISUAL_DECORATION:d.EXPANDED_VISUAL_DECORATION}changeDecorations(m){return this.editor.changeDecorations(m)}removeDecorations(m){this.editor.removeDecorations(m)}}d.COLLAPSED_VISUAL_DECORATION=r.qx.register({description:"folding-collapsed-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0,firstLineDecorationClassName:E.k.asClassName(c)}),d.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=r.qx.register({description:"folding-collapsed-highlighted-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",minimap:i,isWholeLine:!0,firstLineDecorationClassName:E.k.asClassName(c)}),d.MANUALLY_COLLAPSED_VISUAL_DECORATION=r.qx.register({description:"folding-manually-collapsed-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0,firstLineDecorationClassName:E.k.asClassName(u)}),d.MANUALLY_COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=r.qx.register({description:"folding-manually-collapsed-highlighted-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",minimap:i,isWholeLine:!0,firstLineDecorationClassName:E.k.asClassName(u)}),d.NO_CONTROLS_COLLAPSED_RANGE_DECORATION=r.qx.register({description:"folding-no-controls-range-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0}),d.NO_CONTROLS_COLLAPSED_HIGHLIGHTED_RANGE_DECORATION=r.qx.register({description:"folding-no-controls-range-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",minimap:i,isWholeLine:!0}),d.EXPANDED_VISUAL_DECORATION=r.qx.register({description:"folding-expanded-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+E.k.asClassName(p)}),d.EXPANDED_AUTO_HIDE_VISUAL_DECORATION=r.qx.register({description:"folding-expanded-auto-hide-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:E.k.asClassName(p)}),d.MANUALLY_EXPANDED_VISUAL_DECORATION=r.qx.register({description:"folding-manually-expanded-visual-decoration",stickiness:0,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+E.k.asClassName(g)}),d.MANUALLY_EXPANDED_AUTO_HIDE_VISUAL_DECORATION=r.qx.register({description:"folding-manually-expanded-auto-hide-visual-decoration",stickiness:0,isWholeLine:!0,firstLineDecorationClassName:E.k.asClassName(g)}),d.NO_CONTROLS_EXPANDED_RANGE_DECORATION=r.qx.register({description:"folding-no-controls-range-decoration",stickiness:0,isWholeLine:!0}),d.HIDDEN_RANGE_DECORATION=r.qx.register({description:"folding-hidden-range-decoration",stickiness:1})},58039:(Xe,we,e)=>{e.d(we,{DW:()=>c,HX:()=>E,Ln:()=>L,MW:()=>u,PV:()=>g,R$:()=>S,YT:()=>p,av:()=>y,d8:()=>v,gU:()=>T,hE:()=>d,sK:()=>i});var f=e(58178),P=e(72847),r=e(27388);class y{get regions(){return this._regions}get textModel(){return this._textModel}constructor(m,l){this._updateEventEmitter=new f.Q5,this.onDidChange=this._updateEventEmitter.event,this._textModel=m,this._decorationProvider=l,this._regions=new P.MN(new Uint32Array(0),new Uint32Array(0)),this._editorDecorationIds=[]}toggleCollapseState(m){if(!m.length)return;m=m.sort((I,w)=>I.regionIndex-w.regionIndex);const l={};this._decorationProvider.changeDecorations(I=>{let w=0,D=-1,N=-1;const A=k=>{for(;w<k;){const R=this._regions.getEndLineNumber(w),O=this._regions.isCollapsed(w);if(R<=D){const W=0!==this.regions.getSource(w);I.changeDecorationOptions(this._editorDecorationIds[w],this._decorationProvider.getDecorationOption(O,R<=N,W))}O&&R>N&&(N=R),w++}};for(const k of m){const R=k.regionIndex,O=this._editorDecorationIds[R];if(O&&!l[O]){l[O]=!0,A(R);const W=!this._regions.isCollapsed(R);this._regions.setCollapsed(R,W),D=Math.max(D,this._regions.getEndLineNumber(R))}}A(this._regions.length)}),this._updateEventEmitter.fire({model:this,collapseStateChanged:m})}removeManualRanges(m){const l=new Array,I=w=>{for(const D of m)if(!(D.startLineNumber>w.endLineNumber||w.startLineNumber>D.endLineNumber))return!0;return!1};for(let w=0;w<this._regions.length;w++){const D=this._regions.toFoldRange(w);(0===D.source||!I(D))&&l.push(D)}this.updatePost(P.MN.fromFoldRanges(l))}update(m,l=[]){const I=this._currentFoldedOrManualRanges(l),w=P.MN.sanitizeAndMerge(m,I,this._textModel.getLineCount());this.updatePost(P.MN.fromFoldRanges(w))}updatePost(m){const l=[];let I=-1;for(let w=0,D=m.length;w<D;w++){const N=m.getStartLineNumber(w),A=m.getEndLineNumber(w),k=m.isCollapsed(w),R=0!==m.getSource(w),O={startLineNumber:N,startColumn:this._textModel.getLineMaxColumn(N),endLineNumber:A,endColumn:this._textModel.getLineMaxColumn(A)+1};l.push({range:O,options:this._decorationProvider.getDecorationOption(k,A<=I,R)}),k&&A>I&&(I=A)}this._decorationProvider.changeDecorations(w=>this._editorDecorationIds=w.deltaDecorations(this._editorDecorationIds,l)),this._regions=m,this._updateEventEmitter.fire({model:this})}_currentFoldedOrManualRanges(m=[]){const l=(w,D)=>{for(const N of m)if(w<N&&N<=D)return!0;return!1},I=[];for(let w=0,D=this._regions.length;w<D;w++){let N=this.regions.isCollapsed(w);const A=this.regions.getSource(w);if(N||0!==A){const k=this._regions.toFoldRange(w),R=this._textModel.getDecorationRange(this._editorDecorationIds[w]);R&&(N&&l(R.startLineNumber,R.endLineNumber)&&(N=!1),I.push({startLineNumber:R.startLineNumber,endLineNumber:R.endLineNumber,type:k.type,isCollapsed:N,source:A}))}}return I}getMemento(){const m=this._currentFoldedOrManualRanges(),l=[],I=this._textModel.getLineCount();for(let w=0,D=m.length;w<D;w++){const N=m[w];if(N.startLineNumber>=N.endLineNumber||N.startLineNumber<1||N.endLineNumber>I)continue;const A=this._getLinesChecksum(N.startLineNumber+1,N.endLineNumber);l.push({startLineNumber:N.startLineNumber,endLineNumber:N.endLineNumber,isCollapsed:N.isCollapsed,source:N.source,checksum:A})}return l.length>0?l:void 0}applyMemento(m){var l,I;if(!Array.isArray(m))return;const w=[],D=this._textModel.getLineCount();for(const A of m){if(A.startLineNumber>=A.endLineNumber||A.startLineNumber<1||A.endLineNumber>D)continue;const k=this._getLinesChecksum(A.startLineNumber+1,A.endLineNumber);(!A.checksum||k===A.checksum)&&w.push({startLineNumber:A.startLineNumber,endLineNumber:A.endLineNumber,type:void 0,isCollapsed:null===(l=A.isCollapsed)||void 0===l||l,source:null!==(I=A.source)&&void 0!==I?I:0})}const N=P.MN.sanitizeAndMerge(this._regions,w,D);this.updatePost(P.MN.fromFoldRanges(N))}_getLinesChecksum(m,l){return(0,r.vp)(this._textModel.getLineContent(m)+this._textModel.getLineContent(l))%1e6}dispose(){this._decorationProvider.removeDecorations(this._editorDecorationIds)}getAllRegionsAtLine(m,l){const I=[];if(this._regions){let w=this._regions.findRange(m),D=1;for(;w>=0;){const N=this._regions.toRegion(w);(!l||l(N,D))&&I.push(N),D++,w=N.parentIndex}}return I}getRegionAtLine(m){if(this._regions){const l=this._regions.findRange(m);if(l>=0)return this._regions.toRegion(l)}return null}getRegionsInside(m,l){const I=[],w=m?m.regionIndex+1:0,D=m?m.endLineNumber:Number.MAX_VALUE;if(l&&2===l.length){const N=[];for(let A=w,k=this._regions.length;A<k;A++){const R=this._regions.toRegion(A);if(!(this._regions.getStartLineNumber(A)<D))break;for(;N.length>0&&!R.containedBy(N[N.length-1]);)N.pop();N.push(R),l(R,N.length)&&I.push(R)}}else for(let N=w,A=this._regions.length;N<A;N++){const k=this._regions.toRegion(N);if(!(this._regions.getStartLineNumber(N)<D))break;(!l||l(k))&&I.push(k)}return I}}function v(a,m,l){const I=[];for(const w of l){const D=a.getRegionAtLine(w);if(D){const N=!D.isCollapsed;if(I.push(D),m>1){const A=a.getRegionsInside(D,(k,R)=>k.isCollapsed!==N&&R<m);I.push(...A)}}}a.toggleCollapseState(I)}function S(a,m,l=Number.MAX_VALUE,I){const w=[];if(I&&I.length>0)for(const D of I){const N=a.getRegionAtLine(D);if(N&&(N.isCollapsed!==m&&w.push(N),l>1)){const A=a.getRegionsInside(N,(k,R)=>k.isCollapsed!==m&&R<l);w.push(...A)}}else{const D=a.getRegionsInside(null,(N,A)=>N.isCollapsed!==m&&A<l);w.push(...D)}a.toggleCollapseState(w)}function T(a,m,l,I){const w=[];for(const D of I){const N=a.getAllRegionsAtLine(D,(A,k)=>A.isCollapsed!==m&&k<=l);w.push(...N)}a.toggleCollapseState(w)}function E(a,m,l){const I=[];for(const w of l){const D=a.getAllRegionsAtLine(w,N=>N.isCollapsed!==m);D.length>0&&I.push(D[0])}a.toggleCollapseState(I)}function L(a,m,l,I){const D=a.getRegionsInside(null,(N,A)=>A===m&&N.isCollapsed!==l&&!I.some(k=>N.containsLine(k)));a.toggleCollapseState(D)}function p(a,m,l){const I=[];for(const N of l){const A=a.getAllRegionsAtLine(N,void 0);A.length>0&&I.push(A[0])}const D=a.getRegionsInside(null,N=>I.every(A=>!A.containedBy(N)&&!N.containedBy(A))&&N.isCollapsed!==m);a.toggleCollapseState(D)}function c(a,m,l){const I=a.textModel,w=a.regions,D=[];for(let N=w.length-1;N>=0;N--)if(l!==w.isCollapsed(N)){const A=w.getStartLineNumber(N);m.test(I.getLineContent(A))&&D.push(w.toRegion(N))}a.toggleCollapseState(D)}function u(a,m,l){const I=a.regions,w=[];for(let D=I.length-1;D>=0;D--)l!==I.isCollapsed(D)&&m===I.getType(D)&&w.push(I.toRegion(D));a.toggleCollapseState(w)}function g(a,m){let l=null;const I=m.getRegionAtLine(a);if(null!==I&&(l=I.startLineNumber,a===l)){const w=I.parentIndex;l=-1!==w?m.regions.getStartLineNumber(w):null}return l}function i(a,m){let l=m.getRegionAtLine(a);if(null!==l&&l.startLineNumber===a){if(a!==l.startLineNumber)return l.startLineNumber;{const I=l.parentIndex;let w=0;for(-1!==I&&(w=m.regions.getStartLineNumber(l.parentIndex));null!==l;){if(!(l.regionIndex>0))return null;if(l=m.regions.toRegion(l.regionIndex-1),l.startLineNumber<=w)return null;if(l.parentIndex===I)return l.startLineNumber}}}else if(m.regions.length>0)for(l=m.regions.toRegion(m.regions.length-1);null!==l;){if(l.startLineNumber<a)return l.startLineNumber;l=l.regionIndex>0?m.regions.toRegion(l.regionIndex-1):null}return null}function d(a,m){let l=m.getRegionAtLine(a);if(null!==l&&l.startLineNumber===a){const I=l.parentIndex;let w=0;if(-1!==I)w=m.regions.getEndLineNumber(l.parentIndex);else{if(0===m.regions.length)return null;w=m.regions.getEndLineNumber(m.regions.length-1)}for(;null!==l;){if(!(l.regionIndex<m.regions.length))return null;if(l=m.regions.toRegion(l.regionIndex+1),l.startLineNumber>=w)return null;if(l.parentIndex===I)return l.startLineNumber}}else if(m.regions.length>0)for(l=m.regions.toRegion(0);null!==l;){if(l.startLineNumber>a)return l.startLineNumber;l=l.regionIndex<m.regions.length?m.regions.toRegion(l.regionIndex+1):null}return null}},72847:(Xe,we,e)=>{e.d(we,{MN:()=>S,Xl:()=>r});const f={0:" ",1:"u",2:"r"},r=16777215,y=4278190080;class v{constructor(L){const p=Math.ceil(L/32);this._states=new Uint32Array(p)}get(L){return 0!=(this._states[L/32|0]&1<<L%32)}set(L,p){const c=L/32|0,u=L%32,g=this._states[c];this._states[c]=p?g|1<<u:g&~(1<<u)}}class S{constructor(L,p,c){if(L.length!==p.length||L.length>65535)throw new Error("invalid startIndexes or endIndexes size");this._startIndexes=L,this._endIndexes=p,this._collapseStates=new v(L.length),this._userDefinedStates=new v(L.length),this._recoveredStates=new v(L.length),this._types=c,this._parentsComputed=!1}ensureParentIndices(){if(!this._parentsComputed){this._parentsComputed=!0;const L=[],p=(c,u)=>{const g=L[L.length-1];return this.getStartLineNumber(g)<=c&&this.getEndLineNumber(g)>=u};for(let c=0,u=this._startIndexes.length;c<u;c++){const g=this._startIndexes[c],i=this._endIndexes[c];if(g>r||i>r)throw new Error("startLineNumber or endLineNumber must not exceed "+r);for(;L.length>0&&!p(g,i);)L.pop();const d=L.length>0?L[L.length-1]:-1;L.push(c),this._startIndexes[c]=g+((255&d)<<24),this._endIndexes[c]=i+((65280&d)<<16)}}}get length(){return this._startIndexes.length}getStartLineNumber(L){return this._startIndexes[L]&r}getEndLineNumber(L){return this._endIndexes[L]&r}getType(L){return this._types?this._types[L]:void 0}hasTypes(){return!!this._types}isCollapsed(L){return this._collapseStates.get(L)}setCollapsed(L,p){this._collapseStates.set(L,p)}isUserDefined(L){return this._userDefinedStates.get(L)}setUserDefined(L,p){return this._userDefinedStates.set(L,p)}isRecovered(L){return this._recoveredStates.get(L)}setRecovered(L,p){return this._recoveredStates.set(L,p)}getSource(L){return this.isUserDefined(L)?1:this.isRecovered(L)?2:0}setSource(L,p){1===p?(this.setUserDefined(L,!0),this.setRecovered(L,!1)):2===p?(this.setUserDefined(L,!1),this.setRecovered(L,!0)):(this.setUserDefined(L,!1),this.setRecovered(L,!1))}setCollapsedAllOfType(L,p){let c=!1;if(this._types)for(let u=0;u<this._types.length;u++)this._types[u]===L&&(this.setCollapsed(u,p),c=!0);return c}toRegion(L){return new T(this,L)}getParentIndex(L){this.ensureParentIndices();const p=((this._startIndexes[L]&y)>>>24)+((this._endIndexes[L]&y)>>>16);return 65535===p?-1:p}contains(L,p){return this.getStartLineNumber(L)<=p&&this.getEndLineNumber(L)>=p}findIndex(L){let p=0,c=this._startIndexes.length;if(0===c)return-1;for(;p<c;){const u=Math.floor((p+c)/2);L<this.getStartLineNumber(u)?c=u:p=u+1}return p-1}findRange(L){let p=this.findIndex(L);if(p>=0){if(this.getEndLineNumber(p)>=L)return p;for(p=this.getParentIndex(p);-1!==p;){if(this.contains(p,L))return p;p=this.getParentIndex(p)}}return-1}toString(){const L=[];for(let p=0;p<this.length;p++)L[p]=`[${f[this.getSource(p)]}${this.isCollapsed(p)?"+":"-"}] ${this.getStartLineNumber(p)}/${this.getEndLineNumber(p)}`;return L.join(", ")}toFoldRange(L){return{startLineNumber:this._startIndexes[L]&r,endLineNumber:this._endIndexes[L]&r,type:this._types?this._types[L]:void 0,isCollapsed:this.isCollapsed(L),source:this.getSource(L)}}static fromFoldRanges(L){const p=L.length,c=new Uint32Array(p),u=new Uint32Array(p);let g=[],i=!1;for(let a=0;a<p;a++){const m=L[a];c[a]=m.startLineNumber,u[a]=m.endLineNumber,g.push(m.type),m.type&&(i=!0)}i||(g=void 0);const d=new S(c,u,g);for(let a=0;a<p;a++)L[a].isCollapsed&&d.setCollapsed(a,!0),d.setSource(a,L[a].source);return d}static sanitizeAndMerge(L,p,c){c=c??Number.MAX_VALUE;const u=(A,k)=>Array.isArray(A)?R=>R<k?A[R]:void 0:R=>R<k?A.toFoldRange(R):void 0,g=u(L,L.length),i=u(p,p.length);let d=0,a=0,m=g(0),l=i(0);const I=[];let w,D=0;const N=[];for(;m||l;){let A;if(l&&(!m||m.startLineNumber>=l.startLineNumber))m&&m.startLineNumber===l.startLineNumber?(1===l.source?A=l:(A=m,A.isCollapsed=l.isCollapsed&&m.endLineNumber===l.endLineNumber,A.source=0),m=g(++d)):(A=l,l.isCollapsed&&0===l.source&&(A.source=2)),l=i(++a);else{let k=a,R=l;for(;;){if(!R||R.startLineNumber>m.endLineNumber){A=m;break}if(1===R.source&&R.endLineNumber>m.endLineNumber)break;R=i(++k)}m=g(++d)}if(A){for(;w&&w.endLineNumber<A.startLineNumber;)w=I.pop();A.endLineNumber>A.startLineNumber&&A.startLineNumber>D&&A.endLineNumber<=c&&(!w||w.endLineNumber>=A.endLineNumber)&&(N.push(A),D=A.startLineNumber,w&&I.push(w),w=A)}}return N}}class T{constructor(L,p){this.ranges=L,this.index=p}get startLineNumber(){return this.ranges.getStartLineNumber(this.index)}get endLineNumber(){return this.ranges.getEndLineNumber(this.index)}get regionIndex(){return this.index}get parentIndex(){return this.ranges.getParentIndex(this.index)}get isCollapsed(){return this.ranges.isCollapsed(this.index)}containedBy(L){return L.startLineNumber<=this.startLineNumber&&L.endLineNumber>=this.endLineNumber}containsLine(L){return this.startLineNumber<=L&&L<=this.endLineNumber}}},88215:(Xe,we,e)=>{e.d(we,{aI:()=>v});var f=e(31597),P=e(72847);class v{constructor(p,c,u){this.editorModel=p,this.languageConfigurationService=c,this.foldingRangesLimit=u,this.id="indent"}dispose(){}compute(p){const c=this.languageConfigurationService.getLanguageConfiguration(this.editorModel.getLanguageId()).foldingRules;return Promise.resolve(function E(L,p,c,u=T){const g=L.getOptions().tabSize,i=new S(u);let d;c&&(d=new RegExp(`(${c.start.source})|(?:${c.end.source})`));const a=[],m=L.getLineCount()+1;a.push({indent:-1,endAbove:m,line:m});for(let l=L.getLineCount();l>0;l--){const I=L.getLineContent(l),w=(0,f.q)(I,g);let N,D=a[a.length-1];if(-1!==w){if(d&&(N=I.match(d))){if(!N[1]){a.push({indent:-2,endAbove:l,line:l});continue}{let A=a.length-1;for(;A>0&&-2!==a[A].indent;)A--;if(A>0){a.length=A+1,D=a[A],i.insertFirst(l,D.line,w),D.line=l,D.indent=w,D.endAbove=l;continue}}}if(D.indent>w){do{a.pop(),D=a[a.length-1]}while(D.indent>w);const A=D.endAbove-1;A-l>=1&&i.insertFirst(l,A,w)}D.indent===w?D.endAbove=l:a.push({indent:w,endAbove:l,line:l})}else p&&(D.endAbove=l)}return i.toIndentRanges(L)}(this.editorModel,c&&!!c.offSide,c&&c.markers,this.foldingRangesLimit))}}class S{constructor(p){this._startIndexes=[],this._endIndexes=[],this._indentOccurrences=[],this._length=0,this._foldingRangesLimit=p}insertFirst(p,c,u){if(p>P.Xl||c>P.Xl)return;const g=this._length;this._startIndexes[g]=p,this._endIndexes[g]=c,this._length++,u<1e3&&(this._indentOccurrences[u]=(this._indentOccurrences[u]||0)+1)}toIndentRanges(p){const c=this._foldingRangesLimit.limit;if(this._length<=c){this._foldingRangesLimit.update(this._length,!1);const u=new Uint32Array(this._length),g=new Uint32Array(this._length);for(let i=this._length-1,d=0;i>=0;i--,d++)u[d]=this._startIndexes[i],g[d]=this._endIndexes[i];return new P.MN(u,g)}{this._foldingRangesLimit.update(this._length,c);let u=0,g=this._indentOccurrences.length;for(let m=0;m<this._indentOccurrences.length;m++){const l=this._indentOccurrences[m];if(l){if(l+u>c){g=m;break}u+=l}}const i=p.getOptions().tabSize,d=new Uint32Array(c),a=new Uint32Array(c);for(let m=this._length-1,l=0;m>=0;m--){const I=this._startIndexes[m],w=p.getLineContent(I),D=(0,f.q)(w,i);(D<g||D===g&&u++<c)&&(d[l]=I,a[l]=this._endIndexes[m],l++)}return new P.MN(d,a)}}}const T={limit:5e3,update:()=>{}}},11969:(Xe,we,e)=>{e.d(we,{e:()=>S});var f=e(17967),P=e(78694),r=e(72847);const y={};class S{constructor(c,u,g,i,d){this.editorModel=c,this.providers=u,this.handleFoldingRangesChange=g,this.foldingRangesLimit=i,this.fallbackRangeProvider=d,this.id="syntax",this.disposables=new P.SL,d&&this.disposables.add(d);for(const a of u)"function"==typeof a.onDidChange&&this.disposables.add(a.onDidChange(g))}compute(c){return function T(p,c,u){let g=null;const i=p.map((d,a)=>Promise.resolve(d.provideFoldingRanges(c,y,u)).then(m=>{if(!u.isCancellationRequested&&Array.isArray(m)){Array.isArray(g)||(g=[]);const l=c.getLineCount();for(const I of m)I.start>0&&I.end>I.start&&I.end<=l&&g.push({start:I.start,end:I.end,rank:a,kind:I.kind})}},f.Cp));return Promise.all(i).then(d=>g)}(this.providers,this.editorModel,c).then(u=>{var g,i;return u?function L(p,c){const u=p.sort((a,m)=>{let l=a.start-m.start;return 0===l&&(l=a.rank-m.rank),l}),g=new E(c);let i;const d=[];for(const a of u)if(i){if(a.start>i.start)if(a.end<=i.end)d.push(i),i=a,g.add(a.start,a.end,a.kind&&a.kind.value,d.length);else{if(a.start>i.end){do{i=d.pop()}while(i&&a.start>i.end);i&&d.push(i),i=a}g.add(a.start,a.end,a.kind&&a.kind.value,d.length)}}else i=a,g.add(a.start,a.end,a.kind&&a.kind.value,d.length);return g.toIndentRanges()}(u,this.foldingRangesLimit):null!==(i=null===(g=this.fallbackRangeProvider)||void 0===g?void 0:g.compute(c))&&void 0!==i?i:null})}dispose(){this.disposables.dispose()}}class E{constructor(c){this._startIndexes=[],this._endIndexes=[],this._nestingLevels=[],this._nestingLevelCounts=[],this._types=[],this._length=0,this._foldingRangesLimit=c}add(c,u,g,i){if(c>r.Xl||u>r.Xl)return;const d=this._length;this._startIndexes[d]=c,this._endIndexes[d]=u,this._nestingLevels[d]=i,this._types[d]=g,this._length++,i<30&&(this._nestingLevelCounts[i]=(this._nestingLevelCounts[i]||0)+1)}toIndentRanges(){const c=this._foldingRangesLimit.limit;if(this._length<=c){this._foldingRangesLimit.update(this._length,!1);const u=new Uint32Array(this._length),g=new Uint32Array(this._length);for(let i=0;i<this._length;i++)u[i]=this._startIndexes[i],g[i]=this._endIndexes[i];return new r.MN(u,g,this._types)}{this._foldingRangesLimit.update(this._length,c);let u=0,g=this._nestingLevelCounts.length;for(let m=0;m<this._nestingLevelCounts.length;m++){const l=this._nestingLevelCounts[m];if(l){if(l+u>c){g=m;break}u+=l}}const i=new Uint32Array(c),d=new Uint32Array(c),a=[];for(let m=0,l=0;m<this._length;m++){const I=this._nestingLevels[m];(I<g||I===g&&u++<c)&&(i[l]=this._startIndexes[m],d[l]=this._endIndexes[m],a[l]=this._types[m],l++)}return new r.MN(i,d,a)}}}},48943:(Xe,we,e)=>{var f=e(8256),P=e(24558),r=e(37190);(0,f.Qr)(class y extends f.R6{constructor(){super({id:"editor.action.fontZoomIn",label:r.NC("EditorFontZoomIn.label","Editor Font Zoom In"),alias:"Editor Font Zoom In",precondition:void 0})}run(E,L){P.C.setZoomLevel(P.C.getZoomLevel()+1)}}),(0,f.Qr)(class v extends f.R6{constructor(){super({id:"editor.action.fontZoomOut",label:r.NC("EditorFontZoomOut.label","Editor Font Zoom Out"),alias:"Editor Font Zoom Out",precondition:void 0})}run(E,L){P.C.setZoomLevel(P.C.getZoomLevel()-1)}}),(0,f.Qr)(class S extends f.R6{constructor(){super({id:"editor.action.fontZoomReset",label:r.NC("EditorFontZoomReset.label","Editor Font Zoom Reset"),alias:"Editor Font Zoom Reset",precondition:void 0})}run(E,L){P.C.setZoomLevel(0)}})},44325:(Xe,we,e)=>{e.d(we,{xC:()=>W,Zg:()=>R,x$:()=>z,Qq:()=>ee,Qs:()=>j});var f=e(41539),P=e(31738),r=e(87618),y=e(17967),v=e(68733),S=e(86211),T=e(91402),E=e(15850),L=e(45173),p=e(37389),c=e(68678),u=e(96726),g=e(81534),i=e(57205),d=e(56230),a=e(39467),m=e(37190),l=e(11813);class I{constructor(K){this.value=K,this._lower=K.toLowerCase()}static toKey(K){return"string"==typeof K?K.toLowerCase():K._lower}}class w{constructor(K){if(this._set=new Set,K)for(const J of K)this.add(J)}add(K){this._set.add(I.toKey(K))}has(K){return this._set.has(I.toKey(K))}}var D=e(12065),N=e(55763),A=e(22468),k=function($,K,J,te){return new(J||(J=Promise))(function(_,ae){function ge(ve){try{ue(te.next(ve))}catch(Ie){ae(Ie)}}function _e(ve){try{ue(te.throw(ve))}catch(Ie){ae(Ie)}}function ue(ve){ve.done?_(ve.value):function ne(_){return _ instanceof J?_:new J(function(ae){ae(_)})}(ve.value).then(ge,_e)}ue((te=te.apply($,K||[])).next())})};function R($){if(!($=$.filter(ne=>ne.range)).length)return;let{range:K}=$[0];for(let ne=1;ne<$.length;ne++)K=u.e.plusRange(K,$[ne].range);const{startLineNumber:J,endLineNumber:te}=K;(0,f.Z9)(J===te?1===$.length?m.NC("hint11","Made 1 formatting edit on line {0}",J):m.NC("hintn1","Made {0} formatting edits on line {1}",$.length,J):1===$.length?m.NC("hint1n","Made 1 formatting edit between lines {0} and {1}",J,te):m.NC("hintnn","Made {0} formatting edits between lines {1} and {2}",$.length,J,te))}function O($,K,J){const te=[],ne=new w,_=$.ordered(J);for(const ge of _)te.push(ge),ge.extensionId&&ne.add(ge.extensionId);const ae=K.ordered(J);for(const ge of ae){if(ge.extensionId){if(ne.has(ge.extensionId))continue;ne.add(ge.extensionId)}te.push({displayName:ge.displayName,extensionId:ge.extensionId,provideDocumentFormattingEdits:(_e,ue,ve)=>ge.provideDocumentRangeFormattingEdits(_e,_e.getFullModelRange(),ue,ve)})}return te}class W{static setFormatterSelector(K){return{dispose:W._selectors.unshift(K)}}static select(K,J,te){return k(this,void 0,void 0,function*(){if(0===K.length)return;const ne=v.$.first(W._selectors);return ne?yield ne(K,J,te):void 0})}}function z($,K,J,te,ne,_){return k(this,void 0,void 0,function*(){const ae=$.get(D.TG),{documentRangeFormattingEditProvider:ge}=$.get(N.p),_e=(0,p.CL)(K)?K.getModel():K,ue=ge.ordered(_e),ve=yield W.select(ue,_e,te);ve&&(ne.report(ve),yield ae.invokeFunction(U,ve,K,J,_))})}function U($,K,J,te,ne){var _,ae;return k(this,void 0,void 0,function*(){const ge=$.get(i.p),_e=$.get(A.VZ);let ue,ve;(0,p.CL)(J)?(ue=J.getModel(),ve=new L.Dl(J,5,void 0,ne)):(ue=J,ve=new L.YQ(J,ne));const Ie=[];let Se=0;for(const Y of(0,P._2)(te).sort(u.e.compareRangesUsingStarts))Se>0&&u.e.areIntersectingOrTouching(Ie[Se-1],Y)?Ie[Se-1]=u.e.fromPositions(Ie[Se-1].getStartPosition(),Y.getEndPosition()):Se=Ie.push(Y);const Ve=Y=>k(this,void 0,void 0,function*(){var x,F;_e.trace("[format][provideDocumentRangeFormattingEdits] (request)",null===(x=K.extensionId)||void 0===x?void 0:x.value,Y);const ie=(yield K.provideDocumentRangeFormattingEdits(ue,Y,ue.getFormattingOptions(),ve.token))||[];return _e.trace("[format][provideDocumentRangeFormattingEdits] (response)",null===(F=K.extensionId)||void 0===F?void 0:F.value,ie),ie}),De=(Y,x)=>{if(!Y.length||!x.length)return!1;const F=Y.reduce((ie,Ce)=>u.e.plusRange(ie,Ce.range),Y[0].range);if(!x.some(ie=>u.e.intersectRanges(F,ie.range)))return!1;for(const ie of Y)for(const Ce of x)if(u.e.intersectRanges(ie.range,Ce.range))return!0;return!1},ye=[],oe=[];try{if("function"==typeof K.provideDocumentRangesFormattingEdits){_e.trace("[format][provideDocumentRangeFormattingEdits] (request)",null===(_=K.extensionId)||void 0===_?void 0:_.value,Ie);const Y=(yield K.provideDocumentRangesFormattingEdits(ue,Ie,ue.getFormattingOptions(),ve.token))||[];_e.trace("[format][provideDocumentRangeFormattingEdits] (response)",null===(ae=K.extensionId)||void 0===ae?void 0:ae.value,Y),oe.push(Y)}else{for(const Y of Ie){if(ve.token.isCancellationRequested)return!0;oe.push(yield Ve(Y))}for(let Y=0;Y<Ie.length;++Y)for(let x=Y+1;x<Ie.length;++x){if(ve.token.isCancellationRequested)return!0;if(De(oe[Y],oe[x])){const F=u.e.plusRange(Ie[Y],Ie[x]),ie=yield Ve(F);Ie.splice(x,1),Ie.splice(Y,1),Ie.push(F),oe.splice(x,1),oe.splice(Y,1),oe.push(ie),Y=0,x=0}}}for(const Y of oe){if(ve.token.isCancellationRequested)return!0;const x=yield ge.computeMoreMinimalEdits(ue.uri,Y);x&&ye.push(...x)}}finally{ve.dispose()}if(0===ye.length)return!1;if((0,p.CL)(J))a.V.execute(J,ye,!0),R(ye),J.revealPositionInCenterIfOutsideViewport(J.getPosition(),1);else{const[{range:Y}]=ye,x=new g.Y(Y.startLineNumber,Y.startColumn,Y.endLineNumber,Y.endColumn);ue.pushEditOperations([x],ye.map(F=>({text:F.text,range:u.e.lift(F.range),forceMoveMarkers:!0})),F=>{for(const{range:ie}of F)if(u.e.areIntersectingOrTouching(ie,x))return[new g.Y(ie.startLineNumber,ie.startColumn,ie.endLineNumber,ie.endColumn)];return null})}return!0})}function ee($,K,J,te,ne){return k(this,void 0,void 0,function*(){const _=$.get(D.TG),ae=$.get(N.p),ge=(0,p.CL)(K)?K.getModel():K,_e=O(ae.documentFormattingEditProvider,ae.documentRangeFormattingEditProvider,ge),ue=yield W.select(_e,ge,J);ue&&(te.report(ue),yield _.invokeFunction(B,ue,K,J,ne))})}function B($,K,J,te,ne){return k(this,void 0,void 0,function*(){const _=$.get(i.p);let ae,ge,_e;(0,p.CL)(J)?(ae=J.getModel(),ge=new L.Dl(J,5,void 0,ne)):(ae=J,ge=new L.YQ(J,ne));try{const ue=yield K.provideDocumentFormattingEdits(ae,ae.getFormattingOptions(),ge.token);if(_e=yield _.computeMoreMinimalEdits(ae.uri,ue),ge.token.isCancellationRequested)return!0}finally{ge.dispose()}if(!_e||0===_e.length)return!1;if((0,p.CL)(J))a.V.execute(J,_e,2!==te),2!==te&&(R(_e),J.revealPositionInCenterIfOutsideViewport(J.getPosition(),1));else{const[{range:ue}]=_e,ve=new g.Y(ue.startLineNumber,ue.startColumn,ue.endLineNumber,ue.endColumn);ae.pushEditOperations([ve],_e.map(Ie=>({text:Ie.text,range:u.e.lift(Ie.range),forceMoveMarkers:!0})),Ie=>{for(const{range:Se}of Ie)if(u.e.areIntersectingOrTouching(Se,ve))return[new g.Y(Se.startLineNumber,Se.startColumn,Se.endLineNumber,Se.endColumn)];return null})}return!0})}function j($,K,J,te,ne,_,ae){const ge=K.onTypeFormattingEditProvider.ordered(J);return 0===ge.length||ge[0].autoFormatTriggerCharacters.indexOf(ne)<0?Promise.resolve(void 0):Promise.resolve(ge[0].provideOnTypeFormattingEdits(J,te,ne,_,ae)).catch(y.Cp).then(_e=>$.computeMoreMinimalEdits(J.uri,_e))}W._selectors=new S.S,l.P.registerCommand("_executeFormatRangeProvider",function($,...K){return k(this,void 0,void 0,function*(){const[J,te,ne]=K;(0,T.p_)(E.o.isUri(J)),(0,T.p_)(u.e.isIRange(te));const _=$.get(d.S),ae=$.get(i.p),ge=$.get(N.p),_e=yield _.createModelReference(J);try{return function G($,K,J,te,ne,_){return k(this,void 0,void 0,function*(){const ae=K.documentRangeFormattingEditProvider.ordered(J);for(const ge of ae){const _e=yield Promise.resolve(ge.provideDocumentRangeFormattingEdits(J,te,ne,_)).catch(y.Cp);if((0,P.Of)(_e))return yield $.computeMoreMinimalEdits(J.uri,_e)}})}(ae,ge,_e.object.textEditorModel,u.e.lift(te),ne,r.T.None)}finally{_e.dispose()}})}),l.P.registerCommand("_executeFormatDocumentProvider",function($,...K){return k(this,void 0,void 0,function*(){const[J,te]=K;(0,T.p_)(E.o.isUri(J));const ne=$.get(d.S),_=$.get(i.p),ae=$.get(N.p),ge=yield ne.createModelReference(J);try{return function se($,K,J,te,ne){return k(this,void 0,void 0,function*(){const _=O(K.documentFormattingEditProvider,K.documentRangeFormattingEditProvider,J);for(const ae of _){const ge=yield Promise.resolve(ae.provideDocumentFormattingEdits(J,te,ne)).catch(y.Cp);if((0,P.Of)(ge))return yield $.computeMoreMinimalEdits(J.uri,ge)}})}(_,ae,ge.object.textEditorModel,te,r.T.None)}finally{ge.dispose()}})}),l.P.registerCommand("_executeFormatOnTypeProvider",function($,...K){return k(this,void 0,void 0,function*(){const[J,te,ne,_]=K;(0,T.p_)(E.o.isUri(J)),(0,T.p_)(c.L.isIPosition(te)),(0,T.p_)("string"==typeof ne);const ae=$.get(d.S),ge=$.get(i.p),_e=$.get(N.p),ue=yield ae.createModelReference(J);try{return j(ge,_e,ue.object.textEditorModel,c.L.lift(te),ne,_,r.T.None)}finally{ue.dispose()}})})},84488:(Xe,we,e)=>{var f=e(31738),P=e(87618),r=e(17967),y=e(48994),v=e(78694),S=e(8256),T=e(51617),E=e(32583),L=e(96726),p=e(15446),c=e(57205),u=e(55763),g=e(44325),i=e(39467),d=e(37190),a=e(11813),m=e(66221),l=e(12065),I=e(51367),w=function(W,z,U,ee){var se,B=arguments.length,G=B<3?z:null===ee?ee=Object.getOwnPropertyDescriptor(z,U):ee;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)G=Reflect.decorate(W,z,U,ee);else for(var j=W.length-1;j>=0;j--)(se=W[j])&&(G=(B<3?se(G):B>3?se(z,U,G):se(z,U))||G);return B>3&&G&&Object.defineProperty(z,U,G),G},D=function(W,z){return function(U,ee){z(U,ee,W)}},N=function(W,z,U,ee){return new(U||(U=Promise))(function(G,se){function j(J){try{K(ee.next(J))}catch(te){se(te)}}function $(J){try{K(ee.throw(J))}catch(te){se(te)}}function K(J){J.done?G(J.value):function B(G){return G instanceof U?G:new U(function(se){se(G)})}(J.value).then(j,$)}K((ee=ee.apply(W,z||[])).next())})};let A=class{constructor(z,U,ee){this._editor=z,this._languageFeaturesService=U,this._workerService=ee,this._disposables=new v.SL,this._sessionDisposables=new v.SL,this._disposables.add(U.onTypeFormattingEditProvider.onDidChange(this._update,this)),this._disposables.add(z.onDidChangeModel(()=>this._update())),this._disposables.add(z.onDidChangeModelLanguage(()=>this._update())),this._disposables.add(z.onDidChangeConfiguration(B=>{B.hasChanged(55)&&this._update()})),this._update()}dispose(){this._disposables.dispose(),this._sessionDisposables.dispose()}_update(){if(this._sessionDisposables.clear(),!this._editor.getOption(55)||!this._editor.hasModel())return;const z=this._editor.getModel(),[U]=this._languageFeaturesService.onTypeFormattingEditProvider.ordered(z);if(!U||!U.autoFormatTriggerCharacters)return;const ee=new E.q;for(const B of U.autoFormatTriggerCharacters)ee.add(B.charCodeAt(0));this._sessionDisposables.add(this._editor.onDidType(B=>{const G=B.charCodeAt(B.length-1);ee.has(G)&&this._trigger(String.fromCharCode(G))}))}_trigger(z){if(!this._editor.hasModel()||this._editor.getSelections().length>1||!this._editor.getSelection().isEmpty())return;const U=this._editor.getModel(),ee=this._editor.getPosition(),B=new P.A,G=this._editor.onDidChangeModelContent(se=>{if(se.isFlush)return B.cancel(),void G.dispose();for(let j=0,$=se.changes.length;j<$;j++)if(se.changes[j].range.endLineNumber<=ee.lineNumber)return B.cancel(),void G.dispose()});(0,g.Qs)(this._workerService,this._languageFeaturesService,U,ee,z,U.getFormattingOptions(),B.token).then(se=>{B.token.isCancellationRequested||(0,f.Of)(se)&&(i.V.execute(this._editor,se,!0),(0,g.Zg)(se))}).finally(()=>{G.dispose()})}};A.ID="editor.contrib.autoFormat",A=w([D(1,u.p),D(2,c.p)],A);let k=class{constructor(z,U,ee){this.editor=z,this._languageFeaturesService=U,this._instantiationService=ee,this._callOnDispose=new v.SL,this._callOnModel=new v.SL,this._callOnDispose.add(z.onDidChangeConfiguration(()=>this._update())),this._callOnDispose.add(z.onDidChangeModel(()=>this._update())),this._callOnDispose.add(z.onDidChangeModelLanguage(()=>this._update())),this._callOnDispose.add(U.documentRangeFormattingEditProvider.onDidChange(this._update,this))}dispose(){this._callOnDispose.dispose(),this._callOnModel.dispose()}_update(){this._callOnModel.clear(),this.editor.getOption(54)&&this.editor.hasModel()&&this._languageFeaturesService.documentRangeFormattingEditProvider.has(this.editor.getModel())&&this._callOnModel.add(this.editor.onDidPaste(({range:z})=>this._trigger(z)))}_trigger(z){this.editor.hasModel()&&(this.editor.getSelections().length>1||this._instantiationService.invokeFunction(g.x$,this.editor,z,2,I.Ex.None,P.T.None).catch(r.dL))}};k.ID="editor.contrib.formatOnPaste",k=w([D(1,u.p),D(2,l.TG)],k),(0,S._K)(A.ID,A,2),(0,S._K)(k.ID,k,2),(0,S.Qr)(class R extends S.R6{constructor(){super({id:"editor.action.formatDocument",label:d.NC("formatDocument.label","Format Document"),alias:"Format Document",precondition:m.Ao.and(p.u.notInCompositeEditor,p.u.writable,p.u.hasDocumentFormattingProvider),kbOpts:{kbExpr:p.u.editorTextFocus,primary:1572,linux:{primary:3111},weight:100},contextMenuOpts:{group:"1_modification",order:1.3}})}run(z,U){return N(this,void 0,void 0,function*(){if(U.hasModel()){const ee=z.get(l.TG);yield z.get(I.ek).showWhile(ee.invokeFunction(g.Qq,U,1,I.Ex.None,P.T.None),250)}})}}),(0,S.Qr)(class O extends S.R6{constructor(){super({id:"editor.action.formatSelection",label:d.NC("formatSelection.label","Format Selection"),alias:"Format Selection",precondition:m.Ao.and(p.u.writable,p.u.hasDocumentSelectionFormattingProvider),kbOpts:{kbExpr:p.u.editorTextFocus,primary:(0,y.gx)(2089,2084),weight:100},contextMenuOpts:{when:p.u.hasNonEmptySelection,group:"1_modification",order:1.31}})}run(z,U){return N(this,void 0,void 0,function*(){if(!U.hasModel())return;const ee=z.get(l.TG),B=U.getModel(),G=U.getSelections().map(j=>j.isEmpty()?new L.e(j.startLineNumber,1,j.startLineNumber,B.getLineMaxColumn(j.startLineNumber)):j);yield z.get(I.ek).showWhile(ee.invokeFunction(g.x$,U,G,1,I.Ex.None,P.T.None),250)})}}),a.P.registerCommand("editor.action.format",W=>N(void 0,void 0,void 0,function*(){const z=W.get(T.$).getFocusedCodeEditor();if(!z||!z.hasModel())return;const U=W.get(a.H);z.getSelection().isEmpty()?yield U.executeCommand("editor.action.formatDocument"):yield U.executeCommand("editor.action.formatSelection")}))},39467:(Xe,we,e)=>{e.d(we,{V:()=>y});var f=e(20158),P=e(96726),r=e(45332);class y{static _handleEolEdits(S,T){let E;const L=[];for(const p of T)"number"==typeof p.eol&&(E=p.eol),p.range&&"string"==typeof p.text&&L.push(p);return"number"==typeof E&&S.hasModel()&&S.getModel().pushEOL(E),L}static _isFullModelReplaceEdit(S,T){if(!S.hasModel())return!1;const E=S.getModel(),L=E.validateRange(T.range);return E.getFullModelRange().equalsRange(L)}static execute(S,T,E){E&&S.pushUndoStop();const L=r.Z.capture(S),p=y._handleEolEdits(S,T);1===p.length&&y._isFullModelReplaceEdit(S,p[0])?S.executeEdits("formatEditsCommand",p.map(c=>f.h.replace(P.e.lift(c.range),c.text))):S.executeEdits("formatEditsCommand",p.map(c=>f.h.replaceMove(P.e.lift(c.range),c.text))),E&&S.pushUndoStop(),L.restoreRelativeVerticalPositionOfCursor(S)}}},50984:(Xe,we,e)=>{e.d(we,{c:()=>qe,v:()=>Ee});var f=e(27222),P=e(78694),r=e(8256),y=e(51617),v=e(68678),S=e(96726),T=e(15446),E=e(31738),L=e(58178),p=e(86211),c=e(16055),u=e(15850),g=e(67755),i=e(12065),d=e(17259),a=e(47358),m=function(Ot,gt,Rt,Zt){var Mi,Ci=arguments.length,ci=Ci<3?gt:null===Zt?Zt=Object.getOwnPropertyDescriptor(gt,Rt):Zt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ci=Reflect.decorate(Ot,gt,Rt,Zt);else for(var Gi=Ot.length-1;Gi>=0;Gi--)(Mi=Ot[Gi])&&(ci=(Ci<3?Mi(ci):Ci>3?Mi(gt,Rt,ci):Mi(gt,Rt))||ci);return Ci>3&&ci&&Object.defineProperty(gt,Rt,ci),ci},l=function(Ot,gt){return function(Rt,Zt){gt(Rt,Zt,Ot)}};class I{constructor(gt,Rt,Zt){this.marker=gt,this.index=Rt,this.total=Zt}}let w=class{constructor(gt,Rt,Zt){this._markerService=Rt,this._configService=Zt,this._onDidChange=new L.Q5,this.onDidChange=this._onDidChange.event,this._dispoables=new P.SL,this._markers=[],this._nextIdx=-1,u.o.isUri(gt)?this._resourceFilter=Gi=>Gi.toString()===gt.toString():gt&&(this._resourceFilter=gt);const Ci=this._configService.getValue("problems.sortOrder"),ci=(Gi,Zi)=>{let St=(0,c.qu)(Gi.resource.toString(),Zi.resource.toString());return 0===St&&(St="position"===Ci?S.e.compareRangesUsingStarts(Gi,Zi)||d.ZL.compare(Gi.severity,Zi.severity):d.ZL.compare(Gi.severity,Zi.severity)||S.e.compareRangesUsingStarts(Gi,Zi)),St},Mi=()=>{this._markers=this._markerService.read({resource:u.o.isUri(gt)?gt:void 0,severities:d.ZL.Error|d.ZL.Warning|d.ZL.Info}),"function"==typeof gt&&(this._markers=this._markers.filter(Gi=>this._resourceFilter(Gi.resource))),this._markers.sort(ci)};Mi(),this._dispoables.add(Rt.onMarkerChanged(Gi=>{(!this._resourceFilter||Gi.some(Zi=>this._resourceFilter(Zi)))&&(Mi(),this._nextIdx=-1,this._onDidChange.fire())}))}dispose(){this._dispoables.dispose(),this._onDidChange.dispose()}matches(gt){return!this._resourceFilter&&!gt||!(!this._resourceFilter||!gt)&&this._resourceFilter(gt)}get selected(){const gt=this._markers[this._nextIdx];return gt&&new I(gt,this._nextIdx+1,this._markers.length)}_initIdx(gt,Rt,Zt){let Ci=!1,ci=this._markers.findIndex(Mi=>Mi.resource.toString()===gt.uri.toString());ci<0&&(ci=(0,E.ry)(this._markers,{resource:gt.uri},(Mi,Gi)=>(0,c.qu)(Mi.resource.toString(),Gi.resource.toString())),ci<0&&(ci=~ci));for(let Mi=ci;Mi<this._markers.length;Mi++){let Gi=S.e.lift(this._markers[Mi]);if(Gi.isEmpty()){const Zi=gt.getWordAtPosition(Gi.getStartPosition());Zi&&(Gi=new S.e(Gi.startLineNumber,Zi.startColumn,Gi.startLineNumber,Zi.endColumn))}if(Rt&&(Gi.containsPosition(Rt)||Rt.isBeforeOrEqual(Gi.getStartPosition()))){this._nextIdx=Mi,Ci=!0;break}if(this._markers[Mi].resource.toString()!==gt.uri.toString())break}Ci||(this._nextIdx=Zt?0:this._markers.length-1),this._nextIdx<0&&(this._nextIdx=this._markers.length-1)}resetIndex(){this._nextIdx=-1}move(gt,Rt,Zt){if(0===this._markers.length)return!1;const Ci=this._nextIdx;return-1===this._nextIdx?this._initIdx(Rt,Zt,gt):gt?this._nextIdx=(this._nextIdx+1)%this._markers.length:gt||(this._nextIdx=(this._nextIdx-1+this._markers.length)%this._markers.length),Ci!==this._nextIdx}find(gt,Rt){let Zt=this._markers.findIndex(Ci=>Ci.resource.toString()===gt.toString());if(!(Zt<0))for(;Zt<this._markers.length;Zt++)if(S.e.containsPosition(this._markers[Zt],Rt))return new I(this._markers[Zt],Zt+1,this._markers.length)}};w=m([l(1,d.lT),l(2,a.Ui)],w);const D=(0,i.yh)("IMarkerNavigationService");let N=class{constructor(gt,Rt){this._markerService=gt,this._configService=Rt,this._provider=new p.S}getMarkerList(gt){for(const Rt of this._provider){const Zt=Rt.getMarkerList(gt);if(Zt)return Zt}return new w(gt,this._markerService,this._configService)}};N=m([l(0,d.lT),l(1,a.Ui)],N),(0,g.z)(D,N,1);var A=e(37190),k=e(63032),R=e(66221),O=e(34252),W=e(20274),z=e(8286),U=e(90888),ee=e(9001),B=e(93379),G=e.n(B),se=e(7795),j=e.n(se),$=e(90569),K=e.n($),J=e(3565),te=e.n(J),ne=e(19216),_=e.n(ne),ae=e(44589),ge=e.n(ae),_e=e(35351),ue={};ue.styleTagTransform=ge(),ue.setAttributes=te(),ue.insert=K().bind(null,"head"),ue.domAPI=j(),ue.insertStyleElement=_(),G()(_e.Z,ue);var Se=e(69027),Ve=e(65227),De=e(89165),ye=e(6628),oe=e(81050),Y={};Y.styleTagTransform=ge(),Y.setAttributes=te(),Y.insert=K().bind(null,"head"),Y.domAPI=j(),Y.insertStyleElement=_(),G()(oe.Z,Y);var ke,ie=e(35053),Ce=e(17130);(ke||(ke={})).className=function gt(Rt){switch(Rt){case Ce.Z.Ignore:return"severity-ignore "+ie.k.asClassName(f.l.info);case Ce.Z.Info:return ie.k.asClassName(f.l.info);case Ce.Z.Warning:return ie.k.asClassName(f.l.warning);case Ce.Z.Error:return ie.k.asClassName(f.l.error);default:return""}};var pe,Pe=e(99745),xe=e(23527),be=function(Ot,gt){return function(Rt,Zt){gt(Rt,Zt,Ot)}};class Q{constructor(gt,Rt,Zt,Ci,ci){this._openerService=Ci,this._labelService=ci,this._lines=0,this._longestLineLength=0,this._relatedDiagnostics=new WeakMap,this._disposables=new P.SL,this._editor=Rt;const Mi=document.createElement("div");Mi.className="descriptioncontainer",this._messageBlock=document.createElement("div"),this._messageBlock.classList.add("message"),this._messageBlock.setAttribute("aria-live","assertive"),this._messageBlock.setAttribute("role","alert"),Mi.appendChild(this._messageBlock),this._relatedBlock=document.createElement("div"),Mi.appendChild(this._relatedBlock),this._disposables.add(W.mu(this._relatedBlock,"click",Gi=>{Gi.preventDefault();const Zi=this._relatedDiagnostics.get(Gi.target);Zi&&Zt(Zi)})),this._scrollable=new z.NB(Mi,{horizontal:1,vertical:1,useShadows:!1,horizontalScrollbarSize:6,verticalScrollbarSize:6}),gt.appendChild(this._scrollable.getDomNode()),this._disposables.add(this._scrollable.onScroll(Gi=>{Mi.style.left=`-${Gi.scrollLeft}px`,Mi.style.top=`-${Gi.scrollTop}px`})),this._disposables.add(this._scrollable)}dispose(){(0,P.B9)(this._disposables)}update(gt){const{source:Rt,message:Zt,relatedInformation:Ci,code:ci}=gt;let Mi=(Rt?.length||0)+2;ci&&(Mi+="string"==typeof ci?ci.length:ci.value.length);const Gi=(0,c.uq)(Zt);this._lines=Gi.length,this._longestLineLength=0;for(const pt of Gi)this._longestLineLength=Math.max(pt.length+Mi,this._longestLineLength);W.PO(this._messageBlock),this._messageBlock.setAttribute("aria-label",this.getAriaLabel(gt)),this._editor.applyFontInfo(this._messageBlock);let Zi=this._messageBlock;for(const pt of Gi)Zi=document.createElement("div"),Zi.innerText=pt,""===pt&&(Zi.style.height=this._messageBlock.style.lineHeight),this._messageBlock.appendChild(Zi);if(Rt||ci){const pt=document.createElement("span");if(pt.classList.add("details"),Zi.appendChild(pt),Rt){const Ne=document.createElement("span");Ne.innerText=Rt,Ne.classList.add("source"),pt.appendChild(Ne)}if(ci)if("string"==typeof ci){const Ne=document.createElement("span");Ne.innerText=`(${ci})`,Ne.classList.add("code"),pt.appendChild(Ne)}else this._codeLink=W.$("a.code-link"),this._codeLink.setAttribute("href",`${ci.target.toString()}`),this._codeLink.onclick=je=>{this._openerService.open(ci.target,{allowCommands:!0}),je.preventDefault(),je.stopPropagation()},W.R3(this._codeLink,W.$("span")).innerText=ci.value,pt.appendChild(this._codeLink)}if(W.PO(this._relatedBlock),this._editor.applyFontInfo(this._relatedBlock),(0,E.Of)(Ci)){const pt=this._relatedBlock.appendChild(document.createElement("div"));pt.style.paddingTop=`${Math.floor(.66*this._editor.getOption(65))}px`,this._lines+=1;for(const Ne of Ci){const je=document.createElement("div"),et=document.createElement("a");et.classList.add("filename"),et.innerText=`${this._labelService.getUriBasenameLabel(Ne.resource)}(${Ne.startLineNumber}, ${Ne.startColumn}): `,et.title=this._labelService.getUriLabel(Ne.resource),this._relatedDiagnostics.set(et,Ne);const wt=document.createElement("span");wt.innerText=Ne.message,je.appendChild(et),je.appendChild(wt),this._lines+=1,pt.appendChild(je)}}const St=this._editor.getOption(49),st=Math.ceil(St.typicalFullwidthCharacterWidth*this._longestLineLength*.75);this._scrollable.setScrollDimensions({scrollWidth:st,scrollHeight:St.lineHeight*this._lines})}layout(gt,Rt){this._scrollable.getDomNode().style.height=`${gt}px`,this._scrollable.getDomNode().style.width=`${Rt}px`,this._scrollable.setScrollDimensions({width:Rt,height:gt})}getHeightInLines(){return Math.min(17,this._lines)}getAriaLabel(gt){let Rt="";switch(gt.severity){case d.ZL.Error:Rt=A.NC("Error","Error");break;case d.ZL.Warning:Rt=A.NC("Warning","Warning");break;case d.ZL.Info:Rt=A.NC("Info","Info");break;case d.ZL.Hint:Rt=A.NC("Hint","Hint")}let Zt=A.NC("marker aria","{0} at {1}. ",Rt,gt.startLineNumber+":"+gt.startColumn);const Ci=this._editor.getModel();return Ci&&gt.startLineNumber<=Ci.getLineCount()&&gt.startLineNumber>=1&&(Zt=`${Ci.getLineContent(gt.startLineNumber)}, ${Zt}`),Zt}}let le=pe=class extends Se.vk{constructor(gt,Rt,Zt,Ci,ci,Mi,Gi){super(gt,{showArrow:!0,showFrame:!0,isAccessible:!0,frameWidth:1},ci),this._themeService=Rt,this._openerService=Zt,this._menuService=Ci,this._contextKeyService=Mi,this._labelService=Gi,this._callOnDispose=new P.SL,this._onDidSelectRelatedInformation=new L.Q5,this.onDidSelectRelatedInformation=this._onDidSelectRelatedInformation.event,this._severity=d.ZL.Warning,this._backgroundColor=U.Il.white,this._applyTheme(Rt.getColorTheme()),this._callOnDispose.add(Rt.onDidColorThemeChange(this._applyTheme.bind(this))),this.create()}_applyTheme(gt){this._backgroundColor=gt.getColor(Mt);let Rt=ot,Zt=lt;this._severity===d.ZL.Warning?(Rt=mt,Zt=ft):this._severity===d.ZL.Info&&(Rt=Lt,Zt=Tt);const Ci=gt.getColor(Rt),ci=gt.getColor(Zt);this.style({arrowColor:Ci,frameColor:Ci,headerBackgroundColor:ci,primaryHeadingColor:gt.getColor(Se.IH),secondaryHeadingColor:gt.getColor(Se.R7)})}_applyStyles(){this._parentContainer&&(this._parentContainer.style.backgroundColor=this._backgroundColor?this._backgroundColor.toString():""),super._applyStyles()}dispose(){this._callOnDispose.dispose(),super.dispose()}_fillHead(gt){super._fillHead(gt),this._disposables.add(this._actionbarWidget.actionRunner.onWillRun(Ci=>this.editor.focus()));const Rt=[],Zt=this._menuService.createMenu(pe.TitleMenu,this._contextKeyService);(0,Ve.vr)(Zt,void 0,Rt),this._actionbarWidget.push(Rt,{label:!1,icon:!0,index:0}),Zt.dispose()}_fillTitleIcon(gt){this._icon=W.R3(gt,W.$(""))}_fillBody(gt){this._parentContainer=gt,gt.classList.add("marker-widget"),this._parentContainer.tabIndex=0,this._parentContainer.setAttribute("role","tooltip"),this._container=document.createElement("div"),gt.appendChild(this._container),this._message=new Q(this._container,this.editor,Rt=>this._onDidSelectRelatedInformation.fire(Rt),this._openerService,this._labelService),this._disposables.add(this._message)}show(){throw new Error("call showAtMarker")}showAtMarker(gt,Rt,Zt){this._container.classList.remove("stale"),this._message.update(gt),this._severity=gt.severity,this._applyTheme(this._themeService.getColorTheme());const Ci=S.e.lift(gt),ci=this.editor.getPosition(),Mi=ci&&Ci.containsPosition(ci)?ci:Ci.getStartPosition();super.show(Mi,this.computeRequiredHeight());const Gi=this.editor.getModel();if(Gi){const Zi=Zt>1?A.NC("problems","{0} of {1} problems",Rt,Zt):A.NC("change","{0} of {1} problem",Rt,Zt);this.setTitle((0,ee.EZ)(Gi.uri),Zi)}this._icon.className=`codicon ${ke.className(d.ZL.toSeverity(this._severity))}`,this.editor.revealPositionNearTop(Mi,0),this.editor.focus()}updateMarker(gt){this._container.classList.remove("stale"),this._message.update(gt)}showStale(){this._container.classList.add("stale"),this._relayout()}_doLayoutBody(gt,Rt){super._doLayoutBody(gt,Rt),this._heightInPixel=gt,this._message.layout(gt,Rt),this._container.style.height=`${gt}px`}_onWidth(gt){this._message.layout(this._heightInPixel,gt)}_relayout(){super._relayout(this.computeRequiredHeight())}computeRequiredHeight(){return 3+this._message.getHeightInLines()}};le.TitleMenu=new k.eH("gotoErrorTitleMenu"),le=pe=function(Ot,gt,Rt,Zt){var Mi,Ci=arguments.length,ci=Ci<3?gt:null===Zt?Zt=Object.getOwnPropertyDescriptor(gt,Rt):Zt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ci=Reflect.decorate(Ot,gt,Rt,Zt);else for(var Gi=Ot.length-1;Gi>=0;Gi--)(Mi=Ot[Gi])&&(ci=(Ci<3?Mi(ci):Ci>3?Mi(gt,Rt,ci):Mi(gt,Rt))||ci);return Ci>3&&ci&&Object.defineProperty(gt,Rt,ci),ci}([be(1,xe.XE),be(2,ye.v4),be(3,k.co),be(4,i.TG),be(5,R.i6),be(6,De.e)],le);const Fe=(0,Pe.kwl)(Pe.lXJ,Pe.b6y),He=(0,Pe.kwl)(Pe.uoC,Pe.pW3),Je=(0,Pe.kwl)(Pe.c63,Pe.T83),ot=(0,Pe.P6G)("editorMarkerNavigationError.background",{dark:Fe,light:Fe,hcDark:Pe.lRK,hcLight:Pe.lRK},A.NC("editorMarkerNavigationError","Editor marker navigation widget error color.")),lt=(0,Pe.P6G)("editorMarkerNavigationError.headerBackground",{dark:(0,Pe.ZnX)(ot,.1),light:(0,Pe.ZnX)(ot,.1),hcDark:null,hcLight:null},A.NC("editorMarkerNavigationErrorHeaderBackground","Editor marker navigation widget error heading background.")),mt=(0,Pe.P6G)("editorMarkerNavigationWarning.background",{dark:He,light:He,hcDark:Pe.lRK,hcLight:Pe.lRK},A.NC("editorMarkerNavigationWarning","Editor marker navigation widget warning color.")),ft=(0,Pe.P6G)("editorMarkerNavigationWarning.headerBackground",{dark:(0,Pe.ZnX)(mt,.1),light:(0,Pe.ZnX)(mt,.1),hcDark:"#0C141F",hcLight:(0,Pe.ZnX)(mt,.2)},A.NC("editorMarkerNavigationWarningBackground","Editor marker navigation widget warning heading background.")),Lt=(0,Pe.P6G)("editorMarkerNavigationInfo.background",{dark:Je,light:Je,hcDark:Pe.lRK,hcLight:Pe.lRK},A.NC("editorMarkerNavigationInfo","Editor marker navigation widget info color.")),Tt=(0,Pe.P6G)("editorMarkerNavigationInfo.headerBackground",{dark:(0,Pe.ZnX)(Lt,.1),light:(0,Pe.ZnX)(Lt,.1),hcDark:null,hcLight:null},A.NC("editorMarkerNavigationInfoHeaderBackground","Editor marker navigation widget info heading background.")),Mt=(0,Pe.P6G)("editorMarkerNavigation.background",{dark:Pe.cvW,light:Pe.cvW,hcDark:Pe.cvW,hcLight:Pe.cvW},A.NC("editorMarkerNavigationBackground","Editor marker navigation widget background."));var it,At=function(Ot,gt){return function(Rt,Zt){gt(Rt,Zt,Ot)}},It=function(Ot,gt,Rt,Zt){return new(Rt||(Rt=Promise))(function(ci,Mi){function Gi(st){try{St(Zt.next(st))}catch(ut){Mi(ut)}}function Zi(st){try{St(Zt.throw(st))}catch(ut){Mi(ut)}}function St(st){st.done?ci(st.value):function Ci(ci){return ci instanceof Rt?ci:new Rt(function(Mi){Mi(ci)})}(st.value).then(Gi,Zi)}St((Zt=Zt.apply(Ot,gt||[])).next())})};let qe=it=class{static get(gt){return gt.getContribution(it.ID)}constructor(gt,Rt,Zt,Ci,ci){this._markerNavigationService=Rt,this._contextKeyService=Zt,this._editorService=Ci,this._instantiationService=ci,this._sessionDispoables=new P.SL,this._editor=gt,this._widgetVisible=yt.bindTo(this._contextKeyService)}dispose(){this._cleanUp(),this._sessionDispoables.dispose()}_cleanUp(){this._widgetVisible.reset(),this._sessionDispoables.clear(),this._widget=void 0,this._model=void 0}_getOrCreateModel(gt){if(this._model&&this._model.matches(gt))return this._model;let Rt=!1;return this._model&&(Rt=!0,this._cleanUp()),this._model=this._markerNavigationService.getMarkerList(gt),Rt&&this._model.move(!0,this._editor.getModel(),this._editor.getPosition()),this._widget=this._instantiationService.createInstance(le,this._editor),this._widget.onDidClose(()=>this.close(),this,this._sessionDispoables),this._widgetVisible.set(!0),this._sessionDispoables.add(this._model),this._sessionDispoables.add(this._widget),this._sessionDispoables.add(this._editor.onDidChangeCursorPosition(Zt=>{var Ci,ci,Mi;(null===(Ci=this._model)||void 0===Ci||!Ci.selected||!S.e.containsPosition(null===(ci=this._model)||void 0===ci?void 0:ci.selected.marker,Zt.position))&&(null===(Mi=this._model)||void 0===Mi||Mi.resetIndex())})),this._sessionDispoables.add(this._model.onDidChange(()=>{if(!this._widget||!this._widget.position||!this._model)return;const Zt=this._model.find(this._editor.getModel().uri,this._widget.position);Zt?this._widget.updateMarker(Zt.marker):this._widget.showStale()})),this._sessionDispoables.add(this._widget.onDidSelectRelatedInformation(Zt=>{this._editorService.openCodeEditor({resource:Zt.resource,options:{pinned:!0,revealIfOpened:!0,selection:S.e.lift(Zt).collapseToStart()}},this._editor),this.close(!1)})),this._sessionDispoables.add(this._editor.onDidChangeModel(()=>this._cleanUp())),this._model}close(gt=!0){this._cleanUp(),gt&&this._editor.focus()}showAtMarker(gt){if(this._editor.hasModel()){const Rt=this._getOrCreateModel(this._editor.getModel().uri);Rt.resetIndex(),Rt.move(!0,this._editor.getModel(),new v.L(gt.startLineNumber,gt.startColumn)),Rt.selected&&this._widget.showAtMarker(Rt.selected.marker,Rt.selected.index,Rt.selected.total)}}nagivate(gt,Rt){var Zt,Ci;return It(this,void 0,void 0,function*(){if(this._editor.hasModel()){const ci=this._getOrCreateModel(Rt?void 0:this._editor.getModel().uri);if(ci.move(gt,this._editor.getModel(),this._editor.getPosition()),!ci.selected)return;if(ci.selected.marker.resource.toString()!==this._editor.getModel().uri.toString()){this._cleanUp();const Mi=yield this._editorService.openCodeEditor({resource:ci.selected.marker.resource,options:{pinned:!1,revealIfOpened:!0,selectionRevealType:2,selection:ci.selected.marker}},this._editor);Mi&&(null===(Zt=it.get(Mi))||void 0===Zt||Zt.close(),null===(Ci=it.get(Mi))||void 0===Ci||Ci.nagivate(gt,Rt))}else this._widget.showAtMarker(ci.selected.marker,ci.selected.index,ci.selected.total)}})}};qe.ID="editor.contrib.markerController",qe=it=function(Ot,gt,Rt,Zt){var Mi,Ci=arguments.length,ci=Ci<3?gt:null===Zt?Zt=Object.getOwnPropertyDescriptor(gt,Rt):Zt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ci=Reflect.decorate(Ot,gt,Rt,Zt);else for(var Gi=Ot.length-1;Gi>=0;Gi--)(Mi=Ot[Gi])&&(ci=(Ci<3?Mi(ci):Ci>3?Mi(gt,Rt,ci):Mi(gt,Rt))||ci);return Ci>3&&ci&&Object.defineProperty(gt,Rt,ci),ci}([At(1,D),At(2,R.i6),At(3,y.$),At(4,i.TG)],qe);class Ze extends r.R6{constructor(gt,Rt,Zt){super(Zt),this._next=gt,this._multiFile=Rt}run(gt,Rt){var Zt;return It(this,void 0,void 0,function*(){Rt.hasModel()&&(null===(Zt=qe.get(Rt))||void 0===Zt||Zt.nagivate(this._next,this._multiFile))})}}class Ee extends Ze{constructor(){super(!0,!1,{id:Ee.ID,label:Ee.LABEL,alias:"Go to Next Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:T.u.focus,primary:578,weight:100},menuOpts:{menuId:le.TitleMenu,title:Ee.LABEL,icon:(0,O.q5)("marker-navigation-next",f.l.arrowDown,A.NC("nextMarkerIcon","Icon for goto next marker.")),group:"navigation",order:1}})}}Ee.ID="editor.action.marker.next",Ee.LABEL=A.NC("markerAction.next.label","Go to Next Problem (Error, Warning, Info)");class Te extends Ze{constructor(){super(!1,!1,{id:Te.ID,label:Te.LABEL,alias:"Go to Previous Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:T.u.focus,primary:1602,weight:100},menuOpts:{menuId:le.TitleMenu,title:Te.LABEL,icon:(0,O.q5)("marker-navigation-previous",f.l.arrowUp,A.NC("previousMarkerIcon","Icon for goto previous marker.")),group:"navigation",order:2}})}}Te.ID="editor.action.marker.prev",Te.LABEL=A.NC("markerAction.previous.label","Go to Previous Problem (Error, Warning, Info)"),(0,r._K)(qe.ID,qe,4),(0,r.Qr)(Ee),(0,r.Qr)(Te),(0,r.Qr)(class Ae extends Ze{constructor(){super(!0,!0,{id:"editor.action.marker.nextInFiles",label:A.NC("markerAction.nextInFiles.label","Go to Next Problem in Files (Error, Warning, Info)"),alias:"Go to Next Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:T.u.focus,primary:66,weight:100},menuOpts:{menuId:k.eH.MenubarGoMenu,title:A.NC({key:"miGotoNextProblem",comment:["&& denotes a mnemonic"]},"Next &&Problem"),group:"6_problem_nav",order:1}})}}),(0,r.Qr)(class ht extends Ze{constructor(){super(!1,!0,{id:"editor.action.marker.prevInFiles",label:A.NC("markerAction.previousInFiles.label","Go to Previous Problem in Files (Error, Warning, Info)"),alias:"Go to Previous Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:T.u.focus,primary:1090,weight:100},menuOpts:{menuId:k.eH.MenubarGoMenu,title:A.NC({key:"miGotoPreviousProblem",comment:["&& denotes a mnemonic"]},"Previous &&Problem"),group:"6_problem_nav",order:2}})}});const yt=new R.uy("markersNavigationVisible",!1),Dt=r._l.bindToContribution(qe.get);(0,r.fK)(new Dt({id:"closeMarkersNavigation",precondition:yt,handler:Ot=>Ot.close(),kbOpts:{weight:150,kbExpr:T.u.focus,primary:9,secondary:[1033]}}))},88516:(Xe,we,e)=>{e.d(we,{BT:()=>x,Bj:()=>Y,_k:()=>oe});var f=e(41539),P=e(85328),r=e(48994),y=e(91402),v=e(15850),S=e(45173),T=e(37389),E=e(8256),L=e(51617),p=e(78),c=e(68678),u=e(96726),g=e(15446),i=e(81814),d=e(14441),a=e(19872),m=e(58178),l=e(78694),I=e(9001),w=e(37190),D=e(66221),N=e(67755),A=e(12065),k=e(21536),R=e(31498),O=e(22438),W=function(xe,fe,be,pe){var Fe,Q=arguments.length,le=Q<3?fe:null===pe?pe=Object.getOwnPropertyDescriptor(fe,be):pe;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)le=Reflect.decorate(xe,fe,be,pe);else for(var He=xe.length-1;He>=0;He--)(Fe=xe[He])&&(le=(Q<3?Fe(le):Q>3?Fe(fe,be,le):Fe(fe,be))||le);return Q>3&&le&&Object.defineProperty(fe,be,le),le},z=function(xe,fe){return function(be,pe){fe(be,pe,xe)}};const U=new D.uy("hasSymbols",!1,(0,w.NC)("hasSymbols","Whether there are symbol locations that can be navigated via keyboard-only.")),ee=(0,A.yh)("ISymbolNavigationService");let B=class{constructor(fe,be,pe,Q){this._editorService=be,this._notificationService=pe,this._keybindingService=Q,this._currentModel=void 0,this._currentIdx=-1,this._ignoreEditorChange=!1,this._ctxHasSymbols=U.bindTo(fe)}reset(){var fe,be;this._ctxHasSymbols.reset(),null===(fe=this._currentState)||void 0===fe||fe.dispose(),null===(be=this._currentMessage)||void 0===be||be.dispose(),this._currentModel=void 0,this._currentIdx=-1}put(fe){const be=fe.parent.parent;if(be.references.length<=1)return void this.reset();this._currentModel=be,this._currentIdx=be.references.indexOf(fe),this._ctxHasSymbols.set(!0),this._showMessage();const pe=new G(this._editorService),Q=pe.onDidChange(le=>{if(this._ignoreEditorChange)return;const Fe=this._editorService.getActiveCodeEditor();if(!Fe)return;const He=Fe.getModel(),Je=Fe.getPosition();if(!He||!Je)return;let ot=!1,lt=!1;for(const mt of be.references)if((0,I.Xy)(mt.uri,He.uri))ot=!0,lt=lt||u.e.containsPosition(mt.range,Je);else if(ot)break;(!ot||!lt)&&this.reset()});this._currentState=(0,l.F8)(pe,Q)}revealNext(fe){if(!this._currentModel)return Promise.resolve();this._currentIdx+=1,this._currentIdx%=this._currentModel.references.length;const be=this._currentModel.references[this._currentIdx];return this._showMessage(),this._ignoreEditorChange=!0,this._editorService.openCodeEditor({resource:be.uri,options:{selection:u.e.collapseToStart(be.range),selectionRevealType:3}},fe).finally(()=>{this._ignoreEditorChange=!1})}_showMessage(){var fe;null===(fe=this._currentMessage)||void 0===fe||fe.dispose();const be=this._keybindingService.lookupKeybinding("editor.gotoNextSymbolFromResult"),pe=be?(0,w.NC)("location.kb","Symbol {0} of {1}, {2} for next",this._currentIdx+1,this._currentModel.references.length,be.getLabel()):(0,w.NC)("location","Symbol {0} of {1}",this._currentIdx+1,this._currentModel.references.length);this._currentMessage=this._notificationService.status(pe)}};B=W([z(0,D.i6),z(1,L.$),z(2,O.lT),z(3,k.d)],B),(0,N.z)(ee,B,1),(0,E.fK)(new class extends E._l{constructor(){super({id:"editor.gotoNextSymbolFromResult",precondition:U,kbOpts:{weight:100,primary:70}})}runEditorCommand(xe,fe){return xe.get(ee).revealNext(fe)}}),R.W.registerCommandAndKeybindingRule({id:"editor.gotoNextSymbolFromResult.cancel",weight:100,when:U,primary:9,handler(xe){xe.get(ee).reset()}});let G=class{constructor(fe){this._listener=new Map,this._disposables=new l.SL,this._onDidChange=new m.Q5,this.onDidChange=this._onDidChange.event,this._disposables.add(fe.onCodeEditorRemove(this._onDidRemoveEditor,this)),this._disposables.add(fe.onCodeEditorAdd(this._onDidAddEditor,this)),fe.listCodeEditors().forEach(this._onDidAddEditor,this)}dispose(){this._disposables.dispose(),this._onDidChange.dispose(),(0,l.B9)(this._listener.values())}_onDidAddEditor(fe){this._listener.set(fe,(0,l.F8)(fe.onDidChangeCursorPosition(be=>this._onDidChange.fire({editor:fe})),fe.onDidChangeModelContent(be=>this._onDidChange.fire({editor:fe}))))}_onDidRemoveEditor(fe){var be;null===(be=this._listener.get(fe))||void 0===be||be.dispose(),this._listener.delete(fe)}};G=W([z(0,L.$)],G);var _e,ue,ve,Ie,Se,Ve,De,ye,se=e(29941),j=e(69027),$=e(63032),K=e(11813),J=e(51367),te=e(57381),ne=e(55763),_=e(68733),ae=e(97968),ge=function(xe,fe,be,pe){return new(be||(be=Promise))(function(le,Fe){function He(lt){try{ot(pe.next(lt))}catch(mt){Fe(mt)}}function Je(lt){try{ot(pe.throw(lt))}catch(mt){Fe(mt)}}function ot(lt){lt.done?le(lt.value):function Q(le){return le instanceof be?le:new be(function(Fe){Fe(le)})}(lt.value).then(He,Je)}ot((pe=pe.apply(xe,fe||[])).next())})};$.BH.appendMenuItem($.eH.EditorContext,{submenu:$.eH.EditorContextPeek,title:w.NC("peek.submenu","Peek"),group:"navigation",order:100});class oe{static is(fe){return!(!fe||"object"!=typeof fe||!(fe instanceof oe||c.L.isIPosition(fe.position)&&fe.model))}constructor(fe,be){this.model=fe,this.position=be}}class Y extends E.x1{static all(){return Y._allSymbolNavigationCommands.values()}static _patchConfig(fe){const be=Object.assign(Object.assign({},fe),{f1:!0});if(be.menu)for(const pe of _.$.wrap(be.menu))(pe.id===$.eH.EditorContext||pe.id===$.eH.EditorContextPeek)&&(pe.when=D.Ao.and(fe.precondition,pe.when));return be}constructor(fe,be){super(Y._patchConfig(be)),this.configuration=fe,Y._allSymbolNavigationCommands.set(be.id,this)}runEditorCommand(fe,be,pe,Q){if(!be.hasModel())return Promise.resolve(void 0);const le=fe.get(O.lT),Fe=fe.get(L.$),He=fe.get(J.ek),Je=fe.get(ee),ot=fe.get(ne.p),lt=fe.get(A.TG),mt=be.getModel(),ft=be.getPosition(),Lt=oe.is(pe)?pe:new oe(mt,ft),Tt=new S.Dl(be,5),Mt=(0,P.eP)(this._getLocationModel(ot,Lt.model,Lt.position,Tt.token),Tt.token).then(Ut=>ge(this,void 0,void 0,function*(){var At;if(!Ut||Tt.token.isCancellationRequested)return;let It;if((0,f.Z9)(Ut.ariaMessage),Ut.referenceAt(mt.uri,ft)){const qe=this._getAlternativeCommand(be);!Y._activeAlternativeCommands.has(qe)&&Y._allSymbolNavigationCommands.has(qe)&&(It=Y._allSymbolNavigationCommands.get(qe))}const it=Ut.references.length;if(0===it){if(!this.configuration.muteMessage){const qe=mt.getWordAtPosition(ft);null===(At=se.O.get(be))||void 0===At||At.showMessage(this._getNoResultFoundMessage(qe),ft)}}else{if(1!==it||!It)return this._onResult(Fe,Je,be,Ut,Q);Y._activeAlternativeCommands.add(this.desc.id),lt.invokeFunction(qe=>It.runEditorCommand(qe,be,pe,Q).finally(()=>{Y._activeAlternativeCommands.delete(this.desc.id)}))}}),Ut=>{le.error(Ut)}).finally(()=>{Tt.dispose()});return He.showWhile(Mt,250),Mt}_onResult(fe,be,pe,Q,le){return ge(this,void 0,void 0,function*(){const Fe=this._getGoToPreference(pe);if(pe instanceof p.H||!(this.configuration.openInPeek||"peek"===Fe&&Q.references.length>1)){const He=Q.firstReference(),Je=Q.references.length>1&&"gotoAndPeek"===Fe,ot=yield this._openReference(pe,fe,He,this.configuration.openToSide,!Je);Je&&ot?this._openInPeek(ot,Q,le):Q.dispose(),"goto"===Fe&&be.put(He)}else this._openInPeek(pe,Q,le)})}_openReference(fe,be,pe,Q,le){return ge(this,void 0,void 0,function*(){let Fe;if((0,i.vx)(pe)&&(Fe=pe.targetSelectionRange),Fe||(Fe=pe.range),!Fe)return;const He=yield be.openCodeEditor({resource:pe.uri,options:{selection:u.e.collapseToStart(Fe),selectionRevealType:3,selectionSource:"code.jump"}},fe,Q);if(He){if(le){const Je=He.getModel(),ot=He.createDecorationsCollection([{range:Fe,options:{description:"symbol-navigate-action-highlight",className:"symbolHighlight"}}]);setTimeout(()=>{He.getModel()===Je&&ot.clear()},350)}return He}})}_openInPeek(fe,be,pe){const Q=d.J.get(fe);Q&&fe.hasModel()?Q.toggleWidget(pe??fe.getSelection(),(0,P.PG)(le=>Promise.resolve(be)),this.configuration.openInPeek):be.dispose()}}Y._allSymbolNavigationCommands=new Map,Y._activeAlternativeCommands=new Set;class x extends Y{_getLocationModel(fe,be,pe,Q){return ge(this,void 0,void 0,function*(){return new a.oQ(yield(0,te.nD)(fe.definitionProvider,be,pe,Q),w.NC("def.title","Definitions"))})}_getNoResultFoundMessage(fe){return fe&&fe.word?w.NC("noResultWord","No definition found for '{0}'",fe.word):w.NC("generic.noResults","No definition found")}_getAlternativeCommand(fe){return fe.getOption(57).alternativeDefinitionCommand}_getGoToPreference(fe){return fe.getOption(57).multipleDefinitions}}(0,$.r1)(((_e=class extends x{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:_e.id,title:{value:w.NC("actions.goToDecl.label","Go to Definition"),original:"Go to Definition",mnemonicTitle:w.NC({key:"miGotoDefinition",comment:["&& denotes a mnemonic"]},"Go to &&Definition")},precondition:D.Ao.and(g.u.hasDefinitionProvider,g.u.isInWalkThroughSnippet.toNegated()),keybinding:[{when:g.u.editorTextFocus,primary:70,weight:100},{when:D.Ao.and(g.u.editorTextFocus,ae.Pf),primary:2118,weight:100}],menu:[{id:$.eH.EditorContext,group:"navigation",order:1.1},{id:$.eH.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:2}]}),K.P.registerCommandAlias("editor.action.goToDeclaration",_e.id)}}).id="editor.action.revealDefinition",_e)),(0,$.r1)(((ue=class extends x{constructor(){super({openToSide:!0,openInPeek:!1,muteMessage:!1},{id:ue.id,title:{value:w.NC("actions.goToDeclToSide.label","Open Definition to the Side"),original:"Open Definition to the Side"},precondition:D.Ao.and(g.u.hasDefinitionProvider,g.u.isInWalkThroughSnippet.toNegated()),keybinding:[{when:g.u.editorTextFocus,primary:(0,r.gx)(2089,70),weight:100},{when:D.Ao.and(g.u.editorTextFocus,ae.Pf),primary:(0,r.gx)(2089,2118),weight:100}]}),K.P.registerCommandAlias("editor.action.openDeclarationToTheSide",ue.id)}}).id="editor.action.revealDefinitionAside",ue)),(0,$.r1)(((ve=class extends x{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:ve.id,title:{value:w.NC("actions.previewDecl.label","Peek Definition"),original:"Peek Definition"},precondition:D.Ao.and(g.u.hasDefinitionProvider,j.Jy.notInPeekEditor,g.u.isInWalkThroughSnippet.toNegated()),keybinding:{when:g.u.editorTextFocus,primary:582,linux:{primary:3140},weight:100},menu:{id:$.eH.EditorContextPeek,group:"peek",order:2}}),K.P.registerCommandAlias("editor.action.previewDeclaration",ve.id)}}).id="editor.action.peekDefinition",ve));class F extends Y{_getLocationModel(fe,be,pe,Q){return ge(this,void 0,void 0,function*(){return new a.oQ(yield(0,te.zq)(fe.declarationProvider,be,pe,Q),w.NC("decl.title","Declarations"))})}_getNoResultFoundMessage(fe){return fe&&fe.word?w.NC("decl.noResultWord","No declaration found for '{0}'",fe.word):w.NC("decl.generic.noResults","No declaration found")}_getAlternativeCommand(fe){return fe.getOption(57).alternativeDeclarationCommand}_getGoToPreference(fe){return fe.getOption(57).multipleDeclarations}}(0,$.r1)(((Ie=class extends F{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:Ie.id,title:{value:w.NC("actions.goToDeclaration.label","Go to Declaration"),original:"Go to Declaration",mnemonicTitle:w.NC({key:"miGotoDeclaration",comment:["&& denotes a mnemonic"]},"Go to &&Declaration")},precondition:D.Ao.and(g.u.hasDeclarationProvider,g.u.isInWalkThroughSnippet.toNegated()),menu:[{id:$.eH.EditorContext,group:"navigation",order:1.3},{id:$.eH.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:3}]})}_getNoResultFoundMessage(fe){return fe&&fe.word?w.NC("decl.noResultWord","No declaration found for '{0}'",fe.word):w.NC("decl.generic.noResults","No declaration found")}}).id="editor.action.revealDeclaration",Ie)),(0,$.r1)(class extends F{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.peekDeclaration",title:{value:w.NC("actions.peekDecl.label","Peek Declaration"),original:"Peek Declaration"},precondition:D.Ao.and(g.u.hasDeclarationProvider,j.Jy.notInPeekEditor,g.u.isInWalkThroughSnippet.toNegated()),menu:{id:$.eH.EditorContextPeek,group:"peek",order:3}})}});class ie extends Y{_getLocationModel(fe,be,pe,Q){return ge(this,void 0,void 0,function*(){return new a.oQ(yield(0,te.L3)(fe.typeDefinitionProvider,be,pe,Q),w.NC("typedef.title","Type Definitions"))})}_getNoResultFoundMessage(fe){return fe&&fe.word?w.NC("goToTypeDefinition.noResultWord","No type definition found for '{0}'",fe.word):w.NC("goToTypeDefinition.generic.noResults","No type definition found")}_getAlternativeCommand(fe){return fe.getOption(57).alternativeTypeDefinitionCommand}_getGoToPreference(fe){return fe.getOption(57).multipleTypeDefinitions}}(0,$.r1)(((Se=class extends ie{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:Se.ID,title:{value:w.NC("actions.goToTypeDefinition.label","Go to Type Definition"),original:"Go to Type Definition",mnemonicTitle:w.NC({key:"miGotoTypeDefinition",comment:["&& denotes a mnemonic"]},"Go to &&Type Definition")},precondition:D.Ao.and(g.u.hasTypeDefinitionProvider,g.u.isInWalkThroughSnippet.toNegated()),keybinding:{when:g.u.editorTextFocus,primary:0,weight:100},menu:[{id:$.eH.EditorContext,group:"navigation",order:1.4},{id:$.eH.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:3}]})}}).ID="editor.action.goToTypeDefinition",Se)),(0,$.r1)(((Ve=class extends ie{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:Ve.ID,title:{value:w.NC("actions.peekTypeDefinition.label","Peek Type Definition"),original:"Peek Type Definition"},precondition:D.Ao.and(g.u.hasTypeDefinitionProvider,j.Jy.notInPeekEditor,g.u.isInWalkThroughSnippet.toNegated()),menu:{id:$.eH.EditorContextPeek,group:"peek",order:4}})}}).ID="editor.action.peekTypeDefinition",Ve));class Ce extends Y{_getLocationModel(fe,be,pe,Q){return ge(this,void 0,void 0,function*(){return new a.oQ(yield(0,te.f4)(fe.implementationProvider,be,pe,Q),w.NC("impl.title","Implementations"))})}_getNoResultFoundMessage(fe){return fe&&fe.word?w.NC("goToImplementation.noResultWord","No implementation found for '{0}'",fe.word):w.NC("goToImplementation.generic.noResults","No implementation found")}_getAlternativeCommand(fe){return fe.getOption(57).alternativeImplementationCommand}_getGoToPreference(fe){return fe.getOption(57).multipleImplementations}}(0,$.r1)(((De=class extends Ce{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:De.ID,title:{value:w.NC("actions.goToImplementation.label","Go to Implementations"),original:"Go to Implementations",mnemonicTitle:w.NC({key:"miGotoImplementation",comment:["&& denotes a mnemonic"]},"Go to &&Implementations")},precondition:D.Ao.and(g.u.hasImplementationProvider,g.u.isInWalkThroughSnippet.toNegated()),keybinding:{when:g.u.editorTextFocus,primary:2118,weight:100},menu:[{id:$.eH.EditorContext,group:"navigation",order:1.45},{id:$.eH.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:4}]})}}).ID="editor.action.goToImplementation",De)),(0,$.r1)(((ye=class extends Ce{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:ye.ID,title:{value:w.NC("actions.peekImplementation.label","Peek Implementations"),original:"Peek Implementations"},precondition:D.Ao.and(g.u.hasImplementationProvider,j.Jy.notInPeekEditor,g.u.isInWalkThroughSnippet.toNegated()),keybinding:{when:g.u.editorTextFocus,primary:3142,weight:100},menu:{id:$.eH.EditorContextPeek,group:"peek",order:5}})}}).ID="editor.action.peekImplementation",ye));class ke extends Y{_getNoResultFoundMessage(fe){return fe?w.NC("references.no","No references found for '{0}'",fe.word):w.NC("references.noGeneric","No references found")}_getAlternativeCommand(fe){return fe.getOption(57).alternativeReferenceCommand}_getGoToPreference(fe){return fe.getOption(57).multipleReferences}}(0,$.r1)(class extends ke{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:"editor.action.goToReferences",title:{value:w.NC("goToReferences.label","Go to References"),original:"Go to References",mnemonicTitle:w.NC({key:"miGotoReference",comment:["&& denotes a mnemonic"]},"Go to &&References")},precondition:D.Ao.and(g.u.hasReferenceProvider,j.Jy.notInPeekEditor,g.u.isInWalkThroughSnippet.toNegated()),keybinding:{when:g.u.editorTextFocus,primary:1094,weight:100},menu:[{id:$.eH.EditorContext,group:"navigation",order:1.45},{id:$.eH.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:5}]})}_getLocationModel(fe,be,pe,Q){return ge(this,void 0,void 0,function*(){return new a.oQ(yield(0,te.aA)(fe.referenceProvider,be,pe,!0,Q),w.NC("ref.title","References"))})}}),(0,$.r1)(class extends ke{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.referenceSearch.trigger",title:{value:w.NC("references.action.label","Peek References"),original:"Peek References"},precondition:D.Ao.and(g.u.hasReferenceProvider,j.Jy.notInPeekEditor,g.u.isInWalkThroughSnippet.toNegated()),menu:{id:$.eH.EditorContextPeek,group:"peek",order:6}})}_getLocationModel(fe,be,pe,Q){return ge(this,void 0,void 0,function*(){return new a.oQ(yield(0,te.aA)(fe.referenceProvider,be,pe,!1,Q),w.NC("ref.title","References"))})}});class Pe extends Y{constructor(fe,be,pe){super(fe,{id:"editor.action.goToLocation",title:{value:w.NC("label.generic","Go to Any Symbol"),original:"Go to Any Symbol"},precondition:D.Ao.and(j.Jy.notInPeekEditor,g.u.isInWalkThroughSnippet.toNegated())}),this._references=be,this._gotoMultipleBehaviour=pe}_getLocationModel(fe,be,pe,Q){return ge(this,void 0,void 0,function*(){return new a.oQ(this._references,w.NC("generic.title","Locations"))})}_getNoResultFoundMessage(fe){return fe&&w.NC("generic.noResult","No results for '{0}'",fe.word)||""}_getGoToPreference(fe){var be;return null!==(be=this._gotoMultipleBehaviour)&&void 0!==be?be:fe.getOption(57).multipleReferences}_getAlternativeCommand(){return""}}K.P.registerCommand({id:"editor.action.goToLocations",description:{description:"Go to locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:v.o},{name:"position",description:"The position at which to start",constraint:c.L.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"},{name:"noResultsMessage",description:"Human readable message that shows when locations is empty."}]},handler:(xe,fe,be,pe,Q,le,Fe)=>ge(void 0,void 0,void 0,function*(){(0,y.p_)(v.o.isUri(fe)),(0,y.p_)(c.L.isIPosition(be)),(0,y.p_)(Array.isArray(pe)),(0,y.p_)(typeof Q>"u"||"string"==typeof Q),(0,y.p_)(typeof Fe>"u"||"boolean"==typeof Fe);const He=xe.get(L.$),Je=yield He.openCodeEditor({resource:fe},He.getFocusedCodeEditor());if((0,T.CL)(Je))return Je.setPosition(be),Je.revealPositionInCenterIfOutsideViewport(be,0),Je.invokeWithinContext(ot=>{const lt=new class extends Pe{_getNoResultFoundMessage(mt){return le||super._getNoResultFoundMessage(mt)}}({muteMessage:!le,openInPeek:!!Fe,openToSide:!1},pe,Q);ot.get(A.TG).invokeFunction(lt.run.bind(lt),Je)})})}),K.P.registerCommand({id:"editor.action.peekLocations",description:{description:"Peek locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:v.o},{name:"position",description:"The position at which to start",constraint:c.L.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"}]},handler:(xe,fe,be,pe,Q)=>ge(void 0,void 0,void 0,function*(){xe.get(K.H).executeCommand("editor.action.goToLocations",fe,be,pe,Q,void 0,!0)})}),K.P.registerCommand({id:"editor.action.findReferences",handler:(xe,fe,be)=>{(0,y.p_)(v.o.isUri(fe)),(0,y.p_)(c.L.isIPosition(be));const pe=xe.get(ne.p),Q=xe.get(L.$);return Q.openCodeEditor({resource:fe},Q.getFocusedCodeEditor()).then(le=>{if(!(0,T.CL)(le)||!le.hasModel())return;const Fe=d.J.get(le);if(!Fe)return;const He=(0,P.PG)(ot=>(0,te.aA)(pe.referenceProvider,le.getModel(),c.L.lift(be),!1,ot).then(lt=>new a.oQ(lt,w.NC("ref.title","References")))),Je=new u.e(be.lineNumber,be.column,be.lineNumber,be.column);return Promise.resolve(Fe.toggleWidget(Je,He,!1))})}}),K.P.registerCommandAlias("editor.action.showReferences","editor.action.peekLocations")},57381:(Xe,we,e)=>{e.d(we,{L3:()=>u,aA:()=>g,f4:()=>c,nD:()=>L,zq:()=>p});var f=e(31738),P=e(87618),r=e(17967),y=e(8256),v=e(55763),S=e(19872),T=function(d,a,m,l){return new(m||(m=Promise))(function(w,D){function N(R){try{k(l.next(R))}catch(O){D(O)}}function A(R){try{k(l.throw(R))}catch(O){D(O)}}function k(R){R.done?w(R.value):function I(w){return w instanceof m?w:new m(function(D){D(w)})}(R.value).then(N,A)}k((l=l.apply(d,a||[])).next())})};function E(d,a,m,l){return T(this,void 0,void 0,function*(){const w=m.ordered(d).map(N=>Promise.resolve(l(N,d,a)).then(void 0,A=>{(0,r.Cp)(A)})),D=yield Promise.all(w);return(0,f.kX)(D.flat())})}function L(d,a,m,l){return E(a,m,d,(I,w,D)=>I.provideDefinition(w,D,l))}function p(d,a,m,l){return E(a,m,d,(I,w,D)=>I.provideDeclaration(w,D,l))}function c(d,a,m,l){return E(a,m,d,(I,w,D)=>I.provideImplementation(w,D,l))}function u(d,a,m,l){return E(a,m,d,(I,w,D)=>I.provideTypeDefinition(w,D,l))}function g(d,a,m,l,I){return E(a,m,d,(w,D,N)=>T(this,void 0,void 0,function*(){const A=yield w.provideReferences(D,N,{includeDeclaration:!0},I);if(!l||!A||2!==A.length)return A;const k=yield w.provideReferences(D,N,{includeDeclaration:!1},I);return k&&1===k.length?k:A}))}function i(d){return T(this,void 0,void 0,function*(){const a=yield d(),m=new S.oQ(a,""),l=m.references.map(I=>I.link);return m.dispose(),l})}(0,y.sb)("_executeDefinitionProvider",(d,a,m)=>{const I=L(d.get(v.p).definitionProvider,a,m,P.T.None);return i(()=>I)}),(0,y.sb)("_executeTypeDefinitionProvider",(d,a,m)=>{const I=u(d.get(v.p).typeDefinitionProvider,a,m,P.T.None);return i(()=>I)}),(0,y.sb)("_executeDeclarationProvider",(d,a,m)=>{const I=p(d.get(v.p).declarationProvider,a,m,P.T.None);return i(()=>I)}),(0,y.sb)("_executeReferenceProvider",(d,a,m)=>{const I=g(d.get(v.p).referenceProvider,a,m,!1,P.T.None);return i(()=>I)}),(0,y.sb)("_executeImplementationProvider",(d,a,m)=>{const I=c(d.get(v.p).implementationProvider,a,m,P.T.None);return i(()=>I)})},25823:(Xe,we,e)=>{e.d(we,{yN:()=>L});var f=e(58178),P=e(78694),r=e(88593);function y(p,c){return!!p[c]}class v{constructor(c,u){this.target=c.target,this.isLeftClick=c.event.leftButton,this.isMiddleClick=c.event.middleButton,this.isRightClick=c.event.rightButton,this.hasTriggerModifier=y(c.event,u.triggerModifier),this.hasSideBySideModifier=y(c.event,u.triggerSideBySideModifier),this.isNoneOrSingleMouseDown=c.event.detail<=1}}class S{constructor(c,u){this.keyCodeIsTriggerKey=c.keyCode===u.triggerKey,this.keyCodeIsSideBySideKey=c.keyCode===u.triggerSideBySideKey,this.hasTriggerModifier=y(c,u.triggerModifier)}}class T{constructor(c,u,g,i){this.triggerKey=c,this.triggerModifier=u,this.triggerSideBySideKey=g,this.triggerSideBySideModifier=i}equals(c){return this.triggerKey===c.triggerKey&&this.triggerModifier===c.triggerModifier&&this.triggerSideBySideKey===c.triggerSideBySideKey&&this.triggerSideBySideModifier===c.triggerSideBySideModifier}}function E(p){return"altKey"===p?r.dz?new T(57,"metaKey",6,"altKey"):new T(5,"ctrlKey",6,"altKey"):r.dz?new T(6,"altKey",57,"metaKey"):new T(6,"altKey",5,"ctrlKey")}class L extends P.JT{constructor(c,u){var g;super(),this._onMouseMoveOrRelevantKeyDown=this._register(new f.Q5),this.onMouseMoveOrRelevantKeyDown=this._onMouseMoveOrRelevantKeyDown.event,this._onExecute=this._register(new f.Q5),this.onExecute=this._onExecute.event,this._onCancel=this._register(new f.Q5),this.onCancel=this._onCancel.event,this._editor=c,this._extractLineNumberFromMouseEvent=null!==(g=u?.extractLineNumberFromMouseEvent)&&void 0!==g?g:i=>i.target.position?i.target.position.lineNumber:0,this._opts=E(this._editor.getOption(76)),this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._register(this._editor.onDidChangeConfiguration(i=>{if(i.hasChanged(76)){const d=E(this._editor.getOption(76));if(this._opts.equals(d))return;this._opts=d,this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._onCancel.fire()}})),this._register(this._editor.onMouseMove(i=>this._onEditorMouseMove(new v(i,this._opts)))),this._register(this._editor.onMouseDown(i=>this._onEditorMouseDown(new v(i,this._opts)))),this._register(this._editor.onMouseUp(i=>this._onEditorMouseUp(new v(i,this._opts)))),this._register(this._editor.onKeyDown(i=>this._onEditorKeyDown(new S(i,this._opts)))),this._register(this._editor.onKeyUp(i=>this._onEditorKeyUp(new S(i,this._opts)))),this._register(this._editor.onMouseDrag(()=>this._resetHandler())),this._register(this._editor.onDidChangeCursorSelection(i=>this._onDidChangeCursorSelection(i))),this._register(this._editor.onDidChangeModel(i=>this._resetHandler())),this._register(this._editor.onDidChangeModelContent(()=>this._resetHandler())),this._register(this._editor.onDidScrollChange(i=>{(i.scrollTopChanged||i.scrollLeftChanged)&&this._resetHandler()}))}_onDidChangeCursorSelection(c){c.selection&&c.selection.startColumn!==c.selection.endColumn&&this._resetHandler()}_onEditorMouseMove(c){this._lastMouseMoveEvent=c,this._onMouseMoveOrRelevantKeyDown.fire([c,null])}_onEditorMouseDown(c){this._hasTriggerKeyOnMouseDown=c.hasTriggerModifier,this._lineNumberOnMouseDown=this._extractLineNumberFromMouseEvent(c)}_onEditorMouseUp(c){const u=this._extractLineNumberFromMouseEvent(c);this._hasTriggerKeyOnMouseDown&&this._lineNumberOnMouseDown&&this._lineNumberOnMouseDown===u&&this._onExecute.fire(c)}_onEditorKeyDown(c){this._lastMouseMoveEvent&&(c.keyCodeIsTriggerKey||c.keyCodeIsSideBySideKey&&c.hasTriggerModifier)?this._onMouseMoveOrRelevantKeyDown.fire([this._lastMouseMoveEvent,c]):c.hasTriggerModifier&&this._onCancel.fire()}_onEditorKeyUp(c){c.keyCodeIsTriggerKey&&this._onCancel.fire()}_resetHandler(){this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._onCancel.fire()}}},96788:(Xe,we,e)=>{e.d(we,{S:()=>te});var f=e(85328),P=e(17967),r=e(10878),y=e(78694),v=e(93379),S=e.n(v),T=e(7795),E=e.n(T),L=e(90569),p=e.n(L),c=e(3565),u=e.n(c),g=e(19216),i=e.n(g),d=e(44589),a=e.n(d),m=e(33257),l={};l.styleTagTransform=a(),l.setAttributes=u(),l.insert=p().bind(null,"head"),l.domAPI=E(),l.insertStyleElement=i(),S()(m.Z,l);var J,D=e(45173),N=e(8256),A=e(96726),k=e(74315),R=e(56230),O=e(25823),W=e(69027),z=e(37190),U=e(66221),ee=e(88516),B=e(57381),G=e(55763),se=e(54267),$=function(ne,_){return function(ae,ge){_(ae,ge,ne)}},K=function(ne,_,ae,ge){return new(ae||(ae=Promise))(function(ue,ve){function Ie(De){try{Ve(ge.next(De))}catch(ye){ve(ye)}}function Se(De){try{Ve(ge.throw(De))}catch(ye){ve(ye)}}function Ve(De){De.done?ue(De.value):function _e(ue){return ue instanceof ae?ue:new ae(function(ve){ve(ue)})}(De.value).then(Ie,Se)}Ve((ge=ge.apply(ne,_||[])).next())})};let te=J=class{constructor(_,ae,ge,_e){this.textModelResolverService=ae,this.languageService=ge,this.languageFeaturesService=_e,this.toUnhook=new y.SL,this.toUnhookForKeyboard=new y.SL,this.currentWordAtPosition=null,this.previousPromise=null,this.editor=_,this.linkDecorations=this.editor.createDecorationsCollection();const ue=new O.yN(_);this.toUnhook.add(ue),this.toUnhook.add(ue.onMouseMoveOrRelevantKeyDown(([ve,Ie])=>{this.startFindDefinitionFromMouse(ve,Ie??void 0)})),this.toUnhook.add(ue.onExecute(ve=>{this.isEnabled(ve)&&this.gotoDefinition(ve.target.position,ve.hasSideBySideModifier).catch(Ie=>{(0,P.dL)(Ie)}).finally(()=>{this.removeLinkDecorations()})})),this.toUnhook.add(ue.onCancel(()=>{this.removeLinkDecorations(),this.currentWordAtPosition=null}))}static get(_){return _.getContribution(J.ID)}startFindDefinitionFromCursor(_){return K(this,void 0,void 0,function*(){yield this.startFindDefinition(_),this.toUnhookForKeyboard.add(this.editor.onDidChangeCursorPosition(()=>{this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear()})),this.toUnhookForKeyboard.add(this.editor.onKeyDown(ae=>{ae&&(this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear())}))})}startFindDefinitionFromMouse(_,ae){if(!(9===_.target.type&&this.linkDecorations.length>0))return this.editor.hasModel()&&this.isEnabled(_,ae)?void this.startFindDefinition(_.target.position):(this.currentWordAtPosition=null,void this.removeLinkDecorations())}startFindDefinition(_){var ae;return K(this,void 0,void 0,function*(){this.toUnhookForKeyboard.clear();const ge=_?null===(ae=this.editor.getModel())||void 0===ae?void 0:ae.getWordAtPosition(_):null;if(!ge)return this.currentWordAtPosition=null,void this.removeLinkDecorations();if(this.currentWordAtPosition&&this.currentWordAtPosition.startColumn===ge.startColumn&&this.currentWordAtPosition.endColumn===ge.endColumn&&this.currentWordAtPosition.word===ge.word)return;this.currentWordAtPosition=ge;const _e=new D.yy(this.editor,15);let ue;this.previousPromise&&(this.previousPromise.cancel(),this.previousPromise=null),this.previousPromise=(0,f.PG)(Ie=>this.findDefinition(_,Ie));try{ue=yield this.previousPromise}catch(Ie){return void(0,P.dL)(Ie)}if(!ue||!ue.length||!_e.validate(this.editor))return void this.removeLinkDecorations();const ve=ue[0].originSelectionRange?A.e.lift(ue[0].originSelectionRange):new A.e(_.lineNumber,ge.startColumn,_.lineNumber,ge.endColumn);if(ue.length>1){let Ie=ve;for(const{originSelectionRange:Se}of ue)Se&&(Ie=A.e.plusRange(Ie,Se));this.addDecoration(Ie,(new r.W5).appendText(z.NC("multipleResults","Click to show {0} definitions.",ue.length)))}else{const Ie=ue[0];if(!Ie.uri)return;this.textModelResolverService.createModelReference(Ie.uri).then(Se=>{if(!Se.object||!Se.object.textEditorModel)return void Se.dispose();const{object:{textEditorModel:Ve}}=Se,{startLineNumber:De}=Ie.range;if(De<1||De>Ve.getLineCount())return void Se.dispose();const ye=this.getPreviewValue(Ve,De,Ie),oe=this.languageService.guessLanguageIdByFilepathOrFirstLine(Ve.uri);this.addDecoration(ve,ye?(new r.W5).appendCodeblock(oe||"",ye):void 0),Se.dispose()})}})}getPreviewValue(_,ae,ge){let _e=ge.range;return _e.endLineNumber-_e.startLineNumber>=J.MAX_SOURCE_PREVIEW_LINES&&(_e=this.getPreviewRangeBasedOnIndentation(_,ae)),this.stripIndentationFromPreviewRange(_,ae,_e)}stripIndentationFromPreviewRange(_,ae,ge){let ue=_.getLineFirstNonWhitespaceColumn(ae);for(let Ie=ae+1;Ie<ge.endLineNumber;Ie++){const Se=_.getLineFirstNonWhitespaceColumn(Ie);ue=Math.min(ue,Se)}return _.getValueInRange(ge).replace(new RegExp(`^\\s{${ue-1}}`,"gm"),"").trim()}getPreviewRangeBasedOnIndentation(_,ae){const ge=_.getLineFirstNonWhitespaceColumn(ae),_e=Math.min(_.getLineCount(),ae+J.MAX_SOURCE_PREVIEW_LINES);let ue=ae+1;for(;ue<_e&&ge!==_.getLineFirstNonWhitespaceColumn(ue);ue++);return new A.e(ae,1,ue+1,1)}addDecoration(_,ae){this.linkDecorations.set([{range:_,options:{description:"goto-definition-link",inlineClassName:"goto-definition-link",hoverMessage:ae}}])}removeLinkDecorations(){this.linkDecorations.clear()}isEnabled(_,ae){var ge;return this.editor.hasModel()&&_.isLeftClick&&_.isNoneOrSingleMouseDown&&6===_.target.type&&!((null===(ge=_.target.detail.injectedText)||void 0===ge?void 0:ge.options)instanceof se.HS)&&(_.hasTriggerModifier||!!ae&&ae.keyCodeIsTriggerKey)&&this.languageFeaturesService.definitionProvider.has(this.editor.getModel())}findDefinition(_,ae){const ge=this.editor.getModel();return ge?(0,B.nD)(this.languageFeaturesService.definitionProvider,ge,_,ae):Promise.resolve(null)}gotoDefinition(_,ae){return this.editor.setPosition(_),this.editor.invokeWithinContext(ge=>{const _e=!ae&&this.editor.getOption(86)&&!this.isInPeekEditor(ge);return new ee.BT({openToSide:ae,openInPeek:_e,muteMessage:!0},{title:{value:"",original:""},id:"",precondition:void 0}).run(ge)})}isInPeekEditor(_){const ae=_.get(U.i6);return W.Jy.inPeekEditor.getValue(ae)}dispose(){this.toUnhook.dispose(),this.toUnhookForKeyboard.dispose()}};te.ID="editor.contrib.gotodefinitionatposition",te.MAX_SOURCE_PREVIEW_LINES=8,te=J=function(ne,_,ae,ge){var ve,_e=arguments.length,ue=_e<3?_:null===ge?ge=Object.getOwnPropertyDescriptor(_,ae):ge;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ue=Reflect.decorate(ne,_,ae,ge);else for(var Ie=ne.length-1;Ie>=0;Ie--)(ve=ne[Ie])&&(ue=(_e<3?ve(ue):_e>3?ve(_,ae,ue):ve(_,ae))||ue);return _e>3&&ue&&Object.defineProperty(_,ae,ue),ue}([$(1,R.S),$(2,k.O),$(3,G.p)],te),(0,N._K)(te.ID,te,2)},14441:(Xe,we,e)=>{e.d(we,{J:()=>Ze});var f=e(85328),P=e(17967),r=e(48994),y=e(78694),v=e(51617),S=e(68678),T=e(96726),E=e(69027),L=e(37190),p=e(11813),c=e(47358),u=e(66221),g=e(12065),i=e(31498),d=e(91466),a=e(22438),m=e(93476),l=e(19872),I=e(20274),w=e(23620),D=e(90888),N=e(58178),A=e(42685),k=e(9001),R=e(93379),O=e.n(R),W=e(7795),z=e.n(W),U=e(90569),ee=e.n(U),B=e(3565),G=e.n(B),se=e(19216),j=e.n(se),$=e(44589),K=e.n($),J=e(60879),te={};te.styleTagTransform=K(),te.setAttributes=G(),te.insert=ee().bind(null,"head"),te.domAPI=z(),te.insertStyleElement=j(),O()(J.Z,te);var Ce,ae=e(78),ge=e(54267),_e=e(58459),ue=e(81007),ve=e(74315),Ie=e(56230),Se=e(6663),Ve=e(21233),De=e(34448),ye=e(55769),oe=e(21536),Y=e(89165),x=e(36547),F=function(Te,Ae,ht,yt){var gt,Dt=arguments.length,Ot=Dt<3?Ae:null===yt?yt=Object.getOwnPropertyDescriptor(Ae,ht):yt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ot=Reflect.decorate(Te,Ae,ht,yt);else for(var Rt=Te.length-1;Rt>=0;Rt--)(gt=Te[Rt])&&(Ot=(Dt<3?gt(Ot):Dt>3?gt(Ae,ht,Ot):gt(Ae,ht))||Ot);return Dt>3&&Ot&&Object.defineProperty(Ae,ht,Ot),Ot},ie=function(Te,Ae){return function(ht,yt){Ae(ht,yt,Te)}};let ke=class{constructor(Ae){this._resolverService=Ae}hasChildren(Ae){return Ae instanceof l.oQ||Ae instanceof l.F2}getChildren(Ae){if(Ae instanceof l.oQ)return Ae.groups;if(Ae instanceof l.F2)return Ae.resolve(this._resolverService).then(ht=>ht.children);throw new Error("bad tree")}};ke=F([ie(0,Ie.S)],ke);class Pe{getHeight(){return 23}getTemplateId(Ae){return Ae instanceof l.F2?pe.id:le.id}}let xe=class{constructor(Ae){this._keybindingService=Ae}getKeyboardNavigationLabel(Ae){var ht;if(Ae instanceof l.WX){const yt=null===(ht=Ae.parent.getPreview(Ae))||void 0===ht?void 0:ht.preview(Ae.range);if(yt)return yt.value}return(0,k.EZ)(Ae.uri)}};xe=F([ie(0,oe.d)],xe);class fe{getId(Ae){return Ae instanceof l.WX?Ae.id:Ae.uri}}let be=class extends y.JT{constructor(Ae,ht){super(),this._labelService=ht;const yt=document.createElement("div");yt.classList.add("reference-file"),this.file=this._register(new De.g(yt,{supportHighlights:!0})),this.badge=new Se.Z(I.R3(yt,I.$(".count")),{},x.ku),Ae.appendChild(yt)}set(Ae,ht){const yt=(0,k.XX)(Ae.uri);this.file.setLabel(this._labelService.getUriBasenameLabel(Ae.uri),this._labelService.getUriLabel(yt,{relative:!0}),{title:this._labelService.getUriLabel(Ae.uri),matches:ht});const Dt=Ae.children.length;this.badge.setCount(Dt),this.badge.setTitleFormat(Dt>1?(0,L.NC)("referencesCount","{0} references",Dt):(0,L.NC)("referenceCount","{0} reference",Dt))}};be=F([ie(1,Y.e)],be);let pe=Ce=class{constructor(Ae){this._instantiationService=Ae,this.templateId=Ce.id}renderTemplate(Ae){return this._instantiationService.createInstance(be,Ae)}renderElement(Ae,ht,yt){yt.set(Ae.element,(0,ye.mB)(Ae.filterData))}disposeTemplate(Ae){Ae.dispose()}};pe.id="FileReferencesRenderer",pe=Ce=F([ie(0,g.TG)],pe);class Q{constructor(Ae){this.label=new Ve.q(Ae)}set(Ae,ht){var yt;const Dt=null===(yt=Ae.parent.getPreview(Ae))||void 0===yt?void 0:yt.preview(Ae.range);if(Dt&&Dt.value){const{value:Ot,highlight:gt}=Dt;ht&&!ye.CL.isDefault(ht)?(this.label.element.classList.toggle("referenceMatch",!1),this.label.set(Ot,(0,ye.mB)(ht))):(this.label.element.classList.toggle("referenceMatch",!0),this.label.set(Ot,[gt]))}else this.label.set(`${(0,k.EZ)(Ae.uri)}:${Ae.range.startLineNumber+1}:${Ae.range.startColumn+1}`)}}let le=(()=>{class Te{constructor(){this.templateId=Te.id}renderTemplate(ht){return new Q(ht)}renderElement(ht,yt,Dt){Dt.set(ht.element,ht.filterData)}disposeTemplate(){}}return Te.id="OneReferenceRenderer",Te})();class Fe{getWidgetAriaLabel(){return(0,L.NC)("treeAriaLabel","References")}getAriaLabel(Ae){return Ae.ariaMessage}}var He=e(23527),Je=e(26093),lt=function(Te,Ae){return function(ht,yt){Ae(ht,yt,Te)}},mt=function(Te,Ae,ht,yt){return new(ht||(ht=Promise))(function(Ot,gt){function Rt(ci){try{Ci(yt.next(ci))}catch(Mi){gt(Mi)}}function Zt(ci){try{Ci(yt.throw(ci))}catch(Mi){gt(Mi)}}function Ci(ci){ci.done?Ot(ci.value):function Dt(Ot){return Ot instanceof ht?Ot:new ht(function(gt){gt(Ot)})}(ci.value).then(Rt,Zt)}Ci((yt=yt.apply(Te,Ae||[])).next())})};class ft{constructor(Ae,ht){this._editor=Ae,this._model=ht,this._decorations=new Map,this._decorationIgnoreSet=new Set,this._callOnDispose=new y.SL,this._callOnModelChange=new y.SL,this._callOnDispose.add(this._editor.onDidChangeModel(()=>this._onModelChanged())),this._onModelChanged()}dispose(){this._callOnModelChange.dispose(),this._callOnDispose.dispose(),this.removeDecorations()}_onModelChanged(){this._callOnModelChange.clear();const Ae=this._editor.getModel();if(Ae)for(const ht of this._model.references)if(ht.uri.toString()===Ae.uri.toString())return void this._addDecorations(ht.parent)}_addDecorations(Ae){if(!this._editor.hasModel())return;this._callOnModelChange.add(this._editor.getModel().onDidChangeDecorations(()=>this._onDecorationChanged()));const ht=[],yt=[];for(let Dt=0,Ot=Ae.children.length;Dt<Ot;Dt++){const gt=Ae.children[Dt];this._decorationIgnoreSet.has(gt.id)||gt.uri.toString()===this._editor.getModel().uri.toString()&&(ht.push({range:gt.range,options:ft.DecorationOptions}),yt.push(Dt))}this._editor.changeDecorations(Dt=>{const Ot=Dt.deltaDecorations([],ht);for(let gt=0;gt<Ot.length;gt++)this._decorations.set(Ot[gt],Ae.children[yt[gt]])})}_onDecorationChanged(){const Ae=[],ht=this._editor.getModel();if(ht){for(const[yt,Dt]of this._decorations){const Ot=ht.getDecorationRange(yt);if(!Ot)continue;let gt=!1;T.e.equalsRange(Ot,Dt.range)||((T.e.spansMultipleLines(Ot)||Dt.range.endColumn-Dt.range.startColumn!=Ot.endColumn-Ot.startColumn)&&(gt=!0),gt?(this._decorationIgnoreSet.add(Dt.id),Ae.push(yt)):Dt.range=Ot)}for(let yt=0,Dt=Ae.length;yt<Dt;yt++)this._decorations.delete(Ae[yt]);this._editor.removeDecorations(Ae)}}removeDecorations(){this._editor.removeDecorations([...this._decorations.keys()]),this._decorations.clear()}}ft.DecorationOptions=ge.qx.register({description:"reference-decoration",stickiness:1,className:"reference-decoration"});class Lt{constructor(){this.ratio=.7,this.heightInLines=18}static fromJSON(Ae){let ht,yt;try{const Dt=JSON.parse(Ae);ht=Dt.ratio,yt=Dt.heightInLines}catch{}return{ratio:ht||.7,heightInLines:yt||18}}}class Tt extends d.ls{}let Mt=class extends E.vk{constructor(Ae,ht,yt,Dt,Ot,gt,Rt,Zt,Ci,ci,Mi,Gi){super(Ae,{showFrame:!1,showArrow:!0,isResizeable:!0,isAccessible:!0,supportOnTitleClick:!0},gt),this._defaultTreeKeyboardSupport=ht,this.layoutData=yt,this._textModelResolverService=Ot,this._instantiationService=gt,this._peekViewService=Rt,this._uriLabel=Zt,this._undoRedoService=Ci,this._keybindingService=ci,this._languageService=Mi,this._languageConfigurationService=Gi,this._disposeOnNewModel=new y.SL,this._callOnDispose=new y.SL,this._onDidSelectReference=new N.Q5,this.onDidSelectReference=this._onDidSelectReference.event,this._dim=new I.Ro(0,0),this._applyTheme(Dt.getColorTheme()),this._callOnDispose.add(Dt.onDidColorThemeChange(this._applyTheme.bind(this))),this._peekViewService.addExclusiveWidget(Ae,this),this.create()}dispose(){this.setModel(void 0),this._callOnDispose.dispose(),this._disposeOnNewModel.dispose(),(0,y.B9)(this._preview),(0,y.B9)(this._previewNotAvailableMessage),(0,y.B9)(this._tree),(0,y.B9)(this._previewModelReference),this._splitView.dispose(),super.dispose()}_applyTheme(Ae){const ht=Ae.getColor(E.SC)||D.Il.transparent;this.style({arrowColor:ht,frameColor:ht,headerBackgroundColor:Ae.getColor(E.KY)||D.Il.transparent,primaryHeadingColor:Ae.getColor(E.IH),secondaryHeadingColor:Ae.getColor(E.R7)})}show(Ae){super.show(Ae,this.layoutData.heightInLines||18)}focusOnReferenceTree(){this._tree.domFocus()}focusOnPreviewEditor(){this._preview.focus()}isPreviewEditorFocused(){return this._preview.hasTextFocus()}_onTitleClick(Ae){this._preview&&this._preview.getModel()&&this._onDidSelectReference.fire({element:this._getFocusedReference(),kind:Ae.ctrlKey||Ae.metaKey||Ae.altKey?"side":"open",source:"title"})}_fillBody(Ae){this.setCssClass("reference-zone-widget"),this._messageContainer=I.R3(Ae,I.$("div.messages")),I.Cp(this._messageContainer),this._splitView=new w.z(Ae,{orientation:1}),this._previewContainer=I.R3(Ae,I.$("div.preview.inline")),this._preview=this._instantiationService.createInstance(ae.H,this._previewContainer,{scrollBeyondLastLine:!1,scrollbar:{verticalScrollbarSize:14,horizontal:"auto",useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,alwaysConsumeMouseWheel:!0},overviewRulerLanes:2,fixedOverflowWidgets:!0,minimap:{enabled:!1}},{},this.editor),I.Cp(this._previewContainer),this._previewNotAvailableMessage=new ge.yO(L.NC("missingPreviewMessage","no preview available"),ue.bd,ge.yO.DEFAULT_CREATION_OPTIONS,null,this._undoRedoService,this._languageService,this._languageConfigurationService),this._treeContainer=I.R3(Ae,I.$("div.ref-tree.inline"));const yt={keyboardSupport:this._defaultTreeKeyboardSupport,accessibilityProvider:new Fe,keyboardNavigationLabelProvider:this._instantiationService.createInstance(xe),identityProvider:new fe,openOnSingleClick:!0,selectionNavigation:!0,overrideStyles:{listBackground:E.M8}};this._defaultTreeKeyboardSupport&&this._callOnDispose.add(I.mu(this._treeContainer,"keydown",Ot=>{Ot.equals(9)&&(this._keybindingService.dispatchEvent(Ot,Ot.target),Ot.stopPropagation())},!0)),this._tree=this._instantiationService.createInstance(Tt,"ReferencesWidget",this._treeContainer,new Pe,[this._instantiationService.createInstance(pe),this._instantiationService.createInstance(le)],this._instantiationService.createInstance(ke),yt),this._splitView.addView({onDidChange:N.ju.None,element:this._previewContainer,minimumSize:200,maximumSize:Number.MAX_VALUE,layout:Ot=>{this._preview.layout({height:this._dim.height,width:Ot})}},w.M.Distribute),this._splitView.addView({onDidChange:N.ju.None,element:this._treeContainer,minimumSize:100,maximumSize:Number.MAX_VALUE,layout:Ot=>{this._treeContainer.style.height=`${this._dim.height}px`,this._treeContainer.style.width=`${Ot}px`,this._tree.layout(this._dim.height,Ot)}},w.M.Distribute),this._disposables.add(this._splitView.onDidSashChange(()=>{this._dim.width&&(this.layoutData.ratio=this._splitView.getViewSize(0)/this._dim.width)},void 0));const Dt=(Ot,gt)=>{Ot instanceof l.WX&&("show"===gt&&this._revealReference(Ot,!1),this._onDidSelectReference.fire({element:Ot,kind:gt,source:"tree"}))};this._tree.onDidOpen(Ot=>{Dt(Ot.element,Ot.sideBySide?"side":Ot.editorOptions.pinned?"goto":"show")}),I.Cp(this._treeContainer)}_onWidth(Ae){this._dim&&this._doLayoutBody(this._dim.height,Ae)}_doLayoutBody(Ae,ht){super._doLayoutBody(Ae,ht),this._dim=new I.Ro(ht,Ae),this.layoutData.heightInLines=this._viewZone?this._viewZone.heightInLines:this.layoutData.heightInLines,this._splitView.layout(ht),this._splitView.resizeView(0,ht*this.layoutData.ratio)}setSelection(Ae){return this._revealReference(Ae,!0).then(()=>{this._model&&(this._tree.setSelection([Ae]),this._tree.setFocus([Ae]))})}setModel(Ae){return this._disposeOnNewModel.clear(),this._model=Ae,this._model?this._onNewModel():Promise.resolve()}_onNewModel(){return this._model?this._model.isEmpty?(this.setTitle(""),this._messageContainer.innerText=L.NC("noResults","No results"),I.$Z(this._messageContainer),Promise.resolve(void 0)):(I.Cp(this._messageContainer),this._decorationsManager=new ft(this._preview,this._model),this._disposeOnNewModel.add(this._decorationsManager),this._disposeOnNewModel.add(this._model.onDidChangeReferenceRange(Ae=>this._tree.rerender(Ae))),this._disposeOnNewModel.add(this._preview.onMouseDown(Ae=>{const{event:ht,target:yt}=Ae;if(2!==ht.detail)return;const Dt=this._getFocusedReference();Dt&&this._onDidSelectReference.fire({element:{uri:Dt.uri,range:yt.range},kind:ht.ctrlKey||ht.metaKey||ht.altKey?"side":"open",source:"editor"})})),this.container.classList.add("results-loaded"),I.$Z(this._treeContainer),I.$Z(this._previewContainer),this._splitView.layout(this._dim.width),this.focusOnReferenceTree(),this._tree.setInput(1===this._model.groups.length?this._model.groups[0]:this._model)):Promise.resolve(void 0)}_getFocusedReference(){const[Ae]=this._tree.getFocus();return Ae instanceof l.WX?Ae:Ae instanceof l.F2&&Ae.children.length>0?Ae.children[0]:void 0}revealReference(Ae){return mt(this,void 0,void 0,function*(){yield this._revealReference(Ae,!1),this._onDidSelectReference.fire({element:Ae,kind:"goto",source:"tree"})})}_revealReference(Ae,ht){return mt(this,void 0,void 0,function*(){if(this._revealedReference===Ae)return;this._revealedReference=Ae,Ae.uri.scheme!==A.lg.inMemory?this.setTitle((0,k.Hx)(Ae.uri),this._uriLabel.getUriLabel((0,k.XX)(Ae.uri))):this.setTitle(L.NC("peekView.alternateTitle","References"));const yt=this._textModelResolverService.createModelReference(Ae.uri);this._tree.getInput()===Ae.parent||(ht&&this._tree.reveal(Ae.parent),yield this._tree.expand(Ae.parent)),this._tree.reveal(Ae);const Dt=yield yt;if(!this._model)return void Dt.dispose();(0,y.B9)(this._previewModelReference);const Ot=Dt.object;if(Ot){const gt=this._preview.getModel()===Ot.textEditorModel?0:1,Rt=T.e.lift(Ae.range).collapseToStart();this._previewModelReference=Dt,this._preview.setModel(Ot.textEditorModel),this._preview.setSelection(Rt),this._preview.revealRangeInCenter(Rt,gt)}else this._preview.setModel(this._previewNotAvailableMessage),Dt.dispose()})}};Mt=function(Te,Ae,ht,yt){var gt,Dt=arguments.length,Ot=Dt<3?Ae:null===yt?yt=Object.getOwnPropertyDescriptor(Ae,ht):yt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ot=Reflect.decorate(Te,Ae,ht,yt);else for(var Rt=Te.length-1;Rt>=0;Rt--)(gt=Te[Rt])&&(Ot=(Dt<3?gt(Ot):Dt>3?gt(Ae,ht,Ot):gt(Ae,ht))||Ot);return Dt>3&&Ot&&Object.defineProperty(Ae,ht,Ot),Ot}([lt(3,He.XE),lt(4,Ie.S),lt(5,g.TG),lt(6,E.Fw),lt(7,Y.e),lt(8,Je.tJ),lt(9,oe.d),lt(10,ve.O),lt(11,_e.c_)],Mt);var it,At=function(Te,Ae){return function(ht,yt){Ae(ht,yt,Te)}},It=function(Te,Ae,ht,yt){return new(ht||(ht=Promise))(function(Ot,gt){function Rt(ci){try{Ci(yt.next(ci))}catch(Mi){gt(Mi)}}function Zt(ci){try{Ci(yt.throw(ci))}catch(Mi){gt(Mi)}}function Ci(ci){ci.done?Ot(ci.value):function Dt(Ot){return Ot instanceof ht?Ot:new ht(function(gt){gt(Ot)})}(ci.value).then(Rt,Zt)}Ci((yt=yt.apply(Te,Ae||[])).next())})};const qe=new u.uy("referenceSearchVisible",!1,L.NC("referenceSearchVisible","Whether reference peek is visible, like 'Peek References' or 'Peek Definition'"));let Ze=it=class{static get(Ae){return Ae.getContribution(it.ID)}constructor(Ae,ht,yt,Dt,Ot,gt,Rt,Zt){this._defaultTreeKeyboardSupport=Ae,this._editor=ht,this._editorService=Dt,this._notificationService=Ot,this._instantiationService=gt,this._storageService=Rt,this._configurationService=Zt,this._disposables=new y.SL,this._requestIdPool=0,this._ignoreModelChangeEvent=!1,this._referenceSearchVisible=qe.bindTo(yt)}dispose(){var Ae,ht;this._referenceSearchVisible.reset(),this._disposables.dispose(),null===(Ae=this._widget)||void 0===Ae||Ae.dispose(),null===(ht=this._model)||void 0===ht||ht.dispose(),this._widget=void 0,this._model=void 0}toggleWidget(Ae,ht,yt){let Dt;if(this._widget&&(Dt=this._widget.position),this.closeWidget(),Dt&&Ae.containsPosition(Dt))return;this._peekMode=yt,this._referenceSearchVisible.set(!0),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>{this.closeWidget()})),this._disposables.add(this._editor.onDidChangeModel(()=>{this._ignoreModelChangeEvent||this.closeWidget()}));const Ot="peekViewLayout",gt=Lt.fromJSON(this._storageService.get(Ot,0,"{}"));this._widget=this._instantiationService.createInstance(Mt,this._editor,this._defaultTreeKeyboardSupport,gt),this._widget.setTitle(L.NC("labelLoading","Loading...")),this._widget.show(Ae),this._disposables.add(this._widget.onDidClose(()=>{ht.cancel(),this._widget&&(this._storageService.store(Ot,JSON.stringify(this._widget.layoutData),0,1),this._widget=void 0),this.closeWidget()})),this._disposables.add(this._widget.onDidSelectReference(Zt=>{const{element:Ci,kind:ci}=Zt;if(Ci)switch(ci){case"open":("editor"!==Zt.source||!this._configurationService.getValue("editor.stablePeek"))&&this.openReference(Ci,!1,!1);break;case"side":this.openReference(Ci,!0,!1);break;case"goto":yt?this._gotoReference(Ci,!0):this.openReference(Ci,!1,!0)}}));const Rt=++this._requestIdPool;ht.then(Zt=>{var Ci;if(Rt===this._requestIdPool&&this._widget)return null===(Ci=this._model)||void 0===Ci||Ci.dispose(),this._model=Zt,this._widget.setModel(this._model).then(()=>{if(this._widget&&this._model&&this._editor.hasModel()){this._widget.setMetaTitle(this._model.isEmpty?"":L.NC("metaTitle.N","{0} ({1})",this._model.title,this._model.references.length));const ci=this._editor.getModel().uri,Mi=new S.L(Ae.startLineNumber,Ae.startColumn),Gi=this._model.nearestReference(ci,Mi);if(Gi)return this._widget.setSelection(Gi).then(()=>{this._widget&&"editor"===this._editor.getOption(85)&&this._widget.focusOnPreviewEditor()})}});Zt.dispose()},Zt=>{this._notificationService.error(Zt)})}changeFocusBetweenPreviewAndReferences(){this._widget&&(this._widget.isPreviewEditorFocused()?this._widget.focusOnReferenceTree():this._widget.focusOnPreviewEditor())}goToNextOrPreviousReference(Ae){return It(this,void 0,void 0,function*(){if(!this._editor.hasModel()||!this._model||!this._widget)return;const ht=this._widget.position;if(!ht)return;const yt=this._model.nearestReference(this._editor.getModel().uri,ht);if(!yt)return;const Dt=this._model.nextOrPreviousReference(yt,Ae),Ot=this._editor.hasTextFocus(),gt=this._widget.isPreviewEditorFocused();yield this._widget.setSelection(Dt),yield this._gotoReference(Dt,!1),Ot?this._editor.focus():this._widget&&gt&&this._widget.focusOnPreviewEditor()})}revealReference(Ae){return It(this,void 0,void 0,function*(){!this._editor.hasModel()||!this._model||!this._widget||(yield this._widget.revealReference(Ae))})}closeWidget(Ae=!0){var ht,yt;null===(ht=this._widget)||void 0===ht||ht.dispose(),null===(yt=this._model)||void 0===yt||yt.dispose(),this._referenceSearchVisible.reset(),this._disposables.clear(),this._widget=void 0,this._model=void 0,Ae&&this._editor.focus(),this._requestIdPool+=1}_gotoReference(Ae,ht){var yt;null===(yt=this._widget)||void 0===yt||yt.hide(),this._ignoreModelChangeEvent=!0;const Dt=T.e.lift(Ae.range).collapseToStart();return this._editorService.openCodeEditor({resource:Ae.uri,options:{selection:Dt,selectionSource:"code.jump",pinned:ht}},this._editor).then(Ot=>{var gt;if(this._ignoreModelChangeEvent=!1,Ot&&this._widget)if(this._editor===Ot)this._widget.show(Dt),this._widget.focusOnReferenceTree();else{const Rt=it.get(Ot),Zt=this._model.clone();this.closeWidget(),Ot.focus(),Rt?.toggleWidget(Dt,(0,f.PG)(Ci=>Promise.resolve(Zt)),null!==(gt=this._peekMode)&&void 0!==gt&&gt)}else this.closeWidget()},Ot=>{this._ignoreModelChangeEvent=!1,(0,P.dL)(Ot)})}openReference(Ae,ht,yt){ht||this.closeWidget();const{uri:Dt,range:Ot}=Ae;this._editorService.openCodeEditor({resource:Dt,options:{selection:Ot,selectionSource:"code.jump",pinned:yt}},this._editor,ht)}};function Ee(Te,Ae){const ht=(0,E.rc)(Te);if(!ht)return;const yt=Ze.get(ht);yt&&Ae(yt)}Ze.ID="editor.contrib.referencesController",Ze=it=function(Te,Ae,ht,yt){var gt,Dt=arguments.length,Ot=Dt<3?Ae:null===yt?yt=Object.getOwnPropertyDescriptor(Ae,ht):yt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ot=Reflect.decorate(Te,Ae,ht,yt);else for(var Rt=Te.length-1;Rt>=0;Rt--)(gt=Te[Rt])&&(Ot=(Dt<3?gt(Ot):Dt>3?gt(Ae,ht,Ot):gt(Ae,ht))||Ot);return Dt>3&&Ot&&Object.defineProperty(Ae,ht,Ot),Ot}([At(2,u.i6),At(3,v.$),At(4,a.lT),At(5,g.TG),At(6,m.Uy),At(7,c.Ui)],Ze),i.W.registerCommandAndKeybindingRule({id:"togglePeekWidgetFocus",weight:100,primary:(0,r.gx)(2089,60),when:u.Ao.or(qe,E.Jy.inPeekEditor),handler(Te){Ee(Te,Ae=>{Ae.changeFocusBetweenPreviewAndReferences()})}}),i.W.registerCommandAndKeybindingRule({id:"goToNextReference",weight:90,primary:62,secondary:[70],when:u.Ao.or(qe,E.Jy.inPeekEditor),handler(Te){Ee(Te,Ae=>{Ae.goToNextOrPreviousReference(!0)})}}),i.W.registerCommandAndKeybindingRule({id:"goToPreviousReference",weight:90,primary:1086,secondary:[1094],when:u.Ao.or(qe,E.Jy.inPeekEditor),handler(Te){Ee(Te,Ae=>{Ae.goToNextOrPreviousReference(!1)})}}),p.P.registerCommandAlias("goToNextReferenceFromEmbeddedEditor","goToNextReference"),p.P.registerCommandAlias("goToPreviousReferenceFromEmbeddedEditor","goToPreviousReference"),p.P.registerCommandAlias("closeReferenceSearchEditor","closeReferenceSearch"),p.P.registerCommand("closeReferenceSearch",Te=>Ee(Te,Ae=>Ae.closeWidget())),i.W.registerKeybindingRule({id:"closeReferenceSearch",weight:-1,primary:9,secondary:[1033],when:u.Ao.and(E.Jy.inPeekEditor,u.Ao.not("config.editor.stablePeek"))}),i.W.registerKeybindingRule({id:"closeReferenceSearch",weight:250,primary:9,secondary:[1033],when:u.Ao.and(qe,u.Ao.not("config.editor.stablePeek"))}),i.W.registerCommandAndKeybindingRule({id:"revealReference",weight:200,primary:3,mac:{primary:3,secondary:[2066]},when:u.Ao.and(qe,d.CQ,d.PS.negate(),d.uJ.negate()),handler(Te){var Ae;const yt=null===(Ae=Te.get(d.Lw).lastFocusedList)||void 0===Ae?void 0:Ae.getFocus();Array.isArray(yt)&&yt[0]instanceof l.WX&&Ee(Te,Dt=>Dt.revealReference(yt[0]))}}),i.W.registerCommandAndKeybindingRule({id:"openReferenceToSide",weight:100,primary:2051,mac:{primary:259},when:u.Ao.and(qe,d.CQ,d.PS.negate(),d.uJ.negate()),handler(Te){var Ae;const yt=null===(Ae=Te.get(d.Lw).lastFocusedList)||void 0===Ae?void 0:Ae.getFocus();Array.isArray(yt)&&yt[0]instanceof l.WX&&Ee(Te,Dt=>Dt.openReference(yt[0],!0,!0))}}),p.P.registerCommand("openReference",Te=>{var Ae;const yt=null===(Ae=Te.get(d.Lw).lastFocusedList)||void 0===Ae?void 0:Ae.getFocus();Array.isArray(yt)&&yt[0]instanceof l.WX&&Ee(Te,Dt=>Dt.openReference(yt[0],!1,!0))})},19872:(Xe,we,e)=>{e.d(we,{F2:()=>g,WX:()=>c,oQ:()=>i});var f=e(17967),P=e(58178),r=e(24791),y=e(78694),v=e(38164),S=e(9001),T=e(16055),E=e(96726),L=e(37190);class c{constructor(a,m,l,I){this.isProviderFirst=a,this.parent=m,this.link=l,this._rangeCallback=I,this.id=r.a.nextId()}get uri(){return this.link.uri}get range(){var a,m;return null!==(m=null!==(a=this._range)&&void 0!==a?a:this.link.targetSelectionRange)&&void 0!==m?m:this.link.range}set range(a){this._range=a,this._rangeCallback(this)}get ariaMessage(){var a;const m=null===(a=this.parent.getPreview(this))||void 0===a?void 0:a.preview(this.range);return m?(0,L.NC)({key:"aria.oneReference.preview",comment:["Placeholders are: 0: filename, 1:line number, 2: column number, 3: preview snippet of source code"]},"{0} in {1} on line {2} at column {3}",m.value,(0,S.EZ)(this.uri),this.range.startLineNumber,this.range.startColumn):(0,L.NC)("aria.oneReference","in {0} on line {1} at column {2}",(0,S.EZ)(this.uri),this.range.startLineNumber,this.range.startColumn)}}class u{constructor(a){this._modelReference=a}dispose(){this._modelReference.dispose()}preview(a,m=8){const l=this._modelReference.object.textEditorModel;if(!l)return;const{startLineNumber:I,startColumn:w,endLineNumber:D,endColumn:N}=a,A=l.getWordUntilPosition({lineNumber:I,column:w-m}),k=new E.e(I,A.startColumn,I,w),R=new E.e(D,N,D,1073741824),O=l.getValueInRange(k).replace(/^\s+/,""),W=l.getValueInRange(a);return{value:O+W+l.getValueInRange(R).replace(/\s+$/,""),highlight:{start:O.length,end:O.length+W.length}}}}class g{constructor(a,m){this.parent=a,this.uri=m,this.children=[],this._previews=new v.Y9}dispose(){(0,y.B9)(this._previews.values()),this._previews.clear()}getPreview(a){return this._previews.get(a.uri)}get ariaMessage(){const a=this.children.length;return 1===a?(0,L.NC)("aria.fileReferences.1","1 symbol in {0}, full path {1}",(0,S.EZ)(this.uri),this.uri.fsPath):(0,L.NC)("aria.fileReferences.N","{0} symbols in {1}, full path {2}",a,(0,S.EZ)(this.uri),this.uri.fsPath)}resolve(a){return function(d,a,m,l){return new(m||(m=Promise))(function(w,D){function N(R){try{k(l.next(R))}catch(O){D(O)}}function A(R){try{k(l.throw(R))}catch(O){D(O)}}function k(R){R.done?w(R.value):function I(w){return w instanceof m?w:new m(function(D){D(w)})}(R.value).then(N,A)}k((l=l.apply(d,a||[])).next())})}(this,void 0,void 0,function*(){if(0!==this._previews.size)return this;for(const m of this.children)if(!this._previews.has(m.uri))try{const l=yield a.createModelReference(m.uri);this._previews.set(m.uri,new u(l))}catch(l){(0,f.dL)(l)}return this})}}class i{constructor(a,m){this.groups=[],this.references=[],this._onDidChangeReferenceRange=new P.Q5,this.onDidChangeReferenceRange=this._onDidChangeReferenceRange.event,this._links=a,this._title=m;const[l]=a;let I;a.sort(i._compareReferences);for(const w of a)if((!I||!S.SF.isEqual(I.uri,w.uri,!0))&&(I=new g(this,w.uri),this.groups.push(I)),0===I.children.length||0!==i._compareReferences(w,I.children[I.children.length-1])){const D=new c(l===w,I,w,N=>this._onDidChangeReferenceRange.fire(N));this.references.push(D),I.children.push(D)}}dispose(){(0,y.B9)(this.groups),this._onDidChangeReferenceRange.dispose(),this.groups.length=0}clone(){return new i(this._links,this._title)}get title(){return this._title}get isEmpty(){return 0===this.groups.length}get ariaMessage(){return this.isEmpty?(0,L.NC)("aria.result.0","No results found"):1===this.references.length?(0,L.NC)("aria.result.1","Found 1 symbol in {0}",this.references[0].uri.fsPath):1===this.groups.length?(0,L.NC)("aria.result.n1","Found {0} symbols in {1}",this.references.length,this.groups[0].uri.fsPath):(0,L.NC)("aria.result.nm","Found {0} symbols in {1} files",this.references.length,this.groups.length)}nextOrPreviousReference(a,m){const{parent:l}=a;let I=l.children.indexOf(a);const w=l.children.length,D=l.parent.groups.length;return 1===D||m&&I+1<w||!m&&I>0?(I=m?(I+1)%w:(I+w-1)%w,l.children[I]):(I=l.parent.groups.indexOf(l),m?(I=(I+1)%D,l.parent.groups[I].children[0]):(I=(I+D-1)%D,l.parent.groups[I].children[l.parent.groups[I].children.length-1]))}nearestReference(a,m){const l=this.references.map((I,w)=>({idx:w,prefixLen:T.Mh(I.uri.toString(),a.toString()),offsetDist:100*Math.abs(I.range.startLineNumber-m.lineNumber)+Math.abs(I.range.startColumn-m.column)})).sort((I,w)=>I.prefixLen>w.prefixLen?-1:I.prefixLen<w.prefixLen?1:I.offsetDist<w.offsetDist?-1:I.offsetDist>w.offsetDist?1:0)[0];if(l)return this.references[l.idx]}referenceAt(a,m){for(const l of this.references)if(l.uri.toString()===a.toString()&&E.e.containsPosition(l.range,m))return l}firstReference(){for(const a of this.references)if(a.isProviderFirst)return a;return this.references[0]}static _compareReferences(a,m){return S.SF.compare(a.uri,m.uri)||E.e.compareRangesUsingStarts(a.range,m.range)}}},10604:(Xe,we,e)=>{e.d(we,{hT:()=>W,Hb:()=>j,mR:()=>$});var f=e(20274),P=e(98629),r=e(31738),y=e(78694),v=e(68678),S=e(96726),T=e(54267),E=e(81814),L=e(69955),p=e(9282),c=e(12065),u=e(21536),g=e(85328),i=e(15446),d=e(66221),a=e(81063);class I extends y.JT{constructor(ne,_=new f.Ro(10,10)){super(),this._editor=ne,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._resizableNode=this._register(new a.f),this._contentPosition=null,this._isResizing=!1,this._resizableNode.domNode.style.position="absolute",this._resizableNode.minSize=f.Ro.lift(_),this._resizableNode.layout(_.height,_.width),this._resizableNode.enableSashes(!0,!0,!0,!0),this._register(this._resizableNode.onDidResize(ae=>{this._resize(new f.Ro(ae.dimension.width,ae.dimension.height)),ae.done&&(this._isResizing=!1)})),this._register(this._resizableNode.onDidWillResize(()=>{this._isResizing=!0}))}get isResizing(){return this._isResizing}getDomNode(){return this._resizableNode.domNode}getPosition(){return this._contentPosition}get position(){var ne;return null!==(ne=this._contentPosition)&&void 0!==ne&&ne.position?v.L.lift(this._contentPosition.position):void 0}_availableVerticalSpaceAbove(ne){const _=this._editor.getDomNode(),ae=this._editor.getScrolledVisiblePosition(ne);return _&&ae?f.i(_).top+ae.top-30:void 0}_availableVerticalSpaceBelow(ne){const _=this._editor.getDomNode(),ae=this._editor.getScrolledVisiblePosition(ne);if(!_||!ae)return;const ge=f.i(_);return f.D6(document.body).height-(ge.top+ae.top+ae.height)-24}_findPositionPreference(ne,_){var ae,ge;const _e=Math.min(null!==(ae=this._availableVerticalSpaceBelow(_))&&void 0!==ae?ae:1/0,ne),ue=Math.min(null!==(ge=this._availableVerticalSpaceAbove(_))&&void 0!==ge?ge:1/0,ne),ve=Math.min(Math.max(ue,_e),ne),Ie=Math.min(ne,ve);let Se;return Se=this._editor.getOption(59).above?Ie<=ue?1:2:Ie<=_e?2:1,1===Se?this._resizableNode.enableSashes(!0,!0,!1,!1):this._resizableNode.enableSashes(!1,!0,!0,!1),Se}_resize(ne){this._resizableNode.layout(ne.height,ne.width)}}var k,R,w=e(47358),D=e(74875),N=function(te,ne,_,ae){var ue,ge=arguments.length,_e=ge<3?ne:null===ae?ae=Object.getOwnPropertyDescriptor(ne,_):ae;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)_e=Reflect.decorate(te,ne,_,ae);else for(var ve=te.length-1;ve>=0;ve--)(ue=te[ve])&&(_e=(ge<3?ue(_e):ge>3?ue(ne,_,_e):ue(ne,_))||_e);return ge>3&&_e&&Object.defineProperty(ne,_,_e),_e},A=function(te,ne){return function(_,ae){ne(_,ae,te)}};const O=f.$;let W=k=class extends y.JT{constructor(ne,_,ae){super(),this._editor=ne,this._instantiationService=_,this._keybindingService=ae,this._currentResult=null,this._widget=this._register(this._instantiationService.createInstance(j,this._editor)),this._participants=[];for(const ge of p.Ae.getAll())this._participants.push(this._instantiationService.createInstance(ge,this._editor));this._participants.sort((ge,_e)=>ge.hoverOrdinal-_e.hoverOrdinal),this._computer=new K(this._editor,this._participants),this._hoverOperation=this._register(new L.H(this._editor,this._computer)),this._register(this._hoverOperation.onResult(ge=>{if(!this._computer.anchor)return;const _e=ge.hasLoadingMessage?this._addLoadingMessage(ge.value):ge.value;this._withResult(new z(this._computer.anchor,_e,ge.isComplete))})),this._register(f.mu(this._widget.getDomNode(),"keydown",ge=>{ge.equals(9)&&this.hide()})),this._register(E.RW.onDidChange(()=>{this._widget.position&&this._currentResult&&this._setCurrentResult(this._currentResult)}))}get widget(){return this._widget}maybeShowAt(ne){if(this._widget.isResizing)return!0;const _=[];for(const ge of this._participants)if(ge.suggestHoverAnchor){const _e=ge.suggestHoverAnchor(ne);_e&&_.push(_e)}const ae=ne.target;if(6===ae.type&&_.push(new p.Qj(0,ae.range,ne.event.posx,ne.event.posy)),7===ae.type){const ge=this._editor.getOption(49).typicalHalfwidthCharacterWidth/2;!ae.detail.isAfterLines&&"number"==typeof ae.detail.horizontalDistanceToText&&ae.detail.horizontalDistanceToText<ge&&_.push(new p.Qj(0,ae.range,ne.event.posx,ne.event.posy))}return 0===_.length?this._startShowingOrUpdateHover(null,0,0,!1,ne):(_.sort((ge,_e)=>_e.priority-ge.priority),this._startShowingOrUpdateHover(_[0],0,0,!1,ne))}startShowingAtRange(ne,_,ae,ge){this._startShowingOrUpdateHover(new p.Qj(0,ne,void 0,void 0),_,ae,ge,null)}_startShowingOrUpdateHover(ne,_,ae,ge,_e){return this._widget.position&&this._currentResult?this._editor.getOption(59).sticky&&_e&&this._widget.isMouseGettingCloser(_e.event.posx,_e.event.posy)?(ne&&this._startHoverOperationIfNecessary(ne,_,ae,ge,!0),!0):ne?!(!ne||!this._currentResult.anchor.equals(ne))||(ne.canAdoptVisibleHover(this._currentResult.anchor,this._widget.position)?(this._setCurrentResult(this._currentResult.filter(ne)),this._startHoverOperationIfNecessary(ne,_,ae,ge,!1),!0):(this._setCurrentResult(null),this._startHoverOperationIfNecessary(ne,_,ae,ge,!1),!0)):(this._setCurrentResult(null),!1):!!ne&&(this._startHoverOperationIfNecessary(ne,_,ae,ge,!1),!0)}_startHoverOperationIfNecessary(ne,_,ae,ge,_e){this._computer.anchor&&this._computer.anchor.equals(ne)||(this._hoverOperation.cancel(),this._computer.anchor=ne,this._computer.shouldFocus=ge,this._computer.source=ae,this._computer.insistOnKeepingHoverVisible=_e,this._hoverOperation.start(_))}_setCurrentResult(ne){this._currentResult!==ne&&(ne&&0===ne.messages.length&&(ne=null),this._currentResult=ne,this._currentResult?this._renderMessages(this._currentResult.anchor,this._currentResult.messages):this._widget.hide())}hide(){this._computer.anchor=null,this._hoverOperation.cancel(),this._setCurrentResult(null)}get isColorPickerVisible(){return this._widget.isColorPickerVisible}get isVisibleFromKeyboard(){return this._widget.isVisibleFromKeyboard}get isVisible(){return this._widget.isVisible}get isFocused(){return this._widget.isFocused}get isResizing(){return this._widget.isResizing}containsNode(ne){return!!ne&&this._widget.getDomNode().contains(ne)}_addLoadingMessage(ne){if(this._computer.anchor)for(const _ of this._participants)if(_.createLoadingMessage){const ae=_.createLoadingMessage(this._computer.anchor);if(ae)return ne.slice(0).concat([ae])}return ne}_withResult(ne){this._widget.position&&this._currentResult&&this._currentResult.isComplete&&(!ne.isComplete||this._computer.insistOnKeepingHoverVisible&&0===ne.messages.length)||this._setCurrentResult(ne)}_renderMessages(ne,_){const{showAtPosition:ae,showAtSecondaryPosition:ge,highlightRange:_e}=k.computeHoverRanges(this._editor,ne.range,_),ue=new y.SL,ve=ue.add(new $(this._keybindingService)),Ie=document.createDocumentFragment();let Se=null;const Ve={fragment:Ie,statusBar:ve,setColorPicker:ye=>Se=ye,onContentsChanged:()=>this._widget.onContentsChanged(),setMinimumDimensions:ye=>this._widget.setMinimumDimensions(ye),hide:()=>this.hide()};for(const ye of this._participants){const oe=_.filter(Y=>Y.owner===ye);oe.length>0&&ue.add(ye.renderHoverParts(Ve,oe))}const De=_.some(ye=>ye.isBeforeContent);if(ve.hasContent&&Ie.appendChild(ve.hoverElement),Ie.hasChildNodes()){if(_e){const ye=this._editor.createDecorationsCollection();ye.set([{range:_e,options:k._DECORATION_OPTIONS}]),ue.add((0,y.OF)(()=>{ye.clear()}))}this._widget.showAt(Ie,new ee(Se,ae,ge,this._editor.getOption(59).above,this._computer.shouldFocus,this._computer.source,De,ne.initialMousePosX,ne.initialMousePosY,ue))}else ue.dispose()}static computeHoverRanges(ne,_,ae){let ge=1;if(ne.hasModel()){const Se=ne._getViewModel(),Ve=Se.coordinatesConverter,De=Ve.convertModelRangeToViewRange(_),ye=new v.L(De.startLineNumber,Se.getLineMinColumn(De.startLineNumber));ge=Ve.convertViewPositionToModelPosition(ye).column}const _e=_.startLineNumber;let ue=_.startColumn,ve=ae[0].range,Ie=null;for(const Se of ae)ve=S.e.plusRange(ve,Se.range),Se.range.startLineNumber===_e&&Se.range.endLineNumber===_e&&(ue=Math.max(Math.min(ue,Se.range.startColumn),ge)),Se.forceShowAtRange&&(Ie=Se.range);return{showAtPosition:Ie?Ie.getStartPosition():new v.L(_e,_.startColumn),showAtSecondaryPosition:Ie?Ie.getStartPosition():new v.L(_e,ue),highlightRange:ve}}focus(){this._widget.focus()}scrollUp(){this._widget.scrollUp()}scrollDown(){this._widget.scrollDown()}scrollLeft(){this._widget.scrollLeft()}scrollRight(){this._widget.scrollRight()}pageUp(){this._widget.pageUp()}pageDown(){this._widget.pageDown()}goToTop(){this._widget.goToTop()}goToBottom(){this._widget.goToBottom()}};W._DECORATION_OPTIONS=T.qx.register({description:"content-hover-highlight",className:"hoverHighlight"}),W=k=N([A(1,c.TG),A(2,u.d)],W);class z{constructor(ne,_,ae){this.anchor=ne,this.messages=_,this.isComplete=ae}filter(ne){const _=this.messages.filter(ae=>ae.isValidForHoverAnchor(ne));return _.length===this.messages.length?this:new U(this,this.anchor,_,this.isComplete)}}class U extends z{constructor(ne,_,ae,ge){super(_,ae,ge),this.original=ne}filter(ne){return this.original.filter(ne)}}class ee{constructor(ne,_,ae,ge,_e,ue,ve,Ie,Se,Ve){this.colorPicker=ne,this.showAtPosition=_,this.showAtSecondaryPosition=ae,this.preferAbove=ge,this.stoleFocus=_e,this.source=ue,this.isBeforeContent=ve,this.initialMousePosX=Ie,this.initialMousePosY=Se,this.disposables=Ve,this.closestMouseDistance=void 0}}let j=R=class extends I{get isColorPickerVisible(){var ne;return!(null===(ne=this._visibleData)||void 0===ne||!ne.colorPicker)}get isVisibleFromKeyboard(){var ne;return 1===(null===(ne=this._visibleData)||void 0===ne?void 0:ne.source)}get isVisible(){var ne;return null!==(ne=this._hoverVisibleKey.get())&&void 0!==ne&&ne}get isFocused(){var ne;return null!==(ne=this._hoverFocusedKey.get())&&void 0!==ne&&ne}constructor(ne,_,ae,ge,_e){const ue=ne.getOption(65)+8,Ie=new f.Ro(150,ue);super(ne,Ie),this._configurationService=ae,this._accessibilityService=ge,this._keybindingService=_e,this._hover=this._register(new P.c8),this._minimumSize=Ie,this._hoverVisibleKey=i.u.hoverVisible.bindTo(_),this._hoverFocusedKey=i.u.hoverFocused.bindTo(_),f.R3(this._resizableNode.domNode,this._hover.containerDomNode),this._resizableNode.domNode.style.zIndex="50",this._register(this._editor.onDidLayoutChange(()=>this._layout())),this._register(this._editor.onDidChangeConfiguration(Ve=>{Ve.hasChanged(49)&&this._updateFont()}));const Se=this._register(f.go(this._resizableNode.domNode));this._register(Se.onDidFocus(()=>{this._hoverFocusedKey.set(!0)})),this._register(Se.onDidBlur(()=>{this._hoverFocusedKey.set(!1)})),this._setHoverData(void 0),this._layout(),this._editor.addContentWidget(this)}dispose(){var ne;super.dispose(),null===(ne=this._visibleData)||void 0===ne||ne.disposables.dispose(),this._editor.removeContentWidget(this)}getId(){return R.ID}static _applyDimensions(ne,_,ae){const _e="number"==typeof ae?`${ae}px`:ae;ne.style.width="number"==typeof _?`${_}px`:_,ne.style.height=_e}_setContentsDomNodeDimensions(ne,_){return R._applyDimensions(this._hover.contentsDomNode,ne,_)}_setContainerDomNodeDimensions(ne,_){return R._applyDimensions(this._hover.containerDomNode,ne,_)}_setHoverWidgetDimensions(ne,_){this._setContentsDomNodeDimensions(ne,_),this._setContainerDomNodeDimensions(ne,_),this._layoutContentWidget()}static _applyMaxDimensions(ne,_,ae){const _e="number"==typeof ae?`${ae}px`:ae;ne.style.maxWidth="number"==typeof _?`${_}px`:_,ne.style.maxHeight=_e}_setHoverWidgetMaxDimensions(ne,_){R._applyMaxDimensions(this._hover.contentsDomNode,ne,_),R._applyMaxDimensions(this._hover.containerDomNode,ne,_),this._hover.containerDomNode.style.setProperty("--vscode-hover-maxWidth","number"==typeof ne?`${ne}px`:ne),this._layoutContentWidget()}_hasHorizontalScrollbar(){const ne=this._hover.scrollbar.getScrollDimensions();return ne.scrollWidth>ne.width}_adjustContentsBottomPadding(){const ne=this._hover.contentsDomNode,_=`${this._hover.scrollbar.options.horizontalScrollbarSize}px`;ne.style.paddingBottom!==_&&(ne.style.paddingBottom=_)}_setAdjustedHoverWidgetDimensions(ne){this._setHoverWidgetMaxDimensions("none","none");const _=ne.width,ae=ne.height;this._setHoverWidgetDimensions(_,ae),this._hasHorizontalScrollbar()&&(this._adjustContentsBottomPadding(),this._setContentsDomNodeDimensions(_,ae-10))}_updateResizableNodeMaxDimensions(){var ne,_;const ae=null!==(ne=this._findMaximumRenderingWidth())&&void 0!==ne?ne:1/0,ge=null!==(_=this._findMaximumRenderingHeight())&&void 0!==_?_:1/0;this._resizableNode.maxSize=new f.Ro(ae,ge),this._setHoverWidgetMaxDimensions(ae,ge)}_resize(ne){var _,ae;R._lastDimensions=new f.Ro(ne.width,ne.height),this._setAdjustedHoverWidgetDimensions(ne),this._resizableNode.layout(ne.height,ne.width),this._updateResizableNodeMaxDimensions(),this._hover.scrollbar.scanDomNode(),this._editor.layoutContentWidget(this),null===(ae=null===(_=this._visibleData)||void 0===_?void 0:_.colorPicker)||void 0===ae||ae.layout()}_findAvailableSpaceVertically(){var ne;const _=null===(ne=this._visibleData)||void 0===ne?void 0:ne.showAtPosition;if(_)return 1===this._positionPreference?this._availableVerticalSpaceAbove(_):this._availableVerticalSpaceBelow(_)}_findMaximumRenderingHeight(){const ne=this._findAvailableSpaceVertically();if(!ne)return;let _=6;return Array.from(this._hover.contentsDomNode.children).forEach(ae=>{_+=ae.clientHeight}),this._hasHorizontalScrollbar()&&(_+=10),Math.min(ne,_)}_isHoverTextOverflowing(){this._hover.containerDomNode.style.setProperty("--vscode-hover-whiteSpace","nowrap"),this._hover.containerDomNode.style.setProperty("--vscode-hover-sourceWhiteSpace","nowrap");const ne=Array.from(this._hover.contentsDomNode.children).some(_=>_.scrollWidth>_.clientWidth);return this._hover.containerDomNode.style.removeProperty("--vscode-hover-whiteSpace"),this._hover.containerDomNode.style.removeProperty("--vscode-hover-sourceWhiteSpace"),ne}_findMaximumRenderingWidth(){if(this._editor&&this._editor.hasModel())return this._isHoverTextOverflowing()||this._hover.containerDomNode.clientWidth<(typeof this._contentWidth>"u"?0:this._contentWidth-2)?f.D6(document.body).width-14:this._hover.containerDomNode.clientWidth+2}isMouseGettingCloser(ne,_){if(!this._visibleData)return!1;if(typeof this._visibleData.initialMousePosX>"u"||typeof this._visibleData.initialMousePosY>"u")return this._visibleData.initialMousePosX=ne,this._visibleData.initialMousePosY=_,!1;const ae=f.i(this.getDomNode());typeof this._visibleData.closestMouseDistance>"u"&&(this._visibleData.closestMouseDistance=J(this._visibleData.initialMousePosX,this._visibleData.initialMousePosY,ae.left,ae.top,ae.width,ae.height));const ge=J(ne,_,ae.left,ae.top,ae.width,ae.height);return!(ge>this._visibleData.closestMouseDistance+4||(this._visibleData.closestMouseDistance=Math.min(this._visibleData.closestMouseDistance,ge),0))}_setHoverData(ne){var _;null===(_=this._visibleData)||void 0===_||_.disposables.dispose(),this._visibleData=ne,this._hoverVisibleKey.set(!!ne),this._hover.containerDomNode.classList.toggle("hidden",!ne)}_layout(){const{fontSize:ne,lineHeight:_}=this._editor.getOption(49),ae=this._hover.contentsDomNode;ae.style.fontSize=`${ne}px`,ae.style.lineHeight=""+_/ne,this._updateMaxDimensions()}_updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(_=>this._editor.applyFontInfo(_))}_updateContent(ne){const _=this._hover.contentsDomNode;_.style.paddingBottom="",_.textContent="",_.appendChild(ne)}_layoutContentWidget(){this._editor.layoutContentWidget(this),this._hover.onContentsChanged()}_updateMaxDimensions(){const ne=Math.max(this._editor.getLayoutInfo().height/4,250,R._lastDimensions.height),_=Math.max(.66*this._editor.getLayoutInfo().width,500,R._lastDimensions.width);this._setHoverWidgetMaxDimensions(_,ne)}_render(ne,_){this._setHoverData(_),this._updateFont(),this._updateContent(ne),this._updateMaxDimensions(),this.onContentsChanged(),this._editor.render()}getPosition(){var ne;return this._visibleData?{position:this._visibleData.showAtPosition,secondaryPosition:this._visibleData.showAtSecondaryPosition,positionAffinity:this._visibleData.isBeforeContent?3:void 0,preference:[null!==(ne=this._positionPreference)&&void 0!==ne?ne:1]}:null}showAt(ne,_){var ae,ge,_e,ue;if(!this._editor||!this._editor.hasModel())return;this._render(ne,_);const ve=f.wn(this._hover.containerDomNode);this._positionPreference=null!==(ae=this._findPositionPreference(ve,_.showAtPosition))&&void 0!==ae?ae:1,this.onContentsChanged(),_.stoleFocus&&this._hover.containerDomNode.focus(),null===(ge=_.colorPicker)||void 0===ge||ge.layout();const Se=(0,P.uX)(!0===this._configurationService.getValue("accessibility.verbosity.hover")&&this._accessibilityService.isScreenReaderOptimized(),null!==(ue=null===(_e=this._keybindingService.lookupKeybinding("editor.action.accessibleView"))||void 0===_e?void 0:_e.getAriaLabel())&&void 0!==ue?ue:"");Se&&(this._hover.contentsDomNode.ariaLabel=this._hover.contentsDomNode.textContent+", "+Se)}hide(){if(!this._visibleData)return;const ne=this._visibleData.stoleFocus||this._hoverFocusedKey.get();this._setHoverData(void 0),this._resizableNode.maxSize=new f.Ro(1/0,1/0),this._resizableNode.clearSashHoverState(),this._hoverFocusedKey.set(!1),this._editor.layoutContentWidget(this),ne&&this._editor.focus()}_removeConstraintsRenderNormally(){const ne=this._editor.getLayoutInfo();this._resizableNode.layout(ne.height,ne.width),this._setHoverWidgetDimensions("auto","auto")}_adjustHoverHeightForScrollbar(ne){var _;const ae=this._hover.containerDomNode,ge=this._hover.contentsDomNode,_e=null!==(_=this._findMaximumRenderingHeight())&&void 0!==_?_:1/0;this._setContainerDomNodeDimensions(f.w(ae),Math.min(_e,ne)),this._setContentsDomNodeDimensions(f.w(ge),Math.min(_e,ne-10))}setMinimumDimensions(ne){this._minimumSize=new f.Ro(Math.max(this._minimumSize.width,ne.width),Math.max(this._minimumSize.height,ne.height)),this._updateMinimumWidth()}_updateMinimumWidth(){const ne=typeof this._contentWidth>"u"?this._minimumSize.width:Math.min(this._contentWidth,this._minimumSize.width);this._resizableNode.minSize=new f.Ro(ne,this._minimumSize.height)}onContentsChanged(){var ne;this._removeConstraintsRenderNormally();const _=this._hover.containerDomNode;let ae=f.wn(_),ge=f.w(_);if(this._resizableNode.layout(ae,ge),this._setHoverWidgetDimensions(ge,ae),ae=f.wn(_),ge=f.w(_),this._contentWidth=ge,this._updateMinimumWidth(),this._resizableNode.layout(ae,ge),this._hasHorizontalScrollbar()&&(this._adjustContentsBottomPadding(),this._adjustHoverHeightForScrollbar(ae)),null!==(ne=this._visibleData)&&void 0!==ne&&ne.showAtPosition){const _e=f.wn(this._hover.containerDomNode);this._positionPreference=this._findPositionPreference(_e,this._visibleData.showAtPosition)}this._layoutContentWidget()}focus(){this._hover.containerDomNode.focus()}scrollUp(){const ne=this._hover.scrollbar.getScrollPosition().scrollTop,_=this._editor.getOption(49);this._hover.scrollbar.setScrollPosition({scrollTop:ne-_.lineHeight})}scrollDown(){const ne=this._hover.scrollbar.getScrollPosition().scrollTop,_=this._editor.getOption(49);this._hover.scrollbar.setScrollPosition({scrollTop:ne+_.lineHeight})}scrollLeft(){const ne=this._hover.scrollbar.getScrollPosition().scrollLeft;this._hover.scrollbar.setScrollPosition({scrollLeft:ne-30})}scrollRight(){const ne=this._hover.scrollbar.getScrollPosition().scrollLeft;this._hover.scrollbar.setScrollPosition({scrollLeft:ne+30})}pageUp(){const ne=this._hover.scrollbar.getScrollPosition().scrollTop,_=this._hover.scrollbar.getScrollDimensions().height;this._hover.scrollbar.setScrollPosition({scrollTop:ne-_})}pageDown(){const ne=this._hover.scrollbar.getScrollPosition().scrollTop,_=this._hover.scrollbar.getScrollDimensions().height;this._hover.scrollbar.setScrollPosition({scrollTop:ne+_})}goToTop(){this._hover.scrollbar.setScrollPosition({scrollTop:0})}goToBottom(){this._hover.scrollbar.setScrollPosition({scrollTop:this._hover.scrollbar.getScrollDimensions().scrollHeight})}};j.ID="editor.contrib.resizableContentHoverWidget",j._lastDimensions=new f.Ro(0,0),j=R=N([A(1,d.i6),A(2,w.Ui),A(3,D.F),A(4,u.d)],j);let $=class extends y.JT{get hasContent(){return this._hasContent}constructor(ne){super(),this._keybindingService=ne,this._hasContent=!1,this.hoverElement=O("div.hover-row.status-bar"),this.actionsElement=f.R3(this.hoverElement,O("div.actions"))}addAction(ne){const _=this._keybindingService.lookupKeybinding(ne.commandId),ae=_?_.getLabel():null;return this._hasContent=!0,this._register(P.Sr.render(this.actionsElement,ne,ae))}append(ne){const _=f.R3(this.actionsElement,ne);return this._hasContent=!0,_}};$=N([A(0,u.d)],$);class K{get anchor(){return this._anchor}set anchor(ne){this._anchor=ne}get shouldFocus(){return this._shouldFocus}set shouldFocus(ne){this._shouldFocus=ne}get source(){return this._source}set source(ne){this._source=ne}get insistOnKeepingHoverVisible(){return this._insistOnKeepingHoverVisible}set insistOnKeepingHoverVisible(ne){this._insistOnKeepingHoverVisible=ne}constructor(ne,_){this._editor=ne,this._participants=_,this._anchor=null,this._shouldFocus=!1,this._source=0,this._insistOnKeepingHoverVisible=!1}static _getLineDecorations(ne,_){if(1!==_.type&&!_.supportsMarkerHover)return[];const ae=ne.getModel(),ge=_.range.startLineNumber;if(ge>ae.getLineCount())return[];const _e=ae.getLineMaxColumn(ge);return ne.getLineDecorations(ge).filter(ue=>{if(ue.options.isWholeLine)return!0;const ve=ue.range.startLineNumber===ge?ue.range.startColumn:1,Ie=ue.range.endLineNumber===ge?ue.range.endColumn:_e;if(ue.options.showIfCollapsed){if(ve>_.range.startColumn+1||_.range.endColumn-1>Ie)return!1}else if(ve>_.range.startColumn||_.range.endColumn>Ie)return!1;return!0})}computeAsync(ne){const _=this._anchor;if(!this._editor.hasModel()||!_)return g.Aq.EMPTY;const ae=K._getLineDecorations(this._editor,_);return g.Aq.merge(this._participants.map(ge=>ge.computeAsync?ge.computeAsync(_,ae,ne):g.Aq.EMPTY))}computeSync(){if(!this._editor.hasModel()||!this._anchor)return[];const ne=K._getLineDecorations(this._editor,this._anchor);let _=[];for(const ae of this._participants)_=_.concat(ae.computeSync(this._anchor,ne));return(0,r.kX)(_)}}function J(te,ne,_,ae,ge,_e){const ve=ae+_e/2,Ie=Math.max(Math.abs(te-(_+ge/2))-ge/2,0),Se=Math.max(Math.abs(ne-ve)-_e/2,0);return Math.sqrt(Ie*Ie+Se*Se)}},10433:(Xe,we,e)=>{e.d(we,{R8:()=>L});var f=e(85328),P=e(87618),r=e(17967),y=e(8256),v=e(55763),S=function(u,g,i,d){return new(i||(i=Promise))(function(m,l){function I(N){try{D(d.next(N))}catch(A){l(A)}}function w(N){try{D(d.throw(N))}catch(A){l(A)}}function D(N){N.done?m(N.value):function a(m){return m instanceof i?m:new i(function(l){l(m)})}(N.value).then(I,w)}D((d=d.apply(u,g||[])).next())})};class T{constructor(g,i,d){this.provider=g,this.hover=i,this.ordinal=d}}function L(u,g,i,d){const m=u.ordered(g).map((l,I)=>function E(u,g,i,d,a){return S(this,void 0,void 0,function*(){try{const m=yield Promise.resolve(u.provideHover(i,d,a));if(m&&function c(u){return typeof u.range<"u"&&typeof u.contents<"u"&&u.contents&&u.contents.length>0}(m))return new T(u,m,g)}catch(m){(0,r.Cp)(m)}})}(l,I,g,i,d));return f.Aq.fromPromises(m).coalesce()}(0,y.sb)("_executeHoverProvider",(u,g,i)=>function p(u,g,i,d){return L(u,g,i,d).map(a=>a.hover).toPromise()}(u.get(v.p).hoverProvider,g,i,P.T.None))},30015:(Xe,we,e)=>{e.d(we,{E:()=>le});var f=e(48994),P=e(78694),r=e(8256),y=e(96726),v=e(15446),S=e(74315),T=e(96788),E=e(10604),L=e(20274),p=e(31738),c=e(10878),u=e(40419),g=e(69955),i=e(98629);const d=L.$;let a=(()=>{class Ut extends P.JT{constructor(It,it,qe){super(),this._renderDisposeables=this._register(new P.SL),this._editor=It,this._isVisible=!1,this._messages=[],this._hover=this._register(new i.c8),this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible),this._markdownRenderer=this._register(new u.$({editor:this._editor},it,qe)),this._computer=new m(this._editor),this._hoverOperation=this._register(new g.H(this._editor,this._computer)),this._register(this._hoverOperation.onResult(Ze=>{this._withResult(Ze.value)})),this._register(this._editor.onDidChangeModelDecorations(()=>this._onModelDecorationsChanged())),this._register(this._editor.onDidChangeConfiguration(Ze=>{Ze.hasChanged(49)&&this._updateFont()})),this._editor.addOverlayWidget(this)}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return Ut.ID}getDomNode(){return this._hover.containerDomNode}getPosition(){return null}_updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(it=>this._editor.applyFontInfo(it))}_onModelDecorationsChanged(){this._isVisible&&(this._hoverOperation.cancel(),this._hoverOperation.start(0))}startShowingAt(It){this._computer.lineNumber!==It&&(this._hoverOperation.cancel(),this.hide(),this._computer.lineNumber=It,this._hoverOperation.start(0))}hide(){this._computer.lineNumber=-1,this._hoverOperation.cancel(),this._isVisible&&(this._isVisible=!1,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible))}_withResult(It){this._messages=It,this._messages.length>0?this._renderMessages(this._computer.lineNumber,this._messages):this.hide()}_renderMessages(It,it){this._renderDisposeables.clear();const qe=document.createDocumentFragment();for(const Ze of it){const Ee=d("div.hover-row.markdown-hover"),Te=L.R3(Ee,d("div.hover-contents")),Ae=this._renderDisposeables.add(this._markdownRenderer.render(Ze.value));Te.appendChild(Ae.element),qe.appendChild(Ee)}this._updateContents(qe),this._showAt(It)}_updateContents(It){this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(It),this._updateFont()}_showAt(It){this._isVisible||(this._isVisible=!0,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible));const it=this._editor.getLayoutInfo(),qe=this._editor.getTopForLineNumber(It),Ze=this._editor.getScrollTop(),Ee=this._editor.getOption(65),Ae=qe-Ze-(this._hover.containerDomNode.clientHeight-Ee)/2;this._hover.containerDomNode.style.left=`${it.glyphMarginLeft+it.glyphMarginWidth}px`,this._hover.containerDomNode.style.top=`${Math.max(Math.round(Ae),0)}px`}}return Ut.ID="editor.contrib.modesGlyphHoverWidget",Ut})();class m{get lineNumber(){return this._lineNumber}set lineNumber(At){this._lineNumber=At}constructor(At){this._editor=At,this._lineNumber=-1}computeSync(){const At=qe=>({value:qe}),It=this._editor.getLineDecorations(this._lineNumber),it=[];if(!It)return it;for(const qe of It){if(!qe.options.glyphMarginClassName)continue;const Ze=qe.options.glyphMarginHoverMessage;!Ze||(0,c.CP)(Ze)||it.push(...(0,p._2)(Ze).map(At))}return it}}var l=e(12065),I=e(6628),w=e(99745),D=e(23527),N=e(9282),A=e(46868),k=e(85328),R=e(17967),O=e(9001),W=e(55763),z=e(73079),U=e(97538),ee=e(63314),B=e(35366),G=e(50984),se=e(37190),j=e(17259),$=e(51367),J=function(Ut,At){return function(It,it){At(It,it,Ut)}};const te=L.$;class ne{constructor(At,It,it){this.owner=At,this.range=It,this.marker=it}isValidForHoverAnchor(At){return 1===At.type&&this.range.startColumn<=At.range.startColumn&&this.range.endColumn>=At.range.endColumn}}const _={type:1,filter:{include:B.yN.QuickFix},triggerAction:B.aQ.QuickFixHover};let ae=class{constructor(At,It,it,qe){this._editor=At,this._markerDecorationsService=It,this._openerService=it,this._languageFeaturesService=qe,this.hoverOrdinal=1,this.recentMarkerCodeActionsInfo=void 0}computeSync(At,It){if(!this._editor.hasModel()||1!==At.type&&!At.supportsMarkerHover)return[];const it=this._editor.getModel(),qe=At.range.startLineNumber,Ze=it.getLineMaxColumn(qe),Ee=[];for(const Te of It){const Ae=Te.range.startLineNumber===qe?Te.range.startColumn:1,ht=Te.range.endLineNumber===qe?Te.range.endColumn:Ze,yt=this._markerDecorationsService.getMarker(it.uri,Te);if(!yt)continue;const Dt=new y.e(At.range.startLineNumber,Ae,At.range.startLineNumber,ht);Ee.push(new ne(this,Dt,yt))}return Ee}renderHoverParts(At,It){if(!It.length)return P.JT.None;const it=new P.SL;It.forEach(Ze=>At.fragment.appendChild(this.renderMarkerHover(Ze,it)));const qe=1===It.length?It[0]:It.sort((Ze,Ee)=>j.ZL.compare(Ze.marker.severity,Ee.marker.severity))[0];return this.renderMarkerStatusbar(At,qe,it),it}renderMarkerHover(At,It){const it=te("div.hover-row"),qe=L.R3(it,te("div.marker.hover-contents")),{source:Ze,message:Ee,code:Te,relatedInformation:Ae}=At.marker;this._editor.applyFontInfo(qe);const ht=L.R3(qe,te("span"));if(ht.style.whiteSpace="pre-wrap",ht.innerText=Ee,Ze||Te)if(Te&&"string"!=typeof Te){const yt=te("span");Ze&&(L.R3(yt,te("span")).innerText=Ze);const Dt=L.R3(yt,te("a.code-link"));Dt.setAttribute("href",Te.target.toString()),It.add(L.nm(Dt,"click",Rt=>{this._openerService.open(Te.target,{allowCommands:!0}),Rt.preventDefault(),Rt.stopPropagation()})),L.R3(Dt,te("span")).innerText=Te.value;const gt=L.R3(qe,yt);gt.style.opacity="0.6",gt.style.paddingLeft="6px"}else{const yt=L.R3(qe,te("span"));yt.style.opacity="0.6",yt.style.paddingLeft="6px",yt.innerText=Ze&&Te?`${Ze}(${Te})`:Ze||`(${Te})`}if((0,p.Of)(Ae))for(const{message:yt,resource:Dt,startLineNumber:Ot,startColumn:gt}of Ae){const Rt=L.R3(qe,te("div"));Rt.style.marginTop="8px";const Zt=L.R3(Rt,te("a"));Zt.innerText=`${(0,O.EZ)(Dt)}(${Ot}, ${gt}): `,Zt.style.cursor="pointer",It.add(L.nm(Zt,"click",ci=>{ci.stopPropagation(),ci.preventDefault(),this._openerService&&this._openerService.open(Dt,{fromUserGesture:!0,editorOptions:{selection:{startLineNumber:Ot,startColumn:gt}}}).catch(R.dL)}));const Ci=L.R3(Rt,te("span"));Ci.innerText=yt,this._editor.applyFontInfo(Ci)}return it}renderMarkerStatusbar(At,It,it){if((It.marker.severity===j.ZL.Error||It.marker.severity===j.ZL.Warning||It.marker.severity===j.ZL.Info)&&At.statusBar.addAction({label:se.NC("view problem","View Problem"),commandId:G.v.ID,run:()=>{var qe;At.hide(),null===(qe=G.c.get(this._editor))||void 0===qe||qe.showAtMarker(It.marker),this._editor.focus()}}),!this._editor.getOption(89)){const qe=At.statusBar.append(te("div"));this.recentMarkerCodeActionsInfo&&(j.H0.makeKey(this.recentMarkerCodeActionsInfo.marker)===j.H0.makeKey(It.marker)?this.recentMarkerCodeActionsInfo.hasCodeActions||(qe.textContent=se.NC("noQuickFixes","No quick fixes available")):this.recentMarkerCodeActionsInfo=void 0);const Ze=this.recentMarkerCodeActionsInfo&&!this.recentMarkerCodeActionsInfo.hasCodeActions?P.JT.None:it.add((0,k.Vg)(()=>qe.textContent=se.NC("checkingForQuickFixes","Checking for quick fixes..."),200));qe.textContent||(qe.textContent=String.fromCharCode(160));const Ee=this.getCodeActions(It.marker);it.add((0,P.OF)(()=>Ee.cancel())),Ee.then(Te=>{if(Ze.dispose(),this.recentMarkerCodeActionsInfo={marker:It.marker,hasCodeActions:Te.validActions.length>0},!this.recentMarkerCodeActionsInfo.hasCodeActions)return Te.dispose(),void(qe.textContent=se.NC("noQuickFixes","No quick fixes available"));qe.style.display="none";let Ae=!1;it.add((0,P.OF)(()=>{Ae||Te.dispose()})),At.statusBar.addAction({label:se.NC("quick fixes","Quick Fix..."),commandId:U.cz,run:ht=>{Ae=!0;const yt=ee.G.get(this._editor),Dt=L.i(ht);At.hide(),yt?.showCodeActions(_,Te,{x:Dt.left,y:Dt.top,width:Dt.width,height:Dt.height})}})},R.dL)}}getCodeActions(At){return(0,k.PG)(It=>(0,U.aI)(this._languageFeaturesService.codeActionProvider,this._editor.getModel(),new y.e(At.startLineNumber,At.startColumn,At.endLineNumber,At.endColumn),_,$.Ex.None,It))}};ae=function(Ut,At,It,it){var Ee,qe=arguments.length,Ze=qe<3?At:null===it?it=Object.getOwnPropertyDescriptor(At,It):it;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ze=Reflect.decorate(Ut,At,It,it);else for(var Te=Ut.length-1;Te>=0;Te--)(Ee=Ut[Te])&&(Ze=(qe<3?Ee(Ze):qe>3?Ee(At,It,Ze):Ee(At,It))||Ze);return qe>3&&Ze&&Object.defineProperty(At,It,Ze),Ze}([J(1,z.i),J(2,I.v4),J(3,W.p)],ae);var ge=e(27504),_e=e(21536),ue=e(93379),ve=e.n(ue),Ie=e(7795),Se=e.n(Ie),Ve=e(90569),De=e.n(Ve),ye=e(3565),oe=e.n(ye),Y=e(19216),x=e.n(Y),F=e(44589),ie=e.n(F),Ce=e(41738),ke={};ke.styleTagTransform=ie(),ke.setAttributes=oe(),ke.insert=De().bind(null,"head"),ke.domAPI=Se(),ke.insertStyleElement=x(),ve()(Ce.Z,ke);var pe,be=function(Ut,At){return function(It,it){At(It,it,Ut)}};let le=pe=class{static get(At){return At.getContribution(pe.ID)}constructor(At,It,it,qe,Ze){this._editor=At,this._instantiationService=It,this._openerService=it,this._languageService=qe,this._keybindingService=Ze,this._toUnhook=new P.SL,this._hoverActivatedByColorDecoratorClick=!1,this._isMouseDown=!1,this._hoverClicked=!1,this._contentWidget=null,this._glyphWidget=null,this._hookEvents(),this._didChangeConfigurationHandler=this._editor.onDidChangeConfiguration(Ee=>{Ee.hasChanged(59)&&(this._unhookEvents(),this._hookEvents())})}_hookEvents(){const It=this._editor.getOption(59);this._isHoverEnabled=It.enabled,this._isHoverSticky=It.sticky,this._isHoverEnabled?(this._toUnhook.add(this._editor.onMouseDown(it=>this._onEditorMouseDown(it))),this._toUnhook.add(this._editor.onMouseUp(it=>this._onEditorMouseUp(it))),this._toUnhook.add(this._editor.onMouseMove(it=>this._onEditorMouseMove(it))),this._toUnhook.add(this._editor.onKeyDown(it=>this._onKeyDown(it)))):(this._toUnhook.add(this._editor.onMouseMove(it=>this._onEditorMouseMove(it))),this._toUnhook.add(this._editor.onKeyDown(it=>this._onKeyDown(it)))),this._toUnhook.add(this._editor.onMouseLeave(it=>this._onEditorMouseLeave(it))),this._toUnhook.add(this._editor.onDidChangeModel(()=>this._hideWidgets())),this._toUnhook.add(this._editor.onDidScrollChange(it=>this._onEditorScrollChanged(it)))}_unhookEvents(){this._toUnhook.clear()}_onEditorScrollChanged(At){(At.scrollTopChanged||At.scrollLeftChanged)&&this._hideWidgets()}_onEditorMouseDown(At){var It;this._isMouseDown=!0;const it=At.target;9!==it.type||it.detail!==E.Hb.ID?12===it.type&&it.detail===a.ID||(12!==it.type&&(this._hoverClicked=!1),null!==(It=this._contentWidget)&&void 0!==It&&It.widget.isResizing||this._hideWidgets()):this._hoverClicked=!0}_onEditorMouseUp(At){this._isMouseDown=!1}_onEditorMouseLeave(At){var It,it;null!==(It=this._contentWidget)&&void 0!==It&&It.widget.isResizing||null!==(it=this._contentWidget)&&void 0!==it&&it.containsNode(At.event.browserEvent.relatedTarget)||this._hideWidgets()}_onEditorMouseMove(At){var It,it,qe,Ze,Ee,Te,Ae,ht,yt,Dt,Ot;const gt=At.target;if(null!==(It=this._contentWidget)&&void 0!==It&&It.isFocused||null!==(it=this._contentWidget)&&void 0!==it&&it.isResizing||this._isMouseDown&&this._hoverClicked||this._isHoverSticky&&9===gt.type&&gt.detail===E.Hb.ID||this._isHoverSticky&&null!==(qe=this._contentWidget)&&void 0!==qe&&qe.containsNode(null===(Ze=At.event.browserEvent.view)||void 0===Ze?void 0:Ze.document.activeElement)&&(null===(Te=null===(Ee=At.event.browserEvent.view)||void 0===Ee?void 0:Ee.getSelection())||void 0===Te||!Te.isCollapsed)||!this._isHoverSticky&&9===gt.type&&gt.detail===E.Hb.ID&&null!==(Ae=this._contentWidget)&&void 0!==Ae&&Ae.isColorPickerVisible||this._isHoverSticky&&12===gt.type&&gt.detail===a.ID||this._isHoverSticky&&null!==(ht=this._contentWidget)&&void 0!==ht&&ht.isVisibleFromKeyboard)return;const Rt=null===(yt=gt.element)||void 0===yt?void 0:yt.classList.contains("colorpicker-color-decoration"),Zt=this._editor.getOption(145);if(Rt&&("click"===Zt&&!this._hoverActivatedByColorDecoratorClick||"hover"===Zt&&!this._isHoverEnabled||"clickAndHover"===Zt&&!this._isHoverEnabled&&!this._hoverActivatedByColorDecoratorClick)||!(Rt||this._isHoverEnabled||this._hoverActivatedByColorDecoratorClick))this._hideWidgets();else{if(!this._getOrCreateContentWidget().maybeShowAt(At))return 2===gt.type&&gt.position?(null===(Ot=this._contentWidget)||void 0===Ot||Ot.hide(),this._glyphWidget||(this._glyphWidget=new a(this._editor,this._languageService,this._openerService)),void this._glyphWidget.startShowingAt(gt.position.lineNumber)):void this._hideWidgets();null===(Dt=this._glyphWidget)||void 0===Dt||Dt.hide()}}_onKeyDown(At){var It;if(!this._editor.hasModel())return;const it=this._keybindingService.softDispatch(At,this._editor.getDomNode()),qe=1===it.kind||2===it.kind&&"editor.action.showHover"===it.commandId&&(null===(It=this._contentWidget)||void 0===It?void 0:It.isVisible);5!==At.keyCode&&6!==At.keyCode&&57!==At.keyCode&&4!==At.keyCode&&!qe&&this._hideWidgets()}_hideWidgets(){var At,It,it;this._isMouseDown&&this._hoverClicked&&null!==(At=this._contentWidget)&&void 0!==At&&At.isColorPickerVisible||ge.QG.dropDownVisible||(this._hoverActivatedByColorDecoratorClick=!1,this._hoverClicked=!1,null===(It=this._glyphWidget)||void 0===It||It.hide(),null===(it=this._contentWidget)||void 0===it||it.hide())}_getOrCreateContentWidget(){return this._contentWidget||(this._contentWidget=this._instantiationService.createInstance(E.hT,this._editor)),this._contentWidget}showContentHover(At,It,it,qe,Ze=!1){this._hoverActivatedByColorDecoratorClick=Ze,this._getOrCreateContentWidget().startShowingAtRange(At,It,it,qe)}focus(){var At;null===(At=this._contentWidget)||void 0===At||At.focus()}scrollUp(){var At;null===(At=this._contentWidget)||void 0===At||At.scrollUp()}scrollDown(){var At;null===(At=this._contentWidget)||void 0===At||At.scrollDown()}scrollLeft(){var At;null===(At=this._contentWidget)||void 0===At||At.scrollLeft()}scrollRight(){var At;null===(At=this._contentWidget)||void 0===At||At.scrollRight()}pageUp(){var At;null===(At=this._contentWidget)||void 0===At||At.pageUp()}pageDown(){var At;null===(At=this._contentWidget)||void 0===At||At.pageDown()}goToTop(){var At;null===(At=this._contentWidget)||void 0===At||At.goToTop()}goToBottom(){var At;null===(At=this._contentWidget)||void 0===At||At.goToBottom()}get isColorPickerVisible(){var At;return null===(At=this._contentWidget)||void 0===At?void 0:At.isColorPickerVisible}get isHoverVisible(){var At;return null===(At=this._contentWidget)||void 0===At?void 0:At.isVisible}dispose(){var At,It;this._unhookEvents(),this._toUnhook.dispose(),this._didChangeConfigurationHandler.dispose(),null===(At=this._glyphWidget)||void 0===At||At.dispose(),null===(It=this._contentWidget)||void 0===It||It.dispose()}};le.ID="editor.contrib.hover",le=pe=function(Ut,At,It,it){var Ee,qe=arguments.length,Ze=qe<3?At:null===it?it=Object.getOwnPropertyDescriptor(At,It):it;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ze=Reflect.decorate(Ut,At,It,it);else for(var Te=Ut.length-1;Te>=0;Te--)(Ee=Ut[Te])&&(Ze=(qe<3?Ee(Ze):qe>3?Ee(At,It,Ze):Ee(At,It))||Ze);return qe>3&&Ze&&Object.defineProperty(At,It,Ze),Ze}([be(1,l.TG),be(2,I.v4),be(3,S.O),be(4,_e.d)],le),(0,r._K)(le.ID,le,2),(0,r.Qr)(class Fe extends r.R6{constructor(){super({id:"editor.action.showHover",label:se.NC({key:"showOrFocusHover",comment:["Label for action that will trigger the showing/focusing of a hover in the editor.","If the hover is not visible, it will show the hover.","This allows for users to show the hover without using the mouse.","If the hover is already visible, it will take focus."]},"Show or Focus Hover"),description:{description:"Show or Focus Hover",args:[{name:"args",schema:{type:"object",properties:{focus:{description:"Controls if when triggered with the keyboard, the hover should take focus immediately.",type:"boolean",default:!1}}}}]},alias:"Show or Focus Hover",precondition:void 0,kbOpts:{kbExpr:v.u.editorTextFocus,primary:(0,f.gx)(2089,2087),weight:100}})}run(At,It,it){if(!It.hasModel())return;const qe=le.get(It);if(!qe)return;const Ze=It.getPosition(),Ee=new y.e(Ze.lineNumber,Ze.column,Ze.lineNumber,Ze.column),Te=2===It.getOption(2)||!!it?.focus;qe.isHoverVisible?qe.focus():qe.showContentHover(Ee,1,1,Te)}}),(0,r.Qr)(class He extends r.R6{constructor(){super({id:"editor.action.showDefinitionPreviewHover",label:se.NC({key:"showDefinitionPreviewHover",comment:["Label for action that will trigger the showing of definition preview hover in the editor.","This allows for users to show the definition preview hover without using the mouse."]},"Show Definition Preview Hover"),alias:"Show Definition Preview Hover",precondition:void 0})}run(At,It){const it=le.get(It);if(!it)return;const qe=It.getPosition();if(!qe)return;const Ze=new y.e(qe.lineNumber,qe.column,qe.lineNumber,qe.column),Ee=T.S.get(It);Ee&&Ee.startFindDefinitionFromCursor(qe).then(()=>{it.showContentHover(Ze,1,1,!0)})}}),(0,r.Qr)(class Je extends r.R6{constructor(){super({id:"editor.action.scrollUpHover",label:se.NC({key:"scrollUpHover",comment:["Action that allows to scroll up in the hover widget with the up arrow when the hover widget is focused."]},"Scroll Up Hover"),alias:"Scroll Up Hover",precondition:v.u.hoverFocused,kbOpts:{kbExpr:v.u.hoverFocused,primary:16,weight:100}})}run(At,It){const it=le.get(It);it&&it.scrollUp()}}),(0,r.Qr)(class ot extends r.R6{constructor(){super({id:"editor.action.scrollDownHover",label:se.NC({key:"scrollDownHover",comment:["Action that allows to scroll down in the hover widget with the up arrow when the hover widget is focused."]},"Scroll Down Hover"),alias:"Scroll Down Hover",precondition:v.u.hoverFocused,kbOpts:{kbExpr:v.u.hoverFocused,primary:18,weight:100}})}run(At,It){const it=le.get(It);it&&it.scrollDown()}}),(0,r.Qr)(class lt extends r.R6{constructor(){super({id:"editor.action.scrollLeftHover",label:se.NC({key:"scrollLeftHover",comment:["Action that allows to scroll left in the hover widget with the left arrow when the hover widget is focused."]},"Scroll Left Hover"),alias:"Scroll Left Hover",precondition:v.u.hoverFocused,kbOpts:{kbExpr:v.u.hoverFocused,primary:15,weight:100}})}run(At,It){const it=le.get(It);it&&it.scrollLeft()}}),(0,r.Qr)(class mt extends r.R6{constructor(){super({id:"editor.action.scrollRightHover",label:se.NC({key:"scrollRightHover",comment:["Action that allows to scroll right in the hover widget with the right arrow when the hover widget is focused."]},"Scroll Right Hover"),alias:"Scroll Right Hover",precondition:v.u.hoverFocused,kbOpts:{kbExpr:v.u.hoverFocused,primary:17,weight:100}})}run(At,It){const it=le.get(It);it&&it.scrollRight()}}),(0,r.Qr)(class ft extends r.R6{constructor(){super({id:"editor.action.pageUpHover",label:se.NC({key:"pageUpHover",comment:["Action that allows to page up in the hover widget with the page up command when the hover widget is focused."]},"Page Up Hover"),alias:"Page Up Hover",precondition:v.u.hoverFocused,kbOpts:{kbExpr:v.u.hoverFocused,primary:11,secondary:[528],weight:100}})}run(At,It){const it=le.get(It);it&&it.pageUp()}}),(0,r.Qr)(class Lt extends r.R6{constructor(){super({id:"editor.action.pageDownHover",label:se.NC({key:"pageDownHover",comment:["Action that allows to page down in the hover widget with the page down command when the hover widget is focused."]},"Page Down Hover"),alias:"Page Down Hover",precondition:v.u.hoverFocused,kbOpts:{kbExpr:v.u.hoverFocused,primary:12,secondary:[530],weight:100}})}run(At,It){const it=le.get(It);it&&it.pageDown()}}),(0,r.Qr)(class Tt extends r.R6{constructor(){super({id:"editor.action.goToTopHover",label:se.NC({key:"goToTopHover",comment:["Action that allows to go to the top of the hover widget with the home command when the hover widget is focused."]},"Go To Top Hover"),alias:"Go To Bottom Hover",precondition:v.u.hoverFocused,kbOpts:{kbExpr:v.u.hoverFocused,primary:14,secondary:[2064],weight:100}})}run(At,It){const it=le.get(It);it&&it.goToTop()}}),(0,r.Qr)(class Mt extends r.R6{constructor(){super({id:"editor.action.goToBottomHover",label:se.NC({key:"goToBottomHover",comment:["Action that allows to go to the bottom in the hover widget with the end command when the hover widget is focused."]},"Go To Bottom Hover"),alias:"Go To Bottom Hover",precondition:v.u.hoverFocused,kbOpts:{kbExpr:v.u.hoverFocused,primary:13,secondary:[2066],weight:100}})}run(At,It){const it=le.get(It);it&&it.goToBottom()}}),N.Ae.register(A.D5),N.Ae.register(ae),(0,D.Ic)((Ut,At)=>{const It=Ut.getColor(w.CNo);It&&(At.addRule(`.monaco-editor .monaco-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid ${It.transparent(.5)}; }`),At.addRule(`.monaco-editor .monaco-hover hr { border-top: 1px solid ${It.transparent(.5)}; }`),At.addRule(`.monaco-editor .monaco-hover hr { border-bottom: 0px solid ${It.transparent(.5)}; }`))})},69955:(Xe,we,e)=>{e.d(we,{H:()=>E});var f=e(85328),P=e(17967),r=e(58178),y=e(78694);class T{constructor(p,c,u){this.value=p,this.isComplete=c,this.hasLoadingMessage=u}}class E extends y.JT{constructor(p,c){super(),this._editor=p,this._computer=c,this._onResult=this._register(new r.Q5),this.onResult=this._onResult.event,this._firstWaitScheduler=this._register(new f.pY(()=>this._triggerAsyncComputation(),0)),this._secondWaitScheduler=this._register(new f.pY(()=>this._triggerSyncComputation(),0)),this._loadingMessageScheduler=this._register(new f.pY(()=>this._triggerLoadingMessage(),0)),this._state=0,this._asyncIterable=null,this._asyncIterableDone=!1,this._result=[]}dispose(){this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),super.dispose()}get _hoverTime(){return this._editor.getOption(59).delay}get _firstWaitTime(){return this._hoverTime/2}get _secondWaitTime(){return this._hoverTime-this._firstWaitTime}get _loadingMessageTime(){return 3*this._hoverTime}_setState(p,c=!0){this._state=p,c&&this._fireResult()}_triggerAsyncComputation(){var L,p,c,u;this._setState(2),this._secondWaitScheduler.schedule(this._secondWaitTime),this._computer.computeAsync?(this._asyncIterableDone=!1,this._asyncIterable=(0,f.zS)(p=>this._computer.computeAsync(p)),L=this,p=void 0,u=function*(){var p,c,u,g;try{try{for(var a,i=!0,d=function(L){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var c,p=L[Symbol.asyncIterator];return p?p.call(L):(L="function"==typeof __values?__values(L):L[Symbol.iterator](),c={},u("next"),u("throw"),u("return"),c[Symbol.asyncIterator]=function(){return this},c);function u(i){c[i]=L[i]&&function(d){return new Promise(function(a,m){!function g(i,d,a,m){Promise.resolve(m).then(function(l){i({value:l,done:a})},d)}(a,m,(d=L[i](d)).done,d.value)})}}}(this._asyncIterable);!(p=(a=yield d.next()).done);i=!0)i=!1,(g=a.value)&&(this._result.push(g),this._fireResult())}catch(m){c={error:m}}finally{try{!i&&!p&&(u=d.return)&&(yield u.call(d))}finally{if(c)throw c.error}}this._asyncIterableDone=!0,(3===this._state||4===this._state)&&this._setState(0)}catch(m){(0,P.dL)(m)}},new((c=void 0)||(c=Promise))(function(i,d){function a(I){try{l(u.next(I))}catch(w){d(w)}}function m(I){try{l(u.throw(I))}catch(w){d(w)}}function l(I){I.done?i(I.value):function g(i){return i instanceof c?i:new c(function(d){d(i)})}(I.value).then(a,m)}l((u=u.apply(L,p||[])).next())})):this._asyncIterableDone=!0}_triggerSyncComputation(){this._computer.computeSync&&(this._result=this._result.concat(this._computer.computeSync())),this._setState(this._asyncIterableDone?0:3)}_triggerLoadingMessage(){3===this._state&&this._setState(4)}_fireResult(){if(1===this._state||2===this._state)return;const p=0===this._state,c=4===this._state;this._onResult.fire(new T(this._result.slice(0),p,c))}start(p){if(0===p)0===this._state&&(this._setState(1),this._firstWaitScheduler.schedule(this._firstWaitTime),this._loadingMessageScheduler.schedule(this._loadingMessageTime));else switch(this._state){case 0:this._triggerAsyncComputation(),this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break;case 2:this._secondWaitScheduler.cancel(),this._triggerSyncComputation()}}cancel(){this._firstWaitScheduler.cancel(),this._secondWaitScheduler.cancel(),this._loadingMessageScheduler.cancel(),this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),this._result=[],this._setState(0,!1)}}},9282:(Xe,we,e)=>{e.d(we,{Ae:()=>r,Qj:()=>f,YM:()=>P});class f{constructor(v,S,T,E){this.priority=v,this.range=S,this.initialMousePosX=T,this.initialMousePosY=E,this.type=1}equals(v){return 1===v.type&&this.range.equalsRange(v.range)}canAdoptVisibleHover(v,S){return 1===v.type&&S.lineNumber===this.range.startLineNumber}}class P{constructor(v,S,T,E,L,p){this.priority=v,this.owner=S,this.range=T,this.initialMousePosX=E,this.initialMousePosY=L,this.supportsMarkerHover=p,this.type=2}equals(v){return 2===v.type&&this.owner===v.owner}canAdoptVisibleHover(v,S){return 2===v.type&&this.owner===v.owner}}const r=new class{constructor(){this._participants=[]}register(v){this._participants.push(v)}getAll(){return this._participants}}},46868:(Xe,we,e)=>{e.d(we,{D5:()=>I,c:()=>w,hU:()=>l});var f=e(20274),P=e(31738),r=e(85328),y=e(10878),v=e(78694),S=e(40419),T=e(68678),E=e(96726),L=e(74315),p=e(10433),c=e(37190),u=e(47358),g=e(6628),i=e(55763),a=function(D,N){return function(A,k){N(A,k,D)}};const m=f.$;class l{constructor(N,A,k,R,O){this.owner=N,this.range=A,this.contents=k,this.isBeforeContent=R,this.ordinal=O}isValidForHoverAnchor(N){return 1===N.type&&this.range.startColumn<=N.range.startColumn&&this.range.endColumn>=N.range.endColumn}}let I=class{constructor(N,A,k,R,O){this._editor=N,this._languageService=A,this._openerService=k,this._configurationService=R,this._languageFeaturesService=O,this.hoverOrdinal=3}createLoadingMessage(N){return new l(this,N.range,[(new y.W5).appendText(c.NC("modesContentHover.loading","Loading..."))],!1,2e3)}computeSync(N,A){if(!this._editor.hasModel()||1!==N.type)return[];const k=this._editor.getModel(),R=N.range.startLineNumber,O=k.getLineMaxColumn(R),W=[];let z=1e3;const U=k.getLineLength(R),ee=k.getLanguageIdAtPosition(N.range.startLineNumber,N.range.startColumn),B=this._editor.getOption(115),G=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:ee});let se=!1;B>=0&&U>B&&N.range.startColumn>=B&&(se=!0,W.push(new l(this,N.range,[{value:c.NC("stopped rendering","Rendering paused for long line for performance reasons. This can be configured via `editor.stopRenderingLineAfter`.")}],!1,z++))),!se&&"number"==typeof G&&U>=G&&W.push(new l(this,N.range,[{value:c.NC("too many characters","Tokenization is skipped for long lines for performance reasons. This can be configured via `editor.maxTokenizationLineLength`.")}],!1,z++));let j=!1;for(const $ of A){const K=$.range.startLineNumber===R?$.range.startColumn:1,J=$.range.endLineNumber===R?$.range.endColumn:O,te=$.options.hoverMessage;if(!te||(0,y.CP)(te))continue;$.options.beforeContentClassName&&(j=!0);const ne=new E.e(N.range.startLineNumber,K,N.range.startLineNumber,J);W.push(new l(this,ne,(0,P._2)(te),j,z++))}return W}computeAsync(N,A,k){if(!this._editor.hasModel()||1!==N.type)return r.Aq.EMPTY;const R=this._editor.getModel();if(!this._languageFeaturesService.hoverProvider.has(R))return r.Aq.EMPTY;const O=new T.L(N.range.startLineNumber,N.range.startColumn);return(0,p.R8)(this._languageFeaturesService.hoverProvider,R,O,k).filter(W=>!(0,y.CP)(W.hover.contents)).map(W=>{const z=W.hover.range?E.e.lift(W.hover.range):N.range;return new l(this,z,W.hover.contents,!1,W.ordinal)})}renderHoverParts(N,A){return w(N,A,this._editor,this._languageService,this._openerService)}};function w(D,N,A,k,R){N.sort((W,z)=>W.ordinal-z.ordinal);const O=new v.SL;for(const W of N)for(const z of W.contents){if((0,y.CP)(z))continue;const U=m("div.hover-row.markdown-hover"),ee=f.R3(U,m("div.hover-contents")),B=O.add(new S.$({editor:A},k,R));O.add(B.onDidRenderAsync(()=>{ee.className="hover-contents code-hover-contents",D.onContentsChanged()}));const G=O.add(B.render(z));ee.appendChild(G.element),D.fragment.appendChild(U)}return O}I=function(D,N,A,k){var W,R=arguments.length,O=R<3?N:null===k?k=Object.getOwnPropertyDescriptor(N,A):k;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)O=Reflect.decorate(D,N,A,k);else for(var z=D.length-1;z>=0;z--)(W=D[z])&&(O=(R<3?W(O):R>3?W(N,A,O):W(N,A))||O);return R>3&&O&&Object.defineProperty(N,A,O),O}([a(1,L.O),a(2,g.v4),a(3,u.Ui),a(4,i.p)],I)},45916:(Xe,we,e)=>{var f=e(85328),P=e(17967),r=e(45173),y=e(8256),v=e(96726),S=e(81534),T=e(15446),E=e(54267),L=e(57205),p=e(37190);class c{constructor($,K,J){this._editRange=$,this._originalSelection=K,this._text=J}getEditOperations($,K){K.addTrackedEditOperation(this._editRange,this._text)}computeCursorState($,K){const te=K.getInverseEditOperations()[0].range;return this._originalSelection.isEmpty()?new S.Y(te.endLineNumber,Math.min(this._originalSelection.positionColumn,te.endColumn),te.endLineNumber,Math.min(this._originalSelection.positionColumn,te.endColumn)):new S.Y(te.endLineNumber,te.endColumn-this._text.length,te.endLineNumber,te.endColumn)}}var ee,u=e(93379),g=e.n(u),i=e(7795),d=e.n(i),a=e(90569),m=e.n(a),l=e(3565),I=e.n(l),w=e(19216),D=e.n(w),N=e(44589),A=e.n(N),k=e(16921),R={};R.styleTagTransform=A(),R.setAttributes=I(),R.insert=m().bind(null,"head"),R.domAPI=d(),R.insertStyleElement=D(),g()(k.Z,R);let B=ee=class{static get($){return $.getContribution(ee.ID)}constructor($,K){this.editor=$,this.editorWorkerService=K,this.decorations=this.editor.createDecorationsCollection()}dispose(){}run($,K){var J;null===(J=this.currentRequest)||void 0===J||J.cancel();const te=this.editor.getSelection(),ne=this.editor.getModel();if(!ne||!te)return;let _=te;if(_.startLineNumber!==_.endLineNumber)return;const ae=new r.yy(this.editor,5),ge=ne.uri;return this.editorWorkerService.canNavigateValueSet(ge)?(this.currentRequest=(0,f.PG)(_e=>this.editorWorkerService.navigateValueSet(ge,_,K)),this.currentRequest.then(_e=>{var ue;if(!(_e&&_e.range&&_e.value&&ae.validate(this.editor)))return;const ve=v.e.lift(_e.range);let Ie=_e.range;const Se=_e.value.length-(_.endColumn-_.startColumn);Ie={startLineNumber:Ie.startLineNumber,startColumn:Ie.startColumn,endLineNumber:Ie.endLineNumber,endColumn:Ie.startColumn+_e.value.length},Se>1&&(_=new S.Y(_.startLineNumber,_.startColumn,_.endLineNumber,_.endColumn+Se-1));const Ve=new c(ve,_,_e.value);this.editor.pushUndoStop(),this.editor.executeCommand($,Ve),this.editor.pushUndoStop(),this.decorations.set([{range:Ie,options:ee.DECORATION}]),null===(ue=this.decorationRemover)||void 0===ue||ue.cancel(),this.decorationRemover=(0,f.Vs)(350),this.decorationRemover.then(()=>this.decorations.clear()).catch(P.dL)}).catch(P.dL)):Promise.resolve(void 0)}};var $;B.ID="editor.contrib.inPlaceReplaceController",B.DECORATION=E.qx.register({description:"in-place-replace",className:"valueSetReplacement"}),B=ee=function(j,$,K,J){var _,te=arguments.length,ne=te<3?$:null===J?J=Object.getOwnPropertyDescriptor($,K):J;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ne=Reflect.decorate(j,$,K,J);else for(var ae=j.length-1;ae>=0;ae--)(_=j[ae])&&(ne=(te<3?_(ne):te>3?_($,K,ne):_($,K))||ne);return te>3&&ne&&Object.defineProperty($,K,ne),ne}([(1,$=L.p,function(K,J){$(K,J,1)})],B),(0,y._K)(B.ID,B,4),(0,y.Qr)(class G extends y.R6{constructor(){super({id:"editor.action.inPlaceReplace.up",label:p.NC("InPlaceReplaceAction.previous.label","Replace with Previous Value"),alias:"Replace with Previous Value",precondition:T.u.writable,kbOpts:{kbExpr:T.u.editorTextFocus,primary:3159,weight:100}})}run($,K){const J=B.get(K);return J?J.run(this.id,!1):Promise.resolve(void 0)}}),(0,y.Qr)(class se extends y.R6{constructor(){super({id:"editor.action.inPlaceReplace.down",label:p.NC("InPlaceReplaceAction.next.label","Replace with Next Value"),alias:"Replace with Next Value",precondition:T.u.writable,kbOpts:{kbExpr:T.u.editorTextFocus,primary:3161,weight:100}})}run($,K){const J=B.get(K);return J?J.run(this.id,!0):Promise.resolve(void 0)}})},99835:(Xe,we,e)=>{function f(r,y){let v=0;for(let S=0;S<r.length;S++)"\t"===r.charAt(S)?v+=y:v++;return v}function P(r,y,v){r=r<0?0:r;let S="";if(!v){const T=Math.floor(r/y);r%=y;for(let E=0;E<T;E++)S+="\t"}for(let T=0;T<r;T++)S+=" ";return S}e.d(we,{J:()=>P,Y:()=>f})},51879:(Xe,we,e)=>{var f=e(78694),P=e(16055),r=e(8256),y=e(79445),v=e(20158),S=e(96726),T=e(81534),E=e(15446),L=e(58459),p=e(41204),c=e(99835),u=e(37190),g=e(49010),i=e(15869),d=e(47683);function l(se,j,$,K,J){if(1===se.getLineCount()&&1===se.getLineMaxColumn(1))return[];const te=j.getLanguageConfiguration(se.getLanguageId()).indentationRules;if(!te)return[];for(K=Math.min(K,se.getLineCount());$<=K&&te.unIndentedLinePattern;){const De=se.getLineContent($);if(!te.unIndentedLinePattern.test(De))break;$++}if($>K-1)return[];const{tabSize:ne,indentSize:_,insertSpaces:ae}=se.getOptions(),ge=(De,ye)=>y.U.shiftIndent(De,De.length+(ye=ye||1),ne,_,ae),_e=(De,ye)=>y.U.unshiftIndent(De,De.length+(ye=ye||1),ne,_,ae),ue=[];let ve;const Ie=se.getLineContent($);let Se=Ie;if(null!=J){ve=J;const De=P.V8(Ie);Se=ve+Ie.substring(De.length),te.decreaseIndentPattern&&te.decreaseIndentPattern.test(Se)&&(ve=_e(ve),Se=ve+Ie.substring(De.length)),Ie!==Se&&ue.push(v.h.replaceMove(new T.Y($,1,$,De.length+1),(0,i.x)(ve,_,ae)))}else ve=P.V8(Ie);let Ve=ve;te.increaseIndentPattern&&te.increaseIndentPattern.test(Se)?(Ve=ge(Ve),ve=ge(ve)):te.indentNextLinePattern&&te.indentNextLinePattern.test(Se)&&(Ve=ge(Ve));for(let De=++$;De<=K;De++){const ye=se.getLineContent(De),oe=P.V8(ye),Y=Ve+ye.substring(oe.length);te.decreaseIndentPattern&&te.decreaseIndentPattern.test(Y)&&(Ve=_e(Ve),ve=_e(ve)),oe!==Ve&&ue.push(v.h.replaceMove(new T.Y(De,1,De,oe.length+1),(0,i.x)(Ve,_,ae))),(!te.unIndentedLinePattern||!te.unIndentedLinePattern.test(ye))&&(te.increaseIndentPattern&&te.increaseIndentPattern.test(Y)?(ve=ge(ve),Ve=ve):Ve=te.indentNextLinePattern&&te.indentNextLinePattern.test(Y)?ge(Ve):ve)}return ue}let I=(()=>{class se extends r.R6{constructor(){super({id:se.ID,label:u.NC("indentationToSpaces","Convert Indentation to Spaces"),alias:"Convert Indentation to Spaces",precondition:E.u.writable})}run($,K){const J=K.getModel();if(!J)return;const te=J.getOptions(),ne=K.getSelection();if(!ne)return;const _=new B(ne,te.tabSize);K.pushUndoStop(),K.executeCommands(this.id,[_]),K.pushUndoStop(),J.updateOptions({insertSpaces:!0})}}return se.ID="editor.action.indentationToSpaces",se})(),w=(()=>{class se extends r.R6{constructor(){super({id:se.ID,label:u.NC("indentationToTabs","Convert Indentation to Tabs"),alias:"Convert Indentation to Tabs",precondition:E.u.writable})}run($,K){const J=K.getModel();if(!J)return;const te=J.getOptions(),ne=K.getSelection();if(!ne)return;const _=new G(ne,te.tabSize);K.pushUndoStop(),K.executeCommands(this.id,[_]),K.pushUndoStop(),J.updateOptions({insertSpaces:!1})}}return se.ID="editor.action.indentationToTabs",se})();class D extends r.R6{constructor(j,$,K){super(K),this.insertSpaces=j,this.displaySizeOnly=$}run(j,$){const K=j.get(g.eJ),J=j.get(p.q),te=$.getModel();if(!te)return;const ne=J.getCreationOptions(te.getLanguageId(),te.uri,te.isForSimpleWidget),_=te.getOptions(),ae=[1,2,3,4,5,6,7,8].map(_e=>({id:_e.toString(),label:_e.toString(),description:_e===ne.tabSize&&_e===_.tabSize?u.NC("configuredTabSize","Configured Tab Size"):_e===ne.tabSize?u.NC("defaultTabSize","Default Tab Size"):_e===_.tabSize?u.NC("currentTabSize","Current Tab Size"):void 0})),ge=Math.min(te.getOptions().tabSize-1,7);setTimeout(()=>{K.pick(ae,{placeHolder:u.NC({key:"selectTabWidth",comment:["Tab corresponds to the tab key"]},"Select Tab Size for Current File"),activeItem:ae[ge]}).then(_e=>{if(_e&&te&&!te.isDisposed()){const ue=parseInt(_e.label,10);te.updateOptions(this.displaySizeOnly?{tabSize:ue}:{tabSize:ue,indentSize:ue,insertSpaces:this.insertSpaces})}})},50)}}let N=(()=>{class se extends D{constructor(){super(!1,!1,{id:se.ID,label:u.NC("indentUsingTabs","Indent Using Tabs"),alias:"Indent Using Tabs",precondition:void 0})}}return se.ID="editor.action.indentUsingTabs",se})(),A=(()=>{class se extends D{constructor(){super(!0,!1,{id:se.ID,label:u.NC("indentUsingSpaces","Indent Using Spaces"),alias:"Indent Using Spaces",precondition:void 0})}}return se.ID="editor.action.indentUsingSpaces",se})(),k=(()=>{class se extends D{constructor(){super(!0,!0,{id:se.ID,label:u.NC("changeTabDisplaySize","Change Tab Display Size"),alias:"Change Tab Display Size",precondition:void 0})}}return se.ID="editor.action.changeTabDisplaySize",se})(),R=(()=>{class se extends r.R6{constructor(){super({id:se.ID,label:u.NC("detectIndentation","Detect Indentation from Content"),alias:"Detect Indentation from Content",precondition:void 0})}run($,K){const J=$.get(p.q),te=K.getModel();if(!te)return;const ne=J.getCreationOptions(te.getLanguageId(),te.uri,te.isForSimpleWidget);te.detectIndentation(ne.insertSpaces,ne.tabSize)}}return se.ID="editor.action.detectIndentation",se})();class z{constructor(j,$){this._initialSelection=$,this._edits=[],this._selectionId=null;for(const K of j)K.range&&"string"==typeof K.text&&this._edits.push(K)}getEditOperations(j,$){for(const J of this._edits)$.addEditOperation(S.e.lift(J.range),J.text);let K=!1;Array.isArray(this._edits)&&1===this._edits.length&&this._initialSelection.isEmpty()&&(this._edits[0].range.startColumn===this._initialSelection.endColumn&&this._edits[0].range.startLineNumber===this._initialSelection.endLineNumber?(K=!0,this._selectionId=$.trackSelection(this._initialSelection,!0)):this._edits[0].range.endColumn===this._initialSelection.startColumn&&this._edits[0].range.endLineNumber===this._initialSelection.startLineNumber&&(K=!0,this._selectionId=$.trackSelection(this._initialSelection,!1))),K||(this._selectionId=$.trackSelection(this._initialSelection))}computeCursorState(j,$){return $.getTrackedSelection(this._selectionId)}}let U=class{constructor(j,$){this.editor=j,this._languageConfigurationService=$,this.callOnDispose=new f.SL,this.callOnModel=new f.SL,this.callOnDispose.add(j.onDidChangeConfiguration(()=>this.update())),this.callOnDispose.add(j.onDidChangeModel(()=>this.update())),this.callOnDispose.add(j.onDidChangeModelLanguage(()=>this.update()))}update(){this.callOnModel.clear(),!(this.editor.getOption(11)<4||this.editor.getOption(54))&&this.editor.hasModel()&&this.callOnModel.add(this.editor.onDidPaste(({range:j})=>{this.trigger(j)}))}trigger(j){const $=this.editor.getSelections();if(null===$||$.length>1)return;const K=this.editor.getModel();if(!K||!K.tokenization.isCheapToTokenize(j.getStartPosition().lineNumber))return;const J=this.editor.getOption(11),{tabSize:te,indentSize:ne,insertSpaces:_}=K.getOptions(),ae=[],ge={shiftIndent:Ie=>y.U.shiftIndent(Ie,Ie.length+1,te,ne,_),unshiftIndent:Ie=>y.U.unshiftIndent(Ie,Ie.length+1,te,ne,_)};let _e=j.startLineNumber;for(;_e<=j.endLineNumber&&this.shouldIgnoreLine(K,_e);)_e++;if(_e>j.endLineNumber)return;let ue=K.getLineContent(_e);if(!/\S/.test(ue.substring(0,j.startColumn-1))){const Ie=(0,d.n8)(J,K,K.getLanguageId(),_e,ge,this._languageConfigurationService);if(null!==Ie){const Se=P.V8(ue),Ve=c.Y(Ie,te);if(Ve!==c.Y(Se,te)){const ye=c.J(Ve,te,_);ae.push({range:new S.e(_e,1,_e,Se.length+1),text:ye}),ue=ye+ue.substr(Se.length)}else{const ye=(0,d.tI)(K,_e,this._languageConfigurationService);if(0===ye||8===ye)return}}}const ve=_e;for(;_e<j.endLineNumber&&!/\S/.test(K.getLineContent(_e+1));)_e++;if(_e!==j.endLineNumber){const Se=(0,d.n8)(J,{tokenization:{getLineTokens:Ve=>K.tokenization.getLineTokens(Ve),getLanguageId:()=>K.getLanguageId(),getLanguageIdAtPosition:(Ve,De)=>K.getLanguageIdAtPosition(Ve,De)},getLineContent:Ve=>Ve===ve?ue:K.getLineContent(Ve)},K.getLanguageId(),_e+1,ge,this._languageConfigurationService);if(null!==Se){const Ve=c.Y(Se,te),De=c.Y(P.V8(K.getLineContent(_e+1)),te);if(Ve!==De){const ye=Ve-De;for(let oe=_e+1;oe<=j.endLineNumber;oe++){const Y=K.getLineContent(oe),x=P.V8(Y),ie=c.Y(x,te)+ye,Ce=c.J(ie,te,_);Ce!==x&&ae.push({range:new S.e(oe,1,oe,x.length+1),text:Ce})}}}}if(ae.length>0){this.editor.pushUndoStop();const Ie=new z(ae,this.editor.getSelection());this.editor.executeCommand("autoIndentOnPaste",Ie),this.editor.pushUndoStop()}}shouldIgnoreLine(j,$){j.tokenization.forceTokenization($);const K=j.getLineFirstNonWhitespaceColumn($);if(0===K)return!0;const J=j.tokenization.getLineTokens($);if(J.getCount()>0){const te=J.findTokenIndexAtOffset(K);if(te>=0&&1===J.getStandardTokenType(te))return!0}return!1}dispose(){this.callOnDispose.dispose(),this.callOnModel.dispose()}};var j;function ee(se,j,$,K){if(1===se.getLineCount()&&1===se.getLineMaxColumn(1))return;let J="";for(let ne=0;ne<$;ne++)J+=" ";const te=new RegExp(J,"gi");for(let ne=1,_=se.getLineCount();ne<=_;ne++){let ae=se.getLineFirstNonWhitespaceColumn(ne);if(0===ae&&(ae=se.getLineMaxColumn(ne)),1===ae)continue;const ge=new S.e(ne,1,ne,ae),_e=se.getValueInRange(ge),ue=K?_e.replace(/\t/gi,J):_e.replace(te,"\t");j.addEditOperation(ge,ue)}}U.ID="editor.contrib.autoIndentOnPaste",U=function(se,j,$,K){var ne,J=arguments.length,te=J<3?j:null===K?K=Object.getOwnPropertyDescriptor(j,$):K;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)te=Reflect.decorate(se,j,$,K);else for(var _=se.length-1;_>=0;_--)(ne=se[_])&&(te=(J<3?ne(te):J>3?ne(j,$,te):ne(j,$))||te);return J>3&&te&&Object.defineProperty(j,$,te),te}([(1,j=L.c_,function($,K){j($,K,1)})],U);class B{constructor(j,$){this.selection=j,this.tabSize=$,this.selectionId=null}getEditOperations(j,$){this.selectionId=$.trackSelection(this.selection),ee(j,$,this.tabSize,!0)}computeCursorState(j,$){return $.getTrackedSelection(this.selectionId)}}class G{constructor(j,$){this.selection=j,this.tabSize=$,this.selectionId=null}getEditOperations(j,$){this.selectionId=$.trackSelection(this.selection),ee(j,$,this.tabSize,!1)}computeCursorState(j,$){return $.getTrackedSelection(this.selectionId)}}(0,r._K)(U.ID,U,2),(0,r.Qr)(I),(0,r.Qr)(w),(0,r.Qr)(N),(0,r.Qr)(A),(0,r.Qr)(k),(0,r.Qr)(R),(0,r.Qr)(class O extends r.R6{constructor(){super({id:"editor.action.reindentlines",label:u.NC("editor.reindentlines","Reindent Lines"),alias:"Reindent Lines",precondition:E.u.writable})}run(j,$){const K=j.get(L.c_),J=$.getModel();if(!J)return;const te=l(J,K,1,J.getLineCount());te.length>0&&($.pushUndoStop(),$.executeEdits(this.id,te),$.pushUndoStop())}}),(0,r.Qr)(class W extends r.R6{constructor(){super({id:"editor.action.reindentselectedlines",label:u.NC("editor.reindentselectedlines","Reindent Selected Lines"),alias:"Reindent Selected Lines",precondition:E.u.writable})}run(j,$){const K=j.get(L.c_),J=$.getModel();if(!J)return;const te=$.getSelections();if(null===te)return;const ne=[];for(const _ of te){let ae=_.startLineNumber,ge=_.endLineNumber;if(ae!==ge&&1===_.endColumn&&ge--,1===ae){if(ae===ge)continue}else ae--;const _e=l(J,K,ae,ge);ne.push(..._e)}ne.length>0&&($.pushUndoStop(),$.executeEdits(this.id,ne),$.pushUndoStop())}})},60676:(Xe,we,e)=>{var f=e(8256),P=e(9282),r=e(20274),y=e(31738),v=e(85328),S=e(87618),T=e(17967),E=e(78694),L=e(38164),p=e(91402),c=e(15850),u=e(58431),g=e(45332),i=e(36413),d=e(20158),a=e(96726),m=e(81814),l=e(24470),I=e(54267),w=e(31663),D=e(55763),N=e(56230),A=e(25823),k=e(68678),R=e(42685),O=function(pe,Q,le,Fe){return new(le||(le=Promise))(function(Je,ot){function lt(Lt){try{ft(Fe.next(Lt))}catch(Tt){ot(Tt)}}function mt(Lt){try{ft(Fe.throw(Lt))}catch(Tt){ot(Tt)}}function ft(Lt){Lt.done?Je(Lt.value):function He(Je){return Je instanceof le?Je:new le(function(ot){ot(Je)})}(Lt.value).then(lt,mt)}ft((Fe=Fe.apply(pe,Q||[])).next())})};class W{constructor(Q,le){this.range=Q,this.direction=le}}class z{constructor(Q,le,Fe){this.hint=Q,this.anchor=le,this.provider=Fe,this._isResolved=!1}with(Q){const le=new z(this.hint,Q.anchor,this.provider);return le._isResolved=this._isResolved,le._currentResolve=this._currentResolve,le}resolve(Q){return O(this,void 0,void 0,function*(){if("function"==typeof this.provider.resolveInlayHint){if(this._currentResolve)return yield this._currentResolve,Q.isCancellationRequested?void 0:this.resolve(Q);this._isResolved||(this._currentResolve=this._doResolve(Q).finally(()=>this._currentResolve=void 0)),yield this._currentResolve}})}_doResolve(Q){var le,Fe;return O(this,void 0,void 0,function*(){try{const He=yield Promise.resolve(this.provider.resolveInlayHint(this.hint,Q));this.hint.tooltip=null!==(le=He?.tooltip)&&void 0!==le?le:this.hint.tooltip,this.hint.label=null!==(Fe=He?.label)&&void 0!==Fe?Fe:this.hint.label,this._isResolved=!0}catch(He){(0,T.Cp)(He),this._isResolved=!1}})}}class U{static create(Q,le,Fe,He){return O(this,void 0,void 0,function*(){const Je=[],ot=Q.ordered(le).reverse().map(lt=>Fe.map(mt=>O(this,void 0,void 0,function*(){try{const ft=yield lt.provideInlayHints(le,mt,He);ft?.hints.length&&Je.push([ft,lt])}catch(ft){(0,T.Cp)(ft)}})));if(yield Promise.all(ot.flat()),He.isCancellationRequested||le.isDisposed())throw new T.FU;return new U(Fe,Je,le)})}constructor(Q,le,Fe){this._disposables=new E.SL,this.ranges=Q,this.provider=new Set;const He=[];for(const[Je,ot]of le){this._disposables.add(Je),this.provider.add(ot);for(const lt of Je.hints){const mt=Fe.validatePosition(lt.position);let ft="before";const Lt=U._getRangeAtPosition(Fe,mt);let Tt;Lt.getStartPosition().isBefore(mt)?(Tt=a.e.fromPositions(Lt.getStartPosition(),mt),ft="after"):(Tt=a.e.fromPositions(mt,Lt.getEndPosition()),ft="before"),He.push(new z(lt,new W(Tt,ft),ot))}}this.items=He.sort((Je,ot)=>k.L.compare(Je.hint.position,ot.hint.position))}dispose(){this._disposables.dispose()}static _getRangeAtPosition(Q,le){const Fe=le.lineNumber,He=Q.getWordAtPosition(le);if(He)return new a.e(Fe,He.startColumn,Fe,He.endColumn);Q.tokenization.tokenizeIfCheap(Fe);const Je=Q.tokenization.getLineTokens(Fe),ot=le.column-1,lt=Je.findTokenIndexAtOffset(ot);let mt=Je.getStartOffset(lt),ft=Je.getEndOffset(lt);return ft-mt==1&&(mt===ot&&lt>1?(mt=Je.getStartOffset(lt-1),ft=Je.getEndOffset(lt-1)):ft===ot&&lt<Je.getCount()-1&&(mt=Je.getStartOffset(lt+1),ft=Je.getEndOffset(lt+1))),new a.e(Fe,mt+1,Fe,ft+1)}}var ae,B=e(10456),G=e(11813),se=e(67755),j=e(12065),$=e(22438),K=e(99745),J=e(23527),ne=function(pe,Q){return function(le,Fe){Q(le,Fe,pe)}},_=function(pe,Q,le,Fe){return new(le||(le=Promise))(function(Je,ot){function lt(Lt){try{ft(Fe.next(Lt))}catch(Tt){ot(Tt)}}function mt(Lt){try{ft(Fe.throw(Lt))}catch(Tt){ot(Tt)}}function ft(Lt){Lt.done?Je(Lt.value):function He(Je){return Je instanceof le?Je:new le(function(ot){ot(Je)})}(Lt.value).then(lt,mt)}ft((Fe=Fe.apply(pe,Q||[])).next())})};class ge{constructor(){this._entries=new L.z6(50)}get(Q){const le=ge._key(Q);return this._entries.get(le)}set(Q,le){const Fe=ge._key(Q);this._entries.set(Fe,le)}static _key(Q){return`${Q.uri.toString()}/${Q.getVersionId()}`}}const _e=(0,j.yh)("IInlayHintsCache");(0,se.z)(_e,ge,1);class ue{constructor(Q,le){this.item=Q,this.index=le}get part(){const Q=this.item.hint.label;return"string"==typeof Q?{label:Q}:Q[this.index]}}class ve{constructor(Q,le){this.part=Q,this.hasTriggerModifier=le}}let Ie=ae=class{static get(Q){var le;return null!==(le=Q.getContribution(ae.ID))&&void 0!==le?le:void 0}constructor(Q,le,Fe,He,Je,ot,lt){this._editor=Q,this._languageFeaturesService=le,this._inlayHintsCache=He,this._commandService=Je,this._notificationService=ot,this._instaService=lt,this._disposables=new E.SL,this._sessionDisposables=new E.SL,this._decorationsMetadata=new Map,this._ruleFactory=new u.t7(this._editor),this._activeRenderMode=0,this._debounceInfo=Fe.for(le.inlayHintsProvider,"InlayHint",{min:25}),this._disposables.add(le.inlayHintsProvider.onDidChange(()=>this._update())),this._disposables.add(Q.onDidChangeModel(()=>this._update())),this._disposables.add(Q.onDidChangeModelLanguage(()=>this._update())),this._disposables.add(Q.onDidChangeConfiguration(mt=>{mt.hasChanged(138)&&this._update()})),this._update()}dispose(){this._sessionDisposables.dispose(),this._removeAllDecorations(),this._disposables.dispose()}_update(){this._sessionDisposables.clear(),this._removeAllDecorations();const Q=this._editor.getOption(138);if("off"===Q.enabled)return;const le=this._editor.getModel();if(!le||!this._languageFeaturesService.inlayHintsProvider.has(le))return;const Fe=this._inlayHintsCache.get(le);let He;Fe&&this._updateHintsDecorators([le.getFullModelRange()],Fe),this._sessionDisposables.add((0,E.OF)(()=>{le.isDisposed()||this._cacheHintsForFastRestore(le)}));const Je=new Set,ot=new v.pY(()=>_(this,void 0,void 0,function*(){const lt=Date.now();He?.dispose(!0),He=new S.A;const mt=le.onWillDispose(()=>He?.cancel());try{const ft=He.token,Lt=yield U.create(this._languageFeaturesService.inlayHintsProvider,le,this._getHintsRanges(),ft);if(ot.delay=this._debounceInfo.update(le,Date.now()-lt),ft.isCancellationRequested)return void Lt.dispose();for(const Tt of Lt.provider)"function"==typeof Tt.onDidChangeInlayHints&&!Je.has(Tt)&&(Je.add(Tt),this._sessionDisposables.add(Tt.onDidChangeInlayHints(()=>{ot.isScheduled()||ot.schedule()})));this._sessionDisposables.add(Lt),this._updateHintsDecorators(Lt.ranges,Lt.items),this._cacheHintsForFastRestore(le)}catch(ft){(0,T.dL)(ft)}finally{He.dispose(),mt.dispose()}}),this._debounceInfo.get(le));if(this._sessionDisposables.add(ot),this._sessionDisposables.add((0,E.OF)(()=>He?.dispose(!0))),ot.schedule(0),this._sessionDisposables.add(this._editor.onDidScrollChange(lt=>{(lt.scrollTopChanged||!ot.isScheduled())&&ot.schedule()})),this._sessionDisposables.add(this._editor.onDidChangeModelContent(lt=>{const mt=Math.max(ot.delay,1250);ot.schedule(mt)})),"on"===Q.enabled)this._activeRenderMode=0;else{let lt,mt;"onUnlessPressed"===Q.enabled?(lt=0,mt=1):(lt=1,mt=0),this._activeRenderMode=lt,this._sessionDisposables.add(r._q.getInstance().event(ft=>{if(!this._editor.hasModel())return;const Lt=ft.altKey&&ft.ctrlKey&&!ft.shiftKey&&!ft.metaKey?mt:lt;if(Lt!==this._activeRenderMode){this._activeRenderMode=Lt;const Tt=this._editor.getModel(),Mt=this._copyInlayHintsWithCurrentAnchor(Tt);this._updateHintsDecorators([Tt.getFullModelRange()],Mt),ot.schedule(0)}}))}this._sessionDisposables.add(this._installDblClickGesture(()=>ot.schedule(0))),this._sessionDisposables.add(this._installLinkGesture()),this._sessionDisposables.add(this._installContextMenu())}_installLinkGesture(){const Q=new E.SL,le=Q.add(new A.yN(this._editor)),Fe=new E.SL;return Q.add(Fe),Q.add(le.onMouseMoveOrRelevantKeyDown(He=>{const[Je]=He,ot=this._getInlayHintLabelPart(Je),lt=this._editor.getModel();if(!ot||!lt)return void Fe.clear();const mt=new S.A;Fe.add((0,E.OF)(()=>mt.dispose(!0))),ot.item.resolve(mt.token),this._activeInlayHintPart=ot.part.command||ot.part.location?new ve(ot,Je.hasTriggerModifier):void 0;const ft=lt.validatePosition(ot.item.hint.position).lineNumber,Lt=new a.e(ft,1,ft,lt.getLineMaxColumn(ft)),Tt=this._getInlineHintsForRange(Lt);this._updateHintsDecorators([Lt],Tt),Fe.add((0,E.OF)(()=>{this._activeInlayHintPart=void 0,this._updateHintsDecorators([Lt],Tt)}))})),Q.add(le.onCancel(()=>Fe.clear())),Q.add(le.onExecute(He=>_(this,void 0,void 0,function*(){const Je=this._getInlayHintLabelPart(He);if(Je){const ot=Je.part;ot.location?this._instaService.invokeFunction(B.K,He,this._editor,ot.location):m.mY.is(ot.command)&&(yield this._invokeCommand(ot.command,Je.item))}}))),Q}_getInlineHintsForRange(Q){const le=new Set;for(const Fe of this._decorationsMetadata.values())Q.containsRange(Fe.item.anchor.range)&&le.add(Fe.item);return Array.from(le)}_installDblClickGesture(Q){return this._editor.onMouseUp(le=>_(this,void 0,void 0,function*(){if(2!==le.event.detail)return;const Fe=this._getInlayHintLabelPart(le);if(Fe&&(le.event.preventDefault(),yield Fe.item.resolve(S.T.None),(0,y.Of)(Fe.item.hint.textEdits))){const He=Fe.item.hint.textEdits.map(Je=>d.h.replace(a.e.lift(Je.range),Je.text));this._editor.executeEdits("inlayHint.default",He),Q()}}))}_installContextMenu(){return this._editor.onContextMenu(Q=>_(this,void 0,void 0,function*(){if(!(Q.event.target instanceof HTMLElement))return;const le=this._getInlayHintLabelPart(Q);le&&(yield this._instaService.invokeFunction(B.u,this._editor,Q.event.target,le))}))}_getInlayHintLabelPart(Q){var le;if(6!==Q.target.type)return;const Fe=null===(le=Q.target.detail.injectedText)||void 0===le?void 0:le.options;return Fe instanceof I.HS&&Fe?.attachedData instanceof ue?Fe.attachedData:void 0}_invokeCommand(Q,le){var Fe;return _(this,void 0,void 0,function*(){try{yield this._commandService.executeCommand(Q.id,...null!==(Fe=Q.arguments)&&void 0!==Fe?Fe:[])}catch(He){this._notificationService.notify({severity:$.zb.Error,source:le.provider.displayName,message:He})}})}_cacheHintsForFastRestore(Q){const le=this._copyInlayHintsWithCurrentAnchor(Q);this._inlayHintsCache.set(Q,le)}_copyInlayHintsWithCurrentAnchor(Q){const le=new Map;for(const[Fe,He]of this._decorationsMetadata){if(le.has(He.item))continue;const Je=Q.getDecorationRange(Fe);if(Je){const ot=new W(Je,He.item.anchor.direction),lt=He.item.with({anchor:ot});le.set(He.item,lt)}}return Array.from(le.values())}_getHintsRanges(){const le=this._editor.getModel(),Fe=this._editor.getVisibleRangesPlusViewportAboveBelow(),He=[];for(const Je of Fe.sort(a.e.compareRangesUsingStarts)){const ot=le.validateRange(new a.e(Je.startLineNumber-30,Je.startColumn,Je.endLineNumber+30,Je.endColumn));0!==He.length&&a.e.areIntersectingOrTouching(He[He.length-1],ot)?He[He.length-1]=a.e.plusRange(He[He.length-1],ot):He.push(ot)}return He}_updateHintsDecorators(Q,le){var Fe,He;const Je=[],ot=(It,it,qe,Ze,Ee)=>{const Te={content:qe,inlineClassNameAffectsLetterSpacing:!0,inlineClassName:it.className,cursorStops:Ze,attachedData:Ee};Je.push({item:It,classNameRef:it,decoration:{range:It.anchor.range,options:{description:"InlayHint",showIfCollapsed:It.anchor.range.isEmpty(),collapseOnReplaceEdit:!It.anchor.range.isEmpty(),stickiness:0,[It.anchor.direction]:0===this._activeRenderMode?Te:void 0}}})},lt=(It,it)=>{const qe=this._ruleFactory.createClassNameRef({width:(mt/3|0)+"px",display:"inline-block"});ot(It,qe,"\u200a",it?l.RM.Right:l.RM.None)},{fontSize:mt,fontFamily:ft,padding:Lt,isUniform:Tt}=this._getLayoutInfo(),Mt="--code-editorInlayHintsFontFamily";this._editor.getContainerDomNode().style.setProperty(Mt,ft);for(const It of le){It.hint.paddingLeft&&lt(It,!1);const it="string"==typeof It.hint.label?[{label:It.hint.label}]:It.hint.label;for(let qe=0;qe<it.length;qe++){const Ze=it[qe],Ee=0===qe,Te=qe===it.length-1,Ae={fontSize:`${mt}px`,fontFamily:`var(${Mt}), ${i.hL.fontFamily}`,verticalAlign:Tt?"baseline":"middle",unicodeBidi:"isolate"};(0,y.Of)(It.hint.textEdits)&&(Ae.cursor="default"),this._fillInColors(Ae,It.hint),(Ze.command||Ze.location)&&(null===(Fe=this._activeInlayHintPart)||void 0===Fe?void 0:Fe.part.item)===It&&this._activeInlayHintPart.part.index===qe&&(Ae.textDecoration="underline",this._activeInlayHintPart.hasTriggerModifier&&(Ae.color=(0,J.EN)(K._Yy),Ae.cursor="pointer")),Lt&&(Ee&&Te?(Ae.padding=`1px ${0|Math.max(1,mt/4)}px`,Ae.borderRadius=(mt/4|0)+"px"):Ee?(Ae.padding=`1px 0 1px ${0|Math.max(1,mt/4)}px`,Ae.borderRadius=`${mt/4|0}px 0 0 ${mt/4|0}px`):Te?(Ae.padding=`1px ${0|Math.max(1,mt/4)}px 1px 0`,Ae.borderRadius=`0 ${mt/4|0}px ${mt/4|0}px 0`):Ae.padding="1px 0 1px 0"),ot(It,this._ruleFactory.createClassNameRef(Ae),Ze.label.replace(/[ \t]/g,"\xa0"),Te&&!It.hint.paddingRight?l.RM.Right:l.RM.None,new ue(It,qe))}if(It.hint.paddingRight&&lt(It,!0),Je.length>ae._MAX_DECORATORS)break}const Ut=[];for(const It of Q)for(const{id:it}of null!==(He=this._editor.getDecorationsInRange(It))&&void 0!==He?He:[]){const qe=this._decorationsMetadata.get(it);qe&&(Ut.push(it),qe.classNameRef.dispose(),this._decorationsMetadata.delete(it))}const At=g.Z.capture(this._editor);this._editor.changeDecorations(It=>{const it=It.deltaDecorations(Ut,Je.map(qe=>qe.decoration));for(let qe=0;qe<it.length;qe++)this._decorationsMetadata.set(it[qe],Je[qe])}),At.restore(this._editor)}_fillInColors(Q,le){le.kind===m.gl.Parameter?(Q.backgroundColor=(0,J.EN)(K.phM),Q.color=(0,J.EN)(K.HCL)):le.kind===m.gl.Type?(Q.backgroundColor=(0,J.EN)(K.bKB),Q.color=(0,J.EN)(K.hX8)):(Q.backgroundColor=(0,J.EN)(K.PpC),Q.color=(0,J.EN)(K.VVv))}_getLayoutInfo(){const Q=this._editor.getOption(138),le=Q.padding,Fe=this._editor.getOption(51),He=this._editor.getOption(48);let Je=Q.fontSize;(!Je||Je<5||Je>Fe)&&(Je=Fe);const ot=Q.fontFamily||He;return{fontSize:Je,fontFamily:ot,padding:le,isUniform:!le&&ot===He&&Je===Fe}}_removeAllDecorations(){this._editor.removeDecorations(Array.from(this._decorationsMetadata.keys()));for(const Q of this._decorationsMetadata.values())Q.classNameRef.dispose();this._decorationsMetadata.clear()}};Ie.ID="editor.contrib.InlayHints",Ie._MAX_DECORATORS=1500,Ie=ae=function(pe,Q,le,Fe){var ot,He=arguments.length,Je=He<3?Q:null===Fe?Fe=Object.getOwnPropertyDescriptor(Q,le):Fe;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Je=Reflect.decorate(pe,Q,le,Fe);else for(var lt=pe.length-1;lt>=0;lt--)(ot=pe[lt])&&(Je=(He<3?ot(Je):He>3?ot(Q,le,Je):ot(Q,le))||Je);return He>3&&Je&&Object.defineProperty(Q,le,Je),Je}([ne(1,D.p),ne(2,w.A),ne(3,_e),ne(4,G.H),ne(5,$.lT),ne(6,j.TG)],Ie),G.P.registerCommand("_executeInlayHintProvider",(pe,...Q)=>_(void 0,void 0,void 0,function*(){const[le,Fe]=Q;(0,p.p_)(c.o.isUri(le)),(0,p.p_)(a.e.isIRange(Fe));const{inlayHintsProvider:He}=pe.get(D.p),Je=yield pe.get(N.S).createModelReference(le);try{const ot=yield U.create(He,Je.object.textEditorModel,[a.e.lift(Fe)],S.T.None),lt=ot.items.map(mt=>mt.hint);return setTimeout(()=>ot.dispose(),0),lt}finally{Je.dispose()}}));var Ve=e(10878),De=e(74315),ye=e(10433),oe=e(46868),Y=e(47358),x=e(6628),F=e(37190),ie=e(88593),ke=function(pe,Q){return function(le,Fe){Q(le,Fe,pe)}},Pe=function(pe,Q,le,Fe){return new(le||(le=Promise))(function(Je,ot){function lt(Lt){try{ft(Fe.next(Lt))}catch(Tt){ot(Tt)}}function mt(Lt){try{ft(Fe.throw(Lt))}catch(Tt){ot(Tt)}}function ft(Lt){Lt.done?Je(Lt.value):function He(Je){return Je instanceof le?Je:new le(function(ot){ot(Je)})}(Lt.value).then(lt,mt)}ft((Fe=Fe.apply(pe,Q||[])).next())})};class fe extends P.YM{constructor(Q,le,Fe,He){super(10,le,Q.item.anchor.range,Fe,He,!0),this.part=Q}}let be=class extends oe.D5{constructor(Q,le,Fe,He,Je,ot){super(Q,le,Fe,He,ot),this._resolverService=Je,this.hoverOrdinal=6}suggestHoverAnchor(Q){var le;if(!Ie.get(this._editor)||6!==Q.target.type)return null;const He=null===(le=Q.target.detail.injectedText)||void 0===le?void 0:le.options;return He instanceof I.HS&&He.attachedData instanceof ue?new fe(He.attachedData,this,Q.event.posx,Q.event.posy):null}computeSync(){return[]}computeAsync(Q,le,Fe){return Q instanceof fe?new v.Aq(He=>Pe(this,void 0,void 0,function*(){var Je,ot,lt;const{part:ft}=Q;if(yield ft.item.resolve(Fe),Fe.isCancellationRequested)return;let Lt,Tt;if("string"==typeof ft.item.hint.tooltip?Lt=(new Ve.W5).appendText(ft.item.hint.tooltip):ft.item.hint.tooltip&&(Lt=ft.item.hint.tooltip),Lt&&He.emitOne(new oe.hU(this,Q.range,[Lt],!1,0)),(0,y.Of)(ft.item.hint.textEdits)&&He.emitOne(new oe.hU(this,Q.range,[(new Ve.W5).appendText((0,F.NC)("hint.dbl","Double-click to insert"))],!1,10001)),"string"==typeof ft.part.tooltip?Tt=(new Ve.W5).appendText(ft.part.tooltip):ft.part.tooltip&&(Tt=ft.part.tooltip),Tt&&He.emitOne(new oe.hU(this,Q.range,[Tt],!1,1)),ft.part.location||ft.part.command){let it;const Ze="altKey"===this._editor.getOption(76)?ie.dz?(0,F.NC)("links.navigate.kb.meta.mac","cmd + click"):(0,F.NC)("links.navigate.kb.meta","ctrl + click"):ie.dz?(0,F.NC)("links.navigate.kb.alt.mac","option + click"):(0,F.NC)("links.navigate.kb.alt","alt + click");ft.part.location&&ft.part.command?it=(new Ve.W5).appendText((0,F.NC)("hint.defAndCommand","Go to Definition ({0}), right click for more",Ze)):ft.part.location?it=(new Ve.W5).appendText((0,F.NC)("hint.def","Go to Definition ({0})",Ze)):ft.part.command&&(it=new Ve.W5(`[${(0,F.NC)("hint.cmd","Execute Command")}](${function ee(pe){return c.o.from({scheme:R.lg.command,path:pe.id,query:pe.arguments&&encodeURIComponent(JSON.stringify(pe.arguments))}).toString()}(ft.part.command)} "${ft.part.command.title}") (${Ze})`,{isTrusted:!0})),it&&He.emitOne(new oe.hU(this,Q.range,[it],!1,1e4))}const Mt=yield this._resolveInlayHintLabelPartHover(ft,Fe);try{for(var It,Ut=!0,At=function(pe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var le,Q=pe[Symbol.asyncIterator];return Q?Q.call(pe):(pe="function"==typeof __values?__values(pe):pe[Symbol.iterator](),le={},Fe("next"),Fe("throw"),Fe("return"),le[Symbol.asyncIterator]=function(){return this},le);function Fe(Je){le[Je]=pe[Je]&&function(ot){return new Promise(function(lt,mt){!function He(Je,ot,lt,mt){Promise.resolve(mt).then(function(ft){Je({value:ft,done:lt})},ot)}(lt,mt,(ot=pe[Je](ot)).done,ot.value)})}}}(Mt);!(Je=(It=yield At.next()).done);Ut=!0)Ut=!1,He.emitOne(It.value)}catch(it){ot={error:it}}finally{try{!Ut&&!Je&&(lt=At.return)&&(yield lt.call(At))}finally{if(ot)throw ot.error}}})):v.Aq.EMPTY}_resolveInlayHintLabelPartHover(Q,le){return Pe(this,void 0,void 0,function*(){if(!Q.part.location)return v.Aq.EMPTY;const{uri:Fe,range:He}=Q.part.location,Je=yield this._resolverService.createModelReference(Fe);try{const ot=Je.object.textEditorModel;return this._languageFeaturesService.hoverProvider.has(ot)?(0,ye.R8)(this._languageFeaturesService.hoverProvider,ot,new k.L(He.startLineNumber,He.startColumn),le).filter(lt=>!(0,Ve.CP)(lt.hover.contents)).map(lt=>new oe.hU(this,Q.item.anchor.range,lt.hover.contents,!1,2+lt.ordinal)):v.Aq.EMPTY}finally{Je.dispose()}})}};be=function(pe,Q,le,Fe){var ot,He=arguments.length,Je=He<3?Q:null===Fe?Fe=Object.getOwnPropertyDescriptor(Q,le):Fe;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Je=Reflect.decorate(pe,Q,le,Fe);else for(var lt=pe.length-1;lt>=0;lt--)(ot=pe[lt])&&(Je=(He<3?ot(Je):He>3?ot(Q,le,Je):ot(Q,le))||Je);return He>3&&Je&&Object.defineProperty(Q,le,Je),Je}([ke(1,De.O),ke(2,x.v4),ke(3,Y.Ui),ke(4,N.S),ke(5,D.p)],be),(0,f._K)(Ie.ID,Ie,1),P.Ae.register(be)},10456:(Xe,we,e)=>{e.d(we,{K:()=>m,u:()=>a});var f=e(20274),P=e(54457),r=e(87618),y=e(58778),v=e(96726),S=e(56230),T=e(88516),E=e(69027),L=e(63032),p=e(11813),c=e(66221),u=e(76485),g=e(12065),i=e(22438),d=function(l,I,w,D){return new(w||(w=Promise))(function(A,k){function R(z){try{W(D.next(z))}catch(U){k(U)}}function O(z){try{W(D.throw(z))}catch(U){k(U)}}function W(z){z.done?A(z.value):function N(A){return A instanceof w?A:new w(function(k){k(A)})}(z.value).then(R,O)}W((D=D.apply(l,I||[])).next())})};function a(l,I,w,D){var N;return d(this,void 0,void 0,function*(){const A=l.get(S.S),k=l.get(u.i),R=l.get(p.H),O=l.get(g.TG),W=l.get(i.lT);if(yield D.item.resolve(r.T.None),!D.part.location)return;const z=D.part.location,U=[],ee=new Set(L.BH.getMenuItems(L.eH.EditorContext).map(G=>(0,L.vr)(G)?G.command.id:(0,y.R)()));for(const G of T.Bj.all())ee.has(G.desc.id)&&U.push(new P.aU(G.desc.id,L.U8.label(G.desc,{renderShortTitle:!0}),void 0,!0,()=>d(this,void 0,void 0,function*(){const se=yield A.createModelReference(z.uri);try{const j=new T._k(se.object.textEditorModel,v.e.getStartPosition(z.range)),$=D.item.anchor.range;yield O.invokeFunction(G.runEditorCommand.bind(G),I,j,$)}finally{se.dispose()}})));if(D.part.command){const{command:G}=D.part;U.push(new P.Z0),U.push(new P.aU(G.id,G.title,void 0,!0,()=>d(this,void 0,void 0,function*(){var se;try{yield R.executeCommand(G.id,...null!==(se=G.arguments)&&void 0!==se?se:[])}catch(j){W.notify({severity:i.zb.Error,source:D.item.provider.displayName,message:j})}})))}const B=I.getOption(125);k.showContextMenu({domForShadowRoot:B&&null!==(N=I.getDomNode())&&void 0!==N?N:void 0,getAnchor:()=>{const G=f.i(w);return{x:G.left,y:G.top+G.height+8}},getActions:()=>U,onHide:()=>{I.focus()},autoSelectFirstItem:!0})})}function m(l,I,w,D){return d(this,void 0,void 0,function*(){const A=yield l.get(S.S).createModelReference(D.uri);yield w.invokeWithinContext(k=>d(this,void 0,void 0,function*(){const R=I.hasSideBySideModifier,O=k.get(c.i6),W=E.Jy.inPeekEditor.getValue(O),z=!R&&w.getOption(86)&&!W;return new T.BT({openToSide:R,openInPeek:z,muteMessage:!0},{title:{value:"",original:""},id:"",precondition:void 0}).run(k,new T._k(A.object.textEditorModel,v.e.getStartPosition(D.range)),v.e.lift(D.range))})),A.dispose()})}},75949:(Xe,we,e)=>{e.d(we,{Np:()=>P,OW:()=>r,Ou:()=>f});const f="editor.action.inlineSuggest.commit",P="editor.action.inlineSuggest.showPrevious",r="editor.action.inlineSuggest.showNext"},12625:(Xe,we,e)=>{e.d(we,{f:()=>T});var f=e(88976),P=e(16055),r=e(96678),y=e(66221),v=e(78694),S=e(37190);class T extends v.JT{constructor(L,p){super(),this.contextKeyService=L,this.model=p,this.inlineCompletionVisible=T.inlineSuggestionVisible.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentation=T.inlineSuggestionHasIndentation.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentationLessThanTabSize=T.inlineSuggestionHasIndentationLessThanTabSize.bindTo(this.contextKeyService),this.suppressSuggestions=T.suppressSuggestions.bindTo(this.contextKeyService),this._register((0,f.EH)(c=>{const u=this.model.read(c),g=u?.state.read(c),i=!!g?.inlineCompletion&&void 0!==g?.ghostText&&!g?.ghostText.isEmpty();this.inlineCompletionVisible.set(i),g?.ghostText&&g?.inlineCompletion&&this.suppressSuggestions.set(g.inlineCompletion.inlineCompletion.source.inlineCompletions.suppressSuggestions)})),this._register((0,f.EH)(c=>{const u=this.model.read(c);let g=!1,i=!0;const d=u?.ghostText.read(c);if(u?.selectedSuggestItem&&d&&d.parts.length>0){const{column:a,lines:m}=d.parts[0],l=m[0];if(a<=u.textModel.getLineIndentColumn(d.lineNumber)){let D=(0,P.LC)(l);-1===D&&(D=l.length-1),g=D>0;const N=u.textModel.getOptions().tabSize;i=r.i.visibleColumnFromColumn(l,D+1,N)<N}}this.inlineCompletionSuggestsIndentation.set(g),this.inlineCompletionSuggestsIndentationLessThanTabSize.set(i)}))}}T.inlineSuggestionVisible=new y.uy("inlineSuggestionVisible",!1,(0,S.NC)("inlineSuggestionVisible","Whether an inline suggestion is visible")),T.inlineSuggestionHasIndentation=new y.uy("inlineSuggestionHasIndentation",!1,(0,S.NC)("inlineSuggestionHasIndentation","Whether the inline suggestion starts with whitespace")),T.inlineSuggestionHasIndentationLessThanTabSize=new y.uy("inlineSuggestionHasIndentationLessThanTabSize",!0,(0,S.NC)("inlineSuggestionHasIndentationLessThanTabSize","Whether the inline suggestion starts with whitespace that is less than what would be inserted by tab")),T.suppressSuggestions=new y.uy("inlineSuggestionSuppressSuggestions",void 0,(0,S.NC)("suppressSuggestions","Whether suggestions should be suppressed for the current suggestion"))},5711:(Xe,we,e)=>{var f=e(8256),P=e(9282),r=e(88976),y=e(15446),v=e(75949),S=e(12625),T=e(41539),E=e(58178),L=e(78694),p=e(92987),c=e(68678),u=e(31663),g=e(55763),i=e(75578),d=e(16055),a=e(93379),m=e.n(a),l=e(7795),I=e.n(l),w=e(90569),D=e.n(w),N=e(3565),A=e.n(N),k=e(19216),R=e.n(k),O=e(44589),W=e.n(O),z=e(77682),U={};U.styleTagTransform=W(),U.setAttributes=A(),U.insert=D().bind(null,"head"),U.domAPI=I(),U.insertStyleElement=R(),m()(z.Z,U);var G=e(91988),se=e(36413),j=e(96726),$=e(85460),K=e(74315),J=e(24470),te=e(39424),ne=e(48092),_=e(82911),ae=e(17967);class _e{constructor(he){this.lineStartOffsetByLineIdx=[],this.lineStartOffsetByLineIdx.push(0);for(let Be=0;Be<he.length;Be++)"\n"===he.charAt(Be)&&this.lineStartOffsetByLineIdx.push(Be+1)}getOffset(he){return this.lineStartOffsetByLineIdx[he.lineNumber-1]+he.column-1}}const ue=[];class Ie{constructor(he,Be){if(this.startColumn=he,this.endColumnExclusive=Be,he>Be)throw new ae.he(`startColumn ${he} cannot be after endColumnExclusive ${Be}`)}toRange(he){return new j.e(he,this.startColumn,he,this.endColumnExclusive)}equals(he){return this.startColumn===he.startColumn&&this.endColumnExclusive===he.endColumnExclusive}}function Ve(Me,he){return new c.L(Me.lineNumber+he.lineNumber-1,1===he.lineNumber?Me.column+he.column-1:he.column)}function De(Me){let he=1,Be=1;for(const Ke of Me)"\n"===Ke?(he++,Be=1):Be++;return new c.L(he,Be)}class ye{constructor(he,Be){this.lineNumber=he,this.parts=Be}equals(he){return this.lineNumber===he.lineNumber&&this.parts.length===he.parts.length&&this.parts.every((Be,Ke)=>Be.equals(he.parts[Ke]))}renderForScreenReader(he){return 0===this.parts.length?"":function ge(Me,he){const Be=new _e(Me),Ke=he.map(Ye=>{const dt=j.e.lift(Ye.range);return{startOffset:Be.getOffset(dt.getStartPosition()),endOffset:Be.getOffset(dt.getEndPosition()),text:Ye.text}});Ke.sort((Ye,dt)=>dt.startOffset-Ye.startOffset);for(const Ye of Ke)Me=Me.substring(0,Ye.startOffset)+Ye.text+Me.substring(Ye.endOffset);return Me}(he.substr(0,this.parts[this.parts.length-1].column-1),this.parts.map(dt=>({range:{startLineNumber:1,endLineNumber:1,startColumn:dt.column,endColumn:dt.column},text:dt.lines.join("\n")}))).substring(this.parts[0].column-1)}isEmpty(){return this.parts.every(he=>0===he.lines.length)}get lineCount(){return 1+this.parts.reduce((he,Be)=>he+Be.lines.length-1,0)}}class oe{constructor(he,Be,Ke){this.column=he,this.lines=Be,this.preview=Ke}equals(he){return this.column===he.column&&this.lines.length===he.lines.length&&this.lines.every((Be,Ke)=>Be===he.lines[Ke])}}class Y{constructor(he,Be,Ke,Ye=0){this.lineNumber=he,this.columnRange=Be,this.newLines=Ke,this.additionalReservedLineCount=Ye,this.parts=[new oe(this.columnRange.endColumnExclusive,this.newLines,!1)]}renderForScreenReader(he){return this.newLines.join("\n")}get lineCount(){return this.newLines.length}isEmpty(){return this.parts.every(he=>0===he.lines.length)}equals(he){return this.lineNumber===he.lineNumber&&this.columnRange.equals(he.columnRange)&&this.newLines.length===he.newLines.length&&this.newLines.every((Be,Ke)=>Be===he.newLines[Ke])&&this.additionalReservedLineCount===he.additionalReservedLineCount}}function x(Me,he){return Me===he||!(!Me||!he)&&(Me instanceof ye&&he instanceof ye||Me instanceof Y&&he instanceof Y)&&Me.equals(he)}let Ce=class extends L.JT{constructor(he,Be,Ke){super(),this.editor=he,this.model=Be,this.languageService=Ke,this.isDisposed=(0,r.uh)("isDisposed",!1),this.currentTextModel=(0,r.rD)(this.editor.onDidChangeModel,()=>this.editor.getModel()),this.uiState=(0,r.nK)(Ye=>{if(this.isDisposed.read(Ye))return;const dt=this.currentTextModel.read(Ye);if(dt!==this.model.targetTextModel.read(Ye))return;const zt=this.model.ghostText.read(Ye);if(!zt)return;const _i=zt instanceof Y?zt.columnRange:void 0,mi=[],qt=[];function oi($t,Ii){if(qt.length>0){const si=qt[qt.length-1];Ii&&si.decorations.push(new ne.Kp(si.content.length+1,si.content.length+1+$t[0].length,Ii,0)),si.content+=$t[0],$t=$t.slice(1)}for(const si of $t)qt.push({content:si,decorations:Ii?[new ne.Kp(1,si.length+1,Ii,0)]:[]})}const Ai=dt.getLineContent(zt.lineNumber);let Wi,$i=0;for(const $t of zt.parts){let Ii=$t.lines;void 0===Wi?(mi.push({column:$t.column,text:Ii[0],preview:$t.preview}),Ii=Ii.slice(1)):oi([Ai.substring($i,$t.column-1)],void 0),Ii.length>0&&(oi(Ii,"ghost-text"),void 0===Wi&&$t.column<=Ai.length&&(Wi=$t.column)),$i=$t.column-1}void 0!==Wi&&oi([Ai.substring($i)],void 0);const fi=void 0!==Wi?new Ie(Wi,Ai.length+1):void 0;return{replacedRange:_i,inlineTexts:mi,additionalLines:qt,hiddenRange:fi,lineNumber:zt.lineNumber,additionalReservedLineCount:this.model.minReservedLineCount.read(Ye),targetTextModel:dt}}),this.decorations=(0,r.nK)(Ye=>{const dt=this.uiState.read(Ye);if(!dt)return[];const zt=[];dt.replacedRange&&zt.push({range:dt.replacedRange.toRange(dt.lineNumber),options:{inlineClassName:"inline-completion-text-to-replace",description:"GhostTextReplacement"}}),dt.hiddenRange&&zt.push({range:dt.hiddenRange.toRange(dt.lineNumber),options:{inlineClassName:"ghost-text-hidden",description:"ghost-text-hidden"}});for(const _i of dt.inlineTexts)zt.push({range:j.e.fromPositions(new c.L(dt.lineNumber,_i.column)),options:{description:"ghost-text",after:{content:_i.text,inlineClassName:_i.preview?"ghost-text-decoration-preview":"ghost-text-decoration",cursorStops:J.RM.Left},showIfCollapsed:!0}});return zt}),this.additionalLinesWidget=this._register(new ke(this.editor,this.languageService.languageIdCodec,(0,r.nK)(Ye=>{const dt=this.uiState.read(Ye);return dt?{lineNumber:dt.lineNumber,additionalLines:dt.additionalLines,minReservedLineCount:dt.additionalReservedLineCount,targetTextModel:dt.targetTextModel}:void 0}))),this._register((0,L.OF)(()=>{this.isDisposed.set(!0,void 0)})),this._register(function Se(Me,he){const Be=new L.SL,Ke=Me.createDecorationsCollection();return Be.add((0,r.UV)({debugName:()=>`Apply decorations from ${he.debugName}`},Ye=>{const dt=he.read(Ye);Ke.set(dt)})),Be.add({dispose:()=>{Ke.clear()}}),Be}(this.editor,this.decorations))}ownsViewZone(he){return this.additionalLinesWidget.viewZoneId===he}};var he;Ce=function(Me,he,Be,Ke){var zt,Ye=arguments.length,dt=Ye<3?he:null===Ke?Ke=Object.getOwnPropertyDescriptor(he,Be):Ke;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)dt=Reflect.decorate(Me,he,Be,Ke);else for(var _i=Me.length-1;_i>=0;_i--)(zt=Me[_i])&&(dt=(Ye<3?zt(dt):Ye>3?zt(he,Be,dt):zt(he,Be))||dt);return Ye>3&&dt&&Object.defineProperty(he,Be,dt),dt}([(2,he=K.O,function(Be,Ke){he(Be,Ke,2)})],Ce);class ke extends L.JT{get viewZoneId(){return this._viewZoneId}constructor(he,Be,Ke){super(),this.editor=he,this.languageIdCodec=Be,this.lines=Ke,this._viewZoneId=void 0,this.editorOptionsChanged=(0,r.aq)("editorOptionChanged",E.ju.filter(this.editor.onDidChangeConfiguration,Ye=>Ye.hasChanged(32)||Ye.hasChanged(115)||Ye.hasChanged(97)||Ye.hasChanged(92)||Ye.hasChanged(50)||Ye.hasChanged(49)||Ye.hasChanged(65))),this._register((0,r.EH)(Ye=>{const dt=this.lines.read(Ye);this.editorOptionsChanged.read(Ye),dt?this.updateLines(dt.lineNumber,dt.additionalLines,dt.minReservedLineCount):this.clear()}))}dispose(){super.dispose(),this.clear()}clear(){this.editor.changeViewZones(he=>{this._viewZoneId&&(he.removeZone(this._viewZoneId),this._viewZoneId=void 0)})}updateLines(he,Be,Ke){const Ye=this.editor.getModel();if(!Ye)return;const{tabSize:dt}=Ye.getOptions();this.editor.changeViewZones(zt=>{this._viewZoneId&&(zt.removeZone(this._viewZoneId),this._viewZoneId=void 0);const _i=Math.max(Be.length,Ke);if(_i>0){const mi=document.createElement("div");(function Pe(Me,he,Be,Ke,Ye){const dt=Ke.get(32),zt=Ke.get(115),mi=Ke.get(92),qt=Ke.get(50),oi=Ke.get(49),Ai=Ke.get(65),Wi=new $.HT(1e4);Wi.appendString('<div class="suggest-preview-text">');for(let $t=0,Ii=Be.length;$t<Ii;$t++){const si=Be[$t],nn=si.content;Wi.appendString('<div class="view-line'),Wi.appendString('" style="top:'),Wi.appendString(String($t*Ai)),Wi.appendString('px;width:1000000px;">');const en=d.$i(nn),yn=d.Ut(nn),An=te.A.createEmpty(nn,Ye);(0,_.d1)(new _.IJ(oi.isMonospace&&!dt,oi.canUseHalfwidthRightwardsArrow,nn,!1,en,yn,0,An,si.decorations,he,0,oi.spaceWidth,oi.middotWidth,oi.wsmiddotWidth,zt,"none",mi,qt!==se.n0.OFF,null),Wi),Wi.appendString("</div>")}Wi.appendString("</div>"),(0,G.N)(Me,oi);const $i=Wi.build(),fi=xe?xe.createHTML($i):$i;Me.innerHTML=fi})(mi,dt,Be,this.editor.getOptions(),this.languageIdCodec),this._viewZoneId=zt.addZone({afterLineNumber:he,heightInLines:_i,domNode:mi,afterColumnAffinity:1})}})}}const xe=(0,i.Z)("editorGhostText",{createHTML:Me=>Me});var fe=e(27504),be=e(31738),pe=e(91402),Q=e(20158),le=e(81814),Fe=e(58459),He=e(87618),Je=e(55769),ot=e(37836),lt=e(85328),mt=e(715),ft=e(43091),Lt=e(32353),Tt=e(18193),Mt=e(17529),Ut=e(81780);class It{constructor(he){this.lines=he,this.tokenization={getLineTokens:Be=>this.lines[Be-1]}}getLineCount(){return this.lines.length}getLineLength(he){return this.lines[he-1].getLineContent().length}}var it=e(36791),qe=function(Me,he,Be,Ke){return new(Be||(Be=Promise))(function(dt,zt){function _i(oi){try{qt(Ke.next(oi))}catch(Ai){zt(Ai)}}function mi(oi){try{qt(Ke.throw(oi))}catch(Ai){zt(Ai)}}function qt(oi){oi.done?dt(oi.value):function Ye(dt){return dt instanceof Be?dt:new Be(function(zt){zt(dt)})}(oi.value).then(_i,mi)}qt((Ke=Ke.apply(Me,he||[])).next())})};function Ze(Me,he,Be,Ke,Ye=He.T.None,dt){return qe(this,void 0,void 0,function*(){const zt=function ht(Me,he){const Be=he.getWordAtPosition(Me),Ke=he.getLineMaxColumn(Me.lineNumber);return Be?new j.e(Me.lineNumber,Be.startColumn,Me.lineNumber,Ke):j.e.fromPositions(Me,Me.with(void 0,Ke))}(he,Be),_i=Me.all(Be),mi=new mt.r;for(const si of _i)si.groupId&&mi.add(si.groupId,si);function qt(si){if(!si.yieldsToGroupIds)return[];const nn=[];for(const en of si.yieldsToGroupIds||[]){const yn=mi.get(en);for(const An of yn)nn.push(An)}return nn}const oi=new Map,Ai=new Set;function Wi(si,nn){if(nn=[...nn,si],Ai.has(si))return nn;Ai.add(si);try{const en=qt(si);for(const yn of en){const An=Wi(yn,nn);if(An)return An}}finally{Ai.delete(si)}}function $i(si){const nn=oi.get(si);if(nn)return nn;const en=Wi(si,[]);en&&(0,ae.Cp)(new Error(`Inline completions: cyclic yield-to dependency detected. Path: ${en.map(An=>An.toString?An.toString():""+An).join(" -> ")}`));const yn=new lt.CR;return oi.set(si,yn.p),(()=>qe(this,void 0,void 0,function*(){if(!en){const An=qt(si);for(const ro of An){const ao=yield $i(ro);if(ao&&ao.items.length>0)return}}try{return yield si.provideInlineCompletions(Be,he,Ke,Ye)}catch(An){return void(0,ae.Cp)(An)}}))().then(An=>yn.complete(An),An=>yn.error(An)),yn.p}const fi=yield Promise.all(_i.map(si=>qe(this,void 0,void 0,function*(){return{provider:si,completions:yield $i(si)}}))),$t=new Map,Ii=[];for(const si of fi){const nn=si.completions;if(!nn)continue;const en=new Te(nn,si.provider);Ii.push(en);for(const yn of nn.items){const An=Ae.from(yn,en,zt,Be,dt);$t.set(An.hash(),An)}}return new Ee(Array.from($t.values()),new Set($t.keys()),Ii)})}class Ee{constructor(he,Be,Ke){this.completions=he,this.hashs=Be,this.providerResults=Ke}has(he){return this.hashs.has(he.hash())}dispose(){for(const he of this.providerResults)he.removeRef()}}class Te{constructor(he,Be){this.inlineCompletions=he,this.provider=Be,this.refCount=1}addRef(){this.refCount++}removeRef(){this.refCount--,0===this.refCount&&this.provider.freeInlineCompletions(this.inlineCompletions)}}class Ae{static from(he,Be,Ke,Ye,dt){let zt,_i,mi=he.range?j.e.lift(he.range):Ke;if("string"==typeof he.insertText){if(zt=he.insertText,dt&&he.completeBracketPairs){zt=yt(zt,mi.getStartPosition(),Ye,dt);const qt=zt.length-he.insertText.length;0!==qt&&(mi=new j.e(mi.startLineNumber,mi.startColumn,mi.endLineNumber,mi.endColumn+qt))}_i=void 0}else if("snippet"in he.insertText){const qt=he.insertText.snippet.length;if(dt&&he.completeBracketPairs){he.insertText.snippet=yt(he.insertText.snippet,mi.getStartPosition(),Ye,dt);const Ai=he.insertText.snippet.length-qt;0!==Ai&&(mi=new j.e(mi.startLineNumber,mi.startColumn,mi.endLineNumber,mi.endColumn+Ai))}const oi=(new it.Yj).parse(he.insertText.snippet);1===oi.children.length&&oi.children[0]instanceof it.xv?(zt=oi.children[0].value,_i=void 0):(zt=oi.toString(),_i={snippet:he.insertText.snippet,range:mi})}else(0,ot.vE)(he.insertText);return new Ae(zt,he.command,mi,zt,_i,he.additionalTextEdits||function ve(){return ue}(),he,Be)}constructor(he,Be,Ke,Ye,dt,zt,_i,mi){this.filterText=he,this.command=Be,this.range=Ke,this.insertText=Ye,this.snippetInfo=dt,this.additionalTextEdits=zt,this.sourceInlineCompletion=_i,this.source=mi,Ye=(he=he.replace(/\r\n|\r/g,"\n")).replace(/\r\n|\r/g,"\n")}withRange(he){return new Ae(this.filterText,this.command,he,this.insertText,this.snippetInfo,this.additionalTextEdits,this.sourceInlineCompletion,this.source)}hash(){return JSON.stringify({insertText:this.insertText,range:this.range.toString()})}}function yt(Me,he,Be,Ke){const dt=Be.getLineContent(he.lineNumber).substring(0,he.column-1)+Me,zt=Be.tokenization.tokenizeLineWithEdit(he,dt.length-(he.column-1),Me),_i=zt?.sliceAndInflate(he.column-1,dt.length,0);return _i?function At(Me,he){const Be=new Mt.FE,Ke=new ft.Z(Be,qt=>he.getLanguageConfiguration(qt)),Ye=new Ut.xH(new It([Me]),Ke),dt=(0,Tt.w)(Ye,[],void 0,!0);let zt="";const _i=Me.getLineContent();return function mi(qt,oi){if(2===qt.kind)if(mi(qt.openingBracket,oi),oi=(0,Lt.Ii)(oi,qt.openingBracket.length),qt.child&&(mi(qt.child,oi),oi=(0,Lt.Ii)(oi,qt.child.length)),qt.closingBracket)mi(qt.closingBracket,oi),oi=(0,Lt.Ii)(oi,qt.closingBracket.length);else{const Wi=Ke.getSingleLanguageBracketTokens(qt.openingBracket.languageId).findClosingTokenText(qt.openingBracket.bracketIds);zt+=Wi}else if(3!==qt.kind)if(0===qt.kind||1===qt.kind)zt+=_i.substring((0,Lt.F_)(oi),(0,Lt.F_)((0,Lt.Ii)(oi,qt.length)));else if(4===qt.kind)for(const Ai of qt.children)mi(Ai,oi),oi=(0,Lt.Ii)(oi,Ai.length)}(dt,Lt.xl),zt}(_i,Ke):Me}var Dt=e(55507);class Ot{constructor(he,Be){this.range=he,this.text=Be}removeCommonPrefix(he,Be){const Ke=Be?this.range.intersectRanges(Be):this.range;if(!Ke)return this;const Ye=he.getValueInRange(Ke,1),dt=(0,d.Mh)(Ye,this.text),zt=Ve(this.range.getStartPosition(),De(Ye.substring(0,dt))),_i=this.text.substring(dt),mi=j.e.fromPositions(zt,this.range.getEndPosition());return new Ot(mi,_i)}augments(he){return this.text.startsWith(he.text)&&function gt(Me,he){return he.getStartPosition().equals(Me.getStartPosition())&&he.getEndPosition().isBeforeOrEqual(Me.getEndPosition())}(this.range,he.range)}computeGhostText(he,Be,Ke,Ye=0){let dt=this.removeCommonPrefix(he);if(dt.range.endLineNumber!==dt.range.startLineNumber)return;const zt=he.getLineContent(dt.range.startLineNumber),_i=(0,d.V8)(zt).length;if(dt.range.startColumn-1<=_i){const fi=(0,d.V8)(dt.text).length,$t=zt.substring(dt.range.startColumn-1,_i),[Ii,si]=[dt.range.getStartPosition(),dt.range.getEndPosition()],nn=Ii.column+$t.length<=si.column?Ii.delta(0,$t.length):si,en=j.e.fromPositions(nn,si),yn=dt.text.startsWith($t)?dt.text.substring($t.length):dt.text.substring(fi);dt=new Ot(en,yn)}const qt=he.getValueInRange(dt.range),oi=function Zt(Me,he){if(Rt?.originalValue===Me&&Rt?.newValue===he)return Rt?.changes;{let Be=ci(Me,he,!0);if(Be){const Ke=Ci(Be);if(Ke>0){const Ye=ci(Me,he,!1);Ye&&Ci(Ye)<Ke&&(Be=Ye)}}return Rt={originalValue:Me,newValue:he,changes:Be},Be}}(qt,dt.text);if(!oi)return;const Ai=dt.range.startLineNumber,Wi=new Array;if("prefix"===Be){const fi=oi.filter($t=>0===$t.originalLength);if(fi.length>1||1===fi.length&&fi[0].originalStart!==qt.length)return}const $i=dt.text.length-Ye;for(const fi of oi){const $t=dt.range.startColumn+fi.originalStart+fi.originalLength;if("subwordSmart"===Be&&Ke&&Ke.lineNumber===dt.range.startLineNumber&&$t<Ke.column||fi.originalLength>0)return;if(0===fi.modifiedLength)continue;const Ii=fi.modifiedStart+fi.modifiedLength,si=Math.max(fi.modifiedStart,Math.min(Ii,$i)),nn=dt.text.substring(fi.modifiedStart,si),en=dt.text.substring(si,Math.max(fi.modifiedStart,Ii));if(nn.length>0){const yn=(0,d.uq)(nn);Wi.push(new oe($t,yn,!1))}if(en.length>0){const yn=(0,d.uq)(en);Wi.push(new oe($t,yn,!0))}}return new ye(Ai,Wi)}}let Rt;function Ci(Me){let he=0;for(const Be of Me)he+=Be.originalLength;return he}function ci(Me,he,Be){if(Me.length>5e3||he.length>5e3)return;function Ke(qt){let oi=0;for(let Ai=0,Wi=qt.length;Ai<Wi;Ai++){const $i=qt.charCodeAt(Ai);$i>oi&&(oi=$i)}return oi}const Ye=Math.max(Ke(Me),Ke(he));function dt(qt){if(qt<0)throw new Error("unexpected");return Ye+qt+1}function zt(qt){let oi=0,Ai=0;const Wi=new Int32Array(qt.length);for(let $i=0,fi=qt.length;$i<fi;$i++)Be&&"("===qt[$i]?(Wi[$i]=dt(2*(100*Ai+oi)),oi++):Be&&")"===qt[$i]?(oi=Math.max(oi-1,0),Wi[$i]=dt(2*(100*Ai+oi)+1),0===oi&&Ai++):Wi[$i]=qt.charCodeAt($i);return Wi}const _i=zt(Me),mi=zt(he);return new Dt.Hs({getElements:()=>_i},{getElements:()=>mi}).ComputeDiff(!1).changes}var Gi=function(Me,he){return function(Be,Ke){he(Be,Ke,Me)}};let St=class extends L.JT{constructor(he,Be,Ke,Ye,dt){super(),this.textModel=he,this.versionId=Be,this._debounceValue=Ke,this.languageFeaturesService=Ye,this.languageConfigurationService=dt,this._updateOperation=this._register(new L.XK),this.inlineCompletions=(0,r.DN)("inlineCompletions",void 0),this.suggestWidgetInlineCompletions=(0,r.DN)("suggestWidgetInlineCompletions",void 0),this._register(this.textModel.onDidChangeContent(()=>{this._updateOperation.clear()}))}fetch(he,Be,Ke){var Ye,dt;const zt=new ut(he,Be,this.textModel.getVersionId()),_i=Be.selectedSuggestionInfo?this.suggestWidgetInlineCompletions:this.inlineCompletions;if(null!==(Ye=this._updateOperation.value)&&void 0!==Ye&&Ye.request.satisfies(zt))return this._updateOperation.value.promise;if(null!==(dt=_i.get())&&void 0!==dt&&dt.request.satisfies(zt))return Promise.resolve(!0);const mi=!!this._updateOperation.value;this._updateOperation.clear();const qt=new He.A,oi=(()=>function(Me,he,Be,Ke){return new(Be||(Be=Promise))(function(dt,zt){function _i(oi){try{qt(Ke.next(oi))}catch(Ai){zt(Ai)}}function mi(oi){try{qt(Ke.throw(oi))}catch(Ai){zt(Ai)}}function qt(oi){oi.done?dt(oi.value):function Ye(dt){return dt instanceof Be?dt:new Be(function(zt){zt(dt)})}(oi.value).then(_i,mi)}qt((Ke=Ke.apply(Me,he||[])).next())})}(this,void 0,void 0,function*(){if((mi||Be.triggerKind===le.bw.Automatic)&&(yield function st(Me,he){return new Promise(Be=>{let Ke;const Ye=setTimeout(()=>{Ke&&Ke.dispose(),Be()},Me);he&&(Ke=he.onCancellationRequested(()=>{clearTimeout(Ye),Ke&&Ke.dispose(),Be()}))})}(this._debounceValue.get(this.textModel))),qt.token.isCancellationRequested||this.textModel.getVersionId()!==zt.versionId)return!1;const $i=new Date,fi=yield Ze(this.languageFeaturesService.inlineCompletionsProvider,he,this.textModel,Be,qt.token,this.languageConfigurationService);if(qt.token.isCancellationRequested||this.textModel.getVersionId()!==zt.versionId)return!1;this._debounceValue.update(this.textModel,(new Date).getTime()-$i.getTime());const Ii=new je(fi,zt,this.textModel,this.versionId);if(Ke){const si=Ke.toInlineCompletion(void 0);Ke.canBeReused(this.textModel,he)&&!fi.has(si)&&Ii.prepend(Ke.inlineCompletion,si.range,!0)}return this._updateOperation.clear(),(0,r.PS)(si=>{_i.set(Ii,si)}),!0}))(),Ai=new Ne(zt,qt,oi);return this._updateOperation.value=Ai,oi}clear(he){this._updateOperation.clear(),this.inlineCompletions.set(void 0,he),this.suggestWidgetInlineCompletions.set(void 0,he)}clearSuggestWidgetInlineCompletions(he){var Be;!(null===(Be=this._updateOperation.value)||void 0===Be)&&Be.request.context.selectedSuggestionInfo&&this._updateOperation.clear(),this.suggestWidgetInlineCompletions.set(void 0,he)}cancelUpdate(){this._updateOperation.clear()}};St=function(Me,he,Be,Ke){var zt,Ye=arguments.length,dt=Ye<3?he:null===Ke?Ke=Object.getOwnPropertyDescriptor(he,Be):Ke;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)dt=Reflect.decorate(Me,he,Be,Ke);else for(var _i=Me.length-1;_i>=0;_i--)(zt=Me[_i])&&(dt=(Ye<3?zt(dt):Ye>3?zt(he,Be,dt):zt(he,Be))||dt);return Ye>3&&dt&&Object.defineProperty(he,Be,dt),dt}([Gi(3,g.p),Gi(4,Fe.c_)],St);class ut{constructor(he,Be,Ke){this.position=he,this.context=Be,this.versionId=Ke}satisfies(he){return this.position.equals(he.position)&&function pt(Me,he,Be){return Me&&he?Be(Me,he):Me===he}(this.context.selectedSuggestionInfo,he.context.selectedSuggestionInfo,(Be,Ke)=>Be.equals(Ke))&&(he.context.triggerKind===le.bw.Automatic||this.context.triggerKind===le.bw.Explicit)&&this.versionId===he.versionId}}class Ne{constructor(he,Be,Ke){this.request=he,this.cancellationTokenSource=Be,this.promise=Ke}dispose(){this.cancellationTokenSource.cancel()}}class je{get inlineCompletions(){return this._inlineCompletions}constructor(he,Be,Ke,Ye){this.inlineCompletionProviderResult=he,this.request=Be,this.textModel=Ke,this.versionId=Ye,this._refCount=1,this._prependedInlineCompletionItems=[],this._rangeVersionIdValue=0,this._rangeVersionId=(0,r.nK)(zt=>{this.versionId.read(zt);let _i=!1;for(const mi of this._inlineCompletions)_i=_i||mi._updateRange(this.textModel);return _i&&this._rangeVersionIdValue++,this._rangeVersionIdValue});const dt=Ke.deltaDecorations([],he.completions.map(zt=>({range:zt.range,options:{description:"inline-completion-tracking-range"}})));this._inlineCompletions=he.completions.map((zt,_i)=>new et(zt,dt[_i],this._rangeVersionId))}clone(){return this._refCount++,this}dispose(){if(this._refCount--,0===this._refCount){setTimeout(()=>{this.textModel.isDisposed()||this.textModel.deltaDecorations(this._inlineCompletions.map(he=>he.decorationId),[])},0),this.inlineCompletionProviderResult.dispose();for(const he of this._prependedInlineCompletionItems)he.source.removeRef()}}prepend(he,Be,Ke){Ke&&he.source.addRef();const Ye=this.textModel.deltaDecorations([],[{range:Be,options:{description:"inline-completion-tracking-range"}}])[0];this._inlineCompletions.unshift(new et(he,Ye,this._rangeVersionId,Be)),this._prependedInlineCompletionItems.push(he)}}class et{get forwardStable(){var he;return null!==(he=this.inlineCompletion.source.inlineCompletions.enableForwardStability)&&void 0!==he&&he}constructor(he,Be,Ke,Ye){this.inlineCompletion=he,this.decorationId=Be,this.rangeVersion=Ke,this.semanticId=JSON.stringify([this.inlineCompletion.filterText,this.inlineCompletion.insertText,this.inlineCompletion.range.getStartPosition().toString()]),this._isValid=!0,this._updatedRange=Ye??he.range}toInlineCompletion(he){return this.inlineCompletion.withRange(this._getUpdatedRange(he))}toSingleTextEdit(he){return new Ot(this._getUpdatedRange(he),this.inlineCompletion.insertText)}isVisible(he,Be,Ke){const Ye=this._toFilterTextReplacement(Ke).removeCommonPrefix(he);if(!this._isValid||!this.inlineCompletion.range.getStartPosition().equals(this._getUpdatedRange(Ke).getStartPosition())||Be.lineNumber!==Ye.range.startLineNumber)return!1;const dt=he.getValueInRange(Ye.range,1).toLowerCase(),zt=Ye.text.toLowerCase(),_i=Math.max(0,Be.column-Ye.range.startColumn);let mi=zt.substring(0,_i),qt=zt.substring(_i),oi=dt.substring(0,_i),Ai=dt.substring(_i);const Wi=he.getLineIndentColumn(Ye.range.startLineNumber);return Ye.range.startColumn<=Wi&&(oi=oi.trimStart(),0===oi.length&&(Ai=Ai.trimStart()),mi=mi.trimStart(),0===mi.length&&(qt=qt.trimStart())),mi.startsWith(oi)&&!!(0,Je.Sy)(Ai,qt)}canBeReused(he,Be){return this._isValid&&this._getUpdatedRange(void 0).containsPosition(Be)&&this.isVisible(he,Be,void 0)&&!this._isSmallerThanOriginal(void 0)}_toFilterTextReplacement(he){return new Ot(this._getUpdatedRange(he),this.inlineCompletion.filterText)}_isSmallerThanOriginal(he){return wt(this._getUpdatedRange(he)).isBefore(wt(this.inlineCompletion.range))}_getUpdatedRange(he){return this.rangeVersion.read(he),this._updatedRange}_updateRange(he){const Be=he.getDecorationRange(this.decorationId);return Be?!this._updatedRange.equalsRange(Be)&&(this._updatedRange=Be,!0):(this._isValid=!1,!0)}}function wt(Me){return Me.startLineNumber===Me.endLineNumber?new c.L(1,1+Me.endColumn-Me.startColumn):new c.L(1+Me.endLineNumber-Me.startLineNumber,Me.endColumn)}var Bt=e(13933),xt=e(11813),Qt=e(12065),gi=function(Me,he){return function(Be,Ke){he(Be,Ke,Me)}},di=function(Me,he,Be,Ke){return new(Be||(Be=Promise))(function(dt,zt){function _i(oi){try{qt(Ke.next(oi))}catch(Ai){zt(Ai)}}function mi(oi){try{qt(Ke.throw(oi))}catch(Ai){zt(Ai)}}function qt(oi){oi.done?dt(oi.value):function Ye(dt){return dt instanceof Be?dt:new Be(function(zt){zt(dt)})}(oi.value).then(_i,mi)}qt((Ke=Ke.apply(Me,he||[])).next())})},Ei=function(Me){return Me[Me.Undo=0]="Undo",Me[Me.Redo=1]="Redo",Me[Me.AcceptWord=2]="AcceptWord",Me[Me.Other=3]="Other",Me}(Ei||{});let Ki=class extends L.JT{get isAcceptingPartially(){return this._isAcceptingPartially}constructor(he,Be,Ke,Ye,dt,zt,_i,mi,qt,oi,Ai,Wi){let $i;super(),this.textModel=he,this.selectedSuggestItem=Be,this.cursorPosition=Ke,this.textModelVersionId=Ye,this._debounceValue=dt,this._suggestPreviewEnabled=zt,this._suggestPreviewMode=_i,this._inlineSuggestMode=mi,this._enabled=qt,this._instantiationService=oi,this._commandService=Ai,this._languageConfigurationService=Wi,this._source=this._register(this._instantiationService.createInstance(St,this.textModel,this.textModelVersionId,this._debounceValue)),this._isActive=(0,r.uh)("isActive",!1),this._forceUpdate=(0,r.GN)("forceUpdate"),this._selectedInlineCompletionId=(0,r.uh)("selectedInlineCompletionId",void 0),this._isAcceptingPartially=!1,this._preserveCurrentCompletionReasons=new Set([Ei.Redo,Ei.Undo,Ei.AcceptWord]),this._fetchInlineCompletions=(0,r.aK)("fetch inline completions",{createEmptyChangeSummary:()=>({preserveCurrentCompletion:!1,inlineCompletionTriggerKind:le.bw.Automatic}),handleChange:(fi,$t)=>(fi.didChange(this.textModelVersionId)&&this._preserveCurrentCompletionReasons.has(fi.change)?$t.preserveCurrentCompletion=!0:fi.didChange(this._forceUpdate)&&($t.inlineCompletionTriggerKind=fi.change),!0)},(fi,$t)=>{if(this._forceUpdate.read(fi),!(this._enabled.read(fi)&&this.selectedSuggestItem.read(fi)||this._isActive.read(fi)))return void this._source.cancelUpdate();this.textModelVersionId.read(fi);const si=this.selectedInlineCompletion.get(),nn=$t.preserveCurrentCompletion||si?.forwardStable?si:void 0,en=this._source.suggestWidgetInlineCompletions.get(),yn=this.selectedSuggestItem.read(fi);if(en&&!yn){const ao=this._source.inlineCompletions.get();(0,r.PS)(lo=>{ao&&en.request.versionId>ao.request.versionId&&this._source.inlineCompletions.set(en.clone(),lo),this._source.clearSuggestWidgetInlineCompletions(lo)})}const An=this.cursorPosition.read(fi),ro={triggerKind:$t.inlineCompletionTriggerKind,selectedSuggestionInfo:yn?.toSelectedSuggestionInfo()};return this._source.fetch(An,ro,nn)}),this._filteredInlineCompletionItems=(0,r.nK)(fi=>{const $t=this._source.inlineCompletions.read(fi);if(!$t)return[];const Ii=this.cursorPosition.read(fi);return $t.inlineCompletions.filter(nn=>nn.isVisible(this.textModel,Ii,fi))}),this.selectedInlineCompletionIndex=(0,r.nK)(fi=>{const $t=this._selectedInlineCompletionId.read(fi),Ii=this._filteredInlineCompletionItems.read(fi),si=void 0===this._selectedInlineCompletionId?-1:Ii.findIndex(nn=>nn.semanticId===$t);return-1===si?(this._selectedInlineCompletionId.set(void 0,void 0),0):si}),this.selectedInlineCompletion=(0,r.nK)(fi=>this._filteredInlineCompletionItems.read(fi)[this.selectedInlineCompletionIndex.read(fi)]),this.lastTriggerKind=this._source.inlineCompletions.map(fi=>fi?.request.context.triggerKind),this.inlineCompletionsCount=(0,r.nK)(fi=>{if(this.lastTriggerKind.read(fi)===le.bw.Explicit)return this._filteredInlineCompletionItems.read(fi).length}),this.state=(0,r.bk)({equalityComparer:(fi,$t)=>fi&&$t?x(fi.ghostText,$t.ghostText)&&fi.inlineCompletion===$t.inlineCompletion&&fi.suggestItem===$t.suggestItem:fi===$t},fi=>{var $t;const Ii=this.textModel,si=this.selectedSuggestItem.read(fi);if(si){const nn=si.toSingleTextEdit().removeCommonPrefix(Ii),en=this._computeAugmentedCompletion(nn,fi);if(!this._suggestPreviewEnabled.read(fi)&&!en)return;const An=null!==($t=en?.edit)&&void 0!==$t?$t:nn,ro=en?en.edit.text.length-nn.text.length:0,ao=this._suggestPreviewMode.read(fi),lo=this.cursorPosition.read(fi);return{ghostText:An.computeGhostText(Ii,ao,lo,ro)??new ye(An.range.endLineNumber,[]),inlineCompletion:en?.completion,suggestItem:si}}{if(!this._isActive.read(fi))return;const nn=this.selectedInlineCompletion.read(fi);if(!nn)return;const en=nn.toSingleTextEdit(fi),yn=this._inlineSuggestMode.read(fi),An=this.cursorPosition.read(fi),ro=en.computeGhostText(Ii,yn,An);return ro?{ghostText:ro,inlineCompletion:nn,suggestItem:void 0}:void 0}}),this.ghostText=(0,r.bk)({equalityComparer:x},fi=>{const $t=this.state.read(fi);if($t)return $t.ghostText}),this._register((0,r.$g)(this._fetchInlineCompletions,!0)),this._register((0,r.EH)(fi=>{var $t,Ii;const si=this.state.read(fi),nn=si?.inlineCompletion;if(nn?.semanticId!==$i?.semanticId&&($i=nn,nn)){const en=nn.inlineCompletion,yn=en.source;null===(Ii=($t=yn.provider).handleItemDidShow)||void 0===Ii||Ii.call($t,yn.inlineCompletions,en.sourceInlineCompletion,en.insertText)}}))}trigger(he){return di(this,void 0,void 0,function*(){this._isActive.set(!0,he),yield this._fetchInlineCompletions.get()})}triggerExplicitly(he){return di(this,void 0,void 0,function*(){(0,r.c8)(he,Be=>{this._isActive.set(!0,Be),this._forceUpdate.trigger(Be,le.bw.Explicit)}),yield this._fetchInlineCompletions.get()})}stop(he){(0,r.c8)(he,Be=>{this._isActive.set(!1,Be),this._source.clear(Be)})}_computeAugmentedCompletion(he,Be){const Ke=this.textModel,Ye=this._source.suggestWidgetInlineCompletions.read(Be),dt=Ye?Ye.inlineCompletions:[this.selectedInlineCompletion.read(Be)].filter(pe.$K);return(0,be.bX)(dt,_i=>{let mi=_i.toSingleTextEdit(Be);return mi=mi.removeCommonPrefix(Ke,j.e.fromPositions(mi.range.getStartPosition(),he.range.getEndPosition())),mi.augments(he)?{edit:mi,completion:_i}:void 0})}_deltaSelectedInlineCompletionIndex(he){return di(this,void 0,void 0,function*(){yield this.triggerExplicitly();const Be=this._filteredInlineCompletionItems.get()||[];if(Be.length>0){const Ke=(this.selectedInlineCompletionIndex.get()+he+Be.length)%Be.length;this._selectedInlineCompletionId.set(Be[Ke].semanticId,void 0)}else this._selectedInlineCompletionId.set(void 0,void 0)})}next(){return di(this,void 0,void 0,function*(){yield this._deltaSelectedInlineCompletionIndex(1)})}previous(){return di(this,void 0,void 0,function*(){yield this._deltaSelectedInlineCompletionIndex(-1)})}accept(he){var Be;return di(this,void 0,void 0,function*(){if(he.getModel()!==this.textModel)throw new ae.he;const Ke=this.state.get();if(!Ke||Ke.ghostText.isEmpty()||!Ke.inlineCompletion)return;const Ye=Ke.inlineCompletion.toInlineCompletion(void 0);he.pushUndoStop(),Ye.snippetInfo?(he.executeEdits("inlineSuggestion.accept",[Q.h.replaceMove(Ye.range,""),...Ye.additionalTextEdits]),he.setPosition(Ye.snippetInfo.range.getStartPosition()),null===(Be=Bt.f.get(he))||void 0===Be||Be.insert(Ye.snippetInfo.snippet,{undoStopBefore:!1})):he.executeEdits("inlineSuggestion.accept",[Q.h.replaceMove(Ye.range,Ye.insertText),...Ye.additionalTextEdits]),Ye.command&&Ye.source.addRef(),(0,r.PS)(dt=>{this._source.clear(dt),this._isActive.set(!1,dt)}),Ye.command&&(yield this._commandService.executeCommand(Ye.command.id,...Ye.command.arguments||[]).then(void 0,ae.Cp),Ye.source.removeRef())})}acceptNextWord(he){return di(this,void 0,void 0,function*(){yield this._acceptNext(he,(Be,Ke)=>{const Ye=this.textModel.getLanguageIdAtPosition(Be.lineNumber,Be.column),dt=this._languageConfigurationService.getLanguageConfiguration(Ye),zt=new RegExp(dt.wordDefinition.source,dt.wordDefinition.flags.replace("g","")),_i=Ke.match(zt);let mi=0;mi=_i&&void 0!==_i.index?0===_i.index?_i[0].length:_i.index:Ke.length;const oi=/\s+/g.exec(Ke);return oi&&void 0!==oi.index&&oi.index+oi[0].length<mi&&(mi=oi.index+oi[0].length),mi})})}acceptNextLine(he){return di(this,void 0,void 0,function*(){yield this._acceptNext(he,(Be,Ke)=>{const Ye=Ke.match(/\n/);return Ye&&void 0!==Ye.index?Ye.index+1:Ke.length})})}_acceptNext(he,Be){return di(this,void 0,void 0,function*(){if(he.getModel()!==this.textModel)throw new ae.he;const Ke=this.state.get();if(!Ke||Ke.ghostText.isEmpty()||!Ke.inlineCompletion)return;const Ye=Ke.ghostText,dt=Ke.inlineCompletion.toInlineCompletion(void 0);if(dt.snippetInfo||dt.filterText!==dt.insertText)return void(yield this.accept(he));const zt=Ye.parts[0],_i=new c.L(Ye.lineNumber,zt.column),mi=zt.lines.join("\n"),qt=Be(_i,mi);if(qt===mi.length&&1===Ye.parts.length)return void this.accept(he);const oi=mi.substring(0,qt);this._isAcceptingPartially=!0;try{he.pushUndoStop(),he.executeEdits("inlineSuggestion.accept",[Q.h.replace(j.e.fromPositions(_i),oi)]);const Ai=De(oi);he.setPosition(Ve(_i,Ai))}finally{this._isAcceptingPartially=!1}if(dt.source.provider.handlePartialAccept){const Ai=j.e.fromPositions(dt.range.getStartPosition(),Ve(_i,De(oi))),Wi=he.getModel().getValueInRange(Ai,1);dt.source.provider.handlePartialAccept(dt.source.inlineCompletions,dt.sourceInlineCompletion,Wi.length)}})}handleSuggestAccepted(he){var Be,Ke;const Ye=he.toSingleTextEdit().removeCommonPrefix(this.textModel),dt=this._computeAugmentedCompletion(Ye,void 0);if(!dt)return;const zt=dt.completion.inlineCompletion;null===(Ke=(Be=zt.source.provider).handlePartialAccept)||void 0===Ke||Ke.call(Be,zt.source.inlineCompletions,zt.sourceInlineCompletion,Ye.text.length)}};Ki=function(Me,he,Be,Ke){var zt,Ye=arguments.length,dt=Ye<3?he:null===Ke?Ke=Object.getOwnPropertyDescriptor(he,Be):Ke;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)dt=Reflect.decorate(Me,he,Be,Ke);else for(var _i=Me.length-1;_i>=0;_i--)(zt=Me[_i])&&(dt=(Ye<3?zt(dt):Ye>3?zt(he,Be,dt):zt(he,Be))||dt);return Ye>3&&dt&&Object.defineProperty(he,Be,dt),dt}([gi(9,Qt.TG),gi(10,xt.H),gi(11,Fe.c_)],Ki);var zi=e(87983),qi=e(50286);class fn extends L.JT{get selectedItem(){return this._selectedItem}constructor(he,Be,Ke,Ye){super(),this.editor=he,this.suggestControllerPreselector=Be,this.checkModelVersion=Ke,this.onWillAccept=Ye,this.isSuggestWidgetVisible=!1,this.isShiftKeyPressed=!1,this._isActive=!1,this._currentSuggestItemInfo=void 0,this._selectedItem=(0,r.uh)("suggestWidgetInlineCompletionProvider.selectedItem",void 0),this._register(he.onKeyDown(zt=>{zt.shiftKey&&!this.isShiftKeyPressed&&(this.isShiftKeyPressed=!0,this.update(this._isActive))})),this._register(he.onKeyUp(zt=>{zt.shiftKey&&this.isShiftKeyPressed&&(this.isShiftKeyPressed=!1,this.update(this._isActive))}));const dt=qi.n.get(this.editor);if(dt){this._register(dt.registerSelector({priority:100,select:(mi,qt,oi)=>{var Ai;(0,r.PS)(si=>this.checkModelVersion(si));const Wi=this.editor.getModel();if(!Wi)return-1;const $i=null===(Ai=this.suggestControllerPreselector())||void 0===Ai?void 0:Ai.removeCommonPrefix(Wi);if(!$i)return-1;const fi=c.L.lift(qt),$t=oi.map((si,nn)=>{const yn=Nn.fromSuggestion(dt,Wi,fi,si,this.isShiftKeyPressed).toSingleTextEdit().removeCommonPrefix(Wi);return{index:nn,valid:$i.augments(yn),prefixLength:yn.text.length,suggestItem:si}}).filter(si=>si&&si.valid&&si.prefixLength>0),Ii=(0,be.Dc)($t,(0,be.tT)(si=>si.prefixLength,be.fv));return Ii?Ii.index:-1}}));let zt=!1;const _i=()=>{zt||(zt=!0,this._register(dt.widget.value.onDidShow(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})),this._register(dt.widget.value.onDidHide(()=>{this.isSuggestWidgetVisible=!1,this.update(!1)})),this._register(dt.widget.value.onDidFocus(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})))};this._register(E.ju.once(dt.model.onDidTrigger)(mi=>{_i()})),this._register(dt.onWillInsertSuggestItem(mi=>{const qt=this.editor.getPosition(),oi=this.editor.getModel();if(!qt||!oi)return;const Ai=Nn.fromSuggestion(dt,oi,qt,mi.item,this.isShiftKeyPressed);this.onWillAccept(Ai)}))}this.update(this._isActive)}update(he){const Be=this.getSuggestItemInfo();(this._isActive!==he||!function xn(Me,he){return Me===he||!(!Me||!he)&&Me.equals(he)}(this._currentSuggestItemInfo,Be))&&(this._isActive=he,this._currentSuggestItemInfo=Be,(0,r.PS)(Ke=>{this.checkModelVersion(Ke),this._selectedItem.set(this._isActive?this._currentSuggestItemInfo:void 0,Ke)}))}getSuggestItemInfo(){const he=qi.n.get(this.editor);if(!he||!this.isSuggestWidgetVisible)return;const Be=he.widget.value.getFocusedItem(),Ke=this.editor.getPosition(),Ye=this.editor.getModel();return Be&&Ke&&Ye?Nn.fromSuggestion(he,Ye,Ke,Be.item,this.isShiftKeyPressed):void 0}stopForceRenderingAbove(){const he=qi.n.get(this.editor);he?.stopForceRenderingAbove()}forceRenderingAbove(){const he=qi.n.get(this.editor);he?.forceRenderingAbove()}}class Nn{static fromSuggestion(he,Be,Ke,Ye,dt){let{insertText:zt}=Ye.completion,_i=!1;if(4&Ye.completion.insertTextRules){const qt=(new it.Yj).parse(zt);qt.children.length<100&&zi.l.adjustWhitespace(Be,Ke,!0,qt),zt=qt.toString(),_i=!0}const mi=he.getOverwriteInfo(Ye,dt);return new Nn(j.e.fromPositions(Ke.delta(0,-mi.overwriteBefore),Ke.delta(0,Math.max(mi.overwriteAfter,0))),zt,Ye.completion.kind,_i)}constructor(he,Be,Ke,Ye){this.range=he,this.insertText=Be,this.completionItemKind=Ke,this.isSnippetText=Ye}equals(he){return this.range.equalsRange(he.range)&&this.insertText===he.insertText&&this.completionItemKind===he.completionItemKind&&this.isSnippetText===he.isSnippetText}toSelectedSuggestionInfo(){return new le.ln(this.range,this.insertText,this.completionItemKind,this.isSnippetText)}toSingleTextEdit(){return new Ot(this.range,this.insertText)}}var Yt,Fn=e(37190),vi=e(15084),ui=e(47358),ni=e(66221),Nt=e(21536),li=function(Me,he){return function(Be,Ke){he(Be,Ke,Me)}};let bi=Yt=class extends L.JT{static get(he){return he.getContribution(Yt.ID)}constructor(he,Be,Ke,Ye,dt,zt,_i,mi,qt){super(),this.editor=he,this.instantiationService=Be,this.contextKeyService=Ke,this.configurationService=Ye,this.commandService=dt,this.debounceService=zt,this.languageFeaturesService=_i,this.audioCueService=mi,this._keybindingService=qt,this.model=(0,r.DN)("inlineCompletionModel",void 0),this.textModelVersionId=(0,r.uh)("textModelVersionId",-1),this.cursorPosition=(0,r.uh)("cursorPosition",new c.L(1,1)),this.suggestWidgetAdaptor=this._register(new fn(this.editor,()=>{var Wi,$i;return null===($i=null===(Wi=this.model.get())||void 0===Wi?void 0:Wi.selectedInlineCompletion.get())||void 0===$i?void 0:$i.toSingleTextEdit(void 0)},Wi=>this.updateObservables(Wi,Ei.Other),Wi=>{(0,r.PS)($i=>{var fi;this.updateObservables($i,Ei.Other),null===(fi=this.model.get())||void 0===fi||fi.handleSuggestAccepted(Wi)})})),this._enabled=(0,r.rD)(this.editor.onDidChangeConfiguration,()=>this.editor.getOption(61).enabled),this.ghostTextWidget=this._register(this.instantiationService.createInstance(Ce,this.editor,{ghostText:this.model.map((Wi,$i)=>Wi?.ghostText.read($i)),minReservedLineCount:(0,r.Dz)(0),targetTextModel:this.model.map(Wi=>Wi?.textModel)})),this._debounceValue=this.debounceService.for(this.languageFeaturesService.inlineCompletionsProvider,"InlineCompletionsDebounce",{min:50,max:50}),this._register(new S.f(this.contextKeyService,this.model)),this._register(E.ju.runAndSubscribe(he.onDidChangeModel,()=>(0,r.PS)(Wi=>{this.model.set(void 0,Wi),this.updateObservables(Wi,Ei.Other);const $i=he.getModel();if($i){const fi=Be.createInstance(Ki,$i,this.suggestWidgetAdaptor.selectedItem,this.cursorPosition,this.textModelVersionId,this._debounceValue,(0,r.rD)(he.onDidChangeConfiguration,()=>he.getOption(116).preview),(0,r.rD)(he.onDidChangeConfiguration,()=>he.getOption(116).previewMode),(0,r.rD)(he.onDidChangeConfiguration,()=>he.getOption(61).mode),this._enabled);this.model.set(fi,Wi)}})));const oi=Wi=>{var $i;return Wi.isUndoing?Ei.Undo:Wi.isRedoing?Ei.Redo:null!==($i=this.model.get())&&void 0!==$i&&$i.isAcceptingPartially?Ei.AcceptWord:Ei.Other};let Ai;this._register(he.onDidChangeModelContent(Wi=>(0,r.PS)($i=>this.updateObservables($i,oi(Wi))))),this._register(he.onDidChangeCursorPosition(Wi=>(0,r.PS)($i=>{var fi;this.updateObservables($i,Ei.Other),(3===Wi.reason||"api"===Wi.source)&&(null===(fi=this.model.get())||void 0===fi||fi.stop($i))}))),this._register(he.onDidType(()=>(0,r.PS)(Wi=>{var $i;this.updateObservables(Wi,Ei.Other),this._enabled.get()&&(null===($i=this.model.get())||void 0===$i||$i.trigger(Wi))}))),this._register(this.commandService.onDidExecuteCommand(Wi=>{new Set([p.wk.Tab.id,p.wk.DeleteLeft.id,p.wk.DeleteRight.id,v.Ou,"acceptSelectedSuggestion"]).has(Wi.commandId)&&he.hasTextFocus()&&this._enabled.get()&&(0,r.PS)(fi=>{var $t;null===($t=this.model.get())||void 0===$t||$t.trigger(fi)})})),this._register(this.editor.onDidBlurEditorWidget(()=>{this.contextKeyService.getContextKeyValue("accessibleViewIsShown")||this.configurationService.getValue("editor.inlineSuggest.keepOnBlur")||he.getOption(61).keepOnBlur||fe.QG.dropDownVisible||(0,r.PS)(Wi=>{var $i;null===($i=this.model.get())||void 0===$i||$i.stop(Wi)})})),this._register((0,r.EH)(Wi=>{var $i;const fi=null===($i=this.model.read(Wi))||void 0===$i?void 0:$i.state.read(Wi);fi?.suggestItem?fi.ghostText.lineCount>=2&&this.suggestWidgetAdaptor.forceRenderingAbove():this.suggestWidgetAdaptor.stopForceRenderingAbove()})),this._register((0,L.OF)(()=>{this.suggestWidgetAdaptor.stopForceRenderingAbove()})),this._register((0,r.EH)(Wi=>{const $i=this.model.read(Wi),fi=$i?.state.read(Wi);if($i&&fi&&fi.inlineCompletion){if(fi.inlineCompletion.semanticId!==Ai){Ai=fi.inlineCompletion.semanticId;const $t=$i.textModel.getLineContent(fi.ghostText.lineNumber);this.audioCueService.playAudioCue(vi.y$.inlineSuggestion).then(()=>{this.editor.getOption(7)&&this.provideScreenReaderUpdate(fi.ghostText.renderForScreenReader($t))})}}else Ai=void 0})),this._register(new fe.oU(this.editor,this.model,this.instantiationService)),this._register(this.configurationService.onDidChangeConfiguration(Wi=>{Wi.affectsConfiguration("accessibility.verbosity.inlineCompletions")&&this.editor.updateOptions({inlineCompletionsAccessibilityVerbose:this.configurationService.getValue("accessibility.verbosity.inlineCompletions")})})),this.editor.updateOptions({inlineCompletionsAccessibilityVerbose:this.configurationService.getValue("accessibility.verbosity.inlineCompletions")})}provideScreenReaderUpdate(he){const Be=this.contextKeyService.getContextKeyValue("accessibleViewIsShown"),Ke=this._keybindingService.lookupKeybinding("editor.action.accessibleView");let Ye;!Be&&Ke&&this.editor.getOption(146)&&(Ye=(0,Fn.NC)("showAccessibleViewHint","Inspect this in the accessible view ({0})",Ke.getAriaLabel())),(0,T.Z9)(Ye?he+", "+Ye:he)}updateObservables(he,Be){var Ke,Ye;const dt=this.editor.getModel();this.textModelVersionId.set(null!==(Ke=dt?.getVersionId())&&void 0!==Ke?Ke:-1,he,Be),this.cursorPosition.set(null!==(Ye=this.editor.getPosition())&&void 0!==Ye?Ye:new c.L(1,1),he)}shouldShowHoverAt(he){var Be;const Ke=null===(Be=this.model.get())||void 0===Be?void 0:Be.ghostText.get();return!!Ke&&Ke.parts.some(Ye=>he.containsPosition(new c.L(Ke.lineNumber,Ye.column)))}shouldShowHoverAtViewZone(he){return this.ghostTextWidget.ownsViewZone(he)}};bi.ID="editor.contrib.inlineCompletionsController",bi=Yt=function(Me,he,Be,Ke){var zt,Ye=arguments.length,dt=Ye<3?he:null===Ke?Ke=Object.getOwnPropertyDescriptor(he,Be):Ke;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)dt=Reflect.decorate(Me,he,Be,Ke);else for(var _i=Me.length-1;_i>=0;_i--)(zt=Me[_i])&&(dt=(Ye<3?zt(dt):Ye>3?zt(he,Be,dt):zt(he,Be))||dt);return Ye>3&&dt&&Object.defineProperty(he,Be,dt),dt}([li(1,Qt.TG),li(2,ni.i6),li(3,ui.Ui),li(4,xt.H),li(5,u.A),li(6,g.p),li(7,vi.e7),li(8,Nt.d)],bi);var Fi=e(82090),Yi=e(63032),Qi=function(Me,he,Be,Ke){return new(Be||(Be=Promise))(function(dt,zt){function _i(oi){try{qt(Ke.next(oi))}catch(Ai){zt(Ai)}}function mi(oi){try{qt(Ke.throw(oi))}catch(Ai){zt(Ai)}}function qt(oi){oi.done?dt(oi.value):function Ye(dt){return dt instanceof Be?dt:new Be(function(zt){zt(dt)})}(oi.value).then(_i,mi)}qt((Ke=Ke.apply(Me,he||[])).next())})};let cn=(()=>{class Me extends f.R6{constructor(){super({id:Me.ID,label:Fn.NC("action.inlineSuggest.showNext","Show Next Inline Suggestion"),alias:"Show Next Inline Suggestion",precondition:ni.Ao.and(y.u.writable,S.f.inlineSuggestionVisible),kbOpts:{weight:100,primary:606}})}run(Be,Ke){var Ye;return Qi(this,void 0,void 0,function*(){const dt=bi.get(Ke);null===(Ye=dt?.model.get())||void 0===Ye||Ye.next()})}}return Me.ID=v.OW,Me})(),bn=(()=>{class Me extends f.R6{constructor(){super({id:Me.ID,label:Fn.NC("action.inlineSuggest.showPrevious","Show Previous Inline Suggestion"),alias:"Show Previous Inline Suggestion",precondition:ni.Ao.and(y.u.writable,S.f.inlineSuggestionVisible),kbOpts:{weight:100,primary:604}})}run(Be,Ke){var Ye;return Qi(this,void 0,void 0,function*(){const dt=bi.get(Ke);null===(Ye=dt?.model.get())||void 0===Ye||Ye.previous()})}}return Me.ID=v.Np,Me})(),Wn=(()=>{class Me extends f.R6{constructor(){super({id:Me.ID,label:Fn.NC("action.inlineSuggest.hide","Hide Inline Suggestion"),alias:"Hide Inline Suggestion",precondition:S.f.inlineSuggestionVisible,kbOpts:{weight:100,primary:9}})}run(Be,Ke){return Qi(this,void 0,void 0,function*(){const Ye=bi.get(Ke);(0,r.PS)(dt=>{var zt;null===(zt=Ye?.model.get())||void 0===zt||zt.stop(dt)})})}}return Me.ID="editor.action.inlineSuggest.hide",Me})(),eo=(()=>{class Me extends Yi.Ke{constructor(){super({id:Me.ID,title:Fn.NC("action.inlineSuggest.alwaysShowToolbar","Always Show Toolbar"),f1:!1,precondition:void 0,menu:[{id:Yi.eH.InlineSuggestionToolbar,group:"secondary",order:10}],toggled:ni.Ao.equals("config.editor.inlineSuggest.showToolbar","always")})}run(Be,Ke){return Qi(this,void 0,void 0,function*(){const Ye=Be.get(ui.Ui),zt="always"===Ye.getValue("editor.inlineSuggest.showToolbar")?"onHover":"always";Ye.updateValue("editor.inlineSuggest.showToolbar",zt)})}}return Me.ID="editor.action.inlineSuggest.toggleAlwaysShowToolbar",Me})();var wn=e(20274),Un=e(10878),po=e(40419),Jt=e(74875),qn=e(6628),gn=e(58942),Qn=function(Me,he){return function(Be,Ke){he(Be,Ke,Me)}};class ki{constructor(he,Be,Ke){this.owner=he,this.range=Be,this.controller=Ke}isValidForHoverAnchor(he){return 1===he.type&&this.range.startColumn<=he.range.startColumn&&this.range.endColumn>=he.range.endColumn}}let nt=class{constructor(he,Be,Ke,Ye,dt,zt){this._editor=he,this._languageService=Be,this._openerService=Ke,this.accessibilityService=Ye,this._instantiationService=dt,this._telemetryService=zt,this.hoverOrdinal=4}suggestHoverAnchor(he){const Be=bi.get(this._editor);if(!Be)return null;const Ke=he.target;if(8===Ke.type){const Ye=Ke.detail;if(Be.shouldShowHoverAtViewZone(Ye.viewZoneId))return new P.YM(1e3,this,j.e.fromPositions(this._editor.getModel().validatePosition(Ye.positionBefore||Ye.position)),he.event.posx,he.event.posy,!1)}return 7===Ke.type&&Be.shouldShowHoverAt(Ke.range)||6===Ke.type&&Ke.detail.mightBeForeignElement&&Be.shouldShowHoverAt(Ke.range)?new P.YM(1e3,this,Ke.range,he.event.posx,he.event.posy,!1):null}computeSync(he,Be){if("always"===this._editor.getOption(61).showToolbar)return[];const Ke=bi.get(this._editor);return Ke&&Ke.shouldShowHoverAt(he.range)?[new ki(this,he.range,Ke)]:[]}renderHoverParts(he,Be){const Ke=new L.SL,Ye=Be[0];this._telemetryService.publicLog2("inlineCompletionHover.shown"),this.accessibilityService.isScreenReaderOptimized()&&!this._editor.getOption(7)&&this.renderScreenReaderText(he,Ye,Ke);const dt=Ye.controller.model.get(),zt=this._instantiationService.createInstance(fe.QG,this._editor,!1,(0,r.Dz)(null),dt.selectedInlineCompletionIndex,dt.inlineCompletionsCount,dt.selectedInlineCompletion.map(_i=>{var mi;return null!==(mi=_i?.inlineCompletion.source.inlineCompletions.commands)&&void 0!==mi?mi:[]}));return he.fragment.appendChild(zt.getDomNode()),dt.triggerExplicitly(),Ke.add(zt),Ke}renderScreenReaderText(he,Be,Ke){const Ye=wn.$,dt=Ye("div.hover-row.markdown-hover"),zt=wn.R3(dt,Ye("div.hover-contents",{"aria-live":"assertive"})),_i=Ke.add(new po.$({editor:this._editor},this._languageService,this._openerService));Ke.add((0,r.EH)(qt=>{var oi;const Ai=null===(oi=Be.controller.model.read(qt))||void 0===oi?void 0:oi.ghostText.read(qt);if(Ai){const Wi=this._editor.getModel().getLineContent(Ai.lineNumber);(qt=>{Ke.add(_i.onDidRenderAsync(()=>{zt.className="hover-contents code-hover-contents",he.onContentsChanged()}));const oi=Fn.NC("inlineSuggestionFollows","Suggestion:"),Ai=Ke.add(_i.render((new Un.W5).appendText(oi).appendCodeblock("text",qt)));zt.replaceChildren(Ai.element)})(Ai.renderForScreenReader(Wi))}else wn.mc(zt)})),he.fragment.appendChild(dt)}};nt=function(Me,he,Be,Ke){var zt,Ye=arguments.length,dt=Ye<3?he:null===Ke?Ke=Object.getOwnPropertyDescriptor(he,Be):Ke;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)dt=Reflect.decorate(Me,he,Be,Ke);else for(var _i=Me.length-1;_i>=0;_i--)(zt=Me[_i])&&(dt=(Ye<3?zt(dt):Ye>3?zt(he,Be,dt):zt(he,Be))||dt);return Ye>3&&dt&&Object.defineProperty(he,Be,dt),dt}([Qn(1,K.O),Qn(2,qn.v4),Qn(3,Jt.F),Qn(4,Qt.TG),Qn(5,gn.b)],nt),(0,f._K)(bi.ID,bi,3),(0,f.Qr)(class Dn extends f.R6{constructor(){super({id:"editor.action.inlineSuggest.trigger",label:Fn.NC("action.inlineSuggest.trigger","Trigger Inline Suggestion"),alias:"Trigger Inline Suggestion",precondition:y.u.writable})}run(he,Be){var Ke;return Qi(this,void 0,void 0,function*(){const Ye=bi.get(Be);null===(Ke=Ye?.model.get())||void 0===Ke||Ke.triggerExplicitly()})}}),(0,f.Qr)(cn),(0,f.Qr)(bn),(0,f.Qr)(class Pn extends f.R6{constructor(){super({id:"editor.action.inlineSuggest.acceptNextWord",label:Fn.NC("action.inlineSuggest.acceptNextWord","Accept Next Word Of Inline Suggestion"),alias:"Accept Next Word Of Inline Suggestion",precondition:ni.Ao.and(y.u.writable,S.f.inlineSuggestionVisible),kbOpts:{weight:101,primary:2065,kbExpr:ni.Ao.and(y.u.writable,S.f.inlineSuggestionVisible)},menuOpts:[{menuId:Yi.eH.InlineSuggestionToolbar,title:Fn.NC("acceptWord","Accept Word"),group:"primary",order:2}]})}run(he,Be){var Ke;return Qi(this,void 0,void 0,function*(){const Ye=bi.get(Be);yield null===(Ke=Ye?.model.get())||void 0===Ke?void 0:Ke.acceptNextWord(Ye.editor)})}}),(0,f.Qr)(class vn extends f.R6{constructor(){super({id:"editor.action.inlineSuggest.acceptNextLine",label:Fn.NC("action.inlineSuggest.acceptNextLine","Accept Next Line Of Inline Suggestion"),alias:"Accept Next Line Of Inline Suggestion",precondition:ni.Ao.and(y.u.writable,S.f.inlineSuggestionVisible),kbOpts:{weight:101},menuOpts:[{menuId:Yi.eH.InlineSuggestionToolbar,title:Fn.NC("acceptLine","Accept Line"),group:"secondary",order:2}]})}run(he,Be){var Ke;return Qi(this,void 0,void 0,function*(){const Ye=bi.get(Be);yield null===(Ke=Ye?.model.get())||void 0===Ke?void 0:Ke.acceptNextLine(Ye.editor)})}}),(0,f.Qr)(class Xn extends f.R6{constructor(){super({id:v.Ou,label:Fn.NC("action.inlineSuggest.accept","Accept Inline Suggestion"),alias:"Accept Inline Suggestion",precondition:S.f.inlineSuggestionVisible,menuOpts:[{menuId:Yi.eH.InlineSuggestionToolbar,title:Fn.NC("accept","Accept"),group:"primary",order:1}],kbOpts:{primary:2,weight:200,kbExpr:ni.Ao.and(S.f.inlineSuggestionVisible,y.u.tabMovesFocus.toNegated(),S.f.inlineSuggestionHasIndentationLessThanTabSize,Fi._y.Visible.toNegated(),y.u.hoverFocused.toNegated())}})}run(he,Be){var Ke;return Qi(this,void 0,void 0,function*(){const Ye=bi.get(Be);Ye&&(null===(Ke=Ye.model.get())||void 0===Ke||Ke.accept(Ye.editor),Ye.editor.focus())})}}),(0,f.Qr)(Wn),(0,Yi.r1)(eo),P.Ae.register(nt)},27504:(Xe,we,e)=>{e.d(we,{oU:()=>Pe,QG:()=>be});var f=e(20274),P=e(42243),r=e(4625),y=e(54457),v=e(31738),S=e(85328),T=e(27222),E=e(78694),L=e(88976),p=e(88593),c=e(35053),u=e(93379),g=e.n(u),i=e(7795),d=e.n(i),a=e(90569),m=e.n(a),l=e(3565),I=e.n(l),w=e(19216),D=e.n(w),N=e(44589),A=e.n(N),k=e(28300),R={};R.styleTagTransform=A(),R.setAttributes=I(),R.insert=m().bind(null,"head"),R.domAPI=d(),R.insertStyleElement=D(),g()(k.Z,R);var z=e(68678),U=e(81814),ee=e(75949),B=e(37190),G=e(65227),se=e(20940),j=e(26775),$=e(88831),K=e(58178),J=e(56651),te={};te.styleTagTransform=A(),te.setAttributes=I(),te.insert=m().bind(null,"head"),te.domAPI=d(),te.insertStyleElement=D(),g()(J.Z,te);class ge extends E.JT{constructor(He,Je,ot={orientation:0}){super(),this.submenuActionViewItems=[],this.hasSecondaryActions=!1,this._onDidChangeDropdownVisibility=this._register(new K.z5),this.onDidChangeDropdownVisibility=this._onDidChangeDropdownVisibility.event,this.disposables=this._register(new E.SL),this.options=ot,this.lookupKeybindings="function"==typeof this.options.getKeyBinding,this.toggleMenuAction=this._register(new _e(()=>{var lt;return null===(lt=this.toggleMenuActionViewItem)||void 0===lt?void 0:lt.show()},ot.toggleMenuTitle)),this.element=document.createElement("div"),this.element.className="monaco-toolbar",He.appendChild(this.element),this.actionBar=this._register(new j.o(this.element,{orientation:ot.orientation,ariaLabel:ot.ariaLabel,actionRunner:ot.actionRunner,allowContextMenu:ot.allowContextMenu,highlightToggledItems:ot.highlightToggledItems,actionViewItemProvider:(lt,mt)=>{var ft;if(lt.id===_e.ID)return this.toggleMenuActionViewItem=new $.C(lt,lt.menuActions,Je,{actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,keybindingProvider:this.options.getKeyBinding,classNames:c.k.asClassNameArray(null!==(ft=ot.moreIcon)&&void 0!==ft?ft:T.l.toolBarMore),anchorAlignmentProvider:this.options.anchorAlignmentProvider,menuAsChild:!!this.options.renderDropdownAsChildElement,skipTelemetry:this.options.skipTelemetry}),this.toggleMenuActionViewItem.setActionContext(this.actionBar.context),this.disposables.add(this._onDidChangeDropdownVisibility.add(this.toggleMenuActionViewItem.onDidChangeVisibility)),this.toggleMenuActionViewItem;if(ot.actionViewItemProvider){const Lt=ot.actionViewItemProvider(lt,mt);if(Lt)return Lt}if(lt instanceof y.wY){const Lt=new $.C(lt,lt.actions,Je,{actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,keybindingProvider:this.options.getKeyBinding,classNames:lt.class,anchorAlignmentProvider:this.options.anchorAlignmentProvider,menuAsChild:!!this.options.renderDropdownAsChildElement,skipTelemetry:this.options.skipTelemetry});return Lt.setActionContext(this.actionBar.context),this.submenuActionViewItems.push(Lt),this.disposables.add(this._onDidChangeDropdownVisibility.add(Lt.onDidChangeVisibility)),Lt}}}))}set actionRunner(He){this.actionBar.actionRunner=He}get actionRunner(){return this.actionBar.actionRunner}getElement(){return this.element}getItemAction(He){return this.actionBar.getAction(He)}setActions(He,Je){this.clear();const ot=He?He.slice(0):[];this.hasSecondaryActions=!!(Je&&Je.length>0),this.hasSecondaryActions&&Je&&(this.toggleMenuAction.menuActions=Je.slice(0),ot.push(this.toggleMenuAction)),ot.forEach(lt=>{this.actionBar.push(lt,{icon:!0,label:!1,keybinding:this.getKeybindingLabel(lt)})})}getKeybindingLabel(He){var Je,ot,lt;const mt=this.lookupKeybindings?null===(ot=(Je=this.options).getKeyBinding)||void 0===ot?void 0:ot.call(Je,He):void 0;return null!==(lt=mt?.getLabel())&&void 0!==lt?lt:void 0}clear(){this.submenuActionViewItems=[],this.disposables.clear(),this.actionBar.clear()}dispose(){this.clear(),super.dispose()}}let _e=(()=>{class Fe extends y.aU{constructor(Je,ot){ot=ot||B.NC("moreActions","More Actions..."),super(Fe.ID,ot,void 0,!0),this._menuActions=[],this.toggleDropdownMenu=Je}run(){return function(Fe,He,Je,ot){return new(Je||(Je=Promise))(function(mt,ft){function Lt(Ut){try{Mt(ot.next(Ut))}catch(At){ft(At)}}function Tt(Ut){try{Mt(ot.throw(Ut))}catch(At){ft(At)}}function Mt(Ut){Ut.done?mt(Ut.value):function lt(mt){return mt instanceof Je?mt:new Je(function(ft){ft(mt)})}(Ut.value).then(Lt,Tt)}Mt((ot=ot.apply(Fe,He||[])).next())})}(this,void 0,void 0,function*(){this.toggleDropdownMenu()})}get menuActions(){return this._menuActions}set menuActions(Je){this._menuActions=Je}}return Fe.ID="toolbar.toggle.more",Fe})();var ue=e(63032),ve=e(66221),Ie=e(76485),Se=e(21536),Ve=e(58942),ye=function(Fe,He){return function(Je,ot){He(Je,ot,Fe)}};let oe=class extends ge{constructor(He,Je,ot,lt,mt,ft,Lt){super(He,mt,Object.assign(Object.assign({getKeyBinding:Mt=>{var Ut;return null!==(Ut=ft.lookupKeybinding(Mt.id))&&void 0!==Ut?Ut:void 0}},Je),{allowContextMenu:!0,skipTelemetry:"string"==typeof Je?.telemetrySource})),this._options=Je,this._menuService=ot,this._contextKeyService=lt,this._contextMenuService=mt,this._sessionDisposables=this._store.add(new E.SL);const Tt=Je?.telemetrySource;Tt&&this._store.add(this.actionBar.onDidRun(Mt=>Lt.publicLog2("workbenchActionExecuted",{id:Mt.action.id,from:Tt})))}setActions(He,Je=[],ot){var lt,mt,ft;this._sessionDisposables.clear();const Lt=He.slice(),Tt=Je.slice(),Mt=[];let Ut=0;const At=[];let It=!1;if(-1!==(null===(lt=this._options)||void 0===lt?void 0:lt.hiddenItemStrategy))for(let it=0;it<Lt.length;it++){const qe=Lt[it];!(qe instanceof ue.U8)&&!(qe instanceof ue.NZ)||qe.hideActions&&(Mt.push(qe.hideActions.toggle),qe.hideActions.toggle.checked&&Ut++,qe.hideActions.isHidden&&(It=!0,Lt[it]=void 0,0!==(null===(mt=this._options)||void 0===mt?void 0:mt.hiddenItemStrategy)&&(At[it]=qe)))}if(void 0!==(null===(ft=this._options)||void 0===ft?void 0:ft.maxNumberOfItems)){let it=0;for(let qe=0;qe<Lt.length;qe++){const Ze=Lt[qe];Ze&&++it>=this._options.maxNumberOfItems&&(Lt[qe]=void 0,At[qe]=Ze)}}(0,v.Rs)(Lt),(0,v.Rs)(At),super.setActions(Lt,y.Z0.join(At,Tt)),Mt.length>0&&this._sessionDisposables.add((0,f.nm)(this.getElement(),"contextmenu",it=>{var qe,Ze,Ee,Te,Ae;const ht=new se.n(it),yt=this.getItemAction(ht.target);if(!yt)return;ht.preventDefault(),ht.stopPropagation();let Ot,Dt=!1;if(1===Ut&&0===(null===(qe=this._options)||void 0===qe?void 0:qe.hiddenItemStrategy)){Dt=!0;for(let Rt=0;Rt<Mt.length;Rt++)if(Mt[Rt].checked){Mt[Rt]=(0,y.xw)({id:yt.id,label:yt.label,checked:!0,enabled:!1,run(){}});break}}if(!Dt&&(yt instanceof ue.U8||yt instanceof ue.NZ)){if(!yt.hideActions)return;Ot=yt.hideActions.hide}else Ot=(0,y.xw)({id:"label",label:(0,B.NC)("hide","Hide"),enabled:!1,run(){}});const gt=y.Z0.join([Ot],Mt);!(null===(Ze=this._options)||void 0===Ze)&&Ze.resetMenu&&!ot&&(ot=[this._options.resetMenu]),It&&ot&&(gt.push(new y.Z0),gt.push((0,y.xw)({id:"resetThisMenu",label:(0,B.NC)("resetThisMenu","Reset Menu"),run:()=>this._menuService.resetHiddenStates(ot)}))),this._contextMenuService.showContextMenu({getAnchor:()=>ht,getActions:()=>gt,menuId:null===(Ee=this._options)||void 0===Ee?void 0:Ee.contextMenu,menuActionOptions:Object.assign({renderShortTitle:!0},null===(Te=this._options)||void 0===Te?void 0:Te.menuOptions),skipTelemetry:"string"==typeof(null===(Ae=this._options)||void 0===Ae?void 0:Ae.telemetrySource),contextKeyService:this._contextKeyService})}))}};oe=function(Fe,He,Je,ot){var ft,lt=arguments.length,mt=lt<3?He:null===ot?ot=Object.getOwnPropertyDescriptor(He,Je):ot;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)mt=Reflect.decorate(Fe,He,Je,ot);else for(var Lt=Fe.length-1;Lt>=0;Lt--)(ft=Fe[Lt])&&(mt=(lt<3?ft(mt):lt>3?ft(He,Je,mt):ft(He,Je))||mt);return lt>3&&mt&&Object.defineProperty(He,Je,mt),mt}([ye(2,ue.co),ye(3,ve.i6),ye(4,Ie.i),ye(5,Se.d),ye(6,Ve.b)],oe);var ke,Y=e(11813),x=e(12065),F=e(34252),ie=function(Fe,He,Je,ot){var ft,lt=arguments.length,mt=lt<3?He:null===ot?ot=Object.getOwnPropertyDescriptor(He,Je):ot;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)mt=Reflect.decorate(Fe,He,Je,ot);else for(var Lt=Fe.length-1;Lt>=0;Lt--)(ft=Fe[Lt])&&(mt=(lt<3?ft(mt):lt>3?ft(He,Je,mt):ft(He,Je))||mt);return lt>3&&mt&&Object.defineProperty(He,Je,mt),mt},Ce=function(Fe,He){return function(Je,ot){He(Je,ot,Fe)}};let Pe=class extends E.JT{constructor(He,Je,ot){super(),this.editor=He,this.model=Je,this.instantiationService=ot,this.alwaysShowToolbar=(0,L.rD)(this.editor.onDidChangeConfiguration,()=>"always"===this.editor.getOption(61).showToolbar),this.sessionPosition=void 0,this.position=(0,L.nK)(lt=>{var mt,ft,Lt;const Tt=null===(mt=this.model.read(lt))||void 0===mt?void 0:mt.ghostText.read(lt);if(!this.alwaysShowToolbar.read(lt)||!Tt||0===Tt.parts.length)return this.sessionPosition=void 0,null;const Mt=Tt.parts[0].column;this.sessionPosition&&this.sessionPosition.lineNumber!==Tt.lineNumber&&(this.sessionPosition=void 0);const Ut=new z.L(Tt.lineNumber,Math.min(Mt,null!==(Lt=null===(ft=this.sessionPosition)||void 0===ft?void 0:ft.column)&&void 0!==Lt?Lt:Number.MAX_SAFE_INTEGER));return this.sessionPosition=Ut,Ut}),this._register((0,L.gp)((lt,mt)=>{const ft=this.model.read(lt);if(!ft||!this.alwaysShowToolbar.read(lt))return;const Lt=mt.add(this.instantiationService.createInstance(be,this.editor,!0,this.position,ft.selectedInlineCompletionIndex,ft.inlineCompletionsCount,ft.selectedInlineCompletion.map(Tt=>{var Mt;return null!==(Mt=Tt?.inlineCompletion.source.inlineCompletions.commands)&&void 0!==Mt?Mt:[]})));He.addContentWidget(Lt),mt.add((0,E.OF)(()=>He.removeContentWidget(Lt))),mt.add((0,L.EH)(Tt=>{this.position.read(Tt)&&ft.lastTriggerKind.read(Tt)!==U.bw.Explicit&&ft.triggerExplicitly()}))}))}};Pe=ie([Ce(2,x.TG)],Pe);const xe=(0,F.q5)("inline-suggestion-hints-next",T.l.chevronRight,(0,B.NC)("parameterHintsNextIcon","Icon for show next parameter hint.")),fe=(0,F.q5)("inline-suggestion-hints-previous",T.l.chevronLeft,(0,B.NC)("parameterHintsPreviousIcon","Icon for show previous parameter hint."));let be=ke=class extends E.JT{static get dropDownVisible(){return this._dropDownVisible}createCommandAction(He,Je,ot){const lt=new y.aU(He,Je,ot,!0,()=>this._commandService.executeCommand(He)),mt=this.keybindingService.lookupKeybinding(He,this._contextKeyService);let ft=Je;return mt&&(ft=(0,B.NC)({key:"content",comment:["A label","A keybinding"]},"{0} ({1})",Je,mt.getLabel())),lt.tooltip=ft,lt}constructor(He,Je,ot,lt,mt,ft,Lt,Tt,Mt,Ut,At){super(),this.editor=He,this.withBorder=Je,this._position=ot,this._currentSuggestionIdx=lt,this._suggestionCount=mt,this._extraCommands=ft,this._commandService=Lt,this.keybindingService=Mt,this._contextKeyService=Ut,this._menuService=At,this.id="InlineSuggestionHintsContentWidget"+ke.id++,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this.nodes=(0,f.h)("div.inlineSuggestionsHints",{className:this.withBorder?".withBorder":""},[(0,f.h)("div@toolBar")]),this.previousAction=this.createCommandAction(ee.Np,(0,B.NC)("previous","Previous"),c.k.asClassName(fe)),this.availableSuggestionCountAction=new y.aU("inlineSuggestionHints.availableSuggestionCount","",void 0,!1),this.nextAction=this.createCommandAction(ee.OW,(0,B.NC)("next","Next"),c.k.asClassName(xe)),this.inlineCompletionsActionsMenus=this._register(this._menuService.createMenu(ue.eH.InlineCompletionsActions,this._contextKeyService)),this.clearAvailableSuggestionCountLabelDebounced=this._register(new S.pY(()=>{this.availableSuggestionCountAction.label=""},100)),this.disableButtonsDebounced=this._register(new S.pY(()=>{this.previousAction.enabled=this.nextAction.enabled=!1},100)),this.lastCommands=[],this.toolBar=this._register(Tt.createInstance(le,this.nodes.toolBar,ue.eH.InlineSuggestionToolbar,{menuOptions:{renderShortTitle:!0},toolbarOptions:{primaryGroup:It=>It.startsWith("primary")},actionViewItemProvider:(It,it)=>{if(It instanceof ue.U8)return Tt.createInstance(Q,It,void 0);if(It===this.availableSuggestionCountAction){const qe=new pe(void 0,It,{label:!0,icon:!1});return qe.setClass("availableSuggestionCount"),qe}},telemetrySource:"InlineSuggestionToolbar"})),this.toolBar.setPrependedPrimaryActions([this.previousAction,this.availableSuggestionCountAction,this.nextAction]),this._register(this.toolBar.onDidChangeDropdownVisibility(It=>{ke._dropDownVisible=It})),this._register((0,L.EH)(It=>{this._position.read(It),this.editor.layoutContentWidget(this)})),this._register((0,L.EH)(It=>{const it=this._suggestionCount.read(It),qe=this._currentSuggestionIdx.read(It);void 0!==it?(this.clearAvailableSuggestionCountLabelDebounced.cancel(),this.availableSuggestionCountAction.label=`${qe+1}/${it}`):this.clearAvailableSuggestionCountLabelDebounced.schedule(),void 0!==it&&it>1?(this.disableButtonsDebounced.cancel(),this.previousAction.enabled=this.nextAction.enabled=!0):this.disableButtonsDebounced.schedule()})),this._register((0,L.EH)(It=>{const it=this._extraCommands.read(It);if((0,v.fS)(this.lastCommands,it))return;this.lastCommands=it;const qe=it.map(Ze=>({class:void 0,id:Ze.id,enabled:!0,tooltip:Ze.tooltip||"",label:Ze.title,run:Ee=>this._commandService.executeCommand(Ze.id)}));for(const[Ze,Ee]of this.inlineCompletionsActionsMenus.getActions())for(const Te of Ee)Te instanceof ue.U8&&qe.push(Te);qe.length>0&&qe.unshift(new y.Z0),this.toolBar.setAdditionalSecondaryActions(qe)}))}getId(){return this.id}getDomNode(){return this.nodes.root}getPosition(){return{position:this._position.get(),preference:[1,2],positionAffinity:3}}};be._dropDownVisible=!1,be.id=0,be=ke=ie([Ce(6,Y.H),Ce(7,x.TG),Ce(8,Se.d),Ce(9,ve.i6),Ce(10,ue.co)],be);class pe extends P.gU{constructor(){super(...arguments),this._className=void 0}setClass(He){this._className=He}render(He){super.render(He),this._className&&He.classList.add(this._className)}}class Q extends G.Mm{updateLabel(){const He=this._keybindingService.lookupKeybinding(this._action.id,this._contextKeyService);if(!He)return super.updateLabel();if(this.label){const Je=(0,f.h)("div.keybinding").root;new r.e(Je,p.OS,Object.assign({disableTitle:!0},r.F)).set(He),this.label.textContent=this._action.label,this.label.appendChild(Je),this.label.classList.add("inlineSuggestionStatusBarItemLabel")}}}let le=class extends oe{constructor(He,Je,ot,lt,mt,ft,Lt,Tt){super(He,Object.assign({resetMenu:Je},ot),lt,mt,ft,Lt,Tt),this.menuId=Je,this.options2=ot,this.menuService=lt,this.contextKeyService=mt,this.menu=this._store.add(this.menuService.createMenu(this.menuId,this.contextKeyService,{emitEventsForSubmenuChanges:!0})),this.additionalActions=[],this.prependedPrimaryActions=[],this._store.add(this.menu.onDidChange(()=>this.updateToolbar())),this.updateToolbar()}updateToolbar(){var He,Je,ot,lt,mt,ft,Lt;const Tt=[],Mt=[];(0,G.vr)(this.menu,null===(He=this.options2)||void 0===He?void 0:He.menuOptions,{primary:Tt,secondary:Mt},null===(ot=null===(Je=this.options2)||void 0===Je?void 0:Je.toolbarOptions)||void 0===ot?void 0:ot.primaryGroup,null===(mt=null===(lt=this.options2)||void 0===lt?void 0:lt.toolbarOptions)||void 0===mt?void 0:mt.shouldInlineSubmenu,null===(Lt=null===(ft=this.options2)||void 0===ft?void 0:ft.toolbarOptions)||void 0===Lt?void 0:Lt.useSeparatorsInPrimaryActions),Mt.push(...this.additionalActions),Tt.unshift(...this.prependedPrimaryActions),this.setActions(Tt,Mt)}setPrependedPrimaryActions(He){(0,v.fS)(this.prependedPrimaryActions,He,(Je,ot)=>Je===ot)||(this.prependedPrimaryActions=He,this.updateToolbar())}setAdditionalSecondaryActions(He){(0,v.fS)(this.additionalActions,He,(Je,ot)=>Je===ot)||(this.additionalActions=He,this.updateToolbar())}};le=ie([Ce(3,ue.co),Ce(4,ve.i6),Ce(5,Ie.i),Ce(6,Se.d),Ce(7,Ve.b)],le)},77132:(Xe,we,e)=>{e.d(we,{r:()=>B});var f=e(20274),P=e(85328),r=e(27222),y=e(78694),v=e(16055),S=e(35053),T=e(93379),E=e.n(T),L=e(7795),p=e.n(L),c=e(90569),u=e.n(c),g=e(3565),i=e.n(g),d=e(19216),a=e.n(d),m=e(44589),l=e.n(m),I=e(16668),w={};w.styleTagTransform=l(),w.setAttributes=i(),w.insert=u().bind(null,"head"),w.domAPI=p(),w.insertStyleElement=a(),E()(I.Z,w);var A=e(96726),k=e(54267),R=e(12065);const U=k.qx.register({description:"inline-progress-widget",stickiness:1,showIfCollapsed:!0,after:{content:v.B4,inlineClassName:"inline-editor-progress-decoration",inlineClassNameAffectsLetterSpacing:!0}});let ee=(()=>{class G extends y.JT{constructor(j,$,K,J,te){super(),this.typeId=j,this.editor=$,this.range=K,this.delegate=te,this.allowEditorOverflow=!1,this.suppressMouseDown=!0,this.create(J),this.editor.addContentWidget(this),this.editor.layoutContentWidget(this)}create(j){this.domNode=f.$(".inline-progress-widget"),this.domNode.role="button",this.domNode.title=j;const $=f.$("span.icon");this.domNode.append($),$.classList.add(...S.k.asClassNameArray(r.l.loading),"codicon-modifier-spin");const K=()=>{const J=this.editor.getOption(65);this.domNode.style.height=`${J}px`,this.domNode.style.width=`${Math.ceil(.8*J)}px`};K(),this._register(this.editor.onDidChangeConfiguration(J=>{(J.hasChanged(51)||J.hasChanged(65))&&K()})),this._register(f.nm(this.domNode,f.tw.CLICK,J=>{this.delegate.cancel()}))}getId(){return G.baseId+"."+this.typeId}getDomNode(){return this.domNode}getPosition(){return{position:{lineNumber:this.range.startLineNumber,column:this.range.startColumn},preference:[0]}}dispose(){super.dispose(),this.editor.removeContentWidget(this)}}return G.baseId="editor.widget.inlineProgressWidget",G})(),B=class extends y.JT{constructor(se,j,$){super(),this.id=se,this._editor=j,this._instantiationService=$,this._showDelay=500,this._showPromise=this._register(new y.XK),this._currentWidget=new y.XK,this._operationIdPool=0,this._currentDecorations=j.createDecorationsCollection()}showWhile(se,j,$){return function(G,se,j,$){return new(j||(j=Promise))(function(J,te){function ne(ge){try{ae($.next(ge))}catch(_e){te(_e)}}function _(ge){try{ae($.throw(ge))}catch(_e){te(_e)}}function ae(ge){ge.done?J(ge.value):function K(J){return J instanceof j?J:new j(function(te){te(J)})}(ge.value).then(ne,_)}ae(($=$.apply(G,se||[])).next())})}(this,void 0,void 0,function*(){const K=this._operationIdPool++;this._currentOperation=K,this.clear(),this._showPromise.value=(0,P.Vg)(()=>{const J=A.e.fromPositions(se);this._currentDecorations.set([{range:J,options:U}]).length>0&&(this._currentWidget.value=this._instantiationService.createInstance(ee,this.id,this._editor,J,j,$))},this._showDelay);try{return yield $}finally{this._currentOperation===K&&(this.clear(),this._currentOperation=void 0)}})}clear(){this._showPromise.clear(),this._currentDecorations.clear(),this._currentWidget.clear()}};var se;B=function(G,se,j,$){var te,K=arguments.length,J=K<3?se:null===$?$=Object.getOwnPropertyDescriptor(se,j):$;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)J=Reflect.decorate(G,se,j,$);else for(var ne=G.length-1;ne>=0;ne--)(te=G[ne])&&(J=(K<3?te(J):K>3?te(se,j,J):te(se,j))||J);return K>3&&J&&Object.defineProperty(se,j,J),J}([(2,se=R.TG,function(j,$){se(j,$,2)})],B)},21841:(Xe,we,e)=>{var f=e(8256),P=e(18051),r=e(15446),y=e(37190);(0,f.Qr)(class v extends f.R6{constructor(){super({id:"expandLineSelection",label:y.NC("expandLineSelection","Expand Line Selection"),alias:"Expand Line Selection",precondition:void 0,kbOpts:{weight:0,kbExpr:r.u.textInputFocus,primary:2090}})}run(T,E,L){if(L=L||{},!E.hasModel())return;const p=E._getViewModel();p.model.pushStackElement(),p.setCursorStates(L.source,3,P.P.expandLineSelection(p,p.getCursorStates())),p.revealPrimaryCursor(L.source,!0)}})},67494:(Xe,we,e)=>{var f=e(48994),P=e(92987),r=e(8256),y=e(41604),v=e(16055),S=e(20158),T=e(96726);class E{constructor(fe,be){this._selection=fe,this._cursors=be,this._selectionId=null}getEditOperations(fe,be){const pe=function L(xe,fe){fe.sort((Fe,He)=>Fe.lineNumber===He.lineNumber?Fe.column-He.column:Fe.lineNumber-He.lineNumber);for(let Fe=fe.length-2;Fe>=0;Fe--)fe[Fe].lineNumber===fe[Fe+1].lineNumber&&fe.splice(Fe,1);const be=[];let pe=0,Q=0;const le=fe.length;for(let Fe=1,He=xe.getLineCount();Fe<=He;Fe++){const Je=xe.getLineContent(Fe),ot=Je.length+1;let lt=0;if(Q<le&&fe[Q].lineNumber===Fe&&(lt=fe[Q].column,Q++,lt===ot)||0===Je.length)continue;const mt=v.ow(Je);let ft=0;if(-1===mt)ft=1;else{if(mt===Je.length-1)continue;ft=mt+2}ft=Math.max(lt,ft),be[pe++]=S.h.delete(new T.e(Fe,ft,Fe,ot))}return be}(fe,this._cursors);for(let Q=0,le=pe.length;Q<le;Q++){const Fe=pe[Q];be.addEditOperation(Fe.range,Fe.text)}this._selectionId=be.trackSelection(this._selection)}computeCursorState(fe,be){return be.getTrackedSelection(this._selectionId)}}var p=e(89593),c=e(68678),u=e(81534),g=e(15446);class i{constructor(fe,be,pe){this._selection=fe,this._isCopyingDown=be,this._noop=pe||!1,this._selectionDirection=0,this._selectionId=null,this._startLineNumberDelta=0,this._endLineNumberDelta=0}getEditOperations(fe,be){let pe=this._selection;this._startLineNumberDelta=0,this._endLineNumberDelta=0,pe.startLineNumber<pe.endLineNumber&&1===pe.endColumn&&(this._endLineNumberDelta=1,pe=pe.setEndPosition(pe.endLineNumber-1,fe.getLineMaxColumn(pe.endLineNumber-1)));const Q=[];for(let Fe=pe.startLineNumber;Fe<=pe.endLineNumber;Fe++)Q.push(fe.getLineContent(Fe));const le=Q.join("\n");""===le&&this._isCopyingDown&&(this._startLineNumberDelta++,this._endLineNumberDelta++),this._noop?be.addEditOperation(new T.e(pe.endLineNumber,fe.getLineMaxColumn(pe.endLineNumber),pe.endLineNumber+1,1),pe.endLineNumber===fe.getLineCount()?"":"\n"):this._isCopyingDown?be.addEditOperation(new T.e(pe.startLineNumber,1,pe.startLineNumber,1),le+"\n"):be.addEditOperation(new T.e(pe.endLineNumber,fe.getLineMaxColumn(pe.endLineNumber),pe.endLineNumber,fe.getLineMaxColumn(pe.endLineNumber)),"\n"+le),this._selectionId=be.trackSelection(pe),this._selectionDirection=this._selection.getDirection()}computeCursorState(fe,be){let pe=be.getTrackedSelection(this._selectionId);if(0!==this._startLineNumberDelta||0!==this._endLineNumberDelta){let Q=pe.startLineNumber,le=pe.startColumn,Fe=pe.endLineNumber,He=pe.endColumn;0!==this._startLineNumberDelta&&(Q+=this._startLineNumberDelta,le=1),0!==this._endLineNumberDelta&&(Fe+=this._endLineNumberDelta,He=1),pe=u.Y.createWithDirection(Q,le,Fe,He,this._selectionDirection)}return pe}}var d=e(79445),a=e(89224),m=e(58459),l=e(99835),I=e(47683),w=e(5256);let A=class{constructor(fe,be,pe,Q){this._languageConfigurationService=Q,this._selection=fe,this._isMovingDown=be,this._autoIndent=pe,this._selectionId=null,this._moveEndLineSelectionShrink=!1}getEditOperations(fe,be){const pe=fe.getLineCount();if(this._isMovingDown&&this._selection.endLineNumber===pe)return void(this._selectionId=be.trackSelection(this._selection));if(!this._isMovingDown&&1===this._selection.startLineNumber)return void(this._selectionId=be.trackSelection(this._selection));this._moveEndPositionDown=!1;let Q=this._selection;Q.startLineNumber<Q.endLineNumber&&1===Q.endColumn&&(this._moveEndPositionDown=!0,Q=Q.setEndPosition(Q.endLineNumber-1,fe.getLineMaxColumn(Q.endLineNumber-1)));const{tabSize:le,indentSize:Fe,insertSpaces:He}=fe.getOptions(),Je=this.buildIndentConverter(le,Fe,He),ot={tokenization:{getLineTokens:lt=>fe.tokenization.getLineTokens(lt),getLanguageId:()=>fe.getLanguageId(),getLanguageIdAtPosition:(lt,mt)=>fe.getLanguageIdAtPosition(lt,mt)},getLineContent:null};if(Q.startLineNumber===Q.endLineNumber&&1===fe.getLineMaxColumn(Q.startLineNumber)){const lt=Q.startLineNumber,mt=this._isMovingDown?lt+1:lt-1;1===fe.getLineMaxColumn(mt)?be.addEditOperation(new T.e(1,1,1,1),null):(be.addEditOperation(new T.e(lt,1,lt,1),fe.getLineContent(mt)),be.addEditOperation(new T.e(mt,1,mt,fe.getLineMaxColumn(mt)),null)),Q=new u.Y(mt,1,mt,1)}else{let lt,mt;if(this._isMovingDown){lt=Q.endLineNumber+1,mt=fe.getLineContent(lt),be.addEditOperation(new T.e(lt-1,fe.getLineMaxColumn(lt-1),lt,fe.getLineMaxColumn(lt)),null);let ft=mt;if(this.shouldAutoIndent(fe,Q)){const Lt=this.matchEnterRule(fe,Je,le,lt,Q.startLineNumber-1);if(null!==Lt){const Mt=v.V8(fe.getLineContent(lt)),Ut=Lt+l.Y(Mt,le);ft=l.J(Ut,le,He)+this.trimStart(mt)}else{ot.getLineContent=Ut=>fe.getLineContent(Ut===Q.startLineNumber?lt:Ut);const Mt=(0,I.n8)(this._autoIndent,ot,fe.getLanguageIdAtPosition(lt,1),Q.startLineNumber,Je,this._languageConfigurationService);if(null!==Mt){const Ut=v.V8(fe.getLineContent(lt)),At=l.Y(Mt,le);At!==l.Y(Ut,le)&&(ft=l.J(At,le,He)+this.trimStart(mt))}}be.addEditOperation(new T.e(Q.startLineNumber,1,Q.startLineNumber,1),ft+"\n");const Tt=this.matchEnterRuleMovingDown(fe,Je,le,Q.startLineNumber,lt,ft);if(null!==Tt)0!==Tt&&this.getIndentEditsOfMovingBlock(fe,be,Q,le,He,Tt);else{ot.getLineContent=Ut=>Ut===Q.startLineNumber?ft:fe.getLineContent(Ut>=Q.startLineNumber+1&&Ut<=Q.endLineNumber+1?Ut-1:Ut);const Mt=(0,I.n8)(this._autoIndent,ot,fe.getLanguageIdAtPosition(lt,1),Q.startLineNumber+1,Je,this._languageConfigurationService);if(null!==Mt){const Ut=v.V8(fe.getLineContent(Q.startLineNumber)),At=l.Y(Mt,le),It=l.Y(Ut,le);At!==It&&this.getIndentEditsOfMovingBlock(fe,be,Q,le,He,At-It)}}}else be.addEditOperation(new T.e(Q.startLineNumber,1,Q.startLineNumber,1),ft+"\n")}else if(lt=Q.startLineNumber-1,mt=fe.getLineContent(lt),be.addEditOperation(new T.e(lt,1,lt+1,1),null),be.addEditOperation(new T.e(Q.endLineNumber,fe.getLineMaxColumn(Q.endLineNumber),Q.endLineNumber,fe.getLineMaxColumn(Q.endLineNumber)),"\n"+mt),this.shouldAutoIndent(fe,Q)){ot.getLineContent=Lt=>fe.getLineContent(Lt===lt?Q.startLineNumber:Lt);const ft=this.matchEnterRule(fe,Je,le,Q.startLineNumber,Q.startLineNumber-2);if(null!==ft)0!==ft&&this.getIndentEditsOfMovingBlock(fe,be,Q,le,He,ft);else{const Lt=(0,I.n8)(this._autoIndent,ot,fe.getLanguageIdAtPosition(Q.startLineNumber,1),lt,Je,this._languageConfigurationService);if(null!==Lt){const Tt=v.V8(fe.getLineContent(Q.startLineNumber)),Mt=l.Y(Lt,le),Ut=l.Y(Tt,le);Mt!==Ut&&this.getIndentEditsOfMovingBlock(fe,be,Q,le,He,Mt-Ut)}}}}this._selectionId=be.trackSelection(Q)}buildIndentConverter(fe,be,pe){return{shiftIndent:Q=>d.U.shiftIndent(Q,Q.length+1,fe,be,pe),unshiftIndent:Q=>d.U.unshiftIndent(Q,Q.length+1,fe,be,pe)}}parseEnterResult(fe,be,pe,Q,le){if(le){let Fe=le.indentation;le.indentAction===a.wU.None||le.indentAction===a.wU.Indent?Fe=le.indentation+le.appendText:le.indentAction===a.wU.IndentOutdent?Fe=le.indentation:le.indentAction===a.wU.Outdent&&(Fe=be.unshiftIndent(le.indentation)+le.appendText);const He=fe.getLineContent(Q);if(this.trimStart(He).indexOf(this.trimStart(Fe))>=0){const Je=v.V8(fe.getLineContent(Q));let ot=v.V8(Fe);const lt=(0,I.tI)(fe,Q,this._languageConfigurationService);return null!==lt&&2&lt&&(ot=be.unshiftIndent(ot)),l.Y(ot,pe)-l.Y(Je,pe)}}return null}matchEnterRuleMovingDown(fe,be,pe,Q,le,Fe){if(v.ow(Fe)>=0){const He=fe.getLineMaxColumn(le),Je=(0,w.A)(this._autoIndent,fe,new T.e(le,He,le,He),this._languageConfigurationService);return this.parseEnterResult(fe,be,pe,Q,Je)}{let He=Q-1;for(;He>=1;){const lt=fe.getLineContent(He);if(v.ow(lt)>=0)break;He--}if(He<1||Q>fe.getLineCount())return null;const Je=fe.getLineMaxColumn(He),ot=(0,w.A)(this._autoIndent,fe,new T.e(He,Je,He,Je),this._languageConfigurationService);return this.parseEnterResult(fe,be,pe,Q,ot)}}matchEnterRule(fe,be,pe,Q,le,Fe){let He=le;for(;He>=1;){let lt;if(lt=He===le&&void 0!==Fe?Fe:fe.getLineContent(He),v.ow(lt)>=0)break;He--}if(He<1||Q>fe.getLineCount())return null;const Je=fe.getLineMaxColumn(He),ot=(0,w.A)(this._autoIndent,fe,new T.e(He,Je,He,Je),this._languageConfigurationService);return this.parseEnterResult(fe,be,pe,Q,ot)}trimStart(fe){return fe.replace(/^\s+/,"")}shouldAutoIndent(fe,be){if(this._autoIndent<4||!fe.tokenization.isCheapToTokenize(be.startLineNumber))return!1;const pe=fe.getLanguageIdAtPosition(be.startLineNumber,1);return!(pe!==fe.getLanguageIdAtPosition(be.endLineNumber,1)||null===this._languageConfigurationService.getLanguageConfiguration(pe).indentRulesSupport)}getIndentEditsOfMovingBlock(fe,be,pe,Q,le,Fe){for(let He=pe.startLineNumber;He<=pe.endLineNumber;He++){const Je=fe.getLineContent(He),ot=v.V8(Je),mt=l.Y(ot,Q)+Fe,ft=l.J(mt,Q,le);ft!==ot&&(be.addEditOperation(new T.e(He,1,He,ot.length+1),ft),He===pe.endLineNumber&&pe.endColumn<=ot.length+1&&""===ft&&(this._moveEndLineSelectionShrink=!0))}}computeCursorState(fe,be){let pe=be.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(pe=pe.setEndPosition(pe.endLineNumber+1,1)),this._moveEndLineSelectionShrink&&pe.startLineNumber<pe.endLineNumber&&(pe=pe.setEndPosition(pe.endLineNumber,2)),pe}};var fe;A=function(xe,fe,be,pe){var Fe,Q=arguments.length,le=Q<3?fe:null===pe?pe=Object.getOwnPropertyDescriptor(fe,be):pe;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)le=Reflect.decorate(xe,fe,be,pe);else for(var He=xe.length-1;He>=0;He--)(Fe=xe[He])&&(le=(Q<3?Fe(le):Q>3?Fe(fe,be,le):Fe(fe,be))||le);return Q>3&&le&&Object.defineProperty(fe,be,le),le}([(3,fe=m.c_,function(be,pe){fe(be,pe,3)})],A);let k=(()=>{class xe{static getCollator(){return xe._COLLATOR||(xe._COLLATOR=new Intl.Collator),xe._COLLATOR}constructor(be,pe){this.selection=be,this.descending=pe,this.selectionId=null}getEditOperations(be,pe){const Q=function O(xe,fe,be){const pe=R(xe,fe,be);return pe?S.h.replace(new T.e(pe.startLineNumber,1,pe.endLineNumber,xe.getLineMaxColumn(pe.endLineNumber)),pe.after.join("\n")):null}(be,this.selection,this.descending);Q&&pe.addEditOperation(Q.range,Q.text),this.selectionId=pe.trackSelection(this.selection)}computeCursorState(be,pe){return pe.getTrackedSelection(this.selectionId)}static canRun(be,pe,Q){if(null===be)return!1;const le=R(be,pe,Q);if(!le)return!1;for(let Fe=0,He=le.before.length;Fe<He;Fe++)if(le.before[Fe]!==le.after[Fe])return!0;return!1}}return xe._COLLATOR=null,xe})();function R(xe,fe,be){const pe=fe.startLineNumber;let Q=fe.endLineNumber;if(1===fe.endColumn&&Q--,pe>=Q)return null;const le=[];for(let He=pe;He<=Q;He++)le.push(xe.getLineContent(He));let Fe=le.slice(0);return Fe.sort(k.getCollator().compare),!0===be&&(Fe=Fe.reverse()),{startLineNumber:pe,endLineNumber:Q,before:le,after:Fe}}var W=e(37190),z=e(63032);class U extends r.R6{constructor(fe,be){super(be),this.down=fe}run(fe,be){if(!be.hasModel())return;const pe=be.getSelections().map((Fe,He)=>({selection:Fe,index:He,ignore:!1}));pe.sort((Fe,He)=>T.e.compareRangesUsingStarts(Fe.selection,He.selection));let Q=pe[0];for(let Fe=1;Fe<pe.length;Fe++){const He=pe[Fe];Q.selection.endLineNumber===He.selection.startLineNumber&&(Q.index<He.index?He.ignore=!0:(Q.ignore=!0,Q=He))}const le=[];for(const Fe of pe)le.push(new i(Fe.selection,this.down,Fe.ignore));be.pushUndoStop(),be.executeCommands(this.id,le),be.pushUndoStop()}}class se extends r.R6{constructor(fe,be){super(be),this.down=fe}run(fe,be){const pe=fe.get(m.c_),Q=[],le=be.getSelections()||[],Fe=be.getOption(11);for(const He of le)Q.push(new A(He,this.down,Fe,pe));be.pushUndoStop(),be.executeCommands(this.id,Q),be.pushUndoStop()}}class K extends r.R6{constructor(fe,be){super(be),this.descending=fe}run(fe,be){const pe=be.getSelections()||[];for(const le of pe)if(!k.canRun(be.getModel(),le,this.descending))return;const Q=[];for(let le=0,Fe=pe.length;le<Fe;le++)Q[le]=new k(pe[le],this.descending);be.pushUndoStop(),be.executeCommands(this.id,Q),be.pushUndoStop()}}let _=(()=>{class xe extends r.R6{constructor(){super({id:xe.ID,label:W.NC("lines.trimTrailingWhitespace","Trim Trailing Whitespace"),alias:"Trim Trailing Whitespace",precondition:g.u.writable,kbOpts:{kbExpr:g.u.editorTextFocus,primary:(0,f.gx)(2089,2102),weight:100}})}run(be,pe,Q){let le=[];"auto-save"===Q.reason&&(le=(pe.getSelections()||[]).map(Je=>new c.L(Je.positionLineNumber,Je.positionColumn)));const Fe=pe.getSelection();if(null===Fe)return;const He=new E(Fe,le);pe.pushUndoStop(),pe.executeCommands(this.id,[He]),pe.pushUndoStop()}}return xe.ID="editor.action.trimTrailingWhitespace",xe})();class Ie extends r.R6{run(fe,be){if(!be.hasModel())return;const pe=be.getSelection(),Q=this._getRangesToDelete(be),le=[];for(let Je=0,ot=Q.length-1;Je<ot;Je++){const lt=Q[Je],mt=Q[Je+1];null===T.e.intersectRanges(lt,mt)?le.push(lt):Q[Je+1]=T.e.plusRange(lt,mt)}le.push(Q[Q.length-1]);const Fe=this._getEndCursorState(pe,le),He=le.map(Je=>S.h.replace(Je,""));be.pushUndoStop(),be.executeEdits(this.id,He,Fe),be.pushUndoStop()}}class oe extends r.R6{run(fe,be){const pe=be.getSelections();if(null===pe)return;const Q=be.getModel();if(null===Q)return;const le=be.getOption(128),Fe=[];for(const He of pe)if(He.isEmpty()){const Je=He.getStartPosition(),ot=be.getConfiguredWordAtPosition(Je);if(!ot)continue;const lt=new T.e(Je.lineNumber,ot.startColumn,Je.lineNumber,ot.endColumn),mt=Q.getValueInRange(lt);Fe.push(S.h.replace(lt,this._modifyText(mt,le)))}else{const Je=Q.getValueInRange(He);Fe.push(S.h.replace(He,this._modifyText(Je,le)))}be.pushUndoStop(),be.executeEdits(this.id,Fe),be.pushUndoStop()}}class F{constructor(fe,be){this._pattern=fe,this._flags=be,this._actual=null,this._evaluated=!1}get(){if(!this._evaluated){this._evaluated=!0;try{this._actual=new RegExp(this._pattern,this._flags)}catch{}}return this._actual}isSupported(){return null!==this.get()}}class ie extends oe{constructor(){super({id:"editor.action.transformToTitlecase",label:W.NC("editor.transformToTitlecase","Transform to Title Case"),alias:"Transform to Title Case",precondition:g.u.writable})}_modifyText(fe,be){const pe=ie.titleBoundary.get();return pe?fe.toLocaleLowerCase().replace(pe,Q=>Q.toLocaleUpperCase()):fe}}ie.titleBoundary=new F("(^|[^\\p{L}\\p{N}']|((^|\\P{L})'))\\p{L}","gmu");class Ce extends oe{constructor(){super({id:"editor.action.transformToSnakecase",label:W.NC("editor.transformToSnakecase","Transform to Snake Case"),alias:"Transform to Snake Case",precondition:g.u.writable})}_modifyText(fe,be){const pe=Ce.caseBoundary.get(),Q=Ce.singleLetters.get();return pe&&Q?fe.replace(pe,"$1_$2").replace(Q,"$1_$2$3").toLocaleLowerCase():fe}}Ce.caseBoundary=new F("(\\p{Ll})(\\p{Lu})","gmu"),Ce.singleLetters=new F("(\\p{Lu}|\\p{N})(\\p{Lu})(\\p{Ll})","gmu");class ke extends oe{constructor(){super({id:"editor.action.transformToCamelcase",label:W.NC("editor.transformToCamelcase","Transform to Camel Case"),alias:"Transform to Camel Case",precondition:g.u.writable})}_modifyText(fe,be){const pe=ke.wordBoundary.get();if(!pe)return fe;const Q=fe.split(pe);return Q.shift()+Q.map(Fe=>Fe.substring(0,1).toLocaleUpperCase()+Fe.substring(1)).join("")}}ke.wordBoundary=new F("[_\\s-]","gm");class Pe extends oe{static isSupported(){return[this.caseBoundary,this.singleLetters,this.underscoreBoundary].every(be=>be.isSupported())}constructor(){super({id:"editor.action.transformToKebabcase",label:W.NC("editor.transformToKebabcase","Transform to Kebab Case"),alias:"Transform to Kebab Case",precondition:g.u.writable})}_modifyText(fe,be){const pe=Pe.caseBoundary.get(),Q=Pe.singleLetters.get(),le=Pe.underscoreBoundary.get();return pe&&Q&&le?fe.replace(le,"$1-$3").replace(pe,"$1-$2").replace(Q,"$1-$2").toLocaleLowerCase():fe}}Pe.caseBoundary=new F("(\\p{Ll})(\\p{Lu})","gmu"),Pe.singleLetters=new F("(\\p{Lu}|\\p{N})(\\p{Lu}\\p{Ll})","gmu"),Pe.underscoreBoundary=new F("(\\S)(_)(\\S)","gm"),(0,r.Qr)(class ee extends U{constructor(){super(!1,{id:"editor.action.copyLinesUpAction",label:W.NC("lines.copyUp","Copy Line Up"),alias:"Copy Line Up",precondition:g.u.writable,kbOpts:{kbExpr:g.u.editorTextFocus,primary:1552,linux:{primary:3600},weight:100},menuOpts:{menuId:z.eH.MenubarSelectionMenu,group:"2_line",title:W.NC({key:"miCopyLinesUp",comment:["&& denotes a mnemonic"]},"&&Copy Line Up"),order:1}})}}),(0,r.Qr)(class B extends U{constructor(){super(!0,{id:"editor.action.copyLinesDownAction",label:W.NC("lines.copyDown","Copy Line Down"),alias:"Copy Line Down",precondition:g.u.writable,kbOpts:{kbExpr:g.u.editorTextFocus,primary:1554,linux:{primary:3602},weight:100},menuOpts:{menuId:z.eH.MenubarSelectionMenu,group:"2_line",title:W.NC({key:"miCopyLinesDown",comment:["&& denotes a mnemonic"]},"Co&&py Line Down"),order:2}})}}),(0,r.Qr)(class G extends r.R6{constructor(){super({id:"editor.action.duplicateSelection",label:W.NC("duplicateSelection","Duplicate Selection"),alias:"Duplicate Selection",precondition:g.u.writable,menuOpts:{menuId:z.eH.MenubarSelectionMenu,group:"2_line",title:W.NC({key:"miDuplicateSelection",comment:["&& denotes a mnemonic"]},"&&Duplicate Selection"),order:5}})}run(fe,be,pe){if(!be.hasModel())return;const Q=[],le=be.getSelections(),Fe=be.getModel();for(const He of le)if(He.isEmpty())Q.push(new i(He,!0));else{const Je=new u.Y(He.endLineNumber,He.endColumn,He.endLineNumber,He.endColumn);Q.push(new y.OY(Je,Fe.getValueInRange(He)))}be.pushUndoStop(),be.executeCommands(this.id,Q),be.pushUndoStop()}}),(0,r.Qr)(class j extends se{constructor(){super(!1,{id:"editor.action.moveLinesUpAction",label:W.NC("lines.moveUp","Move Line Up"),alias:"Move Line Up",precondition:g.u.writable,kbOpts:{kbExpr:g.u.editorTextFocus,primary:528,linux:{primary:528},weight:100},menuOpts:{menuId:z.eH.MenubarSelectionMenu,group:"2_line",title:W.NC({key:"miMoveLinesUp",comment:["&& denotes a mnemonic"]},"Mo&&ve Line Up"),order:3}})}}),(0,r.Qr)(class $ extends se{constructor(){super(!0,{id:"editor.action.moveLinesDownAction",label:W.NC("lines.moveDown","Move Line Down"),alias:"Move Line Down",precondition:g.u.writable,kbOpts:{kbExpr:g.u.editorTextFocus,primary:530,linux:{primary:530},weight:100},menuOpts:{menuId:z.eH.MenubarSelectionMenu,group:"2_line",title:W.NC({key:"miMoveLinesDown",comment:["&& denotes a mnemonic"]},"Move &&Line Down"),order:4}})}}),(0,r.Qr)(class J extends K{constructor(){super(!1,{id:"editor.action.sortLinesAscending",label:W.NC("lines.sortAscending","Sort Lines Ascending"),alias:"Sort Lines Ascending",precondition:g.u.writable})}}),(0,r.Qr)(class te extends K{constructor(){super(!0,{id:"editor.action.sortLinesDescending",label:W.NC("lines.sortDescending","Sort Lines Descending"),alias:"Sort Lines Descending",precondition:g.u.writable})}}),(0,r.Qr)(class ne extends r.R6{constructor(){super({id:"editor.action.removeDuplicateLines",label:W.NC("lines.deleteDuplicates","Delete Duplicate Lines"),alias:"Delete Duplicate Lines",precondition:g.u.writable})}run(fe,be){if(!be.hasModel())return;const pe=be.getModel();if(1===pe.getLineCount()&&1===pe.getLineMaxColumn(1))return;const Q=[],le=[];let Fe=0;for(const He of be.getSelections()){const Je=new Set,ot=[];for(let Lt=He.startLineNumber;Lt<=He.endLineNumber;Lt++){const Tt=pe.getLineContent(Lt);Je.has(Tt)||(ot.push(Tt),Je.add(Tt))}const lt=new u.Y(He.startLineNumber,1,He.endLineNumber,pe.getLineMaxColumn(He.endLineNumber)),mt=He.startLineNumber-Fe,ft=new u.Y(mt,1,mt+ot.length-1,ot[ot.length-1].length);Q.push(S.h.replace(lt,ot.join("\n"))),le.push(ft),Fe+=He.endLineNumber-He.startLineNumber+1-ot.length}be.pushUndoStop(),be.executeEdits(this.id,Q,le),be.pushUndoStop()}}),(0,r.Qr)(_),(0,r.Qr)(class ae extends r.R6{constructor(){super({id:"editor.action.deleteLines",label:W.NC("lines.delete","Delete Line"),alias:"Delete Line",precondition:g.u.writable,kbOpts:{kbExpr:g.u.textInputFocus,primary:3113,weight:100}})}run(fe,be){if(!be.hasModel())return;const pe=this._getLinesToRemove(be),Q=be.getModel();if(1===Q.getLineCount()&&1===Q.getLineMaxColumn(1))return;let le=0;const Fe=[],He=[];for(let Je=0,ot=pe.length;Je<ot;Je++){const lt=pe[Je];let mt=lt.startLineNumber,ft=lt.endLineNumber,Lt=1,Tt=Q.getLineMaxColumn(ft);ft<Q.getLineCount()?(ft+=1,Tt=1):mt>1&&(mt-=1,Lt=Q.getLineMaxColumn(mt)),Fe.push(S.h.replace(new u.Y(mt,Lt,ft,Tt),"")),He.push(new u.Y(mt-le,lt.positionColumn,mt-le,lt.positionColumn)),le+=lt.endLineNumber-lt.startLineNumber+1}be.pushUndoStop(),be.executeEdits(this.id,Fe,He),be.pushUndoStop()}_getLinesToRemove(fe){const be=fe.getSelections().map(le=>{let Fe=le.endLineNumber;return le.startLineNumber<le.endLineNumber&&1===le.endColumn&&(Fe-=1),{startLineNumber:le.startLineNumber,selectionStartColumn:le.selectionStartColumn,endLineNumber:Fe,positionColumn:le.positionColumn}});be.sort((le,Fe)=>le.startLineNumber===Fe.startLineNumber?le.endLineNumber-Fe.endLineNumber:le.startLineNumber-Fe.startLineNumber);const pe=[];let Q=be[0];for(let le=1;le<be.length;le++)Q.endLineNumber+1>=be[le].startLineNumber?Q.endLineNumber=be[le].endLineNumber:(pe.push(Q),Q=be[le]);return pe.push(Q),pe}}),(0,r.Qr)(class ge extends r.R6{constructor(){super({id:"editor.action.indentLines",label:W.NC("lines.indent","Indent Line"),alias:"Indent Line",precondition:g.u.writable,kbOpts:{kbExpr:g.u.editorTextFocus,primary:2142,weight:100}})}run(fe,be){const pe=be._getViewModel();pe&&(be.pushUndoStop(),be.executeCommands(this.id,p.u6.indent(pe.cursorConfig,be.getModel(),be.getSelections())),be.pushUndoStop())}}),(0,r.Qr)(class _e extends r.R6{constructor(){super({id:"editor.action.outdentLines",label:W.NC("lines.outdent","Outdent Line"),alias:"Outdent Line",precondition:g.u.writable,kbOpts:{kbExpr:g.u.editorTextFocus,primary:2140,weight:100}})}run(fe,be){P.wk.Outdent.runEditorCommand(fe,be,null)}}),(0,r.Qr)(class ue extends r.R6{constructor(){super({id:"editor.action.insertLineBefore",label:W.NC("lines.insertBefore","Insert Line Above"),alias:"Insert Line Above",precondition:g.u.writable,kbOpts:{kbExpr:g.u.editorTextFocus,primary:3075,weight:100}})}run(fe,be){const pe=be._getViewModel();pe&&(be.pushUndoStop(),be.executeCommands(this.id,p.u6.lineInsertBefore(pe.cursorConfig,be.getModel(),be.getSelections())))}}),(0,r.Qr)(class ve extends r.R6{constructor(){super({id:"editor.action.insertLineAfter",label:W.NC("lines.insertAfter","Insert Line Below"),alias:"Insert Line Below",precondition:g.u.writable,kbOpts:{kbExpr:g.u.editorTextFocus,primary:2051,weight:100}})}run(fe,be){const pe=be._getViewModel();pe&&(be.pushUndoStop(),be.executeCommands(this.id,p.u6.lineInsertAfter(pe.cursorConfig,be.getModel(),be.getSelections())))}}),(0,r.Qr)(class Se extends Ie{constructor(){super({id:"deleteAllLeft",label:W.NC("lines.deleteAllLeft","Delete All Left"),alias:"Delete All Left",precondition:g.u.writable,kbOpts:{kbExpr:g.u.textInputFocus,primary:0,mac:{primary:2049},weight:100}})}_getEndCursorState(fe,be){let pe=null;const Q=[];let le=0;return be.forEach(Fe=>{let He;if(1===Fe.endColumn&&le>0){const Je=Fe.startLineNumber-le;He=new u.Y(Je,Fe.startColumn,Je,Fe.startColumn)}else He=new u.Y(Fe.startLineNumber,Fe.startColumn,Fe.startLineNumber,Fe.startColumn);le+=Fe.endLineNumber-Fe.startLineNumber,Fe.intersectRanges(fe)?pe=He:Q.push(He)}),pe&&Q.unshift(pe),Q}_getRangesToDelete(fe){const be=fe.getSelections();if(null===be)return[];let pe=be;const Q=fe.getModel();return null===Q?[]:(pe.sort(T.e.compareRangesUsingStarts),pe=pe.map(le=>{if(le.isEmpty()){if(1===le.startColumn){const Fe=Math.max(1,le.startLineNumber-1),He=1===le.startLineNumber?1:Q.getLineContent(Fe).length+1;return new T.e(Fe,He,le.startLineNumber,1)}return new T.e(le.startLineNumber,1,le.startLineNumber,le.startColumn)}return new T.e(le.startLineNumber,1,le.endLineNumber,le.endColumn)}),pe)}}),(0,r.Qr)(class Ve extends Ie{constructor(){super({id:"deleteAllRight",label:W.NC("lines.deleteAllRight","Delete All Right"),alias:"Delete All Right",precondition:g.u.writable,kbOpts:{kbExpr:g.u.textInputFocus,primary:0,mac:{primary:297,secondary:[2068]},weight:100}})}_getEndCursorState(fe,be){let pe=null;const Q=[];for(let le=0,Fe=be.length,He=0;le<Fe;le++){const Je=be[le],ot=new u.Y(Je.startLineNumber-He,Je.startColumn,Je.startLineNumber-He,Je.startColumn);Je.intersectRanges(fe)?pe=ot:Q.push(ot)}return pe&&Q.unshift(pe),Q}_getRangesToDelete(fe){const be=fe.getModel();if(null===be)return[];const pe=fe.getSelections();if(null===pe)return[];const Q=pe.map(le=>{if(le.isEmpty()){const Fe=be.getLineMaxColumn(le.startLineNumber);return le.startColumn===Fe?new T.e(le.startLineNumber,le.startColumn,le.startLineNumber+1,1):new T.e(le.startLineNumber,le.startColumn,le.startLineNumber,Fe)}return le});return Q.sort(T.e.compareRangesUsingStarts),Q}}),(0,r.Qr)(class De extends r.R6{constructor(){super({id:"editor.action.joinLines",label:W.NC("lines.joinLines","Join Lines"),alias:"Join Lines",precondition:g.u.writable,kbOpts:{kbExpr:g.u.editorTextFocus,primary:0,mac:{primary:296},weight:100}})}run(fe,be){const pe=be.getSelections();if(null===pe)return;let Q=be.getSelection();if(null===Q)return;pe.sort(T.e.compareRangesUsingStarts);const le=[],Fe=pe.reduce((ft,Lt)=>ft.isEmpty()?ft.endLineNumber===Lt.startLineNumber?(Q.equalsSelection(ft)&&(Q=Lt),Lt):Lt.startLineNumber>ft.endLineNumber+1?(le.push(ft),Lt):new u.Y(ft.startLineNumber,ft.startColumn,Lt.endLineNumber,Lt.endColumn):Lt.startLineNumber>ft.endLineNumber?(le.push(ft),Lt):new u.Y(ft.startLineNumber,ft.startColumn,Lt.endLineNumber,Lt.endColumn));le.push(Fe);const He=be.getModel();if(null===He)return;const Je=[],ot=[];let lt=Q,mt=0;for(let ft=0,Lt=le.length;ft<Lt;ft++){const Tt=le[ft],Mt=Tt.startLineNumber,Ut=1;let It,it,At=0;const qe=He.getLineContent(Tt.endLineNumber).length-Tt.endColumn;if(Tt.isEmpty()||Tt.startLineNumber===Tt.endLineNumber){const Te=Tt.getStartPosition();Te.lineNumber<He.getLineCount()?(It=Mt+1,it=He.getLineMaxColumn(It)):(It=Te.lineNumber,it=He.getLineMaxColumn(Te.lineNumber))}else It=Tt.endLineNumber,it=He.getLineMaxColumn(It);let Ze=He.getLineContent(Mt);for(let Te=Mt+1;Te<=It;Te++){const Ae=He.getLineContent(Te),ht=He.getLineFirstNonWhitespaceColumn(Te);if(ht>=1){let yt=!0;""===Ze&&(yt=!1),yt&&(" "===Ze.charAt(Ze.length-1)||"\t"===Ze.charAt(Ze.length-1))&&(yt=!1,Ze=Ze.replace(/[\s\uFEFF\xA0]+$/g," "));const Dt=Ae.substr(ht-1);Ze+=(yt?" ":"")+Dt,At=yt?Dt.length+1:Dt.length}else At=0}const Ee=new T.e(Mt,Ut,It,it);if(!Ee.isEmpty()){let Te;Tt.isEmpty()?(Je.push(S.h.replace(Ee,Ze)),Te=new u.Y(Ee.startLineNumber-mt,Ze.length-At+1,Mt-mt,Ze.length-At+1)):Tt.startLineNumber===Tt.endLineNumber?(Je.push(S.h.replace(Ee,Ze)),Te=new u.Y(Tt.startLineNumber-mt,Tt.startColumn,Tt.endLineNumber-mt,Tt.endColumn)):(Je.push(S.h.replace(Ee,Ze)),Te=new u.Y(Tt.startLineNumber-mt,Tt.startColumn,Tt.startLineNumber-mt,Ze.length-qe)),null!==T.e.intersectRanges(Ee,Q)?lt=Te:ot.push(Te)}mt+=Ee.endLineNumber-Ee.startLineNumber}ot.unshift(lt),be.pushUndoStop(),be.executeEdits(this.id,Je,ot),be.pushUndoStop()}}),(0,r.Qr)(class ye extends r.R6{constructor(){super({id:"editor.action.transpose",label:W.NC("editor.transpose","Transpose Characters around the Cursor"),alias:"Transpose Characters around the Cursor",precondition:g.u.writable})}run(fe,be){const pe=be.getSelections();if(null===pe)return;const Q=be.getModel();if(null===Q)return;const le=[];for(let Fe=0,He=pe.length;Fe<He;Fe++){const Je=pe[Fe];if(!Je.isEmpty())continue;const ot=Je.getStartPosition(),lt=Q.getLineMaxColumn(ot.lineNumber);if(ot.column>=lt){if(ot.lineNumber===Q.getLineCount())continue;const mt=new T.e(ot.lineNumber,Math.max(1,ot.column-1),ot.lineNumber+1,1),ft=Q.getValueInRange(mt).split("").reverse().join("");le.push(new y.T4(new u.Y(ot.lineNumber,Math.max(1,ot.column-1),ot.lineNumber+1,1),ft))}else{const mt=new T.e(ot.lineNumber,Math.max(1,ot.column-1),ot.lineNumber,ot.column+1),ft=Q.getValueInRange(mt).split("").reverse().join("");le.push(new y.hP(mt,ft,new u.Y(ot.lineNumber,ot.column+1,ot.lineNumber,ot.column+1)))}}be.pushUndoStop(),be.executeCommands(this.id,le),be.pushUndoStop()}}),(0,r.Qr)(class Y extends oe{constructor(){super({id:"editor.action.transformToUppercase",label:W.NC("editor.transformToUppercase","Transform to Uppercase"),alias:"Transform to Uppercase",precondition:g.u.writable})}_modifyText(fe,be){return fe.toLocaleUpperCase()}}),(0,r.Qr)(class x extends oe{constructor(){super({id:"editor.action.transformToLowercase",label:W.NC("editor.transformToLowercase","Transform to Lowercase"),alias:"Transform to Lowercase",precondition:g.u.writable})}_modifyText(fe,be){return fe.toLocaleLowerCase()}}),Ce.caseBoundary.isSupported()&&Ce.singleLetters.isSupported()&&(0,r.Qr)(Ce),ke.wordBoundary.isSupported()&&(0,r.Qr)(ke),ie.titleBoundary.isSupported()&&(0,r.Qr)(ie),Pe.isSupported()&&(0,r.Qr)(Pe)},90178:(Xe,we,e)=>{var f=e(31738),P=e(85328),r=e(87618),y=e(90888),v=e(17967),S=e(58178),T=e(78694),E=e(16055),L=e(15850),p=e(8256),c=e(51617),u=e(68678),g=e(96726),i=e(15446),d=e(54267),a=e(58459),m=e(37190),l=e(66221),I=e(55763),w=e(99745),D=e(31663),N=e(11664),A=e(93379),k=e.n(A),R=e(7795),O=e.n(R),W=e(90569),z=e.n(W),U=e(3565),ee=e.n(U),B=e(19216),G=e.n(B),se=e(44589),j=e.n(se),$=e(55040),K={};K.styleTagTransform=j(),K.setAttributes=ee(),K.insert=z().bind(null,"head"),K.domAPI=O(),K.insertStyleElement=G(),k()($.Z,K);var ge,_=function(ye,oe){return function(Y,x){oe(Y,x,ye)}},ae=function(ye,oe,Y,x){return new(Y||(Y=Promise))(function(ie,Ce){function ke(fe){try{xe(x.next(fe))}catch(be){Ce(be)}}function Pe(fe){try{xe(x.throw(fe))}catch(be){Ce(be)}}function xe(fe){fe.done?ie(fe.value):function F(ie){return ie instanceof Y?ie:new Y(function(Ce){Ce(ie)})}(fe.value).then(ke,Pe)}xe((x=x.apply(ye,oe||[])).next())})};const _e=new l.uy("LinkedEditingInputVisible",!1);let ve=ge=class extends T.JT{static get(oe){return oe.getContribution(ge.ID)}constructor(oe,Y,x,F,ie){super(),this.languageConfigurationService=F,this._syncRangesToken=0,this._localToDispose=this._register(new T.SL),this._editor=oe,this._providers=x.linkedEditingRangeProvider,this._enabled=!1,this._visibleContextKey=_e.bindTo(Y),this._debounceInformation=ie.for(this._providers,"Linked Editing",{max:200}),this._currentDecorations=this._editor.createDecorationsCollection(),this._languageWordPattern=null,this._currentWordPattern=null,this._ignoreChangeEvent=!1,this._localToDispose=this._register(new T.SL),this._rangeUpdateTriggerPromise=null,this._rangeSyncTriggerPromise=null,this._currentRequest=null,this._currentRequestPosition=null,this._currentRequestModelVersion=null,this._register(this._editor.onDidChangeModel(()=>this.reinitialize(!0))),this._register(this._editor.onDidChangeConfiguration(Ce=>{(Ce.hasChanged(68)||Ce.hasChanged(91))&&this.reinitialize(!1)})),this._register(this._providers.onDidChange(()=>this.reinitialize(!1))),this._register(this._editor.onDidChangeModelLanguage(()=>this.reinitialize(!0))),this.reinitialize(!0)}reinitialize(oe){const Y=this._editor.getModel(),x=null!==Y&&(this._editor.getOption(68)||this._editor.getOption(91))&&this._providers.has(Y);if(x===this._enabled&&!oe||(this._enabled=x,this.clearRanges(),this._localToDispose.clear(),!x||null===Y))return;this._localToDispose.add(S.ju.runAndSubscribe(Y.onDidChangeLanguageConfiguration,()=>{this._languageWordPattern=this.languageConfigurationService.getLanguageConfiguration(Y.getLanguageId()).getWordDefinition()}));const F=new P.vp(this._debounceInformation.get(Y)),ie=()=>{var Pe;this._rangeUpdateTriggerPromise=F.trigger(()=>this.updateRanges(),null!==(Pe=this._debounceDuration)&&void 0!==Pe?Pe:this._debounceInformation.get(Y))},Ce=new P.vp(0),ke=Pe=>{this._rangeSyncTriggerPromise=Ce.trigger(()=>this._syncRanges(Pe))};this._localToDispose.add(this._editor.onDidChangeCursorPosition(()=>{ie()})),this._localToDispose.add(this._editor.onDidChangeModelContent(Pe=>{if(!this._ignoreChangeEvent&&this._currentDecorations.length>0){const xe=this._currentDecorations.getRange(0);if(xe&&Pe.changes.every(fe=>xe.intersectRanges(fe.range)))return void ke(this._syncRangesToken)}ie()})),this._localToDispose.add({dispose:()=>{F.dispose(),Ce.dispose()}}),this.updateRanges()}_syncRanges(oe){if(!this._editor.hasModel()||oe!==this._syncRangesToken||0===this._currentDecorations.length)return;const Y=this._editor.getModel(),x=this._currentDecorations.getRange(0);if(!x||x.startLineNumber!==x.endLineNumber)return this.clearRanges();const F=Y.getValueInRange(x);if(this._currentWordPattern){const Ce=F.match(this._currentWordPattern);if((Ce?Ce[0].length:0)!==F.length)return this.clearRanges()}const ie=[];for(let Ce=1,ke=this._currentDecorations.length;Ce<ke;Ce++){const Pe=this._currentDecorations.getRange(Ce);if(Pe)if(Pe.startLineNumber!==Pe.endLineNumber)ie.push({range:Pe,text:F});else{let xe=Y.getValueInRange(Pe),fe=F,be=Pe.startColumn,pe=Pe.endColumn;const Q=E.Mh(xe,fe);be+=Q,xe=xe.substr(Q),fe=fe.substr(Q);const le=E.P1(xe,fe);pe-=le,xe=xe.substr(0,xe.length-le),fe=fe.substr(0,fe.length-le),(be!==pe||0!==fe.length)&&ie.push({range:new g.e(Pe.startLineNumber,be,Pe.endLineNumber,pe),text:fe})}}if(0!==ie.length)try{this._editor.popUndoStop(),this._ignoreChangeEvent=!0;const Ce=this._editor._getViewModel().getPrevEditOperationType();this._editor.executeEdits("linkedEditing",ie),this._editor._getViewModel().setPrevEditOperationType(Ce)}finally{this._ignoreChangeEvent=!1}}dispose(){this.clearRanges(),super.dispose()}clearRanges(){this._visibleContextKey.set(!1),this._currentDecorations.clear(),this._currentRequest&&(this._currentRequest.cancel(),this._currentRequest=null,this._currentRequestPosition=null)}updateRanges(oe=!1){return ae(this,void 0,void 0,function*(){if(!this._editor.hasModel())return void this.clearRanges();const Y=this._editor.getPosition();if(!this._enabled&&!oe||this._editor.getSelections().length>1)return void this.clearRanges();const x=this._editor.getModel(),F=x.getVersionId();if(this._currentRequestPosition&&this._currentRequestModelVersion===F){if(Y.equals(this._currentRequestPosition))return;if(this._currentDecorations.length>0){const Ce=this._currentDecorations.getRange(0);if(Ce&&Ce.containsPosition(Y))return}}this.clearRanges(),this._currentRequestPosition=Y,this._currentRequestModelVersion=F;const ie=(0,P.PG)(Ce=>ae(this,void 0,void 0,function*(){try{const ke=new N.G(!1),Pe=yield Ve(this._providers,x,Y,Ce);if(this._debounceInformation.update(x,ke.elapsed()),ie!==this._currentRequest||(this._currentRequest=null,F!==x.getVersionId()))return;let xe=[];Pe?.ranges&&(xe=Pe.ranges),this._currentWordPattern=Pe?.wordPattern||this._languageWordPattern;let fe=!1;for(let pe=0,Q=xe.length;pe<Q;pe++)if(g.e.containsPosition(xe[pe],Y)){if(fe=!0,0!==pe){const le=xe[pe];xe.splice(pe,1),xe.unshift(le)}break}if(!fe)return void this.clearRanges();const be=xe.map(pe=>({range:pe,options:ge.DECORATION}));this._visibleContextKey.set(!0),this._currentDecorations.set(be),this._syncRangesToken++}catch(ke){(0,v.n2)(ke)||(0,v.dL)(ke),(this._currentRequest===ie||!this._currentRequest)&&this.clearRanges()}}));return this._currentRequest=ie,ie})}};ve.ID="editor.contrib.linkedEditing",ve.DECORATION=d.qx.register({description:"linked-editing",stickiness:0,className:"linked-editing-decoration"}),ve=ge=function(ye,oe,Y,x){var Ce,F=arguments.length,ie=F<3?oe:null===x?x=Object.getOwnPropertyDescriptor(oe,Y):x;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ie=Reflect.decorate(ye,oe,Y,x);else for(var ke=ye.length-1;ke>=0;ke--)(Ce=ye[ke])&&(ie=(F<3?Ce(ie):F>3?Ce(oe,Y,ie):Ce(oe,Y))||ie);return F>3&&ie&&Object.defineProperty(oe,Y,ie),ie}([_(1,l.i6),_(2,I.p),_(3,a.c_),_(4,D.A)],ve);const Se=p._l.bindToContribution(ve.get);function Ve(ye,oe,Y,x){const F=ye.ordered(oe);return(0,P.Ps)(F.map(ie=>()=>ae(this,void 0,void 0,function*(){try{return yield ie.provideLinkedEditingRanges(oe,Y,x)}catch(Ce){return void(0,v.Cp)(Ce)}})),ie=>!!ie&&f.Of(ie?.ranges))}(0,p.fK)(new Se({id:"cancelLinkedEditingInput",precondition:_e,handler:ye=>ye.clearRanges(),kbOpts:{kbExpr:i.u.editorTextFocus,weight:199,primary:9,secondary:[1033]}})),(0,w.P6G)("editor.linkedEditingBackground",{dark:y.Il.fromHex("#f00").transparent(.3),light:y.Il.fromHex("#f00").transparent(.3),hcDark:y.Il.fromHex("#f00").transparent(.3),hcLight:y.Il.white},m.NC("editorLinkedEditingBackground","Background color when the editor auto renames on type.")),(0,p.sb)("_executeLinkedEditingProvider",(ye,oe,Y)=>{const{linkedEditingRangeProvider:x}=ye.get(I.p);return Ve(x,oe,Y,r.T.None)}),(0,p._K)(ve.ID,ve,1),(0,p.Qr)(class Ie extends p.R6{constructor(){super({id:"editor.action.linkedEditing",label:m.NC("linkedEditing.label","Start Linked Editing"),alias:"Start Linked Editing",precondition:l.Ao.and(i.u.writable,i.u.hasRenameProvider),kbOpts:{kbExpr:i.u.editorTextFocus,primary:3132,weight:100}})}runCommand(oe,Y){const x=oe.get(c.$),[F,ie]=Array.isArray(Y)&&Y||[void 0,void 0];return L.o.isUri(F)&&u.L.isIPosition(ie)?x.openCodeEditor({resource:F},x.getActiveCodeEditor()).then(Ce=>{Ce&&(Ce.setPosition(ie),Ce.invokeWithinContext(ke=>(this.reportTelemetry(ke,Ce),this.run(ke,Ce))))},v.dL):super.runCommand(oe,Y)}run(oe,Y){const x=ve.get(Y);return x?Promise.resolve(x.updateRanges(!0)):Promise.resolve()}})},31710:(Xe,we,e)=>{var f=e(85328),P=e(87618),r=e(17967),y=e(10878),v=e(78694),S=e(42685),T=e(88593),E=e(9001),L=e(11664),p=e(15850),c=e(93379),u=e.n(c),g=e(7795),i=e.n(g),d=e(90569),a=e.n(d),m=e(3565),l=e.n(m),I=e(19216),w=e.n(I),D=e(44589),N=e.n(D),A=e(28477),k={};k.styleTagTransform=N(),k.setAttributes=l(),k.insert=a().bind(null,"head"),k.domAPI=i(),k.insertStyleElement=w(),u()(A.Z,k);var W=e(8256),z=e(54267),U=e(31663),ee=e(55763),B=e(25823),G=e(31738),se=e(91402),j=e(96726),$=e(41204),K=e(11813),J=function(x,F,ie,Ce){return new(ie||(ie=Promise))(function(Pe,xe){function fe(Q){try{pe(Ce.next(Q))}catch(le){xe(le)}}function be(Q){try{pe(Ce.throw(Q))}catch(le){xe(le)}}function pe(Q){Q.done?Pe(Q.value):function ke(Pe){return Pe instanceof ie?Pe:new ie(function(xe){xe(Pe)})}(Q.value).then(fe,be)}pe((Ce=Ce.apply(x,F||[])).next())})};class te{constructor(F,ie){this._link=F,this._provider=ie}toJSON(){return{range:this.range,url:this.url,tooltip:this.tooltip}}get range(){return this._link.range}get url(){return this._link.url}get tooltip(){return this._link.tooltip}resolve(F){return J(this,void 0,void 0,function*(){return this._link.url?this._link.url:"function"==typeof this._provider.resolveLink?Promise.resolve(this._provider.resolveLink(this._link,F)).then(ie=>(this._link=ie||this._link,this._link.url?this.resolve(F):Promise.reject(new Error("missing")))):Promise.reject(new Error("missing"))})}}class ne{constructor(F){this._disposables=new v.SL;let ie=[];for(const[Ce,ke]of F){const Pe=Ce.links.map(xe=>new te(xe,ke));ie=ne._union(ie,Pe),(0,v.Wf)(Ce)&&this._disposables.add(Ce)}this.links=ie}dispose(){this._disposables.dispose(),this.links.length=0}static _union(F,ie){const Ce=[];let ke,Pe,xe,fe;for(ke=0,xe=0,Pe=F.length,fe=ie.length;ke<Pe&&xe<fe;){const be=F[ke],pe=ie[xe];j.e.areIntersectingOrTouching(be.range,pe.range)?ke++:j.e.compareRangesUsingStarts(be.range,pe.range)<0?(Ce.push(be),ke++):(Ce.push(pe),xe++)}for(;ke<Pe;ke++)Ce.push(F[ke]);for(;xe<fe;xe++)Ce.push(ie[xe]);return Ce}}function _(x,F,ie){const Ce=[],ke=x.ordered(F).reverse().map((Pe,xe)=>Promise.resolve(Pe.provideLinks(F,ie)).then(fe=>{fe&&(Ce[xe]=[fe,Pe])},r.Cp));return Promise.all(ke).then(()=>{const Pe=new ne((0,G.kX)(Ce));return ie.isCancellationRequested?(Pe.dispose(),new ne([])):Pe})}K.P.registerCommand("_executeLinkProvider",(x,...F)=>J(void 0,void 0,void 0,function*(){let[ie,Ce]=F;(0,se.p_)(ie instanceof p.o),"number"!=typeof Ce&&(Ce=0);const{linkProvider:ke}=x.get(ee.p),Pe=x.get($.q).getModel(ie);if(!Pe)return[];const xe=yield _(ke,Pe,P.T.None);if(!xe)return[];for(let be=0;be<Math.min(Ce,xe.links.length);be++)yield xe.links[be].resolve(P.T.None);const fe=xe.links.slice(0);return xe.dispose(),fe}));var Se,ae=e(37190),ge=e(22438),_e=e(6628),ve=function(x,F){return function(ie,Ce){F(ie,Ce,x)}};let Ve=Se=class extends v.JT{static get(F){return F.getContribution(Se.ID)}constructor(F,ie,Ce,ke,Pe){super(),this.editor=F,this.openerService=ie,this.notificationService=Ce,this.languageFeaturesService=ke,this.providers=this.languageFeaturesService.linkProvider,this.debounceInformation=Pe.for(this.providers,"Links",{min:1e3,max:4e3}),this.computeLinks=this._register(new f.pY(()=>this.computeLinksNow(),1e3)),this.computePromise=null,this.activeLinksList=null,this.currentOccurrences={},this.activeLinkDecorationId=null;const xe=this._register(new B.yN(F));this._register(xe.onMouseMoveOrRelevantKeyDown(([fe,be])=>{this._onEditorMouseMove(fe,be)})),this._register(xe.onExecute(fe=>{this.onEditorMouseUp(fe)})),this._register(xe.onCancel(fe=>{this.cleanUpActiveLinkDecoration()})),this._register(F.onDidChangeConfiguration(fe=>{fe.hasChanged(69)&&(this.updateDecorations([]),this.stop(),this.computeLinks.schedule(0))})),this._register(F.onDidChangeModelContent(fe=>{this.editor.hasModel()&&this.computeLinks.schedule(this.debounceInformation.get(this.editor.getModel()))})),this._register(F.onDidChangeModel(fe=>{this.currentOccurrences={},this.activeLinkDecorationId=null,this.stop(),this.computeLinks.schedule(0)})),this._register(F.onDidChangeModelLanguage(fe=>{this.stop(),this.computeLinks.schedule(0)})),this._register(this.providers.onDidChange(fe=>{this.stop(),this.computeLinks.schedule(0)})),this.computeLinks.schedule(0)}computeLinksNow(){return x=this,F=void 0,Ce=function*(){if(!this.editor.hasModel()||!this.editor.getOption(69))return;const F=this.editor.getModel();if(this.providers.has(F)){this.activeLinksList&&(this.activeLinksList.dispose(),this.activeLinksList=null),this.computePromise=(0,f.PG)(ie=>_(this.providers,F,ie));try{const ie=new L.G(!1);if(this.activeLinksList=yield this.computePromise,this.debounceInformation.update(F,ie.elapsed()),F.isDisposed())return;this.updateDecorations(this.activeLinksList.links)}catch(ie){(0,r.dL)(ie)}finally{this.computePromise=null}}},new((ie=void 0)||(ie=Promise))(function(Pe,xe){function fe(Q){try{pe(Ce.next(Q))}catch(le){xe(le)}}function be(Q){try{pe(Ce.throw(Q))}catch(le){xe(le)}}function pe(Q){Q.done?Pe(Q.value):function ke(Pe){return Pe instanceof ie?Pe:new ie(function(xe){xe(Pe)})}(Q.value).then(fe,be)}pe((Ce=Ce.apply(x,F||[])).next())});var x,F,ie,Ce}updateDecorations(F){const ie="altKey"===this.editor.getOption(76),Ce=[],ke=Object.keys(this.currentOccurrences);for(const xe of ke)Ce.push(this.currentOccurrences[xe].decorationId);const Pe=[];if(F)for(const xe of F)Pe.push(ye.decoration(xe,ie));this.editor.changeDecorations(xe=>{const fe=xe.deltaDecorations(Ce,Pe);this.currentOccurrences={},this.activeLinkDecorationId=null;for(let be=0,pe=fe.length;be<pe;be++){const Q=new ye(F[be],fe[be]);this.currentOccurrences[Q.decorationId]=Q}})}_onEditorMouseMove(F,ie){const Ce="altKey"===this.editor.getOption(76);if(this.isEnabled(F,ie)){this.cleanUpActiveLinkDecoration();const ke=this.getLinkOccurrence(F.target.position);ke&&this.editor.changeDecorations(Pe=>{ke.activate(Pe,Ce),this.activeLinkDecorationId=ke.decorationId})}else this.cleanUpActiveLinkDecoration()}cleanUpActiveLinkDecoration(){const F="altKey"===this.editor.getOption(76);if(this.activeLinkDecorationId){const ie=this.currentOccurrences[this.activeLinkDecorationId];ie&&this.editor.changeDecorations(Ce=>{ie.deactivate(Ce,F)}),this.activeLinkDecorationId=null}}onEditorMouseUp(F){if(!this.isEnabled(F))return;const ie=this.getLinkOccurrence(F.target.position);ie&&this.openLinkOccurrence(ie,F.hasSideBySideModifier,!0)}openLinkOccurrence(F,ie,Ce=!1){if(!this.openerService)return;const{link:ke}=F;ke.resolve(P.T.None).then(Pe=>{if("string"==typeof Pe&&this.editor.hasModel()){const xe=this.editor.getModel().uri;if(xe.scheme===S.lg.file&&Pe.startsWith(`${S.lg.file}:`)){const fe=p.o.parse(Pe);if(fe.scheme===S.lg.file){const be=E.z_(fe);let pe=null;be.startsWith("/./")?pe=`.${be.substr(1)}`:be.startsWith("//./")&&(pe=`.${be.substr(2)}`),pe&&(Pe=E.Vo(xe,pe))}}}return this.openerService.open(Pe,{openToSide:ie,fromUserGesture:Ce,allowContributedOpeners:!0,allowCommands:!0,fromWorkspace:!0})},Pe=>{const xe=Pe instanceof Error?Pe.message:Pe;"invalid"===xe?this.notificationService.warn(ae.NC("invalid.url","Failed to open this link because it is not well-formed: {0}",ke.url.toString())):"missing"===xe?this.notificationService.warn(ae.NC("missing.url","Failed to open this link because its target is missing.")):(0,r.dL)(Pe)})}getLinkOccurrence(F){if(!this.editor.hasModel()||!F)return null;const ie=this.editor.getModel().getDecorationsInRange({startLineNumber:F.lineNumber,startColumn:F.column,endLineNumber:F.lineNumber,endColumn:F.column},0,!0);for(const Ce of ie){const ke=this.currentOccurrences[Ce.id];if(ke)return ke}return null}isEnabled(F,ie){return!(6!==F.target.type||!(F.hasTriggerModifier||ie&&ie.keyCodeIsTriggerKey))}stop(){var F;this.computeLinks.cancel(),this.activeLinksList&&(null===(F=this.activeLinksList)||void 0===F||F.dispose(),this.activeLinksList=null),this.computePromise&&(this.computePromise.cancel(),this.computePromise=null)}dispose(){super.dispose(),this.stop()}};Ve.ID="editor.linkDetector",Ve=Se=function(x,F,ie,Ce){var xe,ke=arguments.length,Pe=ke<3?F:null===Ce?Ce=Object.getOwnPropertyDescriptor(F,ie):Ce;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Pe=Reflect.decorate(x,F,ie,Ce);else for(var fe=x.length-1;fe>=0;fe--)(xe=x[fe])&&(Pe=(ke<3?xe(Pe):ke>3?xe(F,ie,Pe):xe(F,ie))||Pe);return ke>3&&Pe&&Object.defineProperty(F,ie,Pe),Pe}([ve(1,_e.v4),ve(2,ge.lT),ve(3,ee.p),ve(4,U.A)],Ve);const De={general:z.qx.register({description:"detected-link",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link"}),active:z.qx.register({description:"detected-link-active",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link-active"})};class ye{static decoration(F,ie){return{range:F.range,options:ye._getOptions(F,ie,!1)}}static _getOptions(F,ie,Ce){const ke=Object.assign({},Ce?De.active:De.general);return ke.hoverMessage=function oe(x,F){const ie=x.url&&/^command:/i.test(x.url.toString()),Ce=x.tooltip?x.tooltip:ie?ae.NC("links.navigate.executeCmd","Execute command"):ae.NC("links.navigate.follow","Follow link"),ke=F?T.dz?ae.NC("links.navigate.kb.meta.mac","cmd + click"):ae.NC("links.navigate.kb.meta","ctrl + click"):T.dz?ae.NC("links.navigate.kb.alt.mac","option + click"):ae.NC("links.navigate.kb.alt","alt + click");if(x.url){let Pe="";if(/^command:/i.test(x.url.toString())){const fe=x.url.toString().match(/^command:([^?#]+)/);fe&&(Pe=ae.NC("tooltip.explanation","Execute command {0}",fe[1]))}return new y.W5("",!0).appendLink(x.url.toString(!0).replace(/ /g,"%20"),Ce,Pe).appendMarkdown(` (${ke})`)}return(new y.W5).appendText(`${Ce} (${ke})`)}(F,ie),ke}constructor(F,ie){this.link=F,this.decorationId=ie}activate(F,ie){F.changeDecorationOptions(this.decorationId,ye._getOptions(this.link,ie,!0))}deactivate(F,ie){F.changeDecorationOptions(this.decorationId,ye._getOptions(this.link,ie,!1))}}(0,W._K)(Ve.ID,Ve,1),(0,W.Qr)(class Y extends W.R6{constructor(){super({id:"editor.action.openLink",label:ae.NC("label","Open Link"),alias:"Open Link",precondition:void 0})}run(F,ie){const Ce=Ve.get(ie);if(!Ce||!ie.hasModel())return;const ke=ie.getSelections();for(const Pe of ke){const xe=Ce.getLinkOccurrence(Pe.getEndPosition());xe&&Ce.openLinkOccurrence(xe,!1)}}})},72905:(Xe,we,e)=>{var f=e(78694),P=e(8256);let r=(()=>{class y extends f.JT{constructor(S){super(),this._editor=S,this._register(this._editor.onMouseDown(T=>{const E=this._editor.getOption(115);E>=0&&6===T.target.type&&T.target.position.column>=E&&this._editor.updateOptions({stopRenderingLineAfter:-1})}))}}return y.ID="editor.contrib.longLinesHelper",y})();(0,P._K)(r.ID,r,2)},40419:(Xe,we,e)=>{e.d(we,{$:()=>B,N:()=>G});var f=e(34637),P=e(75578),r=e(17967),y=e(58178),v=e(78694),S=e(93379),T=e.n(S),E=e(7795),L=e.n(E),p=e(90569),c=e.n(p),u=e(3565),g=e.n(u),i=e(19216),d=e.n(i),a=e(44589),m=e.n(a),l=e(81615),I={};I.styleTagTransform=m(),I.setAttributes=g(),I.insert=c().bind(null,"head"),I.domAPI=L(),I.insertStyleElement=d(),T()(l.Z,I);var ee,N=e(91988),A=e(74315),k=e(81007),R=e(35132),O=e(6628),z=function(j,$){return function(K,J){$(K,J,j)}},U=function(j,$,K,J){return new(K||(K=Promise))(function(ne,_){function ae(ue){try{_e(J.next(ue))}catch(ve){_(ve)}}function ge(ue){try{_e(J.throw(ue))}catch(ve){_(ve)}}function _e(ue){ue.done?ne(ue.value):function te(ne){return ne instanceof K?ne:new K(function(_){_(ne)})}(ue.value).then(ae,ge)}_e((J=J.apply(j,$||[])).next())})};let B=ee=class{constructor($,K,J){this._options=$,this._languageService=K,this._openerService=J,this._onDidRenderAsync=new y.Q5,this.onDidRenderAsync=this._onDidRenderAsync.event}dispose(){this._onDidRenderAsync.dispose()}render($,K,J){if(!$)return{element:document.createElement("span"),dispose:()=>{}};const te=new v.SL,ne=te.add((0,f.ap)($,Object.assign(Object.assign({},this._getRenderOptions($,te)),K),J));return ne.element.classList.add("rendered-markdown"),{element:ne.element,dispose:()=>te.dispose()}}_getRenderOptions($,K){return{codeBlockRenderer:(J,te)=>U(this,void 0,void 0,function*(){var ne,_,ae;let ge;J?ge=this._languageService.getLanguageIdByLanguageName(J):this._options.editor&&(ge=null===(ne=this._options.editor.getModel())||void 0===ne?void 0:ne.getLanguageId()),ge||(ge=k.bd);const _e=yield(0,R.C2)(this._languageService,te,ge),ue=document.createElement("span");if(ue.innerHTML=null!==(ae=null===(_=ee._ttpTokenizer)||void 0===_?void 0:_.createHTML(_e))&&void 0!==ae?ae:_e,this._options.editor){const ve=this._options.editor.getOption(49);(0,N.N)(ue,ve)}else this._options.codeBlockFontFamily&&(ue.style.fontFamily=this._options.codeBlockFontFamily);return void 0!==this._options.codeBlockFontSize&&(ue.style.fontSize=this._options.codeBlockFontSize),ue}),asyncRenderCallback:()=>this._onDidRenderAsync.fire(),actionHandler:{callback:J=>G(this._openerService,J,$.isTrusted),disposables:K}}}};function G(j,$,K){return U(this,void 0,void 0,function*(){try{return yield j.open($,{fromUserGesture:!0,allowContributedOpeners:!0,allowCommands:se(K)})}catch(J){return(0,r.dL)(J),!1}})}function se(j){return!0===j||!(!j||!Array.isArray(j.enabledCommands))&&j.enabledCommands}B._ttpTokenizer=(0,P.Z)("tokenizeToString",{createHTML:j=>j}),B=ee=function(j,$,K,J){var _,te=arguments.length,ne=te<3?$:null===J?J=Object.getOwnPropertyDescriptor($,K):J;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ne=Reflect.decorate(j,$,K,J);else for(var ae=j.length-1;ae>=0;ae--)(_=j[ae])&&(ne=(te<3?_(ne):te>3?_($,K,ne):_($,K))||ne);return te>3&&ne&&Object.defineProperty($,K,ne),ne}([z(1,A.O),z(2,O.v4)],B)},29941:(Xe,we,e)=>{e.d(we,{O:()=>G});var f=e(34637),P=e(41539),r=e(58178),y=e(10878),v=e(78694),S=e(93379),T=e.n(S),E=e(7795),L=e.n(E),p=e(90569),c=e.n(p),u=e(3565),g=e.n(u),i=e(19216),d=e.n(i),a=e(44589),m=e.n(a),l=e(65807),I={};I.styleTagTransform=m(),I.setAttributes=g(),I.insert=c().bind(null,"head"),I.domAPI=L(),I.insertStyleElement=d(),T()(l.Z,I);var B,N=e(8256),A=e(96726),k=e(40419),R=e(37190),O=e(66221),W=e(6628),z=e(20274),ee=function($,K){return function(J,te){K(J,te,$)}};let G=B=class{static get(K){return K.getContribution(B.ID)}constructor(K,J,te){this._openerService=te,this._messageWidget=new v.XK,this._messageListeners=new v.SL,this._mouseOverMessage=!1,this._editor=K,this._visible=B.MESSAGE_VISIBLE.bindTo(J)}dispose(){var K;null===(K=this._message)||void 0===K||K.dispose(),this._messageListeners.dispose(),this._messageWidget.dispose(),this._visible.reset()}showMessage(K,J){let te;(0,P.Z9)((0,y.Fr)(K)?K.value:K),this._visible.set(!0),this._messageWidget.clear(),this._messageListeners.clear(),this._message=(0,y.Fr)(K)?(0,f.ap)(K,{actionHandler:{callback:ne=>(0,k.N)(this._openerService,ne,(0,y.Fr)(K)?K.isTrusted:void 0),disposables:this._messageListeners}}):void 0,this._messageWidget.value=new j(this._editor,J,"string"==typeof K?K:this._message.element),this._messageListeners.add(r.ju.debounce(this._editor.onDidBlurEditorText,(ne,_)=>_,0)(()=>{this._mouseOverMessage||this._messageWidget.value&&z.jg(document.activeElement,this._messageWidget.value.getDomNode())||this.closeMessage()})),this._messageListeners.add(this._editor.onDidChangeCursorPosition(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidDispose(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeModel(()=>this.closeMessage())),this._messageListeners.add(z.nm(this._messageWidget.value.getDomNode(),z.tw.MOUSE_ENTER,()=>this._mouseOverMessage=!0,!0)),this._messageListeners.add(z.nm(this._messageWidget.value.getDomNode(),z.tw.MOUSE_LEAVE,()=>this._mouseOverMessage=!1,!0)),this._messageListeners.add(this._editor.onMouseMove(ne=>{ne.target.position&&(te?te.containsPosition(ne.target.position)||this.closeMessage():te=new A.e(J.lineNumber-3,1,ne.target.position.lineNumber+3,1))}))}closeMessage(){this._visible.reset(),this._messageListeners.clear(),this._messageWidget.value&&this._messageListeners.add(j.fadeOut(this._messageWidget.value))}};G.ID="editor.contrib.messageController",G.MESSAGE_VISIBLE=new O.uy("messageVisible",!1,R.NC("messageVisible","Whether the editor is currently showing an inline message")),G=B=function($,K,J,te){var ae,ne=arguments.length,_=ne<3?K:null===te?te=Object.getOwnPropertyDescriptor(K,J):te;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)_=Reflect.decorate($,K,J,te);else for(var ge=$.length-1;ge>=0;ge--)(ae=$[ge])&&(_=(ne<3?ae(_):ne>3?ae(K,J,_):ae(K,J))||_);return ne>3&&_&&Object.defineProperty(K,J,_),_}([ee(1,O.i6),ee(2,W.v4)],G);const se=N._l.bindToContribution(G.get);(0,N.fK)(new se({id:"leaveEditorMessage",precondition:G.MESSAGE_VISIBLE,handler:$=>$.closeMessage(),kbOpts:{weight:130,primary:9}}));class j{static fadeOut(K){const J=()=>{K.dispose(),clearTimeout(te),K.getDomNode().removeEventListener("animationend",J)},te=setTimeout(J,110);return K.getDomNode().addEventListener("animationend",J),K.getDomNode().classList.add("fadeOut"),{dispose:J}}constructor(K,{lineNumber:J,column:te},ne){this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._editor=K,this._editor.revealLinesInCenterIfOutsideViewport(J,J,0),this._position={lineNumber:J,column:te},this._domNode=document.createElement("div"),this._domNode.classList.add("monaco-editor-overlaymessage"),this._domNode.style.marginLeft="-6px";const _=document.createElement("div");_.classList.add("anchor","top"),this._domNode.appendChild(_);const ae=document.createElement("div");"string"==typeof ne?(ae.classList.add("message"),ae.textContent=ne):(ne.classList.add("message"),ae.appendChild(ne)),this._domNode.appendChild(ae);const ge=document.createElement("div");ge.classList.add("anchor","below"),this._domNode.appendChild(ge),this._editor.addContentWidget(this),this._domNode.classList.add("fadeIn")}dispose(){this._editor.removeContentWidget(this)}getId(){return"messageoverlay"}getDomNode(){return this._domNode}getPosition(){return{position:this._position,preference:[1,2],positionAffinity:1}}afterRender(K){this._domNode.classList.toggle("below",2===K)}}(0,N._K)(G.ID,G,4)},95242:(Xe,we,e)=>{var I,f=e(41539),P=e(85328),r=e(48994),y=e(78694),v=e(8256),S=e(18051),T=e(96726),E=e(81534),L=e(15446),p=e(49375),c=e(37190),u=e(63032),g=e(66221),i=e(55763),d=e(12226),a=e(12065);function w(ge,_e){const ue=_e.filter(ve=>!ge.find(Ie=>Ie.equals(ve)));if(ue.length>=1){const ve=ue.map(Se=>`line ${Se.viewState.position.lineNumber} column ${Se.viewState.position.column}`).join(", "),Ie=1===ue.length?c.NC("cursorAdded","Cursor added: {0}",ve):c.NC("cursorsAdded","Cursors added: {0}",ve);(0,f.i7)(Ie)}}class O{constructor(_e,ue,ve){this.selections=_e,this.revealRange=ue,this.revealScrollType=ve}}class W{static create(_e,ue){if(!_e.hasModel())return null;const ve=ue.getState();if(!_e.hasTextFocus()&&ve.isRevealed&&ve.searchString.length>0)return new W(_e,ue,!1,ve.searchString,ve.wholeWord,ve.matchCase,null);let Se,Ve,Ie=!1;const De=_e.getSelections();1===De.length&&De[0].isEmpty()?(Ie=!0,Se=!0,Ve=!0):(Se=ve.wholeWord,Ve=ve.matchCase);const ye=_e.getSelection();let oe,Y=null;if(ye.isEmpty()){const x=_e.getConfiguredWordAtPosition(ye.getStartPosition());if(!x)return null;oe=x.word,Y=new E.Y(ye.startLineNumber,x.startColumn,ye.startLineNumber,x.endColumn)}else oe=_e.getModel().getValueInRange(ye).replace(/\r\n/g,"\n");return new W(_e,ue,Ie,oe,Se,Ve,Y)}constructor(_e,ue,ve,Ie,Se,Ve,De){this._editor=_e,this.findController=ue,this.isDisconnectedFromFindController=ve,this.searchText=Ie,this.wholeWord=Se,this.matchCase=Ve,this.currentMatch=De}addSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const _e=this._getNextMatch();if(!_e)return null;const ue=this._editor.getSelections();return new O(ue.concat(_e),_e,0)}moveSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const _e=this._getNextMatch();if(!_e)return null;const ue=this._editor.getSelections();return new O(ue.slice(0,ue.length-1).concat(_e),_e,0)}_getNextMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const Ie=this.currentMatch;return this.currentMatch=null,Ie}this.findController.highlightFindOptions();const _e=this._editor.getSelections(),ue=_e[_e.length-1],ve=this._editor.getModel().findNextMatch(this.searchText,ue.getEndPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(128):null,!1);return ve?new E.Y(ve.range.startLineNumber,ve.range.startColumn,ve.range.endLineNumber,ve.range.endColumn):null}addSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const _e=this._getPreviousMatch();if(!_e)return null;const ue=this._editor.getSelections();return new O(ue.concat(_e),_e,0)}moveSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const _e=this._getPreviousMatch();if(!_e)return null;const ue=this._editor.getSelections();return new O(ue.slice(0,ue.length-1).concat(_e),_e,0)}_getPreviousMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const Ie=this.currentMatch;return this.currentMatch=null,Ie}this.findController.highlightFindOptions();const _e=this._editor.getSelections(),ue=_e[_e.length-1],ve=this._editor.getModel().findPreviousMatch(this.searchText,ue.getStartPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(128):null,!1);return ve?new E.Y(ve.range.startLineNumber,ve.range.startColumn,ve.range.endLineNumber,ve.range.endColumn):null}selectAll(_e){if(!this._editor.hasModel())return[];this.findController.highlightFindOptions();return this._editor.getModel().findMatches(this.searchText,_e||!0,!1,this.matchCase,this.wholeWord?this._editor.getOption(128):null,!1,1073741824)}}let z=(()=>{class ge extends y.JT{static get(ue){return ue.getContribution(ge.ID)}constructor(ue){super(),this._sessionDispose=this._register(new y.SL),this._editor=ue,this._ignoreSelectionChange=!1,this._session=null}dispose(){this._endSession(),super.dispose()}_beginSessionIfNeeded(ue){if(!this._session){const ve=W.create(this._editor,ue);if(!ve)return;this._session=ve;const Ie={searchString:this._session.searchText};this._session.isDisconnectedFromFindController&&(Ie.wholeWordOverride=1,Ie.matchCaseOverride=1,Ie.isRegexOverride=2),ue.getState().change(Ie,!1),this._sessionDispose.add(this._editor.onDidChangeCursorSelection(Se=>{this._ignoreSelectionChange||this._endSession()})),this._sessionDispose.add(this._editor.onDidBlurEditorText(()=>{this._endSession()})),this._sessionDispose.add(ue.getState().onFindReplaceStateChange(Se=>{(Se.matchCase||Se.wholeWord)&&this._endSession()}))}}_endSession(){if(this._sessionDispose.clear(),this._session&&this._session.isDisconnectedFromFindController){const ue={wholeWordOverride:0,matchCaseOverride:0,isRegexOverride:0};this._session.findController.getState().change(ue,!1)}this._session=null}_setSelections(ue){this._ignoreSelectionChange=!0,this._editor.setSelections(ue),this._ignoreSelectionChange=!1}_expandEmptyToWord(ue,ve){if(!ve.isEmpty())return ve;const Ie=this._editor.getConfiguredWordAtPosition(ve.getStartPosition());return Ie?new E.Y(ve.startLineNumber,Ie.startColumn,ve.startLineNumber,Ie.endColumn):ve}_applySessionResult(ue){ue&&(this._setSelections(ue.selections),ue.revealRange&&this._editor.revealRangeInCenterIfOutsideViewport(ue.revealRange,ue.revealScrollType))}getSession(ue){return this._session}addSelectionToNextFindMatch(ue){if(this._editor.hasModel()){if(!this._session){const ve=this._editor.getSelections();if(ve.length>1){const Se=ue.getState().matchCase;if(!te(this._editor.getModel(),ve,Se)){const De=this._editor.getModel(),ye=[];for(let oe=0,Y=ve.length;oe<Y;oe++)ye[oe]=this._expandEmptyToWord(De,ve[oe]);return void this._editor.setSelections(ye)}}}this._beginSessionIfNeeded(ue),this._session&&this._applySessionResult(this._session.addSelectionToNextFindMatch())}}addSelectionToPreviousFindMatch(ue){this._beginSessionIfNeeded(ue),this._session&&this._applySessionResult(this._session.addSelectionToPreviousFindMatch())}moveSelectionToNextFindMatch(ue){this._beginSessionIfNeeded(ue),this._session&&this._applySessionResult(this._session.moveSelectionToNextFindMatch())}moveSelectionToPreviousFindMatch(ue){this._beginSessionIfNeeded(ue),this._session&&this._applySessionResult(this._session.moveSelectionToPreviousFindMatch())}selectAll(ue){if(!this._editor.hasModel())return;let ve=null;const Ie=ue.getState();if(Ie.isRevealed&&Ie.searchString.length>0&&Ie.isRegex){ve=this._editor.getModel().findMatches(Ie.searchString,!Ie.searchScope||Ie.searchScope,Ie.isRegex,Ie.matchCase,Ie.wholeWord?this._editor.getOption(128):null,!1,1073741824)}else{if(this._beginSessionIfNeeded(ue),!this._session)return;ve=this._session.selectAll(Ie.searchScope)}if(ve.length>0){const Se=this._editor.getSelection();for(let Ve=0,De=ve.length;Ve<De;Ve++){const ye=ve[Ve];if(ye.range.intersectRanges(Se)){ve[Ve]=ve[0],ve[0]=ye;break}}this._setSelections(ve.map(Ve=>new E.Y(Ve.range.startLineNumber,Ve.range.startColumn,Ve.range.endLineNumber,Ve.range.endColumn)))}}}return ge.ID="editor.contrib.multiCursorController",ge})();class U extends v.R6{run(_e,ue){const ve=z.get(ue);if(!ve)return;const Ie=ue._getViewModel();if(Ie){const Se=Ie.getCursorStates(),Ve=p.pR.get(ue);if(Ve)this._run(ve,Ve);else{const De=_e.get(a.TG).createInstance(p.pR,ue);this._run(ve,De),De.dispose()}w(Se,Ie.getCursorStates())}}}class K{constructor(_e,ue,ve,Ie,Se){this._model=_e,this._searchText=ue,this._matchCase=ve,this._wordSeparators=Ie,this._modelVersionId=this._model.getVersionId(),this._cachedFindMatches=null,Se&&this._model===Se._model&&this._searchText===Se._searchText&&this._matchCase===Se._matchCase&&this._wordSeparators===Se._wordSeparators&&this._modelVersionId===Se._modelVersionId&&(this._cachedFindMatches=Se._cachedFindMatches)}findMatches(){return null===this._cachedFindMatches&&(this._cachedFindMatches=this._model.findMatches(this._searchText,!0,!1,this._matchCase,this._wordSeparators,!1).map(_e=>_e.range),this._cachedFindMatches.sort(T.e.compareRangesUsingStarts)),this._cachedFindMatches}}let J=I=class extends y.JT{constructor(_e,ue){super(),this._languageFeaturesService=ue,this.editor=_e,this._isEnabled=_e.getOption(106),this._decorations=_e.createDecorationsCollection(),this.updateSoon=this._register(new P.pY(()=>this._update(),300)),this.state=null,this._register(_e.onDidChangeConfiguration(Ie=>{this._isEnabled=_e.getOption(106)})),this._register(_e.onDidChangeCursorSelection(Ie=>{this._isEnabled&&(Ie.selection.isEmpty()?3===Ie.reason?(this.state&&this._setState(null),this.updateSoon.schedule()):this._setState(null):this._update())})),this._register(_e.onDidChangeModel(Ie=>{this._setState(null)})),this._register(_e.onDidChangeModelContent(Ie=>{this._isEnabled&&this.updateSoon.schedule()}));const ve=p.pR.get(_e);ve&&this._register(ve.getState().onFindReplaceStateChange(Ie=>{this._update()})),this.updateSoon.schedule()}_update(){this._setState(I._createState(this.state,this._isEnabled,this.editor))}static _createState(_e,ue,ve){if(!ue||!ve.hasModel())return null;const Ie=ve.getSelection();if(Ie.startLineNumber!==Ie.endLineNumber)return null;const Se=z.get(ve);if(!Se)return null;const Ve=p.pR.get(ve);if(!Ve)return null;let De=Se.getSession(Ve);if(!De){const Y=ve.getSelections();if(Y.length>1){const F=Ve.getState().matchCase;if(!te(ve.getModel(),Y,F))return null}De=W.create(ve,Ve)}if(!De||De.currentMatch||/^[ \t]+$/.test(De.searchText)||De.searchText.length>200)return null;const ye=Ve.getState(),oe=ye.matchCase;if(ye.isRevealed){let Y=ye.searchString;oe||(Y=Y.toLowerCase());let x=De.searchText;if(oe||(x=x.toLowerCase()),Y===x&&De.matchCase===ye.matchCase&&De.wholeWord===ye.wholeWord&&!ye.isRegex)return null}return new K(ve.getModel(),De.searchText,De.matchCase,De.wholeWord?ve.getOption(128):null,_e)}_setState(_e){if(this.state=_e,!this.state)return void this._decorations.clear();if(!this.editor.hasModel())return;const ue=this.editor.getModel();if(ue.isTooLargeForTokenization())return;const ve=this.state.findMatches(),Ie=this.editor.getSelections();Ie.sort(T.e.compareRangesUsingStarts);const Se=[];for(let ye=0,oe=0,Y=ve.length,x=Ie.length;ye<Y;){const F=ve[ye];if(oe>=x)Se.push(F),ye++;else{const ie=T.e.compareRangesUsingStarts(F,Ie[oe]);ie<0?((Ie[oe].isEmpty()||!T.e.areIntersecting(F,Ie[oe]))&&Se.push(F),ye++):(ie>0||ye++,oe++)}}const Ve=this._languageFeaturesService.documentHighlightProvider.has(ue)&&this.editor.getOption(79),De=Se.map(ye=>({range:ye,options:(0,d.w)(Ve)}));this._decorations.set(De)}dispose(){this._setState(null),super.dispose()}};var _e;function te(ge,_e,ue){const ve=ne(ge,_e[0],!ue);for(let Ie=1,Se=_e.length;Ie<Se;Ie++){const Ve=_e[Ie];if(Ve.isEmpty())return!1;if(ve!==ne(ge,Ve,!ue))return!1}return!0}function ne(ge,_e,ue){const ve=ge.getValueInRange(_e);return ue?ve.toLowerCase():ve}J.ID="editor.contrib.selectionHighlighter",J=I=function(ge,_e,ue,ve){var Ve,Ie=arguments.length,Se=Ie<3?_e:null===ve?ve=Object.getOwnPropertyDescriptor(_e,ue):ve;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Se=Reflect.decorate(ge,_e,ue,ve);else for(var De=ge.length-1;De>=0;De--)(Ve=ge[De])&&(Se=(Ie<3?Ve(Se):Ie>3?Ve(_e,ue,Se):Ve(_e,ue))||Se);return Ie>3&&Se&&Object.defineProperty(_e,ue,Se),Se}([(1,_e=i.p,function(ue,ve){_e(ue,ve,1)})],J),(0,v._K)(z.ID,z,4),(0,v._K)(J.ID,J,1),(0,v.Qr)(class D extends v.R6{constructor(){super({id:"editor.action.insertCursorAbove",label:c.NC("mutlicursor.insertAbove","Add Cursor Above"),alias:"Add Cursor Above",precondition:void 0,kbOpts:{kbExpr:L.u.editorTextFocus,primary:2576,linux:{primary:1552,secondary:[3088]},weight:100},menuOpts:{menuId:u.eH.MenubarSelectionMenu,group:"3_multi",title:c.NC({key:"miInsertCursorAbove",comment:["&& denotes a mnemonic"]},"&&Add Cursor Above"),order:2}})}run(_e,ue,ve){if(!ue.hasModel())return;let Ie=!0;ve&&!1===ve.logicalLine&&(Ie=!1);const Se=ue._getViewModel();if(Se.cursorConfig.readOnly)return;Se.model.pushStackElement();const Ve=Se.getCursorStates();Se.setCursorStates(ve.source,3,S.P.addCursorUp(Se,Ve,Ie)),Se.revealTopMostCursor(ve.source),w(Ve,Se.getCursorStates())}}),(0,v.Qr)(class N extends v.R6{constructor(){super({id:"editor.action.insertCursorBelow",label:c.NC("mutlicursor.insertBelow","Add Cursor Below"),alias:"Add Cursor Below",precondition:void 0,kbOpts:{kbExpr:L.u.editorTextFocus,primary:2578,linux:{primary:1554,secondary:[3090]},weight:100},menuOpts:{menuId:u.eH.MenubarSelectionMenu,group:"3_multi",title:c.NC({key:"miInsertCursorBelow",comment:["&& denotes a mnemonic"]},"A&&dd Cursor Below"),order:3}})}run(_e,ue,ve){if(!ue.hasModel())return;let Ie=!0;ve&&!1===ve.logicalLine&&(Ie=!1);const Se=ue._getViewModel();if(Se.cursorConfig.readOnly)return;Se.model.pushStackElement();const Ve=Se.getCursorStates();Se.setCursorStates(ve.source,3,S.P.addCursorDown(Se,Ve,Ie)),Se.revealBottomMostCursor(ve.source),w(Ve,Se.getCursorStates())}}),(0,v.Qr)(class A extends v.R6{constructor(){super({id:"editor.action.insertCursorAtEndOfEachLineSelected",label:c.NC("mutlicursor.insertAtEndOfEachLineSelected","Add Cursors to Line Ends"),alias:"Add Cursors to Line Ends",precondition:void 0,kbOpts:{kbExpr:L.u.editorTextFocus,primary:1575,weight:100},menuOpts:{menuId:u.eH.MenubarSelectionMenu,group:"3_multi",title:c.NC({key:"miInsertCursorAtEndOfEachLineSelected",comment:["&& denotes a mnemonic"]},"Add C&&ursors to Line Ends"),order:4}})}getCursorsForSelection(_e,ue,ve){if(!_e.isEmpty()){for(let Ie=_e.startLineNumber;Ie<_e.endLineNumber;Ie++){const Se=ue.getLineMaxColumn(Ie);ve.push(new E.Y(Ie,Se,Ie,Se))}_e.endColumn>1&&ve.push(new E.Y(_e.endLineNumber,_e.endColumn,_e.endLineNumber,_e.endColumn))}}run(_e,ue){if(!ue.hasModel())return;const ve=ue.getModel(),Ie=ue.getSelections(),Se=ue._getViewModel(),Ve=Se.getCursorStates(),De=[];Ie.forEach(ye=>this.getCursorsForSelection(ye,ve,De)),De.length>0&&ue.setSelections(De),w(Ve,Se.getCursorStates())}}),(0,v.Qr)(class ee extends U{constructor(){super({id:"editor.action.addSelectionToNextFindMatch",label:c.NC("addSelectionToNextFindMatch","Add Selection To Next Find Match"),alias:"Add Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:L.u.focus,primary:2082,weight:100},menuOpts:{menuId:u.eH.MenubarSelectionMenu,group:"3_multi",title:c.NC({key:"miAddSelectionToNextFindMatch",comment:["&& denotes a mnemonic"]},"Add &&Next Occurrence"),order:5}})}_run(_e,ue){_e.addSelectionToNextFindMatch(ue)}}),(0,v.Qr)(class B extends U{constructor(){super({id:"editor.action.addSelectionToPreviousFindMatch",label:c.NC("addSelectionToPreviousFindMatch","Add Selection To Previous Find Match"),alias:"Add Selection To Previous Find Match",precondition:void 0,menuOpts:{menuId:u.eH.MenubarSelectionMenu,group:"3_multi",title:c.NC({key:"miAddSelectionToPreviousFindMatch",comment:["&& denotes a mnemonic"]},"Add P&&revious Occurrence"),order:6}})}_run(_e,ue){_e.addSelectionToPreviousFindMatch(ue)}}),(0,v.Qr)(class G extends U{constructor(){super({id:"editor.action.moveSelectionToNextFindMatch",label:c.NC("moveSelectionToNextFindMatch","Move Last Selection To Next Find Match"),alias:"Move Last Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:L.u.focus,primary:(0,r.gx)(2089,2082),weight:100}})}_run(_e,ue){_e.moveSelectionToNextFindMatch(ue)}}),(0,v.Qr)(class se extends U{constructor(){super({id:"editor.action.moveSelectionToPreviousFindMatch",label:c.NC("moveSelectionToPreviousFindMatch","Move Last Selection To Previous Find Match"),alias:"Move Last Selection To Previous Find Match",precondition:void 0})}_run(_e,ue){_e.moveSelectionToPreviousFindMatch(ue)}}),(0,v.Qr)(class j extends U{constructor(){super({id:"editor.action.selectHighlights",label:c.NC("selectAllOccurrencesOfFindMatch","Select All Occurrences of Find Match"),alias:"Select All Occurrences of Find Match",precondition:void 0,kbOpts:{kbExpr:L.u.focus,primary:3114,weight:100},menuOpts:{menuId:u.eH.MenubarSelectionMenu,group:"3_multi",title:c.NC({key:"miSelectHighlights",comment:["&& denotes a mnemonic"]},"Select All &&Occurrences"),order:7}})}_run(_e,ue){_e.selectAll(ue)}}),(0,v.Qr)(class $ extends U{constructor(){super({id:"editor.action.changeAll",label:c.NC("changeAll.label","Change All Occurrences"),alias:"Change All Occurrences",precondition:g.Ao.and(L.u.writable,L.u.editorTextFocus),kbOpts:{kbExpr:L.u.editorTextFocus,primary:2108,weight:100},contextMenuOpts:{group:"1_modification",order:1.2}})}_run(_e,ue){_e.selectAll(ue)}}),(0,v.Qr)(class k extends v.R6{constructor(){super({id:"editor.action.addCursorsToBottom",label:c.NC("mutlicursor.addCursorsToBottom","Add Cursors To Bottom"),alias:"Add Cursors To Bottom",precondition:void 0})}run(_e,ue){if(!ue.hasModel())return;const ve=ue.getSelections(),Ie=ue.getModel().getLineCount(),Se=[];for(let ye=ve[0].startLineNumber;ye<=Ie;ye++)Se.push(new E.Y(ye,ve[0].startColumn,ye,ve[0].endColumn));const Ve=ue._getViewModel(),De=Ve.getCursorStates();Se.length>0&&ue.setSelections(Se),w(De,Ve.getCursorStates())}}),(0,v.Qr)(class R extends v.R6{constructor(){super({id:"editor.action.addCursorsToTop",label:c.NC("mutlicursor.addCursorsToTop","Add Cursors To Top"),alias:"Add Cursors To Top",precondition:void 0})}run(_e,ue){if(!ue.hasModel())return;const ve=ue.getSelections(),Ie=[];for(let De=ve[0].startLineNumber;De>=1;De--)Ie.push(new E.Y(De,ve[0].startColumn,De,ve[0].endColumn));const Se=ue._getViewModel(),Ve=Se.getCursorStates();Ie.length>0&&ue.setSelections(Ie),w(Ve,Se.getCursorStates())}}),(0,v.Qr)(class _ extends v.R6{constructor(){super({id:"editor.action.focusNextCursor",label:c.NC("mutlicursor.focusNextCursor","Focus Next Cursor"),description:{description:c.NC("mutlicursor.focusNextCursor.description","Focuses the next cursor"),args:[]},alias:"Focus Next Cursor",precondition:void 0})}run(_e,ue,ve){if(!ue.hasModel())return;const Ie=ue._getViewModel();if(Ie.cursorConfig.readOnly)return;Ie.model.pushStackElement();const Se=Array.from(Ie.getCursorStates()),Ve=Se.shift();Ve&&(Se.push(Ve),Ie.setCursorStates(ve.source,3,Se),Ie.revealPrimaryCursor(ve.source,!0),w(Se,Ie.getCursorStates()))}}),(0,v.Qr)(class ae extends v.R6{constructor(){super({id:"editor.action.focusPreviousCursor",label:c.NC("mutlicursor.focusPreviousCursor","Focus Previous Cursor"),description:{description:c.NC("mutlicursor.focusPreviousCursor.description","Focuses the previous cursor"),args:[]},alias:"Focus Previous Cursor",precondition:void 0})}run(_e,ue,ve){if(!ue.hasModel())return;const Ie=ue._getViewModel();if(Ie.cursorConfig.readOnly)return;Ie.model.pushStackElement();const Se=Array.from(Ie.getCursorStates()),Ve=Se.pop();Ve&&(Se.unshift(Ve),Ie.setCursorStates(ve.source,3,Se),Ie.revealPrimaryCursor(ve.source,!0),w(Se,Ie.getCursorStates()))}})},78892:(Xe,we,e)=>{var f=e(81183),P=e(78694),r=e(8256),y=e(15446),v=e(81814),S=e(55763),T=e(85328),E=e(17967),L=e(58178),p=e(32583),c=e(87618),u=e(91402),g=e(15850),i=e(68678),d=e(56230),a=e(11813),m=e(66221),l=function(ot,lt,mt,ft){return new(mt||(mt=Promise))(function(Tt,Mt){function Ut(it){try{It(ft.next(it))}catch(qe){Mt(qe)}}function At(it){try{It(ft.throw(it))}catch(qe){Mt(qe)}}function It(it){it.done?Tt(it.value):function Lt(Tt){return Tt instanceof mt?Tt:new mt(function(Mt){Mt(Tt)})}(it.value).then(Ut,At)}It((ft=ft.apply(ot,lt||[])).next())})};const I={Visible:new m.uy("parameterHintsVisible",!1),MultipleSignatures:new m.uy("parameterHintsMultipleSignatures",!1)};function w(ot,lt,mt,ft,Lt){return l(this,void 0,void 0,function*(){const Tt=ot.ordered(lt);for(const Mt of Tt)try{const Ut=yield Mt.provideSignatureHelp(lt,mt,Lt,ft);if(Ut)return Ut}catch(Ut){(0,E.Cp)(Ut)}})}a.P.registerCommand("_executeSignatureHelpProvider",(ot,...lt)=>l(void 0,void 0,void 0,function*(){const[mt,ft,Lt]=lt;(0,u.p_)(g.o.isUri(mt)),(0,u.p_)(i.L.isIPosition(ft)),(0,u.p_)("string"==typeof Lt||!Lt);const Tt=ot.get(S.p),Mt=yield ot.get(d.S).createModelReference(mt);try{const Ut=yield w(Tt.signatureHelpProvider,Mt.object.textEditorModel,i.L.lift(ft),{triggerKind:v.WW.Invoke,isRetrigger:!1,triggerCharacter:Lt},c.T.None);return Ut?(setTimeout(()=>Ut.dispose(),0),Ut.value):void 0}finally{Mt.dispose()}}));var N,ot;(ot=N||(N={})).Default={type:0},ot.Pending=class lt{constructor(Lt,Tt){this.request=Lt,this.previouslyActiveHints=Tt,this.type=2}},ot.Active=class mt{constructor(Lt){this.hints=Lt,this.type=1}};let A=(()=>{class ot extends P.JT{constructor(mt,ft,Lt=ot.DEFAULT_DELAY){super(),this._onChangedHints=this._register(new L.Q5),this.onChangedHints=this._onChangedHints.event,this.triggerOnType=!1,this._state=N.Default,this._pendingTriggers=[],this._lastSignatureHelpResult=this._register(new P.XK),this.triggerChars=new p.q,this.retriggerChars=new p.q,this.triggerId=0,this.editor=mt,this.providers=ft,this.throttledDelayer=new T.vp(Lt),this._register(this.editor.onDidBlurEditorWidget(()=>this.cancel())),this._register(this.editor.onDidChangeConfiguration(()=>this.onEditorConfigurationChange())),this._register(this.editor.onDidChangeModel(Tt=>this.onModelChanged())),this._register(this.editor.onDidChangeModelLanguage(Tt=>this.onModelChanged())),this._register(this.editor.onDidChangeCursorSelection(Tt=>this.onCursorChange(Tt))),this._register(this.editor.onDidChangeModelContent(Tt=>this.onModelContentChange())),this._register(this.providers.onDidChange(this.onModelChanged,this)),this._register(this.editor.onDidType(Tt=>this.onDidType(Tt))),this.onEditorConfigurationChange(),this.onModelChanged()}get state(){return this._state}set state(mt){2===this._state.type&&this._state.request.cancel(),this._state=mt}cancel(mt=!1){this.state=N.Default,this.throttledDelayer.cancel(),mt||this._onChangedHints.fire(void 0)}trigger(mt,ft){const Lt=this.editor.getModel();if(!Lt||!this.providers.has(Lt))return;const Tt=++this.triggerId;this._pendingTriggers.push(mt),this.throttledDelayer.trigger(()=>this.doTrigger(Tt),ft).catch(E.dL)}next(){if(1!==this.state.type)return;const mt=this.state.hints.signatures.length,ft=this.state.hints.activeSignature,Lt=ft%mt==mt-1,Tt=this.editor.getOption(84).cycle;!(mt<2||Lt)||Tt?this.updateActiveSignature(Lt&&Tt?0:ft+1):this.cancel()}previous(){if(1!==this.state.type)return;const mt=this.state.hints.signatures.length,ft=this.state.hints.activeSignature,Lt=0===ft,Tt=this.editor.getOption(84).cycle;!(mt<2||Lt)||Tt?this.updateActiveSignature(Lt&&Tt?mt-1:ft-1):this.cancel()}updateActiveSignature(mt){1===this.state.type&&(this.state=new N.Active(Object.assign(Object.assign({},this.state.hints),{activeSignature:mt})),this._onChangedHints.fire(this.state.hints))}doTrigger(mt){return function(ot,lt,mt,ft){return new(mt||(mt=Promise))(function(Tt,Mt){function Ut(it){try{It(ft.next(it))}catch(qe){Mt(qe)}}function At(it){try{It(ft.throw(it))}catch(qe){Mt(qe)}}function It(it){it.done?Tt(it.value):function Lt(Tt){return Tt instanceof mt?Tt:new mt(function(Mt){Mt(Tt)})}(it.value).then(Ut,At)}It((ft=ft.apply(ot,lt||[])).next())})}(this,void 0,void 0,function*(){const ft=1===this.state.type||2===this.state.type,Lt=this.getLastActiveHints();if(this.cancel(!0),0===this._pendingTriggers.length)return!1;const Tt=this._pendingTriggers.reduce(k);this._pendingTriggers=[];const Mt={triggerKind:Tt.triggerKind,triggerCharacter:Tt.triggerCharacter,isRetrigger:ft,activeSignatureHelp:Lt};if(!this.editor.hasModel())return!1;const Ut=this.editor.getModel(),At=this.editor.getPosition();this.state=new N.Pending((0,T.PG)(It=>w(this.providers,Ut,At,Mt,It)),Lt);try{const It=yield this.state.request;return mt!==this.triggerId?(It?.dispose(),!1):It&&It.value.signatures&&0!==It.value.signatures.length?(this.state=new N.Active(It.value),this._lastSignatureHelpResult.value=It,this._onChangedHints.fire(this.state.hints),!0):(It?.dispose(),this._lastSignatureHelpResult.clear(),this.cancel(),!1)}catch(It){return mt===this.triggerId&&(this.state=N.Default),(0,E.dL)(It),!1}})}getLastActiveHints(){switch(this.state.type){case 1:return this.state.hints;case 2:return this.state.previouslyActiveHints;default:return}}get isTriggered(){return 1===this.state.type||2===this.state.type||this.throttledDelayer.isTriggered()}onModelChanged(){this.cancel(),this.triggerChars.clear(),this.retriggerChars.clear();const mt=this.editor.getModel();if(mt)for(const ft of this.providers.ordered(mt)){for(const Lt of ft.signatureHelpTriggerCharacters||[])if(Lt.length){const Tt=Lt.charCodeAt(0);this.triggerChars.add(Tt),this.retriggerChars.add(Tt)}for(const Lt of ft.signatureHelpRetriggerCharacters||[])Lt.length&&this.retriggerChars.add(Lt.charCodeAt(0))}}onDidType(mt){if(!this.triggerOnType)return;const ft=mt.length-1,Lt=mt.charCodeAt(ft);(this.triggerChars.has(Lt)||this.isTriggered&&this.retriggerChars.has(Lt))&&this.trigger({triggerKind:v.WW.TriggerCharacter,triggerCharacter:mt.charAt(ft)})}onCursorChange(mt){"mouse"===mt.source?this.cancel():this.isTriggered&&this.trigger({triggerKind:v.WW.ContentChange})}onModelContentChange(){this.isTriggered&&this.trigger({triggerKind:v.WW.ContentChange})}onEditorConfigurationChange(){this.triggerOnType=this.editor.getOption(84).enabled,this.triggerOnType||this.cancel()}dispose(){this.cancel(!0),super.dispose()}}return ot.DEFAULT_DELAY=120,ot})();function k(ot,lt){switch(lt.triggerKind){case v.WW.Invoke:return lt;case v.WW.ContentChange:return ot;default:return lt}}var R=e(37190),O=e(12065),W=e(20274),z=e(41539),U=e(8286),ee=e(27222),B=e(16055),G=e(93379),se=e.n(G),j=e(7795),$=e.n(j),K=e(90569),J=e.n(K),te=e(3565),ne=e.n(te),_=e(19216),ae=e.n(_),ge=e(44589),_e=e.n(ge),ue=e(81386),ve={};ve.styleTagTransform=_e(),ve.setAttributes=ne(),ve.insert=J().bind(null,"head"),ve.domAPI=$(),ve.insertStyleElement=ae(),se()(ue.Z,ve);var Ce,Ve=e(74315),De=e(40419),ye=e(6628),oe=e(99745),Y=e(34252),x=e(35053),ie=function(ot,lt){return function(mt,ft){lt(mt,ft,ot)}};const ke=W.$,Pe=(0,Y.q5)("parameter-hints-next",ee.l.chevronDown,R.NC("parameterHintsNextIcon","Icon for show next parameter hint.")),xe=(0,Y.q5)("parameter-hints-previous",ee.l.chevronUp,R.NC("parameterHintsPreviousIcon","Icon for show previous parameter hint."));let fe=Ce=class extends P.JT{constructor(lt,mt,ft,Lt,Tt){super(),this.editor=lt,this.model=mt,this.renderDisposeables=this._register(new P.SL),this.visible=!1,this.announcedLabel=null,this.allowEditorOverflow=!0,this.markdownRenderer=this._register(new De.$({editor:lt},Tt,Lt)),this.keyVisible=I.Visible.bindTo(ft),this.keyMultipleSignatures=I.MultipleSignatures.bindTo(ft)}createParameterHintDOMNodes(){const lt=ke(".editor-widget.parameter-hints-widget"),mt=W.R3(lt,ke(".phwrapper"));mt.tabIndex=-1;const ft=W.R3(mt,ke(".controls")),Lt=W.R3(ft,ke(".button"+x.k.asCSSSelector(xe))),Tt=W.R3(ft,ke(".overloads")),Mt=W.R3(ft,ke(".button"+x.k.asCSSSelector(Pe)));this._register(W.nm(Lt,"click",Ze=>{W.zB.stop(Ze),this.previous()})),this._register(W.nm(Mt,"click",Ze=>{W.zB.stop(Ze),this.next()}));const Ut=ke(".body"),At=new U.s$(Ut,{alwaysConsumeMouseWheel:!0});this._register(At),mt.appendChild(At.getDomNode());const It=W.R3(Ut,ke(".signature")),it=W.R3(Ut,ke(".docs"));lt.style.userSelect="text",this.domNodes={element:lt,signature:It,overloads:Tt,docs:it,scrollbar:At},this.editor.addContentWidget(this),this.hide(),this._register(this.editor.onDidChangeCursorSelection(Ze=>{this.visible&&this.editor.layoutContentWidget(this)}));const qe=()=>{if(!this.domNodes)return;const Ze=this.editor.getOption(49);this.domNodes.element.style.fontSize=`${Ze.fontSize}px`,this.domNodes.element.style.lineHeight=""+Ze.lineHeight/Ze.fontSize};qe(),this._register(L.ju.chain(this.editor.onDidChangeConfiguration.bind(this.editor)).filter(Ze=>Ze.hasChanged(49)).on(qe,null)),this._register(this.editor.onDidLayoutChange(Ze=>this.updateMaxHeight())),this.updateMaxHeight()}show(){this.visible||(this.domNodes||this.createParameterHintDOMNodes(),this.keyVisible.set(!0),this.visible=!0,setTimeout(()=>{var lt;null===(lt=this.domNodes)||void 0===lt||lt.element.classList.add("visible")},100),this.editor.layoutContentWidget(this))}hide(){var lt;this.renderDisposeables.clear(),this.visible&&(this.keyVisible.reset(),this.visible=!1,this.announcedLabel=null,null===(lt=this.domNodes)||void 0===lt||lt.element.classList.remove("visible"),this.editor.layoutContentWidget(this))}getPosition(){return this.visible?{position:this.editor.getPosition(),preference:[1,2]}:null}render(lt){var mt;if(this.renderDisposeables.clear(),!this.domNodes)return;const ft=lt.signatures.length>1;this.domNodes.element.classList.toggle("multiple",ft),this.keyMultipleSignatures.set(ft),this.domNodes.signature.innerText="",this.domNodes.docs.innerText="";const Lt=lt.signatures[lt.activeSignature];if(!Lt)return;const Tt=W.R3(this.domNodes.signature,ke(".code")),Mt=this.editor.getOption(49);Tt.style.fontSize=`${Mt.fontSize}px`,Tt.style.fontFamily=Mt.fontFamily;const At=null!==(mt=Lt.activeParameter)&&void 0!==mt?mt:lt.activeParameter;Lt.parameters.length>0?this.renderParameters(Tt,Lt,At):W.R3(Tt,ke("span")).textContent=Lt.label;const It=Lt.parameters[At];if(It?.documentation){const qe=ke("span.documentation");if("string"==typeof It.documentation)qe.textContent=It.documentation;else{const Ze=this.renderMarkdownDocs(It.documentation);qe.appendChild(Ze.element)}W.R3(this.domNodes.docs,ke("p",{},qe))}if(void 0!==Lt.documentation)if("string"==typeof Lt.documentation)W.R3(this.domNodes.docs,ke("p",{},Lt.documentation));else{const qe=this.renderMarkdownDocs(Lt.documentation);W.R3(this.domNodes.docs,qe.element)}const it=this.hasDocs(Lt,It);if(this.domNodes.signature.classList.toggle("has-docs",it),this.domNodes.docs.classList.toggle("empty",!it),this.domNodes.overloads.textContent=String(lt.activeSignature+1).padStart(lt.signatures.length.toString().length,"0")+"/"+lt.signatures.length,It){let qe="";const Ze=Lt.parameters[At];qe=Array.isArray(Ze.label)?Lt.label.substring(Ze.label[0],Ze.label[1]):Ze.label,Ze.documentation&&(qe+="string"==typeof Ze.documentation?`, ${Ze.documentation}`:`, ${Ze.documentation.value}`),Lt.documentation&&(qe+="string"==typeof Lt.documentation?`, ${Lt.documentation}`:`, ${Lt.documentation.value}`),this.announcedLabel!==qe&&(z.Z9(R.NC("hint","{0}, hint",qe)),this.announcedLabel=qe)}this.editor.layoutContentWidget(this),this.domNodes.scrollbar.scanDomNode()}renderMarkdownDocs(lt){const mt=this.renderDisposeables.add(this.markdownRenderer.render(lt,{asyncRenderCallback:()=>{var ft;null===(ft=this.domNodes)||void 0===ft||ft.scrollbar.scanDomNode()}}));return mt.element.classList.add("markdown-docs"),mt}hasDocs(lt,mt){return!!(mt&&"string"==typeof mt.documentation&&(0,u.cW)(mt.documentation).length>0||mt&&"object"==typeof mt.documentation&&(0,u.cW)(mt.documentation).value.length>0||lt.documentation&&"string"==typeof lt.documentation&&(0,u.cW)(lt.documentation).length>0||lt.documentation&&"object"==typeof lt.documentation&&(0,u.cW)(lt.documentation.value).length>0)}renderParameters(lt,mt,ft){const[Lt,Tt]=this.getParameterLabelOffsets(mt,ft),Mt=document.createElement("span");Mt.textContent=mt.label.substring(0,Lt);const Ut=document.createElement("span");Ut.textContent=mt.label.substring(Lt,Tt),Ut.className="parameter active";const At=document.createElement("span");At.textContent=mt.label.substring(Tt),W.R3(lt,Mt,Ut,At)}getParameterLabelOffsets(lt,mt){const ft=lt.parameters[mt];if(ft){if(Array.isArray(ft.label))return ft.label;if(ft.label.length){const Lt=new RegExp(`(\\W|^)${(0,B.ec)(ft.label)}(?=\\W|$)`,"g");Lt.test(lt.label);const Tt=Lt.lastIndex-ft.label.length;return Tt>=0?[Tt,Lt.lastIndex]:[0,0]}return[0,0]}return[0,0]}next(){this.editor.focus(),this.model.next()}previous(){this.editor.focus(),this.model.previous()}getDomNode(){return this.domNodes||this.createParameterHintDOMNodes(),this.domNodes.element}getId(){return Ce.ID}updateMaxHeight(){if(!this.domNodes)return;const mt=`${Math.max(this.editor.getLayoutInfo().height/4,250)}px`;this.domNodes.element.style.maxHeight=mt;const ft=this.domNodes.element.getElementsByClassName("phwrapper");ft.length&&(ft[0].style.maxHeight=mt)}};fe.ID="editor.widget.parameterHintsWidget",fe=Ce=function(ot,lt,mt,ft){var Mt,Lt=arguments.length,Tt=Lt<3?lt:null===ft?ft=Object.getOwnPropertyDescriptor(lt,mt):ft;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Tt=Reflect.decorate(ot,lt,mt,ft);else for(var Ut=ot.length-1;Ut>=0;Ut--)(Mt=ot[Ut])&&(Tt=(Lt<3?Mt(Tt):Lt>3?Mt(lt,mt,Tt):Mt(lt,mt))||Tt);return Lt>3&&Tt&&Object.defineProperty(lt,mt,Tt),Tt}([ie(2,m.i6),ie(3,ye.v4),ie(4,Ve.O)],fe),(0,oe.P6G)("editorHoverWidget.highlightForeground",{dark:oe.Gwp,light:oe.Gwp,hcDark:oe.Gwp,hcLight:oe.Gwp},R.NC("editorHoverWidgetHighlightForeground","Foreground color of the active item in the parameter hint."));var Q,pe=function(ot,lt){return function(mt,ft){lt(mt,ft,ot)}};let le=Q=class extends P.JT{static get(lt){return lt.getContribution(Q.ID)}constructor(lt,mt,ft){super(),this.editor=lt,this.model=this._register(new A(lt,ft.signatureHelpProvider)),this._register(this.model.onChangedHints(Lt=>{var Tt;Lt?(this.widget.value.show(),this.widget.value.render(Lt)):null===(Tt=this.widget.rawValue)||void 0===Tt||Tt.hide()})),this.widget=new f.o(()=>this._register(mt.createInstance(fe,this.editor,this.model)))}cancel(){this.model.cancel()}previous(){var lt;null===(lt=this.widget.rawValue)||void 0===lt||lt.previous()}next(){var lt;null===(lt=this.widget.rawValue)||void 0===lt||lt.next()}trigger(lt){this.model.trigger(lt,0)}};le.ID="editor.controller.parameterHints",le=Q=function(ot,lt,mt,ft){var Mt,Lt=arguments.length,Tt=Lt<3?lt:null===ft?ft=Object.getOwnPropertyDescriptor(lt,mt):ft;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Tt=Reflect.decorate(ot,lt,mt,ft);else for(var Ut=ot.length-1;Ut>=0;Ut--)(Mt=ot[Ut])&&(Tt=(Lt<3?Mt(Tt):Lt>3?Mt(lt,mt,Tt):Mt(lt,mt))||Tt);return Lt>3&&Tt&&Object.defineProperty(lt,mt,Tt),Tt}([pe(1,O.TG),pe(2,S.p)],le),(0,r._K)(le.ID,le,2),(0,r.Qr)(class Fe extends r.R6{constructor(){super({id:"editor.action.triggerParameterHints",label:R.NC("parameterHints.trigger.label","Trigger Parameter Hints"),alias:"Trigger Parameter Hints",precondition:y.u.hasSignatureHelpProvider,kbOpts:{kbExpr:y.u.editorTextFocus,primary:3082,weight:100}})}run(lt,mt){const ft=le.get(mt);ft?.trigger({triggerKind:v.WW.Invoke})}});const Je=r._l.bindToContribution(le.get);(0,r.fK)(new Je({id:"closeParameterHints",precondition:I.Visible,handler:ot=>ot.cancel(),kbOpts:{weight:175,kbExpr:y.u.focus,primary:9,secondary:[1033]}})),(0,r.fK)(new Je({id:"showPrevParameterHint",precondition:m.Ao.and(I.Visible,I.MultipleSignatures),handler:ot=>ot.previous(),kbOpts:{weight:175,kbExpr:y.u.focus,primary:16,secondary:[528],mac:{primary:16,secondary:[528,302]}}})),(0,r.fK)(new Je({id:"showNextParameterHint",precondition:m.Ao.and(I.Visible,I.MultipleSignatures),handler:ot=>ot.next(),kbOpts:{weight:175,kbExpr:y.u.focus,primary:18,secondary:[530],mac:{primary:18,secondary:[530,300]}}}))},69027:(Xe,we,e)=>{e.d(we,{Fw:()=>Y,Jy:()=>x,vk:()=>ke,rc:()=>ie,SC:()=>be,M8:()=>pe,KY:()=>Pe,IH:()=>xe,R7:()=>fe});var f=e(20274),P=e(26775),r=e(54457),y=e(27222),v=e(35053),S=e(90888),T=e(58178),E=e(52209),L=e(93379),p=e.n(L),c=e(7795),u=e.n(c),g=e(90569),i=e.n(g),d=e(3565),a=e.n(d),m=e(19216),l=e.n(m),I=e(44589),w=e.n(I),D=e(8881),N={};N.styleTagTransform=w(),N.setAttributes=a(),N.insert=i().bind(null,"head"),N.domAPI=u(),N.insertStyleElement=l(),p()(D.Z,N);var R=e(8256),O=e(51617),W=e(78),z=e(89344),U=e(24791),ee=e(78694),B=e(51564),G={};G.styleTagTransform=w(),G.setAttributes=a(),G.insert=i().bind(null,"head"),G.domAPI=u(),G.insertStyleElement=l(),p()(B.Z,G);var $=e(96726),K=e(54267);const J=new S.Il(new S.VS(0,122,204)),te={showArrow:!0,showFrame:!0,className:"",frameColor:J,arrowColor:J,keepEditorSelection:!1};class _{constructor(Mt,Ut,At,It,it,qe,Ze,Ee){this.id="",this.domNode=Mt,this.afterLineNumber=Ut,this.afterColumn=At,this.heightInLines=It,this.showInHiddenAreas=Ze,this.ordinal=Ee,this._onDomNodeTop=it,this._onComputedHeight=qe}onDomNodeTop(Mt){this._onDomNodeTop(Mt)}onComputedHeight(Mt){this._onComputedHeight(Mt)}}class ae{constructor(Mt,Ut){this._id=Mt,this._domNode=Ut}getId(){return this._id}getDomNode(){return this._domNode}getPosition(){return null}}class ge{constructor(Mt){this._editor=Mt,this._ruleName=ge._IdGenerator.nextId(),this._decorations=this._editor.createDecorationsCollection(),this._color=null,this._height=-1}dispose(){this.hide(),f.uN(this._ruleName)}set color(Mt){this._color!==Mt&&(this._color=Mt,this._updateStyle())}set height(Mt){this._height!==Mt&&(this._height=Mt,this._updateStyle())}_updateStyle(){f.uN(this._ruleName),f.fk(`.monaco-editor ${this._ruleName}`,`border-style: solid; border-color: transparent; border-bottom-color: ${this._color}; border-width: ${this._height}px; bottom: -${this._height}px; margin-left: -${this._height}px; `)}show(Mt){1===Mt.column&&(Mt={lineNumber:Mt.lineNumber,column:2}),this._decorations.set([{range:$.e.fromPositions(Mt),options:{description:"zone-widget-arrow",className:this._ruleName,stickiness:1}}])}hide(){this._decorations.clear()}}ge._IdGenerator=new U.R(".arrow-decoration-");class _e{constructor(Mt,Ut={}){this._arrow=null,this._overlayWidget=null,this._resizeSash=null,this._viewZone=null,this._disposables=new ee.SL,this.container=null,this._isShowing=!1,this.editor=Mt,this._positionMarkerId=this.editor.createDecorationsCollection(),this.options=E.I8(Ut),E.jB(this.options,te,!1),this.domNode=document.createElement("div"),this.options.isAccessible||(this.domNode.setAttribute("aria-hidden","true"),this.domNode.setAttribute("role","presentation")),this._disposables.add(this.editor.onDidLayoutChange(At=>{const It=this._getWidth(At);this.domNode.style.width=It+"px",this.domNode.style.left=this._getLeft(At)+"px",this._onWidth(It)}))}dispose(){this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._viewZone&&this.editor.changeViewZones(Mt=>{this._viewZone&&Mt.removeZone(this._viewZone.id),this._viewZone=null}),this._positionMarkerId.clear(),this._disposables.dispose()}create(){this.domNode.classList.add("zone-widget"),this.options.className&&this.domNode.classList.add(this.options.className),this.container=document.createElement("div"),this.container.classList.add("zone-widget-container"),this.domNode.appendChild(this.container),this.options.showArrow&&(this._arrow=new ge(this.editor),this._disposables.add(this._arrow)),this._fillContainer(this.container),this._initSash(),this._applyStyles()}style(Mt){Mt.frameColor&&(this.options.frameColor=Mt.frameColor),Mt.arrowColor&&(this.options.arrowColor=Mt.arrowColor),this._applyStyles()}_applyStyles(){if(this.container&&this.options.frameColor){const Mt=this.options.frameColor.toString();this.container.style.borderTopColor=Mt,this.container.style.borderBottomColor=Mt}if(this._arrow&&this.options.arrowColor){const Mt=this.options.arrowColor.toString();this._arrow.color=Mt}}_getWidth(Mt){return Mt.width-Mt.minimap.minimapWidth-Mt.verticalScrollbarWidth}_getLeft(Mt){return Mt.minimap.minimapWidth>0&&0===Mt.minimap.minimapLeft?Mt.minimap.minimapWidth:0}_onViewZoneTop(Mt){this.domNode.style.top=Mt+"px"}_onViewZoneHeight(Mt){var Ut;if(this.domNode.style.height=`${Mt}px`,this.container){const At=Mt-this._decoratingElementsHeight();this.container.style.height=`${At}px`;const It=this.editor.getLayoutInfo();this._doLayout(At,this._getWidth(It))}null===(Ut=this._resizeSash)||void 0===Ut||Ut.layout()}get position(){const Mt=this._positionMarkerId.getRange(0);if(Mt)return Mt.getStartPosition()}show(Mt,Ut){const At=$.e.isIRange(Mt)?$.e.lift(Mt):$.e.fromPositions(Mt);this._isShowing=!0,this._showImpl(At,Ut),this._isShowing=!1,this._positionMarkerId.set([{range:At,options:K.qx.EMPTY}])}hide(){var Mt;this._viewZone&&(this.editor.changeViewZones(Ut=>{this._viewZone&&Ut.removeZone(this._viewZone.id)}),this._viewZone=null),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),null===(Mt=this._arrow)||void 0===Mt||Mt.hide(),this._positionMarkerId.clear()}_decoratingElementsHeight(){const Mt=this.editor.getOption(65);let Ut=0;return this.options.showArrow&&(Ut+=2*Math.round(Mt/3)),this.options.showFrame&&(Ut+=2*Math.round(Mt/9)),Ut}_showImpl(Mt,Ut){const At=Mt.getStartPosition(),It=this.editor.getLayoutInfo(),it=this._getWidth(It);this.domNode.style.width=`${it}px`,this.domNode.style.left=this._getLeft(It)+"px";const qe=document.createElement("div");qe.style.overflow="hidden";const Ze=this.editor.getOption(65);if(!this.options.allowUnlimitedHeight){const yt=Math.max(12,this.editor.getLayoutInfo().height/Ze*.8);Ut=Math.min(Ut,yt)}let Ee=0,Te=0;if(this._arrow&&this.options.showArrow&&(Ee=Math.round(Ze/3),this._arrow.height=Ee,this._arrow.show(At)),this.options.showFrame&&(Te=Math.round(Ze/9)),this.editor.changeViewZones(yt=>{this._viewZone&&yt.removeZone(this._viewZone.id),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this.domNode.style.top="-1000px",this._viewZone=new _(qe,At.lineNumber,At.column,Ut,Dt=>this._onViewZoneTop(Dt),Dt=>this._onViewZoneHeight(Dt),this.options.showInHiddenAreas,this.options.ordinal),this._viewZone.id=yt.addZone(this._viewZone),this._overlayWidget=new ae("vs.editor.contrib.zoneWidget"+this._viewZone.id,this.domNode),this.editor.addOverlayWidget(this._overlayWidget)}),this.container&&this.options.showFrame){const yt=this.options.frameWidth?this.options.frameWidth:Te;this.container.style.borderTopWidth=yt+"px",this.container.style.borderBottomWidth=yt+"px"}const Ae=Ut*Ze-this._decoratingElementsHeight();this.container&&(this.container.style.top=Ee+"px",this.container.style.height=Ae+"px",this.container.style.overflow="hidden"),this._doLayout(Ae,it),this.options.keepEditorSelection||this.editor.setSelection(Mt);const ht=this.editor.getModel();if(ht){const yt=ht.validateRange(new $.e(Mt.startLineNumber,1,Mt.endLineNumber+1,1));this.revealRange(yt,yt.startLineNumber===ht.getLineCount())}}revealRange(Mt,Ut){Ut?this.editor.revealLineNearTop(Mt.endLineNumber,0):this.editor.revealRange(Mt,0)}setCssClass(Mt,Ut){this.container&&(Ut&&this.container.classList.remove(Ut),this.container.classList.add(Mt))}_onWidth(Mt){}_doLayout(Mt,Ut){}_relayout(Mt){this._viewZone&&this._viewZone.heightInLines!==Mt&&this.editor.changeViewZones(Ut=>{this._viewZone&&(this._viewZone.heightInLines=Mt,Ut.layoutZone(this._viewZone.id))})}_initSash(){if(this._resizeSash)return;let Mt;this._resizeSash=this._disposables.add(new z.g(this.domNode,this,{orientation:1})),this.options.isResizeable||(this._resizeSash.state=0),this._disposables.add(this._resizeSash.onDidStart(Ut=>{this._viewZone&&(Mt={startY:Ut.startY,heightInLines:this._viewZone.heightInLines})})),this._disposables.add(this._resizeSash.onDidEnd(()=>{Mt=void 0})),this._disposables.add(this._resizeSash.onDidChange(Ut=>{if(Mt){const At=(Ut.currentY-Mt.startY)/this.editor.getOption(65),It=At<0?Math.ceil(At):Math.floor(At),it=Mt.heightInLines+It;it>5&&it<35&&this._relayout(it)}}))}getHorizontalSashLeft(){return 0}getHorizontalSashTop(){return(null===this.domNode.style.height?0:parseInt(this.domNode.style.height))-this._decoratingElementsHeight()/2}getHorizontalSashWidth(){const Mt=this.editor.getLayoutInfo();return Mt.width-Mt.minimap.minimapWidth}}var ue=e(37190),ve=e(65227),Ie=e(66221),Se=e(67755),Ve=e(12065),De=e(99745),ye=function(Tt,Mt,Ut,At){var qe,It=arguments.length,it=It<3?Mt:null===At?At=Object.getOwnPropertyDescriptor(Mt,Ut):At;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)it=Reflect.decorate(Tt,Mt,Ut,At);else for(var Ze=Tt.length-1;Ze>=0;Ze--)(qe=Tt[Ze])&&(it=(It<3?qe(it):It>3?qe(Mt,Ut,it):qe(Mt,Ut))||it);return It>3&&it&&Object.defineProperty(Mt,Ut,it),it},oe=function(Tt,Mt){return function(Ut,At){Mt(Ut,At,Tt)}};const Y=(0,Ve.yh)("IPeekViewService");var x,Tt;(0,Se.z)(Y,class{constructor(){this._widgets=new Map}addExclusiveWidget(Tt,Mt){const Ut=this._widgets.get(Tt);Ut&&(Ut.listener.dispose(),Ut.widget.dispose()),this._widgets.set(Tt,{widget:Mt,listener:Mt.onDidClose(()=>{const It=this._widgets.get(Tt);It&&It.widget===Mt&&(It.listener.dispose(),this._widgets.delete(Tt))})})}},1),(Tt=x||(x={})).inPeekEditor=new Ie.uy("inReferenceSearchEditor",!0,ue.NC("inReferenceSearchEditor","Whether the current code editor is embedded inside peek")),Tt.notInPeekEditor=Tt.inPeekEditor.toNegated();let F=class{constructor(Mt,Ut){Mt instanceof W.H&&x.inPeekEditor.bindTo(Ut)}dispose(){}};function ie(Tt){const Mt=Tt.get(O.$).getFocusedCodeEditor();return Mt instanceof W.H?Mt.getParentEditor():Mt}F.ID="editor.contrib.referenceController",F=ye([oe(1,Ie.i6)],F),(0,R._K)(F.ID,F,0);const Ce={headerBackgroundColor:S.Il.white,primaryHeadingColor:S.Il.fromHex("#333333"),secondaryHeadingColor:S.Il.fromHex("#6c6c6cb3")};let ke=class extends _e{constructor(Mt,Ut,At){super(Mt,Ut),this.instantiationService=At,this._onDidClose=new T.Q5,this.onDidClose=this._onDidClose.event,E.jB(this.options,Ce,!1)}dispose(){this.disposed||(this.disposed=!0,super.dispose(),this._onDidClose.fire(this))}style(Mt){const Ut=this.options;Mt.headerBackgroundColor&&(Ut.headerBackgroundColor=Mt.headerBackgroundColor),Mt.primaryHeadingColor&&(Ut.primaryHeadingColor=Mt.primaryHeadingColor),Mt.secondaryHeadingColor&&(Ut.secondaryHeadingColor=Mt.secondaryHeadingColor),super.style(Mt)}_applyStyles(){super._applyStyles();const Mt=this.options;this._headElement&&Mt.headerBackgroundColor&&(this._headElement.style.backgroundColor=Mt.headerBackgroundColor.toString()),this._primaryHeading&&Mt.primaryHeadingColor&&(this._primaryHeading.style.color=Mt.primaryHeadingColor.toString()),this._secondaryHeading&&Mt.secondaryHeadingColor&&(this._secondaryHeading.style.color=Mt.secondaryHeadingColor.toString()),this._bodyElement&&Mt.frameColor&&(this._bodyElement.style.borderColor=Mt.frameColor.toString())}_fillContainer(Mt){this.setCssClass("peekview-widget"),this._headElement=f.$(".head"),this._bodyElement=f.$(".body"),this._fillHead(this._headElement),this._fillBody(this._bodyElement),Mt.appendChild(this._headElement),Mt.appendChild(this._bodyElement)}_fillHead(Mt,Ut){this._titleElement=f.$(".peekview-title"),this.options.supportOnTitleClick&&(this._titleElement.classList.add("clickable"),f.mu(this._titleElement,"click",it=>this._onTitleClick(it))),f.R3(this._headElement,this._titleElement),this._fillTitleIcon(this._titleElement),this._primaryHeading=f.$("span.filename"),this._secondaryHeading=f.$("span.dirname"),this._metaHeading=f.$("span.meta"),f.R3(this._titleElement,this._primaryHeading,this._secondaryHeading,this._metaHeading);const At=f.$(".peekview-actions");f.R3(this._headElement,At);const It=this._getActionBarOptions();this._actionbarWidget=new P.o(At,It),this._disposables.add(this._actionbarWidget),Ut||this._actionbarWidget.push(new r.aU("peekview.close",ue.NC("label.close","Close"),v.k.asClassName(y.l.close),!0,()=>(this.dispose(),Promise.resolve())),{label:!1,icon:!0})}_fillTitleIcon(Mt){}_getActionBarOptions(){return{actionViewItemProvider:ve.Id.bind(void 0,this.instantiationService),orientation:0}}_onTitleClick(Mt){}setTitle(Mt,Ut){this._primaryHeading&&this._secondaryHeading&&(this._primaryHeading.innerText=Mt,this._primaryHeading.setAttribute("title",Mt),Ut?this._secondaryHeading.innerText=Ut:f.PO(this._secondaryHeading))}setMetaTitle(Mt){this._metaHeading&&(Mt?(this._metaHeading.innerText=Mt,f.$Z(this._metaHeading)):f.Cp(this._metaHeading))}_doLayout(Mt,Ut){if(!this._isShowing&&Mt<0)return void this.dispose();const At=Math.ceil(1.2*this.editor.getOption(65)),It=Math.round(Mt-(At+2));this._doLayoutHead(At,Ut),this._doLayoutBody(It,Ut)}_doLayoutHead(Mt,Ut){this._headElement&&(this._headElement.style.height=`${Mt}px`,this._headElement.style.lineHeight=this._headElement.style.height)}_doLayoutBody(Mt,Ut){this._bodyElement&&(this._bodyElement.style.height=`${Mt}px`)}};ke=ye([oe(2,Ve.TG)],ke);const Pe=(0,De.P6G)("peekViewTitle.background",{dark:"#252526",light:"#F3F3F3",hcDark:S.Il.black,hcLight:S.Il.white},ue.NC("peekViewTitleBackground","Background color of the peek view title area.")),xe=(0,De.P6G)("peekViewTitleLabel.foreground",{dark:S.Il.white,light:S.Il.black,hcDark:S.Il.white,hcLight:De.NOs},ue.NC("peekViewTitleForeground","Color of the peek view title.")),fe=(0,De.P6G)("peekViewTitleDescription.foreground",{dark:"#ccccccb3",light:"#616161",hcDark:"#FFFFFF99",hcLight:"#292929"},ue.NC("peekViewTitleInfoForeground","Color of the peek view title info.")),be=(0,De.P6G)("peekView.border",{dark:De.c63,light:De.c63,hcDark:De.lRK,hcLight:De.lRK},ue.NC("peekViewBorder","Color of the peek view borders and arrow.")),pe=(0,De.P6G)("peekViewResult.background",{dark:"#252526",light:"#F3F3F3",hcDark:S.Il.black,hcLight:S.Il.white},ue.NC("peekViewResultsBackground","Background color of the peek view result list.")),Je=((0,De.P6G)("peekViewResult.lineForeground",{dark:"#bbbbbb",light:"#646465",hcDark:S.Il.white,hcLight:De.NOs},ue.NC("peekViewResultsMatchForeground","Foreground color for line nodes in the peek view result list.")),(0,De.P6G)("peekViewResult.fileForeground",{dark:S.Il.white,light:"#1E1E1E",hcDark:S.Il.white,hcLight:De.NOs},ue.NC("peekViewResultsFileForeground","Foreground color for file nodes in the peek view result list.")),(0,De.P6G)("peekViewResult.selectionBackground",{dark:"#3399ff33",light:"#3399ff33",hcDark:null,hcLight:null},ue.NC("peekViewResultsSelectionBackground","Background color of the selected entry in the peek view result list.")),(0,De.P6G)("peekViewResult.selectionForeground",{dark:S.Il.white,light:"#6C6C6C",hcDark:S.Il.white,hcLight:De.NOs},ue.NC("peekViewResultsSelectionForeground","Foreground color of the selected entry in the peek view result list.")),(0,De.P6G)("peekViewEditor.background",{dark:"#001F33",light:"#F2F8FC",hcDark:S.Il.black,hcLight:S.Il.white},ue.NC("peekViewEditorBackground","Background color of the peek view editor.")));(0,De.P6G)("peekViewEditorGutter.background",{dark:Je,light:Je,hcDark:Je,hcLight:Je},ue.NC("peekViewEditorGutterBackground","Background color of the gutter in the peek view editor.")),(0,De.P6G)("peekViewEditorStickyScroll.background",{dark:Je,light:Je,hcDark:Je,hcLight:Je},ue.NC("peekViewEditorStickScrollBackground","Background color of sticky scroll in the peek view editor.")),(0,De.P6G)("peekViewResult.matchHighlightBackground",{dark:"#ea5c004d",light:"#ea5c004d",hcDark:null,hcLight:null},ue.NC("peekViewResultsMatchHighlight","Match highlight color in the peek view result list.")),(0,De.P6G)("peekViewEditor.matchHighlightBackground",{dark:"#ff8f0099",light:"#f5d802de",hcDark:null,hcLight:null},ue.NC("peekViewEditorMatchHighlight","Match highlight color in the peek view editor.")),(0,De.P6G)("peekViewEditor.matchHighlightBorder",{dark:null,light:null,hcDark:De.xL1,hcLight:De.xL1},ue.NC("peekViewEditorMatchHighlightBorder","Match highlight border in the peek view editor."))},55637:(Xe,we,e)=>{e.d(we,{X:()=>E});var f=e(45644),P=e(78694),r=e(37389),y=e(24470),v=e(2857),S=e(23527),T=e(41539);class E{constructor(p){this.options=p,this.rangeHighlightDecorationId=void 0}provide(p,c){var u;const g=new P.SL;p.canAcceptInBackground=!(null===(u=this.options)||void 0===u||!u.canAcceptInBackground),p.matchOnLabel=p.matchOnDescription=p.matchOnDetail=p.sortByLabel=!1;const i=g.add(new P.XK);return i.value=this.doProvide(p,c),g.add(this.onDidActiveTextEditorControlChange(()=>{i.value=void 0,i.value=this.doProvide(p,c)})),g}doProvide(p,c){var u;const g=new P.SL,i=this.activeTextEditorControl;if(i&&this.canProvideWithTextEditor(i)){const d={editor:i},a=(0,r.Pi)(i);if(a){let m=null!==(u=i.saveViewState())&&void 0!==u?u:void 0;g.add(a.onDidChangeCursorPosition(()=>{var l;m=null!==(l=i.saveViewState())&&void 0!==l?l:void 0})),d.restoreViewState=()=>{m&&i===this.activeTextEditorControl&&i.restoreViewState(m)},g.add((0,f.I)(c.onCancellationRequested)(()=>{var l;return null===(l=d.restoreViewState)||void 0===l?void 0:l.call(d)}))}g.add((0,P.OF)(()=>this.clearDecorations(i))),g.add(this.provideWithTextEditor(d,p,c))}else g.add(this.provideWithoutTextEditor(p,c));return g}canProvideWithTextEditor(p){return!0}gotoLocation({editor:p},c){p.setSelection(c.range),p.revealRangeInCenter(c.range,0),c.preserveFocus||p.focus();const u=p.getModel();u&&"getLineContent"in u&&(0,T.i7)(`${u.getLineContent(c.range.startLineNumber)}`)}getModel(p){var c;return(0,r.QI)(p)?null===(c=p.getModel())||void 0===c?void 0:c.modified:p.getModel()}addDecorations(p,c){p.changeDecorations(u=>{const g=[];this.rangeHighlightDecorationId&&(g.push(this.rangeHighlightDecorationId.overviewRulerDecorationId),g.push(this.rangeHighlightDecorationId.rangeHighlightId),this.rangeHighlightDecorationId=void 0);const i=[{range:c,options:{description:"quick-access-range-highlight",className:"rangeHighlight",isWholeLine:!0}},{range:c,options:{description:"quick-access-range-highlight-overview",overviewRuler:{color:(0,S.EN)(v.m9),position:y.sh.Full}}}],[d,a]=u.deltaDecorations(g,i);this.rangeHighlightDecorationId={rangeHighlightId:d,overviewRulerDecorationId:a}})}clearDecorations(p){const c=this.rangeHighlightDecorationId;c&&(p.changeDecorations(u=>{u.deltaDecorations([c.overviewRulerDecorationId,c.rangeHighlightId],[])}),this.rangeHighlightDecorationId=void 0)}}},76348:(Xe,we,e)=>{var f=e(10878),P=e(78694),r=e(8256),y=e(29941),v=e(37190);let S=(()=>{class T extends P.JT{constructor(L){super(),this.editor=L,this._register(this.editor.onDidAttemptReadOnlyEdit(()=>this._onDidAttemptReadOnlyEdit()))}_onDidAttemptReadOnlyEdit(){const L=y.O.get(this.editor);if(L&&this.editor.hasModel()){let p=this.editor.getOptions().get(90);p||(p=new f.W5(this.editor.isSimpleWidget?v.NC("editor.simple.readonly","Cannot edit in read-only input"):v.NC("editor.readonly","Cannot edit in read-only editor"))),L.showMessage(p,this.editor.getPosition())}}}return T.ID="editor.contrib.readOnlyMessageController",T})();(0,r._K)(S.ID,S,2)},18228:(Xe,we,e)=>{var f=e(41539),P=e(85328),r=e(87618),y=e(17967),v=e(78694),S=e(91402),T=e(15850),E=e(45173),L=e(8256),p=e(97361),c=e(51617),u=e(68678),g=e(96726),i=e(15446),d=e(75782),a=e(29941),m=e(37190),l=e(92891),I=e(66221),w=e(12065),D=e(22468),N=e(22438),A=e(51367),k=e(81834),R=e(93379),O=e.n(R),W=e(7795),z=e.n(W),U=e(90569),ee=e.n(U),B=e(3565),G=e.n(B),se=e(19216),j=e.n(se),$=e(44589),K=e.n($),J=e(88342),te={};te.styleTagTransform=K(),te.setAttributes=G(),te.insert=ee().bind(null,"head"),te.domAPI=z(),te.insertStyleElement=j(),O()(J.Z,te);var ae=e(21536),ge=e(99745),_e=e(23527),ve=function(Pe,xe){return function(fe,be){xe(fe,be,Pe)}};const Ie=new I.uy("renameInputVisible",!1,(0,m.NC)("renameInputVisible","Whether the rename input widget is visible"));let Se=class{constructor(xe,fe,be,pe,Q){this._editor=xe,this._acceptKeybindings=fe,this._themeService=be,this._keybindingService=pe,this._disposables=new v.SL,this.allowEditorOverflow=!0,this._visibleContextKey=Ie.bindTo(Q),this._editor.addContentWidget(this),this._disposables.add(this._editor.onDidChangeConfiguration(le=>{le.hasChanged(49)&&this._updateFont()})),this._disposables.add(be.onDidColorThemeChange(this._updateStyles,this))}dispose(){this._disposables.dispose(),this._editor.removeContentWidget(this)}getId(){return"__renameInputWidget"}getDomNode(){return this._domNode||(this._domNode=document.createElement("div"),this._domNode.className="monaco-editor rename-box",this._input=document.createElement("input"),this._input.className="rename-input",this._input.type="text",this._input.setAttribute("aria-label",(0,m.NC)("renameAriaLabel","Rename input. Type new name and press Enter to commit.")),this._domNode.appendChild(this._input),this._label=document.createElement("div"),this._label.className="rename-label",this._domNode.appendChild(this._label),this._updateFont(),this._updateStyles(this._themeService.getColorTheme())),this._domNode}_updateStyles(xe){var fe,be,pe,Q;if(!this._input||!this._domNode)return;const le=xe.getColor(ge.rh),Fe=xe.getColor(ge.A42);this._domNode.style.backgroundColor=String(null!==(fe=xe.getColor(ge.D0T))&&void 0!==fe?fe:""),this._domNode.style.boxShadow=le?` 0 0 8px 2px ${le}`:"",this._domNode.style.border=Fe?`1px solid ${Fe}`:"",this._domNode.style.color=String(null!==(be=xe.getColor(ge.zJb))&&void 0!==be?be:""),this._input.style.backgroundColor=String(null!==(pe=xe.getColor(ge.sEe))&&void 0!==pe?pe:"");const He=xe.getColor(ge.dt_);this._input.style.borderWidth=He?"1px":"0px",this._input.style.borderStyle=He?"solid":"none",this._input.style.borderColor=null!==(Q=He?.toString())&&void 0!==Q?Q:"none"}_updateFont(){if(!this._input||!this._label)return;const xe=this._editor.getOption(49);this._input.style.fontFamily=xe.fontFamily,this._input.style.fontWeight=xe.fontWeight,this._input.style.fontSize=`${xe.fontSize}px`,this._label.style.fontSize=.8*xe.fontSize+"px"}getPosition(){return this._visible?{position:this._position,preference:[2,1]}:null}beforeRender(){var xe,fe;const[be,pe]=this._acceptKeybindings;return this._label.innerText=(0,m.NC)({key:"label",comment:['placeholders are keybindings, e.g "F2 to Rename, Shift+F2 to Preview"']},"{0} to Rename, {1} to Preview",null===(xe=this._keybindingService.lookupKeybinding(be))||void 0===xe?void 0:xe.getLabel(),null===(fe=this._keybindingService.lookupKeybinding(pe))||void 0===fe?void 0:fe.getLabel()),null}afterRender(xe){xe||this.cancelInput(!0)}acceptInput(xe){var fe;null===(fe=this._currentAcceptInput)||void 0===fe||fe.call(this,xe)}cancelInput(xe){var fe;null===(fe=this._currentCancelInput)||void 0===fe||fe.call(this,xe)}getInput(xe,fe,be,pe,Q,le){this._domNode.classList.toggle("preview",Q),this._position=new u.L(xe.startLineNumber,xe.startColumn),this._input.value=fe,this._input.setAttribute("selectionStart",be.toString()),this._input.setAttribute("selectionEnd",pe.toString()),this._input.size=Math.max(1.1*(xe.endColumn-xe.startColumn),20);const Fe=new v.SL;return new Promise(He=>{this._currentCancelInput=Je=>(this._currentAcceptInput=void 0,this._currentCancelInput=void 0,He(Je),!0),this._currentAcceptInput=Je=>{0!==this._input.value.trim().length&&this._input.value!==fe?(this._currentAcceptInput=void 0,this._currentCancelInput=void 0,He({newName:this._input.value,wantsPreview:Q&&Je})):this.cancelInput(!0)},Fe.add(le.onCancellationRequested(()=>this.cancelInput(!0))),Fe.add(this._editor.onDidBlurEditorWidget(()=>this.cancelInput(!document.hasFocus()))),this._show()}).finally(()=>{Fe.dispose(),this._hide()})}_show(){this._editor.revealLineInCenterIfOutsideViewport(this._position.lineNumber,0),this._visible=!0,this._visibleContextKey.set(!0),this._editor.layoutContentWidget(this),setTimeout(()=>{this._input.focus(),this._input.setSelectionRange(parseInt(this._input.getAttribute("selectionStart")),parseInt(this._input.getAttribute("selectionEnd")))},100)}_hide(){this._visible=!1,this._visibleContextKey.reset(),this._editor.layoutContentWidget(this)}};Se=function(Pe,xe,fe,be){var le,pe=arguments.length,Q=pe<3?xe:null===be?be=Object.getOwnPropertyDescriptor(xe,fe):be;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Q=Reflect.decorate(Pe,xe,fe,be);else for(var Fe=Pe.length-1;Fe>=0;Fe--)(le=Pe[Fe])&&(Q=(pe<3?le(Q):pe>3?le(xe,fe,Q):le(xe,fe))||Q);return pe>3&&Q&&Object.defineProperty(xe,fe,Q),Q}([ve(2,_e.XE),ve(3,ae.d),ve(4,I.i6)],Se);var Y,Ve=e(55763),ye=function(Pe,xe){return function(fe,be){xe(fe,be,Pe)}},oe=function(Pe,xe,fe,be){return new(fe||(fe=Promise))(function(Q,le){function Fe(ot){try{Je(be.next(ot))}catch(lt){le(lt)}}function He(ot){try{Je(be.throw(ot))}catch(lt){le(lt)}}function Je(ot){ot.done?Q(ot.value):function pe(Q){return Q instanceof fe?Q:new fe(function(le){le(Q)})}(ot.value).then(Fe,He)}Je((be=be.apply(Pe,xe||[])).next())})};class x{constructor(xe,fe,be){this.model=xe,this.position=fe,this._providerRenameIdx=0,this._providers=be.ordered(xe)}hasProvider(){return this._providers.length>0}resolveRenameLocation(xe){return oe(this,void 0,void 0,function*(){const fe=[];for(this._providerRenameIdx=0;this._providerRenameIdx<this._providers.length;this._providerRenameIdx++){const pe=this._providers[this._providerRenameIdx];if(!pe.resolveRenameLocation)break;const Q=yield pe.resolveRenameLocation(this.model,this.position,xe);if(Q){if(Q.rejectReason){fe.push(Q.rejectReason);continue}return Q}}const be=this.model.getWordAtPosition(this.position);return be?{range:new g.e(this.position.lineNumber,be.startColumn,this.position.lineNumber,be.endColumn),text:be.word,rejectReason:fe.length>0?fe.join("\n"):void 0}:{range:g.e.fromPositions(this.position),text:"",rejectReason:fe.length>0?fe.join("\n"):void 0}})}provideRenameEdits(xe,fe){return oe(this,void 0,void 0,function*(){return this._provideRenameEdits(xe,this._providerRenameIdx,[],fe)})}_provideRenameEdits(xe,fe,be,pe){return oe(this,void 0,void 0,function*(){const Q=this._providers[fe];if(!Q)return{edits:[],rejectReason:be.join("\n")};const le=yield Q.provideRenameEdits(this.model,this.position,xe,pe);return le?le.rejectReason?this._provideRenameEdits(xe,fe+1,be.concat(le.rejectReason),pe):le:this._provideRenameEdits(xe,fe+1,be.concat(m.NC("no result","No result.")),pe)})}}let ie=Y=class{static get(xe){return xe.getContribution(Y.ID)}constructor(xe,fe,be,pe,Q,le,Fe,He){this.editor=xe,this._instaService=fe,this._notificationService=be,this._bulkEditService=pe,this._progressService=Q,this._logService=le,this._configService=Fe,this._languageFeaturesService=He,this._disposableStore=new v.SL,this._cts=new r.A,this._renameInputField=this._disposableStore.add(this._instaService.createInstance(Se,this.editor,["acceptRenameInput","acceptRenameInputWithPreview"]))}dispose(){this._disposableStore.dispose(),this._cts.dispose(!0)}run(){var xe,fe;return oe(this,void 0,void 0,function*(){if(this._cts.dispose(!0),this._cts=new r.A,!this.editor.hasModel())return;const be=this.editor.getPosition(),pe=new x(this.editor.getModel(),be,this._languageFeaturesService.renameProvider);if(!pe.hasProvider())return;const Q=new E.Dl(this.editor,5,void 0,this._cts.token);let le;try{const Lt=pe.resolveRenameLocation(Q.token);this._progressService.showWhile(Lt,250),le=yield Lt}catch(Lt){return void(null===(xe=a.O.get(this.editor))||void 0===xe||xe.showMessage(Lt||m.NC("resolveRenameLocationFailed","An unknown error occurred while resolving rename location"),be))}finally{Q.dispose()}if(!le)return;if(le.rejectReason)return void(null===(fe=a.O.get(this.editor))||void 0===fe||fe.showMessage(le.rejectReason,be));if(Q.token.isCancellationRequested)return;const Fe=new E.Dl(this.editor,5,le.range,this._cts.token),He=this.editor.getSelection();let Je=0,ot=le.text.length;!g.e.isEmpty(He)&&!g.e.spansMultipleLines(He)&&g.e.containsRange(le.range,He)&&(Je=Math.max(0,He.startColumn-le.range.startColumn),ot=Math.min(le.range.endColumn,He.endColumn)-le.range.startColumn);const lt=this._bulkEditService.hasPreviewHandler()&&this._configService.getValue(this.editor.getModel().uri,"editor.rename.enablePreview"),mt=yield this._renameInputField.getInput(le.range,le.text,Je,ot,lt,Fe.token);if("boolean"==typeof mt)return mt&&this.editor.focus(),void Fe.dispose();this.editor.focus();const ft=(0,P.eP)(pe.provideRenameEdits(mt.newName,Fe.token),Fe.token).then(Lt=>oe(this,void 0,void 0,function*(){if(Lt&&this.editor.hasModel()){if(Lt.rejectReason)return void this._notificationService.info(Lt.rejectReason);this.editor.setSelection(g.e.fromPositions(this.editor.getSelection().getPosition())),this._bulkEditService.apply(Lt,{editor:this.editor,showPreview:mt.wantsPreview,label:m.NC("label","Renaming '{0}' to '{1}'",le?.text,mt.newName),code:"undoredo.rename",quotableLabel:m.NC("quotableLabel","Renaming {0} to {1}",le?.text,mt.newName),respectAutoSaveConfig:!0}).then(Tt=>{Tt.ariaSummary&&(0,f.Z9)(m.NC("aria","Successfully renamed '{0}' to '{1}'. Summary: {2}",le.text,mt.newName,Tt.ariaSummary))}).catch(Tt=>{this._notificationService.error(m.NC("rename.failedApply","Rename failed to apply edits")),this._logService.error(Tt)})}}),Lt=>{this._notificationService.error(m.NC("rename.failed","Rename failed to compute edits")),this._logService.error(Lt)}).finally(()=>{Fe.dispose()});return this._progressService.showWhile(ft,250),ft})}acceptRenameInput(xe){this._renameInputField.acceptInput(xe)}cancelRenameInput(){this._renameInputField.cancelInput(!0)}};ie.ID="editor.contrib.renameController",ie=Y=function(Pe,xe,fe,be){var le,pe=arguments.length,Q=pe<3?xe:null===be?be=Object.getOwnPropertyDescriptor(xe,fe):be;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Q=Reflect.decorate(Pe,xe,fe,be);else for(var Fe=Pe.length-1;Fe>=0;Fe--)(le=Pe[Fe])&&(Q=(pe<3?le(Q):pe>3?le(xe,fe,Q):le(xe,fe))||Q);return pe>3&&Q&&Object.defineProperty(xe,fe,Q),Q}([ye(1,w.TG),ye(2,N.lT),ye(3,p.vu),ye(4,A.ek),ye(5,D.VZ),ye(6,d.V),ye(7,Ve.p)],ie),(0,L._K)(ie.ID,ie,4),(0,L.Qr)(class Ce extends L.R6{constructor(){super({id:"editor.action.rename",label:m.NC("rename.label","Rename Symbol"),alias:"Rename Symbol",precondition:I.Ao.and(i.u.writable,i.u.hasRenameProvider),kbOpts:{kbExpr:i.u.editorTextFocus,primary:60,weight:100},contextMenuOpts:{group:"1_modification",order:1.1}})}runCommand(xe,fe){const be=xe.get(c.$),[pe,Q]=Array.isArray(fe)&&fe||[void 0,void 0];return T.o.isUri(pe)&&u.L.isIPosition(Q)?be.openCodeEditor({resource:pe},be.getActiveCodeEditor()).then(le=>{le&&(le.setPosition(Q),le.invokeWithinContext(Fe=>(this.reportTelemetry(Fe,le),this.run(Fe,le))))},y.dL):super.runCommand(xe,fe)}run(xe,fe){const be=ie.get(fe);return be?be.run():Promise.resolve()}});const ke=L._l.bindToContribution(ie.get);(0,L.fK)(new ke({id:"acceptRenameInput",precondition:Ie,handler:Pe=>Pe.acceptRenameInput(!1),kbOpts:{weight:199,kbExpr:I.Ao.and(i.u.focus,I.Ao.not("isComposing")),primary:3}})),(0,L.fK)(new ke({id:"acceptRenameInputWithPreview",precondition:I.Ao.and(Ie,I.Ao.has("config.editor.rename.enablePreview")),handler:Pe=>Pe.acceptRenameInput(!0),kbOpts:{weight:199,kbExpr:I.Ao.and(i.u.focus,I.Ao.not("isComposing")),primary:1027}})),(0,L.fK)(new ke({id:"cancelRenameInput",precondition:Ie,handler:Pe=>Pe.cancelRenameInput(),kbOpts:{weight:199,kbExpr:i.u.focus,primary:9,secondary:[1033]}})),(0,L.sb)("_executeDocumentRenameProvider",function(Pe,xe,fe,...be){const[pe]=be;(0,S.p_)("string"==typeof pe);const{renameProvider:Q}=Pe.get(Ve.p);return function F(Pe,xe,fe,be){return oe(this,void 0,void 0,function*(){const pe=new x(xe,fe,Pe),Q=yield pe.resolveRenameLocation(r.T.None);return Q?.rejectReason?{edits:[],rejectReason:Q.rejectReason}:pe.provideRenameEdits(be,r.T.None)})}(Q,xe,fe,pe)}),(0,L.sb)("_executePrepareRename",function(Pe,xe,fe){return oe(this,void 0,void 0,function*(){const{renameProvider:be}=Pe.get(Ve.p),Q=yield new x(xe,fe,be).resolveRenameLocation(r.T.None);if(Q?.rejectReason)throw new Error(Q.rejectReason);return Q})}),k.B.as(l.IP.Configuration).registerConfiguration({id:"editor",properties:{"editor.rename.enablePreview":{scope:5,description:m.NC("enablePreview","Enable/disable the ability to preview changes before renaming"),default:!0,type:"boolean"}}})},3081:(Xe,we,e)=>{var l,f=e(78694),P=e(17967),r=e(41204),y=e(47358),v=e(85328),S=e(87618),T=e(23527),E=e(73784),L=e(44542),p=e(31663),c=e(11664),u=e(55763),g=e(26056),i=e(65058),d=e(53606),a=function(N,A,k,R){var z,O=arguments.length,W=O<3?A:null===R?R=Object.getOwnPropertyDescriptor(A,k):R;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)W=Reflect.decorate(N,A,k,R);else for(var U=N.length-1;U>=0;U--)(z=N[U])&&(W=(O<3?z(W):O>3?z(A,k,W):z(A,k))||W);return O>3&&W&&Object.defineProperty(A,k,W),W},m=function(N,A){return function(k,R){A(k,R,N)}};let I=class extends f.JT{constructor(A,k,R,O,W,z){super(),this._watchers=Object.create(null);const U=G=>{this._watchers[G.uri.toString()]=new w(G,A,R,W,z)},ee=(G,se)=>{se.dispose(),delete this._watchers[G.uri.toString()]},B=()=>{for(const G of k.getModels()){const se=this._watchers[G.uri.toString()];(0,d.t)(G,R,O)?se||U(G):se&&ee(G,se)}};this._register(k.onModelAdded(G=>{(0,d.t)(G,R,O)&&U(G)})),this._register(k.onModelRemoved(G=>{const se=this._watchers[G.uri.toString()];se&&ee(G,se)})),this._register(O.onDidChangeConfiguration(G=>{G.affectsConfiguration(d.e)&&B()})),this._register(R.onDidColorThemeChange(B))}dispose(){for(const A of Object.values(this._watchers))A.dispose();super.dispose()}};I=a([m(0,g.s),m(1,r.q),m(2,T.XE),m(3,y.Ui),m(4,p.A),m(5,u.p)],I);let w=l=class extends f.JT{constructor(A,k,R,O,W){super(),this._semanticTokensStylingService=k,this._isDisposed=!1,this._model=A,this._provider=W.documentSemanticTokensProvider,this._debounceInformation=O.for(this._provider,"DocumentSemanticTokens",{min:l.REQUEST_MIN_DELAY,max:l.REQUEST_MAX_DELAY}),this._fetchDocumentSemanticTokens=this._register(new v.pY(()=>this._fetchDocumentSemanticTokensNow(),l.REQUEST_MIN_DELAY)),this._currentDocumentResponse=null,this._currentDocumentRequestCancellationTokenSource=null,this._documentProvidersChangeListeners=[],this._providersChangedDuringRequest=!1,this._register(this._model.onDidChangeContent(()=>{this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(this._model.onDidChangeAttached(()=>{this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(this._model.onDidChangeLanguage(()=>{this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(0)}));const z=()=>{(0,f.B9)(this._documentProvidersChangeListeners),this._documentProvidersChangeListeners=[];for(const U of this._provider.all(A))"function"==typeof U.onDidChange&&this._documentProvidersChangeListeners.push(U.onDidChange(()=>{this._currentDocumentRequestCancellationTokenSource?this._providersChangedDuringRequest=!0:this._fetchDocumentSemanticTokens.schedule(0)}))};z(),this._register(this._provider.onDidChange(()=>{z(),this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(R.onDidColorThemeChange(U=>{this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._fetchDocumentSemanticTokens.schedule(0)}dispose(){this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),(0,f.B9)(this._documentProvidersChangeListeners),this._documentProvidersChangeListeners=[],this._setDocumentSemanticTokens(null,null,null,[]),this._isDisposed=!0,super.dispose()}_fetchDocumentSemanticTokensNow(){if(this._currentDocumentRequestCancellationTokenSource)return;if(!(0,L.Jc)(this._provider,this._model))return void(this._currentDocumentResponse&&this._model.tokenization.setSemanticTokens(null,!1));if(!this._model.isAttachedToEditor())return;const A=new S.A,O=(0,L.ML)(this._provider,this._model,this._currentDocumentResponse?this._currentDocumentResponse.provider:null,this._currentDocumentResponse&&this._currentDocumentResponse.resultId||null,A.token);this._currentDocumentRequestCancellationTokenSource=A,this._providersChangedDuringRequest=!1;const W=[],z=this._model.onDidChangeContent(ee=>{W.push(ee)}),U=new c.G(!1);O.then(ee=>{if(this._debounceInformation.update(this._model,U.elapsed()),this._currentDocumentRequestCancellationTokenSource=null,z.dispose(),ee){const{provider:B,tokens:G}=ee,se=this._semanticTokensStylingService.getStyling(B);this._setDocumentSemanticTokens(B,G||null,se,W)}else this._setDocumentSemanticTokens(null,null,null,W)},ee=>{ee&&(P.n2(ee)||"string"==typeof ee.message&&-1!==ee.message.indexOf("busy"))||P.dL(ee),this._currentDocumentRequestCancellationTokenSource=null,z.dispose(),(W.length>0||this._providersChangedDuringRequest)&&(this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model)))})}static _copy(A,k,R,O,W){W=Math.min(W,R.length-O,A.length-k);for(let z=0;z<W;z++)R[O+z]=A[k+z]}_setDocumentSemanticTokens(A,k,R,O){const W=this._currentDocumentResponse,z=()=>{(O.length>0||this._providersChangedDuringRequest)&&!this._fetchDocumentSemanticTokens.isScheduled()&&this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))};if(this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._isDisposed)A&&k&&A.releaseDocumentSemanticTokens(k.resultId);else if(A&&R){if(!k)return this._model.tokenization.setSemanticTokens(null,!0),void z();if((0,L.Vj)(k)){if(!W)return void this._model.tokenization.setSemanticTokens(null,!0);if(0===k.edits.length)k={resultId:k.resultId,data:W.data};else{let U=0;for(const j of k.edits)U+=(j.data?j.data.length:0)-j.deleteCount;const ee=W.data,B=new Uint32Array(ee.length+U);let G=ee.length,se=B.length;for(let j=k.edits.length-1;j>=0;j--){const $=k.edits[j];if($.start>ee.length)return R.warnInvalidEditStart(W.resultId,k.resultId,j,$.start,ee.length),void this._model.tokenization.setSemanticTokens(null,!0);const K=G-($.start+$.deleteCount);K>0&&(l._copy(ee,G-K,B,se-K,K),se-=K),$.data&&(l._copy($.data,0,B,se-$.data.length,$.data.length),se-=$.data.length),G=$.start}G>0&&l._copy(ee,0,B,0,G),k={resultId:k.resultId,data:B}}}if((0,L.Vl)(k)){this._currentDocumentResponse=new D(A,k.resultId,k.data);const U=(0,E.h)(k,R,this._model.getLanguageId());if(O.length>0)for(const ee of O)for(const B of U)for(const G of ee.changes)B.applyEdit(G.range,G.text);this._model.tokenization.setSemanticTokens(U,!0)}else this._model.tokenization.setSemanticTokens(null,!0);z()}else this._model.tokenization.setSemanticTokens(null,!1)}};w.REQUEST_MIN_DELAY=300,w.REQUEST_MAX_DELAY=2e3,w=l=a([m(1,g.s),m(2,T.XE),m(3,p.A),m(4,u.p)],w);class D{constructor(A,k,R){this.provider=A,this.resultId=k,this.data=R}dispose(){this.provider.releaseDocumentSemanticTokens(this.resultId)}}(0,i.y)(I)},77351:(Xe,we,e)=>{var f=e(85328),P=e(78694),r=e(8256),y=e(44542),v=e(53606),S=e(73784),T=e(47358),E=e(23527),L=e(31663),p=e(11664),c=e(55763),u=e(26056),i=function(a,m){return function(l,I){m(l,I,a)}};let d=class extends P.JT{constructor(m,l,I,w,D,N){super(),this._semanticTokensStylingService=l,this._themeService=I,this._configurationService=w,this._editor=m,this._provider=N.documentRangeSemanticTokensProvider,this._debounceInformation=D.for(this._provider,"DocumentRangeSemanticTokens",{min:100,max:500}),this._tokenizeViewport=this._register(new f.pY(()=>this._tokenizeViewportNow(),100)),this._outstandingRequests=[];const A=()=>{this._editor.hasModel()&&this._tokenizeViewport.schedule(this._debounceInformation.get(this._editor.getModel()))};this._register(this._editor.onDidScrollChange(()=>{A()})),this._register(this._editor.onDidChangeModel(()=>{this._cancelAll(),A()})),this._register(this._editor.onDidChangeModelContent(k=>{this._cancelAll(),A()})),this._register(this._provider.onDidChange(()=>{this._cancelAll(),A()})),this._register(this._configurationService.onDidChangeConfiguration(k=>{k.affectsConfiguration(v.e)&&(this._cancelAll(),A())})),this._register(this._themeService.onDidColorThemeChange(()=>{this._cancelAll(),A()})),A()}_cancelAll(){for(const m of this._outstandingRequests)m.cancel();this._outstandingRequests=[]}_removeOutstandingRequest(m){for(let l=0,I=this._outstandingRequests.length;l<I;l++)if(this._outstandingRequests[l]===m)return void this._outstandingRequests.splice(l,1)}_tokenizeViewportNow(){if(!this._editor.hasModel())return;const m=this._editor.getModel();if(m.tokenization.hasCompleteSemanticTokens())return;if(!(0,v.t)(m,this._themeService,this._configurationService))return void(m.tokenization.hasSomeSemanticTokens()&&m.tokenization.setSemanticTokens(null,!1));if(!(0,y.KO)(this._provider,m))return void(m.tokenization.hasSomeSemanticTokens()&&m.tokenization.setSemanticTokens(null,!1));const l=this._editor.getVisibleRangesPlusViewportAboveBelow();this._outstandingRequests=this._outstandingRequests.concat(l.map(I=>this._requestRange(m,I)))}_requestRange(m,l){const I=m.getVersionId(),w=(0,f.PG)(N=>Promise.resolve((0,y.OG)(this._provider,m,l,N))),D=new p.G(!1);return w.then(N=>{if(this._debounceInformation.update(m,D.elapsed()),!N||!N.tokens||m.isDisposed()||m.getVersionId()!==I)return;const{provider:A,tokens:k}=N,R=this._semanticTokensStylingService.getStyling(A);m.tokenization.setPartialSemanticTokens(l,(0,S.h)(k,R,m.getLanguageId()))}).then(()=>this._removeOutstandingRequest(w),()=>this._removeOutstandingRequest(w)),w}};d.ID="editor.contrib.viewportSemanticTokens",d=function(a,m,l,I){var N,w=arguments.length,D=w<3?m:null===I?I=Object.getOwnPropertyDescriptor(m,l):I;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)D=Reflect.decorate(a,m,l,I);else for(var A=a.length-1;A>=0;A--)(N=a[A])&&(D=(w<3?N(D):w>3?N(m,l,D):N(m,l))||D);return w>3&&D&&Object.defineProperty(m,l,D),D}([i(1,u.s),i(2,E.XE),i(3,T.Ui),i(4,L.A),i(5,c.p)],d),(0,r._K)(d.ID,d,1)},44542:(Xe,we,e)=>{e.d(we,{OG:()=>O,ML:()=>D,KO:()=>k,Jc:()=>I,Vl:()=>a,Vj:()=>m});var f=e(87618),P=e(17967),r=e(15850),y=e(41204),v=e(11813),S=e(91402),T=e(58204),E=e(88593);function c(W){const z=new Uint32Array(function u(W){let z=0;if(z+=2,"full"===W.type)z+=1+W.data.length;else{z+=1,z+=3*W.deltas.length;for(const U of W.deltas)U.data&&(z+=U.data.length)}return z}(W));let U=0;if(z[U++]=W.id,"full"===W.type)z[U++]=1,z[U++]=W.data.length,z.set(W.data,U),U+=W.data.length;else{z[U++]=2,z[U++]=W.deltas.length;for(const ee of W.deltas)z[U++]=ee.start,z[U++]=ee.deleteCount,ee.data?(z[U++]=ee.data.length,z.set(ee.data,U),U+=ee.data.length):z[U++]=0}return function p(W){const z=new Uint8Array(W.buffer,W.byteOffset,4*W.length);return E.r()||function L(W){for(let z=0,U=W.length;z<U;z+=4){const ee=W[z+0],B=W[z+1],G=W[z+2];W[z+0]=W[z+3],W[z+1]=G,W[z+2]=B,W[z+3]=ee}}(z),T.KN.wrap(z)}(z)}var g=e(96726),i=e(55763),d=function(W,z,U,ee){return new(U||(U=Promise))(function(G,se){function j(J){try{K(ee.next(J))}catch(te){se(te)}}function $(J){try{K(ee.throw(J))}catch(te){se(te)}}function K(J){J.done?G(J.value):function B(G){return G instanceof U?G:new U(function(se){se(G)})}(J.value).then(j,$)}K((ee=ee.apply(W,z||[])).next())})};function a(W){return W&&!!W.data}function m(W){return W&&Array.isArray(W.edits)}class l{constructor(z,U,ee){this.provider=z,this.tokens=U,this.error=ee}}function I(W,z){return W.has(z)}function D(W,z,U,ee,B){return d(this,void 0,void 0,function*(){const G=function w(W,z){const U=W.orderedGroups(z);return U.length>0?U[0]:[]}(W,z),se=yield Promise.all(G.map(j=>d(this,void 0,void 0,function*(){let $,K=null;try{$=yield j.provideDocumentSemanticTokens(z,j===U?ee:null,B)}catch(J){K=J,$=null}return(!$||!a($)&&!m($))&&($=null),new l(j,$,K)})));for(const j of se){if(j.error)throw j.error;if(j.tokens)return j}return se.length>0?se[0]:null})}class A{constructor(z,U){this.provider=z,this.tokens=U}}function k(W,z){return W.has(z)}function R(W,z){const U=W.orderedGroups(z);return U.length>0?U[0]:[]}function O(W,z,U,ee){return d(this,void 0,void 0,function*(){const B=R(W,z),G=yield Promise.all(B.map(se=>d(this,void 0,void 0,function*(){let j;try{j=yield se.provideDocumentRangeSemanticTokens(z,U,ee)}catch($){(0,P.Cp)($),j=null}return(!j||!a(j))&&(j=null),new A(se,j)})));for(const se of G)if(se.tokens)return se;return G.length>0?G[0]:null})}v.P.registerCommand("_provideDocumentSemanticTokensLegend",(W,...z)=>d(void 0,void 0,void 0,function*(){const[U]=z;(0,S.p_)(U instanceof r.o);const ee=W.get(y.q).getModel(U);if(!ee)return;const{documentSemanticTokensProvider:B}=W.get(i.p),G=function N(W,z){const U=W.orderedGroups(z);return U.length>0?U[0]:null}(B,ee);return G?G[0].getLegend():W.get(v.H).executeCommand("_provideDocumentRangeSemanticTokensLegend",U)})),v.P.registerCommand("_provideDocumentSemanticTokens",(W,...z)=>d(void 0,void 0,void 0,function*(){const[U]=z;(0,S.p_)(U instanceof r.o);const ee=W.get(y.q).getModel(U);if(!ee)return;const{documentSemanticTokensProvider:B}=W.get(i.p);if(!I(B,ee))return W.get(v.H).executeCommand("_provideDocumentRangeSemanticTokens",U,ee.getFullModelRange());const G=yield D(B,ee,null,null,f.T.None);if(!G)return;const{provider:se,tokens:j}=G;if(!j||!a(j))return;const $=c({id:0,type:"full",data:j.data});return j.resultId&&se.releaseDocumentSemanticTokens(j.resultId),$})),v.P.registerCommand("_provideDocumentRangeSemanticTokensLegend",(W,...z)=>d(void 0,void 0,void 0,function*(){const[U,ee]=z;(0,S.p_)(U instanceof r.o);const B=W.get(y.q).getModel(U);if(!B)return;const{documentRangeSemanticTokensProvider:G}=W.get(i.p),se=R(G,B);if(0===se.length)return;if(1===se.length)return se[0].getLegend();if(!ee||!g.e.isIRange(ee))return console.warn("provideDocumentRangeSemanticTokensLegend might be out-of-sync with provideDocumentRangeSemanticTokens unless a range argument is passed in"),se[0].getLegend();const j=yield O(G,B,g.e.lift(ee),f.T.None);return j?j.provider.getLegend():void 0})),v.P.registerCommand("_provideDocumentRangeSemanticTokens",(W,...z)=>d(void 0,void 0,void 0,function*(){const[U,ee]=z;(0,S.p_)(U instanceof r.o),(0,S.p_)(g.e.isIRange(ee));const B=W.get(y.q).getModel(U);if(!B)return;const{documentRangeSemanticTokensProvider:G}=W.get(i.p),se=yield O(G,B,g.e.lift(ee),f.T.None);return se&&se.tokens?c({id:0,type:"full",data:se.tokens.data}):void 0}))},53606:(Xe,we,e)=>{e.d(we,{e:()=>f,t:()=>P});const f="editor.semanticHighlighting";function P(r,y,v){var S;const T=null===(S=v.getValue(f,{overrideIdentifier:r.getLanguageId(),resource:r.uri}))||void 0===S?void 0:S.enabled;return"boolean"==typeof T?T:y.getColorTheme().semanticHighlighting}},65812:(Xe,we,e)=>{e.d(we,{x:()=>v});var f=e(86211),P=e(68678),r=e(96726);let v=(()=>{class S{provideSelectionRanges(E,L){return function(S,T,E,L){return new(E||(E=Promise))(function(c,u){function g(a){try{d(L.next(a))}catch(m){u(m)}}function i(a){try{d(L.throw(a))}catch(m){u(m)}}function d(a){a.done?c(a.value):function p(c){return c instanceof E?c:new E(function(u){u(c)})}(a.value).then(g,i)}d((L=L.apply(S,T||[])).next())})}(this,void 0,void 0,function*(){const p=[];for(const c of L){const u=[];p.push(u);const g=new Map;yield new Promise(i=>S._bracketsRightYield(i,0,E,c,g)),yield new Promise(i=>S._bracketsLeftYield(i,0,E,c,g,u))}return p})}static _bracketsRightYield(E,L,p,c,u){const g=new Map,i=Date.now();for(;;){if(L>=S._maxRounds){E();break}if(!c){E();break}const d=p.bracketPairs.findNextBracket(c);if(!d){E();break}if(Date.now()-i>S._maxDuration){setTimeout(()=>S._bracketsRightYield(E,L+1,p,c,u));break}if(d.bracketInfo.isOpeningBracket){const m=d.bracketInfo.bracketText,l=g.has(m)?g.get(m):0;g.set(m,l+1)}else{const m=d.bracketInfo.getOpeningBrackets()[0].bracketText;let l=g.has(m)?g.get(m):0;if(l-=1,g.set(m,Math.max(0,l)),l<0){let I=u.get(m);I||(I=new f.S,u.set(m,I)),I.push(d.range)}}c=d.range.getEndPosition()}}static _bracketsLeftYield(E,L,p,c,u,g){const i=new Map,d=Date.now();for(;;){if(L>=S._maxRounds&&0===u.size){E();break}if(!c){E();break}const a=p.bracketPairs.findPrevBracket(c);if(!a){E();break}if(Date.now()-d>S._maxDuration){setTimeout(()=>S._bracketsLeftYield(E,L+1,p,c,u,g));break}if(a.bracketInfo.isOpeningBracket){const l=a.bracketInfo.bracketText;let I=i.has(l)?i.get(l):0;if(I-=1,i.set(l,Math.max(0,I)),I<0){const w=u.get(l);if(w){const D=w.shift();0===w.size&&u.delete(l);const N=r.e.fromPositions(a.range.getEndPosition(),D.getStartPosition()),A=r.e.fromPositions(a.range.getStartPosition(),D.getEndPosition());g.push({range:N}),g.push({range:A}),S._addBracketLeading(p,A,g)}}}else{const l=a.bracketInfo.getOpeningBrackets()[0].bracketText,I=i.has(l)?i.get(l):0;i.set(l,I+1)}c=a.range.getStartPosition()}}static _addBracketLeading(E,L,p){if(L.startLineNumber===L.endLineNumber)return;const c=L.startLineNumber,u=E.getLineFirstNonWhitespaceColumn(c);0!==u&&u!==L.startColumn&&(p.push({range:r.e.fromPositions(new P.L(c,u),L.getEndPosition())}),p.push({range:r.e.fromPositions(new P.L(c,1),L.getEndPosition())}));const g=c-1;if(g>0){const i=E.getLineFirstNonWhitespaceColumn(g);i===L.startColumn&&i!==E.getLineLastNonWhitespaceColumn(g)&&(p.push({range:r.e.fromPositions(new P.L(g,i),L.getEndPosition())}),p.push({range:r.e.fromPositions(new P.L(g,1),L.getEndPosition())}))}}}return S._maxDuration=30,S._maxRounds=2,S})()},7411:(Xe,we,e)=>{var f=e(31738),P=e(87618),r=e(17967),y=e(8256),v=e(68678),S=e(96726),T=e(81534),E=e(15446),L=e(65812),p=e(16055);class c{constructor(ee=!0){this.selectSubwords=ee}provideSelectionRanges(ee,B){const G=[];for(const se of B){const j=[];G.push(j),this.selectSubwords&&this._addInWordRanges(j,ee,se),this._addWordRanges(j,ee,se),this._addWhitespaceLine(j,ee,se),j.push({range:ee.getFullModelRange()})}return G}_addInWordRanges(ee,B,G){const se=B.getWordAtPosition(G);if(!se)return;const{word:j,startColumn:$}=se,K=G.column-$;let J=K,te=K,ne=0;for(;J>=0;J--){const _=j.charCodeAt(J);if(J!==K&&(95===_||45===_))break;if((0,p.mK)(_)&&(0,p.df)(ne))break;ne=_}for(J+=1;te<j.length;te++){const _=j.charCodeAt(te);if((0,p.df)(_)&&(0,p.mK)(ne))break;if(95===_||45===_)break;ne=_}J<te&&ee.push({range:new S.e(G.lineNumber,$+J,G.lineNumber,$+te)})}_addWordRanges(ee,B,G){const se=B.getWordAtPosition(G);se&&ee.push({range:new S.e(G.lineNumber,se.startColumn,G.lineNumber,se.endColumn)})}_addWhitespaceLine(ee,B,G){B.getLineLength(G.lineNumber)>0&&0===B.getLineFirstNonWhitespaceColumn(G.lineNumber)&&0===B.getLineLastNonWhitespaceColumn(G.lineNumber)&&ee.push({range:new S.e(G.lineNumber,1,G.lineNumber,B.getLineMaxColumn(G.lineNumber))})}}var N,u=e(37190),g=e(63032),i=e(11813),d=e(55763),a=e(56230),m=e(91402),l=e(15850),D=function(U,ee,B,G){return new(B||(B=Promise))(function(j,$){function K(ne){try{te(G.next(ne))}catch(_){$(_)}}function J(ne){try{te(G.throw(ne))}catch(_){$(_)}}function te(ne){ne.done?j(ne.value):function se(j){return j instanceof B?j:new B(function($){$(j)})}(ne.value).then(K,J)}te((G=G.apply(U,ee||[])).next())})};class A{constructor(ee,B){this.index=ee,this.ranges=B}mov(ee){const B=this.index+(ee?1:-1);if(B<0||B>=this.ranges.length)return this;const G=new A(B,this.ranges);return G.ranges[B].equalsRange(this.ranges[this.index])?G.mov(ee):G}}let k=N=class{static get(ee){return ee.getContribution(N.ID)}constructor(ee,B){this._editor=ee,this._languageFeaturesService=B,this._ignoreSelection=!1}dispose(){var ee;null===(ee=this._selectionListener)||void 0===ee||ee.dispose()}run(ee){return D(this,void 0,void 0,function*(){if(!this._editor.hasModel())return;const B=this._editor.getSelections(),G=this._editor.getModel();if(this._state||(yield z(this._languageFeaturesService.selectionRangeProvider,G,B.map(j=>j.getPosition()),this._editor.getOption(111),P.T.None).then(j=>{var $;if(f.Of(j)&&j.length===B.length&&this._editor.hasModel()&&f.fS(this._editor.getSelections(),B,(K,J)=>K.equalsSelection(J))){for(let K=0;K<j.length;K++)j[K]=j[K].filter(J=>J.containsPosition(B[K].getStartPosition())&&J.containsPosition(B[K].getEndPosition())),j[K].unshift(B[K]);this._state=j.map(K=>new A(0,K)),null===($=this._selectionListener)||void 0===$||$.dispose(),this._selectionListener=this._editor.onDidChangeCursorPosition(()=>{var K;this._ignoreSelection||(null===(K=this._selectionListener)||void 0===K||K.dispose(),this._state=void 0)})}})),!this._state)return;this._state=this._state.map(j=>j.mov(ee));const se=this._state.map(j=>T.Y.fromPositions(j.ranges[j.index].getStartPosition(),j.ranges[j.index].getEndPosition()));this._ignoreSelection=!0;try{this._editor.setSelections(se)}finally{this._ignoreSelection=!1}})}};var ee;k.ID="editor.contrib.smartSelectController",k=N=function(U,ee,B,G){var $,se=arguments.length,j=se<3?ee:null===G?G=Object.getOwnPropertyDescriptor(ee,B):G;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)j=Reflect.decorate(U,ee,B,G);else for(var K=U.length-1;K>=0;K--)($=U[K])&&(j=(se<3?$(j):se>3?$(ee,B,j):$(ee,B))||j);return se>3&&j&&Object.defineProperty(ee,B,j),j}([(1,ee=d.p,function(B,G){ee(B,G,1)})],k);class R extends y.R6{constructor(ee,B){super(B),this._forward=ee}run(ee,B){return D(this,void 0,void 0,function*(){const G=k.get(B);G&&(yield G.run(this._forward))})}}function z(U,ee,B,G,se){return D(this,void 0,void 0,function*(){const j=U.all(ee).concat(new c(G.selectSubwords));1===j.length&&j.unshift(new L.x);const $=[],K=[];for(const J of j)$.push(Promise.resolve(J.provideSelectionRanges(ee,B,se)).then(te=>{if(f.Of(te)&&te.length===B.length)for(let ne=0;ne<B.length;ne++){K[ne]||(K[ne]=[]);for(const _ of te[ne])S.e.isIRange(_.range)&&S.e.containsPosition(_.range,B[ne])&&K[ne].push(S.e.lift(_.range))}},r.Cp));return yield Promise.all($),K.map(J=>{if(0===J.length)return[];J.sort((ae,ge)=>v.L.isBefore(ae.getStartPosition(),ge.getStartPosition())?1:v.L.isBefore(ge.getStartPosition(),ae.getStartPosition())||v.L.isBefore(ae.getEndPosition(),ge.getEndPosition())?-1:v.L.isBefore(ge.getEndPosition(),ae.getEndPosition())?1:0);const te=[];let ne;for(const ae of J)(!ne||S.e.containsRange(ae,ne)&&!S.e.equalsRange(ae,ne))&&(te.push(ae),ne=ae);if(!G.selectLeadingAndTrailingWhitespace)return te;const _=[te[0]];for(let ae=1;ae<te.length;ae++){const ge=te[ae-1],_e=te[ae];if(_e.startLineNumber!==ge.startLineNumber||_e.endLineNumber!==ge.endLineNumber){const ue=new S.e(ge.startLineNumber,ee.getLineFirstNonWhitespaceColumn(ge.startLineNumber),ge.endLineNumber,ee.getLineLastNonWhitespaceColumn(ge.endLineNumber));ue.containsRange(ge)&&!ue.equalsRange(ge)&&_e.containsRange(ue)&&!_e.equalsRange(ue)&&_.push(ue);const ve=new S.e(ge.startLineNumber,1,ge.endLineNumber,ee.getLineMaxColumn(ge.endLineNumber));ve.containsRange(ge)&&!ve.equalsRange(ue)&&_e.containsRange(ve)&&!_e.equalsRange(ve)&&_.push(ve)}_.push(_e)}return _})})}i.P.registerCommandAlias("editor.action.smartSelect.grow","editor.action.smartSelect.expand"),(0,y._K)(k.ID,k,4),(0,y.Qr)(class O extends R{constructor(){super(!0,{id:"editor.action.smartSelect.expand",label:u.NC("smartSelect.expand","Expand Selection"),alias:"Expand Selection",precondition:void 0,kbOpts:{kbExpr:E.u.editorTextFocus,primary:1553,mac:{primary:3345,secondary:[1297]},weight:100},menuOpts:{menuId:g.eH.MenubarSelectionMenu,group:"1_basic",title:u.NC({key:"miSmartSelectGrow",comment:["&& denotes a mnemonic"]},"&&Expand Selection"),order:2}})}}),(0,y.Qr)(class W extends R{constructor(){super(!1,{id:"editor.action.smartSelect.shrink",label:u.NC("smartSelect.shrink","Shrink Selection"),alias:"Shrink Selection",precondition:void 0,kbOpts:{kbExpr:E.u.editorTextFocus,primary:1551,mac:{primary:3343,secondary:[1295]},weight:100},menuOpts:{menuId:g.eH.MenubarSelectionMenu,group:"1_basic",title:u.NC({key:"miSmartSelectShrink",comment:["&& denotes a mnemonic"]},"&&Shrink Selection"),order:3}})}}),i.P.registerCommand("_executeSelectionRangeProvider",function(U,...ee){return D(this,void 0,void 0,function*(){const[B,G]=ee;(0,m.p_)(l.o.isUri(B));const se=U.get(d.p).selectionRangeProvider,j=yield U.get(a.S).createModelReference(B);try{return z(se,j.object.textEditorModel,G,{selectLeadingAndTrailingWhitespace:!0,selectSubwords:!0},P.T.None)}finally{j.dispose()}})})},13933:(Xe,we,e)=>{e.d(we,{f:()=>m});var d,f=e(78694),P=e(91402),r=e(8256),y=e(68678),v=e(15446),S=e(58459),T=e(55763),E=e(82090),L=e(37190),p=e(66221),c=e(22468),u=e(87983),i=function(I,w){return function(D,N){w(D,N,I)}};const a={overwriteBefore:0,overwriteAfter:0,undoStopBefore:!0,undoStopAfter:!0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};let m=d=class{static get(w){return w.getContribution(d.ID)}constructor(w,D,N,A,k){this._editor=w,this._logService=D,this._languageFeaturesService=N,this._languageConfigurationService=k,this._snippetListener=new f.SL,this._modelVersionId=-1,this._inSnippet=d.InSnippetMode.bindTo(A),this._hasNextTabstop=d.HasNextTabstop.bindTo(A),this._hasPrevTabstop=d.HasPrevTabstop.bindTo(A)}dispose(){var w;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),null===(w=this._session)||void 0===w||w.dispose(),this._snippetListener.dispose()}insert(w,D){try{this._doInsert(w,typeof D>"u"?a:Object.assign(Object.assign({},a),D))}catch(N){this.cancel(),this._logService.error(N),this._logService.error("snippet_error"),this._logService.error("insert_template=",w),this._logService.error("existing_template=",this._session?this._session._logInfo():"<no_session>")}}_doInsert(w,D){var N;if(this._editor.hasModel()){if(this._snippetListener.clear(),D.undoStopBefore&&this._editor.getModel().pushStackElement(),this._session&&"string"!=typeof w&&this.cancel(),this._session?((0,P.p_)("string"==typeof w),this._session.merge(w,D)):(this._modelVersionId=this._editor.getModel().getAlternativeVersionId(),this._session=new u.l(this._editor,w,D,this._languageConfigurationService),this._session.insert()),D.undoStopAfter&&this._editor.getModel().pushStackElement(),null!==(N=this._session)&&void 0!==N&&N.hasChoice){const A={_debugDisplayName:"snippetChoiceCompletions",provideCompletionItems:(U,ee)=>{if(!this._session||U!==this._editor.getModel()||!y.L.equals(this._editor.getPosition(),ee))return;const{activeChoice:B}=this._session;if(!B||0===B.choice.options.length)return;const G=U.getValueInRange(B.range),se=!!B.choice.options.find($=>$.value===G),j=[];for(let $=0;$<B.choice.options.length;$++){const K=B.choice.options[$];j.push({kind:13,label:K.value,insertText:K.value,sortText:"a".repeat($+1),range:B.range,filterText:se?`${G}_${K.value}`:void 0,command:{id:"jumpToNextSnippetPlaceholder",title:(0,L.NC)("next","Go to next placeholder...")}})}return{suggestions:j}}},k=this._editor.getModel();let R,O=!1;this._choiceCompletions={provider:A,enable:()=>{O||(R=this._languageFeaturesService.completionProvider.register({language:k.getLanguageId(),pattern:k.uri.fsPath,scheme:k.uri.scheme,exclusive:!0},A),this._snippetListener.add(R),O=!0)},disable:()=>{R?.dispose(),O=!1}}}this._updateState(),this._snippetListener.add(this._editor.onDidChangeModelContent(A=>A.isFlush&&this.cancel())),this._snippetListener.add(this._editor.onDidChangeModel(()=>this.cancel())),this._snippetListener.add(this._editor.onDidChangeCursorSelection(()=>this._updateState()))}}_updateState(){if(this._session&&this._editor.hasModel()){if(this._modelVersionId===this._editor.getModel().getAlternativeVersionId())return this.cancel();if(!this._session.hasPlaceholder)return this.cancel();if(this._session.isAtLastPlaceholder||!this._session.isSelectionWithinPlaceholders())return this._editor.getModel().pushStackElement(),this.cancel();this._inSnippet.set(!0),this._hasPrevTabstop.set(!this._session.isAtFirstPlaceholder),this._hasNextTabstop.set(!this._session.isAtLastPlaceholder),this._handleChoice()}}_handleChoice(){var w;if(!this._session||!this._editor.hasModel())return void(this._currentChoice=void 0);const{activeChoice:D}=this._session;if(!D||!this._choiceCompletions)return null===(w=this._choiceCompletions)||void 0===w||w.disable(),void(this._currentChoice=void 0);this._currentChoice!==D.choice&&(this._currentChoice=D.choice,this._choiceCompletions.enable(),queueMicrotask(()=>{(0,E.i5)(this._editor,this._choiceCompletions.provider)}))}finish(){for(;this._inSnippet.get();)this.next()}cancel(w=!1){var D;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),this._snippetListener.clear(),this._currentChoice=void 0,null===(D=this._session)||void 0===D||D.dispose(),this._session=void 0,this._modelVersionId=-1,w&&this._editor.setSelections([this._editor.getSelection()])}prev(){var w;null===(w=this._session)||void 0===w||w.prev(),this._updateState()}next(){var w;null===(w=this._session)||void 0===w||w.next(),this._updateState()}isInSnippet(){return!!this._inSnippet.get()}};m.ID="snippetController2",m.InSnippetMode=new p.uy("inSnippetMode",!1,(0,L.NC)("inSnippetMode","Whether the editor in current in snippet mode")),m.HasNextTabstop=new p.uy("hasNextTabstop",!1,(0,L.NC)("hasNextTabstop","Whether there is a next tab stop when in snippet mode")),m.HasPrevTabstop=new p.uy("hasPrevTabstop",!1,(0,L.NC)("hasPrevTabstop","Whether there is a previous tab stop when in snippet mode")),m=d=function(I,w,D,N){var R,A=arguments.length,k=A<3?w:null===N?N=Object.getOwnPropertyDescriptor(w,D):N;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)k=Reflect.decorate(I,w,D,N);else for(var O=I.length-1;O>=0;O--)(R=I[O])&&(k=(A<3?R(k):A>3?R(w,D,k):R(w,D))||k);return A>3&&k&&Object.defineProperty(w,D,k),k}([i(1,c.VZ),i(2,T.p),i(3,p.i6),i(4,S.c_)],m),(0,r._K)(m.ID,m,4);const l=r._l.bindToContribution(m.get);(0,r.fK)(new l({id:"jumpToNextSnippetPlaceholder",precondition:p.Ao.and(m.InSnippetMode,m.HasNextTabstop),handler:I=>I.next(),kbOpts:{weight:130,kbExpr:v.u.editorTextFocus,primary:2}})),(0,r.fK)(new l({id:"jumpToPrevSnippetPlaceholder",precondition:p.Ao.and(m.InSnippetMode,m.HasPrevTabstop),handler:I=>I.prev(),kbOpts:{weight:130,kbExpr:v.u.editorTextFocus,primary:1026}})),(0,r.fK)(new l({id:"leaveSnippet",precondition:m.InSnippetMode,handler:I=>I.cancel(!0),kbOpts:{weight:130,kbExpr:v.u.editorTextFocus,primary:9,secondary:[1033]}})),(0,r.fK)(new l({id:"acceptSnippet",precondition:m.InSnippetMode,handler:I=>I.finish()}))},36791:(Xe,we,e)=>{e.d(we,{Lv:()=>S,Vm:()=>v,Yj:()=>u,xv:()=>r,y1:()=>c});let f=(()=>{class g{constructor(){this.value="",this.pos=0}static isDigitCharacter(d){return d>=48&&d<=57}static isVariableCharacter(d){return 95===d||d>=97&&d<=122||d>=65&&d<=90}text(d){this.value=d,this.pos=0}tokenText(d){return this.value.substr(d.pos,d.len)}next(){if(this.pos>=this.value.length)return{type:14,pos:this.pos,len:0};const d=this.pos;let l,a=0,m=this.value.charCodeAt(d);if(l=g._table[m],"number"==typeof l)return this.pos+=1,{type:l,pos:d,len:1};if(g.isDigitCharacter(m)){l=8;do{a+=1,m=this.value.charCodeAt(d+a)}while(g.isDigitCharacter(m));return this.pos+=a,{type:l,pos:d,len:a}}if(g.isVariableCharacter(m)){l=9;do{m=this.value.charCodeAt(d+ ++a)}while(g.isVariableCharacter(m)||g.isDigitCharacter(m));return this.pos+=a,{type:l,pos:d,len:a}}l=10;do{a+=1,m=this.value.charCodeAt(d+a)}while(!isNaN(m)&&typeof g._table[m]>"u"&&!g.isDigitCharacter(m)&&!g.isVariableCharacter(m));return this.pos+=a,{type:l,pos:d,len:a}}}return g._table={36:0,58:1,44:2,123:3,125:4,92:5,47:6,124:7,43:11,45:12,63:13},g})();class P{constructor(){this._children=[]}appendChild(i){return i instanceof r&&this._children[this._children.length-1]instanceof r?this._children[this._children.length-1].value+=i.value:(i.parent=this,this._children.push(i)),this}replace(i,d){const{parent:a}=i,m=a.children.indexOf(i),l=a.children.slice(0);l.splice(m,1,...d),a._children=l,function I(w,D){for(const N of w)N.parent=D,I(N.children,N)}(d,a)}get children(){return this._children}get rightMostDescendant(){return this._children.length>0?this._children[this._children.length-1].rightMostDescendant:this}get snippet(){let i=this;for(;;){if(!i)return;if(i instanceof c)return i;i=i.parent}}toString(){return this.children.reduce((i,d)=>i+d.toString(),"")}len(){return 0}}class r extends P{constructor(i){super(),this.value=i}toString(){return this.value}len(){return this.value.length}clone(){return new r(this.value)}}class y extends P{}class v extends y{static compareByIndex(i,d){return i.index===d.index?0:i.isFinalTabstop?1:d.isFinalTabstop||i.index<d.index?-1:i.index>d.index?1:0}constructor(i){super(),this.index=i}get isFinalTabstop(){return 0===this.index}get choice(){return 1===this._children.length&&this._children[0]instanceof S?this._children[0]:void 0}clone(){const i=new v(this.index);return this.transform&&(i.transform=this.transform.clone()),i._children=this.children.map(d=>d.clone()),i}}class S extends P{constructor(){super(...arguments),this.options=[]}appendChild(i){return i instanceof r&&(i.parent=this,this.options.push(i)),this}toString(){return this.options[0].value}len(){return this.options[0].len()}clone(){const i=new S;return this.options.forEach(i.appendChild,i),i}}class T extends P{constructor(){super(...arguments),this.regexp=new RegExp("")}resolve(i){const d=this;let a=!1,m=i.replace(this.regexp,function(){return a=!0,d._replace(Array.prototype.slice.call(arguments,0,-2))});return!a&&this._children.some(l=>l instanceof E&&!!l.elseValue)&&(m=this._replace([])),m}_replace(i){let d="";for(const a of this._children)if(a instanceof E){let m=i[a.index]||"";m=a.resolve(m),d+=m}else d+=a.toString();return d}toString(){return""}clone(){const i=new T;return i.regexp=new RegExp(this.regexp.source,(this.regexp.ignoreCase?"i":"")+(this.regexp.global?"g":"")),i._children=this.children.map(d=>d.clone()),i}}class E extends P{constructor(i,d,a,m){super(),this.index=i,this.shorthandName=d,this.ifValue=a,this.elseValue=m}resolve(i){return"upcase"===this.shorthandName?i?i.toLocaleUpperCase():"":"downcase"===this.shorthandName?i?i.toLocaleLowerCase():"":"capitalize"===this.shorthandName?i?i[0].toLocaleUpperCase()+i.substr(1):"":"pascalcase"===this.shorthandName?i?this._toPascalCase(i):"":"camelcase"===this.shorthandName?i?this._toCamelCase(i):"":i&&"string"==typeof this.ifValue?this.ifValue:i||"string"!=typeof this.elseValue?i||"":this.elseValue}_toPascalCase(i){const d=i.match(/[a-z0-9]+/gi);return d?d.map(a=>a.charAt(0).toUpperCase()+a.substr(1)).join(""):i}_toCamelCase(i){const d=i.match(/[a-z0-9]+/gi);return d?d.map((a,m)=>0===m?a.charAt(0).toLowerCase()+a.substr(1):a.charAt(0).toUpperCase()+a.substr(1)).join(""):i}clone(){return new E(this.index,this.shorthandName,this.ifValue,this.elseValue)}}class L extends y{constructor(i){super(),this.name=i}resolve(i){let d=i.resolve(this);return this.transform&&(d=this.transform.resolve(d||"")),void 0!==d&&(this._children=[new r(d)],!0)}clone(){const i=new L(this.name);return this.transform&&(i.transform=this.transform.clone()),i._children=this.children.map(d=>d.clone()),i}}function p(g,i){const d=[...g];for(;d.length>0;){const a=d.shift();if(!i(a))break;d.unshift(...a.children)}}class c extends P{get placeholderInfo(){if(!this._placeholders){const i=[];let d;this.walk(function(a){return a instanceof v&&(i.push(a),d=!d||d.index<a.index?a:d),!0}),this._placeholders={all:i,last:d}}return this._placeholders}get placeholders(){const{all:i}=this.placeholderInfo;return i}offset(i){let d=0,a=!1;return this.walk(m=>m===i?(a=!0,!1):(d+=m.len(),!0)),a?d:-1}fullLen(i){let d=0;return p([i],a=>(d+=a.len(),!0)),d}enclosingPlaceholders(i){const d=[];let{parent:a}=i;for(;a;)a instanceof v&&d.push(a),a=a.parent;return d}resolveVariables(i){return this.walk(d=>(d instanceof L&&d.resolve(i)&&(this._placeholders=void 0),!0)),this}appendChild(i){return this._placeholders=void 0,super.appendChild(i)}replace(i,d){return this._placeholders=void 0,super.replace(i,d)}clone(){const i=new c;return this._children=this.children.map(d=>d.clone()),i}walk(i){p(this.children,i)}}class u{constructor(){this._scanner=new f,this._token={type:14,pos:0,len:0}}static escape(i){return i.replace(/\$|}|\\/g,"\\$&")}static guessNeedsClipboard(i){return/\${?CLIPBOARD/.test(i)}parse(i,d,a){const m=new c;return this.parseFragment(i,m),this.ensureFinalTabstop(m,a??!1,d??!1),m}parseFragment(i,d){const a=d.children.length;for(this._scanner.text(i),this._token=this._scanner.next();this._parse(d););const m=new Map,l=[];d.walk(D=>(D instanceof v&&(D.isFinalTabstop?m.set(0,void 0):!m.has(D.index)&&D.children.length>0?m.set(D.index,D.children):l.push(D)),!0));const I=(D,N)=>{const A=m.get(D.index);if(!A)return;const k=new v(D.index);k.transform=D.transform;for(const R of A){const O=R.clone();k.appendChild(O),O instanceof v&&m.has(O.index)&&!N.has(O.index)&&(N.add(O.index),I(O,N),N.delete(O.index))}d.replace(D,[k])},w=new Set;for(const D of l)I(D,w);return d.children.slice(a)}ensureFinalTabstop(i,d,a){(d||a&&i.placeholders.length>0)&&(i.placeholders.find(l=>0===l.index)||i.appendChild(new v(0)))}_accept(i,d){if(void 0===i||this._token.type===i){const a=!d||this._scanner.tokenText(this._token);return this._token=this._scanner.next(),a}return!1}_backTo(i){return this._scanner.pos=i.pos+i.len,this._token=i,!1}_until(i){const d=this._token;for(;this._token.type!==i;){if(14===this._token.type)return!1;if(5===this._token.type){const m=this._scanner.next();if(0!==m.type&&4!==m.type&&5!==m.type)return!1}this._token=this._scanner.next()}const a=this._scanner.value.substring(d.pos,this._token.pos).replace(/\\(\$|}|\\)/g,"$1");return this._token=this._scanner.next(),a}_parse(i){return this._parseEscaped(i)||this._parseTabstopOrVariableName(i)||this._parseComplexPlaceholder(i)||this._parseComplexVariable(i)||this._parseAnything(i)}_parseEscaped(i){let d;return!!(d=this._accept(5,!0))&&(d=this._accept(0,!0)||this._accept(4,!0)||this._accept(5,!0)||d,i.appendChild(new r(d)),!0)}_parseTabstopOrVariableName(i){let d;const a=this._token;return this._accept(0)&&(d=this._accept(9,!0)||this._accept(8,!0))?(i.appendChild(/^\d+$/.test(d)?new v(Number(d)):new L(d)),!0):this._backTo(a)}_parseComplexPlaceholder(i){let d;const a=this._token;if(!(this._accept(0)&&this._accept(3)&&(d=this._accept(8,!0))))return this._backTo(a);const l=new v(Number(d));if(this._accept(1))for(;;){if(this._accept(4))return i.appendChild(l),!0;if(!this._parse(l))return i.appendChild(new r("${"+d+":")),l.children.forEach(i.appendChild,i),!0}else{if(!(l.index>0&&this._accept(7)))return this._accept(6)?this._parseTransform(l)?(i.appendChild(l),!0):(this._backTo(a),!1):this._accept(4)?(i.appendChild(l),!0):this._backTo(a);{const I=new S;for(;;){if(this._parseChoiceElement(I)){if(this._accept(2))continue;if(this._accept(7)&&(l.appendChild(I),this._accept(4)))return i.appendChild(l),!0}return this._backTo(a),!1}}}}_parseChoiceElement(i){const d=this._token,a=[];for(;2!==this._token.type&&7!==this._token.type;){let m;if(m=(m=this._accept(5,!0))?this._accept(2,!0)||this._accept(7,!0)||this._accept(5,!0)||m:this._accept(void 0,!0),!m)return this._backTo(d),!1;a.push(m)}return 0===a.length?(this._backTo(d),!1):(i.appendChild(new r(a.join(""))),!0)}_parseComplexVariable(i){let d;const a=this._token;if(!(this._accept(0)&&this._accept(3)&&(d=this._accept(9,!0))))return this._backTo(a);const l=new L(d);if(!this._accept(1))return this._accept(6)?this._parseTransform(l)?(i.appendChild(l),!0):(this._backTo(a),!1):this._accept(4)?(i.appendChild(l),!0):this._backTo(a);for(;;){if(this._accept(4))return i.appendChild(l),!0;if(!this._parse(l))return i.appendChild(new r("${"+d+":")),l.children.forEach(i.appendChild,i),!0}}_parseTransform(i){const d=new T;let a="",m="";for(;!this._accept(6);){let l;if(l=this._accept(5,!0))l=this._accept(6,!0)||l,a+=l;else{if(14===this._token.type)return!1;a+=this._accept(void 0,!0)}}for(;!this._accept(6);){let l;if(l=this._accept(5,!0))l=this._accept(5,!0)||this._accept(6,!0)||l,d.appendChild(new r(l));else if(!this._parseFormatString(d)&&!this._parseAnything(d))return!1}for(;!this._accept(4);){if(14===this._token.type)return!1;m+=this._accept(void 0,!0)}try{d.regexp=new RegExp(a,m)}catch{return!1}return i.transform=d,!0}_parseFormatString(i){const d=this._token;if(!this._accept(0))return!1;let a=!1;this._accept(3)&&(a=!0);const m=this._accept(8,!0);if(!m)return this._backTo(d),!1;if(!a)return i.appendChild(new E(Number(m))),!0;if(this._accept(4))return i.appendChild(new E(Number(m))),!0;if(!this._accept(1))return this._backTo(d),!1;if(this._accept(6)){const l=this._accept(9,!0);return l&&this._accept(4)?(i.appendChild(new E(Number(m),l)),!0):(this._backTo(d),!1)}if(this._accept(11)){const l=this._until(4);if(l)return i.appendChild(new E(Number(m),void 0,l,void 0)),!0}else if(this._accept(12)){const l=this._until(4);if(l)return i.appendChild(new E(Number(m),void 0,void 0,l)),!0}else if(this._accept(13)){const l=this._until(1);if(l){const I=this._until(4);if(I)return i.appendChild(new E(Number(m),void 0,l,I)),!0}}else{const l=this._until(4);if(l)return i.appendChild(new E(Number(m),void 0,void 0,l)),!0}return this._backTo(d),!1}_parseAnything(i){return 14!==this._token.type&&(i.appendChild(new r(this._scanner.tokenText(this._token))),this._accept(void 0),!0)}}},87983:(Xe,we,e)=>{e.d(we,{l:()=>Y});var f=e(31738),P=e(78694),r=e(16055),y=e(93379),v=e.n(y),S=e(7795),T=e.n(S),E=e(90569),L=e.n(E),p=e(3565),c=e.n(p),u=e(19216),g=e.n(u),i=e(44589),d=e.n(i),a=e(15756),m={};m.styleTagTransform=d(),m.setAttributes=c(),m.insert=L().bind(null,"head"),m.domAPI=T(),m.insertStyleElement=g(),v()(a.Z,m);var w=e(20158),D=e(96726),N=e(81534),A=e(58459),k=e(54267),R=e(89165),O=e(45615),W=e(36791),z=e(20226),U=e(88593);function ee(x,F=U.ED){return(0,z.oP)(x,F)?x.charAt(0).toUpperCase()+x.slice(1):x}var G=e(52356),se=e(9001),j=e(58778),$=e(37190);Object.freeze({CURRENT_YEAR:!0,CURRENT_YEAR_SHORT:!0,CURRENT_MONTH:!0,CURRENT_DATE:!0,CURRENT_HOUR:!0,CURRENT_MINUTE:!0,CURRENT_SECOND:!0,CURRENT_DAY_NAME:!0,CURRENT_DAY_NAME_SHORT:!0,CURRENT_MONTH_NAME:!0,CURRENT_MONTH_NAME_SHORT:!0,CURRENT_SECONDS_UNIX:!0,CURRENT_TIMEZONE_OFFSET:!0,SELECTION:!0,CLIPBOARD:!0,TM_SELECTED_TEXT:!0,TM_CURRENT_LINE:!0,TM_CURRENT_WORD:!0,TM_LINE_INDEX:!0,TM_LINE_NUMBER:!0,TM_FILENAME:!0,TM_FILENAME_BASE:!0,TM_DIRECTORY:!0,TM_FILEPATH:!0,CURSOR_INDEX:!0,CURSOR_NUMBER:!0,RELATIVE_FILEPATH:!0,BLOCK_COMMENT_START:!0,BLOCK_COMMENT_END:!0,LINE_COMMENT:!0,WORKSPACE_NAME:!0,WORKSPACE_FOLDER:!0,RANDOM:!0,RANDOM_HEX:!0,UUID:!0});class ne{constructor(F){this._delegates=F}resolve(F){for(const ie of this._delegates){const Ce=ie.resolve(F);if(void 0!==Ce)return Ce}}}class _{constructor(F,ie,Ce,ke){this._model=F,this._selection=ie,this._selectionIdx=Ce,this._overtypingCapturer=ke}resolve(F){const{name:ie}=F;if("SELECTION"===ie||"TM_SELECTED_TEXT"===ie){let Ce=this._model.getValueInRange(this._selection)||void 0,ke=this._selection.startLineNumber!==this._selection.endLineNumber;if(!Ce&&this._overtypingCapturer){const Pe=this._overtypingCapturer.getLastOvertypedInfo(this._selectionIdx);Pe&&(Ce=Pe.value,ke=Pe.multiline)}if(Ce&&ke&&F.snippet){const Pe=this._model.getLineContent(this._selection.startLineNumber),xe=(0,r.V8)(Pe,0,this._selection.startColumn-1);let fe=xe;F.snippet.walk(pe=>pe!==F&&(pe instanceof W.xv&&(fe=(0,r.V8)((0,r.uq)(pe.value).pop())),!0));const be=(0,r.Mh)(fe,xe);Ce=Ce.replace(/(\r\n|\r|\n)(.*)/g,(pe,Q,le)=>`${Q}${fe.substr(be)}${le}`)}return Ce}if("TM_CURRENT_LINE"===ie)return this._model.getLineContent(this._selection.positionLineNumber);if("TM_CURRENT_WORD"===ie){const Ce=this._model.getWordAtPosition({lineNumber:this._selection.positionLineNumber,column:this._selection.positionColumn});return Ce&&Ce.word||void 0}return"TM_LINE_INDEX"===ie?String(this._selection.positionLineNumber-1):"TM_LINE_NUMBER"===ie?String(this._selection.positionLineNumber):"CURSOR_INDEX"===ie?String(this._selectionIdx):"CURSOR_NUMBER"===ie?String(this._selectionIdx+1):void 0}}class ae{constructor(F,ie){this._labelService=F,this._model=ie}resolve(F){const{name:ie}=F;if("TM_FILENAME"===ie)return G.EZ(this._model.uri.fsPath);if("TM_FILENAME_BASE"===ie){const Ce=G.EZ(this._model.uri.fsPath),ke=Ce.lastIndexOf(".");return ke<=0?Ce:Ce.slice(0,ke)}return"TM_DIRECTORY"===ie?"."===G.XX(this._model.uri.fsPath)?"":this._labelService.getUriLabel((0,se.XX)(this._model.uri)):"TM_FILEPATH"===ie?this._labelService.getUriLabel(this._model.uri):"RELATIVE_FILEPATH"===ie?this._labelService.getUriLabel(this._model.uri,{relative:!0,noPrefix:!0}):void 0}}class ge{constructor(F,ie,Ce,ke){this._readClipboardText=F,this._selectionIdx=ie,this._selectionCount=Ce,this._spread=ke}resolve(F){if("CLIPBOARD"!==F.name)return;const ie=this._readClipboardText();if(ie){if(this._spread){const Ce=ie.split(/\r\n|\n|\r/).filter(ke=>!(0,r.m5)(ke));if(Ce.length===this._selectionCount)return Ce[this._selectionIdx]}return ie}}}let _e=class{constructor(F,ie,Ce){this._model=F,this._selection=ie,this._languageConfigurationService=Ce}resolve(F){const{name:ie}=F,Ce=this._model.getLanguageIdAtPosition(this._selection.selectionStartLineNumber,this._selection.selectionStartColumn),ke=this._languageConfigurationService.getLanguageConfiguration(Ce).comments;if(ke){if("LINE_COMMENT"===ie)return ke.lineCommentToken||void 0;if("BLOCK_COMMENT_START"===ie)return ke.blockCommentStartToken||void 0;if("BLOCK_COMMENT_END"===ie)return ke.blockCommentEndToken||void 0}}};var F,De;_e=function(x,F,ie,Ce){var xe,ke=arguments.length,Pe=ke<3?F:null===Ce?Ce=Object.getOwnPropertyDescriptor(F,ie):Ce;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Pe=Reflect.decorate(x,F,ie,Ce);else for(var fe=x.length-1;fe>=0;fe--)(xe=x[fe])&&(Pe=(ke<3?xe(Pe):ke>3?xe(F,ie,Pe):xe(F,ie))||Pe);return ke>3&&Pe&&Object.defineProperty(F,ie,Pe),Pe}([(2,F=A.c_,function(ie,Ce){F(ie,Ce,2)})],_e);class ue{constructor(){this._date=new Date}resolve(F){const{name:ie}=F;if("CURRENT_YEAR"===ie)return String(this._date.getFullYear());if("CURRENT_YEAR_SHORT"===ie)return String(this._date.getFullYear()).slice(-2);if("CURRENT_MONTH"===ie)return String(this._date.getMonth().valueOf()+1).padStart(2,"0");if("CURRENT_DATE"===ie)return String(this._date.getDate().valueOf()).padStart(2,"0");if("CURRENT_HOUR"===ie)return String(this._date.getHours().valueOf()).padStart(2,"0");if("CURRENT_MINUTE"===ie)return String(this._date.getMinutes().valueOf()).padStart(2,"0");if("CURRENT_SECOND"===ie)return String(this._date.getSeconds().valueOf()).padStart(2,"0");if("CURRENT_DAY_NAME"===ie)return ue.dayNames[this._date.getDay()];if("CURRENT_DAY_NAME_SHORT"===ie)return ue.dayNamesShort[this._date.getDay()];if("CURRENT_MONTH_NAME"===ie)return ue.monthNames[this._date.getMonth()];if("CURRENT_MONTH_NAME_SHORT"===ie)return ue.monthNamesShort[this._date.getMonth()];if("CURRENT_SECONDS_UNIX"===ie)return String(Math.floor(this._date.getTime()/1e3));if("CURRENT_TIMEZONE_OFFSET"===ie){const Ce=this._date.getTimezoneOffset(),ke=Ce>0?"-":"+",Pe=Math.trunc(Math.abs(Ce/60)),xe=Pe<10?"0"+Pe:Pe,fe=Math.abs(Ce)-60*Pe;return ke+xe+":"+(fe<10?"0"+fe:fe)}}}ue.dayNames=[$.NC("Sunday","Sunday"),$.NC("Monday","Monday"),$.NC("Tuesday","Tuesday"),$.NC("Wednesday","Wednesday"),$.NC("Thursday","Thursday"),$.NC("Friday","Friday"),$.NC("Saturday","Saturday")],ue.dayNamesShort=[$.NC("SundayShort","Sun"),$.NC("MondayShort","Mon"),$.NC("TuesdayShort","Tue"),$.NC("WednesdayShort","Wed"),$.NC("ThursdayShort","Thu"),$.NC("FridayShort","Fri"),$.NC("SaturdayShort","Sat")],ue.monthNames=[$.NC("January","January"),$.NC("February","February"),$.NC("March","March"),$.NC("April","April"),$.NC("May","May"),$.NC("June","June"),$.NC("July","July"),$.NC("August","August"),$.NC("September","September"),$.NC("October","October"),$.NC("November","November"),$.NC("December","December")],ue.monthNamesShort=[$.NC("JanuaryShort","Jan"),$.NC("FebruaryShort","Feb"),$.NC("MarchShort","Mar"),$.NC("AprilShort","Apr"),$.NC("MayShort","May"),$.NC("JuneShort","Jun"),$.NC("JulyShort","Jul"),$.NC("AugustShort","Aug"),$.NC("SeptemberShort","Sep"),$.NC("OctoberShort","Oct"),$.NC("NovemberShort","Nov"),$.NC("DecemberShort","Dec")];class ve{constructor(F){this._workspaceService=F}resolve(F){if(!this._workspaceService)return;const ie=(0,O.uT)(this._workspaceService.getWorkspace());if(!(0,O.c$)(ie)){if("WORKSPACE_NAME"===F.name)return this._resolveWorkspaceName(ie);if("WORKSPACE_FOLDER"===F.name)return this._resoveWorkspacePath(ie)}}_resolveWorkspaceName(F){if((0,O.eb)(F))return G.EZ(F.uri.path);let ie=G.EZ(F.configPath.path);return ie.endsWith(O.A6)&&(ie=ie.substr(0,ie.length-O.A6.length-1)),ie}_resoveWorkspacePath(F){if((0,O.eb)(F))return ee(F.uri.fsPath);const ie=G.EZ(F.configPath.path);let Ce=F.configPath.fsPath;return Ce.endsWith(ie)&&(Ce=Ce.substr(0,Ce.length-ie.length-1)),Ce?ee(Ce):"/"}}class Ie{resolve(F){const{name:ie}=F;return"RANDOM"===ie?Math.random().toString().slice(-6):"RANDOM_HEX"===ie?Math.random().toString(16).slice(-6):"UUID"===ie?(0,j.R)():void 0}}class ye{constructor(F,ie,Ce){this._editor=F,this._snippet=ie,this._snippetLineLeadingWhitespace=Ce,this._offset=-1,this._nestingLevel=1,this._placeholderGroups=(0,f.vM)(ie.placeholders,W.Vm.compareByIndex),this._placeholderGroupsIdx=-1}initialize(F){this._offset=F.newPosition}dispose(){this._placeholderDecorations&&this._editor.removeDecorations([...this._placeholderDecorations.values()]),this._placeholderGroups.length=0}_initDecorations(){if(-1===this._offset)throw new Error("Snippet not initialized!");if(this._placeholderDecorations)return;this._placeholderDecorations=new Map;const F=this._editor.getModel();this._editor.changeDecorations(ie=>{for(const Ce of this._snippet.placeholders){const ke=this._snippet.offset(Ce),Pe=this._snippet.fullLen(Ce),xe=D.e.fromPositions(F.getPositionAt(this._offset+ke),F.getPositionAt(this._offset+ke+Pe)),be=ie.addDecoration(xe,Ce.isFinalTabstop?ye._decor.inactiveFinal:ye._decor.inactive);this._placeholderDecorations.set(Ce,be)}})}move(F){if(!this._editor.hasModel())return[];if(this._initDecorations(),this._placeholderGroupsIdx>=0){const ke=[];for(const Pe of this._placeholderGroups[this._placeholderGroupsIdx])if(Pe.transform){const xe=this._placeholderDecorations.get(Pe),fe=this._editor.getModel().getDecorationRange(xe),be=this._editor.getModel().getValueInRange(fe),pe=Pe.transform.resolve(be).split(/\r\n|\r|\n/);for(let Q=1;Q<pe.length;Q++)pe[Q]=this._editor.getModel().normalizeIndentation(this._snippetLineLeadingWhitespace+pe[Q]);ke.push(w.h.replace(fe,pe.join(this._editor.getModel().getEOL())))}ke.length>0&&this._editor.executeEdits("snippet.placeholderTransform",ke)}let ie=!1;!0===F&&this._placeholderGroupsIdx<this._placeholderGroups.length-1?(this._placeholderGroupsIdx+=1,ie=!0):!1===F&&this._placeholderGroupsIdx>0&&(this._placeholderGroupsIdx-=1,ie=!0);const Ce=this._editor.getModel().changeDecorations(ke=>{const Pe=new Set,xe=[];for(const fe of this._placeholderGroups[this._placeholderGroupsIdx]){const be=this._placeholderDecorations.get(fe),pe=this._editor.getModel().getDecorationRange(be);xe.push(new N.Y(pe.startLineNumber,pe.startColumn,pe.endLineNumber,pe.endColumn)),ie=ie&&this._hasPlaceholderBeenCollapsed(fe),ke.changeDecorationOptions(be,fe.isFinalTabstop?ye._decor.activeFinal:ye._decor.active),Pe.add(fe);for(const Q of this._snippet.enclosingPlaceholders(fe)){const le=this._placeholderDecorations.get(Q);ke.changeDecorationOptions(le,Q.isFinalTabstop?ye._decor.activeFinal:ye._decor.active),Pe.add(Q)}}for(const[fe,be]of this._placeholderDecorations)Pe.has(fe)||ke.changeDecorationOptions(be,fe.isFinalTabstop?ye._decor.inactiveFinal:ye._decor.inactive);return xe});return ie?this.move(F):Ce??[]}_hasPlaceholderBeenCollapsed(F){let ie=F;for(;ie;){if(ie instanceof W.Vm){const Ce=this._placeholderDecorations.get(ie);if(this._editor.getModel().getDecorationRange(Ce).isEmpty()&&ie.toString().length>0)return!0}ie=ie.parent}return!1}get isAtFirstPlaceholder(){return this._placeholderGroupsIdx<=0||0===this._placeholderGroups.length}get isAtLastPlaceholder(){return this._placeholderGroupsIdx===this._placeholderGroups.length-1}get hasPlaceholder(){return this._snippet.placeholders.length>0}get isTrivialSnippet(){if(0===this._snippet.placeholders.length)return!0;if(1===this._snippet.placeholders.length){const[F]=this._snippet.placeholders;if(F.isFinalTabstop&&this._snippet.rightMostDescendant===F)return!0}return!1}computePossibleSelections(){const F=new Map;for(const ie of this._placeholderGroups){let Ce;for(const ke of ie){if(ke.isFinalTabstop)break;Ce||(Ce=[],F.set(ke.index,Ce));const Pe=this._placeholderDecorations.get(ke),xe=this._editor.getModel().getDecorationRange(Pe);if(!xe){F.delete(ke.index);break}Ce.push(xe)}}return F}get activeChoice(){if(!this._placeholderDecorations)return;const F=this._placeholderGroups[this._placeholderGroupsIdx][0];if(!F?.choice)return;const ie=this._placeholderDecorations.get(F);if(!ie)return;const Ce=this._editor.getModel().getDecorationRange(ie);return Ce?{range:Ce,choice:F.choice}:void 0}get hasChoice(){let F=!1;return this._snippet.walk(ie=>(F=ie instanceof W.Lv,!F)),F}merge(F){const ie=this._editor.getModel();this._nestingLevel*=10,this._editor.changeDecorations(Ce=>{for(const ke of this._placeholderGroups[this._placeholderGroupsIdx]){const Pe=F.shift();console.assert(-1!==Pe._offset),console.assert(!Pe._placeholderDecorations);const xe=Pe._snippet.placeholderInfo.last.index;for(const be of Pe._snippet.placeholderInfo.all)be.index=be.isFinalTabstop?ke.index+(xe+1)/this._nestingLevel:ke.index+be.index/this._nestingLevel;this._snippet.replace(ke,Pe._snippet.children);const fe=this._placeholderDecorations.get(ke);Ce.removeDecoration(fe),this._placeholderDecorations.delete(ke);for(const be of Pe._snippet.placeholders){const pe=Pe._snippet.offset(be),Q=Pe._snippet.fullLen(be),le=D.e.fromPositions(ie.getPositionAt(Pe._offset+pe),ie.getPositionAt(Pe._offset+pe+Q)),Fe=Ce.addDecoration(le,ye._decor.inactive);this._placeholderDecorations.set(be,Fe)}}this._placeholderGroups=(0,f.vM)(this._snippet.placeholders,W.Vm.compareByIndex)})}}ye._decor={active:k.qx.register({description:"snippet-placeholder-1",stickiness:0,className:"snippet-placeholder"}),inactive:k.qx.register({description:"snippet-placeholder-2",stickiness:1,className:"snippet-placeholder"}),activeFinal:k.qx.register({description:"snippet-placeholder-3",stickiness:1,className:"finish-snippet-placeholder"}),inactiveFinal:k.qx.register({description:"snippet-placeholder-4",stickiness:1,className:"finish-snippet-placeholder"})};const oe={overwriteBefore:0,overwriteAfter:0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};let Y=De=class{static adjustWhitespace(F,ie,Ce,ke,Pe){const xe=F.getLineContent(ie.lineNumber),fe=(0,r.V8)(xe,0,ie.column-1);let be;return ke.walk(pe=>{if(!(pe instanceof W.xv)||pe.parent instanceof W.Lv||Pe&&!Pe.has(pe))return!0;const Q=pe.value.split(/\r\n|\r|\n/);if(Ce){const Fe=ke.offset(pe);if(0===Fe)Q[0]=F.normalizeIndentation(Q[0]);else{be=be??ke.toString();const He=be.charCodeAt(Fe-1);(10===He||13===He)&&(Q[0]=F.normalizeIndentation(fe+Q[0]))}for(let He=1;He<Q.length;He++)Q[He]=F.normalizeIndentation(fe+Q[He])}const le=Q.join(F.getEOL());return le!==pe.value&&(pe.parent.replace(pe,[new W.xv(le)]),be=void 0),!0}),fe}static adjustSelection(F,ie,Ce,ke){if(0!==Ce||0!==ke){const{positionLineNumber:Pe,positionColumn:xe}=ie,pe=F.validateRange({startLineNumber:Pe,startColumn:xe-Ce,endLineNumber:Pe,endColumn:xe+ke});ie=N.Y.createWithDirection(pe.startLineNumber,pe.startColumn,pe.endLineNumber,pe.endColumn,ie.getDirection())}return ie}static createEditsAndSnippetsFromSelections(F,ie,Ce,ke,Pe,xe,fe,be,pe){const Q=[],le=[];if(!F.hasModel())return{edits:Q,snippets:le};const Fe=F.getModel(),He=F.invokeWithinContext(Tt=>Tt.get(O.ec)),Je=F.invokeWithinContext(Tt=>new ae(Tt.get(R.e),Fe)),ot=()=>fe,lt=Fe.getValueInRange(De.adjustSelection(Fe,F.getSelection(),Ce,0)),mt=Fe.getValueInRange(De.adjustSelection(Fe,F.getSelection(),0,ke)),ft=Fe.getLineFirstNonWhitespaceColumn(F.getSelection().positionLineNumber),Lt=F.getSelections().map((Tt,Mt)=>({selection:Tt,idx:Mt})).sort((Tt,Mt)=>D.e.compareRangesUsingStarts(Tt.selection,Mt.selection));for(const{selection:Tt,idx:Mt}of Lt){let Ut=De.adjustSelection(Fe,Tt,Ce,0),At=De.adjustSelection(Fe,Tt,0,ke);lt!==Fe.getValueInRange(Ut)&&(Ut=Tt),mt!==Fe.getValueInRange(At)&&(At=Tt);const It=Tt.setStartPosition(Ut.startLineNumber,Ut.startColumn).setEndPosition(At.endLineNumber,At.endColumn),it=(new W.Yj).parse(ie,!0,Pe),qe=It.getStartPosition(),Ze=De.adjustWhitespace(Fe,qe,xe||Mt>0&&ft!==Fe.getLineFirstNonWhitespaceColumn(Tt.positionLineNumber),it);it.resolveVariables(new ne([Je,new ge(ot,Mt,Lt.length,"spread"===F.getOption(77)),new _(Fe,Tt,Mt,be),new _e(Fe,Tt,pe),new ue,new ve(He),new Ie])),Q[Mt]=w.h.replace(It,it.toString()),Q[Mt].identifier={major:Mt,minor:0},Q[Mt]._isTracked=!0,le[Mt]=new ye(F,it,Ze)}return{edits:Q,snippets:le}}static createEditsAndSnippetsFromEdits(F,ie,Ce,ke,Pe,xe,fe){if(!F.hasModel()||0===ie.length)return{edits:[],snippets:[]};const be=[],pe=F.getModel(),Q=new W.Yj,le=new W.y1,Fe=new ne([F.invokeWithinContext(Je=>new ae(Je.get(R.e),pe)),new ge(()=>Pe,0,F.getSelections().length,"spread"===F.getOption(77)),new _(pe,F.getSelection(),0,xe),new _e(pe,F.getSelection(),fe),new ue,new ve(F.invokeWithinContext(Je=>Je.get(O.ec))),new Ie]);ie=ie.sort((Je,ot)=>D.e.compareRangesUsingStarts(Je.range,ot.range));let He=0;for(let Je=0;Je<ie.length;Je++){const{range:ot,template:lt}=ie[Je];if(Je>0){const Ut=D.e.fromPositions(ie[Je-1].range.getEndPosition(),ot.getStartPosition()),At=new W.xv(pe.getValueInRange(Ut));le.appendChild(At),He+=At.value.length}const mt=Q.parseFragment(lt,le);De.adjustWhitespace(pe,ot.getStartPosition(),!0,le,new Set(mt)),le.resolveVariables(Fe);const ft=le.toString(),Lt=ft.slice(He);He=ft.length;const Tt=w.h.replace(ot,Lt);Tt.identifier={major:Je,minor:0},Tt._isTracked=!0,be.push(Tt)}return Q.ensureFinalTabstop(le,Ce,!0),{edits:be,snippets:[new ye(F,le,"")]}}constructor(F,ie,Ce=oe,ke){this._editor=F,this._template=ie,this._options=Ce,this._languageConfigurationService=ke,this._templateMerges=[],this._snippets=[]}dispose(){(0,P.B9)(this._snippets)}_logInfo(){return`template="${this._template}", merged_templates="${this._templateMerges.join(" -> ")}"`}insert(){if(!this._editor.hasModel())return;const{edits:F,snippets:ie}="string"==typeof this._template?De.createEditsAndSnippetsFromSelections(this._editor,this._template,this._options.overwriteBefore,this._options.overwriteAfter,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer,this._languageConfigurationService):De.createEditsAndSnippetsFromEdits(this._editor,this._template,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer,this._languageConfigurationService);this._snippets=ie,this._editor.executeEdits("snippet",F,Ce=>{const ke=Ce.filter(Pe=>!!Pe.identifier);for(let Pe=0;Pe<ie.length;Pe++)ie[Pe].initialize(ke[Pe].textChange);return this._snippets[0].hasPlaceholder?this._move(!0):ke.map(Pe=>N.Y.fromPositions(Pe.range.getEndPosition()))}),this._editor.revealRange(this._editor.getSelections()[0])}merge(F,ie=oe){if(!this._editor.hasModel())return;this._templateMerges.push([this._snippets[0]._nestingLevel,this._snippets[0]._placeholderGroupsIdx,F]);const{edits:Ce,snippets:ke}=De.createEditsAndSnippetsFromSelections(this._editor,F,ie.overwriteBefore,ie.overwriteAfter,!0,ie.adjustWhitespace,ie.clipboardText,ie.overtypingCapturer,this._languageConfigurationService);this._editor.executeEdits("snippet",Ce,Pe=>{const xe=Pe.filter(be=>!!be.identifier);for(let be=0;be<ke.length;be++)ke[be].initialize(xe[be].textChange);const fe=ke[0].isTrivialSnippet;if(!fe){for(const be of this._snippets)be.merge(ke);console.assert(0===ke.length)}return this._snippets[0].hasPlaceholder&&!fe?this._move(void 0):xe.map(be=>N.Y.fromPositions(be.range.getEndPosition()))})}next(){const F=this._move(!0);this._editor.setSelections(F),this._editor.revealPositionInCenterIfOutsideViewport(F[0].getPosition())}prev(){const F=this._move(!1);this._editor.setSelections(F),this._editor.revealPositionInCenterIfOutsideViewport(F[0].getPosition())}_move(F){const ie=[];for(const Ce of this._snippets){const ke=Ce.move(F);ie.push(...ke)}return ie}get isAtFirstPlaceholder(){return this._snippets[0].isAtFirstPlaceholder}get isAtLastPlaceholder(){return this._snippets[0].isAtLastPlaceholder}get hasPlaceholder(){return this._snippets[0].hasPlaceholder}get hasChoice(){return this._snippets[0].hasChoice}get activeChoice(){return this._snippets[0].activeChoice}isSelectionWithinPlaceholders(){if(!this.hasPlaceholder)return!1;const F=this._editor.getSelections();if(F.length<this._snippets.length)return!1;const ie=new Map;for(const Ce of this._snippets){const ke=Ce.computePossibleSelections();if(0===ie.size)for(const[Pe,xe]of ke){xe.sort(D.e.compareRangesUsingStarts);for(const fe of F)if(xe[0].containsRange(fe)){ie.set(Pe,[]);break}}if(0===ie.size)return!1;ie.forEach((Pe,xe)=>{Pe.push(...ke.get(xe))})}F.sort(D.e.compareRangesUsingStarts);for(const[Ce,ke]of ie)if(ke.length===F.length){ke.sort(D.e.compareRangesUsingStarts);for(let Pe=0;Pe<ke.length;Pe++)if(!ke[Pe].containsRange(F[Pe])){ie.delete(Ce);continue}}else ie.delete(Ce);return ie.size>0}};Y=De=function(x,F,ie,Ce){var xe,ke=arguments.length,Pe=ke<3?F:null===Ce?Ce=Object.getOwnPropertyDescriptor(F,ie):Ce;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Pe=Reflect.decorate(x,F,ie,Ce);else for(var fe=x.length-1;fe>=0;fe--)(xe=x[fe])&&(Pe=(ke<3?xe(Pe):ke>3?xe(F,ie,Pe):xe(F,ie))||Pe);return ke>3&&Pe&&Object.defineProperty(F,ie,Pe),Pe}([function(x,F){return function(ie,Ce){F(ie,Ce,3)}}(0,A.c_)],Y)},87814:(Xe,we,e)=>{var f=e(8256),P=e(37190);const r=Object.freeze({View:{value:(0,P.NC)("view","View"),original:"View"},Help:{value:(0,P.NC)("help","Help"),original:"Help"},Test:{value:(0,P.NC)("test","Test"),original:"Test"},File:{value:(0,P.NC)("file","File"),original:"File"},Preferences:{value:(0,P.NC)("preferences","Preferences"),original:"Preferences"},Developer:{value:(0,P.NC)({key:"developer",comment:["A developer on Code itself or someone diagnosing issues in Code"]},"Developer"),original:"Developer"}});var y=e(63032),v=e(47358),S=e(66221),T=e(15446),E=e(78694),L=e(55763),p=e(20274),c=e(75578),u=e(35053),g=e(93379),i=e.n(g),d=e(7795),a=e.n(d),m=e(90569),l=e.n(m),I=e(3565),w=e.n(I),D=e(19216),N=e.n(D),A=e(44589),k=e.n(A),R=e(36098),O={};O.styleTagTransform=k(),O.setAttributes=w(),O.insert=l().bind(null,"head"),O.domAPI=a(),O.insertStyleElement=N(),i()(R.Z,O);var U=e(47749),ee=e(78),B=e(68678),G=e(85460),se=e(48092),j=e(82911),$=e(60209),K=e(77826),J=e(58039);class ne{constructor(St,st,ut,pt=null){this.startLineNumbers=St,this.endLineNumbers=st,this.lastLineRelativePosition=ut,this.showEndForLine=pt}}const _=(0,c.Z)("stickyScrollViewLayer",{createHTML:Zi=>Zi}),ae="data-sticky-line-index";class ge extends E.JT{constructor(St){super(),this._editor=St,this._foldingIconStore=new E.SL,this._rootDomNode=document.createElement("div"),this._lineNumbersDomNode=document.createElement("div"),this._linesDomNodeScrollable=document.createElement("div"),this._linesDomNode=document.createElement("div"),this._lineHeight=this._editor.getOption(65),this._stickyLines=[],this._lineNumbers=[],this._lastLineRelativePosition=0,this._minContentWidthInPx=0,this._isOnGlyphMargin=!1,this._lineNumbersDomNode.className="sticky-widget-line-numbers",this._lineNumbersDomNode.setAttribute("role","none"),this._linesDomNode.className="sticky-widget-lines",this._linesDomNode.setAttribute("role","list"),this._linesDomNodeScrollable.className="sticky-widget-lines-scrollable",this._linesDomNodeScrollable.appendChild(this._linesDomNode),this._rootDomNode.className="sticky-widget",this._rootDomNode.classList.toggle("peek",St instanceof ee.H),this._rootDomNode.appendChild(this._lineNumbersDomNode),this._rootDomNode.appendChild(this._linesDomNodeScrollable);const st=()=>{this._linesDomNode.style.left=this._editor.getOption(113).scrollWithEditor?`-${this._editor.getScrollLeft()}px`:"0px"};this._register(this._editor.onDidChangeConfiguration(ut=>{ut.hasChanged(113)&&st(),ut.hasChanged(65)&&(this._lineHeight=this._editor.getOption(65))})),this._register(this._editor.onDidScrollChange(ut=>{ut.scrollLeftChanged&&st(),ut.scrollWidthChanged&&this._updateWidgetWidth()})),this._register(this._editor.onDidChangeModel(()=>{st(),this._updateWidgetWidth()})),this._register(this._foldingIconStore),st(),this._register(this._editor.onDidLayoutChange(ut=>{this._updateWidgetWidth()})),this._updateWidgetWidth()}get lineNumbers(){return this._lineNumbers}get lineNumberCount(){return this._lineNumbers.length}getCurrentLines(){return this._lineNumbers}setState(St){if(this._clearStickyWidget(),St&&this._editor._getViewModel()){if(St.startLineNumbers.length*this._lineHeight+St.lastLineRelativePosition>0){this._lastLineRelativePosition=St.lastLineRelativePosition;const ut=[...St.startLineNumbers];null!==St.showEndForLine&&(ut[St.showEndForLine]=St.endLineNumbers[St.showEndForLine]),this._lineNumbers=ut}else this._lastLineRelativePosition=0,this._lineNumbers=[];this._renderRootNode()}}_updateWidgetWidth(){const St=this._editor.getLayoutInfo(),ut="left"===this._editor.getOption(71).side?St.contentLeft-St.minimap.minimapCanvasOuterWidth:St.contentLeft;this._lineNumbersDomNode.style.width=`${ut}px`,this._linesDomNodeScrollable.style.setProperty("--vscode-editorStickyScroll-scrollableWidth",this._editor.getScrollWidth()-St.verticalScrollbarWidth+"px"),this._rootDomNode.style.width=St.width-St.minimap.minimapCanvasOuterWidth-St.verticalScrollbarWidth+"px"}_clearStickyWidget(){this._stickyLines=[],this._foldingIconStore.clear(),p.PO(this._lineNumbersDomNode),p.PO(this._linesDomNode),this._rootDomNode.style.display="none"}_useFoldingOpacityTransition(St){this._lineNumbersDomNode.style.setProperty("--vscode-editorStickyScroll-foldingOpacityTransition",`opacity ${St?.5:0}s`)}_setFoldingIconsVisibility(St){for(const st of this._stickyLines){const ut=st.foldingIcon;ut&&ut.setVisible(!!St||ut.isCollapsed)}}_renderRootNode(){var St;return function(Zi,St,st,ut){return new(st||(st=Promise))(function(Ne,je){function et(xt){try{Bt(ut.next(xt))}catch(Qt){je(Qt)}}function wt(xt){try{Bt(ut.throw(xt))}catch(Qt){je(Qt)}}function Bt(xt){xt.done?Ne(xt.value):function pt(Ne){return Ne instanceof st?Ne:new st(function(je){je(Ne)})}(xt.value).then(et,wt)}Bt((ut=ut.apply(Zi,St||[])).next())})}(this,void 0,void 0,function*(){const st=yield null===(St=$.f.get(this._editor))||void 0===St?void 0:St.getFoldingModel(),ut=this._editor.getLayoutInfo();for(const[je,et]of this._lineNumbers.entries()){const wt=this._renderChildNode(je,et,ut,st);this._linesDomNode.appendChild(wt.lineDomNode),this._lineNumbersDomNode.appendChild(wt.lineNumberDomNode),this._stickyLines.push(wt)}st&&(this._setFoldingHoverListeners(),this._useFoldingOpacityTransition(!this._isOnGlyphMargin));const pt=this._lineNumbers.length*this._lineHeight+this._lastLineRelativePosition;0!==pt?(this._rootDomNode.style.display="block",this._lineNumbersDomNode.style.height=`${pt}px`,this._linesDomNodeScrollable.style.height=`${pt}px`,this._rootDomNode.style.height=`${pt}px`,this._rootDomNode.style.marginLeft="left"===this._editor.getOption(71).side?ut.minimap.minimapCanvasOuterWidth+"px":"0px",this._updateMinContentWidth(),this._editor.layoutOverlayWidget(this)):this._clearStickyWidget()})}_setFoldingHoverListeners(){"mouseover"===this._editor.getOption(108)&&(this._foldingIconStore.add(p.nm(this._lineNumbersDomNode,p.tw.MOUSE_ENTER,st=>{this._isOnGlyphMargin=!0,this._setFoldingIconsVisibility(!0)})),this._foldingIconStore.add(p.nm(this._lineNumbersDomNode,p.tw.MOUSE_LEAVE,()=>{this._isOnGlyphMargin=!1,this._useFoldingOpacityTransition(!0),this._setFoldingIconsVisibility(!1)})))}_renderChildNode(St,st,ut,pt){const Ne=this._editor._getViewModel(),je=Ne.coordinatesConverter.convertModelPositionToViewPosition(new B.L(st,1)).lineNumber,et=Ne.getViewLineRenderingData(je),wt=this._editor.getOption(71).side,Bt=this._editor.getOption(66);let xt;try{xt=se.Kp.filter(et.inlineDecorations,je,et.minColumn,et.maxColumn)}catch{xt=[]}const Qt=new j.IJ(!0,!0,et.content,et.continuesWithWrappedLine,et.isBasicASCII,et.containsRTL,0,et.tokens,xt,et.tabSize,et.startVisibleColumn,1,1,1,500,"none",!0,!0,null),ai=new G.HT(2e3),gi=(0,j.d1)(Qt,ai);let di;di=_?_.createHTML(ai.build()):ai.build();const Ei=document.createElement("span");Ei.className="sticky-line-content",Ei.classList.add(`stickyLine${st}`),Ei.style.lineHeight=`${this._lineHeight}px`,Ei.innerHTML=di;const Ki=document.createElement("span");Ki.className="sticky-line-number",Ki.style.lineHeight=`${this._lineHeight}px`,Ki.style.width=`${"left"===wt?ut.contentLeft-ut.minimap.minimapCanvasOuterWidth:ut.contentLeft}px`;const qi=document.createElement("span");1===Bt.renderType||3===Bt.renderType&&st%10==0?qi.innerText=st.toString():2===Bt.renderType&&(qi.innerText=Math.abs(st-this._editor.getPosition().lineNumber).toString()),qi.className="sticky-line-number-inner",qi.style.lineHeight=`${this._lineHeight}px`,qi.style.width=`${ut.lineNumbersWidth}px`,qi.style.float="left","left"===wt?qi.style.paddingLeft=ut.lineNumbersLeft-ut.minimap.minimapCanvasOuterWidth+"px":"right"===wt&&(qi.style.paddingLeft=`${ut.lineNumbersLeft}px`),Ki.appendChild(qi);const fn=this._renderFoldingIconForLine(Ki,pt,St,st);this._editor.applyFontInfo(Ei),this._editor.applyFontInfo(qi),Ei.setAttribute("role","listitem"),Ei.setAttribute(ae,String(St)),Ei.tabIndex=0,Ki.style.lineHeight=`${this._lineHeight}px`,Ei.style.lineHeight=`${this._lineHeight}px`,Ki.style.height=`${this._lineHeight}px`,Ei.style.height=`${this._lineHeight}px`;const Nn=St===this._lineNumbers.length-1;Ei.style.zIndex=Nn?"0":"1",Ki.style.zIndex=Nn?"0":"1";const vi=`${St*this._lineHeight+this._lastLineRelativePosition+(fn?.isCollapsed?1:0)}px`,ui=St*this._lineHeight+"px";return Ei.style.top=Nn?vi:ui,Ki.style.top=Nn?vi:ui,new _e(st,Ei,Ki,fn,gi.characterMapping)}_renderFoldingIconForLine(St,st,ut,pt){const Ne=this._editor.getOption(108);if(!st||"never"===Ne)return;const je=st.regions,et=je.findRange(pt),wt=je.getStartLineNumber(et);if(pt!==wt)return;const xt=je.isCollapsed(et),Qt=new ue(xt,this._lineHeight);return St.append(Qt.domNode),Qt.setVisible(!!this._isOnGlyphMargin||xt||"always"===Ne),this._foldingIconStore.add(p.nm(Qt.domNode,p.tw.CLICK,()=>{(0,J.d8)(st,Number.MAX_VALUE,[pt]),Qt.isCollapsed=!xt;const ai=this._editor.getTopForLineNumber(xt?wt:je.getEndLineNumber(et))-this._lineHeight*ut+1;this._editor.setScrollTop(ai)})),Qt}_updateMinContentWidth(){this._minContentWidthInPx=0;for(const St of this._stickyLines)St.lineDomNode.scrollWidth>this._minContentWidthInPx&&(this._minContentWidthInPx=St.lineDomNode.scrollWidth);this._minContentWidthInPx+=this._editor.getLayoutInfo().verticalScrollbarWidth}getId(){return"editor.contrib.stickyScrollWidget"}getDomNode(){return this._rootDomNode}getPosition(){return{preference:null}}getMinContentWidthInPx(){return this._minContentWidthInPx}focusLineWithIndex(St){0<=St&&St<this._stickyLines.length&&this._stickyLines[St].lineDomNode.focus()}getEditorPositionFromNode(St){if(!St||St.children.length>0)return null;const st=this._getRenderedStickyLineFromChildDomNode(St);if(!st)return null;const ut=(0,U.dL)(st.characterMapping,St,0);return new B.L(st.lineNumber,ut)}getLineNumberFromChildDomNode(St){var st,ut;return null!==(ut=null===(st=this._getRenderedStickyLineFromChildDomNode(St))||void 0===st?void 0:st.lineNumber)&&void 0!==ut?ut:null}_getRenderedStickyLineFromChildDomNode(St){const st=this.getStickyLineIndexFromChildDomNode(St);return null===st||st<0||st>=this._stickyLines.length?null:this._stickyLines[st]}getStickyLineIndexFromChildDomNode(St){for(;St&&St!==this._rootDomNode;){const st=St.getAttribute(ae);if(st)return parseInt(st,10);St=St.parentElement}return null}}class _e{constructor(St,st,ut,pt,Ne){this.lineNumber=St,this.lineDomNode=st,this.lineNumberDomNode=ut,this.foldingIcon=pt,this.characterMapping=Ne}}class ue{constructor(St,st){this.isCollapsed=St,this.dimension=st,this.domNode=document.createElement("div"),this.domNode.style.width=`${st}px`,this.domNode.style.height=`${st}px`,this.domNode.className=u.k.asClassName(St?K.f5:K.Iy)}setVisible(St){this.domNode.style.cursor=St?"pointer":"default",this.domNode.style.opacity=St?"1":"0"}}var ve=e(87618),Ie=e(85328),Se=e(31738),Ve=e(58178),De=e(58459),ye=e(22649),oe=e(11969),Y=e(88215),x=e(17967);class F{constructor(St,st){this.startLineNumber=St,this.endLineNumber=st}}class ie{constructor(St,st,ut){this.range=St,this.children=st,this.parent=ut}}class Ce{constructor(St,st,ut,pt){this.uri=St,this.version=st,this.element=ut,this.outlineProviderId=pt}}var ke=e(68733),Pe=function(Zi,St,st,ut){var je,pt=arguments.length,Ne=pt<3?St:null===ut?ut=Object.getOwnPropertyDescriptor(St,st):ut;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ne=Reflect.decorate(Zi,St,st,ut);else for(var et=Zi.length-1;et>=0;et--)(je=Zi[et])&&(Ne=(pt<3?je(Ne):pt>3?je(St,st,Ne):je(St,st))||Ne);return pt>3&&Ne&&Object.defineProperty(St,st,Ne),Ne},xe=function(Zi,St){return function(st,ut){St(st,ut,Zi)}},fe=function(Zi,St,st,ut){return new(st||(st=Promise))(function(Ne,je){function et(xt){try{Bt(ut.next(xt))}catch(Qt){je(Qt)}}function wt(xt){try{Bt(ut.throw(xt))}catch(Qt){je(Qt)}}function Bt(xt){xt.done?Ne(xt.value):function pt(Ne){return Ne instanceof st?Ne:new st(function(je){je(Ne)})}(xt.value).then(et,wt)}Bt((ut=ut.apply(Zi,St||[])).next())})},be=function(Zi){return Zi.OUTLINE_MODEL="outlineModel",Zi.FOLDING_PROVIDER_MODEL="foldingProviderModel",Zi.INDENTATION_MODEL="indentationModel",Zi}(be||{}),pe=function(Zi){return Zi[Zi.VALID=0]="VALID",Zi[Zi.INVALID=1]="INVALID",Zi[Zi.CANCELED=2]="CANCELED",Zi}(pe||{});let Q=class extends E.JT{constructor(St,st,ut,pt){super(),this._editor=St,this._languageConfigurationService=st,this._languageFeaturesService=ut,this._modelProviders=[],this._modelPromise=null,this._updateScheduler=this._register(new Ie.vp(300)),this._updateOperation=this._register(new E.SL);const Ne=new Fe(ut),je=new ot(this._editor,ut),et=new Je(this._editor,st);switch(pt){case be.OUTLINE_MODEL:this._modelProviders.push(Ne),this._modelProviders.push(je),this._modelProviders.push(et);break;case be.FOLDING_PROVIDER_MODEL:this._modelProviders.push(je),this._modelProviders.push(et);break;case be.INDENTATION_MODEL:this._modelProviders.push(et)}}_cancelModelPromise(){this._modelPromise&&(this._modelPromise.cancel(),this._modelPromise=null)}update(St,st,ut){return fe(this,void 0,void 0,function*(){return this._updateOperation.clear(),this._updateOperation.add({dispose:()=>{this._cancelModelPromise(),this._updateScheduler.cancel()}}),this._cancelModelPromise(),yield this._updateScheduler.trigger(()=>fe(this,void 0,void 0,function*(){for(const pt of this._modelProviders){const{statusPromise:Ne,modelPromise:je}=pt.computeStickyModel(St,st,ut);this._modelPromise=je;const et=yield Ne;if(this._modelPromise!==je)return null;switch(et){case pe.CANCELED:return this._updateOperation.clear(),null;case pe.VALID:return pt.stickyModel}}return null})).catch(pt=>((0,x.dL)(pt),null))})}};Q=Pe([xe(1,De.c_),xe(2,L.p)],Q);class le{constructor(){this._stickyModel=null}get stickyModel(){return this._stickyModel}_invalid(){return this._stickyModel=null,pe.INVALID}computeStickyModel(St,st,ut){if(ut.isCancellationRequested||!this.isProviderValid(St))return{statusPromise:this._invalid(),modelPromise:null};const pt=(0,Ie.PG)(Ne=>this.createModelFromProvider(St,st,Ne));return{statusPromise:pt.then(Ne=>this.isModelValid(Ne)?ut.isCancellationRequested?pe.CANCELED:(this._stickyModel=this.createStickyModel(St,st,ut,Ne),pe.VALID):this._invalid()).then(void 0,Ne=>((0,x.dL)(Ne),pe.CANCELED)),modelPromise:pt}}isModelValid(St){return!0}isProviderValid(St){return!0}}let Fe=class extends le{constructor(St){super(),this._languageFeaturesService=St}createModelFromProvider(St,st,ut){return ye.C3.create(this._languageFeaturesService.documentSymbolProvider,St,ut)}createStickyModel(St,st,ut,pt){var Ne;const{stickyOutlineElement:je,providerID:et}=this._stickyModelFromOutlineModel(pt,null===(Ne=this._stickyModel)||void 0===Ne?void 0:Ne.outlineProviderId);return new Ce(St.uri,st,je,et)}isModelValid(St){return St&&St.children.size>0}_stickyModelFromOutlineModel(St,st){let ut;if(ke.$.first(St.children.values())instanceof ye.H3){const et=ke.$.find(St.children.values(),wt=>wt.id===st);if(et)ut=et.children;else{let xt,wt="",Bt=-1;for(const[Qt,ai]of St.children.entries()){const gi=this._findSumOfRangesOfGroup(ai);gi>Bt&&(xt=ai,Bt=gi,wt=ai.id)}st=wt,ut=xt.children}}else ut=St.children;const pt=[],Ne=Array.from(ut.values()).sort((et,wt)=>{const Bt=new F(et.symbol.range.startLineNumber,et.symbol.range.endLineNumber),xt=new F(wt.symbol.range.startLineNumber,wt.symbol.range.endLineNumber);return this._comparator(Bt,xt)});for(const et of Ne)pt.push(this._stickyModelFromOutlineElement(et,et.symbol.selectionRange.startLineNumber));return{stickyOutlineElement:new ie(void 0,pt,void 0),providerID:st}}_stickyModelFromOutlineElement(St,st){const ut=[];for(const Ne of St.children.values())if(Ne.symbol.selectionRange.startLineNumber!==Ne.symbol.range.endLineNumber)if(Ne.symbol.selectionRange.startLineNumber!==st)ut.push(this._stickyModelFromOutlineElement(Ne,Ne.symbol.selectionRange.startLineNumber));else for(const je of Ne.children.values())ut.push(this._stickyModelFromOutlineElement(je,Ne.symbol.selectionRange.startLineNumber));ut.sort((Ne,je)=>this._comparator(Ne.range,je.range));const pt=new F(St.symbol.selectionRange.startLineNumber,St.symbol.range.endLineNumber);return new ie(pt,ut,void 0)}_comparator(St,st){return St.startLineNumber!==st.startLineNumber?St.startLineNumber-st.startLineNumber:st.endLineNumber-St.endLineNumber}_findSumOfRangesOfGroup(St){let st=0;for(const ut of St.children.values())st+=this._findSumOfRangesOfGroup(ut);return St instanceof ye.sT?st+St.symbol.range.endLineNumber-St.symbol.selectionRange.startLineNumber:st}};Fe=Pe([xe(0,L.p)],Fe);class He extends le{constructor(St){super(),this._foldingLimitReporter=new $.n(St)}createStickyModel(St,st,ut,pt){const Ne=this._fromFoldingRegions(pt);return new Ce(St.uri,st,Ne,void 0)}isModelValid(St){return null!==St}_fromFoldingRegions(St){const st=St.length,ut=[],pt=new ie(void 0,[],void 0);for(let Ne=0;Ne<st;Ne++){const je=St.getParentIndex(Ne);let et;et=-1!==je?ut[je]:pt;const wt=new ie(new F(St.getStartLineNumber(Ne),St.getEndLineNumber(Ne)+1),[],et);et.children.push(wt),ut.push(wt)}return pt}}let Je=class extends He{constructor(St,st){super(St),this._languageConfigurationService=st}createModelFromProvider(St,st,ut){return new Y.aI(St,this._languageConfigurationService,this._foldingLimitReporter).compute(ut)}};Je=Pe([xe(1,De.c_)],Je);let ot=class extends He{constructor(St,st){super(St),this._languageFeaturesService=st}isProviderValid(St){return $.f.getFoldingRangeProviders(this._languageFeaturesService,St).length>0}createModelFromProvider(St,st,ut){const pt=$.f.getFoldingRangeProviders(this._languageFeaturesService,St);return new oe.e(St,pt,()=>this.createModelFromProvider(St,st,ut),this._foldingLimitReporter,void 0).compute(ut)}};ot=Pe([xe(1,L.p)],ot);var mt=function(Zi,St){return function(st,ut){St(st,ut,Zi)}},ft=function(Zi,St,st,ut){return new(st||(st=Promise))(function(Ne,je){function et(xt){try{Bt(ut.next(xt))}catch(Qt){je(Qt)}}function wt(xt){try{Bt(ut.throw(xt))}catch(Qt){je(Qt)}}function Bt(xt){xt.done?Ne(xt.value):function pt(Ne){return Ne instanceof st?Ne:new st(function(je){je(Ne)})}(xt.value).then(et,wt)}Bt((ut=ut.apply(Zi,St||[])).next())})};class Lt{constructor(St,st,ut){this.startLineNumber=St,this.endLineNumber=st,this.nestingDepth=ut}}let Tt=class extends E.JT{constructor(St,st,ut){super(),this._languageFeaturesService=st,this._languageConfigurationService=ut,this._onDidChangeStickyScroll=this._register(new Ve.Q5),this.onDidChangeStickyScroll=this._onDidChangeStickyScroll.event,this._options=null,this._model=null,this._cts=null,this._stickyModelProvider=null,this._editor=St,this._sessionStore=this._register(new E.SL),this._updateSoon=this._register(new Ie.pY(()=>this.update(),50)),this._register(this._editor.onDidChangeConfiguration(pt=>{pt.hasChanged(113)&&this.readConfiguration()})),this.readConfiguration()}readConfiguration(){this._stickyModelProvider=null,this._sessionStore.clear(),this._options=this._editor.getOption(113),this._options.enabled&&(this._stickyModelProvider=this._sessionStore.add(new Q(this._editor,this._languageConfigurationService,this._languageFeaturesService,this._options.defaultModel)),this._sessionStore.add(this._editor.onDidChangeModel(()=>{this._model=null,this._onDidChangeStickyScroll.fire(),this.update()})),this._sessionStore.add(this._editor.onDidChangeHiddenAreas(()=>this.update())),this._sessionStore.add(this._editor.onDidChangeModelContent(()=>this._updateSoon.schedule())),this._sessionStore.add(this._languageFeaturesService.documentSymbolProvider.onDidChange(()=>this.update())),this.update())}getVersionId(){var St;return null===(St=this._model)||void 0===St?void 0:St.version}update(){var St;return ft(this,void 0,void 0,function*(){null===(St=this._cts)||void 0===St||St.dispose(!0),this._cts=new ve.A,yield this.updateStickyModel(this._cts.token),this._onDidChangeStickyScroll.fire()})}updateStickyModel(St){return ft(this,void 0,void 0,function*(){if(!this._editor.hasModel()||!this._stickyModelProvider)return void(this._model=null);const st=this._editor.getModel(),ut=st.getVersionId(),pt=yield this._stickyModelProvider.update(st,ut,St);St.isCancellationRequested||(this._model=pt)})}updateIndex(St){return-1===St?St=0:St<0&&(St=-St-2),St}getCandidateStickyLinesIntersectingFromStickyModel(St,st,ut,pt,Ne){if(0===st.children.length)return;let je=Ne;const et=[];for(let xt=0;xt<st.children.length;xt++){const Qt=st.children[xt];Qt.range&&et.push(Qt.range.startLineNumber)}const wt=this.updateIndex((0,Se.ry)(et,St.startLineNumber,(xt,Qt)=>xt-Qt)),Bt=this.updateIndex((0,Se.ry)(et,St.startLineNumber+pt,(xt,Qt)=>xt-Qt));for(let xt=wt;xt<=Bt;xt++){const Qt=st.children[xt];if(!Qt)return;if(Qt.range){const ai=Qt.range.startLineNumber,gi=Qt.range.endLineNumber;St.startLineNumber<=gi+1&&ai-1<=St.endLineNumber&&ai!==je&&(je=ai,ut.push(new Lt(ai,gi-1,pt+1)),this.getCandidateStickyLinesIntersectingFromStickyModel(St,Qt,ut,pt+1,ai))}else this.getCandidateStickyLinesIntersectingFromStickyModel(St,Qt,ut,pt,Ne)}}getCandidateStickyLinesIntersecting(St){var st,ut;if(null===(st=this._model)||void 0===st||!st.element)return[];let pt=[];this.getCandidateStickyLinesIntersectingFromStickyModel(St,this._model.element,pt,0,-1);const Ne=null===(ut=this._editor._getViewModel())||void 0===ut?void 0:ut.getHiddenAreas();if(Ne)for(const je of Ne)pt=pt.filter(et=>!(et.startLineNumber>=je.startLineNumber&&et.endLineNumber<=je.endLineNumber+1));return pt}};Tt=function(Zi,St,st,ut){var je,pt=arguments.length,Ne=pt<3?St:null===ut?ut=Object.getOwnPropertyDescriptor(St,st):ut;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ne=Reflect.decorate(Zi,St,st,ut);else for(var et=Zi.length-1;et>=0;et--)(je=Zi[et])&&(Ne=(pt<3?je(Ne):pt>3?je(St,st,Ne):je(St,st))||Ne);return pt>3&&Ne&&Object.defineProperty(St,st,Ne),Ne}([mt(1,L.p),mt(2,De.c_)],Tt);var yt,Mt=e(12065),Ut=e(76485),At=e(25823),It=e(96726),it=e(57381),qe=e(10456),Ze=e(31663),Ee=e(20940),Ae=function(Zi,St){return function(st,ut){St(st,ut,Zi)}},ht=function(Zi,St,st,ut){return new(st||(st=Promise))(function(Ne,je){function et(xt){try{Bt(ut.next(xt))}catch(Qt){je(Qt)}}function wt(xt){try{Bt(ut.throw(xt))}catch(Qt){je(Qt)}}function Bt(xt){xt.done?Ne(xt.value):function pt(Ne){return Ne instanceof st?Ne:new st(function(je){je(Ne)})}(xt.value).then(et,wt)}Bt((ut=ut.apply(Zi,St||[])).next())})};let Dt=yt=class extends E.JT{constructor(St,st,ut,pt,Ne,je,et){super(),this._editor=St,this._contextMenuService=st,this._languageFeaturesService=ut,this._instaService=pt,this._contextKeyService=et,this._sessionStore=new E.SL,this._maxStickyLines=Number.MAX_SAFE_INTEGER,this._candidateDefinitionsLength=-1,this._focusedStickyElementIndex=-1,this._enabled=!1,this._focused=!1,this._positionRevealed=!1,this._onMouseDown=!1,this._endLineNumbers=[],this._showEndForLine=null,this._stickyScrollWidget=new ge(this._editor),this._stickyLineCandidateProvider=new Tt(this._editor,ut,Ne),this._register(this._stickyScrollWidget),this._register(this._stickyLineCandidateProvider),this._widgetState=new ne([],[],0),this._readConfiguration();const wt=this._stickyScrollWidget.getDomNode();this._register(this._editor.onDidChangeConfiguration(xt=>{(xt.hasChanged(113)||xt.hasChanged(71)||xt.hasChanged(65)||xt.hasChanged(108))&&this._readConfiguration()})),this._register(p.nm(wt,p.tw.CONTEXT_MENU,xt=>ht(this,void 0,void 0,function*(){this._onContextMenu(xt)}))),this._stickyScrollFocusedContextKey=T.u.stickyScrollFocused.bindTo(this._contextKeyService),this._stickyScrollVisibleContextKey=T.u.stickyScrollVisible.bindTo(this._contextKeyService);const Bt=this._register(p.go(wt));this._register(Bt.onDidBlur(xt=>{!1===this._positionRevealed&&0===wt.clientHeight?(this._focusedStickyElementIndex=-1,this.focus()):this._disposeFocusStickyScrollStore()})),this._register(Bt.onDidFocus(xt=>{this.focus()})),this._registerMouseListeners(),this._register(p.nm(wt,p.tw.MOUSE_DOWN,xt=>{this._onMouseDown=!0}))}static get(St){return St.getContribution(yt.ID)}_disposeFocusStickyScrollStore(){var St;this._stickyScrollFocusedContextKey.set(!1),null===(St=this._focusDisposableStore)||void 0===St||St.dispose(),this._focused=!1,this._positionRevealed=!1,this._onMouseDown=!1}focus(){if(this._onMouseDown)return this._onMouseDown=!1,void this._editor.focus();!0!==this._stickyScrollFocusedContextKey.get()&&(this._focused=!0,this._focusDisposableStore=new E.SL,this._stickyScrollFocusedContextKey.set(!0),this._focusedStickyElementIndex=this._stickyScrollWidget.lineNumbers.length-1,this._stickyScrollWidget.focusLineWithIndex(this._focusedStickyElementIndex))}focusNext(){this._focusedStickyElementIndex<this._stickyScrollWidget.lineNumberCount-1&&this._focusNav(!0)}focusPrevious(){this._focusedStickyElementIndex>0&&this._focusNav(!1)}selectEditor(){this._editor.focus()}_focusNav(St){this._focusedStickyElementIndex=St?this._focusedStickyElementIndex+1:this._focusedStickyElementIndex-1,this._stickyScrollWidget.focusLineWithIndex(this._focusedStickyElementIndex)}goToFocused(){const St=this._stickyScrollWidget.lineNumbers;this._disposeFocusStickyScrollStore(),this._revealPosition({lineNumber:St[this._focusedStickyElementIndex],column:1})}_revealPosition(St){this._reveaInEditor(St,()=>this._editor.revealPosition(St))}_revealLineInCenterIfOutsideViewport(St){this._reveaInEditor(St,()=>this._editor.revealLineInCenterIfOutsideViewport(St.lineNumber,0))}_reveaInEditor(St,st){this._focused&&this._disposeFocusStickyScrollStore(),this._positionRevealed=!0,st(),this._editor.setSelection(It.e.fromPositions(St)),this._editor.focus()}_registerMouseListeners(){const St=this._register(new E.SL),st=this._register(new At.yN(this._editor,{extractLineNumberFromMouseEvent:Ne=>{const je=this._stickyScrollWidget.getEditorPositionFromNode(Ne.target.element);return je?je.lineNumber:0}})),ut=Ne=>{if(!this._editor.hasModel()||12!==Ne.target.type||Ne.target.detail!==this._stickyScrollWidget.getId())return null;const je=Ne.target.element;if(!je||je.innerText!==je.innerHTML)return null;const et=this._stickyScrollWidget.getEditorPositionFromNode(je);return et?{range:new It.e(et.lineNumber,et.column,et.lineNumber,et.column+je.innerText.length),textElement:je}:null},pt=this._stickyScrollWidget.getDomNode();this._register(p.mu(pt,p.tw.CLICK,Ne=>{if(Ne.ctrlKey||Ne.altKey||Ne.metaKey||!Ne.leftButton)return;if(Ne.shiftKey){const et=this._stickyScrollWidget.getStickyLineIndexFromChildDomNode(Ne.target);if(null===et)return;const wt=new B.L(this._endLineNumbers[et],1);return void this._revealLineInCenterIfOutsideViewport(wt)}let je=this._stickyScrollWidget.getEditorPositionFromNode(Ne.target);if(!je){const et=this._stickyScrollWidget.getLineNumberFromChildDomNode(Ne.target);if(null===et)return;je=new B.L(et,1)}this._revealPosition(je)})),this._register(p.mu(pt,p.tw.MOUSE_MOVE,Ne=>{if(Ne.shiftKey){const je=this._stickyScrollWidget.getStickyLineIndexFromChildDomNode(Ne.target);if(null===je||null!==this._showEndForLine&&this._showEndForLine===je)return;return this._showEndForLine=je,void this._renderStickyScroll()}null!==this._showEndForLine&&(this._showEndForLine=null,this._renderStickyScroll())})),this._register(p.nm(pt,p.tw.MOUSE_LEAVE,Ne=>{null!==this._showEndForLine&&(this._showEndForLine=null,this._renderStickyScroll())})),this._register(st.onMouseMoveOrRelevantKeyDown(([Ne,je])=>{const et=ut(Ne);if(!et||!Ne.hasTriggerModifier||!this._editor.hasModel())return void St.clear();const{range:wt,textElement:Bt}=et;if(wt.equalsRange(this._stickyRangeProjectedOnEditor)){if("underline"===Bt.style.textDecoration)return}else this._stickyRangeProjectedOnEditor=wt,St.clear();const xt=new ve.A;let Qt;St.add((0,E.OF)(()=>xt.dispose(!0))),(0,it.nD)(this._languageFeaturesService.definitionProvider,this._editor.getModel(),new B.L(wt.startLineNumber,wt.startColumn+1),xt.token).then(ai=>{if(!xt.token.isCancellationRequested)if(0!==ai.length){this._candidateDefinitionsLength=ai.length;const gi=Bt;Qt!==gi?(St.clear(),Qt=gi,Qt.style.textDecoration="underline",St.add((0,E.OF)(()=>{Qt.style.textDecoration="none"}))):Qt||(Qt=gi,Qt.style.textDecoration="underline",St.add((0,E.OF)(()=>{Qt.style.textDecoration="none"})))}else St.clear()})})),this._register(st.onCancel(()=>{St.clear()})),this._register(st.onExecute(Ne=>ht(this,void 0,void 0,function*(){if(12!==Ne.target.type||Ne.target.detail!==this._stickyScrollWidget.getId())return;const je=this._stickyScrollWidget.getEditorPositionFromNode(Ne.target.element);je&&(this._candidateDefinitionsLength>1&&(this._focused&&this._disposeFocusStickyScrollStore(),this._revealPosition({lineNumber:je.lineNumber,column:1})),this._instaService.invokeFunction(qe.K,Ne,this._editor,{uri:this._editor.getModel().uri,range:this._stickyRangeProjectedOnEditor}))})))}_onContextMenu(St){const st=new Ee.n(St);this._contextMenuService.showContextMenu({menuId:y.eH.StickyScrollContext,getAnchor:()=>st})}_readConfiguration(){const St=this._editor.getOption(113);if(!1===St.enabled)return this._editor.removeOverlayWidget(this._stickyScrollWidget),this._sessionStore.clear(),void(this._enabled=!1);St.enabled&&!this._enabled&&(this._editor.addOverlayWidget(this._stickyScrollWidget),this._sessionStore.add(this._editor.onDidScrollChange(ut=>{ut.scrollTopChanged&&(this._showEndForLine=null,this._renderStickyScroll())})),this._sessionStore.add(this._editor.onDidLayoutChange(()=>this._onDidResize())),this._sessionStore.add(this._editor.onDidChangeModelTokens(ut=>this._onTokensChange(ut))),this._sessionStore.add(this._stickyLineCandidateProvider.onDidChangeStickyScroll(()=>{this._showEndForLine=null,this._renderStickyScroll()})),this._enabled=!0),2===this._editor.getOption(66).renderType&&this._sessionStore.add(this._editor.onDidChangeCursorPosition(()=>{this._showEndForLine=null,this._renderStickyScroll()}))}_needsUpdate(St){const st=this._stickyScrollWidget.getCurrentLines();for(const ut of st)for(const pt of St.ranges)if(ut>=pt.fromLineNumber&&ut<=pt.toLineNumber)return!0;return!1}_onTokensChange(St){this._needsUpdate(St)&&this._renderStickyScroll()}_onDidResize(){const st=this._editor.getLayoutInfo().height/this._editor.getOption(65);this._maxStickyLines=Math.round(.25*st)}_renderStickyScroll(){const St=this._editor.getModel();if(!St||St.isTooLargeForTokenization())return void this._stickyScrollWidget.setState(void 0);const st=this._stickyLineCandidateProvider.getVersionId();if(void 0===st||st===St.getVersionId())if(this._widgetState=this.findScrollWidgetState(),this._stickyScrollVisibleContextKey.set(0!==this._widgetState.startLineNumbers.length),this._focused)if(-1===this._focusedStickyElementIndex)this._stickyScrollWidget.setState(this._widgetState),this._focusedStickyElementIndex=this._stickyScrollWidget.lineNumberCount-1,-1!==this._focusedStickyElementIndex&&this._stickyScrollWidget.focusLineWithIndex(this._focusedStickyElementIndex);else{const ut=this._stickyScrollWidget.lineNumbers[this._focusedStickyElementIndex];this._stickyScrollWidget.setState(this._widgetState),0===this._stickyScrollWidget.lineNumberCount?this._focusedStickyElementIndex=-1:(this._stickyScrollWidget.lineNumbers.includes(ut)||(this._focusedStickyElementIndex=this._stickyScrollWidget.lineNumberCount-1),this._stickyScrollWidget.focusLineWithIndex(this._focusedStickyElementIndex))}else this._stickyScrollWidget.setState(this._widgetState)}findScrollWidgetState(){const St=this._editor.getOption(65),st=Math.min(this._maxStickyLines,this._editor.getOption(113).maxLineCount),ut=this._editor.getScrollTop();let pt=0;const Ne=[],je=[],et=this._editor.getVisibleRanges();if(0!==et.length){const wt=new F(et[0].startLineNumber,et[et.length-1].endLineNumber),Bt=this._stickyLineCandidateProvider.getCandidateStickyLinesIntersecting(wt);for(const xt of Bt){const Qt=xt.startLineNumber,ai=xt.endLineNumber,gi=xt.nestingDepth;if(ai-Qt>0){const di=(gi-1)*St,Ei=gi*St,Ki=this._editor.getBottomForLineNumber(Qt)-ut,zi=this._editor.getTopForLineNumber(ai)-ut,qi=this._editor.getBottomForLineNumber(ai)-ut;if(di>zi&&di<=qi){Ne.push(Qt),je.push(ai+1),pt=qi-Ei;break}if(Ei>Ki&&Ei<=qi&&(Ne.push(Qt),je.push(ai+1)),Ne.length===st)break}}}return this._endLineNumbers=je,new ne(Ne,je,pt,this._showEndForLine)}dispose(){super.dispose(),this._sessionStore.dispose()}};Dt.ID="store.contrib.stickyScrollController",Dt=yt=function(Zi,St,st,ut){var je,pt=arguments.length,Ne=pt<3?St:null===ut?ut=Object.getOwnPropertyDescriptor(St,st):ut;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ne=Reflect.decorate(Zi,St,st,ut);else for(var et=Zi.length-1;et>=0;et--)(je=Zi[et])&&(Ne=(pt<3?je(Ne):pt>3?je(St,st,Ne):je(St,st))||Ne);return pt>3&&Ne&&Object.defineProperty(St,st,Ne),Ne}([Ae(1,Ut.i),Ae(2,L.p),Ae(3,Mt.TG),Ae(4,De.c_),Ae(5,Ze.A),Ae(6,S.i6)],Dt);(0,f._K)(Dt.ID,Dt,1),(0,y.r1)(class gt extends y.Ke{constructor(){super({id:"editor.action.toggleStickyScroll",title:{value:(0,P.NC)("toggleStickyScroll","Toggle Sticky Scroll"),mnemonicTitle:(0,P.NC)({key:"mitoggleStickyScroll",comment:["&& denotes a mnemonic"]},"&&Toggle Sticky Scroll"),original:"Toggle Sticky Scroll"},category:r.View,toggled:{condition:S.Ao.equals("config.editor.stickyScroll.enabled",!0),title:(0,P.NC)("stickyScroll","Sticky Scroll"),mnemonicTitle:(0,P.NC)({key:"miStickyScroll",comment:["&& denotes a mnemonic"]},"&&Sticky Scroll")},menu:[{id:y.eH.CommandPalette},{id:y.eH.MenubarAppearanceMenu,group:"4_editor",order:3},{id:y.eH.StickyScrollContext}]})}run(St){return function(Zi,St,st,ut){return new(st||(st=Promise))(function(Ne,je){function et(xt){try{Bt(ut.next(xt))}catch(Qt){je(Qt)}}function wt(xt){try{Bt(ut.throw(xt))}catch(Qt){je(Qt)}}function Bt(xt){xt.done?Ne(xt.value):function pt(Ne){return Ne instanceof st?Ne:new st(function(je){je(Ne)})}(xt.value).then(et,wt)}Bt((ut=ut.apply(Zi,St||[])).next())})}(this,void 0,void 0,function*(){const st=St.get(v.Ui),ut=!st.getValue("editor.stickyScroll.enabled");return st.updateValue("editor.stickyScroll.enabled",ut)})}}),(0,y.r1)(class Zt extends f.x1{constructor(){super({id:"editor.action.focusStickyScroll",title:{value:(0,P.NC)("focusStickyScroll","Focus Sticky Scroll"),mnemonicTitle:(0,P.NC)({key:"mifocusStickyScroll",comment:["&& denotes a mnemonic"]},"&&Focus Sticky Scroll"),original:"Focus Sticky Scroll"},precondition:S.Ao.and(S.Ao.has("config.editor.stickyScroll.enabled"),T.u.stickyScrollVisible),menu:[{id:y.eH.CommandPalette}]})}runEditorCommand(St,st){var ut;null===(ut=Dt.get(st))||void 0===ut||ut.focus()}}),(0,y.r1)(class ci extends f.x1{constructor(){super({id:"editor.action.selectPreviousStickyScrollLine",title:{value:(0,P.NC)("selectPreviousStickyScrollLine.title","Select previous sticky scroll line"),original:"Select previous sticky scroll line"},precondition:T.u.stickyScrollFocused.isEqualTo(!0),keybinding:{weight:100,primary:16}})}runEditorCommand(St,st){var ut;null===(ut=Dt.get(st))||void 0===ut||ut.focusPrevious()}}),(0,y.r1)(class Ci extends f.x1{constructor(){super({id:"editor.action.selectNextStickyScrollLine",title:{value:(0,P.NC)("selectNextStickyScrollLine.title","Select next sticky scroll line"),original:"Select next sticky scroll line"},precondition:T.u.stickyScrollFocused.isEqualTo(!0),keybinding:{weight:100,primary:18}})}runEditorCommand(St,st){var ut;null===(ut=Dt.get(st))||void 0===ut||ut.focusNext()}}),(0,y.r1)(class Mi extends f.x1{constructor(){super({id:"editor.action.goToFocusedStickyScrollLine",title:{value:(0,P.NC)("goToFocusedStickyScrollLine.title","Go to focused sticky scroll line"),original:"Go to focused sticky scroll line"},precondition:T.u.stickyScrollFocused.isEqualTo(!0),keybinding:{weight:100,primary:3}})}runEditorCommand(St,st){var ut;null===(ut=Dt.get(st))||void 0===ut||ut.goToFocused()}}),(0,y.r1)(class Gi extends f.x1{constructor(){super({id:"editor.action.selectEditor",title:{value:(0,P.NC)("selectEditor.title","Select Editor"),original:"Select Editor"},precondition:T.u.stickyScrollFocused.isEqualTo(!0),keybinding:{weight:100,primary:9}})}runEditorCommand(St,st){var ut;null===(ut=Dt.get(st))||void 0===ut||ut.selectEditor()}})},54907:(Xe,we,e)=>{e.d(we,{_:()=>v,t:()=>y});var f=e(31738),P=e(55769),r=e(16055);class y{constructor(T,E){this.leadingLineContent=T,this.characterCountDelta=E}}class v{constructor(T,E,L,p,c,u,g=P.mX.default,i=void 0){this.clipboardText=i,this._snippetCompareFn=v._compareCompletionItems,this._items=T,this._column=E,this._wordDistance=p,this._options=c,this._refilterKind=1,this._lineContext=L,this._fuzzyScoreOptions=g,"top"===u?this._snippetCompareFn=v._compareCompletionItemsSnippetsUp:"bottom"===u&&(this._snippetCompareFn=v._compareCompletionItemsSnippetsDown)}get lineContext(){return this._lineContext}set lineContext(T){(this._lineContext.leadingLineContent!==T.leadingLineContent||this._lineContext.characterCountDelta!==T.characterCountDelta)&&(this._refilterKind=this._lineContext.characterCountDelta<T.characterCountDelta&&this._filteredItems?2:1,this._lineContext=T)}get items(){return this._ensureCachedState(),this._filteredItems}getItemsByProvider(){return this._ensureCachedState(),this._itemsByProvider}getIncompleteProvider(){this._ensureCachedState();const T=new Set;for(const[E,L]of this.getItemsByProvider())L.length>0&&L[0].container.incomplete&&T.add(E);return T}get stats(){return this._ensureCachedState(),this._stats}_ensureCachedState(){0!==this._refilterKind&&this._createCachedState()}_createCachedState(){this._itemsByProvider=new Map;const T=[],{leadingLineContent:E,characterCountDelta:L}=this._lineContext;let p="",c="";const u=1===this._refilterKind?this._items:this._filteredItems,g=[],i=!this._options.filterGraceful||u.length>2e3?P.EW:P.l7;for(let d=0;d<u.length;d++){const a=u[d];if(a.isInvalid)continue;const m=this._itemsByProvider.get(a.provider);m?m.push(a):this._itemsByProvider.set(a.provider,[a]);const l=a.position.column-a.editStart.column,I=l+L-(a.position.column-this._column);if(p.length!==I&&(p=0===I?"":E.slice(-I),c=p.toLowerCase()),a.word=p,0===I)a.score=P.CL.Default;else{let w=0;for(;w<l;){const D=p.charCodeAt(w);if(32!==D&&9!==D)break;w+=1}if(w>=I)a.score=P.CL.Default;else if("string"==typeof a.completion.filterText){const D=i(p,c,w,a.completion.filterText,a.filterTextLow,0,this._fuzzyScoreOptions);if(!D)continue;0===(0,r.zY)(a.completion.filterText,a.textLabel)?a.score=D:(a.score=(0,P.jB)(p,c,w,a.textLabel,a.labelLow,0),a.score[0]=D[0])}else{const D=i(p,c,w,a.textLabel,a.labelLow,0,this._fuzzyScoreOptions);if(!D)continue;a.score=D}}a.idx=d,a.distance=this._wordDistance.distance(a.position,a.completion),g.push(a),T.push(a.textLabel.length)}this._filteredItems=g.sort(this._snippetCompareFn),this._refilterKind=0,this._stats={pLabelLen:T.length?(0,f.HW)(T.length-.85,T,(d,a)=>d-a):0}}static _compareCompletionItems(T,E){return T.score[0]>E.score[0]?-1:T.score[0]<E.score[0]?1:T.distance<E.distance?-1:T.distance>E.distance?1:T.idx<E.idx?-1:T.idx>E.idx?1:0}static _compareCompletionItemsSnippetsDown(T,E){if(T.completion.kind!==E.completion.kind){if(27===T.completion.kind)return 1;if(27===E.completion.kind)return-1}return v._compareCompletionItems(T,E)}static _compareCompletionItemsSnippetsUp(T,E){if(T.completion.kind!==E.completion.kind){if(27===T.completion.kind)return-1;if(27===E.completion.kind)return 1}return v._compareCompletionItems(T,E)}}},82090:(Xe,we,e)=>{e.d(we,{A9:()=>N,GI:()=>w,ZJ:()=>k,_y:()=>I,i5:()=>G,kL:()=>O,tG:()=>se});var f=e(87618),P=e(17967),r=e(55769),y=e(78694),v=e(11664),S=e(91402),T=e(15850),E=e(68678),L=e(96726),p=e(56230),c=e(36791),u=e(37190),g=e(63032),i=e(11813),d=e(66221),a=e(55763),m=e(30545),l=function(j,$,K,J){return new(K||(K=Promise))(function(ne,_){function ae(ue){try{_e(J.next(ue))}catch(ve){_(ve)}}function ge(ue){try{_e(J.throw(ue))}catch(ve){_(ve)}}function _e(ue){ue.done?ne(ue.value):function te(ne){return ne instanceof K?ne:new K(function(_){_(ne)})}(ue.value).then(ae,ge)}_e((J=J.apply(j,$||[])).next())})};const I={Visible:m.iX,HasFocusedSuggestion:new d.uy("suggestWidgetHasFocusedSuggestion",!1,(0,u.NC)("suggestWidgetHasSelection","Whether any suggestion is focused")),DetailsVisible:new d.uy("suggestWidgetDetailsVisible",!1,(0,u.NC)("suggestWidgetDetailsVisible","Whether suggestion details are visible")),MultipleSuggestions:new d.uy("suggestWidgetMultipleSuggestions",!1,(0,u.NC)("suggestWidgetMultipleSuggestions","Whether there are multiple suggestions to pick from")),MakesTextEdit:new d.uy("suggestionMakesTextEdit",!0,(0,u.NC)("suggestionMakesTextEdit","Whether inserting the current suggestion yields in a change or has everything already been typed")),AcceptSuggestionsOnEnter:new d.uy("acceptSuggestionOnEnter",!0,(0,u.NC)("acceptSuggestionOnEnter","Whether suggestions are inserted when pressing Enter")),HasInsertAndReplaceRange:new d.uy("suggestionHasInsertAndReplaceRange",!1,(0,u.NC)("suggestionHasInsertAndReplaceRange","Whether the current suggestion has insert and replace behaviour")),InsertMode:new d.uy("suggestionInsertMode",void 0,{type:"string",description:(0,u.NC)("suggestionInsertMode","Whether the default behaviour is to insert or replace")}),CanResolve:new d.uy("suggestionCanResolve",!1,(0,u.NC)("suggestionCanResolve","Whether the current suggestion supports to resolve further details"))},w=new g.eH("suggestWidgetStatusBar");class D{constructor($,K,J,te){var ne;this.position=$,this.completion=K,this.container=J,this.provider=te,this.isInvalid=!1,this.score=r.CL.Default,this.distance=0,this.textLabel="string"==typeof K.label?K.label:null===(ne=K.label)||void 0===ne?void 0:ne.label,this.labelLow=this.textLabel.toLowerCase(),this.isInvalid=!this.textLabel,this.sortTextLow=K.sortText&&K.sortText.toLowerCase(),this.filterTextLow=K.filterText&&K.filterText.toLowerCase(),this.extensionId=K.extensionId,L.e.isIRange(K.range)?(this.editStart=new E.L(K.range.startLineNumber,K.range.startColumn),this.editInsertEnd=new E.L(K.range.endLineNumber,K.range.endColumn),this.editReplaceEnd=new E.L(K.range.endLineNumber,K.range.endColumn),this.isInvalid=this.isInvalid||L.e.spansMultipleLines(K.range)||K.range.startLineNumber!==$.lineNumber):(this.editStart=new E.L(K.range.insert.startLineNumber,K.range.insert.startColumn),this.editInsertEnd=new E.L(K.range.insert.endLineNumber,K.range.insert.endColumn),this.editReplaceEnd=new E.L(K.range.replace.endLineNumber,K.range.replace.endColumn),this.isInvalid=this.isInvalid||L.e.spansMultipleLines(K.range.insert)||L.e.spansMultipleLines(K.range.replace)||K.range.insert.startLineNumber!==$.lineNumber||K.range.replace.startLineNumber!==$.lineNumber||K.range.insert.startColumn!==K.range.replace.startColumn),"function"!=typeof te.resolveCompletionItem&&(this._resolveCache=Promise.resolve(),this._resolveDuration=0)}get isResolved(){return void 0!==this._resolveDuration}get resolveDuration(){return void 0!==this._resolveDuration?this._resolveDuration:-1}resolve($){return l(this,void 0,void 0,function*(){if(!this._resolveCache){const K=$.onCancellationRequested(()=>{this._resolveCache=void 0,this._resolveDuration=void 0}),J=new v.G(!0);this._resolveCache=Promise.resolve(this.provider.resolveCompletionItem(this.completion,$)).then(te=>{Object.assign(this.completion,te),this._resolveDuration=J.elapsed(),K.dispose()},te=>{(0,P.n2)(te)&&(this._resolveCache=void 0,this._resolveDuration=void 0)})}return this._resolveCache})}}class N{constructor($=2,K=new Set,J=new Set,te=new Map,ne=!0){this.snippetSortOrder=$,this.kindFilter=K,this.providerFilter=J,this.providerItemsToReuse=te,this.showDeprecated=ne}}let A;function k(){return A}N.default=new N;class R{constructor($,K,J,te){this.items=$,this.needsClipboard=K,this.durations=J,this.disposable=te}}function O(j,$,K,J=N.default,te={triggerKind:0},ne=f.T.None){return l(this,void 0,void 0,function*(){const _=new v.G;K=K.clone();const ae=$.getWordAtPosition(K),ge=ae?new L.e(K.lineNumber,ae.startColumn,K.lineNumber,ae.endColumn):L.e.fromPositions(K),_e={replace:ge,insert:ge.setEndPosition(K.lineNumber,K.column)},ue=[],ve=new y.SL,Ie=[];let Se=!1;const Ve=(ye,oe,Y)=>{var x,F,ie;let Ce=!1;if(!oe)return Ce;for(const ke of oe.suggestions)if(!J.kindFilter.has(ke.kind)){if(!J.showDeprecated&&null!==(x=ke?.tags)&&void 0!==x&&x.includes(1))continue;ke.range||(ke.range=_e),ke.sortText||(ke.sortText="string"==typeof ke.label?ke.label:ke.label.label),!Se&&ke.insertTextRules&&4&ke.insertTextRules&&(Se=c.Yj.guessNeedsClipboard(ke.insertText)),ue.push(new D(K,ke,oe,ye)),Ce=!0}return(0,y.Wf)(oe)&&ve.add(oe),Ie.push({providerName:null!==(F=ye._debugDisplayName)&&void 0!==F?F:"unknown_provider",elapsedProvider:null!==(ie=oe.duration)&&void 0!==ie?ie:-1,elapsedOverall:Y.elapsed()}),Ce},De=(()=>l(this,void 0,void 0,function*(){if(!A||J.kindFilter.has(27))return;const ye=J.providerItemsToReuse.get(A);if(ye)return void ye.forEach(x=>ue.push(x));if(J.providerFilter.size>0&&!J.providerFilter.has(A))return;const oe=new v.G,Y=yield A.provideCompletionItems($,K,te,ne);Ve(A,Y,oe)}))();for(const ye of j.orderedGroups($)){let oe=!1;if(yield Promise.all(ye.map(Y=>l(this,void 0,void 0,function*(){if(J.providerItemsToReuse.has(Y)){const x=J.providerItemsToReuse.get(Y);return x.forEach(F=>ue.push(F)),void(oe=oe||x.length>0)}if(!(J.providerFilter.size>0)||J.providerFilter.has(Y))try{const x=new v.G,F=yield Y.provideCompletionItems($,K,te,ne);oe=Ve(Y,F,x)||oe}catch(x){(0,P.Cp)(x)}}))),oe||ne.isCancellationRequested)break}return yield De,ne.isCancellationRequested?(ve.dispose(),Promise.reject(new P.FU)):new R(ue.sort(function B(j){return ee.get(j)}(J.snippetSortOrder)),Se,{entries:Ie,elapsed:_.elapsed()},ve)})}function W(j,$){if(j.sortTextLow&&$.sortTextLow){if(j.sortTextLow<$.sortTextLow)return-1;if(j.sortTextLow>$.sortTextLow)return 1}return j.textLabel<$.textLabel?-1:j.textLabel>$.textLabel?1:j.completion.kind-$.completion.kind}const ee=new Map;function G(j,$){var K;null===(K=j.getContribution("editor.contrib.suggestController"))||void 0===K||K.triggerSuggest((new Set).add($),void 0,!0)}ee.set(0,function z(j,$){if(j.completion.kind!==$.completion.kind){if(27===j.completion.kind)return-1;if(27===$.completion.kind)return 1}return W(j,$)}),ee.set(2,function U(j,$){if(j.completion.kind!==$.completion.kind){if(27===j.completion.kind)return 1;if(27===$.completion.kind)return-1}return W(j,$)}),ee.set(1,W),i.P.registerCommand("_executeCompletionItemProvider",(j,...$)=>l(void 0,void 0,void 0,function*(){const[K,J,te,ne]=$;(0,S.p_)(T.o.isUri(K)),(0,S.p_)(E.L.isIPosition(J)),(0,S.p_)("string"==typeof te||!te),(0,S.p_)("number"==typeof ne||!ne);const{completionProvider:_}=j.get(a.p),ae=yield j.get(p.S).createModelReference(K);try{const ge={incomplete:!1,suggestions:[]},_e=[],ue=ae.object.textEditorModel.validatePosition(J),ve=yield O(_,ae.object.textEditorModel,ue,void 0,{triggerCharacter:te??void 0,triggerKind:te?1:0});for(const Ie of ve.items)_e.length<(ne??0)&&_e.push(Ie.resolve(f.T.None)),ge.incomplete=ge.incomplete||Ie.container.incomplete,ge.suggestions.push(Ie.completion);try{return yield Promise.all(_e),ge}finally{setTimeout(()=>ve.disposable.dispose(),100)}}finally{ae.dispose()}}));class se{static isAllOff($){return"off"===$.other&&"off"===$.comments&&"off"===$.strings}static isAllOn($){return"on"===$.other&&"on"===$.comments&&"on"===$.strings}static valueFor($,K){switch(K){case 1:return $.comments;case 2:return $.strings;default:return $.other}}}},50286:(Xe,we,e)=>{e.d(we,{n:()=>Jt});var k,f=e(41539),P=e(31738),r=e(85328),y=e(87618),v=e(17967),S=e(58178),T=e(88565),E=e(78694),L=e(88593),p=e(11664),c=e(91402),u=e(45332),g=e(8256),i=e(20158),d=e(68678),a=e(96726),m=e(15446),l=e(13933),I=e(36791),w=e(79406),D=e(66221);let R=k=class{constructor(nt,Me){this._editor=nt,this._enabled=!1,this._ckAtEnd=k.AtEnd.bindTo(Me),this._configListener=this._editor.onDidChangeConfiguration(he=>he.hasChanged(121)&&this._update()),this._update()}dispose(){var nt;this._configListener.dispose(),null===(nt=this._selectionListener)||void 0===nt||nt.dispose(),this._ckAtEnd.reset()}_update(){const nt="on"===this._editor.getOption(121);if(this._enabled!==nt)if(this._enabled=nt,this._enabled){const Me=()=>{if(!this._editor.hasModel())return void this._ckAtEnd.set(!1);const he=this._editor.getModel(),Be=this._editor.getSelection(),Ke=he.getWordAtPosition(Be.getStartPosition());this._ckAtEnd.set(!!Ke&&Ke.endColumn===Be.getStartPosition().column)};this._selectionListener=this._editor.onDidChangeCursorSelection(Me),Me()}else this._selectionListener&&(this._ckAtEnd.reset(),this._selectionListener.dispose(),this._selectionListener=void 0)}};var nt;R.AtEnd=new D.uy("atEndOfWord",!1),R=k=function(ki,nt,Me,he){var Ye,Be=arguments.length,Ke=Be<3?nt:null===he?he=Object.getOwnPropertyDescriptor(nt,Me):he;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ke=Reflect.decorate(ki,nt,Me,he);else for(var dt=ki.length-1;dt>=0;dt--)(Ye=ki[dt])&&(Ke=(Be<3?Ye(Ke):Be>3?Ye(nt,Me,Ke):Ye(nt,Me))||Ke);return Be>3&&Ke&&Object.defineProperty(nt,Me,Ke),Ke}([(1,nt=D.i6,function(Me,he){nt(Me,he,1)})],R);var se,O=e(37190),W=e(11813),z=e(12065),U=e(22468),ee=e(82090);let j=se=class{constructor(nt,Me){this._editor=nt,this._index=0,this._ckOtherSuggestions=se.OtherSuggestions.bindTo(Me)}dispose(){this.reset()}reset(){var nt;this._ckOtherSuggestions.reset(),null===(nt=this._listener)||void 0===nt||nt.dispose(),this._model=void 0,this._acceptNext=void 0,this._ignore=!1}set({model:nt,index:Me},he){0!==nt.items.length&&se._moveIndex(!0,nt,Me)!==Me?(this._acceptNext=he,this._model=nt,this._index=Me,this._listener=this._editor.onDidChangeCursorPosition(()=>{this._ignore||this.reset()}),this._ckOtherSuggestions.set(!0)):this.reset()}static _moveIndex(nt,Me,he){let Be=he;for(let Ke=Me.items.length;Ke>0&&(Be=(Be+Me.items.length+(nt?1:-1))%Me.items.length,Be!==he&&Me.items[Be].completion.additionalTextEdits);Ke--);return Be}next(){this._move(!0)}prev(){this._move(!1)}_move(nt){if(this._model)try{this._ignore=!0,this._index=se._moveIndex(nt,this._model,this._index),this._acceptNext({index:this._index,item:this._model.items[this._index],model:this._model})}finally{this._ignore=!1}}};j.OtherSuggestions=new D.uy("hasOtherSuggestions",!1),j=se=function(ki,nt,Me,he){var Ye,Be=arguments.length,Ke=Be<3?nt:null===he?he=Object.getOwnPropertyDescriptor(nt,Me):he;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ke=Reflect.decorate(ki,nt,Me,he);else for(var dt=ki.length-1;dt>=0;dt--)(Ye=ki[dt])&&(Ke=(Be<3?Ye(Ke):Be>3?Ye(nt,Me,Ke):Ye(nt,Me))||Ke);return Be>3&&Ke&&Object.defineProperty(nt,Me,Ke),Ke}([function(ki,nt){return function(Me,he){nt(Me,he,1)}}(0,D.i6)],j);var $=e(32583);class K{constructor(nt,Me,he,Be){this._disposables=new E.SL,this._disposables.add(he.onDidSuggest(Ke=>{0===Ke.completionModel.items.length&&this.reset()})),this._disposables.add(he.onDidCancel(Ke=>{this.reset()})),this._disposables.add(Me.onDidShow(()=>this._onItem(Me.getFocusedItem()))),this._disposables.add(Me.onDidFocus(this._onItem,this)),this._disposables.add(Me.onDidHide(this.reset,this)),this._disposables.add(nt.onWillType(Ke=>{if(this._active&&!Me.isFrozen()&&0!==he.state){const Ye=Ke.charCodeAt(Ke.length-1);this._active.acceptCharacters.has(Ye)&&nt.getOption(0)&&Be(this._active.item)}}))}_onItem(nt){if(!nt||!(0,P.Of)(nt.item.completion.commitCharacters))return void this.reset();if(this._active&&this._active.item.item===nt.item)return;const Me=new $.q;for(const he of nt.item.completion.commitCharacters)he.length>0&&Me.add(he.charCodeAt(0));this._active={acceptCharacters:Me,item:nt}}reset(){this._active=void 0}dispose(){this._disposables.dispose()}}var Y,J=e(16055),te=e(81534),ne=e(57205),_=e(66858),ae=e(2034),ge=e(47358),_e=e(58942),ue=e(54907),ve=e(55763),Ie=e(55769),Se=e(12625),Ve=e(62310),ye=function(ki,nt){return function(Me,he){nt(Me,he,ki)}};class x{static shouldAutoTrigger(nt){if(!nt.hasModel())return!1;const Me=nt.getModel(),he=nt.getPosition();Me.tokenization.tokenizeIfCheap(he.lineNumber);const Be=Me.getWordAtPosition(he);return!(!Be||Be.endColumn!==he.column&&Be.startColumn+1!==he.column||!isNaN(Number(Be.word)))}constructor(nt,Me,he){this.leadingLineContent=nt.getLineContent(Me.lineNumber).substr(0,Me.column-1),this.leadingWord=nt.getWordUntilPosition(Me),this.lineNumber=Me.lineNumber,this.column=Me.column,this.triggerOptions=he}}let Ce=Y=class{constructor(nt,Me,he,Be,Ke,Ye,dt,zt,_i){this._editor=nt,this._editorWorkerService=Me,this._clipboardService=he,this._telemetryService=Be,this._logService=Ke,this._contextKeyService=Ye,this._configurationService=dt,this._languageFeaturesService=zt,this._envService=_i,this._toDispose=new E.SL,this._triggerCharacterListener=new E.SL,this._triggerQuickSuggest=new r._F,this._triggerState=void 0,this._completionDisposables=new E.SL,this._onDidCancel=new S.Q5,this._onDidTrigger=new S.Q5,this._onDidSuggest=new S.Q5,this.onDidCancel=this._onDidCancel.event,this.onDidTrigger=this._onDidTrigger.event,this.onDidSuggest=this._onDidSuggest.event,this._telemetryGate=0,this._currentSelection=this._editor.getSelection()||new te.Y(1,1,1,1),this._toDispose.add(this._editor.onDidChangeModel(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeModelLanguage(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeConfiguration(()=>{this._updateTriggerCharacters()})),this._toDispose.add(this._languageFeaturesService.completionProvider.onDidChange(()=>{this._updateTriggerCharacters(),this._updateActiveSuggestSession()}));let mi=!1;this._toDispose.add(this._editor.onDidCompositionStart(()=>{mi=!0})),this._toDispose.add(this._editor.onDidCompositionEnd(()=>{mi=!1,this._onCompositionEnd()})),this._toDispose.add(this._editor.onDidChangeCursorSelection(qt=>{mi||this._onCursorChange(qt)})),this._toDispose.add(this._editor.onDidChangeModelContent(()=>{!mi&&void 0!==this._triggerState&&this._refilterCompletionItems()})),this._updateTriggerCharacters()}dispose(){(0,E.B9)(this._triggerCharacterListener),(0,E.B9)([this._onDidCancel,this._onDidSuggest,this._onDidTrigger,this._triggerQuickSuggest]),this._toDispose.dispose(),this._completionDisposables.dispose(),this.cancel()}_updateTriggerCharacters(){if(this._triggerCharacterListener.clear(),this._editor.getOption(89)||!this._editor.hasModel()||!this._editor.getOption(119))return;const nt=new Map;for(const he of this._languageFeaturesService.completionProvider.all(this._editor.getModel()))for(const Be of he.triggerCharacters||[]){let Ke=nt.get(Be);Ke||(Ke=new Set,Ke.add((0,ee.ZJ)()),nt.set(Be,Ke)),Ke.add(he)}const Me=he=>{var Be;if(!function ie(ki,nt,Me){if(!nt.getContextKeyValue("inlineSuggestionVisible"))return!0;const he=nt.getContextKeyValue(Se.f.suppressSuggestions.key);return void 0!==he?!he:!ki.getOption(61).suppressSuggestions}(this._editor,this._contextKeyService)||x.shouldAutoTrigger(this._editor))return;if(!he){const dt=this._editor.getPosition();he=this._editor.getModel().getLineContent(dt.lineNumber).substr(0,dt.column-1)}let Ke="";(0,J.YK)(he.charCodeAt(he.length-1))?(0,J.ZG)(he.charCodeAt(he.length-2))&&(Ke=he.substr(he.length-2)):Ke=he.charAt(he.length-1);const Ye=nt.get(Ke);if(Ye){const dt=new Map;if(this._completionModel)for(const[zt,_i]of this._completionModel.getItemsByProvider())Ye.has(zt)||dt.set(zt,_i);this.trigger({auto:!0,triggerKind:1,triggerCharacter:Ke,retrigger:!!this._completionModel,clipboardText:null===(Be=this._completionModel)||void 0===Be?void 0:Be.clipboardText,completionOptions:{providerFilter:Ye,providerItemsToReuse:dt}})}};this._triggerCharacterListener.add(this._editor.onDidType(Me)),this._triggerCharacterListener.add(this._editor.onDidCompositionEnd(()=>Me()))}get state(){return this._triggerState?this._triggerState.auto?2:1:0}cancel(nt=!1){var Me;void 0!==this._triggerState&&(this._triggerQuickSuggest.cancel(),null===(Me=this._requestToken)||void 0===Me||Me.cancel(),this._requestToken=void 0,this._triggerState=void 0,this._completionModel=void 0,this._context=void 0,this._onDidCancel.fire({retrigger:nt}))}clear(){this._completionDisposables.clear()}_updateActiveSuggestSession(){void 0!==this._triggerState&&(this._editor.hasModel()&&this._languageFeaturesService.completionProvider.has(this._editor.getModel())?this.trigger({auto:this._triggerState.auto,retrigger:!0}):this.cancel())}_onCursorChange(nt){if(!this._editor.hasModel())return;const Me=this._currentSelection;this._currentSelection=this._editor.getSelection(),!nt.selection.isEmpty()||0!==nt.reason&&3!==nt.reason||"keyboard"!==nt.source&&"deleteLeft"!==nt.source?this.cancel():void 0===this._triggerState&&0===nt.reason?(Me.containsRange(this._currentSelection)||Me.getEndPosition().isBeforeOrEqual(this._currentSelection.getPosition()))&&this._doTriggerQuickSuggest():void 0!==this._triggerState&&3===nt.reason&&this._refilterCompletionItems()}_onCompositionEnd(){void 0===this._triggerState?this._doTriggerQuickSuggest():this._refilterCompletionItems()}_doTriggerQuickSuggest(){var nt;ee.tG.isAllOff(this._editor.getOption(87))||this._editor.getOption(116).snippetsPreventQuickSuggestions&&null!==(nt=l.f.get(this._editor))&&void 0!==nt&&nt.isInSnippet()||(this.cancel(),this._triggerQuickSuggest.cancelAndSet(()=>{if(void 0!==this._triggerState||!x.shouldAutoTrigger(this._editor)||!this._editor.hasModel()||!this._editor.hasWidgetFocus())return;const Me=this._editor.getModel(),he=this._editor.getPosition(),Be=this._editor.getOption(87);if(!ee.tG.isAllOff(Be)){if(!ee.tG.isAllOn(Be)){Me.tokenization.tokenizeIfCheap(he.lineNumber);const Ke=Me.tokenization.getLineTokens(he.lineNumber),Ye=Ke.getStandardTokenType(Ke.findTokenIndexAtOffset(Math.max(he.column-1-1,0)));if("on"!==ee.tG.valueFor(Be,Ye))return}(function F(ki,nt,Me){if(!nt.getContextKeyValue(Se.f.inlineSuggestionVisible.key))return!0;const he=nt.getContextKeyValue(Se.f.suppressSuggestions.key);return void 0!==he?!he:!ki.getOption(61).suppressSuggestions})(this._editor,this._contextKeyService)&&this._languageFeaturesService.completionProvider.has(Me)&&this.trigger({auto:!0})}},this._editor.getOption(88)))}_refilterCompletionItems(){(0,c.p_)(this._editor.hasModel()),(0,c.p_)(void 0!==this._triggerState);const nt=this._editor.getModel(),Me=this._editor.getPosition(),he=new x(nt,Me,Object.assign(Object.assign({},this._triggerState),{refilter:!0}));this._onNewContext(he)}trigger(nt){var Me,he,Be,Ke,Ye,dt;if(!this._editor.hasModel())return;const zt=this._editor.getModel(),_i=new x(zt,this._editor.getPosition(),nt);this.cancel(nt.retrigger),this._triggerState=nt,this._onDidTrigger.fire({auto:nt.auto,shy:null!==(Me=nt.shy)&&void 0!==Me&&Me,position:this._editor.getPosition()}),this._context=_i;let mi={triggerKind:null!==(he=nt.triggerKind)&&void 0!==he?he:0};nt.triggerCharacter&&(mi={triggerKind:1,triggerCharacter:nt.triggerCharacter}),this._requestToken=new y.A;let oi=1;switch(this._editor.getOption(110)){case"top":oi=0;break;case"bottom":oi=2}const{itemKind:Ai,showDeprecated:Wi}=Y._createSuggestFilter(this._editor),$i=new ee.A9(oi,null!==(Ke=null===(Be=nt.completionOptions)||void 0===Be?void 0:Be.kindFilter)&&void 0!==Ke?Ke:Ai,null===(Ye=nt.completionOptions)||void 0===Ye?void 0:Ye.providerFilter,null===(dt=nt.completionOptions)||void 0===dt?void 0:dt.providerItemsToReuse,Wi),fi=_.K.create(this._editorWorkerService,this._editor),$t=(0,ee.kL)(this._languageFeaturesService.completionProvider,zt,this._editor.getPosition(),$i,mi,this._requestToken.token);Promise.all([$t,fi]).then(([Ii,si])=>function(ki,nt,Me,he){return new(Me||(Me=Promise))(function(Ke,Ye){function dt(mi){try{_i(he.next(mi))}catch(qt){Ye(qt)}}function zt(mi){try{_i(he.throw(mi))}catch(qt){Ye(qt)}}function _i(mi){mi.done?Ke(mi.value):function Be(Ke){return Ke instanceof Me?Ke:new Me(function(Ye){Ye(Ke)})}(mi.value).then(dt,zt)}_i((he=he.apply(ki,nt||[])).next())})}(this,void 0,void 0,function*(){var nn;if(null===(nn=this._requestToken)||void 0===nn||nn.dispose(),!this._editor.hasModel())return;let en=nt?.clipboardText;if(!en&&Ii.needsClipboard&&(en=yield this._clipboardService.readText()),void 0===this._triggerState)return;const yn=this._editor.getModel(),An=new x(yn,this._editor.getPosition(),nt),ro=Object.assign(Object.assign({},Ie.mX.default),{firstMatchCanBeWeak:!this._editor.getOption(116).matchOnWordStartOnly});if(this._completionModel=new ue._(Ii.items,this._context.column,{leadingLineContent:An.leadingLineContent,characterCountDelta:An.column-this._context.column},si,this._editor.getOption(116),this._editor.getOption(110),ro,en),this._completionDisposables.add(Ii.disposable),this._onNewContext(An),this._reportDurationsTelemetry(Ii.durations),!this._envService.isBuilt||this._envService.isExtensionDevelopment)for(const ao of Ii.items)ao.isInvalid&&this._logService.warn(`[suggest] did IGNORE invalid completion item from ${ao.provider._debugDisplayName}`,ao.completion)})).catch(v.dL)}_reportDurationsTelemetry(nt){this._telemetryGate++%230==0&&setTimeout(()=>{this._telemetryService.publicLog2("suggest.durations.json",{data:JSON.stringify(nt)}),this._logService.debug("suggest.durations.json",nt)})}static _createSuggestFilter(nt){const Me=new Set;"none"===nt.getOption(110)&&Me.add(27);const Be=nt.getOption(116);return Be.showMethods||Me.add(0),Be.showFunctions||Me.add(1),Be.showConstructors||Me.add(2),Be.showFields||Me.add(3),Be.showVariables||Me.add(4),Be.showClasses||Me.add(5),Be.showStructs||Me.add(6),Be.showInterfaces||Me.add(7),Be.showModules||Me.add(8),Be.showProperties||Me.add(9),Be.showEvents||Me.add(10),Be.showOperators||Me.add(11),Be.showUnits||Me.add(12),Be.showValues||Me.add(13),Be.showConstants||Me.add(14),Be.showEnums||Me.add(15),Be.showEnumMembers||Me.add(16),Be.showKeywords||Me.add(17),Be.showWords||Me.add(18),Be.showColors||Me.add(19),Be.showFiles||Me.add(20),Be.showReferences||Me.add(21),Be.showColors||Me.add(22),Be.showFolders||Me.add(23),Be.showTypeParameters||Me.add(24),Be.showSnippets||Me.add(27),Be.showUsers||Me.add(25),Be.showIssues||Me.add(26),{itemKind:Me,showDeprecated:Be.showDeprecated}}_onNewContext(nt){if(this._context){if(nt.lineNumber!==this._context.lineNumber)return void this.cancel();if((0,J.V8)(nt.leadingLineContent)!==(0,J.V8)(this._context.leadingLineContent))return void this.cancel();if(nt.column<this._context.column)return void(nt.leadingWord.word?this.trigger({auto:this._context.triggerOptions.auto,retrigger:!0}):this.cancel());if(this._completionModel){if(0!==nt.leadingWord.word.length&&nt.leadingWord.startColumn>this._context.leadingWord.startColumn){if(x.shouldAutoTrigger(this._editor)&&this._context){const he=this._completionModel.getItemsByProvider();this.trigger({auto:this._context.triggerOptions.auto,retrigger:!0,clipboardText:this._completionModel.clipboardText,completionOptions:{providerItemsToReuse:he}})}return}if(nt.column>this._context.column&&this._completionModel.getIncompleteProvider().size>0&&0!==nt.leadingWord.word.length){const Me=new Map,he=new Set;for(const[Be,Ke]of this._completionModel.getItemsByProvider())Ke.length>0&&Ke[0].container.incomplete?he.add(Be):Me.set(Be,Ke);this.trigger({auto:this._context.triggerOptions.auto,triggerKind:2,retrigger:!0,clipboardText:this._completionModel.clipboardText,completionOptions:{providerFilter:he,providerItemsToReuse:Me}})}else{const Me=this._completionModel.lineContext;let he=!1;if(this._completionModel.lineContext={leadingLineContent:nt.leadingLineContent,characterCountDelta:nt.column-this._context.column},0===this._completionModel.items.length){const Be=x.shouldAutoTrigger(this._editor);if(!this._context)return void this.cancel();if(Be&&this._context.leadingWord.endColumn<nt.leadingWord.startColumn)return void this.trigger({auto:this._context.triggerOptions.auto,retrigger:!0});if(this._context.triggerOptions.auto)return void this.cancel();if(this._completionModel.lineContext=Me,he=this._completionModel.items.length>0,he&&0===nt.leadingWord.word.length)return void this.cancel()}this._onDidSuggest.fire({completionModel:this._completionModel,triggerOptions:nt.triggerOptions,isFrozen:he})}}}}};Ce=Y=function(ki,nt,Me,he){var Ye,Be=arguments.length,Ke=Be<3?nt:null===he?he=Object.getOwnPropertyDescriptor(nt,Me):he;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ke=Reflect.decorate(ki,nt,Me,he);else for(var dt=ki.length-1;dt>=0;dt--)(Ye=ki[dt])&&(Ke=(Be<3?Ye(Ke):Be>3?Ye(nt,Me,Ke):Ye(nt,Me))||Ke);return Be>3&&Ke&&Object.defineProperty(nt,Me,Ke),Ke}([ye(1,ne.p),ye(2,ae.p),ye(3,_e.b),ye(4,U.VZ),ye(5,D.i6),ye(6,ge.Ui),ye(7,ve.p),ye(8,Ve.Y)],Ce);let ke=(()=>{class ki{constructor(Me,he){this._disposables=new E.SL,this._lastOvertyped=[],this._locked=!1,this._disposables.add(Me.onWillType(()=>{if(this._locked||!Me.hasModel())return;const Be=Me.getSelections(),Ke=Be.length;let Ye=!1;for(let zt=0;zt<Ke;zt++)if(!Be[zt].isEmpty()){Ye=!0;break}if(!Ye)return void(0!==this._lastOvertyped.length&&(this._lastOvertyped.length=0));this._lastOvertyped=[];const dt=Me.getModel();for(let zt=0;zt<Ke;zt++){const _i=Be[zt];if(dt.getValueLengthInRange(_i)>ki._maxSelectionLength)return;this._lastOvertyped[zt]={value:dt.getValueInRange(_i),multiline:_i.startLineNumber!==_i.endLineNumber}}})),this._disposables.add(he.onDidTrigger(Be=>{this._locked=!0})),this._disposables.add(he.onDidCancel(Be=>{this._locked=!1}))}getLastOvertypedInfo(Me){if(Me>=0&&Me<this._lastOvertyped.length)return this._lastOvertyped[Me]}dispose(){this._disposables.dispose()}}return ki._maxSelectionLength=51200,ki})();var Pe=e(20274),fe=(e(15810),e(80568)),be=e(53499),pe=e(93379),Q=e.n(pe),le=e(7795),Fe=e.n(le),He=e(90569),Je=e.n(He),ot=e(3565),lt=e.n(ot),mt=e(19216),ft=e.n(mt),Lt=e(44589),Tt=e.n(Lt),Mt=e(45224),Ut={};Ut.styleTagTransform=Tt(),Ut.setAttributes=lt(),Ut.insert=Je().bind(null,"head"),Ut.domAPI=Fe(),Ut.insertStyleElement=ft(),Q()(Mt.Z,Ut);var it=e(78),qe=e(26775),Ze=e(65227),Ee=e(63032),Ae=function(ki,nt){return function(Me,he){nt(Me,he,ki)}};class ht extends Ze.Mm{updateLabel(){const nt=this._keybindingService.lookupKeybinding(this._action.id,this._contextKeyService);if(!nt)return super.updateLabel();this.label&&(this.label.textContent=(0,O.NC)({key:"content",comment:["A label","A keybinding"]},"{0} ({1})",this._action.label,ht.symbolPrintEnter(nt)))}static symbolPrintEnter(nt){var Me;return null===(Me=nt.getLabel())||void 0===Me?void 0:Me.replace(/\benter\b/gi,"\u23ce")}}let yt=class{constructor(nt,Me,he,Be,Ke){this._menuId=Me,this._menuService=Be,this._contextKeyService=Ke,this._menuDisposables=new E.SL,this.element=Pe.R3(nt,Pe.$(".suggest-status-bar"));const Ye=dt=>dt instanceof Ee.U8?he.createInstance(ht,dt,void 0):void 0;this._leftActions=new qe.o(this.element,{actionViewItemProvider:Ye}),this._rightActions=new qe.o(this.element,{actionViewItemProvider:Ye}),this._leftActions.domNode.classList.add("left"),this._rightActions.domNode.classList.add("right")}dispose(){this._menuDisposables.dispose(),this.element.remove()}show(){const nt=this._menuService.createMenu(this._menuId,this._contextKeyService),Me=()=>{const he=[],Be=[];for(const[Ke,Ye]of nt.getActions())"left"===Ke?he.push(...Ye):Be.push(...Ye);this._leftActions.clear(),this._leftActions.push(he),this._rightActions.clear(),this._rightActions.push(Be)};this._menuDisposables.add(nt.onDidChange(()=>Me())),this._menuDisposables.add(nt)}hide(){this._menuDisposables.clear()}};yt=function(ki,nt,Me,he){var Ye,Be=arguments.length,Ke=Be<3?nt:null===he?he=Object.getOwnPropertyDescriptor(nt,Me):he;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ke=Reflect.decorate(ki,nt,Me,he);else for(var dt=ki.length-1;dt>=0;dt--)(Ye=ki[dt])&&(Ke=(Be<3?Ye(Ke):Be>3?Ye(nt,Me,Ke):Ye(nt,Me))||Ke);return Be>3&&Ke&&Object.defineProperty(nt,Me,Ke),Ke}([Ae(2,z.TG),Ae(3,Ee.co),Ae(4,D.i6)],yt),e(94073);var Ot=e(93476),gt=e(99745),Rt=e(13054),Zt=e(23527),Ci=e(81063),ci=e(8286),Mi=e(27222),Gi=e(35053),Zi=e(10878),St=e(40419);function pt(ki){return!!ki&&!!(ki.completion.documentation||ki.completion.detail&&ki.completion.detail!==ki.completion.label)}let Ne=class{constructor(nt,Me){this._editor=nt,this._onDidClose=new S.Q5,this.onDidClose=this._onDidClose.event,this._onDidChangeContents=new S.Q5,this.onDidChangeContents=this._onDidChangeContents.event,this._disposables=new E.SL,this._renderDisposeable=new E.SL,this._borderWidth=1,this._size=new Pe.Ro(330,0),this.domNode=Pe.$(".suggest-details"),this.domNode.classList.add("no-docs"),this._markdownRenderer=Me.createInstance(St.$,{editor:nt}),this._body=Pe.$(".body"),this._scrollbar=new ci.s$(this._body,{alwaysConsumeMouseWheel:!0}),Pe.R3(this.domNode,this._scrollbar.getDomNode()),this._disposables.add(this._scrollbar),this._header=Pe.R3(this._body,Pe.$(".header")),this._close=Pe.R3(this._header,Pe.$("span"+Gi.k.asCSSSelector(Mi.l.close))),this._close.title=O.NC("details.close","Close"),this._type=Pe.R3(this._header,Pe.$("p.type")),this._docs=Pe.R3(this._body,Pe.$("p.docs")),this._configureFont(),this._disposables.add(this._editor.onDidChangeConfiguration(he=>{he.hasChanged(49)&&this._configureFont()}))}dispose(){this._disposables.dispose(),this._renderDisposeable.dispose()}_configureFont(){const nt=this._editor.getOptions(),Me=nt.get(49),he=Me.getMassagedFontFamily(),Be=nt.get(117)||Me.fontSize,Ke=nt.get(118)||Me.lineHeight,Ye=Me.fontWeight,zt=`${Ke}px`;this.domNode.style.fontSize=`${Be}px`,this.domNode.style.lineHeight=""+Ke/Be,this.domNode.style.fontWeight=Ye,this.domNode.style.fontFeatureSettings=Me.fontFeatureSettings,this._type.style.fontFamily=he,this._close.style.height=zt,this._close.style.width=zt}getLayoutInfo(){const nt=this._editor.getOption(118)||this._editor.getOption(49).lineHeight,Me=this._borderWidth;return{lineHeight:nt,borderWidth:Me,borderHeight:2*Me,verticalPadding:22,horizontalPadding:14}}renderLoading(){this._type.textContent=O.NC("loading","Loading..."),this._docs.textContent="",this.domNode.classList.remove("no-docs","no-type"),this.layout(this.size.width,2*this.getLayoutInfo().lineHeight),this._onDidChangeContents.fire(this)}renderItem(nt,Me){var he,Be;this._renderDisposeable.clear();let{detail:Ke,documentation:Ye}=nt.completion;if(Me){let dt="";dt+=`score: ${nt.score[0]}\n`,dt+=`prefix: ${null!==(he=nt.word)&&void 0!==he?he:"(no prefix)"}\n`,dt+=`word: ${nt.completion.filterText?nt.completion.filterText+" (filterText)":nt.textLabel}\n`,dt+=`distance: ${nt.distance} (localityBonus-setting)\n`,dt+=`index: ${nt.idx}, based on ${nt.completion.sortText&&`sortText: "${nt.completion.sortText}"`||"label"}\n`,dt+=`commit_chars: ${null===(Be=nt.completion.commitCharacters)||void 0===Be?void 0:Be.join("")}\n`,Ye=(new Zi.W5).appendCodeblock("empty",dt),Ke=`Provider: ${nt.provider._debugDisplayName}`}if(Me||pt(nt)){if(this.domNode.classList.remove("no-docs","no-type"),Ke){const dt=Ke.length>1e5?`${Ke.substr(0,1e5)}\u2026`:Ke;this._type.textContent=dt,this._type.title=dt,Pe.$Z(this._type),this._type.classList.toggle("auto-wrap",!/\r?\n^\s+/gim.test(dt))}else Pe.PO(this._type),this._type.title="",Pe.Cp(this._type),this.domNode.classList.add("no-type");if(Pe.PO(this._docs),"string"==typeof Ye)this._docs.classList.remove("markdown-docs"),this._docs.textContent=Ye;else if(Ye){this._docs.classList.add("markdown-docs"),Pe.PO(this._docs);const dt=this._markdownRenderer.render(Ye);this._docs.appendChild(dt.element),this._renderDisposeable.add(dt),this._renderDisposeable.add(this._markdownRenderer.onDidRenderAsync(()=>{this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}))}this.domNode.style.userSelect="text",this.domNode.tabIndex=-1,this._close.onmousedown=dt=>{dt.preventDefault(),dt.stopPropagation()},this._close.onclick=dt=>{dt.preventDefault(),dt.stopPropagation(),this._onDidClose.fire()},this._body.scrollTop=0,this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}else this.clearContents()}clearContents(){this.domNode.classList.add("no-docs"),this._type.textContent="",this._docs.textContent=""}get size(){return this._size}layout(nt,Me){const he=new Pe.Ro(nt,Me);Pe.Ro.equals(he,this._size)||(this._size=he,Pe.dp(this.domNode,nt,Me)),this._scrollbar.scanDomNode()}scrollDown(nt=8){this._body.scrollTop+=nt}scrollUp(nt=8){this._body.scrollTop-=nt}scrollTop(){this._body.scrollTop=0}scrollBottom(){this._body.scrollTop=this._body.scrollHeight}pageDown(){this.scrollDown(80)}pageUp(){this.scrollUp(80)}set borderWidth(nt){this._borderWidth=nt}get borderWidth(){return this._borderWidth}};Ne=function(ki,nt,Me,he){var Ye,Be=arguments.length,Ke=Be<3?nt:null===he?he=Object.getOwnPropertyDescriptor(nt,Me):he;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ke=Reflect.decorate(ki,nt,Me,he);else for(var dt=ki.length-1;dt>=0;dt--)(Ye=ki[dt])&&(Ke=(Be<3?Ye(Ke):Be>3?Ye(nt,Me,Ke):Ye(nt,Me))||Ke);return Be>3&&Ke&&Object.defineProperty(nt,Me,Ke),Ke}([function(ki,nt){return function(Me,he){nt(Me,he,1)}}(0,z.TG)],Ne);class je{constructor(nt,Me){this.widget=nt,this._editor=Me,this._disposables=new E.SL,this._added=!1,this._preferAlignAtTop=!0,this._resizable=new Ci.f,this._resizable.domNode.classList.add("suggest-details-container"),this._resizable.domNode.appendChild(nt.domNode),this._resizable.enableSashes(!1,!0,!0,!1);let he,Be,Ke=0,Ye=0;this._disposables.add(this._resizable.onDidWillResize(()=>{he=this._topLeft,Be=this._resizable.size})),this._disposables.add(this._resizable.onDidResize(dt=>{if(he&&Be){this.widget.layout(dt.dimension.width,dt.dimension.height);let zt=!1;dt.west&&(Ye=Be.width-dt.dimension.width,zt=!0),dt.north&&(Ke=Be.height-dt.dimension.height,zt=!0),zt&&this._applyTopLeft({top:he.top+Ke,left:he.left+Ye})}dt.done&&(he=void 0,Be=void 0,Ke=0,Ye=0,this._userSize=dt.dimension)})),this._disposables.add(this.widget.onDidChangeContents(()=>{var dt;this._anchorBox&&this._placeAtAnchor(this._anchorBox,null!==(dt=this._userSize)&&void 0!==dt?dt:this.widget.size,this._preferAlignAtTop)}))}dispose(){this._resizable.dispose(),this._disposables.dispose(),this.hide()}getId(){return"suggest.details"}getDomNode(){return this._resizable.domNode}getPosition(){return null}show(){this._added||(this._editor.addOverlayWidget(this),this.getDomNode().style.position="fixed",this._added=!0)}hide(nt=!1){this._resizable.clearSashHoverState(),this._added&&(this._editor.removeOverlayWidget(this),this._added=!1,this._anchorBox=void 0,this._topLeft=void 0),nt&&(this._userSize=void 0,this.widget.clearContents())}placeAtAnchor(nt,Me){var he;const Be=nt.getBoundingClientRect();this._anchorBox=Be,this._preferAlignAtTop=Me,this._placeAtAnchor(this._anchorBox,null!==(he=this._userSize)&&void 0!==he?he:this.widget.size,Me)}_placeAtAnchor(nt,Me,he){var Be;const Ke=Pe.D6(document.body),Ye=this.widget.getLayoutInfo(),dt=new Pe.Ro(220,2*Ye.lineHeight),zt=nt.top,_i=function(){const si=Ke.width-(nt.left+nt.width+Ye.borderWidth+Ye.horizontalPadding),nn=-Ye.borderWidth+nt.left+nt.width,en=new Pe.Ro(si,Ke.height-nt.top-Ye.borderHeight-Ye.verticalPadding),yn=en.with(void 0,nt.top+nt.height-Ye.borderHeight-Ye.verticalPadding);return{top:zt,left:nn,fit:si-Me.width,maxSizeTop:en,maxSizeBottom:yn,minSize:dt.with(Math.min(si,dt.width))}}(),oi=[_i,function(){const si=nt.left-Ye.borderWidth-Ye.horizontalPadding,nn=Math.max(Ye.horizontalPadding,nt.left-Me.width-Ye.borderWidth),en=new Pe.Ro(si,Ke.height-nt.top-Ye.borderHeight-Ye.verticalPadding),yn=en.with(void 0,nt.top+nt.height-Ye.borderHeight-Ye.verticalPadding);return{top:zt,left:nn,fit:si-Me.width,maxSizeTop:en,maxSizeBottom:yn,minSize:dt.with(Math.min(si,dt.width))}}(),function(){const si=nt.left,nn=-Ye.borderWidth+nt.top+nt.height,en=new Pe.Ro(nt.width-Ye.borderHeight,Ke.height-nt.top-nt.height-Ye.verticalPadding);return{top:nn,left:si,fit:en.height-Me.height,maxSizeBottom:en,maxSizeTop:en,minSize:dt.with(en.width)}}()],Ai=null!==(Be=oi.find(si=>si.fit>=0))&&void 0!==Be?Be:oi.sort((si,nn)=>nn.fit-si.fit)[0],Wi=nt.top+nt.height-Ye.borderHeight;let $i,fi=Me.height;const $t=Math.max(Ai.maxSizeTop.height,Ai.maxSizeBottom.height);let Ii;fi>$t&&(fi=$t),he?fi<=Ai.maxSizeTop.height?($i=!0,Ii=Ai.maxSizeTop):($i=!1,Ii=Ai.maxSizeBottom):fi<=Ai.maxSizeBottom.height?($i=!1,Ii=Ai.maxSizeBottom):($i=!0,Ii=Ai.maxSizeTop),this._applyTopLeft({left:Ai.left,top:$i?Ai.top:Wi-fi}),this.getDomNode().style.position="fixed",this._resizable.enableSashes(!$i,Ai===_i,$i,Ai!==_i),this._resizable.minSize=Ai.minSize,this._resizable.maxSize=Ii,this._resizable.layout(fi,Math.min(Ii.width,Me.width)),this.widget.layout(this._resizable.size.width,this._resizable.size.height)}_applyTopLeft(nt){this._topLeft=nt,this.getDomNode().style.left=`${this._topLeft.left}px`,this.getDomNode().style.top=`${this._topLeft.top}px`}}var et=e(34448),wt=e(15850),Bt=e(81814),xt=e(42685),Qt=e(9001),ai=e(81007),gi=function(ki){return ki[ki.FILE=0]="FILE",ki[ki.FOLDER=1]="FOLDER",ki[ki.ROOT_FOLDER=2]="ROOT_FOLDER",ki}(gi||{});const di=/(?:\/|^)(?:([^\/]+)\/)?([^\/]+)$/;function Ei(ki,nt,Me,he){const Be=he===gi.ROOT_FOLDER?["rootfolder-icon"]:he===gi.FOLDER?["folder-icon"]:["file-icon"];if(Me){let Ke;if(Me.scheme===xt.lg.data)Ke=Qt.Vb.parseMetaData(Me).get(Qt.Vb.META_DATA_LABEL);else{const Ye=Me.path.match(di);Ye?(Ke=zi(Ye[2].toLowerCase()),Ye[1]&&Be.push(`${zi(Ye[1].toLowerCase())}-name-dir-icon`)):Ke=zi(Me.authority.toLowerCase())}if(he===gi.FOLDER)Be.push(`${Ke}-name-folder-icon`);else{if(Ke){if(Be.push(`${Ke}-name-file-icon`),Be.push("name-file-icon"),Ke.length<=255){const dt=Ke.split(".");for(let zt=1;zt<dt.length;zt++)Be.push(`${dt.slice(zt).join(".")}-ext-file-icon`)}Be.push("ext-file-icon")}const Ye=function Ki(ki,nt,Me){if(!Me)return null;let he=null;if(Me.scheme===xt.lg.data){const Ke=Qt.Vb.parseMetaData(Me).get(Qt.Vb.META_DATA_MIME);Ke&&(he=nt.getLanguageIdByMimeType(Ke))}else{const Be=ki.getModel(Me);Be&&(he=Be.getLanguageId())}return he&&he!==ai.bd?he:nt.guessLanguageIdByFilepathOrFirstLine(Me)}(ki,nt,Me);Ye&&Be.push(`${zi(Ye)}-lang-file-icon`)}}return Be}function zi(ki){return ki.replace(/[\11\12\14\15\40]/g,"/")}var vi,qi=e(41204),fn=e(74315),Fn=function(ki,nt){return function(Me,he){nt(Me,he,ki)}};function ui(ki){return`suggest-aria-id:${ki}`}const ni=(0,e(34252).q5)("suggest-more-info",Mi.l.chevronRight,O.NC("suggestMoreInfoIcon","Icon for more information in the suggest widget.")),Nt=new(vi=class{extract(nt,Me){if(nt.textLabel.match(vi._regexStrict))return Me[0]=nt.textLabel,!0;if(nt.completion.detail&&nt.completion.detail.match(vi._regexStrict))return Me[0]=nt.completion.detail,!0;if("string"==typeof nt.completion.documentation){const he=vi._regexRelaxed.exec(nt.completion.documentation);if(he&&(0===he.index||he.index+he[0].length===nt.completion.documentation.length))return Me[0]=he[0],!0}return!1}},vi._regexRelaxed=/(#([\da-fA-F]{3}){1,2}|(rgb|hsl)a\(\s*(\d{1,3}%?\s*,\s*){3}(1|0?\.\d+)\)|(rgb|hsl)\(\s*\d{1,3}%?(\s*,\s*\d{1,3}%?){2}\s*\))/,vi._regexStrict=new RegExp(`^${vi._regexRelaxed.source}$`,"i"),vi);let Wt=class{constructor(nt,Me,he,Be){this._editor=nt,this._modelService=Me,this._languageService=he,this._themeService=Be,this._onDidToggleDetails=new S.Q5,this.onDidToggleDetails=this._onDidToggleDetails.event,this.templateId="suggestion"}dispose(){this._onDidToggleDetails.dispose()}renderTemplate(nt){const Me=new E.SL,he=nt;he.classList.add("show-file-icons");const Be=(0,Pe.R3)(nt,(0,Pe.$)(".icon")),Ke=(0,Pe.R3)(Be,(0,Pe.$)("span.colorspan")),Ye=(0,Pe.R3)(nt,(0,Pe.$)(".contents")),dt=(0,Pe.R3)(Ye,(0,Pe.$)(".main")),zt=(0,Pe.R3)(dt,(0,Pe.$)(".icon-label.codicon")),_i=(0,Pe.R3)(dt,(0,Pe.$)("span.left")),mi=(0,Pe.R3)(dt,(0,Pe.$)("span.right")),qt=new et.g(_i,{supportHighlights:!0,supportIcons:!0});Me.add(qt);const oi=(0,Pe.R3)(_i,(0,Pe.$)("span.signature-label")),Ai=(0,Pe.R3)(_i,(0,Pe.$)("span.qualifier-label")),Wi=(0,Pe.R3)(mi,(0,Pe.$)("span.details-label")),$i=(0,Pe.R3)(mi,(0,Pe.$)("span.readMore"+Gi.k.asCSSSelector(ni)));$i.title=O.NC("readMore","Read More");const fi=()=>{const $t=this._editor.getOptions(),Ii=$t.get(49),si=Ii.getMassagedFontFamily(),nn=Ii.fontFeatureSettings,en=$t.get(117)||Ii.fontSize,yn=$t.get(118)||Ii.lineHeight,An=Ii.fontWeight,lo=`${yn}px`,wo=`${Ii.letterSpacing}px`;he.style.fontSize=`${en}px`,he.style.fontWeight=An,he.style.letterSpacing=wo,dt.style.fontFamily=si,dt.style.fontFeatureSettings=nn,dt.style.lineHeight=lo,Be.style.height=lo,Be.style.width=lo,$i.style.height=lo,$i.style.width=lo};return fi(),Me.add(this._editor.onDidChangeConfiguration($t=>{($t.hasChanged(49)||$t.hasChanged(117)||$t.hasChanged(118))&&fi()})),{root:he,left:_i,right:mi,icon:Be,colorspan:Ke,iconLabel:qt,iconContainer:zt,parametersLabel:oi,qualifierLabel:Ai,detailsLabel:Wi,readMore:$i,disposables:Me}}renderElement(nt,Me,he){const{completion:Be}=nt;he.root.id=ui(Me),he.colorspan.style.backgroundColor="";const Ke={labelEscapeNewLines:!0,matches:(0,Ie.mB)(nt.score)},Ye=[];if(19===Be.kind&&Nt.extract(nt,Ye))he.icon.className="icon customcolor",he.iconContainer.className="icon hide",he.colorspan.style.backgroundColor=Ye[0];else if(20===Be.kind&&this._themeService.getFileIconTheme().hasFileIcons){he.icon.className="icon hide",he.iconContainer.className="icon hide";const dt=Ei(this._modelService,this._languageService,wt.o.from({scheme:"fake",path:nt.textLabel}),gi.FILE),zt=Ei(this._modelService,this._languageService,wt.o.from({scheme:"fake",path:Be.detail}),gi.FILE);Ke.extraClasses=dt.length>zt.length?dt:zt}else 23===Be.kind&&this._themeService.getFileIconTheme().hasFolderIcons?(he.icon.className="icon hide",he.iconContainer.className="icon hide",Ke.extraClasses=[Ei(this._modelService,this._languageService,wt.o.from({scheme:"fake",path:nt.textLabel}),gi.FOLDER),Ei(this._modelService,this._languageService,wt.o.from({scheme:"fake",path:Be.detail}),gi.FOLDER)].flat()):(he.icon.className="icon hide",he.iconContainer.className="",he.iconContainer.classList.add("suggest-icon",...Gi.k.asClassNameArray(Bt.gX.toIcon(Be.kind))));Be.tags&&Be.tags.indexOf(1)>=0&&(Ke.extraClasses=(Ke.extraClasses||[]).concat(["deprecated"]),Ke.matches=[]),he.iconLabel.setLabel(nt.textLabel,void 0,Ke),"string"==typeof Be.label?(he.parametersLabel.textContent="",he.detailsLabel.textContent=li(Be.detail||""),he.root.classList.add("string-label")):(he.parametersLabel.textContent=li(Be.label.detail||""),he.detailsLabel.textContent=li(Be.label.description||""),he.root.classList.remove("string-label")),this._editor.getOption(116).showInlineDetails?(0,Pe.$Z)(he.detailsLabel):(0,Pe.Cp)(he.detailsLabel),pt(nt)?(he.right.classList.add("can-expand-details"),(0,Pe.$Z)(he.readMore),he.readMore.onmousedown=dt=>{dt.stopPropagation(),dt.preventDefault()},he.readMore.onclick=dt=>{dt.stopPropagation(),dt.preventDefault(),this._onDidToggleDetails.fire()}):(he.right.classList.remove("can-expand-details"),(0,Pe.Cp)(he.readMore),he.readMore.onmousedown=null,he.readMore.onclick=null)}disposeTemplate(nt){nt.disposables.dispose()}};function li(ki){return ki.replace(/\r\n|\r|\n/g,"")}Wt=function(ki,nt,Me,he){var Ye,Be=arguments.length,Ke=Be<3?nt:null===he?he=Object.getOwnPropertyDescriptor(nt,Me):he;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ke=Reflect.decorate(ki,nt,Me,he);else for(var dt=ki.length-1;dt>=0;dt--)(Ye=ki[dt])&&(Ke=(Be<3?Ye(Ke):Be>3?Ye(nt,Me,Ke):Ye(nt,Me))||Ke);return Be>3&&Ke&&Object.defineProperty(nt,Me,Ke),Ke}([Fn(1,qi.q),Fn(2,fn.O),Fn(3,Zt.XE)],Wt);var Qi,Yt=e(36547),Fi=function(ki,nt){return function(Me,he){nt(Me,he,ki)}};(0,gt.P6G)("editorSuggestWidget.background",{dark:gt.D0T,light:gt.D0T,hcDark:gt.D0T,hcLight:gt.D0T},O.NC("editorSuggestWidgetBackground","Background color of the suggest widget.")),(0,gt.P6G)("editorSuggestWidget.border",{dark:gt.D1_,light:gt.D1_,hcDark:gt.D1_,hcLight:gt.D1_},O.NC("editorSuggestWidgetBorder","Border color of the suggest widget."));const cn=(0,gt.P6G)("editorSuggestWidget.foreground",{dark:gt.NOs,light:gt.NOs,hcDark:gt.NOs,hcLight:gt.NOs},O.NC("editorSuggestWidgetForeground","Foreground color of the suggest widget."));(0,gt.P6G)("editorSuggestWidget.selectedForeground",{dark:gt.NPS,light:gt.NPS,hcDark:gt.NPS,hcLight:gt.NPS},O.NC("editorSuggestWidgetSelectedForeground","Foreground color of the selected entry in the suggest widget.")),(0,gt.P6G)("editorSuggestWidget.selectedIconForeground",{dark:gt.cbQ,light:gt.cbQ,hcDark:gt.cbQ,hcLight:gt.cbQ},O.NC("editorSuggestWidgetSelectedIconForeground","Icon foreground color of the selected entry in the suggest widget."));const bn=(0,gt.P6G)("editorSuggestWidget.selectedBackground",{dark:gt.Vqd,light:gt.Vqd,hcDark:gt.Vqd,hcLight:gt.Vqd},O.NC("editorSuggestWidgetSelectedBackground","Background color of the selected entry in the suggest widget."));(0,gt.P6G)("editorSuggestWidget.highlightForeground",{dark:gt.Gwp,light:gt.Gwp,hcDark:gt.Gwp,hcLight:gt.Gwp},O.NC("editorSuggestWidgetHighlightForeground","Color of the match highlights in the suggest widget.")),(0,gt.P6G)("editorSuggestWidget.focusHighlightForeground",{dark:gt.PX0,light:gt.PX0,hcDark:gt.PX0,hcLight:gt.PX0},O.NC("editorSuggestWidgetFocusHighlightForeground","Color of the match highlights in the suggest widget when an item is focused.")),(0,gt.P6G)("editorSuggestWidgetStatus.foreground",{dark:(0,gt.ZnX)(cn,.5),light:(0,gt.ZnX)(cn,.5),hcDark:(0,gt.ZnX)(cn,.5),hcLight:(0,gt.ZnX)(cn,.5)},O.NC("editorSuggestWidgetStatusForeground","Foreground color of the suggest widget status."));class Dn{constructor(nt,Me){this._service=nt,this._key=`suggestWidget.size/${Me.getEditorType()}/${Me instanceof it.H}`}restore(){var nt;const Me=null!==(nt=this._service.get(this._key,0))&&void 0!==nt?nt:"";try{const he=JSON.parse(Me);if(Pe.Ro.is(he))return Pe.Ro.lift(he)}catch{}}store(nt){this._service.store(this._key,JSON.stringify(nt),0,1)}reset(){this._service.remove(this._key,0)}}let Pn=Qi=class{constructor(nt,Me,he,Be,Ke){this.editor=nt,this._storageService=Me,this._state=0,this._isAuto=!1,this._pendingLayout=new E.XK,this._pendingShowDetails=new E.XK,this._ignoreFocusEvents=!1,this._forceRenderingAbove=!1,this._explainMode=!1,this._showTimeout=new r._F,this._disposables=new E.SL,this._onDidSelect=new S.K3,this._onDidFocus=new S.K3,this._onDidHide=new S.Q5,this._onDidShow=new S.Q5,this.onDidSelect=this._onDidSelect.event,this.onDidFocus=this._onDidFocus.event,this.onDidHide=this._onDidHide.event,this.onDidShow=this._onDidShow.event,this._onDetailsKeydown=new S.Q5,this.onDetailsKeyDown=this._onDetailsKeydown.event,this.element=new Ci.f,this.element.domNode.classList.add("editor-widget","suggest-widget"),this._contentWidget=new vn(this,nt),this._persistedSize=new Dn(Me,nt);class Ye{constructor(Ai,Wi,$i=!1,fi=!1){this.persistedSize=Ai,this.currentSize=Wi,this.persistHeight=$i,this.persistWidth=fi}}let dt;this._disposables.add(this.element.onDidWillResize(()=>{this._contentWidget.lockPreference(),dt=new Ye(this._persistedSize.restore(),this.element.size)})),this._disposables.add(this.element.onDidResize(oi=>{var Ai,Wi,$i,fi;if(this._resize(oi.dimension.width,oi.dimension.height),dt&&(dt.persistHeight=dt.persistHeight||!!oi.north||!!oi.south,dt.persistWidth=dt.persistWidth||!!oi.east||!!oi.west),oi.done){if(dt){const{itemHeight:$t,defaultSize:Ii}=this.getLayoutInfo(),si=Math.round($t/2);let{width:nn,height:en}=this.element.size;(!dt.persistHeight||Math.abs(dt.currentSize.height-en)<=si)&&(en=null!==(Wi=null===(Ai=dt.persistedSize)||void 0===Ai?void 0:Ai.height)&&void 0!==Wi?Wi:Ii.height),(!dt.persistWidth||Math.abs(dt.currentSize.width-nn)<=si)&&(nn=null!==(fi=null===($i=dt.persistedSize)||void 0===$i?void 0:$i.width)&&void 0!==fi?fi:Ii.width),this._persistedSize.store(new Pe.Ro(nn,en))}this._contentWidget.unlockPreference(),dt=void 0}})),this._messageElement=Pe.R3(this.element.domNode,Pe.$(".message")),this._listElement=Pe.R3(this.element.domNode,Pe.$(".tree"));const zt=Ke.createInstance(Ne,this.editor);zt.onDidClose(this.toggleDetails,this,this._disposables),this._details=new je(zt,this.editor);const _i=()=>this.element.domNode.classList.toggle("no-icons",!this.editor.getOption(116).showIcons);_i();const mi=Ke.createInstance(Wt,this.editor);this._disposables.add(mi),this._disposables.add(mi.onDidToggleDetails(()=>this.toggleDetails())),this._list=new fe.aV("SuggestWidget",this._listElement,{getHeight:oi=>this.getLayoutInfo().itemHeight,getTemplateId:oi=>"suggestion"},[mi],{alwaysConsumeMouseWheel:!0,useShadows:!1,mouseSupport:!1,multipleSelectionSupport:!1,accessibilityProvider:{getRole:()=>"option",getWidgetAriaLabel:()=>O.NC("suggest","Suggest"),getWidgetRole:()=>"listbox",getAriaLabel:oi=>{let Ai=oi.textLabel;if("string"!=typeof oi.completion.label){const{detail:$t,description:Ii}=oi.completion.label;$t&&Ii?Ai=O.NC("label.full","{0} {1}, {2}",Ai,$t,Ii):$t?Ai=O.NC("label.detail","{0} {1}",Ai,$t):Ii&&(Ai=O.NC("label.desc","{0}, {1}",Ai,Ii))}if(!oi.isResolved||!this._isDetailsVisible())return Ai;const{documentation:Wi,detail:$i}=oi.completion,fi=J.WU("{0}{1}",$i||"",Wi?"string"==typeof Wi?Wi:Wi.value:"");return O.NC("ariaCurrenttSuggestionReadDetails","{0}, docs: {1}",Ai,fi)}}}),this._list.style((0,Yt.TU)({listInactiveFocusBackground:bn,listInactiveFocusOutline:gt.xL1})),this._status=Ke.createInstance(yt,this.element.domNode,ee.GI);const qt=()=>this.element.domNode.classList.toggle("with-status-bar",this.editor.getOption(116).showStatusBar);qt(),this._disposables.add(Be.onDidColorThemeChange(oi=>this._onThemeChange(oi))),this._onThemeChange(Be.getColorTheme()),this._disposables.add(this._list.onMouseDown(oi=>this._onListMouseDownOrTap(oi))),this._disposables.add(this._list.onTap(oi=>this._onListMouseDownOrTap(oi))),this._disposables.add(this._list.onDidChangeSelection(oi=>this._onListSelection(oi))),this._disposables.add(this._list.onDidChangeFocus(oi=>this._onListFocus(oi))),this._disposables.add(this.editor.onDidChangeCursorSelection(()=>this._onCursorSelectionChanged())),this._disposables.add(this.editor.onDidChangeConfiguration(oi=>{oi.hasChanged(116)&&(qt(),_i())})),this._ctxSuggestWidgetVisible=ee._y.Visible.bindTo(he),this._ctxSuggestWidgetDetailsVisible=ee._y.DetailsVisible.bindTo(he),this._ctxSuggestWidgetMultipleSuggestions=ee._y.MultipleSuggestions.bindTo(he),this._ctxSuggestWidgetHasFocusedSuggestion=ee._y.HasFocusedSuggestion.bindTo(he),this._disposables.add(Pe.mu(this._details.widget.domNode,"keydown",oi=>{this._onDetailsKeydown.fire(oi)})),this._disposables.add(this.editor.onMouseDown(oi=>this._onEditorMouseDown(oi)))}dispose(){var nt;this._details.widget.dispose(),this._details.dispose(),this._list.dispose(),this._status.dispose(),this._disposables.dispose(),null===(nt=this._loadingTimeout)||void 0===nt||nt.dispose(),this._pendingLayout.dispose(),this._pendingShowDetails.dispose(),this._showTimeout.dispose(),this._contentWidget.dispose(),this.element.dispose()}_onEditorMouseDown(nt){this._details.widget.domNode.contains(nt.target.element)?this._details.widget.domNode.focus():this.element.domNode.contains(nt.target.element)&&this.editor.focus()}_onCursorSelectionChanged(){0!==this._state&&this._contentWidget.layout()}_onListMouseDownOrTap(nt){typeof nt.element>"u"||typeof nt.index>"u"||(nt.browserEvent.preventDefault(),nt.browserEvent.stopPropagation(),this._select(nt.element,nt.index))}_onListSelection(nt){nt.elements.length&&this._select(nt.elements[0],nt.indexes[0])}_select(nt,Me){const he=this._completionModel;he&&(this._onDidSelect.fire({item:nt,index:Me,model:he}),this.editor.focus())}_onThemeChange(nt){this._details.widget.borderWidth=(0,Rt.c3)(nt.type)?2:1}_onListFocus(nt){var Me;if(this._ignoreFocusEvents)return;if(!nt.elements.length)return this._currentSuggestionDetails&&(this._currentSuggestionDetails.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=void 0),this.editor.setAriaOptions({activeDescendant:void 0}),void this._ctxSuggestWidgetHasFocusedSuggestion.set(!1);if(!this._completionModel)return;this._ctxSuggestWidgetHasFocusedSuggestion.set(!0);const he=nt.elements[0],Be=nt.indexes[0];he!==this._focusedItem&&(null===(Me=this._currentSuggestionDetails)||void 0===Me||Me.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=he,this._list.reveal(Be),this._currentSuggestionDetails=(0,r.PG)(Ke=>function(ki,nt,Me,he){return new(Me||(Me=Promise))(function(Ke,Ye){function dt(mi){try{_i(he.next(mi))}catch(qt){Ye(qt)}}function zt(mi){try{_i(he.throw(mi))}catch(qt){Ye(qt)}}function _i(mi){mi.done?Ke(mi.value):function Be(Ke){return Ke instanceof Me?Ke:new Me(function(Ye){Ye(Ke)})}(mi.value).then(dt,zt)}_i((he=he.apply(ki,nt||[])).next())})}(this,void 0,void 0,function*(){const Ye=(0,r.Vg)(()=>{this._isDetailsVisible()&&this.showDetails(!0)},250),dt=Ke.onCancellationRequested(()=>Ye.dispose()),zt=yield he.resolve(Ke);return Ye.dispose(),dt.dispose(),zt})),this._currentSuggestionDetails.then(()=>{Be>=this._list.length||he!==this._list.element(Be)||(this._ignoreFocusEvents=!0,this._list.splice(Be,1,[he]),this._list.setFocus([Be]),this._ignoreFocusEvents=!1,this._isDetailsVisible()?this.showDetails(!1):this.element.domNode.classList.remove("docs-side"),this.editor.setAriaOptions({activeDescendant:ui(Be)}))}).catch(v.dL)),this._onDidFocus.fire({item:he,index:Be,model:this._completionModel})}_setState(nt){if(this._state!==nt)switch(this._state=nt,this.element.domNode.classList.toggle("frozen",4===nt),this.element.domNode.classList.remove("message"),nt){case 0:Pe.Cp(this._messageElement,this._listElement,this._status.element),this._details.hide(!0),this._status.hide(),this._contentWidget.hide(),this._ctxSuggestWidgetVisible.reset(),this._ctxSuggestWidgetMultipleSuggestions.reset(),this._ctxSuggestWidgetHasFocusedSuggestion.reset(),this._showTimeout.cancel(),this.element.domNode.classList.remove("visible"),this._list.splice(0,this._list.length),this._focusedItem=void 0,this._cappedHeight=void 0,this._explainMode=!1;break;case 1:this.element.domNode.classList.add("message"),this._messageElement.textContent=Qi.LOADING_MESSAGE,Pe.Cp(this._listElement,this._status.element),Pe.$Z(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0,(0,f.i7)(Qi.LOADING_MESSAGE);break;case 2:this.element.domNode.classList.add("message"),this._messageElement.textContent=Qi.NO_SUGGESTIONS_MESSAGE,Pe.Cp(this._listElement,this._status.element),Pe.$Z(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0,(0,f.i7)(Qi.NO_SUGGESTIONS_MESSAGE);break;case 3:case 4:Pe.Cp(this._messageElement),Pe.$Z(this._listElement,this._status.element),this._show();break;case 5:Pe.Cp(this._messageElement),Pe.$Z(this._listElement,this._status.element),this._details.show(),this._show()}}_show(){this._status.show(),this._contentWidget.show(),this._layout(this._persistedSize.restore()),this._ctxSuggestWidgetVisible.set(!0),this._showTimeout.cancelAndSet(()=>{this.element.domNode.classList.add("visible"),this._onDidShow.fire(this)},100)}showTriggered(nt,Me){0===this._state&&(this._contentWidget.setPosition(this.editor.getPosition()),this._isAuto=!!nt,this._isAuto||(this._loadingTimeout=(0,r.Vg)(()=>this._setState(1),Me)))}showSuggestions(nt,Me,he,Be,Ke){var Ye,dt;if(this._contentWidget.setPosition(this.editor.getPosition()),null===(Ye=this._loadingTimeout)||void 0===Ye||Ye.dispose(),null===(dt=this._currentSuggestionDetails)||void 0===dt||dt.cancel(),this._currentSuggestionDetails=void 0,this._completionModel!==nt&&(this._completionModel=nt),he&&2!==this._state&&0!==this._state)return void this._setState(4);const zt=this._completionModel.items.length,_i=0===zt;if(this._ctxSuggestWidgetMultipleSuggestions.set(zt>1),_i)return this._setState(Be?0:2),void(this._completionModel=void 0);this._focusedItem=void 0,this._onDidFocus.pause(),this._onDidSelect.pause();try{this._list.splice(0,this._list.length,this._completionModel.items),this._setState(he?4:3),this._list.reveal(Me,0),this._list.setFocus(Ke?[]:[Me])}finally{this._onDidFocus.resume(),this._onDidSelect.resume()}this._pendingLayout.value=Pe.lI(()=>{this._pendingLayout.clear(),this._layout(this.element.size),this._details.widget.domNode.classList.remove("focused")})}focusSelected(){this._list.length>0&&this._list.setFocus([0])}selectNextPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageDown(),!0;case 1:return!this._isAuto;default:return this._list.focusNextPage(),!0}}selectNext(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusNext(1,!0),!0}}selectLast(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollBottom(),!0;case 1:return!this._isAuto;default:return this._list.focusLast(),!0}}selectPreviousPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageUp(),!0;case 1:return!this._isAuto;default:return this._list.focusPreviousPage(),!0}}selectPrevious(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusPrevious(1,!0),!1}}selectFirst(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollTop(),!0;case 1:return!this._isAuto;default:return this._list.focusFirst(),!0}}getFocusedItem(){if(0!==this._state&&2!==this._state&&1!==this._state&&this._completionModel&&this._list.getFocus().length>0)return{item:this._list.getFocusedElements()[0],index:this._list.getFocus()[0],model:this._completionModel}}toggleDetailsFocus(){5===this._state?(this._setState(3),this._details.widget.domNode.classList.remove("focused")):3===this._state&&this._isDetailsVisible()&&(this._setState(5),this._details.widget.domNode.classList.add("focused"))}toggleDetails(){this._isDetailsVisible()?(this._pendingShowDetails.clear(),this._ctxSuggestWidgetDetailsVisible.set(!1),this._setDetailsVisible(!1),this._details.hide(),this.element.domNode.classList.remove("shows-details")):(pt(this._list.getFocusedElements()[0])||this._explainMode)&&(3===this._state||5===this._state||4===this._state)&&(this._ctxSuggestWidgetDetailsVisible.set(!0),this._setDetailsVisible(!0),this.showDetails(!1))}showDetails(nt){this._pendingShowDetails.value=Pe.lI(()=>{this._pendingShowDetails.clear(),this._details.show(),nt?this._details.widget.renderLoading():this._details.widget.renderItem(this._list.getFocusedElements()[0],this._explainMode),this._positionDetails(),this.editor.focus(),this.element.domNode.classList.add("shows-details")})}toggleExplainMode(){this._list.getFocusedElements()[0]&&(this._explainMode=!this._explainMode,this._isDetailsVisible()?this.showDetails(!1):this.toggleDetails())}resetPersistedSize(){this._persistedSize.reset()}hideWidget(){var nt;this._pendingLayout.clear(),this._pendingShowDetails.clear(),null===(nt=this._loadingTimeout)||void 0===nt||nt.dispose(),this._setState(0),this._onDidHide.fire(this),this.element.clearSashHoverState();const Me=this._persistedSize.restore(),he=Math.ceil(4.3*this.getLayoutInfo().itemHeight);Me&&Me.height<he&&this._persistedSize.store(Me.with(void 0,he))}isFrozen(){return 4===this._state}_afterRender(nt){null!==nt?2===this._state||1===this._state||(this._isDetailsVisible()&&this._details.show(),this._positionDetails()):this._isDetailsVisible()&&this._details.hide()}_layout(nt){var Me,he,Be;if(!this.editor.hasModel()||!this.editor.getDomNode())return;const Ke=Pe.D6(document.body),Ye=this.getLayoutInfo();nt||(nt=Ye.defaultSize);let dt=nt.height,zt=nt.width;if(this._status.element.style.height=`${Ye.itemHeight}px`,2===this._state||1===this._state)dt=Ye.itemHeight+Ye.borderHeight,zt=Ye.defaultSize.width/2,this.element.enableSashes(!1,!1,!1,!1),this.element.minSize=this.element.maxSize=new Pe.Ro(zt,dt),this._contentWidget.setPreference(2);else{const _i=Ke.width-Ye.borderHeight-2*Ye.horizontalPadding;zt>_i&&(zt=_i);const mi=this._completionModel?this._completionModel.stats.pLabelLen*Ye.typicalHalfwidthCharacterWidth:zt,qt=Ye.statusBarHeight+this._list.contentHeight+Ye.borderHeight,oi=Ye.itemHeight+Ye.statusBarHeight,Ai=Pe.i(this.editor.getDomNode()),Wi=this.editor.getScrolledVisiblePosition(this.editor.getPosition()),fi=Math.min(Ke.height-(Ai.top+Wi.top+Wi.height)-Ye.verticalPadding,qt),$t=Ai.top+Wi.top-Ye.verticalPadding,Ii=Math.min($t,qt);let si=Math.min(Math.max(Ii,fi)+Ye.borderHeight,qt);dt===(null===(Me=this._cappedHeight)||void 0===Me?void 0:Me.capped)&&(dt=this._cappedHeight.wanted),dt<oi&&(dt=oi),dt>si&&(dt=si),dt>fi||this._forceRenderingAbove&&$t>150?(this._contentWidget.setPreference(1),this.element.enableSashes(!0,!0,!1,!1),si=Ii):(this._contentWidget.setPreference(2),this.element.enableSashes(!1,!0,!0,!1),si=fi),this.element.preferredSize=new Pe.Ro(mi,Ye.defaultSize.height),this.element.maxSize=new Pe.Ro(_i,si),this.element.minSize=new Pe.Ro(220,oi),this._cappedHeight=dt===qt?{wanted:null!==(Be=null===(he=this._cappedHeight)||void 0===he?void 0:he.wanted)&&void 0!==Be?Be:nt.height,capped:dt}:void 0}this._resize(zt,dt)}_resize(nt,Me){const{width:he,height:Be}=this.element.maxSize;nt=Math.min(he,nt),Me=Math.min(Be,Me);const{statusBarHeight:Ke}=this.getLayoutInfo();this._list.layout(Me-Ke,nt),this._listElement.style.height=Me-Ke+"px",this.element.layout(Me,nt),this._contentWidget.layout(),this._positionDetails()}_positionDetails(){var nt;this._isDetailsVisible()&&this._details.placeAtAnchor(this.element.domNode,2===(null===(nt=this._contentWidget.getPosition())||void 0===nt?void 0:nt.preference[0]))}getLayoutInfo(){const nt=this.editor.getOption(49),Me=(0,be.uZ)(this.editor.getOption(118)||nt.lineHeight,8,1e3),he=this.editor.getOption(116).showStatusBar&&2!==this._state&&1!==this._state?Me:0,Be=this._details.widget.borderWidth,Ke=2*Be;return{itemHeight:Me,statusBarHeight:he,borderWidth:Be,borderHeight:Ke,typicalHalfwidthCharacterWidth:nt.typicalHalfwidthCharacterWidth,verticalPadding:22,horizontalPadding:14,defaultSize:new Pe.Ro(430,he+12*Me+Ke)}}_isDetailsVisible(){return this._storageService.getBoolean("expandSuggestionDocs",0,!1)}_setDetailsVisible(nt){this._storageService.store("expandSuggestionDocs",nt,0,0)}forceRenderingAbove(){this._forceRenderingAbove||(this._forceRenderingAbove=!0,this._layout(this._persistedSize.restore()))}stopForceRenderingAbove(){this._forceRenderingAbove=!1}};Pn.LOADING_MESSAGE=O.NC("suggestWidget.loading","Loading..."),Pn.NO_SUGGESTIONS_MESSAGE=O.NC("suggestWidget.noSuggestions","No suggestions."),Pn=Qi=function(ki,nt,Me,he){var Ye,Be=arguments.length,Ke=Be<3?nt:null===he?he=Object.getOwnPropertyDescriptor(nt,Me):he;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ke=Reflect.decorate(ki,nt,Me,he);else for(var dt=ki.length-1;dt>=0;dt--)(Ye=ki[dt])&&(Ke=(Be<3?Ye(Ke):Be>3?Ye(nt,Me,Ke):Ye(nt,Me))||Ke);return Be>3&&Ke&&Object.defineProperty(nt,Me,Ke),Ke}([Fi(1,Ot.Uy),Fi(2,D.i6),Fi(3,Zt.XE),Fi(4,z.TG)],Pn);class vn{constructor(nt,Me){this._widget=nt,this._editor=Me,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._preferenceLocked=!1,this._added=!1,this._hidden=!1}dispose(){this._added&&(this._added=!1,this._editor.removeContentWidget(this))}getId(){return"editor.widget.suggestWidget"}getDomNode(){return this._widget.element.domNode}show(){this._hidden=!1,this._added||(this._added=!0,this._editor.addContentWidget(this))}hide(){this._hidden||(this._hidden=!0,this.layout())}layout(){this._editor.layoutContentWidget(this)}getPosition(){return!this._hidden&&this._position&&this._preference?{position:this._position,preference:[this._preference]}:null}beforeRender(){const{height:nt,width:Me}=this._widget.element.size,{borderWidth:he,horizontalPadding:Be}=this._widget.getLayoutInfo();return new Pe.Ro(Me+2*he+Be,nt+2*he)}afterRender(nt){this._widget._afterRender(nt)}setPreference(nt){this._preferenceLocked||(this._preference=nt)}lockPreference(){this._preferenceLocked=!0}unlockPreference(){this._preferenceLocked=!1}setPosition(nt){this._position=nt}}var wn,Xn=e(27388),eo=function(ki,nt){return function(Me,he){nt(Me,he,ki)}};class po{constructor(nt,Me){if(this._model=nt,this._position=Me,nt.getLineMaxColumn(Me.lineNumber)!==Me.column){const Be=nt.getOffsetAt(Me),Ke=nt.getPositionAt(Be+1);this._marker=nt.deltaDecorations([],[{range:a.e.fromPositions(Me,Ke),options:{description:"suggest-line-suffix",stickiness:1}}])}}dispose(){this._marker&&!this._model.isDisposed()&&this._model.deltaDecorations(this._marker,[])}delta(nt){if(this._model.isDisposed()||this._position.lineNumber!==nt.lineNumber)return 0;if(this._marker){const Me=this._model.getDecorationRange(this._marker[0]);return this._model.getOffsetAt(Me.getStartPosition())-this._model.getOffsetAt(nt)}return this._model.getLineMaxColumn(nt.lineNumber)-nt.column}}let Jt=wn=class{static get(nt){return nt.getContribution(wn.ID)}constructor(nt,Me,he,Be,Ke,Ye,dt){this._memoryService=Me,this._commandService=he,this._contextKeyService=Be,this._instantiationService=Ke,this._logService=Ye,this._telemetryService=dt,this._lineSuffix=new E.XK,this._toDispose=new E.SL,this._selectors=new qn(qt=>qt.priority),this._onWillInsertSuggestItem=new S.Q5,this.onWillInsertSuggestItem=this._onWillInsertSuggestItem.event,this.editor=nt,this.model=Ke.createInstance(Ce,this.editor),this._selectors.register({priority:0,select:(qt,oi,Ai)=>this._memoryService.select(qt,oi,Ai)});const zt=ee._y.InsertMode.bindTo(Be);zt.set(nt.getOption(116).insertMode),this._toDispose.add(this.model.onDidTrigger(()=>zt.set(nt.getOption(116).insertMode))),this.widget=this._toDispose.add(new r.Ue(()=>{const qt=this._instantiationService.createInstance(Pn,this.editor);this._toDispose.add(qt),this._toDispose.add(qt.onDidSelect(fi=>this._insertSuggestion(fi,0),this));const oi=new K(this.editor,qt,this.model,fi=>this._insertSuggestion(fi,2));this._toDispose.add(oi);const Ai=ee._y.MakesTextEdit.bindTo(this._contextKeyService),Wi=ee._y.HasInsertAndReplaceRange.bindTo(this._contextKeyService),$i=ee._y.CanResolve.bindTo(this._contextKeyService);return this._toDispose.add((0,E.OF)(()=>{Ai.reset(),Wi.reset(),$i.reset()})),this._toDispose.add(qt.onDidFocus(({item:fi})=>{const $t=this.editor.getPosition(),Ii=fi.editStart.column,si=$t.column;let nn=!0;"smart"===this.editor.getOption(1)&&2===this.model.state&&!fi.completion.additionalTextEdits&&!(4&fi.completion.insertTextRules)&&si-Ii===fi.completion.insertText.length&&(nn=this.editor.getModel().getValueInRange({startLineNumber:$t.lineNumber,startColumn:Ii,endLineNumber:$t.lineNumber,endColumn:si})!==fi.completion.insertText),Ai.set(nn),Wi.set(!d.L.equals(fi.editInsertEnd,fi.editReplaceEnd)),$i.set(!!fi.provider.resolveCompletionItem||!!fi.completion.documentation||fi.completion.detail!==fi.completion.label)})),this._toDispose.add(qt.onDetailsKeyDown(fi=>{fi.toKeyCodeChord().equals(new T.$M(!0,!1,!1,!1,33))||L.dz&&fi.toKeyCodeChord().equals(new T.$M(!1,!1,!1,!0,33))?fi.stopPropagation():fi.toKeyCodeChord().isModifierKey()||this.editor.focus()})),qt})),this._overtypingCapturer=this._toDispose.add(new r.Ue(()=>this._toDispose.add(new ke(this.editor,this.model)))),this._alternatives=this._toDispose.add(new r.Ue(()=>this._toDispose.add(new j(this.editor,this._contextKeyService)))),this._toDispose.add(Ke.createInstance(R,nt)),this._toDispose.add(this.model.onDidTrigger(qt=>{this.widget.value.showTriggered(qt.auto,qt.shy?250:50),this._lineSuffix.value=new po(this.editor.getModel(),qt.position)})),this._toDispose.add(this.model.onDidSuggest(qt=>{if(qt.triggerOptions.shy)return;let oi=-1;for(const Wi of this._selectors.itemsOrderedByPriorityDesc)if(oi=Wi.select(this.editor.getModel(),this.editor.getPosition(),qt.completionModel.items),-1!==oi)break;-1===oi&&(oi=0);let Ai=!1;if(qt.triggerOptions.auto){const Wi=this.editor.getOption(116);"never"===Wi.selectionMode||"always"===Wi.selectionMode?Ai="never"===Wi.selectionMode:"whenTriggerCharacter"===Wi.selectionMode?Ai=1!==qt.triggerOptions.triggerKind:"whenQuickSuggestion"===Wi.selectionMode&&(Ai=1===qt.triggerOptions.triggerKind&&!qt.triggerOptions.refilter)}this.widget.value.showSuggestions(qt.completionModel,oi,qt.isFrozen,qt.triggerOptions.auto,Ai)})),this._toDispose.add(this.model.onDidCancel(qt=>{qt.retrigger||this.widget.value.hideWidget()})),this._toDispose.add(this.editor.onDidBlurEditorWidget(()=>{this.model.cancel(),this.model.clear()}));const _i=ee._y.AcceptSuggestionsOnEnter.bindTo(Be),mi=()=>{const qt=this.editor.getOption(1);_i.set("on"===qt||"smart"===qt)};this._toDispose.add(this.editor.onDidChangeConfiguration(()=>mi())),mi()}dispose(){this._alternatives.dispose(),this._toDispose.dispose(),this.widget.dispose(),this.model.dispose(),this._lineSuffix.dispose(),this._onWillInsertSuggestItem.dispose()}_insertSuggestion(nt,Me){if(!nt||!nt.item)return this._alternatives.value.reset(),this.model.cancel(),void this.model.clear();if(!this.editor.hasModel())return;const he=l.f.get(this.editor);if(!he)return;this._onWillInsertSuggestItem.fire({item:nt.item});const Be=this.editor.getModel(),Ke=Be.getAlternativeVersionId(),{item:Ye}=nt,dt=[],zt=new y.A;1&Me||this.editor.pushUndoStop();const _i=this.getOverwriteInfo(Ye,!!(8&Me));this._memoryService.memorize(Be,this.editor.getPosition(),Ye);const mi=Ye.isResolved;let qt=-1,oi=-1;if(Array.isArray(Ye.completion.additionalTextEdits)){this.model.cancel();const Wi=u.Z.capture(this.editor);this.editor.executeEdits("suggestController.additionalTextEdits.sync",Ye.completion.additionalTextEdits.map($i=>i.h.replaceMove(a.e.lift($i.range),$i.text))),Wi.restoreRelativeVerticalPositionOfCursor(this.editor)}else if(!mi){const Wi=new p.G;let $i;const fi=Be.onDidChangeContent(nn=>{if(nn.isFlush)return zt.cancel(),void fi.dispose();for(const en of nn.changes){const yn=a.e.getEndPosition(en.range);(!$i||d.L.isBefore(yn,$i))&&($i=yn)}}),$t=Me;Me|=2;let Ii=!1;const si=this.editor.onWillType(()=>{si.dispose(),Ii=!0,2&$t||this.editor.pushUndoStop()});dt.push(Ye.resolve(zt.token).then(()=>{if(!Ye.completion.additionalTextEdits||zt.token.isCancellationRequested)return;if($i&&Ye.completion.additionalTextEdits.some(en=>d.L.isBefore($i,a.e.getStartPosition(en.range))))return!1;Ii&&this.editor.pushUndoStop();const nn=u.Z.capture(this.editor);return this.editor.executeEdits("suggestController.additionalTextEdits.async",Ye.completion.additionalTextEdits.map(en=>i.h.replaceMove(a.e.lift(en.range),en.text))),nn.restoreRelativeVerticalPositionOfCursor(this.editor),(Ii||!(2&$t))&&this.editor.pushUndoStop(),!0}).then(nn=>{this._logService.trace("[suggest] async resolving of edits DONE (ms, applied?)",Wi.elapsed(),nn),oi=!0===nn?1:!1===nn?0:-2}).finally(()=>{fi.dispose(),si.dispose()}))}let{insertText:Ai}=Ye.completion;if(4&Ye.completion.insertTextRules||(Ai=I.Yj.escape(Ai)),this.model.cancel(),he.insert(Ai,{overwriteBefore:_i.overwriteBefore,overwriteAfter:_i.overwriteAfter,undoStopBefore:!1,undoStopAfter:!1,adjustWhitespace:!(1&Ye.completion.insertTextRules),clipboardText:nt.model.clipboardText,overtypingCapturer:this._overtypingCapturer.value}),2&Me||this.editor.pushUndoStop(),Ye.completion.command)if(Ye.completion.command.id===gn.id)this.model.trigger({auto:!0,retrigger:!0});else{const Wi=new p.G;dt.push(this._commandService.executeCommand(Ye.completion.command.id,...Ye.completion.command.arguments?[...Ye.completion.command.arguments]:[]).catch($i=>{Ye.completion.extensionId?(0,v.Cp)($i):(0,v.dL)($i)}).finally(()=>{qt=Wi.elapsed()}))}4&Me&&this._alternatives.value.set(nt,Wi=>{for(zt.cancel();Be.canUndo();){Ke!==Be.getAlternativeVersionId()&&Be.undo(),this._insertSuggestion(Wi,3|(8&Me?8:0));break}}),this._alertCompletionItem(Ye),Promise.all(dt).finally(()=>{this._reportSuggestionAcceptedTelemetry(Ye,Be,mi,qt,oi),this.model.clear(),zt.dispose()})}_reportSuggestionAcceptedTelemetry(nt,Me,he,Be,Ke){var Ye,dt,zt;0!==Math.floor(100*Math.random())&&this._telemetryService.publicLog2("suggest.acceptedSuggestion",{extensionId:null!==(dt=null===(Ye=nt.extensionId)||void 0===Ye?void 0:Ye.value)&&void 0!==dt?dt:"unknown",providerId:null!==(zt=nt.provider._debugDisplayName)&&void 0!==zt?zt:"unknown",kind:nt.completion.kind,basenameHash:(0,Xn.vp)((0,Qt.EZ)(Me.uri)).toString(16),languageId:Me.getLanguageId(),fileExtension:(0,Qt.DZ)(Me.uri),resolveInfo:nt.provider.resolveCompletionItem?he?1:0:-1,resolveDuration:nt.resolveDuration,commandDuration:Be,additionalEditsAsync:Ke})}getOverwriteInfo(nt,Me){(0,c.p_)(this.editor.hasModel());let he="replace"===this.editor.getOption(116).insertMode;Me&&(he=!he);const Ke=(he?nt.editReplaceEnd.column:nt.editInsertEnd.column)-nt.position.column;return{overwriteBefore:nt.position.column-nt.editStart.column+(this.editor.getPosition().column-nt.position.column),overwriteAfter:Ke+(this._lineSuffix.value?this._lineSuffix.value.delta(this.editor.getPosition()):0)}}_alertCompletionItem(nt){if((0,P.Of)(nt.completion.additionalTextEdits)){const Me=O.NC("aria.alert.snippet","Accepting '{0}' made {1} additional edits",nt.textLabel,nt.completion.additionalTextEdits.length);(0,f.Z9)(Me)}}triggerSuggest(nt,Me,he){this.editor.hasModel()&&(this.model.trigger({auto:Me??!1,completionOptions:{providerFilter:nt,kindFilter:he?new Set:void 0}}),this.editor.revealPosition(this.editor.getPosition(),0),this.editor.focus())}triggerSuggestAndAcceptBest(nt){if(!this.editor.hasModel())return;const Me=this.editor.getPosition(),he=()=>{Me.equals(this.editor.getPosition())&&this._commandService.executeCommand(nt.fallback)},Be=Ke=>{if(4&Ke.completion.insertTextRules||Ke.completion.additionalTextEdits)return!0;const Ye=this.editor.getPosition(),dt=Ke.editStart.column,zt=Ye.column;return zt-dt!==Ke.completion.insertText.length||this.editor.getModel().getValueInRange({startLineNumber:Ye.lineNumber,startColumn:dt,endLineNumber:Ye.lineNumber,endColumn:zt})!==Ke.completion.insertText};S.ju.once(this.model.onDidTrigger)(Ke=>{const Ye=[];S.ju.any(this.model.onDidTrigger,this.model.onDidCancel)(()=>{(0,E.B9)(Ye),he()},void 0,Ye),this.model.onDidSuggest(({completionModel:dt})=>{if((0,E.B9)(Ye),0===dt.items.length)return void he();const zt=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),dt.items),_i=dt.items[zt];Be(_i)?(this.editor.pushUndoStop(),this._insertSuggestion({index:zt,item:_i,model:dt},7)):he()},void 0,Ye)}),this.model.trigger({auto:!1,shy:!0}),this.editor.revealPosition(Me,0),this.editor.focus()}acceptSelectedSuggestion(nt,Me){const he=this.widget.value.getFocusedItem();let Be=0;nt&&(Be|=4),Me&&(Be|=8),this._insertSuggestion(he,Be)}acceptNextSuggestion(){this._alternatives.value.next()}acceptPrevSuggestion(){this._alternatives.value.prev()}cancelSuggestWidget(){this.model.cancel(),this.model.clear(),this.widget.value.hideWidget()}focusSuggestion(){this.widget.value.focusSelected()}selectNextSuggestion(){this.widget.value.selectNext()}selectNextPageSuggestion(){this.widget.value.selectNextPage()}selectLastSuggestion(){this.widget.value.selectLast()}selectPrevSuggestion(){this.widget.value.selectPrevious()}selectPrevPageSuggestion(){this.widget.value.selectPreviousPage()}selectFirstSuggestion(){this.widget.value.selectFirst()}toggleSuggestionDetails(){this.widget.value.toggleDetails()}toggleExplainMode(){this.widget.value.toggleExplainMode()}toggleSuggestionFocus(){this.widget.value.toggleDetailsFocus()}resetWidgetSize(){this.widget.value.resetPersistedSize()}forceRenderingAbove(){this.widget.value.forceRenderingAbove()}stopForceRenderingAbove(){this.widget.isInitialized&&this.widget.value.stopForceRenderingAbove()}registerSelector(nt){return this._selectors.register(nt)}};Jt.ID="editor.contrib.suggestController",Jt=wn=function(ki,nt,Me,he){var Ye,Be=arguments.length,Ke=Be<3?nt:null===he?he=Object.getOwnPropertyDescriptor(nt,Me):he;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ke=Reflect.decorate(ki,nt,Me,he);else for(var dt=ki.length-1;dt>=0;dt--)(Ye=ki[dt])&&(Ke=(Be<3?Ye(Ke):Be>3?Ye(nt,Me,Ke):Ye(nt,Me))||Ke);return Be>3&&Ke&&Object.defineProperty(nt,Me,Ke),Ke}([eo(1,w.Fh),eo(2,W.H),eo(3,D.i6),eo(4,z.TG),eo(5,U.VZ),eo(6,_e.b)],Jt);class qn{constructor(nt){this.prioritySelector=nt,this._items=new Array}register(nt){if(-1!==this._items.indexOf(nt))throw new Error("Value is already registered");return this._items.push(nt),this._items.sort((Me,he)=>this.prioritySelector(he)-this.prioritySelector(Me)),{dispose:()=>{const Me=this._items.indexOf(nt);Me>=0&&this._items.splice(Me,1)}}}get itemsOrderedByPriorityDesc(){return this._items}}let gn=(()=>{class ki extends g.R6{constructor(){super({id:ki.id,label:O.NC("suggest.trigger.label","Trigger Suggest"),alias:"Trigger Suggest",precondition:D.Ao.and(m.u.writable,m.u.hasCompletionItemProvider,ee._y.Visible.toNegated()),kbOpts:{kbExpr:m.u.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[521,2087]},weight:100}})}run(Me,he,Be){const Ke=Jt.get(he);if(!Ke)return;let Ye;Be&&"object"==typeof Be&&!0===Be.auto&&(Ye=!0),Ke.triggerSuggest(void 0,Ye,void 0)}}return ki.id="editor.action.triggerSuggest",ki})();(0,g._K)(Jt.ID,Jt,2),(0,g.Qr)(gn);const Gn=190,Qn=g._l.bindToContribution(Jt.get);(0,g.fK)(new Qn({id:"acceptSelectedSuggestion",precondition:D.Ao.and(ee._y.Visible,ee._y.HasFocusedSuggestion),handler(ki){ki.acceptSelectedSuggestion(!0,!1)},kbOpts:[{primary:2,kbExpr:D.Ao.and(ee._y.Visible,m.u.textInputFocus),weight:Gn},{primary:3,kbExpr:D.Ao.and(ee._y.Visible,m.u.textInputFocus,ee._y.AcceptSuggestionsOnEnter,ee._y.MakesTextEdit),weight:Gn}],menuOpts:[{menuId:ee.GI,title:O.NC("accept.insert","Insert"),group:"left",order:1,when:ee._y.HasInsertAndReplaceRange.toNegated()},{menuId:ee.GI,title:O.NC("accept.insert","Insert"),group:"left",order:1,when:D.Ao.and(ee._y.HasInsertAndReplaceRange,ee._y.InsertMode.isEqualTo("insert"))},{menuId:ee.GI,title:O.NC("accept.replace","Replace"),group:"left",order:1,when:D.Ao.and(ee._y.HasInsertAndReplaceRange,ee._y.InsertMode.isEqualTo("replace"))}]})),(0,g.fK)(new Qn({id:"acceptAlternativeSelectedSuggestion",precondition:D.Ao.and(ee._y.Visible,m.u.textInputFocus,ee._y.HasFocusedSuggestion),kbOpts:{weight:Gn,kbExpr:m.u.textInputFocus,primary:1027,secondary:[1026]},handler(ki){ki.acceptSelectedSuggestion(!1,!0)},menuOpts:[{menuId:ee.GI,group:"left",order:2,when:D.Ao.and(ee._y.HasInsertAndReplaceRange,ee._y.InsertMode.isEqualTo("insert")),title:O.NC("accept.replace","Replace")},{menuId:ee.GI,group:"left",order:2,when:D.Ao.and(ee._y.HasInsertAndReplaceRange,ee._y.InsertMode.isEqualTo("replace")),title:O.NC("accept.insert","Insert")}]})),W.P.registerCommandAlias("acceptSelectedSuggestionOnEnter","acceptSelectedSuggestion"),(0,g.fK)(new Qn({id:"hideSuggestWidget",precondition:ee._y.Visible,handler:ki=>ki.cancelSuggestWidget(),kbOpts:{weight:Gn,kbExpr:m.u.textInputFocus,primary:9,secondary:[1033]}})),(0,g.fK)(new Qn({id:"selectNextSuggestion",precondition:D.Ao.and(ee._y.Visible,D.Ao.or(ee._y.MultipleSuggestions,ee._y.HasFocusedSuggestion.negate())),handler:ki=>ki.selectNextSuggestion(),kbOpts:{weight:Gn,kbExpr:m.u.textInputFocus,primary:18,secondary:[2066],mac:{primary:18,secondary:[2066,300]}}})),(0,g.fK)(new Qn({id:"selectNextPageSuggestion",precondition:D.Ao.and(ee._y.Visible,D.Ao.or(ee._y.MultipleSuggestions,ee._y.HasFocusedSuggestion.negate())),handler:ki=>ki.selectNextPageSuggestion(),kbOpts:{weight:Gn,kbExpr:m.u.textInputFocus,primary:12,secondary:[2060]}})),(0,g.fK)(new Qn({id:"selectLastSuggestion",precondition:D.Ao.and(ee._y.Visible,D.Ao.or(ee._y.MultipleSuggestions,ee._y.HasFocusedSuggestion.negate())),handler:ki=>ki.selectLastSuggestion()})),(0,g.fK)(new Qn({id:"selectPrevSuggestion",precondition:D.Ao.and(ee._y.Visible,D.Ao.or(ee._y.MultipleSuggestions,ee._y.HasFocusedSuggestion.negate())),handler:ki=>ki.selectPrevSuggestion(),kbOpts:{weight:Gn,kbExpr:m.u.textInputFocus,primary:16,secondary:[2064],mac:{primary:16,secondary:[2064,302]}}})),(0,g.fK)(new Qn({id:"selectPrevPageSuggestion",precondition:D.Ao.and(ee._y.Visible,D.Ao.or(ee._y.MultipleSuggestions,ee._y.HasFocusedSuggestion.negate())),handler:ki=>ki.selectPrevPageSuggestion(),kbOpts:{weight:Gn,kbExpr:m.u.textInputFocus,primary:11,secondary:[2059]}})),(0,g.fK)(new Qn({id:"selectFirstSuggestion",precondition:D.Ao.and(ee._y.Visible,D.Ao.or(ee._y.MultipleSuggestions,ee._y.HasFocusedSuggestion.negate())),handler:ki=>ki.selectFirstSuggestion()})),(0,g.fK)(new Qn({id:"focusSuggestion",precondition:D.Ao.and(ee._y.Visible,ee._y.HasFocusedSuggestion.negate()),handler:ki=>ki.focusSuggestion(),kbOpts:{weight:Gn,kbExpr:m.u.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[2087]}}})),(0,g.fK)(new Qn({id:"focusAndAcceptSuggestion",precondition:D.Ao.and(ee._y.Visible,ee._y.HasFocusedSuggestion.negate()),handler:ki=>{ki.focusSuggestion(),ki.acceptSelectedSuggestion(!0,!1)}})),(0,g.fK)(new Qn({id:"toggleSuggestionDetails",precondition:D.Ao.and(ee._y.Visible,ee._y.HasFocusedSuggestion),handler:ki=>ki.toggleSuggestionDetails(),kbOpts:{weight:Gn,kbExpr:m.u.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[2087]}},menuOpts:[{menuId:ee.GI,group:"right",order:1,when:D.Ao.and(ee._y.DetailsVisible,ee._y.CanResolve),title:O.NC("detail.more","show less")},{menuId:ee.GI,group:"right",order:1,when:D.Ao.and(ee._y.DetailsVisible.toNegated(),ee._y.CanResolve),title:O.NC("detail.less","show more")}]})),(0,g.fK)(new Qn({id:"toggleExplainMode",precondition:ee._y.Visible,handler:ki=>ki.toggleExplainMode(),kbOpts:{weight:100,primary:2138}})),(0,g.fK)(new Qn({id:"toggleSuggestionFocus",precondition:ee._y.Visible,handler:ki=>ki.toggleSuggestionFocus(),kbOpts:{weight:Gn,kbExpr:m.u.textInputFocus,primary:2570,mac:{primary:778}}})),(0,g.fK)(new Qn({id:"insertBestCompletion",precondition:D.Ao.and(m.u.textInputFocus,D.Ao.equals("config.editor.tabCompletion","on"),R.AtEnd,ee._y.Visible.toNegated(),j.OtherSuggestions.toNegated(),l.f.InSnippetMode.toNegated()),handler:(ki,nt)=>{ki.triggerSuggestAndAcceptBest((0,c.Kn)(nt)?Object.assign({fallback:"tab"},nt):{fallback:"tab"})},kbOpts:{weight:Gn,primary:2}})),(0,g.fK)(new Qn({id:"insertNextSuggestion",precondition:D.Ao.and(m.u.textInputFocus,D.Ao.equals("config.editor.tabCompletion","on"),j.OtherSuggestions,ee._y.Visible.toNegated(),l.f.InSnippetMode.toNegated()),handler:ki=>ki.acceptNextSuggestion(),kbOpts:{weight:Gn,kbExpr:m.u.textInputFocus,primary:2}})),(0,g.fK)(new Qn({id:"insertPrevSuggestion",precondition:D.Ao.and(m.u.textInputFocus,D.Ao.equals("config.editor.tabCompletion","on"),j.OtherSuggestions,ee._y.Visible.toNegated(),l.f.InSnippetMode.toNegated()),handler:ki=>ki.acceptPrevSuggestion(),kbOpts:{weight:Gn,kbExpr:m.u.textInputFocus,primary:1026}})),(0,g.Qr)(class extends g.R6{constructor(){super({id:"editor.action.resetSuggestSize",label:O.NC("suggest.reset.label","Reset Suggest Widget Size"),alias:"Reset Suggest Widget Size",precondition:void 0})}run(ki,nt){var Me;null===(Me=Jt.get(nt))||void 0===Me||Me.resetWidgetSize()}})},15513:(Xe,we,e)=>{var l,f=e(87618),P=e(55769),r=e(68733),y=e(78694),v=e(8256),S=e(51617),T=e(96726),E=e(55763),L=e(54907),p=e(82090),c=e(79406),u=e(66858),g=e(2034),i=e(12065),d=function(A,k,R,O){var U,W=arguments.length,z=W<3?k:null===O?O=Object.getOwnPropertyDescriptor(k,R):O;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)z=Reflect.decorate(A,k,R,O);else for(var ee=A.length-1;ee>=0;ee--)(U=A[ee])&&(z=(W<3?U(z):W>3?U(k,R,z):U(k,R))||z);return W>3&&z&&Object.defineProperty(k,R,z),z},a=function(A,k){return function(R,O){k(R,O,A)}};class I{constructor(k,R,O,W,z,U){this.range=k,this.insertText=R,this.filterText=O,this.additionalTextEdits=W,this.command=z,this.completion=U}}let w=class extends y.L6{constructor(k,R,O,W,z,U){super(z.disposable),this.model=k,this.line=R,this.word=O,this.completionModel=W,this._suggestMemoryService=U}canBeReused(k,R,O){return this.model===k&&this.line===R&&this.word.word.length>0&&this.word.startColumn===O.startColumn&&this.word.endColumn<O.endColumn&&0===this.completionModel.getIncompleteProvider().size}get items(){var k;const R=[],{items:O}=this.completionModel,W=this._suggestMemoryService.select(this.model,{lineNumber:this.line,column:this.word.endColumn+this.completionModel.lineContext.characterCountDelta},O),z=r.$.slice(O,W),U=r.$.slice(O,0,W);let ee=5;for(const B of r.$.concat(z,U)){if(B.score===P.CL.Default)continue;const G=new T.e(B.editStart.lineNumber,B.editStart.column,B.editInsertEnd.lineNumber,B.editInsertEnd.column+this.completionModel.lineContext.characterCountDelta);R.push(new I(G,B.completion.insertTextRules&&4&B.completion.insertTextRules?{snippet:B.completion.insertText}:B.completion.insertText,null!==(k=B.filterTextLow)&&void 0!==k?k:B.labelLow,B.completion.additionalTextEdits,B.completion.command,B)),ee-- >=0&&B.resolve(f.T.None)}return R}};w=d([a(5,c.Fh)],w);let D=class{constructor(k,R,O,W){this._getEditorOption=k,this._languageFeatureService=R,this._clipboardService=O,this._suggestMemoryService=W}provideInlineCompletions(k,R,O,W){var z;return function(A,k,R,O){return new(R||(R=Promise))(function(z,U){function ee(se){try{G(O.next(se))}catch(j){U(j)}}function B(se){try{G(O.throw(se))}catch(j){U(j)}}function G(se){se.done?z(se.value):function W(z){return z instanceof R?z:new R(function(U){U(z)})}(se.value).then(ee,B)}G((O=O.apply(A,k||[])).next())})}(this,void 0,void 0,function*(){if(O.selectedSuggestionInfo)return;const U=this._getEditorOption(87,k);if(p.tG.isAllOff(U))return;k.tokenization.tokenizeIfCheap(R.lineNumber);const ee=k.tokenization.getLineTokens(R.lineNumber),B=ee.getStandardTokenType(ee.findTokenIndexAtOffset(Math.max(R.column-1-1,0)));if("inline"!==p.tG.valueFor(U,B))return;let se,j,G=k.getWordAtPosition(R);if(G?.word||(se=this._getTriggerCharacterInfo(k,R)),!G?.word&&!se||(G||(G=k.getWordUntilPosition(R)),G.endColumn!==R.column))return;const $=k.getValueInRange(new T.e(R.lineNumber,1,R.lineNumber,R.column));if(!se&&null!==(z=this._lastResult)&&void 0!==z&&z.canBeReused(k,R.lineNumber,G)){const K=new L.t($,R.column-this._lastResult.word.endColumn);this._lastResult.completionModel.lineContext=K,this._lastResult.acquire(),j=this._lastResult}else{const K=yield(0,p.kL)(this._languageFeatureService.completionProvider,k,R,new p.A9(void 0,void 0,se?.providers),se&&{triggerKind:1,triggerCharacter:se.ch},W);let J;K.needsClipboard&&(J=yield this._clipboardService.readText());const te=new L._(K.items,R.column,new L.t($,0),u.K.None,this._getEditorOption(116,k),this._getEditorOption(110,k),{boostFullMatch:!1,firstMatchCanBeWeak:!1},J);j=new w(k,R.lineNumber,G,te,K,this._suggestMemoryService)}return this._lastResult=j,j})}handleItemDidShow(k,R){R.completion.resolve(f.T.None)}freeInlineCompletions(k){k.release()}_getTriggerCharacterInfo(k,R){var O;const W=k.getValueInRange(T.e.fromPositions({lineNumber:R.lineNumber,column:R.column-1},R)),z=new Set;for(const U of this._languageFeatureService.completionProvider.all(k))null!==(O=U.triggerCharacters)&&void 0!==O&&O.includes(W)&&z.add(U);if(0!==z.size)return{providers:z,ch:W}}};D=d([a(1,E.p),a(2,g.p),a(3,c.Fh)],D);let N=l=class{constructor(k,R,O,W){if(1==++l._counter){const z=W.createInstance(D,(U,ee)=>{var B;return(null!==(B=O.listCodeEditors().find(se=>se.getModel()===ee))&&void 0!==B?B:k).getOption(U)});l._disposable=R.inlineCompletionsProvider.register("*",z)}}dispose(){var k;0==--l._counter&&(null===(k=l._disposable)||void 0===k||k.dispose(),l._disposable=void 0)}};N._counter=0,N=l=d([a(1,E.p),a(2,S.$),a(3,i.TG)],N),(0,v._K)("suggest.inlineCompletionsProvider",N,0)},79406:(Xe,we,e)=>{e.d(we,{Fh:()=>l});var u,f=e(85328),P=e(78694),r=e(38164),y=e(95619),v=e(81814),S=e(47358),T=e(67755),E=e(12065),L=e(93476),c=function(I,w){return function(D,N){w(D,N,I)}};class g{constructor(w){this.name=w}select(w,D,N){if(0===N.length)return 0;const A=N[0].score[0];for(let k=0;k<N.length;k++){const{score:R,completion:O}=N[k];if(R[0]!==A)break;if(O.preselect)return k}return 0}}class i extends g{constructor(){super("first")}memorize(w,D,N){}toJSON(){}fromJSON(){}}let m=u=class{constructor(w,D){this._storageService=w,this._configService=D,this._disposables=new P.SL,this._persistSoon=new f.pY(()=>this._saveState(),500),this._disposables.add(w.onWillSaveState(N=>{N.reason===L.fk.SHUTDOWN&&this._saveState()}))}dispose(){this._disposables.dispose(),this._persistSoon.dispose()}memorize(w,D,N){this._withStrategy(w,D).memorize(w,D,N),this._persistSoon.schedule()}select(w,D,N){return this._withStrategy(w,D).select(w,D,N)}_withStrategy(w,D){var N;const A=this._configService.getValue("editor.suggestSelection",{overrideIdentifier:w.getLanguageIdAtPosition(D.lineNumber,D.column),resource:w.uri});if((null===(N=this._strategy)||void 0===N?void 0:N.name)!==A){this._saveState();const k=u._strategyCtors.get(A)||i;this._strategy=new k;try{const O=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,W=this._storageService.get(`${u._storagePrefix}/${A}`,O);W&&this._strategy.fromJSON(JSON.parse(W))}catch{}}return this._strategy}_saveState(){if(this._strategy){const D=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,N=JSON.stringify(this._strategy);this._storageService.store(`${u._storagePrefix}/${this._strategy.name}`,N,D,1)}}};m._strategyCtors=new Map([["recentlyUsedByPrefix",class a extends g{constructor(){super("recentlyUsedByPrefix"),this._trie=y.Id.forStrings(),this._seq=0}memorize(w,D,N){const{word:A}=w.getWordUntilPosition(D),k=`${w.getLanguageId()}/${A}`;this._trie.set(k,{type:N.completion.kind,insertText:N.completion.insertText,touch:this._seq++})}select(w,D,N){const{word:A}=w.getWordUntilPosition(D);if(!A)return super.select(w,D,N);const k=`${w.getLanguageId()}/${A}`;let R=this._trie.get(k);if(R||(R=this._trie.findSubstr(k)),R)for(let O=0;O<N.length;O++){const{kind:W,insertText:z}=N[O].completion;if(W===R.type&&z===R.insertText)return O}return super.select(w,D,N)}toJSON(){const w=[];return this._trie.forEach((D,N)=>w.push([N,D])),w.sort((D,N)=>-(D[1].touch-N[1].touch)).forEach((D,N)=>D[1].touch=N),w.slice(0,200)}fromJSON(w){if(this._trie.clear(),w.length>0){this._seq=w[0][1].touch+1;for(const[D,N]of w)N.type="number"==typeof N.type?N.type:v.gX.fromString(N.type),this._trie.set(D,N)}}}],["recentlyUsed",class d extends g{constructor(){super("recentlyUsed"),this._cache=new r.z6(300,.66),this._seq=0}memorize(w,D,N){const A=`${w.getLanguageId()}/${N.textLabel}`;this._cache.set(A,{touch:this._seq++,type:N.completion.kind,insertText:N.completion.insertText})}select(w,D,N){if(0===N.length)return 0;const A=w.getLineContent(D.lineNumber).substr(D.column-10,D.column-1);if(/\s$/.test(A))return super.select(w,D,N);const k=N[0].score[0];let O=-1,W=-1;for(let z=0;z<N.length&&N[z].score[0]===k;z++){const U=`${w.getLanguageId()}/${N[z].textLabel}`,ee=this._cache.peek(U);if(ee&&ee.touch>W&&ee.type===N[z].completion.kind&&ee.insertText===N[z].completion.insertText&&(W=ee.touch,O=z),N[z].completion.preselect)return z}return-1!==O?O:0}toJSON(){return this._cache.toJSON()}fromJSON(w){this._cache.clear();for(const[N,A]of w)A.touch=0,A.type="number"==typeof A.type?A.type:v.gX.fromString(A.type),this._cache.set(N,A);this._seq=this._cache.size}}],["first",i]]),m._storagePrefix="suggest/memories",m=u=function(I,w,D,N){var R,A=arguments.length,k=A<3?w:null===N?N=Object.getOwnPropertyDescriptor(w,D):N;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)k=Reflect.decorate(I,w,D,N);else for(var O=I.length-1;O>=0;O--)(R=I[O])&&(k=(A<3?R(k):A>3?R(w,D,k):R(w,D))||k);return A>3&&k&&Object.defineProperty(w,D,k),k}([c(0,L.Uy),c(1,S.Ui)],m);const l=(0,E.yh)("ISuggestMemories");(0,T.z)(l,m,1)},66858:(Xe,we,e)=>{e.d(we,{K:()=>v});var f=e(31738),P=e(96726),r=e(65812);class v{static create(T,E){return function(S,T,E,L){return new(E||(E=Promise))(function(c,u){function g(a){try{d(L.next(a))}catch(m){u(m)}}function i(a){try{d(L.throw(a))}catch(m){u(m)}}function d(a){a.done?c(a.value):function p(c){return c instanceof E?c:new E(function(u){u(c)})}(a.value).then(g,i)}d((L=L.apply(S,T||[])).next())})}(this,void 0,void 0,function*(){if(!E.getOption(116).localityBonus||!E.hasModel())return v.None;const L=E.getModel(),p=E.getPosition();if(!T.canComputeWordRanges(L.uri))return v.None;const[c]=yield(new r.x).provideSelectionRanges(L,[p]);if(0===c.length)return v.None;const u=yield T.computeWordRanges(L.uri,c[0].range);if(!u)return v.None;const g=L.getWordUntilPosition(p);return delete u[g.word],new class extends v{distance(i,d){if(!p.equals(E.getPosition()))return 0;if(17===d.kind)return 2<<20;const m=u["string"==typeof d.label?d.label:d.label.label];if((0,f.XY)(m))return 2<<20;const l=(0,f.ry)(m,P.e.fromPositions(i),P.e.compareRangesUsingStarts),I=l>=0?m[l]:m[Math.max(0,~l-1)];let w=c.length;for(const D of c){if(!P.e.containsRange(D.range,I))break;w-=1}return w}}})}}v.None=new class extends v{distance(){return 0}}},94073:(Xe,we,e)=>{var f=e(93379),P=e.n(f),r=e(7795),y=e.n(r),v=e(90569),S=e.n(v),T=e(3565),E=e.n(T),L=e(19216),p=e.n(L),c=e(44589),u=e.n(c),g=e(30745),i={};i.styleTagTransform=u(),i.setAttributes=E(),i.insert=S().bind(null,"head"),i.domAPI=y(),i.insertStyleElement=p(),P()(g.Z,i);var m=e(37190),l=e(99745);(0,l.P6G)("symbolIcon.arrayForeground",{dark:l.dRz,light:l.dRz,hcDark:l.dRz,hcLight:l.dRz},(0,m.NC)("symbolIcon.arrayForeground","The foreground color for array symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),(0,l.P6G)("symbolIcon.booleanForeground",{dark:l.dRz,light:l.dRz,hcDark:l.dRz,hcLight:l.dRz},(0,m.NC)("symbolIcon.booleanForeground","The foreground color for boolean symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),(0,l.P6G)("symbolIcon.classForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},(0,m.NC)("symbolIcon.classForeground","The foreground color for class symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),(0,l.P6G)("symbolIcon.colorForeground",{dark:l.dRz,light:l.dRz,hcDark:l.dRz,hcLight:l.dRz},(0,m.NC)("symbolIcon.colorForeground","The foreground color for color symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),(0,l.P6G)("symbolIcon.constantForeground",{dark:l.dRz,light:l.dRz,hcDark:l.dRz,hcLight:l.dRz},(0,m.NC)("symbolIcon.constantForeground","The foreground color for constant symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),(0,l.P6G)("symbolIcon.constructorForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},(0,m.NC)("symbolIcon.constructorForeground","The foreground color for constructor symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),(0,l.P6G)("symbolIcon.enumeratorForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},(0,m.NC)("symbolIcon.enumeratorForeground","The foreground color for enumerator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),(0,l.P6G)("symbolIcon.enumeratorMemberForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,m.NC)("symbolIcon.enumeratorMemberForeground","The foreground color for enumerator member symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),(0,l.P6G)("symbolIcon.eventForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},(0,m.NC)("symbolIcon.eventForeground","The foreground color for event symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),(0,l.P6G)("symbolIcon.fieldForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,m.NC)("symbolIcon.fieldForeground","The foreground color for field symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),(0,l.P6G)("symbolIcon.fileForeground",{dark:l.dRz,light:l.dRz,hcDark:l.dRz,hcLight:l.dRz},(0,m.NC)("symbolIcon.fileForeground","The foreground color for file symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),(0,l.P6G)("symbolIcon.folderForeground",{dark:l.dRz,light:l.dRz,hcDark:l.dRz,hcLight:l.dRz},(0,m.NC)("symbolIcon.folderForeground","The foreground color for folder symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),(0,l.P6G)("symbolIcon.functionForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},(0,m.NC)("symbolIcon.functionForeground","The foreground color for function symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),(0,l.P6G)("symbolIcon.interfaceForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,m.NC)("symbolIcon.interfaceForeground","The foreground color for interface symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),(0,l.P6G)("symbolIcon.keyForeground",{dark:l.dRz,light:l.dRz,hcDark:l.dRz,hcLight:l.dRz},(0,m.NC)("symbolIcon.keyForeground","The foreground color for key symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),(0,l.P6G)("symbolIcon.keywordForeground",{dark:l.dRz,light:l.dRz,hcDark:l.dRz,hcLight:l.dRz},(0,m.NC)("symbolIcon.keywordForeground","The foreground color for keyword symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),(0,l.P6G)("symbolIcon.methodForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},(0,m.NC)("symbolIcon.methodForeground","The foreground color for method symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),(0,l.P6G)("symbolIcon.moduleForeground",{dark:l.dRz,light:l.dRz,hcDark:l.dRz,hcLight:l.dRz},(0,m.NC)("symbolIcon.moduleForeground","The foreground color for module symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),(0,l.P6G)("symbolIcon.namespaceForeground",{dark:l.dRz,light:l.dRz,hcDark:l.dRz,hcLight:l.dRz},(0,m.NC)("symbolIcon.namespaceForeground","The foreground color for namespace symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),(0,l.P6G)("symbolIcon.nullForeground",{dark:l.dRz,light:l.dRz,hcDark:l.dRz,hcLight:l.dRz},(0,m.NC)("symbolIcon.nullForeground","The foreground color for null symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),(0,l.P6G)("symbolIcon.numberForeground",{dark:l.dRz,light:l.dRz,hcDark:l.dRz,hcLight:l.dRz},(0,m.NC)("symbolIcon.numberForeground","The foreground color for number symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),(0,l.P6G)("symbolIcon.objectForeground",{dark:l.dRz,light:l.dRz,hcDark:l.dRz,hcLight:l.dRz},(0,m.NC)("symbolIcon.objectForeground","The foreground color for object symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),(0,l.P6G)("symbolIcon.operatorForeground",{dark:l.dRz,light:l.dRz,hcDark:l.dRz,hcLight:l.dRz},(0,m.NC)("symbolIcon.operatorForeground","The foreground color for operator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),(0,l.P6G)("symbolIcon.packageForeground",{dark:l.dRz,light:l.dRz,hcDark:l.dRz,hcLight:l.dRz},(0,m.NC)("symbolIcon.packageForeground","The foreground color for package symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),(0,l.P6G)("symbolIcon.propertyForeground",{dark:l.dRz,light:l.dRz,hcDark:l.dRz,hcLight:l.dRz},(0,m.NC)("symbolIcon.propertyForeground","The foreground color for property symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),(0,l.P6G)("symbolIcon.referenceForeground",{dark:l.dRz,light:l.dRz,hcDark:l.dRz,hcLight:l.dRz},(0,m.NC)("symbolIcon.referenceForeground","The foreground color for reference symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),(0,l.P6G)("symbolIcon.snippetForeground",{dark:l.dRz,light:l.dRz,hcDark:l.dRz,hcLight:l.dRz},(0,m.NC)("symbolIcon.snippetForeground","The foreground color for snippet symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),(0,l.P6G)("symbolIcon.stringForeground",{dark:l.dRz,light:l.dRz,hcDark:l.dRz,hcLight:l.dRz},(0,m.NC)("symbolIcon.stringForeground","The foreground color for string symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),(0,l.P6G)("symbolIcon.structForeground",{dark:l.dRz,light:l.dRz,hcDark:l.dRz,hcLight:l.dRz},(0,m.NC)("symbolIcon.structForeground","The foreground color for struct symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),(0,l.P6G)("symbolIcon.textForeground",{dark:l.dRz,light:l.dRz,hcDark:l.dRz,hcLight:l.dRz},(0,m.NC)("symbolIcon.textForeground","The foreground color for text symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),(0,l.P6G)("symbolIcon.typeParameterForeground",{dark:l.dRz,light:l.dRz,hcDark:l.dRz,hcLight:l.dRz},(0,m.NC)("symbolIcon.typeParameterForeground","The foreground color for type parameter symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),(0,l.P6G)("symbolIcon.unitForeground",{dark:l.dRz,light:l.dRz,hcDark:l.dRz,hcLight:l.dRz},(0,m.NC)("symbolIcon.unitForeground","The foreground color for unit symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),(0,l.P6G)("symbolIcon.variableForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,m.NC)("symbolIcon.variableForeground","The foreground color for variable symbols. These symbols appear in the outline, breadcrumb, and suggest widget."))},63618:(Xe,we,e)=>{var f=e(41539),P=e(88089),r=e(37190),y=e(63032),v=e(66221);(0,y.r1)((()=>{class T extends y.Ke{constructor(){super({id:T.ID,title:{value:r.NC({key:"toggle.tabMovesFocus",comment:["Turn on/off use of tab key for moving focus around VS Code"]},"Toggle Tab Key Moves Focus"),original:"Toggle Tab Key Moves Focus"},precondition:void 0,keybinding:{primary:2091,mac:{primary:1323},weight:100},f1:!0})}run(L){const p="terminal"===L.get(v.i6).getContextKeyValue("focusedView")?"terminalFocus":"editorFocus",u=!P.n.getTabFocusMode(p);P.n.setTabFocusMode(u,p),(0,f.Z9)(u?r.NC("toggle.tabMovesFocus.on","Pressing Tab will now move focus to the next focusable element"):r.NC("toggle.tabMovesFocus.off","Pressing Tab will now insert the tab character"))}}return T.ID="editor.action.toggleTabFocusMode",T})())},19257:(Xe,we,e)=>{var f=e(11664),P=e(8256),r=e(37190);(0,P.Qr)(class y extends P.R6{constructor(){super({id:"editor.action.forceRetokenize",label:r.NC("forceRetokenize","Developer: Force Retokenize"),alias:"Developer: Force Retokenize",precondition:void 0})}run(S,T){if(!T.hasModel())return;const E=T.getModel();E.tokenization.resetTokenization();const L=new f.G;E.tokenization.forceTokenization(E.getLineCount()),L.stop(),console.log(`tokenization took ${L.elapsed()}`)}})},44104:(Xe,we,e)=>{var f=e(85328),P=e(27222),r=e(10878),y=e(78694),v=e(88593),S=e(16055),T=e(93379),E=e.n(T),L=e(7795),p=e.n(L),c=e(90569),u=e.n(c),g=e(3565),i=e.n(g),d=e(19216),a=e.n(d),m=e(44589),l=e.n(m),I=e(98679),w={};w.styleTagTransform=l(),w.setAttributes=i(),w.insert=u().bind(null,"head"),w.domAPI=p(),w.insertStyleElement=a(),E()(I.Z,w);var A=e(8256),k=e(36413),R=e(54267),O=e(74097),W=e(57205),z=e(74315),U=e(45462),ee=e(9282),B=e(46868),G=e(98367),se={};se.styleTagTransform=l(),se.setAttributes=i(),se.insert=u().bind(null,"head"),se.domAPI=p(),se.insertStyleElement=a(),E()(G.Z,se);var K=e(20274),J=e(26775),te=e(54457),ne=e(40419),_=e(12065),ae=e(49489),ge=e(89271),_e=e(54796),ue=e(58178),ve=e(6628),Ie=e(57150),Se={};Se.styleTagTransform=l(),Se.setAttributes=i(),Se.insert=u().bind(null,"head"),Se.domAPI=p(),Se.insertStyleElement=a(),E()(Ie.Z,Se);let Y=class extends y.JT{get enabled(){return this._enabled}set enabled(gt){gt?(this.el.setAttribute("aria-disabled","false"),this.el.tabIndex=0,this.el.style.pointerEvents="auto",this.el.style.opacity="1",this.el.style.cursor="pointer",this._enabled=!1):(this.el.setAttribute("aria-disabled","true"),this.el.tabIndex=-1,this.el.style.pointerEvents="none",this.el.style.opacity="0.4",this.el.style.cursor="default",this._enabled=!0),this._enabled=gt}constructor(gt,Rt,Zt={},Ci){var ci;super(),this._link=Rt,this._enabled=!0,this.el=(0,K.R3)(gt,(0,K.$)("a.monaco-link",{tabIndex:null!==(ci=Rt.tabIndex)&&void 0!==ci?ci:0,href:Rt.href,title:Rt.title},Rt.label)),this.el.setAttribute("role","button");const Mi=this._register(new ae.Y(this.el,"click")),Gi=this._register(new ae.Y(this.el,"keypress")),Zi=ue.ju.chain(Gi.event).map(ut=>new ge.y(ut)).filter(ut=>3===ut.keyCode).event,St=this._register(new ae.Y(this.el,_e.t.Tap)).event;this._register(_e.o.addTarget(this.el));const st=ue.ju.any(Mi.event,Zi,St);this._register(st(ut=>{this.enabled&&(K.zB.stop(ut,!0),Zt?.opener?Zt.opener(this._link.href):Ci.open(this._link.href,{allowCommands:!0}))})),this.enabled=!0}};var gt;Y=function(Ot,gt,Rt,Zt){var Mi,Ci=arguments.length,ci=Ci<3?gt:null===Zt?Zt=Object.getOwnPropertyDescriptor(gt,Rt):Zt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ci=Reflect.decorate(Ot,gt,Rt,Zt);else for(var Gi=Ot.length-1;Gi>=0;Gi--)(Mi=Ot[Gi])&&(ci=(Ci<3?Mi(ci):Ci>3?Mi(gt,Rt,ci):Mi(gt,Rt))||ci);return Ci>3&&ci&&Object.defineProperty(gt,Rt,ci),ci}([(3,gt=ve.v4,function(Rt,Zt){gt(Rt,Zt,3)})],Y);var x=e(34252),F=e(35053),ie=function(Ot,gt,Rt,Zt){var Mi,Ci=arguments.length,ci=Ci<3?gt:null===Zt?Zt=Object.getOwnPropertyDescriptor(gt,Rt):Zt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ci=Reflect.decorate(Ot,gt,Rt,Zt);else for(var Gi=Ot.length-1;Gi>=0;Gi--)(Mi=Ot[Gi])&&(ci=(Ci<3?Mi(ci):Ci>3?Mi(gt,Rt,ci):Mi(gt,Rt))||ci);return Ci>3&&ci&&Object.defineProperty(gt,Rt,ci),ci},Ce=function(Ot,gt){return function(Rt,Zt){gt(Rt,Zt,Ot)}};let Pe=class extends y.JT{constructor(gt,Rt){super(),this._editor=gt,this.instantiationService=Rt,this.banner=this._register(this.instantiationService.createInstance(xe))}hide(){this._editor.setBanner(null,0),this.banner.clear()}show(gt){this.banner.show(Object.assign(Object.assign({},gt),{onClose:()=>{var Rt;this.hide(),null===(Rt=gt.onClose)||void 0===Rt||Rt.call(gt)}})),this._editor.setBanner(this.banner.element,26)}};Pe=ie([Ce(1,_.TG)],Pe);let xe=class extends y.JT{constructor(gt){super(),this.instantiationService=gt,this.markdownRenderer=this.instantiationService.createInstance(ne.$,{}),this.element=(0,K.$)("div.editor-banner"),this.element.tabIndex=0}getAriaLabel(gt){return gt.ariaLabel?gt.ariaLabel:"string"==typeof gt.message?gt.message:void 0}getBannerMessage(gt){if("string"==typeof gt){const Rt=(0,K.$)("span");return Rt.innerText=gt,Rt}return this.markdownRenderer.render(gt).element}clear(){(0,K.PO)(this.element)}show(gt){(0,K.PO)(this.element);const Rt=this.getAriaLabel(gt);Rt&&this.element.setAttribute("aria-label",Rt);const Zt=(0,K.R3)(this.element,(0,K.$)("div.icon-container"));Zt.setAttribute("aria-hidden","true"),gt.icon&&Zt.appendChild((0,K.$)(`div${F.k.asCSSSelector(gt.icon)}`));const Ci=(0,K.R3)(this.element,(0,K.$)("div.message-container"));if(Ci.setAttribute("aria-hidden","true"),Ci.appendChild(this.getBannerMessage(gt.message)),this.messageActionsContainer=(0,K.R3)(this.element,(0,K.$)("div.message-actions-container")),gt.actions)for(const Mi of gt.actions)this._register(this.instantiationService.createInstance(Y,this.messageActionsContainer,Object.assign(Object.assign({},Mi),{tabIndex:-1}),{}));const ci=(0,K.R3)(this.element,(0,K.$)("div.action-container"));this.actionBar=this._register(new J.o(ci)),this.actionBar.push(this._register(new te.aU("banner.close","Close Banner",F.k.asClassName(x.s_),!0,()=>{"function"==typeof gt.onClose&&gt.onClose()})),{icon:!0,label:!1}),this.actionBar.setFocusable(!1)}};xe=ie([Ce(0,_.TG)],xe);var fe=e(37190),be=e(47358),pe=e(49010),Q=e(98044),le=function(Ot,gt,Rt,Zt){var Mi,Ci=arguments.length,ci=Ci<3?gt:null===Zt?Zt=Object.getOwnPropertyDescriptor(gt,Rt):Zt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ci=Reflect.decorate(Ot,gt,Rt,Zt);else for(var Gi=Ot.length-1;Gi>=0;Gi--)(Mi=Ot[Gi])&&(ci=(Ci<3?Mi(ci):Ci>3?Mi(gt,Rt,ci):Mi(gt,Rt))||ci);return Ci>3&&ci&&Object.defineProperty(gt,Rt,ci),ci},Fe=function(Ot,gt){return function(Rt,Zt){gt(Rt,Zt,Ot)}},He=function(Ot,gt,Rt,Zt){return new(Rt||(Rt=Promise))(function(ci,Mi){function Gi(st){try{St(Zt.next(st))}catch(ut){Mi(ut)}}function Zi(st){try{St(Zt.throw(st))}catch(ut){Mi(ut)}}function St(st){st.done?ci(st.value):function Ci(ci){return ci instanceof Rt?ci:new Rt(function(Mi){Mi(ci)})}(st.value).then(Gi,Zi)}St((Zt=Zt.apply(Ot,gt||[])).next())})};const Je=(0,x.q5)("extensions-warning-message",P.l.warning,fe.NC("warningIcon","Icon shown with a warning message in the extensions editor."));let ot=class extends y.JT{constructor(gt,Rt,Zt,Ci){super(),this._editor=gt,this._editorWorkerService=Rt,this._workspaceTrustService=Zt,this._highlighter=null,this._bannerClosed=!1,this._updateState=ci=>{if(ci&&ci.hasMore){if(this._bannerClosed)return;const Mi=Math.max(ci.ambiguousCharacterCount,ci.nonBasicAsciiCharacterCount,ci.invisibleCharacterCount);let Gi;if(ci.nonBasicAsciiCharacterCount>=Mi)Gi={message:fe.NC("unicodeHighlighting.thisDocumentHasManyNonBasicAsciiUnicodeCharacters","This document contains many non-basic ASCII unicode characters"),command:new Te};else if(ci.ambiguousCharacterCount>=Mi)Gi={message:fe.NC("unicodeHighlighting.thisDocumentHasManyAmbiguousUnicodeCharacters","This document contains many ambiguous unicode characters"),command:new Ze};else{if(!(ci.invisibleCharacterCount>=Mi))throw new Error("Unreachable");Gi={message:fe.NC("unicodeHighlighting.thisDocumentHasManyInvisibleUnicodeCharacters","This document contains many invisible unicode characters"),command:new Ee}}this._bannerController.show({id:"unicodeHighlightBanner",message:Gi.message,icon:Je,actions:[{label:Gi.command.shortLabel,href:`command:${Gi.command.id}`}],onClose:()=>{this._bannerClosed=!0}})}else this._bannerController.hide()},this._bannerController=this._register(Ci.createInstance(Pe,gt)),this._register(this._editor.onDidChangeModel(()=>{this._bannerClosed=!1,this._updateHighlighter()})),this._options=gt.getOption(123),this._register(Zt.onDidChangeTrust(ci=>{this._updateHighlighter()})),this._register(gt.onDidChangeConfiguration(ci=>{ci.hasChanged(123)&&(this._options=gt.getOption(123),this._updateHighlighter())})),this._updateHighlighter()}dispose(){this._highlighter&&(this._highlighter.dispose(),this._highlighter=null),super.dispose()}_updateHighlighter(){if(this._updateState(null),this._highlighter&&(this._highlighter.dispose(),this._highlighter=null),!this._editor.hasModel())return;const gt=function lt(Ot,gt){return{nonBasicASCII:gt.nonBasicASCII===k.Av?!Ot:gt.nonBasicASCII,ambiguousCharacters:gt.ambiguousCharacters,invisibleCharacters:gt.invisibleCharacters,includeComments:gt.includeComments===k.Av?!Ot:gt.includeComments,includeStrings:gt.includeStrings===k.Av?!Ot:gt.includeStrings,allowedCharacters:gt.allowedCharacters,allowedLocales:gt.allowedLocales}}(this._workspaceTrustService.isWorkspaceTrusted(),this._options);if([gt.nonBasicASCII,gt.ambiguousCharacters,gt.invisibleCharacters].every(Zt=>!1===Zt))return;const Rt={nonBasicASCII:gt.nonBasicASCII,ambiguousCharacters:gt.ambiguousCharacters,invisibleCharacters:gt.invisibleCharacters,includeComments:gt.includeComments,includeStrings:gt.includeStrings,allowedCodePoints:Object.keys(gt.allowedCharacters).map(Zt=>Zt.codePointAt(0)),allowedLocales:Object.keys(gt.allowedLocales).map(Zt=>"_os"===Zt?(new Intl.NumberFormat).resolvedOptions().locale:"_vscode"===Zt?v.dK:Zt)};this._highlighter=this._editorWorkerService.canComputeUnicodeHighlights(this._editor.getModel().uri)?new mt(this._editor,Rt,this._updateState,this._editorWorkerService):new ft(this._editor,Rt,this._updateState)}getDecorationInfo(gt){return this._highlighter?this._highlighter.getDecorationInfo(gt):null}};ot.ID="editor.contrib.unicodeHighlighter",ot=le([Fe(1,W.p),Fe(2,Q.Y),Fe(3,_.TG)],ot);let mt=class extends y.JT{constructor(gt,Rt,Zt,Ci){super(),this._editor=gt,this._options=Rt,this._updateState=Zt,this._editorWorkerService=Ci,this._model=this._editor.getModel(),this._decorations=this._editor.createDecorationsCollection(),this._updateSoon=this._register(new f.pY(()=>this._update(),250)),this._register(this._editor.onDidChangeModelContent(()=>{this._updateSoon.schedule()})),this._updateSoon.schedule()}dispose(){this._decorations.clear(),super.dispose()}_update(){if(this._model.isDisposed())return;if(!this._model.mightContainNonBasicASCII())return void this._decorations.clear();const gt=this._model.getVersionId();this._editorWorkerService.computedUnicodeHighlights(this._model.uri,this._options).then(Rt=>{if(this._model.isDisposed()||this._model.getVersionId()!==gt)return;this._updateState(Rt);const Zt=[];if(!Rt.hasMore)for(const Ci of Rt.ranges)Zt.push({range:Ci,options:It.instance.getDecorationFromOptions(this._options)});this._decorations.set(Zt)})}getDecorationInfo(gt){if(!this._decorations.has(gt))return null;const Rt=this._editor.getModel();return(0,U.Fd)(Rt,gt)?{reason:At(Rt.getValueInRange(gt.range),this._options),inComment:(0,U.$t)(Rt,gt),inString:(0,U.zg)(Rt,gt)}:null}};mt=le([Fe(3,W.p)],mt);class ft extends y.JT{constructor(gt,Rt,Zt){super(),this._editor=gt,this._options=Rt,this._updateState=Zt,this._model=this._editor.getModel(),this._decorations=this._editor.createDecorationsCollection(),this._updateSoon=this._register(new f.pY(()=>this._update(),250)),this._register(this._editor.onDidLayoutChange(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidScrollChange(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidChangeHiddenAreas(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidChangeModelContent(()=>{this._updateSoon.schedule()})),this._updateSoon.schedule()}dispose(){this._decorations.clear(),super.dispose()}_update(){if(this._model.isDisposed())return;if(!this._model.mightContainNonBasicASCII())return void this._decorations.clear();const gt=this._editor.getVisibleRanges(),Rt=[],Zt={ranges:[],ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0,hasMore:!1};for(const Ci of gt){const ci=O.a.computeUnicodeHighlights(this._model,this._options,Ci);for(const Mi of ci.ranges)Zt.ranges.push(Mi);Zt.ambiguousCharacterCount+=Zt.ambiguousCharacterCount,Zt.invisibleCharacterCount+=Zt.invisibleCharacterCount,Zt.nonBasicAsciiCharacterCount+=Zt.nonBasicAsciiCharacterCount,Zt.hasMore=Zt.hasMore||ci.hasMore}if(!Zt.hasMore)for(const Ci of Zt.ranges)Rt.push({range:Ci,options:It.instance.getDecorationFromOptions(this._options)});this._updateState(Zt),this._decorations.set(Rt)}getDecorationInfo(gt){if(!this._decorations.has(gt))return null;const Rt=this._editor.getModel(),Zt=Rt.getValueInRange(gt.range);return(0,U.Fd)(Rt,gt)?{reason:At(Zt,this._options),inComment:(0,U.$t)(Rt,gt),inString:(0,U.zg)(Rt,gt)}:null}}let Lt=class{constructor(gt,Rt,Zt){this._editor=gt,this._languageService=Rt,this._openerService=Zt,this.hoverOrdinal=5}computeSync(gt,Rt){if(!this._editor.hasModel()||1!==gt.type)return[];const Zt=this._editor.getModel(),Ci=this._editor.getContribution(ot.ID);if(!Ci)return[];const ci=[],Mi=new Set;let Gi=300;for(const Zi of Rt){const St=Ci.getDecorationInfo(Zi);if(!St)continue;const ut=Zt.getValueInRange(Zi.range).codePointAt(0),pt=Mt(ut);let Ne;switch(St.reason.kind){case 0:Ne=(0,S.$i)(St.reason.confusableWith)?fe.NC("unicodeHighlight.characterIsAmbiguousASCII","The character {0} could be confused with the ASCII character {1}, which is more common in source code.",pt,Mt(St.reason.confusableWith.codePointAt(0))):fe.NC("unicodeHighlight.characterIsAmbiguous","The character {0} could be confused with the character {1}, which is more common in source code.",pt,Mt(St.reason.confusableWith.codePointAt(0)));break;case 1:Ne=fe.NC("unicodeHighlight.characterIsInvisible","The character {0} is invisible.",pt);break;case 2:Ne=fe.NC("unicodeHighlight.characterIsNonBasicAscii","The character {0} is not a basic ASCII character.",pt)}if(Mi.has(Ne))continue;Mi.add(Ne);const je={codePoint:ut,reason:St.reason,inComment:St.inComment,inString:St.inString},et=fe.NC("unicodeHighlight.adjustSettings","Adjust settings"),wt=`command:${Ae.ID}?${encodeURIComponent(JSON.stringify(je))}`,Bt=new r.W5("",!0).appendMarkdown(Ne).appendText(" ").appendLink(wt,et);ci.push(new B.hU(this,Zi.range,[Bt],!1,Gi++))}return ci}renderHoverParts(gt,Rt){return(0,B.c)(gt,Rt,this._editor,this._languageService,this._openerService)}};function Tt(Ot){return`U+${Ot.toString(16).padStart(4,"0")}`}function Mt(Ot){let gt=`\`${Tt(Ot)}\``;return S.vU.isInvisibleCharacter(Ot)||(gt+=` "${function Ut(Ot){return 96===Ot?"`` ` ``":"`"+String.fromCodePoint(Ot)+"`"}(Ot)}"`),gt}function At(Ot,gt){return O.a.computeUnicodeHighlightReason(Ot,gt)}Lt=le([Fe(1,z.O),Fe(2,ve.v4)],Lt);class It{constructor(){this.map=new Map}getDecorationFromOptions(gt){return this.getDecoration(!gt.includeComments,!gt.includeStrings)}getDecoration(gt,Rt){const Zt=`${gt}${Rt}`;let Ci=this.map.get(Zt);return Ci||(Ci=R.qx.createDynamic({description:"unicode-highlight",stickiness:1,className:"unicode-highlight",showIfCollapsed:!0,overviewRuler:null,minimap:null,hideInCommentTokens:gt,hideInStringTokens:Rt}),this.map.set(Zt,Ci)),Ci}}It.instance=new It;class it extends A.R6{constructor(){super({id:Ze.ID,label:fe.NC("action.unicodeHighlight.disableHighlightingInComments","Disable highlighting of characters in comments"),alias:"Disable highlighting of characters in comments",precondition:void 0}),this.shortLabel=fe.NC("unicodeHighlight.disableHighlightingInComments.shortLabel","Disable Highlight In Comments")}run(gt,Rt,Zt){return He(this,void 0,void 0,function*(){const Ci=gt?.get(be.Ui);Ci&&this.runAction(Ci)})}runAction(gt){return He(this,void 0,void 0,function*(){yield gt.updateValue(k.qt.includeComments,!1,2)})}}class qe extends A.R6{constructor(){super({id:Ze.ID,label:fe.NC("action.unicodeHighlight.disableHighlightingInStrings","Disable highlighting of characters in strings"),alias:"Disable highlighting of characters in strings",precondition:void 0}),this.shortLabel=fe.NC("unicodeHighlight.disableHighlightingInStrings.shortLabel","Disable Highlight In Strings")}run(gt,Rt,Zt){return He(this,void 0,void 0,function*(){const Ci=gt?.get(be.Ui);Ci&&this.runAction(Ci)})}runAction(gt){return He(this,void 0,void 0,function*(){yield gt.updateValue(k.qt.includeStrings,!1,2)})}}let Ze=(()=>{class Ot extends A.R6{constructor(){super({id:Ot.ID,label:fe.NC("action.unicodeHighlight.disableHighlightingOfAmbiguousCharacters","Disable highlighting of ambiguous characters"),alias:"Disable highlighting of ambiguous characters",precondition:void 0}),this.shortLabel=fe.NC("unicodeHighlight.disableHighlightingOfAmbiguousCharacters.shortLabel","Disable Ambiguous Highlight")}run(Rt,Zt,Ci){return He(this,void 0,void 0,function*(){const ci=Rt?.get(be.Ui);ci&&this.runAction(ci)})}runAction(Rt){return He(this,void 0,void 0,function*(){yield Rt.updateValue(k.qt.ambiguousCharacters,!1,2)})}}return Ot.ID="editor.action.unicodeHighlight.disableHighlightingOfAmbiguousCharacters",Ot})(),Ee=(()=>{class Ot extends A.R6{constructor(){super({id:Ot.ID,label:fe.NC("action.unicodeHighlight.disableHighlightingOfInvisibleCharacters","Disable highlighting of invisible characters"),alias:"Disable highlighting of invisible characters",precondition:void 0}),this.shortLabel=fe.NC("unicodeHighlight.disableHighlightingOfInvisibleCharacters.shortLabel","Disable Invisible Highlight")}run(Rt,Zt,Ci){return He(this,void 0,void 0,function*(){const ci=Rt?.get(be.Ui);ci&&this.runAction(ci)})}runAction(Rt){return He(this,void 0,void 0,function*(){yield Rt.updateValue(k.qt.invisibleCharacters,!1,2)})}}return Ot.ID="editor.action.unicodeHighlight.disableHighlightingOfInvisibleCharacters",Ot})(),Te=(()=>{class Ot extends A.R6{constructor(){super({id:Ot.ID,label:fe.NC("action.unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters","Disable highlighting of non basic ASCII characters"),alias:"Disable highlighting of non basic ASCII characters",precondition:void 0}),this.shortLabel=fe.NC("unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters.shortLabel","Disable Non ASCII Highlight")}run(Rt,Zt,Ci){return He(this,void 0,void 0,function*(){const ci=Rt?.get(be.Ui);ci&&this.runAction(ci)})}runAction(Rt){return He(this,void 0,void 0,function*(){yield Rt.updateValue(k.qt.nonBasicASCII,!1,2)})}}return Ot.ID="editor.action.unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters",Ot})(),Ae=(()=>{class Ot extends A.R6{constructor(){super({id:Ot.ID,label:fe.NC("action.unicodeHighlight.showExcludeOptions","Show Exclude Options"),alias:"Show Exclude Options",precondition:void 0})}run(Rt,Zt,Ci){return He(this,void 0,void 0,function*(){const{codePoint:ci,reason:Mi,inString:Gi,inComment:Zi}=Ci,St=String.fromCodePoint(ci),st=Rt.get(pe.eJ),ut=Rt.get(be.Ui),Ne=[];if(0===Mi.kind)for(const et of Mi.notAmbiguousInLocales)Ne.push({label:fe.NC("unicodeHighlight.allowCommonCharactersInLanguage",'Allow unicode characters that are more common in the language "{0}".',et),run:()=>He(this,void 0,void 0,function*(){yt(ut,[et])})});if(Ne.push({label:function pt(et){return S.vU.isInvisibleCharacter(et)?fe.NC("unicodeHighlight.excludeInvisibleCharFromBeingHighlighted","Exclude {0} (invisible character) from being highlighted",Tt(et)):fe.NC("unicodeHighlight.excludeCharFromBeingHighlighted","Exclude {0} from being highlighted",`${Tt(et)} "${St}"`)}(ci),run:()=>function ht(Ot,gt){return He(this,void 0,void 0,function*(){const Rt=Ot.getValue(k.qt.allowedCharacters);let Zt;Zt="object"==typeof Rt&&Rt?Rt:{};for(const Ci of gt)Zt[String.fromCodePoint(Ci)]=!0;yield Ot.updateValue(k.qt.allowedCharacters,Zt,2)})}(ut,[ci])}),Zi){const et=new it;Ne.push({label:et.label,run:()=>He(this,void 0,void 0,function*(){return et.runAction(ut)})})}else if(Gi){const et=new qe;Ne.push({label:et.label,run:()=>He(this,void 0,void 0,function*(){return et.runAction(ut)})})}if(0===Mi.kind){const et=new Ze;Ne.push({label:et.label,run:()=>He(this,void 0,void 0,function*(){return et.runAction(ut)})})}else if(1===Mi.kind){const et=new Ee;Ne.push({label:et.label,run:()=>He(this,void 0,void 0,function*(){return et.runAction(ut)})})}else if(2===Mi.kind){const et=new Te;Ne.push({label:et.label,run:()=>He(this,void 0,void 0,function*(){return et.runAction(ut)})})}else!function Dt(Ot){throw new Error(`Unexpected value: ${Ot}`)}(Mi);const je=yield st.pick(Ne,{title:fe.NC("unicodeHighlight.configureUnicodeHighlightOptions","Configure Unicode Highlight Options")});je&&(yield je.run())})}}return Ot.ID="editor.action.unicodeHighlight.showExcludeOptions",Ot})();function yt(Ot,gt){var Rt;return He(this,void 0,void 0,function*(){const Zt=null===(Rt=Ot.inspect(k.qt.allowedLocales).user)||void 0===Rt?void 0:Rt.value;let Ci;Ci="object"==typeof Zt&&Zt?Object.assign({},Zt):{};for(const ci of gt)Ci[ci]=!0;yield Ot.updateValue(k.qt.allowedLocales,Ci,2)})}(0,A.Qr)(Ze),(0,A.Qr)(Ee),(0,A.Qr)(Te),(0,A.Qr)(Ae),(0,A._K)(ot.ID,ot,1),ee.Ae.register(Lt)},63697:(Xe,we,e)=>{var f=e(78694),P=e(9001),r=e(8256),y=e(51617),v=e(37190),S=e(35153),E=function(i,d){return function(a,m){d(a,m,i)}};const p="ignoreUnusualLineTerminators";let g=class extends f.JT{constructor(d,a,m){super(),this._editor=d,this._dialogService=a,this._codeEditorService=m,this._isPresentingDialog=!1,this._config=this._editor.getOption(124),this._register(this._editor.onDidChangeConfiguration(l=>{l.hasChanged(124)&&(this._config=this._editor.getOption(124),this._checkForUnusualLineTerminators())})),this._register(this._editor.onDidChangeModel(()=>{this._checkForUnusualLineTerminators()})),this._register(this._editor.onDidChangeModelContent(l=>{l.isUndoing||this._checkForUnusualLineTerminators()})),this._checkForUnusualLineTerminators()}_checkForUnusualLineTerminators(){return i=this,d=void 0,m=function*(){if("off"===this._config||!this._editor.hasModel())return;const d=this._editor.getModel();if(!d.mightContainUnusualLineTerminators()||!0===function u(i,d){return i.getModelProperty(d.uri,p)}(this._codeEditorService,d)||this._editor.getOption(89))return;if("auto"===this._config)return void d.removeUnusualLineTerminators(this._editor.getSelections());if(this._isPresentingDialog)return;let m;try{this._isPresentingDialog=!0,m=yield this._dialogService.confirm({title:v.NC("unusualLineTerminators.title","Unusual Line Terminators"),message:v.NC("unusualLineTerminators.message","Detected unusual line terminators"),detail:v.NC("unusualLineTerminators.detail","The file '{0}' contains one or more unusual line terminator characters, like Line Separator (LS) or Paragraph Separator (PS).\n\nIt is recommended to remove them from the file. This can be configured via `editor.unusualLineTerminators`.",(0,P.EZ)(d.uri)),primaryButton:v.NC({key:"unusualLineTerminators.fix",comment:["&& denotes a mnemonic"]},"&&Remove Unusual Line Terminators"),cancelButton:v.NC("unusualLineTerminators.ignore","Ignore")})}finally{this._isPresentingDialog=!1}m.confirmed?d.removeUnusualLineTerminators(this._editor.getSelections()):function c(i,d,a){i.setModelProperty(d.uri,p,a)}(this._codeEditorService,d,!0)},new((a=void 0)||(a=Promise))(function(I,w){function D(k){try{A(m.next(k))}catch(R){w(R)}}function N(k){try{A(m.throw(k))}catch(R){w(R)}}function A(k){k.done?I(k.value):function l(I){return I instanceof a?I:new a(function(w){w(I)})}(k.value).then(D,N)}A((m=m.apply(i,d||[])).next())});var i,d,a,m}};g.ID="editor.contrib.unusualLineTerminatorsDetector",g=function(i,d,a,m){var w,l=arguments.length,I=l<3?d:null===m?m=Object.getOwnPropertyDescriptor(d,a):m;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)I=Reflect.decorate(i,d,a,m);else for(var D=i.length-1;D>=0;D--)(w=i[D])&&(I=(l<3?w(I):l>3?w(d,a,I):w(d,a))||I);return l>3&&I&&Object.defineProperty(d,a,I),I}([E(1,S.S),E(2,y.$)],g),(0,r._K)(g.ID,g,1)},12226:(Xe,we,e)=>{e.d(we,{G:()=>se,w:()=>j});var f=e(93379),P=e.n(f),r=e(7795),y=e.n(r),v=e(90569),S=e.n(v),T=e(3565),E=e.n(T),L=e(19216),p=e.n(L),c=e(44589),u=e.n(c),g=e(19620),i={};i.styleTagTransform=u(),i.setAttributes=E(),i.insert=S().bind(null,"head"),i.domAPI=y(),i.insertStyleElement=p(),P()(g.Z,i);var m=e(24470),l=e(54267),I=e(81814),w=e(37190),D=e(99745),N=e(23527);const A=(0,D.P6G)("editor.wordHighlightBackground",{dark:"#575757B8",light:"#57575740",hcDark:null,hcLight:null},w.NC("wordHighlight","Background color of a symbol during read-access, like reading a variable. The color must not be opaque so as not to hide underlying decorations."),!0);(0,D.P6G)("editor.wordHighlightStrongBackground",{dark:"#004972B8",light:"#0e639c40",hcDark:null,hcLight:null},w.NC("wordHighlightStrong","Background color of a symbol during write-access, like writing to a variable. The color must not be opaque so as not to hide underlying decorations."),!0),(0,D.P6G)("editor.wordHighlightTextBackground",{light:A,dark:A,hcDark:A,hcLight:A},w.NC("wordHighlightText","Background color of a textual occurrence for a symbol. The color must not be opaque so as not to hide underlying decorations."),!0);const k=(0,D.P6G)("editor.wordHighlightBorder",{light:null,dark:null,hcDark:D.xL1,hcLight:D.xL1},w.NC("wordHighlightBorder","Border color of a symbol during read-access, like reading a variable."));(0,D.P6G)("editor.wordHighlightStrongBorder",{light:null,dark:null,hcDark:D.xL1,hcLight:D.xL1},w.NC("wordHighlightStrongBorder","Border color of a symbol during write-access, like writing to a variable.")),(0,D.P6G)("editor.wordHighlightTextBorder",{light:k,dark:k,hcDark:k,hcLight:k},w.NC("wordHighlightTextBorder","Border color of a textual occurrence for a symbol."));const R=(0,D.P6G)("editorOverviewRuler.wordHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hcDark:"#A0A0A0CC",hcLight:"#A0A0A0CC"},w.NC("overviewRulerWordHighlightForeground","Overview ruler marker color for symbol highlights. The color must not be opaque so as not to hide underlying decorations."),!0),O=(0,D.P6G)("editorOverviewRuler.wordHighlightStrongForeground",{dark:"#C0A0C0CC",light:"#C0A0C0CC",hcDark:"#C0A0C0CC",hcLight:"#C0A0C0CC"},w.NC("overviewRulerWordHighlightStrongForeground","Overview ruler marker color for write-access symbol highlights. The color must not be opaque so as not to hide underlying decorations."),!0),W=(0,D.P6G)("editorOverviewRuler.wordHighlightTextForeground",{dark:D.SPM,light:D.SPM,hcDark:D.SPM,hcLight:D.SPM},w.NC("overviewRulerWordHighlightTextForeground","Overview ruler marker color of a textual occurrence for a symbol. The color must not be opaque so as not to hide underlying decorations."),!0),z=l.qx.register({description:"word-highlight-strong",stickiness:1,className:"wordHighlightStrong",overviewRuler:{color:(0,N.EN)(O),position:m.sh.Center},minimap:{color:(0,N.EN)(D.IYc),position:m.F5.Inline}}),U=l.qx.register({description:"word-highlight-text",stickiness:1,className:"wordHighlightText",overviewRuler:{color:(0,N.EN)(W),position:m.sh.Center},minimap:{color:(0,N.EN)(D.IYc),position:m.F5.Inline}}),ee=l.qx.register({description:"selection-highlight-overview",stickiness:1,className:"selectionHighlight",overviewRuler:{color:(0,N.EN)(D.SPM),position:m.sh.Center},minimap:{color:(0,N.EN)(D.IYc),position:m.F5.Inline}}),B=l.qx.register({description:"selection-highlight",stickiness:1,className:"selectionHighlight"}),G=l.qx.register({description:"word-highlight",stickiness:1,className:"wordHighlight",overviewRuler:{color:(0,N.EN)(R),position:m.sh.Center},minimap:{color:(0,N.EN)(D.IYc),position:m.F5.Inline}});function se($){return $===I.MY.Write?z:$===I.MY.Text?U:G}function j($){return $?B:ee}(0,N.Ic)(($,K)=>{const J=$.getColor(D.Rzx);J&&K.addRule(`.monaco-editor .selectionHighlight { background-color: ${J.transparent(.5)}; }`)})},31726:(Xe,we,e)=>{var l,f=e(41539),P=e(31738),r=e(85328),y=e(87618),v=e(17967),S=e(78694),T=e(8256),E=e(96726),L=e(15446),p=e(81814),c=e(37190),u=e(66221),g=e(55763),i=e(12226),d=e(68733),m=function(B,G){return function(se,j){G(se,j,B)}};const I=new u.uy("hasWordHighlights",!1);function w(B,G,se,j){const $=B.ordered(G);return(0,r.Ps)($.map(K=>()=>Promise.resolve(K.provideDocumentHighlights(G,se,j)).then(void 0,v.Cp)),P.Of)}class D{constructor(G,se,j){this._model=G,this._selection=se,this._wordSeparators=j,this._wordRange=this._getCurrentWordRange(G,se),this._result=null}get result(){return this._result||(this._result=(0,r.PG)(G=>this._compute(this._model,this._selection,this._wordSeparators,G))),this._result}_getCurrentWordRange(G,se){const j=G.getWordAtPosition(se.getPosition());return j?new E.e(se.startLineNumber,j.startColumn,se.startLineNumber,j.endColumn):null}isValid(G,se,j){const $=se.startLineNumber,K=se.startColumn,J=se.endColumn,te=this._getCurrentWordRange(G,se);let ne=!(!this._wordRange||!this._wordRange.equalsRange(te));for(let _=0,ae=j.length;!ne&&_<ae;_++){const ge=j.getRange(_);ge&&ge.startLineNumber===$&&ge.startColumn<=K&&ge.endColumn>=J&&(ne=!0)}return ne}cancel(){this.result.cancel()}}class N extends D{constructor(G,se,j,$){super(G,se,j),this._providers=$}_compute(G,se,j,$){return w(this._providers,G,se.getPosition(),$).then(K=>K||[])}}class A extends D{constructor(G,se,j){super(G,se,j),this._selectionIsEmpty=se.isEmpty()}_compute(G,se,j,$){return(0,r.Vs)(250,$).then(()=>{if(!se.isEmpty())return[];const K=G.getWordAtPosition(se.getPosition());return!K||K.word.length>1e3?[]:G.findMatches(K.word,!0,!1,!0,j,!1).map(te=>({range:te.range,kind:p.MY.Text}))})}isValid(G,se,j){const $=se.isEmpty();return this._selectionIsEmpty===$&&super.isValid(G,se,j)}}(0,T.sb)("_executeDocumentHighlights",(B,G,se)=>w(B.get(g.p).documentHighlightProvider,G,se,y.T.None));class R{constructor(G,se,j,$){this.toUnhook=new S.SL,this.workerRequestTokenId=0,this.workerRequestCompleted=!1,this.workerRequestValue=[],this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1,this.editor=G,this.providers=se,this.linkedHighlighters=j,this._hasWordHighlights=I.bindTo($),this._ignorePositionChangeEvent=!1,this.occurrencesHighlight=this.editor.getOption(79),this.model=this.editor.getModel(),this.toUnhook.add(G.onDidChangeCursorPosition(K=>{this._ignorePositionChangeEvent||this.occurrencesHighlight&&this._onPositionChanged(K)})),this.toUnhook.add(G.onDidChangeModelContent(K=>{this._stopAll()})),this.toUnhook.add(G.onDidChangeConfiguration(K=>{const J=this.editor.getOption(79);this.occurrencesHighlight!==J&&(this.occurrencesHighlight=J,this._stopAll())})),this.decorations=this.editor.createDecorationsCollection(),this.workerRequestTokenId=0,this.workerRequest=null,this.workerRequestCompleted=!1,this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1}hasDecorations(){return this.decorations.length>0}restore(){this.occurrencesHighlight&&this._run()}_getSortedHighlights(){return this.decorations.getRanges().sort(E.e.compareRangesUsingStarts)}moveNext(){const G=this._getSortedHighlights(),j=(G.findIndex(K=>K.containsPosition(this.editor.getPosition()))+1)%G.length,$=G[j];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition($.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport($);const K=this._getWord();if(K){const J=this.editor.getModel().getLineContent($.startLineNumber);(0,f.Z9)(`${J}, ${j+1} of ${G.length} for '${K.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}moveBack(){const G=this._getSortedHighlights(),j=(G.findIndex(K=>K.containsPosition(this.editor.getPosition()))-1+G.length)%G.length,$=G[j];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition($.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport($);const K=this._getWord();if(K){const J=this.editor.getModel().getLineContent($.startLineNumber);(0,f.Z9)(`${J}, ${j+1} of ${G.length} for '${K.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}_removeDecorations(){this.decorations.length>0&&(this.decorations.clear(),this._hasWordHighlights.set(!1))}_stopAll(){this._removeDecorations(),-1!==this.renderDecorationsTimer&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1),null!==this.workerRequest&&(this.workerRequest.cancel(),this.workerRequest=null),this.workerRequestCompleted||(this.workerRequestTokenId++,this.workerRequestCompleted=!0)}_onPositionChanged(G){this.occurrencesHighlight&&3===G.reason?this._run():this._stopAll()}_getWord(){const G=this.editor.getSelection();return this.model.getWordAtPosition({lineNumber:G.startLineNumber,column:G.startColumn})}_run(){const G=this.editor.getSelection();if(G.startLineNumber!==G.endLineNumber)return void this._stopAll();const se=G.startColumn,j=G.endColumn,$=this._getWord();if(!$||$.startColumn>se||$.endColumn<j)return void this._stopAll();const K=this.workerRequest&&this.workerRequest.isValid(this.model,G,this.decorations);if(this.lastCursorPositionChangeTime=(new Date).getTime(),K)this.workerRequestCompleted&&-1!==this.renderDecorationsTimer&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1,this._beginRenderDecorations());else{this._stopAll();const J=++this.workerRequestTokenId;this.workerRequestCompleted=!1,this.workerRequest=function k(B,G,se,j){return B.has(G)?new N(G,se,j,B):new A(G,se,j)}(this.providers,this.model,this.editor.getSelection(),this.editor.getOption(128)),this.workerRequest.result.then(te=>{J===this.workerRequestTokenId&&(this.workerRequestCompleted=!0,this.workerRequestValue=te||[],this._beginRenderDecorations())},v.dL)}}_beginRenderDecorations(){const G=(new Date).getTime(),se=this.lastCursorPositionChangeTime+250;G>=se?(this.renderDecorationsTimer=-1,this.renderDecorations()):this.renderDecorationsTimer=setTimeout(()=>{this.renderDecorations()},se-G)}renderDecorations(){this.renderDecorationsTimer=-1;const G=[];for(const se of this.workerRequestValue)se.range&&G.push({range:se.range,options:(0,i.G)(se.kind)});this.decorations.set(G),this._hasWordHighlights.set(this.hasDecorations());for(const se of this.linkedHighlighters())se?.editor.getModel()===this.editor.getModel()&&(se._stopAll(),se.decorations.set(G),se._hasWordHighlights.set(se.hasDecorations()))}dispose(){this._stopAll(),this.toUnhook.dispose()}}let O=l=class extends S.JT{static get(G){return G.getContribution(l.ID)}constructor(G,se,j){super(),this.wordHighlighter=null,this.linkedContributions=new Set;const $=()=>{G.hasModel()&&(this.wordHighlighter=new R(G,j.documentHighlightProvider,()=>d.$.map(this.linkedContributions,K=>K.wordHighlighter),se))};this._register(G.onDidChangeModel(K=>{this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),$()})),$()}saveViewState(){return!(!this.wordHighlighter||!this.wordHighlighter.hasDecorations())}moveNext(){var G;null===(G=this.wordHighlighter)||void 0===G||G.moveNext()}moveBack(){var G;null===(G=this.wordHighlighter)||void 0===G||G.moveBack()}restoreViewState(G){this.wordHighlighter&&G&&this.wordHighlighter.restore()}dispose(){this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),super.dispose()}};O.ID="editor.contrib.wordHighlighter",O=l=function(B,G,se,j){var J,$=arguments.length,K=$<3?G:null===j?j=Object.getOwnPropertyDescriptor(G,se):j;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)K=Reflect.decorate(B,G,se,j);else for(var te=B.length-1;te>=0;te--)(J=B[te])&&(K=($<3?J(K):$>3?J(G,se,K):J(G,se))||K);return $>3&&K&&Object.defineProperty(G,se,K),K}([m(1,u.i6),m(2,g.p)],O);class W extends T.R6{constructor(G,se){super(se),this._isNext=G}run(G,se){const j=O.get(se);j&&(this._isNext?j.moveNext():j.moveBack())}}(0,T._K)(O.ID,O,0),(0,T.Qr)(class z extends W{constructor(){super(!0,{id:"editor.action.wordHighlight.next",label:c.NC("wordHighlight.next.label","Go to Next Symbol Highlight"),alias:"Go to Next Symbol Highlight",precondition:I,kbOpts:{kbExpr:L.u.editorTextFocus,primary:65,weight:100}})}}),(0,T.Qr)(class U extends W{constructor(){super(!1,{id:"editor.action.wordHighlight.prev",label:c.NC("wordHighlight.previous.label","Go to Previous Symbol Highlight"),alias:"Go to Previous Symbol Highlight",precondition:I,kbOpts:{kbExpr:L.u.editorTextFocus,primary:1089,weight:100}})}}),(0,T.Qr)(class ee extends T.R6{constructor(){super({id:"editor.action.wordHighlight.trigger",label:c.NC("wordHighlight.trigger.label","Trigger Symbol Highlight"),alias:"Trigger Symbol Highlight",precondition:I.toNegated(),kbOpts:{kbExpr:L.u.editorTextFocus,primary:0,weight:100}})}run(G,se,j){const $=O.get(se);$&&$.restoreViewState(!0)}})},79834:(Xe,we,e)=>{e.d(we,{IA:()=>a,t8:()=>$});var f=e(8256),P=e(41604),r=e(36413),y=e(5250),v=e(86350),S=e(80020),T=e(68678),E=e(96726),L=e(81534),p=e(15446),c=e(58459),u=e(37190),g=e(74875),i=e(66221),d=e(97968);class a extends f._l{constructor(Ie){super(Ie),this._inSelectionMode=Ie.inSelectionMode,this._wordNavigationType=Ie.wordNavigationType}runEditorCommand(Ie,Se,Ve){if(!Se.hasModel())return;const De=(0,S.u)(Se.getOption(128)),ye=Se.getModel(),Y=Se.getSelections().map(x=>{const F=new T.L(x.positionLineNumber,x.positionColumn),ie=this._move(De,ye,F,this._wordNavigationType);return this._moveTo(x,ie,this._inSelectionMode)});if(ye.pushStackElement(),Se._getViewModel().setCursorStates("moveWordCommand",3,Y.map(x=>y.Vi.fromModelSelection(x))),1===Y.length){const x=new T.L(Y[0].positionLineNumber,Y[0].positionColumn);Se.revealPosition(x,0)}}_moveTo(Ie,Se,Ve){return Ve?new L.Y(Ie.selectionStartLineNumber,Ie.selectionStartColumn,Se.lineNumber,Se.column):new L.Y(Se.lineNumber,Se.column,Se.lineNumber,Se.column)}}class m extends a{_move(Ie,Se,Ve,De){return v.w.moveWordLeft(Ie,Se,Ve,De)}}class l extends a{_move(Ie,Se,Ve,De){return v.w.moveWordRight(Ie,Se,Ve,De)}}class $ extends f._l{constructor(Ie){super(Ie),this._whitespaceHeuristics=Ie.whitespaceHeuristics,this._wordNavigationType=Ie.wordNavigationType}runEditorCommand(Ie,Se,Ve){const De=Ie.get(c.c_);if(!Se.hasModel())return;const ye=(0,S.u)(Se.getOption(128)),oe=Se.getModel(),Y=Se.getSelections(),x=Se.getOption(6),F=Se.getOption(10),ie=De.getLanguageConfiguration(oe.getLanguageId()).getAutoClosingPairs(),Ce=Se._getViewModel(),ke=Y.map(Pe=>{const xe=this._delete({wordSeparators:ye,model:oe,selection:Pe,whitespaceHeuristics:this._whitespaceHeuristics,autoClosingDelete:Se.getOption(8),autoClosingBrackets:x,autoClosingQuotes:F,autoClosingPairs:ie,autoClosedCharacters:Ce.getCursorAutoClosedCharacters()},this._wordNavigationType);return new P.T4(xe,"")});Se.pushUndoStop(),Se.executeCommands(this.id,ke),Se.pushUndoStop()}}class K extends ${_delete(Ie,Se){return v.w.deleteWordLeft(Ie,Se)||new E.e(1,1,1,1)}}class J extends ${_delete(Ie,Se){const Ve=v.w.deleteWordRight(Ie,Se);if(Ve)return Ve;const De=Ie.model.getLineCount(),ye=Ie.model.getLineMaxColumn(De);return new E.e(De,ye,De,ye)}}(0,f.fK)(new class I extends m{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartLeft",precondition:void 0})}}),(0,f.fK)(new class w extends m{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndLeft",precondition:void 0})}}),(0,f.fK)(new class D extends m{constructor(){var Ie;super({inSelectionMode:!1,wordNavigationType:1,id:"cursorWordLeft",precondition:void 0,kbOpts:{kbExpr:i.Ao.and(p.u.textInputFocus,null===(Ie=i.Ao.and(g.U,d.cv))||void 0===Ie?void 0:Ie.negate()),primary:2063,mac:{primary:527},weight:100}})}}),(0,f.fK)(new class N extends m{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartLeftSelect",precondition:void 0})}}),(0,f.fK)(new class A extends m{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndLeftSelect",precondition:void 0})}}),(0,f.fK)(new class k extends m{constructor(){var Ie;super({inSelectionMode:!0,wordNavigationType:1,id:"cursorWordLeftSelect",precondition:void 0,kbOpts:{kbExpr:i.Ao.and(p.u.textInputFocus,null===(Ie=i.Ao.and(g.U,d.cv))||void 0===Ie?void 0:Ie.negate()),primary:3087,mac:{primary:1551},weight:100}})}}),(0,f.fK)(new class W extends l{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartRight",precondition:void 0})}}),(0,f.fK)(new class z extends l{constructor(){var Ie;super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndRight",precondition:void 0,kbOpts:{kbExpr:i.Ao.and(p.u.textInputFocus,null===(Ie=i.Ao.and(g.U,d.cv))||void 0===Ie?void 0:Ie.negate()),primary:2065,mac:{primary:529},weight:100}})}}),(0,f.fK)(new class U extends l{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordRight",precondition:void 0})}}),(0,f.fK)(new class ee extends l{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartRightSelect",precondition:void 0})}}),(0,f.fK)(new class B extends l{constructor(){var Ie;super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndRightSelect",precondition:void 0,kbOpts:{kbExpr:i.Ao.and(p.u.textInputFocus,null===(Ie=i.Ao.and(g.U,d.cv))||void 0===Ie?void 0:Ie.negate()),primary:3089,mac:{primary:1553},weight:100}})}}),(0,f.fK)(new class G extends l{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordRightSelect",precondition:void 0})}}),(0,f.fK)(new class R extends m{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityLeft",precondition:void 0})}_move(Ie,Se,Ve,De){return super._move((0,S.u)(r.BH.wordSeparators.defaultValue),Se,Ve,De)}}),(0,f.fK)(new class O extends m{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityLeftSelect",precondition:void 0})}_move(Ie,Se,Ve,De){return super._move((0,S.u)(r.BH.wordSeparators.defaultValue),Se,Ve,De)}}),(0,f.fK)(new class se extends l{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityRight",precondition:void 0})}_move(Ie,Se,Ve,De){return super._move((0,S.u)(r.BH.wordSeparators.defaultValue),Se,Ve,De)}}),(0,f.fK)(new class j extends l{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityRightSelect",precondition:void 0})}_move(Ie,Se,Ve,De){return super._move((0,S.u)(r.BH.wordSeparators.defaultValue),Se,Ve,De)}}),(0,f.fK)(new class te extends K{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartLeft",precondition:p.u.writable})}}),(0,f.fK)(new class ne extends K{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndLeft",precondition:p.u.writable})}}),(0,f.fK)(new class _ extends K{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordLeft",precondition:p.u.writable,kbOpts:{kbExpr:p.u.textInputFocus,primary:2049,mac:{primary:513},weight:100}})}}),(0,f.fK)(new class ae extends J{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartRight",precondition:p.u.writable})}}),(0,f.fK)(new class ge extends J{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndRight",precondition:p.u.writable})}}),(0,f.fK)(new class _e extends J{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordRight",precondition:p.u.writable,kbOpts:{kbExpr:p.u.textInputFocus,primary:2068,mac:{primary:532},weight:100}})}}),(0,f.Qr)(class ue extends f.R6{constructor(){super({id:"deleteInsideWord",precondition:p.u.writable,label:u.NC("deleteInsideWord","Delete Word"),alias:"Delete Word"})}run(Ie,Se,Ve){if(!Se.hasModel())return;const De=(0,S.u)(Se.getOption(128)),ye=Se.getModel(),Y=Se.getSelections().map(x=>{const F=v.w.deleteInsideWord(De,ye,x);return new P.T4(F,"")});Se.pushUndoStop(),Se.executeCommands(this.id,Y),Se.pushUndoStop()}})},41364:(Xe,we,e)=>{var f=e(8256),P=e(86350),r=e(96726),y=e(15446),v=e(79834),S=e(11813);class L extends v.IA{_move(a,m,l,I){return P.L.moveWordPartLeft(a,m,l)}}S.P.registerCommandAlias("cursorWordPartStartLeft","cursorWordPartLeft"),S.P.registerCommandAlias("cursorWordPartStartLeftSelect","cursorWordPartLeftSelect");class u extends v.IA{_move(a,m,l,I){return P.L.moveWordPartRight(a,m,l)}}(0,f.fK)(new class T extends v.t8{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordPartLeft",precondition:y.u.writable,kbOpts:{kbExpr:y.u.textInputFocus,primary:0,mac:{primary:769},weight:100}})}_delete(a,m){return P.L.deleteWordPartLeft(a)||new r.e(1,1,1,1)}}),(0,f.fK)(new class E extends v.t8{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordPartRight",precondition:y.u.writable,kbOpts:{kbExpr:y.u.textInputFocus,primary:0,mac:{primary:788},weight:100}})}_delete(a,m){const l=P.L.deleteWordPartRight(a);if(l)return l;const I=a.model.getLineCount(),w=a.model.getLineMaxColumn(I);return new r.e(I,w,I,w)}}),(0,f.fK)(new class p extends L{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordPartLeft",precondition:void 0,kbOpts:{kbExpr:y.u.textInputFocus,primary:0,mac:{primary:783},weight:100}})}}),(0,f.fK)(new class c extends L{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordPartLeftSelect",precondition:void 0,kbOpts:{kbExpr:y.u.textInputFocus,primary:0,mac:{primary:1807},weight:100}})}}),(0,f.fK)(new class g extends u{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordPartRight",precondition:void 0,kbOpts:{kbExpr:y.u.textInputFocus,primary:0,mac:{primary:785},weight:100}})}}),(0,f.fK)(new class i extends u{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordPartRightSelect",precondition:void 0,kbOpts:{kbExpr:y.u.textInputFocus,primary:0,mac:{primary:1809},weight:100}})}})},35307:(Xe,we,e)=>{var f=e(93379),P=e.n(f),r=e(7795),y=e.n(r),v=e(90569),S=e.n(v),T=e(3565),E=e.n(T),L=e(19216),p=e.n(L),c=e(44589),u=e.n(c),g=e(21556),i={};i.styleTagTransform=u(),i.setAttributes=E(),i.insert=S().bind(null,"head"),i.domAPI=y(),i.insertStyleElement=p(),P()(g.Z,i);var m=e(20274),l=e(78694),I=e(8256),w=e(88593);let D=(()=>{class A extends l.JT{constructor(R){super(),this.editor=R,this.widget=null,w.gn&&(this._register(R.onDidChangeConfiguration(()=>this.update())),this.update())}update(){const R=!this.editor.getOption(89);!this.widget&&R?this.widget=new N(this.editor):this.widget&&!R&&(this.widget.dispose(),this.widget=null)}dispose(){super.dispose(),this.widget&&(this.widget.dispose(),this.widget=null)}}return A.ID="editor.contrib.iPadShowKeyboard",A})(),N=(()=>{class A extends l.JT{constructor(R){super(),this.editor=R,this._domNode=document.createElement("textarea"),this._domNode.className="iPadShowKeyboard",this._register(m.nm(this._domNode,"touchstart",O=>{this.editor.focus()})),this._register(m.nm(this._domNode,"focus",O=>{this.editor.focus()})),this.editor.addOverlayWidget(this)}dispose(){this.editor.removeOverlayWidget(this),super.dispose()}getId(){return A.ID}getDomNode(){return this._domNode}getPosition(){return{preference:1}}}return A.ID="editor.contrib.ShowKeyboardWidget",A})();(0,I._K)(D.ID,D,3)},81123:(Xe,we,e)=>{var f=e(93379),P=e.n(f),r=e(7795),y=e.n(r),v=e(90569),S=e.n(v),T=e(3565),E=e.n(T),L=e(19216),p=e.n(L),c=e(44589),u=e.n(c),g=e(75189),i={};i.styleTagTransform=u(),i.setAttributes=E(),i.insert=S().bind(null,"head"),i.domAPI=y(),i.insertStyleElement=p(),P()(g.Z,i);var U,m=e(20274),l=e(90888),I=e(78694),w=e(8256),D=e(81814),N=e(96724),A=e(99002),k=e(74315),R=e(2265),O=e(44356),z=function($,K){return function(J,te){K(J,te,$)}};let ee=U=class extends I.JT{static get(K){return K.getContribution(U.ID)}constructor(K,J,te){super(),this._editor=K,this._languageService=te,this._widget=null,this._register(this._editor.onDidChangeModel(ne=>this.stop())),this._register(this._editor.onDidChangeModelLanguage(ne=>this.stop())),this._register(D.RW.onDidChange(ne=>this.stop())),this._register(this._editor.onKeyUp(ne=>9===ne.keyCode&&this.stop()))}dispose(){this.stop(),super.dispose()}launch(){this._widget||this._editor.hasModel()&&(this._widget=new j(this._editor,this._languageService))}stop(){this._widget&&(this._widget.dispose(),this._widget=null)}};ee.ID="editor.contrib.inspectTokens",ee=U=function($,K,J,te){var ae,ne=arguments.length,_=ne<3?K:null===te?te=Object.getOwnPropertyDescriptor(K,J):te;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)_=Reflect.decorate($,K,J,te);else for(var ge=$.length-1;ge>=0;ge--)(ae=$[ge])&&(_=(ne<3?ae(_):ne>3?ae(K,J,_):ae(K,J))||_);return ne>3&&_&&Object.defineProperty(K,J,_),_}([z(1,R.Z),z(2,k.O)],ee);let j=(()=>{class $ extends I.JT{constructor(J,te){super(),this.allowEditorOverflow=!0,this._editor=J,this._languageService=te,this._model=this._editor.getModel(),this._domNode=document.createElement("div"),this._domNode.className="tokens-inspect-widget",this._tokenizationSupport=function se($,K){const J=D.RW.get(K);if(J)return J;const te=$.encodeLanguageId(K);return{getInitialState:()=>A.TJ,tokenize:(ne,_,ae)=>(0,A.Ri)(K,ae),tokenizeEncoded:(ne,_,ae)=>(0,A.Dy)(te,ae)}}(this._languageService.languageIdCodec,this._model.getLanguageId()),this._compute(this._editor.getPosition()),this._register(this._editor.onDidChangeCursorPosition(ne=>this._compute(this._editor.getPosition()))),this._editor.addContentWidget(this)}dispose(){this._editor.removeContentWidget(this),super.dispose()}getId(){return $._ID}_compute(J){const te=this._getTokensAtLine(J.lineNumber);let ne=0;for(let ue=te.tokens1.length-1;ue>=0;ue--)if(J.column-1>=te.tokens1[ue].offset){ne=ue;break}let _=0;for(let ue=te.tokens2.length>>>1;ue>=0;ue--)if(J.column-1>=te.tokens2[ue<<1]){_=ue;break}const ae=this._model.getLineContent(J.lineNumber);let ge="";ne<te.tokens1.length&&(ge=ae.substring(te.tokens1[ne].offset,ne+1<te.tokens1.length?te.tokens1[ne+1].offset:ae.length)),(0,m.mc)(this._domNode,(0,m.$)("h2.tm-token",void 0,function G($){let K="";for(let J=0,te=$.length;J<te;J++){const ne=$.charCodeAt(J);switch(ne){case 9:K+="\u2192";break;case 32:K+="\xb7";break;default:K+=String.fromCharCode(ne)}}return K}(ge),(0,m.$)("span.tm-token-length",void 0,`${ge.length} ${1===ge.length?"char":"chars"}`))),(0,m.R3)(this._domNode,(0,m.$)("hr.tokens-inspect-separator",{style:"clear:both"}));const _e=1+(_<<1)<te.tokens2.length?this._decodeMetadata(te.tokens2[1+(_<<1)]):null;(0,m.R3)(this._domNode,(0,m.$)("table.tm-metadata-table",void 0,(0,m.$)("tbody",void 0,(0,m.$)("tr",void 0,(0,m.$)("td.tm-metadata-key",void 0,"language"),(0,m.$)("td.tm-metadata-value",void 0,`${_e?_e.languageId:"-?-"}`)),(0,m.$)("tr",void 0,(0,m.$)("td.tm-metadata-key",void 0,"token type"),(0,m.$)("td.tm-metadata-value",void 0,`${_e?this._tokenTypeToString(_e.tokenType):"-?-"}`)),(0,m.$)("tr",void 0,(0,m.$)("td.tm-metadata-key",void 0,"font style"),(0,m.$)("td.tm-metadata-value",void 0,`${_e?this._fontStyleToString(_e.fontStyle):"-?-"}`)),(0,m.$)("tr",void 0,(0,m.$)("td.tm-metadata-key",void 0,"foreground"),(0,m.$)("td.tm-metadata-value",void 0,`${_e?l.Il.Format.CSS.formatHex(_e.foreground):"-?-"}`)),(0,m.$)("tr",void 0,(0,m.$)("td.tm-metadata-key",void 0,"background"),(0,m.$)("td.tm-metadata-value",void 0,`${_e?l.Il.Format.CSS.formatHex(_e.background):"-?-"}`))))),(0,m.R3)(this._domNode,(0,m.$)("hr.tokens-inspect-separator")),ne<te.tokens1.length&&(0,m.R3)(this._domNode,(0,m.$)("span.tm-token-type",void 0,te.tokens1[ne].type)),this._editor.layoutContentWidget(this)}_decodeMetadata(J){const te=D.RW.getColorMap(),ne=N.N.getLanguageId(J),_=N.N.getTokenType(J),ae=N.N.getFontStyle(J),ge=N.N.getForeground(J),_e=N.N.getBackground(J);return{languageId:this._languageService.languageIdCodec.decodeLanguageId(ne),tokenType:_,fontStyle:ae,foreground:te[ge],background:te[_e]}}_tokenTypeToString(J){switch(J){case 0:return"Other";case 1:return"Comment";case 2:return"String";case 3:return"RegEx";default:return"??"}}_fontStyleToString(J){let te="";return 1&J&&(te+="italic "),2&J&&(te+="bold "),4&J&&(te+="underline "),8&J&&(te+="strikethrough "),0===te.length&&(te="---"),te}_getTokensAtLine(J){const te=this._getStateBeforeLine(J),ne=this._tokenizationSupport.tokenize(this._model.getLineContent(J),!0,te),_=this._tokenizationSupport.tokenizeEncoded(this._model.getLineContent(J),!0,te);return{startState:te,tokens1:ne.tokens,tokens2:_.tokens,endState:ne.endState}}_getStateBeforeLine(J){let te=this._tokenizationSupport.getInitialState();for(let ne=1;ne<J;ne++)te=this._tokenizationSupport.tokenize(this._model.getLineContent(ne),!0,te).endState;return te}getDomNode(){return this._domNode}getPosition(){return{position:this._editor.getPosition(),preference:[2,1]}}}return $._ID="editor.contrib.inspectTokensWidget",$})();(0,w._K)(ee.ID,ee,4),(0,w.Qr)(class B extends w.R6{constructor(){super({id:"editor.action.inspectTokens",label:O.ug.inspectTokensAction,alias:"Developer: Inspect Tokens",precondition:void 0})}run(K,J){const te=ee.get(J);te?.launch()}})},57084:(Xe,we,e)=>{var f=e(81834),P=e(51198),r=e(44356),y=e(51617),v=e(53385),S=e(31738),T=e(91402),E=e(37190);function L(Se,Ve){return Ve&&(Se.stack||Se.stacktrace)?E.NC("stackTrace.format","{0}: {1}",c(Se),p(Se.stack)||p(Se.stacktrace)):c(Se)}function p(Se){return Array.isArray(Se)?Se.join("\n"):Se}function c(Se){return"ERR_UNC_HOST_NOT_ALLOWED"===Se.code?`${Se.message}. Please update the 'security.allowedUNCHosts' setting if you want to allow this host.`:"string"==typeof Se.code&&"number"==typeof Se.errno&&"string"==typeof Se.syscall?E.NC("nodeExceptionMessage","A system error occurred ({0})",Se.message):Se.message||E.NC("error.defaultMessage","An unknown error occurred. Please consult the log for more details.")}function u(Se=null,Ve=!1){if(!Se)return E.NC("error.defaultMessage","An unknown error occurred. Please consult the log for more details.");if(Array.isArray(Se)){const De=S.kX(Se),ye=u(De[0],Ve);return De.length>1?E.NC("error.moreErrors","{0} ({1} errors in total)",ye,De.length):ye}if(T.HD(Se))return Se;if(Se.detail){const De=Se.detail;if(De.error)return L(De.error,Ve);if(De.exception)return L(De.exception,Ve)}return Se.stack?L(Se,Ve):Se.message?Se.message:E.NC("error.defaultMessage","An unknown error occurred. Please consult the log for more details.")}var g=e(17967),i=e(55769),d=e(78694),a=e(38164),m=e(11813),l=e(47358),I=e(35153),w=e(12065),D=e(21536),N=e(85328),A=e(87618),k=function(Se,Ve,De,ye){return new(De||(De=Promise))(function(Y,x){function F(ke){try{Ce(ye.next(ke))}catch(Pe){x(Pe)}}function ie(ke){try{Ce(ye.throw(ke))}catch(Pe){x(Pe)}}function Ce(ke){ke.done?Y(ke.value):function oe(Y){return Y instanceof De?Y:new De(function(x){x(Y)})}(ke.value).then(F,ie)}Ce((ye=ye.apply(Se,Ve||[])).next())})},R=function(Se){return Se[Se.NO_ACTION=0]="NO_ACTION",Se[Se.CLOSE_PICKER=1]="CLOSE_PICKER",Se[Se.REFRESH_PICKER=2]="REFRESH_PICKER",Se[Se.REMOVE_ITEM=3]="REMOVE_ITEM",Se}(R||{});function O(Se){return Array.isArray(Se.items)}function W(Se){return!!Se.picks&&Se.additionalPicks instanceof Promise}class z extends d.JT{constructor(Ve,De){super(),this.prefix=Ve,this.options=De}provide(Ve,De,ye){var oe;const Y=new d.SL;let x;Ve.canAcceptInBackground=!(null===(oe=this.options)||void 0===oe||!oe.canAcceptInBackground),Ve.matchOnLabel=Ve.matchOnDescription=Ve.matchOnDetail=Ve.sortByLabel=!1;const F=Y.add(new d.XK),ie=()=>k(this,void 0,void 0,function*(){const Ce=F.value=new d.SL;x?.dispose(!0),Ve.busy=!1,x=new A.A(De);const ke=x.token,Pe=Ve.value.substr(this.prefix.length).trim(),xe=this._getPicks(Pe,Ce,ke,ye),fe=(pe,Q)=>{var le;let Fe,He;if(O(pe)?(Fe=pe.items,He=pe.active):Fe=pe,0===Fe.length){if(Q)return!1;(Pe.length>0||Ve.hideInput)&&null!==(le=this.options)&&void 0!==le&&le.noResultsPick&&(Fe=(0,T.mf)(this.options.noResultsPick)?[this.options.noResultsPick(Pe)]:[this.options.noResultsPick])}return Ve.items=Fe,He&&(Ve.activeItems=[He]),!0},be=pe=>k(this,void 0,void 0,function*(){let Q=!1,le=!1;yield Promise.all([(()=>k(this,void 0,void 0,function*(){"number"==typeof pe.mergeDelay&&(yield(0,N.Vs)(pe.mergeDelay),ke.isCancellationRequested)||le||(Q=fe(pe.picks,!0))}))(),(()=>k(this,void 0,void 0,function*(){Ve.busy=!0;try{const Fe=yield pe.additionalPicks;if(ke.isCancellationRequested)return;let He,Je,ot,lt;if(O(pe.picks)?(He=pe.picks.items,Je=pe.picks.active):He=pe.picks,O(Fe)?(ot=Fe.items,lt=Fe.active):ot=Fe,ot.length>0||!Q){let mt;if(!Je&&!lt){const ft=Ve.activeItems[0];ft&&-1!==He.indexOf(ft)&&(mt=ft)}fe({items:[...He,...ot],active:Je||lt||mt})}}finally{ke.isCancellationRequested||(Ve.busy=!1),le=!0}}))()])});if(null!==xe)if(W(xe))yield be(xe);else if(xe instanceof Promise){Ve.busy=!0;try{const pe=yield xe;if(ke.isCancellationRequested)return;W(pe)?yield be(pe):fe(pe)}finally{ke.isCancellationRequested||(Ve.busy=!1)}}else fe(xe)});return Y.add(Ve.onDidChangeValue(()=>ie())),ie(),Y.add(Ve.onDidAccept(Ce=>{const[ke]=Ve.selectedItems;"function"==typeof ke?.accept&&(Ce.inBackground||Ve.hide(),ke.accept(Ve.keyMods,Ce))})),Y.add(Ve.onDidTriggerItemButton(({button:Ce,item:ke})=>k(this,void 0,void 0,function*(){var Pe,xe;if("function"==typeof ke.trigger){const fe=null!==(xe=null===(Pe=ke.buttons)||void 0===Pe?void 0:Pe.indexOf(Ce))&&void 0!==xe?xe:-1;if(fe>=0){const be=ke.trigger(fe,Ve.keyMods),pe="number"==typeof be?be:yield be;if(De.isCancellationRequested)return;switch(pe){case R.NO_ACTION:break;case R.CLOSE_PICKER:Ve.hide();break;case R.REFRESH_PICKER:ie();break;case R.REMOVE_ITEM:{const Q=Ve.items.indexOf(ke);if(-1!==Q){const le=Ve.items.slice(),Fe=le.splice(Q,1),He=Ve.activeItems.filter(ot=>ot!==Fe[0]),Je=Ve.keepScrollPosition;Ve.keepScrollPosition=!0,Ve.items=le,He&&(Ve.activeItems=He),Ve.keepScrollPosition=Je}break}}}}}))),Y}}var j,$,U=e(93476),ee=e(58942),B=function(Se,Ve,De,ye){var x,oe=arguments.length,Y=oe<3?Ve:null===ye?ye=Object.getOwnPropertyDescriptor(Ve,De):ye;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Y=Reflect.decorate(Se,Ve,De,ye);else for(var F=Se.length-1;F>=0;F--)(x=Se[F])&&(Y=(oe<3?x(Y):oe>3?x(Ve,De,Y):x(Ve,De))||Y);return oe>3&&Y&&Object.defineProperty(Ve,De,Y),Y},G=function(Se,Ve){return function(De,ye){Ve(De,ye,Se)}},se=function(Se,Ve,De,ye){return new(De||(De=Promise))(function(Y,x){function F(ke){try{Ce(ye.next(ke))}catch(Pe){x(Pe)}}function ie(ke){try{Ce(ye.throw(ke))}catch(Pe){x(Pe)}}function Ce(ke){ke.done?Y(ke.value):function oe(Y){return Y instanceof De?Y:new De(function(x){x(Y)})}(ke.value).then(F,ie)}Ce((ye=ye.apply(Se,Ve||[])).next())})};let K=j=class extends z{constructor(Ve,De,ye,oe,Y,x){super(j.PREFIX,Ve),this.instantiationService=De,this.keybindingService=ye,this.commandService=oe,this.telemetryService=Y,this.dialogService=x,this.commandsHistory=this._register(this.instantiationService.createInstance(J)),this.options=Ve}_getPicks(Ve,De,ye,oe){var Y,x,F,ie;return se(this,void 0,void 0,function*(){const Ce=yield this.getCommandPicks(ye);if(ye.isCancellationRequested)return[];const ke=[];for(const pe of Ce){const Q=null!==(Y=j.WORD_FILTER(Ve,pe.label))&&void 0!==Y?Y:void 0,le=pe.commandAlias&&null!==(x=j.WORD_FILTER(Ve,pe.commandAlias))&&void 0!==x?x:void 0;Q||le?(pe.highlights={label:Q,detail:this.options.showAlias?le:void 0},ke.push(pe)):Ve===pe.commandId&&ke.push(pe)}const Pe=new Map;for(const pe of ke){const Q=Pe.get(pe.label);Q?(pe.description=pe.commandId,Q.description=Q.commandId):Pe.set(pe.label,pe)}ke.sort((pe,Q)=>{const le=this.commandsHistory.peek(pe.commandId),Fe=this.commandsHistory.peek(Q.commandId);if(le&&Fe)return le>Fe?-1:1;if(le)return-1;if(Fe)return 1;if(this.options.suggestedCommandIds){const He=this.options.suggestedCommandIds.has(pe.commandId),Je=this.options.suggestedCommandIds.has(Q.commandId);if(He&&Je)return 0;if(He)return-1;if(Je)return 1}return pe.label.localeCompare(Q.label)});const xe=[];let fe=!1,be=!!this.options.suggestedCommandIds;for(let pe=0;pe<ke.length;pe++){const Q=ke[pe];0===pe&&this.commandsHistory.peek(Q.commandId)&&(xe.push({type:"separator",label:(0,E.NC)("recentlyUsed","recently used")}),fe=!0),be&&!this.commandsHistory.peek(Q.commandId)&&!(null===(F=this.options.suggestedCommandIds)||void 0===F)&&F.has(Q.commandId)&&(xe.push({type:"separator",label:(0,E.NC)("commonlyUsed","commonly used")}),fe=!0,be=!1),fe&&!this.commandsHistory.peek(Q.commandId)&&!(null!==(ie=this.options.suggestedCommandIds)&&void 0!==ie&&ie.has(Q.commandId))&&(xe.push({type:"separator",label:(0,E.NC)("morecCommands","other commands")}),fe=!1),xe.push(this.toCommandPick(Q,oe))}return this.hasAdditionalCommandPicks(Ve,ye)?{picks:xe,additionalPicks:(()=>se(this,void 0,void 0,function*(){const pe=yield this.getAdditionalCommandPicks(Ce,ke,Ve,ye);return ye.isCancellationRequested?[]:pe.map(Q=>this.toCommandPick(Q,oe))}))()}:xe})}toCommandPick(Ve,De){if("separator"===Ve.type)return Ve;const ye=this.keybindingService.lookupKeybinding(Ve.commandId),oe=ye?(0,E.NC)("commandPickAriaLabelWithKeybinding","{0}, {1}",Ve.label,ye.getAriaLabel()):Ve.label;return Object.assign(Object.assign({},Ve),{ariaLabel:oe,detail:this.options.showAlias&&Ve.commandAlias!==Ve.label?Ve.commandAlias:void 0,keybinding:ye,accept:()=>se(this,void 0,void 0,function*(){var Y,x;this.commandsHistory.push(Ve.commandId),this.telemetryService.publicLog2("workbenchActionExecuted",{id:Ve.commandId,from:null!==(Y=De?.from)&&void 0!==Y?Y:"quick open"});try{null!==(x=Ve.args)&&void 0!==x&&x.length?yield this.commandService.executeCommand(Ve.commandId,...Ve.args):yield this.commandService.executeCommand(Ve.commandId)}catch(F){(0,g.n2)(F)||this.dialogService.error((0,E.NC)("canNotRun","Command '{0}' resulted in an error",Ve.label),u(F))}})})}};K.PREFIX=">",K.WORD_FILTER=(0,i.or)(i.Ji,i.KZ,i.ir),K=j=B([G(1,w.TG),G(2,D.d),G(3,m.H),G(4,ee.b),G(5,I.S)],K);let J=$=class extends d.JT{constructor(Ve,De){super(),this.storageService=Ve,this.configurationService=De,this.configuredCommandsHistoryLength=0,this.updateConfiguration(),this.load(),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(Ve=>this.updateConfiguration(Ve)))}updateConfiguration(Ve){Ve&&!Ve.affectsConfiguration("workbench.commandPalette.history")||(this.configuredCommandsHistoryLength=$.getConfiguredCommandHistoryLength(this.configurationService),$.cache&&$.cache.limit!==this.configuredCommandsHistoryLength&&($.cache.limit=this.configuredCommandsHistoryLength,$.saveState(this.storageService)))}load(){const Ve=this.storageService.get($.PREF_KEY_CACHE,0);let De;if(Ve)try{De=JSON.parse(Ve)}catch{}const ye=$.cache=new a.z6(this.configuredCommandsHistoryLength,1);if(De){let oe;oe=De.usesLRU?De.entries:De.entries.sort((Y,x)=>Y.value-x.value),oe.forEach(Y=>ye.set(Y.key,Y.value))}$.counter=this.storageService.getNumber($.PREF_KEY_COUNTER,0,$.counter)}push(Ve){$.cache&&($.cache.set(Ve,$.counter++),$.saveState(this.storageService))}peek(Ve){var De;return null===(De=$.cache)||void 0===De?void 0:De.peek(Ve)}static saveState(Ve){if(!$.cache)return;const De={usesLRU:!0,entries:[]};$.cache.forEach((ye,oe)=>De.entries.push({key:oe,value:ye})),Ve.store($.PREF_KEY_CACHE,JSON.stringify(De),0,0),Ve.store($.PREF_KEY_COUNTER,$.counter,0,0)}static getConfiguredCommandHistoryLength(Ve){var De,ye;const Y=null===(ye=null===(De=Ve.getValue().workbench)||void 0===De?void 0:De.commandPalette)||void 0===ye?void 0:ye.history;return"number"==typeof Y?Y:$.DEFAULT_COMMANDS_HISTORY_LENGTH}};J.DEFAULT_COMMANDS_HISTORY_LENGTH=50,J.PREF_KEY_CACHE="commandPalette.mru.cache",J.PREF_KEY_COUNTER="commandPalette.mru.counter",J.counter=1,J=$=B([G(0,U.Uy),G(1,l.Ui)],J);class te extends K{constructor(Ve,De,ye,oe,Y,x){super(Ve,De,ye,oe,Y,x)}getCodeEditorCommandPicks(){const Ve=this.activeTextEditorControl;if(!Ve)return[];const De=[];for(const ye of Ve.getSupportedActions())De.push({commandId:ye.id,commandAlias:ye.alias,label:(0,v.x$)(ye.label)||ye.id});return De}}var ne=e(8256),_=e(15446),ae=e(49010),_e=function(Se,Ve){return function(De,ye){Ve(De,ye,Se)}},ue=function(Se,Ve,De,ye){return new(De||(De=Promise))(function(Y,x){function F(ke){try{Ce(ye.next(ke))}catch(Pe){x(Pe)}}function ie(ke){try{Ce(ye.throw(ke))}catch(Pe){x(Pe)}}function Ce(ke){ke.done?Y(ke.value):function oe(Y){return Y instanceof De?Y:new De(function(x){x(Y)})}(ke.value).then(F,ie)}Ce((ye=ye.apply(Se,Ve||[])).next())})};let ve=class extends te{get activeTextEditorControl(){var Ve;return null!==(Ve=this.codeEditorService.getFocusedCodeEditor())&&void 0!==Ve?Ve:void 0}constructor(Ve,De,ye,oe,Y,x){super({showAlias:!1},Ve,ye,oe,Y,x),this.codeEditorService=De}getCommandPicks(){return ue(this,void 0,void 0,function*(){return this.getCodeEditorCommandPicks()})}hasAdditionalCommandPicks(){return!1}getAdditionalCommandPicks(){return ue(this,void 0,void 0,function*(){return[]})}};ve=function(Se,Ve,De,ye){var x,oe=arguments.length,Y=oe<3?Ve:null===ye?ye=Object.getOwnPropertyDescriptor(Ve,De):ye;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Y=Reflect.decorate(Se,Ve,De,ye);else for(var F=Se.length-1;F>=0;F--)(x=Se[F])&&(Y=(oe<3?x(Y):oe>3?x(Ve,De,Y):x(Ve,De))||Y);return oe>3&&Y&&Object.defineProperty(Ve,De,Y),Y}([_e(0,w.TG),_e(1,y.$),_e(2,D.d),_e(3,m.H),_e(4,ee.b),_e(5,I.S)],ve);let Ie=(()=>{class Se extends ne.R6{constructor(){super({id:Se.ID,label:r.UX.quickCommandActionLabel,alias:"Command Palette",precondition:void 0,kbOpts:{kbExpr:_.u.focus,primary:59,weight:100},contextMenuOpts:{group:"z_commands",order:1}})}run(De){De.get(ae.eJ).quickAccess.show(ve.PREFIX)}}return Se.ID="editor.action.quickCommand",Se})();(0,ne.Qr)(Ie),f.B.as(P.IP.Quickaccess).registerQuickAccessProvider({ctor:ve,prefix:ve.PREFIX,helpEntries:[{description:r.UX.quickCommandHelp,commandId:Ie.ID}]})},65391:(Xe,we,e)=>{var f=e(78694),P=e(37389),r=e(55637),y=e(37190);let v=(()=>{class l extends r.X{constructor(){super({canAcceptInBackground:!0})}provideWithoutTextEditor(w){const D=(0,y.NC)("cannotRunGotoLine","Open a text editor first to go to a line.");return w.items=[{label:D}],w.ariaLabel=D,f.JT.None}provideWithTextEditor(w,D,N){const A=w.editor,k=new f.SL;k.add(D.onDidAccept(W=>{const[z]=D.selectedItems;if(z){if(!this.isValidLineNumber(A,z.lineNumber))return;this.gotoLocation(w,{range:this.toRange(z.lineNumber,z.column),keyMods:D.keyMods,preserveFocus:W.inBackground}),W.inBackground||D.hide()}}));const R=()=>{const W=this.parsePosition(A,D.value.trim().substr(l.PREFIX.length)),z=this.getPickLabel(A,W.lineNumber,W.column);if(D.items=[{lineNumber:W.lineNumber,column:W.column,label:z}],D.ariaLabel=z,!this.isValidLineNumber(A,W.lineNumber))return void this.clearDecorations(A);const U=this.toRange(W.lineNumber,W.column);A.revealRangeInCenter(U,0),this.addDecorations(A,U)};R(),k.add(D.onDidChangeValue(()=>R()));const O=(0,P.Pi)(A);return O&&2===O.getOptions().get(66).renderType&&(O.updateOptions({lineNumbers:"on"}),k.add((0,f.OF)(()=>O.updateOptions({lineNumbers:"relative"})))),k}toRange(w=1,D=1){return{startLineNumber:w,startColumn:D,endLineNumber:w,endColumn:D}}parsePosition(w,D){const N=D.split(/,|:|#/).map(k=>parseInt(k,10)).filter(k=>!isNaN(k)),A=this.lineCount(w)+1;return{lineNumber:N[0]>0?N[0]:A+N[0],column:N[1]}}getPickLabel(w,D,N){if(this.isValidLineNumber(w,D))return this.isValidColumn(w,D,N)?(0,y.NC)("gotoLineColumnLabel","Go to line {0} and character {1}.",D,N):(0,y.NC)("gotoLineLabel","Go to line {0}.",D);const A=w.getPosition()||{lineNumber:1,column:1},k=this.lineCount(w);return k>1?(0,y.NC)("gotoLineLabelEmptyWithLimit","Current Line: {0}, Character: {1}. Type a line number between 1 and {2} to navigate to.",A.lineNumber,A.column,k):(0,y.NC)("gotoLineLabelEmpty","Current Line: {0}, Character: {1}. Type a line number to navigate to.",A.lineNumber,A.column)}isValidLineNumber(w,D){return!(!D||"number"!=typeof D)&&D>0&&D<=this.lineCount(w)}isValidColumn(w,D,N){if(!N||"number"!=typeof N)return!1;const A=this.getModel(w);if(!A)return!1;const k={lineNumber:D,column:N};return A.validatePosition(k).equals(k)}lineCount(w){var D,N;return null!==(N=null===(D=this.getModel(w))||void 0===D?void 0:D.getLineCount())&&void 0!==N?N:0}}return l.PREFIX=":",l})();var S=e(81834),T=e(51198),E=e(51617),L=e(44356),p=e(58178),c=e(8256),u=e(15446),g=e(49010);let a=class extends v{constructor(I){super(),this.editorService=I,this.onDidActiveTextEditorControlChange=p.ju.None}get activeTextEditorControl(){var I;return null!==(I=this.editorService.getFocusedCodeEditor())&&void 0!==I?I:void 0}};var I;a=function(l,I,w,D){var k,N=arguments.length,A=N<3?I:null===D?D=Object.getOwnPropertyDescriptor(I,w):D;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)A=Reflect.decorate(l,I,w,D);else for(var R=l.length-1;R>=0;R--)(k=l[R])&&(A=(N<3?k(A):N>3?k(I,w,A):k(I,w))||A);return N>3&&A&&Object.defineProperty(I,w,A),A}([(0,I=E.$,function(w,D){I(w,D,0)})],a);let m=(()=>{class l extends c.R6{constructor(){super({id:l.ID,label:L.qq.gotoLineActionLabel,alias:"Go to Line/Column...",precondition:void 0,kbOpts:{kbExpr:u.u.focus,primary:2085,mac:{primary:293},weight:100}})}run(w){w.get(g.eJ).quickAccess.show(a.PREFIX)}}return l.ID="editor.action.gotoLine",l})();(0,c.Qr)(m),S.B.as(T.IP.Quickaccess).registerQuickAccessProvider({ctor:a,prefix:a.PREFIX,helpEntries:[{description:L.qq.gotoLineActionLabel,commandId:m.ID}]})},87178:(Xe,we,e)=>{e(15810),e(94073);var r=e(85328),y=e(87618),v=e(27222),S=e(35053),T=e(55769),E=e(52356),L=e(88593),p=e(16055);const c=[void 0,[]];function u(ye,oe,Y=0,x=0){return oe.values&&oe.values.length>1?function g(ye,oe,Y,x){let F=0;const ie=[];for(const Ce of oe){const[ke,Pe]=i(ye,Ce,Y,x);if("number"!=typeof ke)return c;F+=ke,ie.push(...Pe)}return[F,a(ie)]}(ye,oe.values,Y,x):i(ye,oe,Y,x)}function i(ye,oe,Y,x){const F=(0,T.EW)(oe.original,oe.originalLowercase,Y,ye,ye.toLowerCase(),x,{firstMatchCanBeWeak:!0,boostFullMatch:!0});return F?[F[0],(0,T.mB)(F)]:c}function a(ye){const oe=ye.sort((F,ie)=>F.start-ie.start),Y=[];let x;for(const F of oe)x&&m(x,F)?(x.start=Math.min(x.start,F.start),x.end=Math.max(x.end,F.end)):(x=F,Y.push(F));return Y}function m(ye,oe){return!(ye.end<oe.start||oe.end<ye.start)}function l(ye){return ye.startsWith('"')&&ye.endsWith('"')}Object.freeze({score:0});const I=" ";function w(ye){"string"!=typeof ye&&(ye="");const oe=ye.toLowerCase(),{pathNormalized:Y,normalized:x,normalizedLowercase:F}=D(ye),ie=Y.indexOf(E.ir)>=0,Ce=l(ye);let ke;const Pe=ye.split(I);if(Pe.length>1)for(const xe of Pe){const fe=l(xe),{pathNormalized:be,normalized:pe,normalizedLowercase:Q}=D(xe);pe&&(ke||(ke=[]),ke.push({original:xe,originalLowercase:xe.toLowerCase(),pathNormalized:be,normalized:pe,normalizedLowercase:Q,expectContiguousMatch:fe}))}return{original:ye,originalLowercase:oe,pathNormalized:Y,normalized:x,normalizedLowercase:F,values:ke,containsPathSeparator:ie,expectContiguousMatch:Ce}}function D(ye){let oe;oe=ye.replace(L.ED?/\//g:/\\/g,E.ir);const Y=(0,p.R1)(oe).replace(/\s|"/g,"");return{pathNormalized:oe,normalized:Y,normalizedLowercase:Y.toLowerCase()}}function N(ye){return Array.isArray(ye)?w(ye.map(oe=>oe.original).join(I)):w(ye.original)}var j,A=e(78694),k=e(96726),R=e(81814),O=e(22649),W=e(55637),z=e(37190),U=e(55763),ee=e(31738),G=function(ye,oe){return function(Y,x){oe(Y,x,ye)}},se=function(ye,oe,Y,x){return new(Y||(Y=Promise))(function(ie,Ce){function ke(fe){try{xe(x.next(fe))}catch(be){Ce(be)}}function Pe(fe){try{xe(x.throw(fe))}catch(be){Ce(be)}}function xe(fe){fe.done?ie(fe.value):function F(ie){return ie instanceof Y?ie:new Y(function(Ce){Ce(ie)})}(fe.value).then(ke,Pe)}xe((x=x.apply(ye,oe||[])).next())})};let $=j=class extends W.X{constructor(oe,Y,x=Object.create(null)){super(x),this._languageFeaturesService=oe,this._outlineModelService=Y,this.options=x,this.options.canAcceptInBackground=!0}provideWithoutTextEditor(oe){return this.provideLabelPick(oe,(0,z.NC)("cannotRunGotoSymbolWithoutEditor","To go to a symbol, first open a text editor with symbol information.")),A.JT.None}provideWithTextEditor(oe,Y,x){const ie=this.getModel(oe.editor);return ie?this._languageFeaturesService.documentSymbolProvider.has(ie)?this.doProvideWithEditorSymbols(oe,ie,Y,x):this.doProvideWithoutEditorSymbols(oe,ie,Y,x):A.JT.None}doProvideWithoutEditorSymbols(oe,Y,x,F){const ie=new A.SL;return this.provideLabelPick(x,(0,z.NC)("cannotRunGotoSymbolWithoutSymbolProvider","The active text editor does not provide symbol information.")),se(this,void 0,void 0,function*(){!(yield this.waitForLanguageSymbolRegistry(Y,ie))||F.isCancellationRequested||ie.add(this.doProvideWithEditorSymbols(oe,Y,x,F))}),ie}provideLabelPick(oe,Y){oe.items=[{label:Y,index:0,kind:14}],oe.ariaLabel=Y}waitForLanguageSymbolRegistry(oe,Y){return se(this,void 0,void 0,function*(){if(this._languageFeaturesService.documentSymbolProvider.has(oe))return!0;const x=new r.CR,F=Y.add(this._languageFeaturesService.documentSymbolProvider.onDidChange(()=>{this._languageFeaturesService.documentSymbolProvider.has(oe)&&(F.dispose(),x.complete(!0))}));return Y.add((0,A.OF)(()=>x.complete(!1))),x.p})}doProvideWithEditorSymbols(oe,Y,x,F){var ie;const Ce=oe.editor,ke=new A.SL;ke.add(x.onDidAccept(be=>{const[pe]=x.selectedItems;pe&&pe.range&&(this.gotoLocation(oe,{range:pe.range.selection,keyMods:x.keyMods,preserveFocus:be.inBackground}),be.inBackground||x.hide())})),ke.add(x.onDidTriggerItemButton(({item:be})=>{be&&be.range&&(this.gotoLocation(oe,{range:be.range.selection,keyMods:x.keyMods,forceSideBySide:!0}),x.hide())}));const Pe=this.getDocumentSymbols(Y,F);let xe;const fe=be=>se(this,void 0,void 0,function*(){xe?.dispose(!0),x.busy=!1,xe=new y.A(F),x.busy=!0;try{const pe=w(x.value.substr(j.PREFIX.length).trim()),Q=yield this.doGetSymbolPicks(Pe,pe,void 0,xe.token);if(F.isCancellationRequested)return;if(Q.length>0){if(x.items=Q,be&&0===pe.original.length){const le=(0,ee.dF)(Q,Fe=>!("separator"===Fe.type||!Fe.range||!k.e.containsPosition(Fe.range.decoration,be)));le&&(x.activeItems=[le])}}else this.provideLabelPick(x,pe.original.length>0?(0,z.NC)("noMatchingSymbolResults","No matching editor symbols"):(0,z.NC)("noSymbolResults","No editor symbols"))}finally{F.isCancellationRequested||(x.busy=!1)}});return ke.add(x.onDidChangeValue(()=>fe(void 0))),fe(null===(ie=Ce.getSelection())||void 0===ie?void 0:ie.getPosition()),ke.add(x.onDidChangeActive(()=>{const[be]=x.activeItems;be&&be.range&&(Ce.revealRangeInCenter(be.range.selection,0),this.addDecorations(Ce,be.range.decoration))})),ke}doGetSymbolPicks(oe,Y,x,F){var ie,Ce;return se(this,void 0,void 0,function*(){const ke=yield oe;if(F.isCancellationRequested)return[];const Pe=0===Y.original.indexOf(j.SCOPE_PREFIX),xe=Pe?1:0;let fe,be,pe;Y.values&&Y.values.length>1?(fe=N(Y.values[0]),be=N(Y.values.slice(1))):fe=Y;const Q=null===(Ce=null===(ie=this.options)||void 0===ie?void 0:ie.openSideBySideDirection)||void 0===Ce?void 0:Ce.call(ie);Q&&(pe=[{iconClass:S.k.asClassName("right"===Q?v.l.splitHorizontal:v.l.splitVertical),tooltip:"right"===Q?(0,z.NC)("openToSide","Open to the Side"):(0,z.NC)("openToBottom","Open to the Bottom")}]);const le=[];for(let Je=0;Je<ke.length;Je++){const ot=ke[Je],lt=(0,p.fy)(ot.name),mt=`$(${R.uZ.toIcon(ot.kind).id}) ${lt}`,ft=mt.length-lt.length;let Tt,Mt,Ut,At,Lt=ot.containerName;if(x?.extraContainerLabel&&(Lt=Lt?`${x.extraContainerLabel} \u2022 ${Lt}`:x.extraContainerLabel),Y.original.length>xe){let it=!1;if(fe!==Y&&([Tt,Mt]=u(mt,Object.assign(Object.assign({},Y),{values:void 0}),xe,ft),"number"==typeof Tt&&(it=!0)),"number"!=typeof Tt&&([Tt,Mt]=u(mt,fe,xe,ft),"number"!=typeof Tt))continue;if(!it&&be){if(Lt&&be.original.length>0&&([Ut,At]=u(Lt,be)),"number"!=typeof Ut)continue;"number"==typeof Tt&&(Tt+=Ut)}}const It=ot.tags&&ot.tags.indexOf(1)>=0;le.push({index:Je,kind:ot.kind,score:Tt,label:mt,ariaLabel:(0,R.R4)(ot.name,ot.kind),description:Lt,highlights:It?void 0:{label:Mt,description:At},range:{selection:k.e.collapseToStart(ot.selectionRange),decoration:ot.range},strikethrough:It,buttons:pe})}const Fe=le.sort((Je,ot)=>Pe?this.compareByKindAndScore(Je,ot):this.compareByScore(Je,ot));let He=[];if(Pe){let Je,ot,mt=function(){ot&&"number"==typeof Je&&lt>0&&(ot.label=(0,p.WU)(J[Je]||K,lt))},lt=0;for(const ft of Fe)Je!==ft.kind?(mt(),Je=ft.kind,lt=1,ot={type:"separator"},He.push(ot)):lt++,He.push(ft);mt()}else Fe.length>0&&(He=[{label:(0,z.NC)("symbols","symbols ({0})",le.length),type:"separator"},...Fe]);return He})}compareByScore(oe,Y){if("number"!=typeof oe.score&&"number"==typeof Y.score)return 1;if("number"==typeof oe.score&&"number"!=typeof Y.score)return-1;if("number"==typeof oe.score&&"number"==typeof Y.score){if(oe.score>Y.score)return-1;if(oe.score<Y.score)return 1}return oe.index<Y.index?-1:oe.index>Y.index?1:0}compareByKindAndScore(oe,Y){const ie=(J[oe.kind]||K).localeCompare(J[Y.kind]||K);return 0===ie?this.compareByScore(oe,Y):ie}getDocumentSymbols(oe,Y){return se(this,void 0,void 0,function*(){const x=yield this._outlineModelService.getOrCreate(oe,Y);return Y.isCancellationRequested?[]:x.asListOfDocumentSymbols()})}};$.PREFIX="@",$.SCOPE_PREFIX=":",$.PREFIX_BY_CATEGORY=`${j.PREFIX}${j.SCOPE_PREFIX}`,$=j=function(ye,oe,Y,x){var Ce,F=arguments.length,ie=F<3?oe:null===x?x=Object.getOwnPropertyDescriptor(oe,Y):x;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ie=Reflect.decorate(ye,oe,Y,x);else for(var ke=ye.length-1;ke>=0;ke--)(Ce=ye[ke])&&(ie=(F<3?Ce(ie):F>3?Ce(oe,Y,ie):Ce(oe,Y))||ie);return F>3&&ie&&Object.defineProperty(oe,Y,ie),ie}([G(0,U.p),G(1,O.Je)],$);const K=(0,z.NC)("property","properties ({0})"),J={5:(0,z.NC)("method","methods ({0})"),11:(0,z.NC)("function","functions ({0})"),8:(0,z.NC)("_constructor","constructors ({0})"),12:(0,z.NC)("variable","variables ({0})"),4:(0,z.NC)("class","classes ({0})"),22:(0,z.NC)("struct","structs ({0})"),23:(0,z.NC)("event","events ({0})"),24:(0,z.NC)("operator","operators ({0})"),10:(0,z.NC)("interface","interfaces ({0})"),2:(0,z.NC)("namespace","namespaces ({0})"),3:(0,z.NC)("package","packages ({0})"),25:(0,z.NC)("typeParameter","type parameters ({0})"),1:(0,z.NC)("modules","modules ({0})"),6:(0,z.NC)("property","properties ({0})"),9:(0,z.NC)("enum","enumerations ({0})"),21:(0,z.NC)("enumMember","enumeration members ({0})"),14:(0,z.NC)("string","strings ({0})"),0:(0,z.NC)("file","files ({0})"),17:(0,z.NC)("array","arrays ({0})"),15:(0,z.NC)("number","numbers ({0})"),16:(0,z.NC)("boolean","booleans ({0})"),18:(0,z.NC)("object","objects ({0})"),19:(0,z.NC)("key","keys ({0})"),7:(0,z.NC)("field","fields ({0})"),13:(0,z.NC)("constant","constants ({0})")};var te=e(81834),ne=e(51198),_=e(51617),ae=e(44356),ge=e(58178),_e=e(8256),ue=e(15446),ve=e(49010),Se=function(ye,oe){return function(Y,x){oe(Y,x,ye)}};let Ve=class extends ${constructor(oe,Y,x){super(Y,x),this.editorService=oe,this.onDidActiveTextEditorControlChange=ge.ju.None}get activeTextEditorControl(){var oe;return null!==(oe=this.editorService.getFocusedCodeEditor())&&void 0!==oe?oe:void 0}};Ve=function(ye,oe,Y,x){var Ce,F=arguments.length,ie=F<3?oe:null===x?x=Object.getOwnPropertyDescriptor(oe,Y):x;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ie=Reflect.decorate(ye,oe,Y,x);else for(var ke=ye.length-1;ke>=0;ke--)(Ce=ye[ke])&&(ie=(F<3?Ce(ie):F>3?Ce(oe,Y,ie):Ce(oe,Y))||ie);return F>3&&ie&&Object.defineProperty(oe,Y,ie),ie}([Se(0,_.$),Se(1,U.p),Se(2,O.Je)],Ve);let De=(()=>{class ye extends _e.R6{constructor(){super({id:ye.ID,label:ae.aq.quickOutlineActionLabel,alias:"Go to Symbol...",precondition:ue.u.hasDocumentSymbolProvider,kbOpts:{kbExpr:ue.u.focus,primary:3117,weight:100},contextMenuOpts:{group:"navigation",order:3}})}run(Y){Y.get(ve.eJ).quickAccess.show($.PREFIX,{itemActivation:ve.jG.NONE})}}return ye.ID="editor.action.quickOutline",ye})();(0,_e.Qr)(De),te.B.as(ne.IP.Quickaccess).registerQuickAccessProvider({ctor:Ve,prefix:$.PREFIX,helpEntries:[{description:ae.aq.quickOutlineActionLabel,prefix:$.PREFIX,commandId:De.ID},{description:ae.aq.quickOutlineByCategoryActionLabel,prefix:$.PREFIX_BY_CATEGORY}]})},77215:(Xe,we,e)=>{var p,f=e(81834),P=e(51198),r=e(44356),y=e(37190),v=e(78694),S=e(21536),T=e(49010),L=function(u,g){return function(i,d){g(i,d,u)}};let c=p=class{constructor(g,i){this.quickInputService=g,this.keybindingService=i,this.registry=f.B.as(P.IP.Quickaccess)}provide(g){const i=new v.SL;return i.add(g.onDidAccept(()=>{const[d]=g.selectedItems;d&&this.quickInputService.quickAccess.show(d.prefix,{preserveValue:!0})})),i.add(g.onDidChangeValue(d=>{const a=this.registry.getQuickAccessProvider(d.substr(p.PREFIX.length));a&&a.prefix&&a.prefix!==p.PREFIX&&this.quickInputService.quickAccess.show(a.prefix,{preserveValue:!0})})),g.items=this.getQuickAccessProviders().filter(d=>d.prefix!==p.PREFIX),i}getQuickAccessProviders(){return this.registry.getQuickAccessProviders().sort((i,d)=>i.prefix.localeCompare(d.prefix)).flatMap(i=>this.createPicks(i))}createPicks(g){return g.helpEntries.map(i=>{const d=i.prefix||g.prefix,a=d||"\u2026";return{prefix:d,label:a,keybinding:i.commandId?this.keybindingService.lookupKeybinding(i.commandId):void 0,ariaLabel:(0,y.NC)("helpPickAriaLabel","{0}, {1}",a,i.description),description:i.description}})}};c.PREFIX="?",c=p=function(u,g,i,d){var l,a=arguments.length,m=a<3?g:null===d?d=Object.getOwnPropertyDescriptor(g,i):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)m=Reflect.decorate(u,g,i,d);else for(var I=u.length-1;I>=0;I--)(l=u[I])&&(m=(a<3?l(m):a>3?l(g,i,m):l(g,i))||m);return a>3&&m&&Object.defineProperty(g,i,m),m}([L(0,T.eJ),L(1,S.d)],c),f.B.as(P.IP.Quickaccess).registerQuickAccessProvider({ctor:c,prefix:"",helpEntries:[{description:r.ld.helpQuickAccessActionLabel}]})},63340:(Xe,we,e)=>{var f=e(8256),P=e(51617),r=e(14441),y=e(47358),v=e(66221),S=e(12065),T=e(22438),E=e(93476),p=function(u,g){return function(i,d){g(i,d,u)}};let c=class extends r.J{constructor(g,i,d,a,m,l,I){super(!0,g,i,d,a,m,l,I)}};c=function(u,g,i,d){var l,a=arguments.length,m=a<3?g:null===d?d=Object.getOwnPropertyDescriptor(g,i):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)m=Reflect.decorate(u,g,i,d);else for(var I=u.length-1;I>=0;I--)(l=u[I])&&(m=(a<3?l(m):a>3?l(g,i,m):l(g,i))||m);return a>3&&m&&Object.defineProperty(g,i,m),m}([p(1,v.i6),p(2,P.$),p(3,T.lT),p(4,S.TG),p(5,E.Uy),p(6,y.Ui)],c),(0,f._K)(r.J.ID,c,4)},70141:(Xe,we,e)=>{e.d(we,{kR:()=>$,MU:()=>K,nI:()=>_e,rW:()=>j,TG:()=>se});var f=e(20274),P=e(47492),r=e(90888),y=e(58178),v=e(81814),S=e(96724);class T{constructor(ve,Ie,Se,Ve,De){this._parsedThemeRuleBrand=void 0,this.token=ve,this.index=Ie,this.fontStyle=Se,this.foreground=Ve,this.background=De}}const p=/^#?([0-9A-Fa-f]{6})([0-9A-Fa-f]{2})?$/;class c{constructor(){this._lastColorId=0,this._id2color=[],this._color2id=new Map}getId(ve){if(null===ve)return 0;const Ie=ve.match(p);if(!Ie)throw new Error("Illegal value for token color: "+ve);ve=Ie[1].toUpperCase();let Se=this._color2id.get(ve);return Se||(Se=++this._lastColorId,this._color2id.set(ve,Se),this._id2color[Se]=r.Il.fromHex("#"+ve),Se)}getColorMap(){return this._id2color.slice(0)}}class u{static createFromRawTokenTheme(ve,Ie){return this.createFromParsedTokenTheme(function E(ue){if(!ue||!Array.isArray(ue))return[];const ve=[];let Ie=0;for(let Se=0,Ve=ue.length;Se<Ve;Se++){const De=ue[Se];let ye=-1;if("string"==typeof De.fontStyle){ye=0;const x=De.fontStyle.split(" ");for(let F=0,ie=x.length;F<ie;F++)switch(x[F]){case"italic":ye|=1;break;case"bold":ye|=2;break;case"underline":ye|=4;break;case"strikethrough":ye|=8}}let oe=null;"string"==typeof De.foreground&&(oe=De.foreground);let Y=null;"string"==typeof De.background&&(Y=De.background),ve[Ie++]=new T(De.token||"",Se,ye,oe,Y)}return ve}(ve),Ie)}static createFromParsedTokenTheme(ve,Ie){return function L(ue,ve){ue.sort((F,ie)=>{const Ce=function d(ue,ve){return ue<ve?-1:ue>ve?1:0}(F.token,ie.token);return 0!==Ce?Ce:F.index-ie.index});let Ie=0,Se="000000",Ve="ffffff";for(;ue.length>=1&&""===ue[0].token;){const F=ue.shift();-1!==F.fontStyle&&(Ie=F.fontStyle),null!==F.foreground&&(Se=F.foreground),null!==F.background&&(Ve=F.background)}const De=new c;for(const F of ve)De.getId(F);const ye=De.getId(Se),oe=De.getId(Ve),Y=new a(Ie,ye,oe),x=new m(Y);for(let F=0,ie=ue.length;F<ie;F++){const Ce=ue[F];x.insert(Ce.token,Ce.fontStyle,De.getId(Ce.foreground),De.getId(Ce.background))}return new u(De,x)}(ve,Ie)}constructor(ve,Ie){this._colorMap=ve,this._root=Ie,this._cache=new Map}getColorMap(){return this._colorMap.getColorMap()}_match(ve){return this._root.match(ve)}match(ve,Ie){let Se=this._cache.get(Ie);if(typeof Se>"u"){const Ve=this._match(Ie),De=function i(ue){const ve=ue.match(g);if(!ve)return 0;switch(ve[1]){case"comment":return 1;case"string":return 2;case"regex":case"regexp":return 3}throw new Error("Unexpected match for standard token type!")}(Ie);Se=(Ve.metadata|De<<8)>>>0,this._cache.set(Ie,Se)}return(Se|ve<<0)>>>0}}const g=/\b(comment|string|regex|regexp)\b/;class a{constructor(ve,Ie,Se){this._themeTrieElementRuleBrand=void 0,this._fontStyle=ve,this._foreground=Ie,this._background=Se,this.metadata=(this._fontStyle<<11|this._foreground<<15|this._background<<24)>>>0}clone(){return new a(this._fontStyle,this._foreground,this._background)}acceptOverwrite(ve,Ie,Se){-1!==ve&&(this._fontStyle=ve),0!==Ie&&(this._foreground=Ie),0!==Se&&(this._background=Se),this.metadata=(this._fontStyle<<11|this._foreground<<15|this._background<<24)>>>0}}class m{constructor(ve){this._themeTrieElementBrand=void 0,this._mainRule=ve,this._children=new Map}match(ve){if(""===ve)return this._mainRule;const Ie=ve.indexOf(".");let Se,Ve;-1===Ie?(Se=ve,Ve=""):(Se=ve.substring(0,Ie),Ve=ve.substring(Ie+1));const De=this._children.get(Se);return typeof De<"u"?De.match(Ve):this._mainRule}insert(ve,Ie,Se,Ve){if(""===ve)return void this._mainRule.acceptOverwrite(Ie,Se,Ve);const De=ve.indexOf(".");let ye,oe;-1===De?(ye=ve,oe=""):(ye=ve.substring(0,De),oe=ve.substring(De+1));let Y=this._children.get(ye);typeof Y>"u"&&(Y=new m(this._mainRule.clone()),this._children.set(ye,Y)),Y.insert(oe,Ie,Se,Ve)}}var I=e(2857),w=e(99745);const D={base:"vs",inherit:!1,rules:[{token:"",foreground:"000000",background:"fffffe"},{token:"invalid",foreground:"cd3131"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"001188"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"delimiter.xml",foreground:"0000FF"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"FF0000"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"FF0000"},{token:"attribute.value",foreground:"0451A5"},{token:"attribute.value.number",foreground:"098658"},{token:"attribute.value.unit",foreground:"098658"},{token:"attribute.value.html",foreground:"0000FF"},{token:"attribute.value.xml",foreground:"0000FF"},{token:"string",foreground:"A31515"},{token:"string.html",foreground:"0000FF"},{token:"string.sql",foreground:"FF0000"},{token:"string.yaml",foreground:"0451A5"},{token:"keyword",foreground:"0000FF"},{token:"keyword.json",foreground:"0451A5"},{token:"keyword.flow",foreground:"AF00DB"},{token:"keyword.flow.scss",foreground:"0000FF"},{token:"operator.scss",foreground:"666666"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[w.cvW]:"#FFFFFE",[w.NOs]:"#000000",[w.ES4]:"#E5EBF1",[I.gS]:"#D3D3D3",[I.qe]:"#939393",[w.Rzx]:"#ADD6FF4D"}},N={base:"vs-dark",inherit:!1,rules:[{token:"",foreground:"D4D4D4",background:"1E1E1E"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"74B0DF"},{token:"variable.predefined",foreground:"4864AA"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"B5CEA8"},{token:"number.hex",foreground:"5BB498"},{token:"regexp",foreground:"B46695"},{token:"annotation",foreground:"cc6666"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"DCDCDC"},{token:"delimiter.html",foreground:"808080"},{token:"delimiter.xml",foreground:"808080"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"A79873"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"DD6A6F"},{token:"metatag.content.html",foreground:"9CDCFE"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key.json",foreground:"9CDCFE"},{token:"string.value.json",foreground:"CE9178"},{token:"attribute.name",foreground:"9CDCFE"},{token:"attribute.value",foreground:"CE9178"},{token:"attribute.value.number.css",foreground:"B5CEA8"},{token:"attribute.value.unit.css",foreground:"B5CEA8"},{token:"attribute.value.hex.css",foreground:"D4D4D4"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"keyword.json",foreground:"CE9178"},{token:"keyword.flow.scss",foreground:"569CD6"},{token:"operator.scss",foreground:"909090"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[w.cvW]:"#1E1E1E",[w.NOs]:"#D4D4D4",[w.ES4]:"#3A3D41",[I.gS]:"#404040",[I.qe]:"#707070",[w.Rzx]:"#ADD6FF26"}},A={base:"hc-black",inherit:!1,rules:[{token:"",foreground:"FFFFFF",background:"000000"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"1AEBFF"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"FFFFFF"},{token:"regexp",foreground:"C0C0C0"},{token:"annotation",foreground:"569CD6"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"FFFF00"},{token:"delimiter.html",foreground:"FFFF00"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta",foreground:"D4D4D4"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"569CD6"},{token:"metatag.content.html",foreground:"1AEBFF"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key",foreground:"9CDCFE"},{token:"string.value",foreground:"CE9178"},{token:"attribute.name",foreground:"569CD6"},{token:"attribute.value",foreground:"3FF23F"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[w.cvW]:"#000000",[w.NOs]:"#FFFFFF",[I.gS]:"#FFFFFF",[I.qe]:"#FFFFFF"}},k={base:"hc-light",inherit:!1,rules:[{token:"",foreground:"292929",background:"FFFFFF"},{token:"invalid",foreground:"B5200D"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"264F70"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"B5200D"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"264F78"},{token:"attribute.value",foreground:"0451A5"},{token:"string",foreground:"A31515"},{token:"string.sql",foreground:"B5200D"},{token:"keyword",foreground:"0000FF"},{token:"keyword.flow",foreground:"AF00DB"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[w.cvW]:"#FFFFFF",[w.NOs]:"#292929",[I.gS]:"#292929",[I.qe]:"#292929"}};var R=e(81834),O=e(23527),W=e(78694),z=e(13054),U=e(35053),ee=e(34252);class G{getIcon(ve){const Ie=(0,ee.Ks)();let Se=ve.defaults;for(;U.k.isThemeIcon(Se);){const Ve=Ie.getIcon(Se.id);if(!Ve)return;Se=Ve.defaults}return Se}}const se="vs",j="vs-dark",$="hc-black",K="hc-light",J=R.B.as(w.IPX.ColorContribution),te=R.B.as(O.IP.ThemingContribution);class ne{constructor(ve,Ie){this.semanticHighlighting=!1,this.themeData=Ie;const Se=Ie.base;ve.length>0?(this.id=_(ve)?ve:Se+" "+ve,this.themeName=ve):(this.id=Se,this.themeName=Se),this.colors=null,this.defaultColors=Object.create(null),this._tokenTheme=null}get base(){return this.themeData.base}notifyBaseUpdated(){this.themeData.inherit&&(this.colors=null,this._tokenTheme=null)}getColors(){if(!this.colors){const ve=new Map;for(const Ie in this.themeData.colors)ve.set(Ie,r.Il.fromHex(this.themeData.colors[Ie]));if(this.themeData.inherit){const Ie=ae(this.themeData.base);for(const Se in Ie.colors)ve.has(Se)||ve.set(Se,r.Il.fromHex(Ie.colors[Se]))}this.colors=ve}return this.colors}getColor(ve,Ie){return this.getColors().get(ve)||(!1!==Ie?this.getDefault(ve):void 0)}getDefault(ve){let Ie=this.defaultColors[ve];return Ie||(Ie=J.resolveDefaultColor(ve,this),this.defaultColors[ve]=Ie,Ie)}defines(ve){return this.getColors().has(ve)}get type(){switch(this.base){case se:return z.eL.LIGHT;case $:return z.eL.HIGH_CONTRAST_DARK;case K:return z.eL.HIGH_CONTRAST_LIGHT;default:return z.eL.DARK}}get tokenTheme(){if(!this._tokenTheme){let ve=[],Ie=[];if(this.themeData.inherit){const De=ae(this.themeData.base);ve=De.rules,De.encodedTokensColors&&(Ie=De.encodedTokensColors)}const Se=this.themeData.colors["editor.foreground"],Ve=this.themeData.colors["editor.background"];if(Se||Ve){const De={token:""};Se&&(De.foreground=Se),Ve&&(De.background=Ve),ve.push(De)}ve=ve.concat(this.themeData.rules),this.themeData.encodedTokensColors&&(Ie=this.themeData.encodedTokensColors),this._tokenTheme=u.createFromRawTokenTheme(ve,Ie)}return this._tokenTheme}getTokenStyleMetadata(ve,Ie,Se){const De=this.tokenTheme._match([ve].concat(Ie).join(".")).metadata,ye=S.N.getForeground(De),oe=S.N.getFontStyle(De);return{foreground:ye,italic:!!(1&oe),bold:!!(2&oe),underline:!!(4&oe),strikethrough:!!(8&oe)}}}function _(ue){return ue===se||ue===j||ue===$||ue===K}function ae(ue){switch(ue){case se:return D;case j:return N;case $:return A;case K:return k}}function ge(ue){const ve=ae(ue);return new ne(ue,ve)}class _e extends W.JT{constructor(){super(),this._onColorThemeChange=this._register(new y.Q5),this.onDidColorThemeChange=this._onColorThemeChange.event,this._onProductIconThemeChange=this._register(new y.Q5),this.onDidProductIconThemeChange=this._onProductIconThemeChange.event,this._environment=Object.create(null),this._builtInProductIconTheme=new G,this._autoDetectHighContrast=!0,this._knownThemes=new Map,this._knownThemes.set(se,ge(se)),this._knownThemes.set(j,ge(j)),this._knownThemes.set($,ge($)),this._knownThemes.set(K,ge(K));const ve=function B(ue){const ve=new y.Q5,Ie=(0,ee.Ks)();return Ie.onDidChange(()=>ve.fire()),ue?.onDidProductIconThemeChange(()=>ve.fire()),{onDidChange:ve.event,getCSS(){const Se=ue?ue.getProductIconTheme():new G,Ve={},De=oe=>{const Y=Se.getIcon(oe);if(!Y)return;const x=Y.font;return x?(Ve[x.id]=x.definition,`.codicon-${oe.id}:before { content: '${Y.fontCharacter}'; font-family: ${(0,f._h)(x.id)}; }`):`.codicon-${oe.id}:before { content: '${Y.fontCharacter}'; }`},ye=[];for(const oe of Ie.getIcons()){const Y=De(oe);Y&&ye.push(Y)}for(const oe in Ve){const Y=Ve[oe],x=Y.weight?`font-weight: ${Y.weight};`:"",F=Y.style?`font-style: ${Y.style};`:"",ie=Y.src.map(Ce=>`${(0,f.wY)(Ce.location)} format('${Ce.format}')`).join(", ");ye.push(`@font-face { src: ${ie}; font-family: ${(0,f._h)(oe)};${x}${F} font-display: block; }`)}return ye.join("\n")}}}(this);this._codiconCSS=ve.getCSS(),this._themeCSS="",this._allCSS=`${this._codiconCSS}\n${this._themeCSS}`,this._globalStyleElement=null,this._styleElements=[],this._colorMapOverride=null,this.setTheme(se),this._onOSSchemeChanged(),ve.onDidChange(()=>{this._codiconCSS=ve.getCSS(),this._updateCSS()}),(0,P.uB)("(forced-colors: active)",()=>{this._onOSSchemeChanged()})}registerEditorContainer(ve){return f.OO(ve)?this._registerShadowDomContainer(ve):this._registerRegularEditorContainer()}_registerRegularEditorContainer(){return this._globalStyleElement||(this._globalStyleElement=f.dS(void 0,ve=>{ve.className="monaco-colors",ve.textContent=this._allCSS}),this._styleElements.push(this._globalStyleElement)),W.JT.None}_registerShadowDomContainer(ve){const Ie=f.dS(ve,Se=>{Se.className="monaco-colors",Se.textContent=this._allCSS});return this._styleElements.push(Ie),{dispose:()=>{for(let Se=0;Se<this._styleElements.length;Se++)if(this._styleElements[Se]===Ie)return void this._styleElements.splice(Se,1)}}}defineTheme(ve,Ie){if(!/^[a-z0-9\-]+$/i.test(ve))throw new Error("Illegal theme name!");if(!_(Ie.base)&&!_(ve))throw new Error("Illegal theme base!");this._knownThemes.set(ve,new ne(ve,Ie)),_(ve)&&this._knownThemes.forEach(Se=>{Se.base===ve&&Se.notifyBaseUpdated()}),this._theme.themeName===ve&&this.setTheme(ve)}getColorTheme(){return this._theme}setColorMapOverride(ve){this._colorMapOverride=ve,this._updateThemeOrColorMap()}setTheme(ve){let Ie;Ie=this._knownThemes.has(ve)?this._knownThemes.get(ve):this._knownThemes.get(se),this._updateActualTheme(Ie)}_updateActualTheme(ve){!ve||this._theme===ve||(this._theme=ve,this._updateThemeOrColorMap())}_onOSSchemeChanged(){if(this._autoDetectHighContrast){const ve=window.matchMedia("(forced-colors: active)").matches;if(ve!==(0,z.c3)(this._theme.type)){let Ie;Ie=(0,z._T)(this._theme.type)?ve?$:j:ve?K:se,this._updateActualTheme(this._knownThemes.get(Ie))}}}setAutoDetectHighContrast(ve){this._autoDetectHighContrast=ve,this._onOSSchemeChanged()}_updateThemeOrColorMap(){const ve=[],Ie={},Se={addRule:ye=>{Ie[ye]||(ve.push(ye),Ie[ye]=!0)}};te.getThemingParticipants().forEach(ye=>ye(this._theme,Se,this._environment));const Ve=[];for(const ye of J.getColors()){const oe=this._theme.getColor(ye.id,!0);oe&&Ve.push(`${(0,w.QO2)(ye.id)}: ${oe.toString()};`)}Se.addRule(`.monaco-editor, .monaco-diff-editor { ${Ve.join("\n")} }`);const De=this._colorMapOverride||this._theme.tokenTheme.getColorMap();Se.addRule(function l(ue){const ve=[];for(let Ie=1,Se=ue.length;Ie<Se;Ie++)ve[Ie]=`.mtk${Ie} { color: ${ue[Ie]}; }`;return ve.push(".mtki { font-style: italic; }"),ve.push(".mtkb { font-weight: bold; }"),ve.push(".mtku { text-decoration: underline; text-underline-position: under; }"),ve.push(".mtks { text-decoration: line-through; }"),ve.push(".mtks.mtku { text-decoration: underline line-through; text-underline-position: under; }"),ve.join("\n")}(De)),this._themeCSS=ve.join("\n"),this._updateCSS(),v.RW.setColorMap(De),this._onColorThemeChange.fire(this._theme)}_updateCSS(){this._allCSS=`${this._codiconCSS}\n${this._themeCSS}`,this._styleElements.forEach(ve=>ve.textContent=this._allCSS)}getFileIconTheme(){return{hasFileIcons:!1,hasFolderIcons:!1,hidesExplorerArrows:!1}}getProductIconTheme(){return this._builtInProductIconTheme}}},50539:(Xe,we,e)=>{var f=e(8256),P=e(2265),r=e(44356),y=e(13054),v=e(70141);(0,f.Qr)(class S extends f.R6{constructor(){super({id:"editor.action.toggleHighContrast",label:r.xi.toggleHighContrast,alias:"Toggle High Contrast Theme",precondition:void 0}),this._originalThemeName=null}run(E,L){const p=E.get(P.Z),c=p.getColorTheme();(0,y.c3)(c.type)?(p.setTheme(this._originalThemeName||((0,y._T)(c.type)?v.rW:v.TG)),this._originalThemeName=null):(p.setTheme((0,y._T)(c.type)?v.kR:v.MU),this._originalThemeName=c.themeName)}})},2265:(Xe,we,e)=>{e.d(we,{Z:()=>P});const P=(0,e(12065).yh)("themeService")},56217:(Xe,we,e)=>{var f=e(8673),P=Object.defineProperty,r=Object.getOwnPropertyDescriptor,y=Object.getOwnPropertyNames,v=Object.prototype.hasOwnProperty,S=(a,m,l,I)=>{if(m&&"object"==typeof m||"function"==typeof m)for(let w of y(m))!v.call(a,w)&&w!==l&&P(a,w,{get:()=>m[w],enumerable:!(I=r(m,w))||I.enumerable});return a},E={};S(E,f,"default");var L=class{_onDidChange=new E.Emitter;_options;_modeConfiguration;_languageId;constructor(a,m,l){this._languageId=a,this.setOptions(m),this.setModeConfiguration(l)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get modeConfiguration(){return this._modeConfiguration}get diagnosticsOptions(){return this.options}get options(){return this._options}setOptions(a){this._options=a||Object.create(null),this._onDidChange.fire(this)}setDiagnosticsOptions(a){this.setOptions(a)}setModeConfiguration(a){this._modeConfiguration=a||Object.create(null),this._onDidChange.fire(this)}},p={validate:!0,lint:{compatibleVendorPrefixes:"ignore",vendorPrefix:"warning",duplicateProperties:"warning",emptyRules:"warning",importStatement:"ignore",boxModel:"ignore",universalSelector:"ignore",zeroUnits:"ignore",fontFaceProperties:"warning",hexColorLength:"error",argumentsInColorFunction:"error",unknownProperties:"warning",ieHack:"ignore",unknownVendorSpecificProperties:"ignore",propertyIgnoredDueToDisplay:"warning",important:"ignore",float:"ignore",idSelector:"ignore"},data:{useDefaultDataProvider:!0},format:{newlineBetweenSelectors:!0,newlineBetweenRules:!0,spaceAroundSelectorSeparator:!1,braceStyle:"collapse",maxPreserveNewLines:void 0,preserveNewLines:!0}},c={completionItems:!0,hovers:!0,documentSymbols:!0,definitions:!0,references:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0,documentFormattingEdits:!0,documentRangeFormattingEdits:!0},u=new L("css",p,c),g=new L("scss",p,c),i=new L("less",p,c);function d(){return e.e(5778).then(e.bind(e,35778))}E.languages.css={cssDefaults:u,lessDefaults:i,scssDefaults:g},E.languages.onLanguage("less",()=>{d().then(a=>a.setupMode(i))}),E.languages.onLanguage("scss",()=>{d().then(a=>a.setupMode(g))}),E.languages.onLanguage("css",()=>{d().then(a=>a.setupMode(u))})},65328:(Xe,we,e)=>{var f=e(15861),P=e(8673),r=Object.defineProperty,y=Object.getOwnPropertyDescriptor,v=Object.getOwnPropertyNames,S=Object.prototype.hasOwnProperty,T=(R,O,W,z)=>{if(O&&"object"==typeof O||"function"==typeof O)for(let U of v(O))!S.call(R,U)&&U!==W&&r(R,U,{get:()=>O[U],enumerable:!(z=y(O,U))||z.enumerable});return R},L={};T(L,P,"default");var u={format:{tabSize:4,insertSpaces:!1,wrapLineLength:120,unformatted:'default": "a, abbr, acronym, b, bdo, big, br, button, cite, code, dfn, em, i, img, input, kbd, label, map, object, q, samp, select, small, span, strong, sub, sup, textarea, tt, var',contentUnformatted:"pre",indentInnerHtml:!1,preserveNewLines:!0,maxPreserveNewLines:void 0,indentHandlebars:!1,endWithNewline:!1,extraLiners:"head, body, /html",wrapAttributes:"auto"},suggest:{},data:{useDefaultDataProvider:!0}};function g(R){return{completionItems:!0,hovers:!0,documentSymbols:!0,links:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,selectionRanges:!0,diagnostics:R===i,documentFormattingEdits:R===i,documentRangeFormattingEdits:R===i}}var i="html",d="handlebars",a="razor",m=k(i,u,g(i)),l=m.defaults,I=k(d,u,g(d)),w=I.defaults,D=k(a,u,g(a));function k(R,O=u,W=g(R)){const z=new class{_onDidChange=new L.Emitter;_options;_modeConfiguration;_languageId;constructor(R,O,W){this._languageId=R,this.setOptions(O),this.setModeConfiguration(W)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get options(){return this._options}get modeConfiguration(){return this._modeConfiguration}setOptions(R){this._options=R||Object.create(null),this._onDidChange.fire(this)}setModeConfiguration(R){this._modeConfiguration=R||Object.create(null),this._onDidChange.fire(this)}}(R,O,W);let U;const ee=L.languages.onLanguage(R,(0,f.Z)(function*(){U=(yield function A(){return e.e(1283).then(e.bind(e,21283))}()).setupMode(z)}));return{defaults:z,dispose(){ee.dispose(),U?.dispose(),U=void 0}}}L.languages.html={htmlDefaults:l,razorDefaults:D.defaults,handlebarDefaults:w,htmlLanguageService:m,handlebarLanguageService:I,razorLanguageService:D,registerHTMLLanguageService:k}},73042:(Xe,we,e)=>{var f=e(8673),P=Object.defineProperty,r=Object.getOwnPropertyDescriptor,y=Object.getOwnPropertyNames,v=Object.prototype.hasOwnProperty,S=(i,d,a,m)=>{if(d&&"object"==typeof d||"function"==typeof d)for(let l of y(d))!v.call(i,l)&&l!==a&&P(i,l,{get:()=>d[l],enumerable:!(m=r(d,l))||m.enumerable});return i},E={};S(E,f,"default");var u=new class{_onDidChange=new E.Emitter;_diagnosticsOptions;_modeConfiguration;_languageId;constructor(i,d,a){this._languageId=i,this.setDiagnosticsOptions(d),this.setModeConfiguration(a)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get modeConfiguration(){return this._modeConfiguration}get diagnosticsOptions(){return this._diagnosticsOptions}setDiagnosticsOptions(i){this._diagnosticsOptions=i||Object.create(null),this._onDidChange.fire(this)}setModeConfiguration(i){this._modeConfiguration=i||Object.create(null),this._onDidChange.fire(this)}}("json",{validate:!0,allowComments:!0,schemas:[],enableSchemaRequest:!1,schemaRequest:"warning",schemaValidation:"warning",comments:"error",trailingCommas:"error"},{documentFormattingEdits:!0,documentRangeFormattingEdits:!0,completionItems:!0,hovers:!0,documentSymbols:!0,tokens:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0});E.languages.json={jsonDefaults:u},E.languages.register({id:"json",extensions:[".json",".bowerrc",".jshintrc",".jscsrc",".eslintrc",".babelrc",".har"],aliases:["JSON","json"],mimetypes:["application/json"]}),E.languages.onLanguage("json",()=>{(function g(){return e.e(3790).then(e.bind(e,33790))})().then(i=>i.setupMode(u))})},70786:(Xe,we,e)=>{e.d(we,{TG:()=>l});var f=e(8673),P=Object.defineProperty,r=Object.getOwnPropertyDescriptor,y=Object.getOwnPropertyNames,v=Object.prototype.hasOwnProperty,S=(A,k,R,O)=>{if(k&&"object"==typeof k||"function"==typeof k)for(let W of y(k))!v.call(A,W)&&W!==R&&P(A,W,{get:()=>k[W],enumerable:!(O=r(k,W))||O.enumerable});return A},L={};S(L,f,"default");var p=(A=>(A[A.None=0]="None",A[A.CommonJS=1]="CommonJS",A[A.AMD=2]="AMD",A[A.UMD=3]="UMD",A[A.System=4]="System",A[A.ES2015=5]="ES2015",A[A.ESNext=99]="ESNext",A))(p||{}),c=(A=>(A[A.None=0]="None",A[A.Preserve=1]="Preserve",A[A.React=2]="React",A[A.ReactNative=3]="ReactNative",A[A.ReactJSX=4]="ReactJSX",A[A.ReactJSXDev=5]="ReactJSXDev",A))(c||{}),u=(A=>(A[A.CarriageReturnLineFeed=0]="CarriageReturnLineFeed",A[A.LineFeed=1]="LineFeed",A))(u||{}),g=(A=>(A[A.ES3=0]="ES3",A[A.ES5=1]="ES5",A[A.ES2015=2]="ES2015",A[A.ES2016=3]="ES2016",A[A.ES2017=4]="ES2017",A[A.ES2018=5]="ES2018",A[A.ES2019=6]="ES2019",A[A.ES2020=7]="ES2020",A[A.ESNext=99]="ESNext",A[A.JSON=100]="JSON",A[A.Latest=99]="Latest",A))(g||{}),i=(A=>(A[A.Classic=1]="Classic",A[A.NodeJs=2]="NodeJs",A))(i||{}),d=class{_onDidChange=new L.Emitter;_onDidExtraLibsChange=new L.Emitter;_extraLibs;_removedExtraLibs;_eagerModelSync;_compilerOptions;_diagnosticsOptions;_workerOptions;_onDidExtraLibsChangeTimeout;_inlayHintsOptions;_modeConfiguration;constructor(A,k,R,O,W){this._extraLibs=Object.create(null),this._removedExtraLibs=Object.create(null),this._eagerModelSync=!1,this.setCompilerOptions(A),this.setDiagnosticsOptions(k),this.setWorkerOptions(R),this.setInlayHintsOptions(O),this.setModeConfiguration(W),this._onDidExtraLibsChangeTimeout=-1}get onDidChange(){return this._onDidChange.event}get onDidExtraLibsChange(){return this._onDidExtraLibsChange.event}get modeConfiguration(){return this._modeConfiguration}get workerOptions(){return this._workerOptions}get inlayHintsOptions(){return this._inlayHintsOptions}getExtraLibs(){return this._extraLibs}addExtraLib(A,k){let R;if(R=typeof k>"u"?`ts:extralib-${Math.random().toString(36).substring(2,15)}`:k,this._extraLibs[R]&&this._extraLibs[R].content===A)return{dispose:()=>{}};let O=1;return this._removedExtraLibs[R]&&(O=this._removedExtraLibs[R]+1),this._extraLibs[R]&&(O=this._extraLibs[R].version+1),this._extraLibs[R]={content:A,version:O},this._fireOnDidExtraLibsChangeSoon(),{dispose:()=>{let W=this._extraLibs[R];W&&W.version===O&&(delete this._extraLibs[R],this._removedExtraLibs[R]=O,this._fireOnDidExtraLibsChangeSoon())}}}setExtraLibs(A){for(const k in this._extraLibs)this._removedExtraLibs[k]=this._extraLibs[k].version;if(this._extraLibs=Object.create(null),A&&A.length>0)for(const k of A){const R=k.filePath||`ts:extralib-${Math.random().toString(36).substring(2,15)}`;let W=1;this._removedExtraLibs[R]&&(W=this._removedExtraLibs[R]+1),this._extraLibs[R]={content:k.content,version:W}}this._fireOnDidExtraLibsChangeSoon()}_fireOnDidExtraLibsChangeSoon(){-1===this._onDidExtraLibsChangeTimeout&&(this._onDidExtraLibsChangeTimeout=window.setTimeout(()=>{this._onDidExtraLibsChangeTimeout=-1,this._onDidExtraLibsChange.fire(void 0)},0))}getCompilerOptions(){return this._compilerOptions}setCompilerOptions(A){this._compilerOptions=A||Object.create(null),this._onDidChange.fire(void 0)}getDiagnosticsOptions(){return this._diagnosticsOptions}setDiagnosticsOptions(A){this._diagnosticsOptions=A||Object.create(null),this._onDidChange.fire(void 0)}setWorkerOptions(A){this._workerOptions=A||Object.create(null),this._onDidChange.fire(void 0)}setInlayHintsOptions(A){this._inlayHintsOptions=A||Object.create(null),this._onDidChange.fire(void 0)}setMaximumWorkerIdleTime(A){}setEagerModelSync(A){this._eagerModelSync=A}getEagerModelSync(){return this._eagerModelSync}setModeConfiguration(A){this._modeConfiguration=A||Object.create(null),this._onDidChange.fire(void 0)}},m={completionItems:!0,hovers:!0,documentSymbols:!0,definitions:!0,references:!0,documentHighlights:!0,rename:!0,diagnostics:!0,documentRangeFormattingEdits:!0,signatureHelp:!0,onTypeFormattingEdits:!0,codeActions:!0,inlayHints:!0},l=new d({allowNonTsExtensions:!0,target:99},{noSemanticValidation:!1,noSyntaxValidation:!1,onlyVisible:!1},{},{},m),I=new d({allowNonTsExtensions:!0,allowJs:!0,target:99},{noSemanticValidation:!0,noSyntaxValidation:!1,onlyVisible:!1},{},{},m);function N(){return e.e(2707).then(e.bind(e,22707))}L.languages.typescript={ModuleKind:p,JsxEmit:c,NewLineKind:u,ScriptTarget:g,ModuleResolutionKind:i,typescriptVersion:"5.0.2",typescriptDefaults:l,javascriptDefaults:I,getTypeScriptWorker:()=>N().then(A=>A.getTypeScriptWorker()),getJavaScriptWorker:()=>N().then(A=>A.getJavaScriptWorker())},L.languages.onLanguage("typescript",()=>N().then(A=>A.setupTypeScript(l))),L.languages.onLanguage("javascript",()=>N().then(A=>A.setupJavaScript(I)))},37190:(Xe,we,e)=>{e.d(we,{NC:()=>L,aj:()=>p});let P=typeof document<"u"&&document.location&&document.location.hash.indexOf("pseudo=true")>=0;function L(i,d,...a){return function y(i,d){let a;return a=0===d.length?i:i.replace(/\{(\d+)\}/g,(m,l)=>{const w=d[l[0]];let D=m;return"string"==typeof w?D=w:("number"==typeof w||"boolean"==typeof w||null==w)&&(D=String(w)),D}),P&&(a="\uff3b"+a.replace(/[aouei]/g,"$&$&")+"\uff3d"),a}(d,a)}function p(i){}},74875:(Xe,we,e)=>{e.d(we,{F:()=>r,U:()=>y});var f=e(66221);const r=(0,e(12065).yh)("accessibilityService"),y=new f.uy("accessibilityModeEnabled",!1)},65227:(Xe,we,e)=>{e.d(we,{Mm:()=>Se,Id:()=>oe,vr:()=>ve,LJ:()=>ue});var f=e(20274),P=e(89271),r=e(42243),y=e(88831),v=e(54457),S=e(9467),T=e(78694),E=e(88593),L=e(93379),p=e.n(L),c=e(7795),u=e.n(c),g=e(90569),i=e.n(g),d=e(3565),a=e.n(d),m=e(19216),l=e.n(m),I=e(44589),w=e.n(I),D=e(51854),N={};N.styleTagTransform=w(),N.setAttributes=a(),N.insert=i().bind(null,"head"),N.domAPI=u(),N.insertStyleElement=l(),p()(D.Z,N);var R=e(37190),O=e(63032),z=e(66221),U=e(76485),ee=e(12065),B=e(21536),G=e(22438),se=e(93476),j=e(23527),$=e(35053),K=e(13054),J=e(91402),te=e(99745),ne=e(36547),_=e(74875),ae=function(Y,x,F,ie){var Pe,Ce=arguments.length,ke=Ce<3?x:null===ie?ie=Object.getOwnPropertyDescriptor(x,F):ie;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ke=Reflect.decorate(Y,x,F,ie);else for(var xe=Y.length-1;xe>=0;xe--)(Pe=Y[xe])&&(ke=(Ce<3?Pe(ke):Ce>3?Pe(x,F,ke):Pe(x,F))||ke);return Ce>3&&ke&&Object.defineProperty(x,F,ke),ke},ge=function(Y,x){return function(F,ie){x(F,ie,Y)}},_e=function(Y,x,F,ie){return new(F||(F=Promise))(function(ke,Pe){function xe(pe){try{be(ie.next(pe))}catch(Q){Pe(Q)}}function fe(pe){try{be(ie.throw(pe))}catch(Q){Pe(Q)}}function be(pe){pe.done?ke(pe.value):function Ce(ke){return ke instanceof F?ke:new F(function(Pe){Pe(ke)})}(pe.value).then(xe,fe)}be((ie=ie.apply(Y,x||[])).next())})};function ue(Y,x,F,ie){const Ce=Y.getActions(x),ke=f._q.getInstance();Ie(Ce,F,ke.keyStatus.altKey||(E.ED||E.IJ)&&ke.keyStatus.shiftKey,ie?xe=>xe===ie:xe=>"navigation"===xe)}function ve(Y,x,F,ie,Ce,ke){Ie(Y.getActions(x),F,!1,"string"==typeof ie?fe=>fe===ie:ie,Ce,ke)}function Ie(Y,x,F,ie=(Pe=>"navigation"===Pe),Ce=(()=>!1),ke=!1){let Pe,xe;Array.isArray(x)?(Pe=x,xe=x):(Pe=x.primary,xe=x.secondary);const fe=new Set;for(const[be,pe]of Y){let Q;ie(be)?(Q=Pe,Q.length>0&&ke&&Q.push(new v.Z0)):(Q=xe,Q.length>0&&Q.push(new v.Z0));for(let le of pe){F&&(le=le instanceof O.U8&&le.alt?le.alt:le);const Fe=Q.push(le);le instanceof v.wY&&fe.add({group:be,action:le,index:Fe-1})}}for(const{group:be,action:pe,index:Q}of fe){const le=ie(be)?Pe:xe,Fe=pe.actions;Fe.length<=1&&Ce(pe,be,le.length)&&le.splice(Q,1,...Fe)}}let Se=class extends r.gU{constructor(x,F,ie,Ce,ke,Pe,xe,fe){super(void 0,x,{icon:!(!x.class&&!x.item.icon),label:!x.class&&!x.item.icon,draggable:F?.draggable,keybinding:F?.keybinding,hoverDelegate:F?.hoverDelegate}),this._keybindingService=ie,this._notificationService=Ce,this._contextKeyService=ke,this._themeService=Pe,this._contextMenuService=xe,this._accessibilityService=fe,this._wantsAltCommand=!1,this._itemClassDispose=this._register(new T.XK),this._altKey=f._q.getInstance()}get _menuItemAction(){return this._action}get _commandAction(){return this._wantsAltCommand&&this._menuItemAction.alt||this._menuItemAction}onClick(x){return _e(this,void 0,void 0,function*(){x.preventDefault(),x.stopPropagation();try{yield this.actionRunner.run(this._commandAction,this._context)}catch(F){this._notificationService.error(F)}})}render(x){if(super.render(x),x.classList.add("menu-entry"),this.options.icon&&this._updateItemClass(this._menuItemAction.item),this._menuItemAction.alt){let F=!1;const ie=()=>{var Ce;const ke=!(null===(Ce=this._menuItemAction.alt)||void 0===Ce||!Ce.enabled)&&(!this._accessibilityService.isMotionReduced()||F)&&(this._altKey.keyStatus.altKey||this._altKey.keyStatus.shiftKey&&F);ke!==this._wantsAltCommand&&(this._wantsAltCommand=ke,this.updateLabel(),this.updateTooltip(),this.updateClass())};this._register(this._altKey.event(ie)),this._register((0,f.nm)(x,"mouseleave",Ce=>{F=!1,ie()})),this._register((0,f.nm)(x,"mouseenter",Ce=>{F=!0,ie()})),ie()}}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this._commandAction.label)}getTooltip(){var x;const F=this._keybindingService.lookupKeybinding(this._commandAction.id,this._contextKeyService),ie=F&&F.getLabel(),Ce=this._commandAction.tooltip||this._commandAction.label;let ke=ie?(0,R.NC)("titleAndKb","{0} ({1})",Ce,ie):Ce;if(!this._wantsAltCommand&&null!==(x=this._menuItemAction.alt)&&void 0!==x&&x.enabled){const Pe=this._menuItemAction.alt.tooltip||this._menuItemAction.alt.label,xe=this._keybindingService.lookupKeybinding(this._menuItemAction.alt.id,this._contextKeyService),fe=xe&&xe.getLabel(),be=fe?(0,R.NC)("titleAndKb","{0} ({1})",Pe,fe):Pe;ke=(0,R.NC)("titleAndKbAndAlt","{0}\n[{1}] {2}",ke,S.xo.modifierLabels[E.OS].altKey,be)}return ke}updateClass(){this.options.icon&&(this._commandAction!==this._menuItemAction?this._menuItemAction.alt&&this._updateItemClass(this._menuItemAction.alt.item):this._updateItemClass(this._menuItemAction.item))}_updateItemClass(x){this._itemClassDispose.value=void 0;const{element:F,label:ie}=this;if(!F||!ie)return;const Ce=this._commandAction.checked&&function W(Y){return!!Y&&void 0!==Y.condition}(x.toggled)&&x.toggled.icon?x.toggled.icon:x.icon;if(Ce)if($.k.isThemeIcon(Ce)){const ke=$.k.asClassNameArray(Ce);ie.classList.add(...ke),this._itemClassDispose.value=(0,T.OF)(()=>{ie.classList.remove(...ke)})}else ie.style.backgroundImage=(0,K._T)(this._themeService.getColorTheme().type)?(0,f.wY)(Ce.dark):(0,f.wY)(Ce.light),ie.classList.add("icon"),this._itemClassDispose.value=(0,T.F8)((0,T.OF)(()=>{ie.style.backgroundImage="",ie.classList.remove("icon")}),this._themeService.onDidColorThemeChange(()=>{this.updateClass()}))}};Se=ae([ge(2,B.d),ge(3,G.lT),ge(4,z.i6),ge(5,j.XE),ge(6,U.i),ge(7,_.F)],Se);let Ve=class extends y.C{constructor(x,F,ie,Ce,ke){var Pe,xe,fe;const be=Object.assign(Object.assign({},F),{menuAsChild:null!==(Pe=F?.menuAsChild)&&void 0!==Pe&&Pe,classNames:null!==(xe=F?.classNames)&&void 0!==xe?xe:$.k.isThemeIcon(x.item.icon)?$.k.asClassName(x.item.icon):void 0,keybindingProvider:null!==(fe=F?.keybindingProvider)&&void 0!==fe?fe:pe=>ie.lookupKeybinding(pe.id)});super(x,{getActions:()=>x.actions},Ce,be),this._keybindingService=ie,this._contextMenuService=Ce,this._themeService=ke}render(x){super.render(x),(0,J.p_)(this.element),x.classList.add("menu-entry");const F=this._action,{icon:ie}=F.item;if(ie&&!$.k.isThemeIcon(ie)){this.element.classList.add("icon");const Ce=()=>{this.element&&(this.element.style.backgroundImage=(0,K._T)(this._themeService.getColorTheme().type)?(0,f.wY)(ie.dark):(0,f.wY)(ie.light))};Ce(),this._register(this._themeService.onDidColorThemeChange(()=>{Ce()}))}}};Ve=ae([ge(2,B.d),ge(3,U.i),ge(4,j.XE)],Ve);let De=class extends r.YH{constructor(x,F,ie,Ce,ke,Pe,xe,fe){var be,pe,Q;let le;super(null,x),this._keybindingService=ie,this._notificationService=Ce,this._contextMenuService=ke,this._menuService=Pe,this._instaService=xe,this._storageService=fe,this._container=null,this._options=F,this._storageKey=`${x.item.submenu.id}_lastActionId`;const Fe=F?.persistLastActionId?fe.get(this._storageKey,1):void 0;Fe&&(le=x.actions.find(Je=>Fe===Je.id)),le||(le=x.actions[0]),this._defaultAction=this._instaService.createInstance(Se,le,{keybinding:this._getDefaultActionKeybindingLabel(le)});const He=Object.assign(Object.assign({keybindingProvider:Je=>this._keybindingService.lookupKeybinding(Je.id)},F),{menuAsChild:null===(be=F?.menuAsChild)||void 0===be||be,classNames:null!==(pe=F?.classNames)&&void 0!==pe?pe:["codicon","codicon-chevron-down"],actionRunner:null!==(Q=F?.actionRunner)&&void 0!==Q?Q:new v.Wi});this._dropdown=new y.C(x,x.actions,this._contextMenuService,He),this._dropdown.actionRunner.onDidRun(Je=>{Je.action instanceof O.U8&&this.update(Je.action)})}update(x){var F;!(null===(F=this._options)||void 0===F)&&F.persistLastActionId&&this._storageService.store(this._storageKey,x.id,1,1),this._defaultAction.dispose(),this._defaultAction=this._instaService.createInstance(Se,x,{keybinding:this._getDefaultActionKeybindingLabel(x)}),this._defaultAction.actionRunner=new class extends v.Wi{runAction(ie,Ce){return _e(this,void 0,void 0,function*(){yield ie.run(void 0)})}},this._container&&this._defaultAction.render((0,f.Ce)(this._container,(0,f.$)(".action-container")))}_getDefaultActionKeybindingLabel(x){var F;let ie;if(null!==(F=this._options)&&void 0!==F&&F.renderKeybindingWithDefaultActionLabel){const Ce=this._keybindingService.lookupKeybinding(x.id);Ce&&(ie=`(${Ce.getLabel()})`)}return ie}setActionContext(x){super.setActionContext(x),this._defaultAction.setActionContext(x),this._dropdown.setActionContext(x)}render(x){this._container=x,super.render(this._container),this._container.classList.add("monaco-dropdown-with-default");const F=(0,f.$)(".action-container");this._defaultAction.render((0,f.R3)(this._container,F)),this._register((0,f.nm)(F,f.tw.KEY_DOWN,Ce=>{const ke=new P.y(Ce);ke.equals(17)&&(this._defaultAction.element.tabIndex=-1,this._dropdown.focus(),ke.stopPropagation())}));const ie=(0,f.$)(".dropdown-action-container");this._dropdown.render((0,f.R3)(this._container,ie)),this._register((0,f.nm)(ie,f.tw.KEY_DOWN,Ce=>{var ke;const Pe=new P.y(Ce);Pe.equals(15)&&(this._defaultAction.element.tabIndex=0,this._dropdown.setFocusable(!1),null===(ke=this._defaultAction.element)||void 0===ke||ke.focus(),Pe.stopPropagation())}))}focus(x){x?this._dropdown.focus():(this._defaultAction.element.tabIndex=0,this._defaultAction.element.focus())}blur(){this._defaultAction.element.tabIndex=-1,this._dropdown.blur(),this._container.blur()}setFocusable(x){x?this._defaultAction.element.tabIndex=0:(this._defaultAction.element.tabIndex=-1,this._dropdown.setFocusable(!1))}dispose(){this._defaultAction.dispose(),this._dropdown.dispose(),super.dispose()}};De=ae([ge(2,B.d),ge(3,G.lT),ge(4,U.i),ge(5,O.co),ge(6,ee.TG),ge(7,se.Uy)],De);let ye=class extends r.Lc{constructor(x,F){super(null,x,x.actions.map(ie=>({text:ie.id===v.Z0.ID?"\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500":ie.label,isDisabled:!ie.enabled})),0,F,ne.BM,{ariaLabel:x.tooltip,optionsAsChildren:!0}),this.select(Math.max(0,x.actions.findIndex(ie=>ie.checked)))}render(x){super.render(x),x.style.borderColor=(0,te.n_1)(te.a9O)}runAction(x,F){const ie=this.action.actions[F];ie&&this.actionRunner.run(ie)}};function oe(Y,x,F){return x instanceof O.U8?Y.createInstance(Se,x,F):x instanceof O.NZ?x.item.isSelection?Y.createInstance(ye,x):x.item.rememberDefaultAction?Y.createInstance(De,x,Object.assign(Object.assign({},F),{persistLastActionId:!0})):Y.createInstance(Ve,x,F):void 0}ye=ae([ge(1,U.u)],ye)},63032:(Xe,we,e)=>{e.d(we,{BH:()=>I,Ke:()=>N,NZ:()=>w,U8:()=>D,co:()=>m,eH:()=>a,f6:()=>d,r1:()=>A,vr:()=>i});var g,f=e(54457),P=e(35053),r=e(58178),y=e(78694),v=e(86211),S=e(11813),T=e(66221),E=e(12065),L=e(31498),c=function(k,R){return function(O,W){R(O,W,k)}},u=function(k,R){var O={};for(var W in k)Object.prototype.hasOwnProperty.call(k,W)&&R.indexOf(W)<0&&(O[W]=k[W]);if(null!=k&&"function"==typeof Object.getOwnPropertySymbols){var z=0;for(W=Object.getOwnPropertySymbols(k);z<W.length;z++)R.indexOf(W[z])<0&&Object.prototype.propertyIsEnumerable.call(k,W[z])&&(O[W[z]]=k[W[z]])}return O};function i(k){return void 0!==k.command}function d(k){return void 0!==k.submenu}class a{constructor(R){if(a._instances.has(R))throw new TypeError(`MenuId with identifier '${R}' already exists. Use MenuId.for(ident) or a unique identifier`);a._instances.set(R,this),this.id=R}}a._instances=new Map,a.CommandPalette=new a("CommandPalette"),a.DebugBreakpointsContext=new a("DebugBreakpointsContext"),a.DebugCallStackContext=new a("DebugCallStackContext"),a.DebugConsoleContext=new a("DebugConsoleContext"),a.DebugVariablesContext=new a("DebugVariablesContext"),a.DebugWatchContext=new a("DebugWatchContext"),a.DebugToolBar=new a("DebugToolBar"),a.DebugToolBarStop=new a("DebugToolBarStop"),a.EditorContext=new a("EditorContext"),a.SimpleEditorContext=new a("SimpleEditorContext"),a.EditorContent=new a("EditorContent"),a.EditorLineNumberContext=new a("EditorLineNumberContext"),a.EditorContextCopy=new a("EditorContextCopy"),a.EditorContextPeek=new a("EditorContextPeek"),a.EditorContextShare=new a("EditorContextShare"),a.EditorTitle=new a("EditorTitle"),a.EditorTitleRun=new a("EditorTitleRun"),a.EditorTitleContext=new a("EditorTitleContext"),a.EditorTitleContextShare=new a("EditorTitleContextShare"),a.EmptyEditorGroup=new a("EmptyEditorGroup"),a.EmptyEditorGroupContext=new a("EmptyEditorGroupContext"),a.EditorTabsBarContext=new a("EditorTabsBarContext"),a.ExplorerContext=new a("ExplorerContext"),a.ExplorerContextShare=new a("ExplorerContextShare"),a.ExtensionContext=new a("ExtensionContext"),a.GlobalActivity=new a("GlobalActivity"),a.CommandCenter=new a("CommandCenter"),a.LayoutControlMenuSubmenu=new a("LayoutControlMenuSubmenu"),a.LayoutControlMenu=new a("LayoutControlMenu"),a.MenubarMainMenu=new a("MenubarMainMenu"),a.MenubarAppearanceMenu=new a("MenubarAppearanceMenu"),a.MenubarDebugMenu=new a("MenubarDebugMenu"),a.MenubarEditMenu=new a("MenubarEditMenu"),a.MenubarCopy=new a("MenubarCopy"),a.MenubarFileMenu=new a("MenubarFileMenu"),a.MenubarGoMenu=new a("MenubarGoMenu"),a.MenubarHelpMenu=new a("MenubarHelpMenu"),a.MenubarLayoutMenu=new a("MenubarLayoutMenu"),a.MenubarNewBreakpointMenu=new a("MenubarNewBreakpointMenu"),a.PanelAlignmentMenu=new a("PanelAlignmentMenu"),a.PanelPositionMenu=new a("PanelPositionMenu"),a.MenubarPreferencesMenu=new a("MenubarPreferencesMenu"),a.MenubarRecentMenu=new a("MenubarRecentMenu"),a.MenubarSelectionMenu=new a("MenubarSelectionMenu"),a.MenubarShare=new a("MenubarShare"),a.MenubarSwitchEditorMenu=new a("MenubarSwitchEditorMenu"),a.MenubarSwitchGroupMenu=new a("MenubarSwitchGroupMenu"),a.MenubarTerminalMenu=new a("MenubarTerminalMenu"),a.MenubarViewMenu=new a("MenubarViewMenu"),a.MenubarHomeMenu=new a("MenubarHomeMenu"),a.OpenEditorsContext=new a("OpenEditorsContext"),a.OpenEditorsContextShare=new a("OpenEditorsContextShare"),a.ProblemsPanelContext=new a("ProblemsPanelContext"),a.SCMChangeContext=new a("SCMChangeContext"),a.SCMResourceContext=new a("SCMResourceContext"),a.SCMResourceContextShare=new a("SCMResourceContextShare"),a.SCMResourceFolderContext=new a("SCMResourceFolderContext"),a.SCMResourceGroupContext=new a("SCMResourceGroupContext"),a.SCMSourceControl=new a("SCMSourceControl"),a.SCMTitle=new a("SCMTitle"),a.SearchContext=new a("SearchContext"),a.SearchActionMenu=new a("SearchActionContext"),a.StatusBarWindowIndicatorMenu=new a("StatusBarWindowIndicatorMenu"),a.StatusBarRemoteIndicatorMenu=new a("StatusBarRemoteIndicatorMenu"),a.StickyScrollContext=new a("StickyScrollContext"),a.TestItem=new a("TestItem"),a.TestItemGutter=new a("TestItemGutter"),a.TestMessageContext=new a("TestMessageContext"),a.TestMessageContent=new a("TestMessageContent"),a.TestPeekElement=new a("TestPeekElement"),a.TestPeekTitle=new a("TestPeekTitle"),a.TouchBarContext=new a("TouchBarContext"),a.TitleBarContext=new a("TitleBarContext"),a.TitleBarTitleContext=new a("TitleBarTitleContext"),a.TunnelContext=new a("TunnelContext"),a.TunnelPrivacy=new a("TunnelPrivacy"),a.TunnelProtocol=new a("TunnelProtocol"),a.TunnelPortInline=new a("TunnelInline"),a.TunnelTitle=new a("TunnelTitle"),a.TunnelLocalAddressInline=new a("TunnelLocalAddressInline"),a.TunnelOriginInline=new a("TunnelOriginInline"),a.ViewItemContext=new a("ViewItemContext"),a.ViewContainerTitle=new a("ViewContainerTitle"),a.ViewContainerTitleContext=new a("ViewContainerTitleContext"),a.ViewTitle=new a("ViewTitle"),a.ViewTitleContext=new a("ViewTitleContext"),a.CommentEditorActions=new a("CommentEditorActions"),a.CommentThreadTitle=new a("CommentThreadTitle"),a.CommentThreadActions=new a("CommentThreadActions"),a.CommentThreadAdditionalActions=new a("CommentThreadAdditionalActions"),a.CommentThreadTitleContext=new a("CommentThreadTitleContext"),a.CommentThreadCommentContext=new a("CommentThreadCommentContext"),a.CommentTitle=new a("CommentTitle"),a.CommentActions=new a("CommentActions"),a.InteractiveToolbar=new a("InteractiveToolbar"),a.InteractiveCellTitle=new a("InteractiveCellTitle"),a.InteractiveCellDelete=new a("InteractiveCellDelete"),a.InteractiveCellExecute=new a("InteractiveCellExecute"),a.InteractiveInputExecute=new a("InteractiveInputExecute"),a.NotebookToolbar=new a("NotebookToolbar"),a.NotebookStickyScrollContext=new a("NotebookStickyScrollContext"),a.NotebookCellTitle=new a("NotebookCellTitle"),a.NotebookCellDelete=new a("NotebookCellDelete"),a.NotebookCellInsert=new a("NotebookCellInsert"),a.NotebookCellBetween=new a("NotebookCellBetween"),a.NotebookCellListTop=new a("NotebookCellTop"),a.NotebookCellExecute=new a("NotebookCellExecute"),a.NotebookCellExecutePrimary=new a("NotebookCellExecutePrimary"),a.NotebookDiffCellInputTitle=new a("NotebookDiffCellInputTitle"),a.NotebookDiffCellMetadataTitle=new a("NotebookDiffCellMetadataTitle"),a.NotebookDiffCellOutputsTitle=new a("NotebookDiffCellOutputsTitle"),a.NotebookOutputToolbar=new a("NotebookOutputToolbar"),a.NotebookEditorLayoutConfigure=new a("NotebookEditorLayoutConfigure"),a.NotebookKernelSource=new a("NotebookKernelSource"),a.BulkEditTitle=new a("BulkEditTitle"),a.BulkEditContext=new a("BulkEditContext"),a.TimelineItemContext=new a("TimelineItemContext"),a.TimelineTitle=new a("TimelineTitle"),a.TimelineTitleContext=new a("TimelineTitleContext"),a.TimelineFilterSubMenu=new a("TimelineFilterSubMenu"),a.AccountsContext=new a("AccountsContext"),a.PanelTitle=new a("PanelTitle"),a.AuxiliaryBarTitle=new a("AuxiliaryBarTitle"),a.TerminalInstanceContext=new a("TerminalInstanceContext"),a.TerminalEditorInstanceContext=new a("TerminalEditorInstanceContext"),a.TerminalNewDropdownContext=new a("TerminalNewDropdownContext"),a.TerminalTabContext=new a("TerminalTabContext"),a.TerminalTabEmptyAreaContext=new a("TerminalTabEmptyAreaContext"),a.WebviewContext=new a("WebviewContext"),a.InlineCompletionsActions=new a("InlineCompletionsActions"),a.NewFile=new a("NewFile"),a.MergeInput1Toolbar=new a("MergeToolbar1Toolbar"),a.MergeInput2Toolbar=new a("MergeToolbar2Toolbar"),a.MergeBaseToolbar=new a("MergeBaseToolbar"),a.MergeInputResultToolbar=new a("MergeToolbarResultToolbar"),a.InlineSuggestionToolbar=new a("InlineSuggestionToolbar"),a.ChatContext=new a("ChatContext"),a.ChatCodeBlock=new a("ChatCodeblock"),a.ChatMessageTitle=new a("ChatMessageTitle"),a.ChatExecute=new a("ChatExecute"),a.ChatInputSide=new a("ChatInputSide"),a.AccessibleView=new a("AccessibleView");const m=(0,E.yh)("menuService");class l{static for(R){let O=this._all.get(R);return O||(O=new l(R),this._all.set(R,O)),O}static merge(R){const O=new Set;for(const W of R)W instanceof l&&O.add(W.id);return O}constructor(R){this.id=R,this.has=O=>O===R}}l._all=new Map;const I=new class{constructor(){this._commands=new Map,this._menuItems=new Map,this._onDidChangeMenu=new r.SZ({merge:l.merge}),this.onDidChangeMenu=this._onDidChangeMenu.event}addCommand(k){return this._commands.set(k.id,k),this._onDidChangeMenu.fire(l.for(a.CommandPalette)),(0,y.OF)(()=>{this._commands.delete(k.id)&&this._onDidChangeMenu.fire(l.for(a.CommandPalette))})}getCommand(k){return this._commands.get(k)}getCommands(){const k=new Map;return this._commands.forEach((R,O)=>k.set(O,R)),k}appendMenuItem(k,R){let O=this._menuItems.get(k);O||(O=new v.S,this._menuItems.set(k,O));const W=O.push(R);return this._onDidChangeMenu.fire(l.for(k)),(0,y.OF)(()=>{W(),this._onDidChangeMenu.fire(l.for(k))})}appendMenuItems(k){const R=new y.SL;for(const{id:O,item:W}of k)R.add(this.appendMenuItem(O,W));return R}getMenuItems(k){let R;return R=this._menuItems.has(k)?[...this._menuItems.get(k)]:[],k===a.CommandPalette&&this._appendImplicitItems(R),R}_appendImplicitItems(k){const R=new Set;for(const O of k)i(O)&&(R.add(O.command.id),O.alt&&R.add(O.alt.id));this._commands.forEach((O,W)=>{R.has(W)||k.push({command:O})})}};class w extends f.wY{constructor(R,O,W){super(`submenuitem.${R.submenu.id}`,"string"==typeof R.title?R.title:R.title.value,W,"submenu"),this.item=R,this.hideActions=O}}let D=g=class{static label(R,O){return O?.renderShortTitle&&R.shortTitle?"string"==typeof R.shortTitle?R.shortTitle:R.shortTitle.value:"string"==typeof R.title?R.title:R.title.value}constructor(R,O,W,z,U,ee){var B,G;let se;if(this.hideActions=z,this._commandService=ee,this.id=R.id,this.label=g.label(R,W),this.tooltip=null!==(G="string"==typeof R.tooltip?R.tooltip:null===(B=R.tooltip)||void 0===B?void 0:B.value)&&void 0!==G?G:"",this.enabled=!R.precondition||U.contextMatchesRules(R.precondition),this.checked=void 0,R.toggled){const j=R.toggled.condition?R.toggled:{condition:R.toggled};this.checked=U.contextMatchesRules(j.condition),this.checked&&j.tooltip&&(this.tooltip="string"==typeof j.tooltip?j.tooltip:j.tooltip.value),this.checked&&P.k.isThemeIcon(j.icon)&&(se=j.icon),this.checked&&j.title&&(this.label="string"==typeof j.title?j.title:j.title.value)}se||(se=P.k.isThemeIcon(R.icon)?R.icon:void 0),this.item=R,this.alt=O?new g(O,void 0,W,z,U,ee):void 0,this._options=W,this.class=se&&P.k.asClassName(se)}run(...R){var O,W;let z=[];return!(null===(O=this._options)||void 0===O)&&O.arg&&(z=[...z,this._options.arg]),!(null===(W=this._options)||void 0===W)&&W.shouldForwardArgs&&(z=[...z,...R]),this._commandService.executeCommand(this.id,...z)}};D=g=function(k,R,O,W){var ee,z=arguments.length,U=z<3?R:null===W?W=Object.getOwnPropertyDescriptor(R,O):W;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)U=Reflect.decorate(k,R,O,W);else for(var B=k.length-1;B>=0;B--)(ee=k[B])&&(U=(z<3?ee(U):z>3?ee(R,O,U):ee(R,O))||U);return z>3&&U&&Object.defineProperty(R,O,U),U}([c(4,T.i6),c(5,S.H)],D);class N{constructor(R){this.desc=R}}function A(k){const R=new y.SL,O=new k,W=O.desc,{f1:z,menu:U,keybinding:ee,description:B}=W,G=u(W,["f1","menu","keybinding","description"]);if(R.add(S.P.registerCommand({id:G.id,handler:(se,...j)=>O.run(se,...j),description:B})),Array.isArray(U))for(const se of U)R.add(I.appendMenuItem(se.id,Object.assign({command:Object.assign(Object.assign({},G),{precondition:null===se.precondition?void 0:G.precondition})},se)));else U&&R.add(I.appendMenuItem(U.id,Object.assign({command:Object.assign(Object.assign({},G),{precondition:null===U.precondition?void 0:G.precondition})},U)));if(z&&(R.add(I.appendMenuItem(a.CommandPalette,{command:G,when:G.precondition})),R.add(I.addCommand(G))),Array.isArray(ee))for(const se of ee)R.add(L.W.registerKeybindingRule(Object.assign(Object.assign({},se),{id:G.id,when:G.precondition?T.Ao.and(G.precondition,se.when):se.when})));else ee&&R.add(L.W.registerKeybindingRule(Object.assign(Object.assign({},ee),{id:G.id,when:G.precondition?T.Ao.and(G.precondition,ee.when):ee.when})));return R}},15084:(Xe,we,e)=>{e.d(we,{e7:()=>r,y$:()=>S});var f=e(12065),P=e(37190);const r=(0,f.yh)("audioCue");class y{static register(E){return new y(E.fileName)}constructor(E){this.fileName=E}}y.error=y.register({fileName:"error.mp3"}),y.warning=y.register({fileName:"warning.mp3"}),y.foldedArea=y.register({fileName:"foldedAreas.mp3"}),y.break=y.register({fileName:"break.mp3"}),y.quickFixes=y.register({fileName:"quickFixes.mp3"}),y.taskCompleted=y.register({fileName:"taskCompleted.mp3"}),y.taskFailed=y.register({fileName:"taskFailed.mp3"}),y.terminalBell=y.register({fileName:"terminalBell.mp3"}),y.diffLineInserted=y.register({fileName:"diffLineInserted.mp3"}),y.diffLineDeleted=y.register({fileName:"diffLineDeleted.mp3"}),y.diffLineModified=y.register({fileName:"diffLineModified.mp3"}),y.chatRequestSent=y.register({fileName:"chatRequestSent.mp3"}),y.chatResponsePending=y.register({fileName:"chatResponsePending.mp3"}),y.chatResponseReceived1=y.register({fileName:"chatResponseReceived1.mp3"}),y.chatResponseReceived2=y.register({fileName:"chatResponseReceived2.mp3"}),y.chatResponseReceived3=y.register({fileName:"chatResponseReceived3.mp3"}),y.chatResponseReceived4=y.register({fileName:"chatResponseReceived4.mp3"});class v{constructor(E){this.randomOneOf=E}}class S{static register(E){const L=new v("randomOneOf"in E.sound?E.sound.randomOneOf:[E.sound]),p=new S(L,E.name,E.settingsKey);return S._audioCues.add(p),p}constructor(E,L,p){this.sound=E,this.name=L,this.settingsKey=p}}S._audioCues=new Set,S.error=S.register({name:(0,P.NC)("audioCues.lineHasError.name","Error on Line"),sound:y.error,settingsKey:"audioCues.lineHasError"}),S.warning=S.register({name:(0,P.NC)("audioCues.lineHasWarning.name","Warning on Line"),sound:y.warning,settingsKey:"audioCues.lineHasWarning"}),S.foldedArea=S.register({name:(0,P.NC)("audioCues.lineHasFoldedArea.name","Folded Area on Line"),sound:y.foldedArea,settingsKey:"audioCues.lineHasFoldedArea"}),S.break=S.register({name:(0,P.NC)("audioCues.lineHasBreakpoint.name","Breakpoint on Line"),sound:y.break,settingsKey:"audioCues.lineHasBreakpoint"}),S.inlineSuggestion=S.register({name:(0,P.NC)("audioCues.lineHasInlineSuggestion.name","Inline Suggestion on Line"),sound:y.quickFixes,settingsKey:"audioCues.lineHasInlineSuggestion"}),S.terminalQuickFix=S.register({name:(0,P.NC)("audioCues.terminalQuickFix.name","Terminal Quick Fix"),sound:y.quickFixes,settingsKey:"audioCues.terminalQuickFix"}),S.onDebugBreak=S.register({name:(0,P.NC)("audioCues.onDebugBreak.name","Debugger Stopped on Breakpoint"),sound:y.break,settingsKey:"audioCues.onDebugBreak"}),S.noInlayHints=S.register({name:(0,P.NC)("audioCues.noInlayHints","No Inlay Hints on Line"),sound:y.error,settingsKey:"audioCues.noInlayHints"}),S.taskCompleted=S.register({name:(0,P.NC)("audioCues.taskCompleted","Task Completed"),sound:y.taskCompleted,settingsKey:"audioCues.taskCompleted"}),S.taskFailed=S.register({name:(0,P.NC)("audioCues.taskFailed","Task Failed"),sound:y.taskFailed,settingsKey:"audioCues.taskFailed"}),S.terminalCommandFailed=S.register({name:(0,P.NC)("audioCues.terminalCommandFailed","Terminal Command Failed"),sound:y.error,settingsKey:"audioCues.terminalCommandFailed"}),S.terminalBell=S.register({name:(0,P.NC)("audioCues.terminalBell","Terminal Bell"),sound:y.terminalBell,settingsKey:"audioCues.terminalBell"}),S.notebookCellCompleted=S.register({name:(0,P.NC)("audioCues.notebookCellCompleted","Notebook Cell Completed"),sound:y.taskCompleted,settingsKey:"audioCues.notebookCellCompleted"}),S.notebookCellFailed=S.register({name:(0,P.NC)("audioCues.notebookCellFailed","Notebook Cell Failed"),sound:y.taskFailed,settingsKey:"audioCues.notebookCellFailed"}),S.diffLineInserted=S.register({name:(0,P.NC)("audioCues.diffLineInserted","Diff Line Inserted"),sound:y.diffLineInserted,settingsKey:"audioCues.diffLineInserted"}),S.diffLineDeleted=S.register({name:(0,P.NC)("audioCues.diffLineDeleted","Diff Line Deleted"),sound:y.diffLineDeleted,settingsKey:"audioCues.diffLineDeleted"}),S.diffLineModified=S.register({name:(0,P.NC)("audioCues.diffLineModified","Diff Line Modified"),sound:y.diffLineModified,settingsKey:"audioCues.diffLineModified"}),S.chatRequestSent=S.register({name:(0,P.NC)("audioCues.chatRequestSent","Chat Request Sent"),sound:y.chatRequestSent,settingsKey:"audioCues.chatRequestSent"}),S.chatResponseReceived=S.register({name:(0,P.NC)("audioCues.chatResponseReceived","Chat Response Received"),settingsKey:"audioCues.chatResponseReceived",sound:{randomOneOf:[y.chatResponseReceived1,y.chatResponseReceived2,y.chatResponseReceived3,y.chatResponseReceived4]}}),S.chatResponsePending=S.register({name:(0,P.NC)("audioCues.chatResponsePending","Chat Response Pending"),sound:y.chatResponsePending,settingsKey:"audioCues.chatResponsePending"})},2034:(Xe,we,e)=>{e.d(we,{p:()=>P});const P=(0,e(12065).yh)("clipboardService")},11813:(Xe,we,e)=>{e.d(we,{H:()=>T,P:()=>E});var f=e(58178),P=e(68733),r=e(78694),y=e(86211),v=e(91402);const T=(0,e(12065).yh)("commandService"),E=new class{constructor(){this._commands=new Map,this._onDidRegisterCommand=new f.Q5,this.onDidRegisterCommand=this._onDidRegisterCommand.event}registerCommand(L,p){if(!L)throw new Error("invalid command");if("string"==typeof L){if(!p)throw new Error("invalid command");return this.registerCommand({id:L,handler:p})}if(L.description){const d=[];for(const m of L.description.args)d.push(m.constraint);const a=L.handler;L.handler=function(m,...l){return(0,v.D8)(l,d),a(m,...l)}}const{id:c}=L;let u=this._commands.get(c);u||(u=new y.S,this._commands.set(c,u));const g=u.unshift(L),i=(0,r.OF)(()=>{g();const d=this._commands.get(c);d?.isEmpty()&&this._commands.delete(c)});return this._onDidRegisterCommand.fire(c),i}registerCommandAlias(L,p){return E.registerCommand(L,(c,...u)=>c.get(T).executeCommand(p,...u))}getCommand(L){const p=this._commands.get(L);if(p&&!p.isEmpty())return P.$.first(p)}getCommands(){const L=new Map;for(const p of this._commands.keys()){const c=this.getCommand(p);c&&L.set(p,c)}return L}};E.registerCommand("noop",()=>{})},47358:(Xe,we,e)=>{e.d(we,{KV:()=>y,Mt:()=>T,Od:()=>r,UI:()=>E,Ui:()=>P,xL:()=>v});const P=(0,e(12065).yh)("configurationService");function r(L,p){const c=Object.create(null);for(const u in L)y(c,u,L[u],p);return c}function y(L,p,c,u){const g=p.split("."),i=g.pop();let d=L;for(let a=0;a<g.length;a++){const m=g[a];let l=d[m];switch(typeof l){case"undefined":l=d[m]=Object.create(null);break;case"object":break;default:return void u(`Ignoring ${p} as ${g.slice(0,a+1).join(".")} is ${JSON.stringify(l)}`)}d=l}if("object"==typeof d&&null!==d)try{d[i]=c}catch{u(`Ignoring ${p} as ${g.join(".")} is ${JSON.stringify(d)}`)}else u(`Ignoring ${p} as ${g.join(".")} is ${JSON.stringify(d)}`)}function v(L,p){S(L,p.split("."))}function S(L,p){const c=p.shift();if(0!==p.length){if(-1!==Object.keys(L).indexOf(c)){const u=L[c];"object"==typeof u&&!Array.isArray(u)&&(S(u,p),0===Object.keys(u).length&&delete L[c])}}else delete L[c]}function T(L,p,c){const i=function u(d,a){let m=d;for(const l of a){if("object"!=typeof m||null===m)return;m=m[l]}return m}(L,p.split("."));return typeof i>"u"?c:i}function E(L){return L.replace(/[\[\]]/g,"")}},92891:(Xe,we,e)=>{e.d(we,{IP:()=>E,eU:()=>D,ny:()=>N});var f=e(31738),P=e(58178),r=e(91402),y=e(37190),v=e(47358),S=e(72162),T=e(81834);const E={Configuration:"base.contributions.configuration"},L={properties:{},patternProperties:{}},p={properties:{},patternProperties:{}},c={properties:{},patternProperties:{}},u={properties:{},patternProperties:{}},g={properties:{},patternProperties:{}},i={properties:{},patternProperties:{}},d="vscode://schemas/settings/resourceLanguage",a=T.B.as(S.I.JSONContribution),l="\\[([^\\]]+)\\]",I=new RegExp(l,"g"),w=`^(${l})+$`,D=new RegExp(w);function N(O){const W=[];if(D.test(O)){let z=I.exec(O);for(;z?.length;){const U=z[1].trim();U&&W.push(U),z=I.exec(O)}}return(0,f.EB)(W)}const k=new class m{constructor(){this.overrideIdentifiers=new Set,this._onDidSchemaChange=new P.Q5,this._onDidUpdateConfiguration=new P.Q5,this.configurationDefaultsOverrides=new Map,this.defaultLanguageConfigurationOverridesNode={id:"defaultOverrides",title:y.NC("defaultLanguageConfigurationOverrides.title","Default Language Configuration Overrides"),properties:{}},this.configurationContributors=[this.defaultLanguageConfigurationOverridesNode],this.resourceLanguageSettingsSchema={properties:{},patternProperties:{},additionalProperties:!0,allowTrailingCommas:!0,allowComments:!0},this.configurationProperties={},this.policyConfigurations=new Map,this.excludedConfigurationProperties={},a.registerSchema(d,this.resourceLanguageSettingsSchema),this.registerOverridePropertyPatternKey()}registerConfiguration(W,z=!0){this.registerConfigurations([W],z)}registerConfigurations(W,z=!0){const U=new Set;this.doRegisterConfigurations(W,z,U),a.registerSchema(d,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:U})}registerDefaultConfigurations(W){const z=new Set;this.doRegisterDefaultConfigurations(W,z),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:z,defaultsOverrides:!0})}doRegisterDefaultConfigurations(W,z){var U;const ee=[];for(const{overrides:B,source:G}of W)for(const se in B)if(z.add(se),D.test(se)){const j=this.configurationDefaultsOverrides.get(se),$=null!==(U=j?.valuesSources)&&void 0!==U?U:new Map;if(G)for(const ne of Object.keys(B[se]))$.set(ne,G);const K=Object.assign(Object.assign({},j?.value||{}),B[se]);this.configurationDefaultsOverrides.set(se,{source:G,value:K,valuesSources:$});const J=(0,v.UI)(se),te={type:"object",default:K,description:y.NC("defaultLanguageConfiguration.description","Configure settings to be overridden for the {0} language.",J),$ref:d,defaultDefaultValue:K,source:r.HD(G)?void 0:G,defaultValueSource:G};ee.push(...N(se)),this.configurationProperties[se]=te,this.defaultLanguageConfigurationOverridesNode.properties[se]=te}else{this.configurationDefaultsOverrides.set(se,{value:B[se],source:G});const j=this.configurationProperties[se];j&&(this.updatePropertyDefaultValue(se,j),this.updateSchema(se,j))}this.doRegisterOverrideIdentifiers(ee)}registerOverrideIdentifiers(W){this.doRegisterOverrideIdentifiers(W),this._onDidSchemaChange.fire()}doRegisterOverrideIdentifiers(W){for(const z of W)this.overrideIdentifiers.add(z);this.updateOverridePropertyPatternKey()}doRegisterConfigurations(W,z,U){W.forEach(ee=>{this.validateAndRegisterProperties(ee,z,ee.extensionInfo,ee.restrictedProperties,void 0,U),this.configurationContributors.push(ee),this.registerJSONConfiguration(ee)})}validateAndRegisterProperties(W,z=!0,U,ee,B=3,G){var se;B=r.Jp(W.scope)?B:W.scope;const j=W.properties;if(j)for(const K in j){const J=j[K];z&&R(K,J)?delete j[K]:(J.source=U,J.defaultDefaultValue=j[K].default,this.updatePropertyDefaultValue(K,J),D.test(K)?J.scope=void 0:(J.scope=r.Jp(J.scope)?B:J.scope,J.restricted=r.Jp(J.restricted)?!!ee?.includes(K):J.restricted),!j[K].hasOwnProperty("included")||j[K].included?(this.configurationProperties[K]=j[K],null!==(se=j[K].policy)&&void 0!==se&&se.name&&this.policyConfigurations.set(j[K].policy.name,K),!j[K].deprecationMessage&&j[K].markdownDeprecationMessage&&(j[K].deprecationMessage=j[K].markdownDeprecationMessage),G.add(K)):(this.excludedConfigurationProperties[K]=j[K],delete j[K]))}const $=W.allOf;if($)for(const K of $)this.validateAndRegisterProperties(K,z,U,ee,B,G)}getConfigurationProperties(){return this.configurationProperties}getPolicyConfigurations(){return this.policyConfigurations}registerJSONConfiguration(W){const z=U=>{const ee=U.properties;if(ee)for(const G in ee)this.updateSchema(G,ee[G]);const B=U.allOf;B?.forEach(z)};z(W)}updateSchema(W,z){switch(L.properties[W]=z,z.scope){case 1:p.properties[W]=z;break;case 2:c.properties[W]=z;break;case 6:u.properties[W]=z;break;case 3:g.properties[W]=z;break;case 4:i.properties[W]=z;break;case 5:i.properties[W]=z,this.resourceLanguageSettingsSchema.properties[W]=z}}updateOverridePropertyPatternKey(){for(const W of this.overrideIdentifiers.values()){const z=`[${W}]`,U={type:"object",description:y.NC("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:y.NC("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:d};this.updatePropertyDefaultValue(z,U),L.properties[z]=U,p.properties[z]=U,c.properties[z]=U,u.properties[z]=U,g.properties[z]=U,i.properties[z]=U}}registerOverridePropertyPatternKey(){const W={type:"object",description:y.NC("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:y.NC("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:d};L.patternProperties[w]=W,p.patternProperties[w]=W,c.patternProperties[w]=W,u.patternProperties[w]=W,g.patternProperties[w]=W,i.patternProperties[w]=W,this._onDidSchemaChange.fire()}updatePropertyDefaultValue(W,z){const U=this.configurationDefaultsOverrides.get(W);let ee=U?.value,B=U?.source;r.o8(ee)&&(ee=z.defaultDefaultValue,B=void 0),r.o8(ee)&&(ee=function A(O){switch(Array.isArray(O)?O[0]:O){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}(z.type)),z.default=ee,z.defaultValueSource=B}};function R(O,W){var z,U,ee,B;return O.trim()?D.test(O)?y.NC("config.property.languageDefault","Cannot register '{0}'. This matches property pattern '\\\\[.*\\\\]$' for describing language specific editor settings. Use 'configurationDefaults' contribution.",O):void 0!==k.getConfigurationProperties()[O]?y.NC("config.property.duplicate","Cannot register '{0}'. This property is already registered.",O):null!==(z=W.policy)&&void 0!==z&&z.name&&void 0!==k.getPolicyConfigurations().get(null===(U=W.policy)||void 0===U?void 0:U.name)?y.NC("config.policy.duplicate","Cannot register '{0}'. The associated policy {1} is already registered with {2}.",O,null===(ee=W.policy)||void 0===ee?void 0:ee.name,k.getPolicyConfigurations().get(null===(B=W.policy)||void 0===B?void 0:B.name)):null:y.NC("config.property.empty","Cannot register an empty property")}T.B.add(E.Configuration,k)},66221:(Xe,we,e)=>{e.d(we,{Ao:()=>N,i6:()=>ue,uy:()=>_e,Fb:()=>A,K8:()=>Se});var f=e(88593),P=e(16055),r=e(17967),y=e(37190);function v(...ye){switch(ye.length){case 1:return(0,y.NC)("contextkey.scanner.hint.didYouMean1","Did you mean {0}?",ye[0]);case 2:return(0,y.NC)("contextkey.scanner.hint.didYouMean2","Did you mean {0} or {1}?",ye[0],ye[1]);case 3:return(0,y.NC)("contextkey.scanner.hint.didYouMean3","Did you mean {0}, {1} or {2}?",ye[0],ye[1],ye[2]);default:return}}const S=(0,y.NC)("contextkey.scanner.hint.didYouForgetToOpenOrCloseQuote","Did you forget to open or close the quote?"),T=(0,y.NC)("contextkey.scanner.hint.didYouForgetToEscapeSlash","Did you forget to escape the '/' (slash) character? Put two backslashes before it to escape, e.g., '\\\\/'.");class E{constructor(){this._input="",this._start=0,this._current=0,this._tokens=[],this._errors=[],this.stringRe=/[a-zA-Z0-9_<>\-\./\\:\*\?\+\[\]\^,#@;"%\$\p{L}-]+/uy}static getLexeme(oe){switch(oe.type){case 0:return"(";case 1:return")";case 2:return"!";case 3:return oe.isTripleEq?"===":"==";case 4:return oe.isTripleEq?"!==":"!=";case 5:return"<";case 6:return"<=";case 7:case 8:return">=";case 9:return"=~";case 10:case 17:case 18:case 19:return oe.lexeme;case 11:return"true";case 12:return"false";case 13:return"in";case 14:return"not";case 15:return"&&";case 16:return"||";case 20:return"EOF";default:throw(0,r.L6)(`unhandled token type: ${JSON.stringify(oe)}; have you forgotten to add a case?`)}}reset(oe){return this._input=oe,this._start=0,this._current=0,this._tokens=[],this._errors=[],this}scan(){for(;!this._isAtEnd();)switch(this._start=this._current,this._advance()){case 40:this._addToken(0);break;case 41:this._addToken(1);break;case 33:if(this._match(61)){const Y=this._match(61);this._tokens.push({type:4,offset:this._start,isTripleEq:Y})}else this._addToken(2);break;case 39:this._quotedString();break;case 47:this._regex();break;case 61:if(this._match(61)){const Y=this._match(61);this._tokens.push({type:3,offset:this._start,isTripleEq:Y})}else this._match(126)?this._addToken(9):this._error(v("==","=~"));break;case 60:this._addToken(this._match(61)?6:5);break;case 62:this._addToken(this._match(61)?8:7);break;case 38:this._match(38)?this._addToken(15):this._error(v("&&"));break;case 124:this._match(124)?this._addToken(16):this._error(v("||"));break;case 32:case 13:case 9:case 10:case 160:break;default:this._string()}return this._start=this._current,this._addToken(20),Array.from(this._tokens)}_match(oe){return!this._isAtEnd()&&this._input.charCodeAt(this._current)===oe&&(this._current++,!0)}_advance(){return this._input.charCodeAt(this._current++)}_peek(){return this._isAtEnd()?0:this._input.charCodeAt(this._current)}_addToken(oe){this._tokens.push({type:oe,offset:this._start})}_error(oe){const Y=this._start,x=this._input.substring(this._start,this._current),F={type:19,offset:this._start,lexeme:x};this._errors.push({offset:Y,lexeme:x,additionalInfo:oe}),this._tokens.push(F)}_string(){this.stringRe.lastIndex=this._start;const oe=this.stringRe.exec(this._input);if(oe){this._current=this._start+oe[0].length;const Y=this._input.substring(this._start,this._current),x=E._keywords.get(Y);x?this._addToken(x):this._tokens.push({type:17,lexeme:Y,offset:this._start})}}_quotedString(){for(;39!==this._peek()&&!this._isAtEnd();)this._advance();this._isAtEnd()?this._error(S):(this._advance(),this._tokens.push({type:18,lexeme:this._input.substring(this._start+1,this._current-1),offset:this._start+1}))}_regex(){let oe=this._current,Y=!1,x=!1;for(;;){if(oe>=this._input.length)return this._current=oe,void this._error(T);const ie=this._input.charCodeAt(oe);if(Y)Y=!1;else{if(47===ie&&!x){oe++;break}91===ie?x=!0:92===ie?Y=!0:93===ie&&(x=!1)}oe++}for(;oe<this._input.length&&E._regexFlags.has(this._input.charCodeAt(oe));)oe++;this._current=oe;const F=this._input.substring(this._start,this._current);this._tokens.push({type:10,lexeme:F,offset:this._start})}_isAtEnd(){return this._current>=this._input.length}}E._regexFlags=new Set(["i","g","s","m","y","u"].map(ye=>ye.charCodeAt(0))),E._keywords=new Map([["not",14],["in",13],["false",12],["true",11]]);var L=e(12065);const p=new Map;p.set("false",!1),p.set("true",!0),p.set("isMac",f.dz),p.set("isLinux",f.IJ),p.set("isWindows",f.ED),p.set("isWeb",f.$L),p.set("isMacNative",f.dz&&!f.$L),p.set("isEdge",f.un),p.set("isFirefox",f.vU),p.set("isChrome",f.i7),p.set("isSafari",f.G6);const c=Object.prototype.hasOwnProperty,u={regexParsingWithErrorRecovery:!0},g=(0,y.NC)("contextkey.parser.error.emptyString","Empty context key expression"),i=(0,y.NC)("contextkey.parser.error.emptyString.hint","Did you forget to write an expression? You can also put 'false' or 'true' to always evaluate to false or true, respectively."),d=(0,y.NC)("contextkey.parser.error.noInAfterNot","'in' after 'not'."),a=(0,y.NC)("contextkey.parser.error.closingParenthesis","closing parenthesis ')'"),m=(0,y.NC)("contextkey.parser.error.unexpectedToken","Unexpected token"),l=(0,y.NC)("contextkey.parser.error.unexpectedToken.hint","Did you forget to put && or || before the token?"),I=(0,y.NC)("contextkey.parser.error.unexpectedEOF","Unexpected end of expression"),w=(0,y.NC)("contextkey.parser.error.unexpectedEOF.hint","Did you forget to put a context key?");class D{constructor(oe=u){this._config=oe,this._scanner=new E,this._tokens=[],this._current=0,this._parsingErrors=[],this._flagsGYRe=/g|y/g}parse(oe){if(""!==oe){this._tokens=this._scanner.reset(oe).scan(),this._current=0,this._parsingErrors=[];try{const Y=this._expr();if(!this._isAtEnd()){const x=this._peek(),F=17===x.type?l:void 0;throw this._parsingErrors.push({message:m,offset:x.offset,lexeme:E.getLexeme(x),additionalInfo:F}),D._parseError}return Y}catch(Y){if(Y!==D._parseError)throw Y;return}}else this._parsingErrors.push({message:g,offset:0,lexeme:"",additionalInfo:i})}_expr(){return this._or()}_or(){const oe=[this._and()];for(;this._matchOne(16);){const Y=this._and();oe.push(Y)}return 1===oe.length?oe[0]:N.or(...oe)}_and(){const oe=[this._term()];for(;this._matchOne(15);){const Y=this._term();oe.push(Y)}return 1===oe.length?oe[0]:N.and(...oe)}_term(){if(this._matchOne(2)){const oe=this._peek();switch(oe.type){case 11:return this._advance(),R.INSTANCE;case 12:return this._advance(),O.INSTANCE;case 0:{this._advance();const Y=this._expr();return this._consume(1,a),Y?.negate()}case 17:return this._advance(),G.create(oe.lexeme);default:throw this._errExpectedButGot("KEY | true | false | '(' expression ')'",oe)}}return this._primary()}_primary(){const oe=this._peek();switch(oe.type){case 11:return this._advance(),N.true();case 12:return this._advance(),N.false();case 0:{this._advance();const Y=this._expr();return this._consume(1,a),Y}case 17:{const Y=oe.lexeme;if(this._advance(),this._matchOne(9)){const F=this._peek();if(!this._config.regexParsingWithErrorRecovery){if(this._advance(),10!==F.type)throw this._errExpectedButGot("REGEX",F);const ie=F.lexeme,Ce=ie.lastIndexOf("/"),ke=Ce===ie.length-1?void 0:this._removeFlagsGY(ie.substring(Ce+1));let Pe;try{Pe=new RegExp(ie.substring(1,Ce),ke)}catch{throw this._errExpectedButGot("REGEX",F)}return te.create(Y,Pe)}switch(F.type){case 10:case 19:{const ie=[F.lexeme];this._advance();let Ce=this._peek(),ke=0;for(let pe=0;pe<F.lexeme.length;pe++)40===F.lexeme.charCodeAt(pe)?ke++:41===F.lexeme.charCodeAt(pe)&&ke--;for(;!this._isAtEnd()&&15!==Ce.type&&16!==Ce.type;){switch(Ce.type){case 0:ke++;break;case 1:ke--;break;case 10:case 18:for(let pe=0;pe<Ce.lexeme.length;pe++)40===Ce.lexeme.charCodeAt(pe)?ke++:41===F.lexeme.charCodeAt(pe)&&ke--}if(ke<0)break;ie.push(E.getLexeme(Ce)),this._advance(),Ce=this._peek()}const Pe=ie.join(""),xe=Pe.lastIndexOf("/"),fe=xe===Pe.length-1?void 0:this._removeFlagsGY(Pe.substring(xe+1));let be;try{be=new RegExp(Pe.substring(1,xe),fe)}catch{throw this._errExpectedButGot("REGEX",F)}return N.regex(Y,be)}case 18:{const ie=F.lexeme;this._advance();let Ce=null;if(!(0,P.m5)(ie)){const ke=ie.indexOf("/"),Pe=ie.lastIndexOf("/");if(ke!==Pe&&ke>=0){const xe=ie.slice(ke+1,Pe),fe="i"===ie[Pe+1]?"i":"";try{Ce=new RegExp(xe,fe)}catch{throw this._errExpectedButGot("REGEX",F)}}}if(null===Ce)throw this._errExpectedButGot("REGEX",F);return te.create(Y,Ce)}default:throw this._errExpectedButGot("REGEX",this._peek())}}if(this._matchOne(14)){this._consume(13,d);const F=this._value();return N.notIn(Y,F)}switch(this._peek().type){case 3:{this._advance();const F=this._value();if(18===this._previous().type)return N.equals(Y,F);switch(F){case"true":return N.has(Y);case"false":return N.not(Y);default:return N.equals(Y,F)}}case 4:{this._advance();const F=this._value();if(18===this._previous().type)return N.notEquals(Y,F);switch(F){case"true":return N.not(Y);case"false":return N.has(Y);default:return N.notEquals(Y,F)}}case 5:return this._advance(),K.create(Y,this._value());case 6:return this._advance(),J.create(Y,this._value());case 7:return this._advance(),j.create(Y,this._value());case 8:return this._advance(),$.create(Y,this._value());case 13:return this._advance(),N.in(Y,this._value());default:return N.has(Y)}}case 20:throw this._parsingErrors.push({message:I,offset:oe.offset,lexeme:"",additionalInfo:w}),D._parseError;default:throw this._errExpectedButGot("true | false | KEY \n\t| KEY '=~' REGEX \n\t| KEY ('==' | '!=' | '<' | '<=' | '>' | '>=' | 'in' | 'not' 'in') value",this._peek())}}_value(){const oe=this._peek();switch(oe.type){case 17:case 18:return this._advance(),oe.lexeme;case 11:return this._advance(),"true";case 12:return this._advance(),"false";case 13:return this._advance(),"in";default:return""}}_removeFlagsGY(oe){return oe.replaceAll(this._flagsGYRe,"")}_previous(){return this._tokens[this._current-1]}_matchOne(oe){return!!this._check(oe)&&(this._advance(),!0)}_advance(){return this._isAtEnd()||this._current++,this._previous()}_consume(oe,Y){if(this._check(oe))return this._advance();throw this._errExpectedButGot(Y,this._peek())}_errExpectedButGot(oe,Y,x){const F=(0,y.NC)("contextkey.parser.error.expectedButGot","Expected: {0}\nReceived: '{1}'.",oe,E.getLexeme(Y)),ie=Y.offset,Ce=E.getLexeme(Y);return this._parsingErrors.push({message:F,offset:ie,lexeme:Ce,additionalInfo:x}),D._parseError}_check(oe){return this._peek().type===oe}_peek(){return this._tokens[this._current]}_isAtEnd(){return 20===this._peek().type}}D._parseError=new Error;class N{static false(){return R.INSTANCE}static true(){return O.INSTANCE}static has(oe){return W.create(oe)}static equals(oe,Y){return z.create(oe,Y)}static notEquals(oe,Y){return B.create(oe,Y)}static regex(oe,Y){return te.create(oe,Y)}static in(oe,Y){return U.create(oe,Y)}static notIn(oe,Y){return ee.create(oe,Y)}static not(oe){return G.create(oe)}static and(...oe){return ae.create(oe,null,!0)}static or(...oe){return ge.create(oe,null,!0)}static deserialize(oe){return null==oe?void 0:this._parser.parse(oe)}}function A(ye,oe){const Y=ye?ye.substituteConstants():void 0,x=oe?oe.substituteConstants():void 0;return!Y&&!x||!(!Y||!x)&&Y.equals(x)}function k(ye,oe){return ye.cmp(oe)}N._parser=new D({regexParsingWithErrorRecovery:!1});class R{constructor(){this.type=0}cmp(oe){return this.type-oe.type}equals(oe){return oe.type===this.type}substituteConstants(){return this}evaluate(oe){return!1}serialize(){return"false"}keys(){return[]}negate(){return O.INSTANCE}}R.INSTANCE=new R;class O{constructor(){this.type=1}cmp(oe){return this.type-oe.type}equals(oe){return oe.type===this.type}substituteConstants(){return this}evaluate(oe){return!0}serialize(){return"true"}keys(){return[]}negate(){return R.INSTANCE}}O.INSTANCE=new O;class W{static create(oe,Y=null){const x=p.get(oe);return"boolean"==typeof x?x?O.INSTANCE:R.INSTANCE:new W(oe,Y)}constructor(oe,Y){this.key=oe,this.negated=Y,this.type=2}cmp(oe){return oe.type!==this.type?this.type-oe.type:ve(this.key,oe.key)}equals(oe){return oe.type===this.type&&this.key===oe.key}substituteConstants(){const oe=p.get(this.key);return"boolean"==typeof oe?oe?O.INSTANCE:R.INSTANCE:this}evaluate(oe){return!!oe.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}negate(){return this.negated||(this.negated=G.create(this.key,this)),this.negated}}class z{static create(oe,Y,x=null){if("boolean"==typeof Y)return Y?W.create(oe,x):G.create(oe,x);const F=p.get(oe);return"boolean"==typeof F?Y===(F?"true":"false")?O.INSTANCE:R.INSTANCE:new z(oe,Y,x)}constructor(oe,Y,x){this.key=oe,this.value=Y,this.negated=x,this.type=4}cmp(oe){return oe.type!==this.type?this.type-oe.type:Ie(this.key,this.value,oe.key,oe.value)}equals(oe){return oe.type===this.type&&this.key===oe.key&&this.value===oe.value}substituteConstants(){const oe=p.get(this.key);return"boolean"==typeof oe?this.value===(oe?"true":"false")?O.INSTANCE:R.INSTANCE:this}evaluate(oe){return oe.getValue(this.key)==this.value}serialize(){return`${this.key} == '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=B.create(this.key,this.value,this)),this.negated}}class U{static create(oe,Y){return new U(oe,Y)}constructor(oe,Y){this.key=oe,this.valueKey=Y,this.type=10,this.negated=null}cmp(oe){return oe.type!==this.type?this.type-oe.type:Ie(this.key,this.valueKey,oe.key,oe.valueKey)}equals(oe){return oe.type===this.type&&this.key===oe.key&&this.valueKey===oe.valueKey}substituteConstants(){return this}evaluate(oe){const Y=oe.getValue(this.valueKey),x=oe.getValue(this.key);return Array.isArray(Y)?Y.includes(x):"string"==typeof x&&"object"==typeof Y&&null!==Y&&c.call(Y,x)}serialize(){return`${this.key} in '${this.valueKey}'`}keys(){return[this.key,this.valueKey]}negate(){return this.negated||(this.negated=ee.create(this.key,this.valueKey)),this.negated}}class ee{static create(oe,Y){return new ee(oe,Y)}constructor(oe,Y){this.key=oe,this.valueKey=Y,this.type=11,this._negated=U.create(oe,Y)}cmp(oe){return oe.type!==this.type?this.type-oe.type:this._negated.cmp(oe._negated)}equals(oe){return oe.type===this.type&&this._negated.equals(oe._negated)}substituteConstants(){return this}evaluate(oe){return!this._negated.evaluate(oe)}serialize(){return`${this.key} not in '${this.valueKey}'`}keys(){return this._negated.keys()}negate(){return this._negated}}class B{static create(oe,Y,x=null){if("boolean"==typeof Y)return Y?G.create(oe,x):W.create(oe,x);const F=p.get(oe);return"boolean"==typeof F?Y===(F?"true":"false")?R.INSTANCE:O.INSTANCE:new B(oe,Y,x)}constructor(oe,Y,x){this.key=oe,this.value=Y,this.negated=x,this.type=5}cmp(oe){return oe.type!==this.type?this.type-oe.type:Ie(this.key,this.value,oe.key,oe.value)}equals(oe){return oe.type===this.type&&this.key===oe.key&&this.value===oe.value}substituteConstants(){const oe=p.get(this.key);return"boolean"==typeof oe?this.value===(oe?"true":"false")?R.INSTANCE:O.INSTANCE:this}evaluate(oe){return oe.getValue(this.key)!=this.value}serialize(){return`${this.key} != '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=z.create(this.key,this.value,this)),this.negated}}class G{static create(oe,Y=null){const x=p.get(oe);return"boolean"==typeof x?x?R.INSTANCE:O.INSTANCE:new G(oe,Y)}constructor(oe,Y){this.key=oe,this.negated=Y,this.type=3}cmp(oe){return oe.type!==this.type?this.type-oe.type:ve(this.key,oe.key)}equals(oe){return oe.type===this.type&&this.key===oe.key}substituteConstants(){const oe=p.get(this.key);return"boolean"==typeof oe?oe?R.INSTANCE:O.INSTANCE:this}evaluate(oe){return!oe.getValue(this.key)}serialize(){return`!${this.key}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=W.create(this.key,this)),this.negated}}function se(ye,oe){if("string"==typeof ye){const Y=parseFloat(ye);isNaN(Y)||(ye=Y)}return"string"==typeof ye||"number"==typeof ye?oe(ye):R.INSTANCE}class j{static create(oe,Y,x=null){return se(Y,F=>new j(oe,F,x))}constructor(oe,Y,x){this.key=oe,this.value=Y,this.negated=x,this.type=12}cmp(oe){return oe.type!==this.type?this.type-oe.type:Ie(this.key,this.value,oe.key,oe.value)}equals(oe){return oe.type===this.type&&this.key===oe.key&&this.value===oe.value}substituteConstants(){return this}evaluate(oe){return"string"!=typeof this.value&&parseFloat(oe.getValue(this.key))>this.value}serialize(){return`${this.key} > ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=J.create(this.key,this.value,this)),this.negated}}class ${static create(oe,Y,x=null){return se(Y,F=>new $(oe,F,x))}constructor(oe,Y,x){this.key=oe,this.value=Y,this.negated=x,this.type=13}cmp(oe){return oe.type!==this.type?this.type-oe.type:Ie(this.key,this.value,oe.key,oe.value)}equals(oe){return oe.type===this.type&&this.key===oe.key&&this.value===oe.value}substituteConstants(){return this}evaluate(oe){return"string"!=typeof this.value&&parseFloat(oe.getValue(this.key))>=this.value}serialize(){return`${this.key} >= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=K.create(this.key,this.value,this)),this.negated}}class K{static create(oe,Y,x=null){return se(Y,F=>new K(oe,F,x))}constructor(oe,Y,x){this.key=oe,this.value=Y,this.negated=x,this.type=14}cmp(oe){return oe.type!==this.type?this.type-oe.type:Ie(this.key,this.value,oe.key,oe.value)}equals(oe){return oe.type===this.type&&this.key===oe.key&&this.value===oe.value}substituteConstants(){return this}evaluate(oe){return"string"!=typeof this.value&&parseFloat(oe.getValue(this.key))<this.value}serialize(){return`${this.key} < ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=$.create(this.key,this.value,this)),this.negated}}class J{static create(oe,Y,x=null){return se(Y,F=>new J(oe,F,x))}constructor(oe,Y,x){this.key=oe,this.value=Y,this.negated=x,this.type=15}cmp(oe){return oe.type!==this.type?this.type-oe.type:Ie(this.key,this.value,oe.key,oe.value)}equals(oe){return oe.type===this.type&&this.key===oe.key&&this.value===oe.value}substituteConstants(){return this}evaluate(oe){return"string"!=typeof this.value&&parseFloat(oe.getValue(this.key))<=this.value}serialize(){return`${this.key} <= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=j.create(this.key,this.value,this)),this.negated}}class te{static create(oe,Y){return new te(oe,Y)}constructor(oe,Y){this.key=oe,this.regexp=Y,this.type=7,this.negated=null}cmp(oe){if(oe.type!==this.type)return this.type-oe.type;if(this.key<oe.key)return-1;if(this.key>oe.key)return 1;const Y=this.regexp?this.regexp.source:"",x=oe.regexp?oe.regexp.source:"";return Y<x?-1:Y>x?1:0}equals(oe){return oe.type===this.type&&(this.key===oe.key&&(this.regexp?this.regexp.source:"")===(oe.regexp?oe.regexp.source:""))}substituteConstants(){return this}evaluate(oe){const Y=oe.getValue(this.key);return!!this.regexp&&this.regexp.test(Y)}serialize(){return`${this.key} =~ ${this.regexp?`/${this.regexp.source}/${this.regexp.flags}`:"/invalid/"}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=ne.create(this)),this.negated}}class ne{static create(oe){return new ne(oe)}constructor(oe){this._actual=oe,this.type=8}cmp(oe){return oe.type!==this.type?this.type-oe.type:this._actual.cmp(oe._actual)}equals(oe){return oe.type===this.type&&this._actual.equals(oe._actual)}substituteConstants(){return this}evaluate(oe){return!this._actual.evaluate(oe)}serialize(){return`!(${this._actual.serialize()})`}keys(){return this._actual.keys()}negate(){return this._actual}}function _(ye){let oe=null;for(let Y=0,x=ye.length;Y<x;Y++){const F=ye[Y].substituteConstants();if(ye[Y]!==F&&null===oe){oe=[];for(let ie=0;ie<Y;ie++)oe[ie]=ye[ie]}null!==oe&&(oe[Y]=F)}return null===oe?ye:oe}class ae{static create(oe,Y,x){return ae._normalizeArr(oe,Y,x)}constructor(oe,Y){this.expr=oe,this.negated=Y,this.type=6}cmp(oe){if(oe.type!==this.type)return this.type-oe.type;if(this.expr.length<oe.expr.length)return-1;if(this.expr.length>oe.expr.length)return 1;for(let Y=0,x=this.expr.length;Y<x;Y++){const F=k(this.expr[Y],oe.expr[Y]);if(0!==F)return F}return 0}equals(oe){if(oe.type===this.type){if(this.expr.length!==oe.expr.length)return!1;for(let Y=0,x=this.expr.length;Y<x;Y++)if(!this.expr[Y].equals(oe.expr[Y]))return!1;return!0}return!1}substituteConstants(){const oe=_(this.expr);return oe===this.expr?this:ae.create(oe,this.negated,!1)}evaluate(oe){for(let Y=0,x=this.expr.length;Y<x;Y++)if(!this.expr[Y].evaluate(oe))return!1;return!0}static _normalizeArr(oe,Y,x){const F=[];let ie=!1;for(const Ce of oe)if(Ce){if(1===Ce.type){ie=!0;continue}if(0===Ce.type)return R.INSTANCE;if(6===Ce.type){F.push(...Ce.expr);continue}F.push(Ce)}if(0===F.length&&ie)return O.INSTANCE;if(0!==F.length){if(1===F.length)return F[0];F.sort(k);for(let Ce=1;Ce<F.length;Ce++)F[Ce-1].equals(F[Ce])&&(F.splice(Ce,1),Ce--);if(1===F.length)return F[0];for(;F.length>1;){const Ce=F[F.length-1];if(9!==Ce.type)break;F.pop();const ke=F.pop(),Pe=0===F.length,xe=ge.create(Ce.expr.map(fe=>ae.create([fe,ke],null,x)),null,Pe);xe&&(F.push(xe),F.sort(k))}if(1===F.length)return F[0];if(x){for(let Ce=0;Ce<F.length;Ce++)for(let ke=Ce+1;ke<F.length;ke++)if(F[Ce].negate().equals(F[ke]))return R.INSTANCE;if(1===F.length)return F[0]}return new ae(F,Y)}}serialize(){return this.expr.map(oe=>oe.serialize()).join(" && ")}keys(){const oe=[];for(const Y of this.expr)oe.push(...Y.keys());return oe}negate(){if(!this.negated){const oe=[];for(const Y of this.expr)oe.push(Y.negate());this.negated=ge.create(oe,this,!0)}return this.negated}}class ge{static create(oe,Y,x){return ge._normalizeArr(oe,Y,x)}constructor(oe,Y){this.expr=oe,this.negated=Y,this.type=9}cmp(oe){if(oe.type!==this.type)return this.type-oe.type;if(this.expr.length<oe.expr.length)return-1;if(this.expr.length>oe.expr.length)return 1;for(let Y=0,x=this.expr.length;Y<x;Y++){const F=k(this.expr[Y],oe.expr[Y]);if(0!==F)return F}return 0}equals(oe){if(oe.type===this.type){if(this.expr.length!==oe.expr.length)return!1;for(let Y=0,x=this.expr.length;Y<x;Y++)if(!this.expr[Y].equals(oe.expr[Y]))return!1;return!0}return!1}substituteConstants(){const oe=_(this.expr);return oe===this.expr?this:ge.create(oe,this.negated,!1)}evaluate(oe){for(let Y=0,x=this.expr.length;Y<x;Y++)if(this.expr[Y].evaluate(oe))return!0;return!1}static _normalizeArr(oe,Y,x){let F=[],ie=!1;if(oe){for(let Ce=0,ke=oe.length;Ce<ke;Ce++){const Pe=oe[Ce];if(Pe){if(0===Pe.type){ie=!0;continue}if(1===Pe.type)return O.INSTANCE;if(9===Pe.type){F=F.concat(Pe.expr);continue}F.push(Pe)}}if(0===F.length&&ie)return R.INSTANCE;F.sort(k)}if(0!==F.length){if(1===F.length)return F[0];for(let Ce=1;Ce<F.length;Ce++)F[Ce-1].equals(F[Ce])&&(F.splice(Ce,1),Ce--);if(1===F.length)return F[0];if(x){for(let Ce=0;Ce<F.length;Ce++)for(let ke=Ce+1;ke<F.length;ke++)if(F[Ce].negate().equals(F[ke]))return O.INSTANCE;if(1===F.length)return F[0]}return new ge(F,Y)}}serialize(){return this.expr.map(oe=>oe.serialize()).join(" || ")}keys(){const oe=[];for(const Y of this.expr)oe.push(...Y.keys());return oe}negate(){if(!this.negated){const oe=[];for(const Y of this.expr)oe.push(Y.negate());for(;oe.length>1;){const Y=oe.shift(),x=oe.shift(),F=[];for(const ie of De(Y))for(const Ce of De(x))F.push(ae.create([ie,Ce],null,!1));oe.unshift(ge.create(F,null,!1))}this.negated=ge.create(oe,this,!0)}return this.negated}}let _e=(()=>{class ye extends W{static all(){return ye._info.values()}constructor(Y,x,F){super(Y,null),this._defaultValue=x,"object"==typeof F?ye._info.push(Object.assign(Object.assign({},F),{key:Y})):!0!==F&&ye._info.push({key:Y,description:F,type:null!=x?typeof x:void 0})}bindTo(Y){return Y.createKey(this.key,this._defaultValue)}getValue(Y){return Y.getContextKeyValue(this.key)}toNegated(){return this.negate()}isEqualTo(Y){return z.create(this.key,Y)}}return ye._info=[],ye})();const ue=(0,L.yh)("contextKeyService");function ve(ye,oe){return ye<oe?-1:ye>oe?1:0}function Ie(ye,oe,Y,x){return ye<Y?-1:ye>Y?1:oe<x?-1:oe>x?1:0}function Se(ye,oe){if(0===ye.type||1===oe.type)return!0;if(9===ye.type)return 9===oe.type&&Ve(ye.expr,oe.expr);if(9===oe.type){for(const Y of oe.expr)if(Se(ye,Y))return!0;return!1}if(6===ye.type){if(6===oe.type)return Ve(oe.expr,ye.expr);for(const Y of ye.expr)if(Se(Y,oe))return!0;return!1}return ye.equals(oe)}function Ve(ye,oe){let Y=0,x=0;for(;Y<ye.length&&x<oe.length;){const F=ye[Y].cmp(oe[x]);if(F<0)return!1;0===F&&Y++,x++}return Y===ye.length}function De(ye){return 9===ye.type?ye.expr:[ye]}},97968:(Xe,we,e)=>{e.d(we,{Pf:()=>T,cv:()=>S,d0:()=>g});var f=e(88593),P=e(37190),r=e(66221);new r.uy("isMac",f.dz,(0,P.NC)("isMac","Whether the operating system is macOS")),new r.uy("isLinux",f.IJ,(0,P.NC)("isLinux","Whether the operating system is Linux"));const S=new r.uy("isWindows",f.ED,(0,P.NC)("isWindows","Whether the operating system is Windows")),T=new r.uy("isWeb",f.$L,(0,P.NC)("isWeb","Whether the platform is a web browser")),g=(new r.uy("isMacNative",f.dz&&!f.$L,(0,P.NC)("isMacNative","Whether the operating system is macOS on a non-browser platform")),new r.uy("isIOS",f.gn,(0,P.NC)("isIOS","Whether the operating system is iOS")),new r.uy("isMobile",f.tq,(0,P.NC)("isMobile","Whether the platform is a mobile web browser")),new r.uy("isDevelopment",!1,!0),new r.uy("productQualityType","",(0,P.NC)("productQualityType","Quality type of VS Code")),"inputFocus");new r.uy(g,!1,(0,P.NC)("inputFocus","Whether keyboard focus is inside an input box"))},76485:(Xe,we,e)=>{e.d(we,{i:()=>r,u:()=>P});var f=e(12065);const P=(0,f.yh)("contextViewService"),r=(0,f.yh)("contextMenuService")},35153:(Xe,we,e)=>{e.d(we,{S:()=>P});const P=(0,e(12065).yh)("dialogService")},93152:(Xe,we,e)=>{e.d(we,{Ej:()=>v,Km:()=>P});var f=e(81834);const P={EDITORS:"CodeEditors",FILES:"CodeFiles"};f.B.add("workbench.contributions.dragAndDrop",new class r{});class v{constructor(){}static getInstance(){return v.INSTANCE}hasData(T){return T&&T===this.proto}getData(T){if(this.hasData(T))return this.data}}v.INSTANCE=new v},62310:(Xe,we,e)=>{e.d(we,{Y:()=>P});const P=(0,e(12065).yh)("environmentService")},30545:(Xe,we,e)=>{e.d(we,{Yb:()=>O,Nq:()=>W,iX:()=>I});var f=e(92161),P=e(20274),r=e(50145),y=e(33386),v=e(19491),S=e(27222),T=e(58178),L=(e(30340),e(37190));const p=L.NC("defaultLabel","input"),c=L.NC("label.preserveCaseToggle","Preserve Case");class u extends r.Z{constructor(U){super({icon:S.l.preserveCase,title:c+U.appendTitle,isChecked:U.isChecked,inputActiveOptionBorder:U.inputActiveOptionBorder,inputActiveOptionForeground:U.inputActiveOptionForeground,inputActiveOptionBackground:U.inputActiveOptionBackground})}}class g extends v.${constructor(U,ee,B,G){super(),this._showOptionButtons=B,this.fixFocusOnOptionClickEnabled=!0,this.cachedOptionsWidth=0,this._onDidOptionChange=this._register(new T.Q5),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new T.Q5),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new T.Q5),this._onInput=this._register(new T.Q5),this._onKeyUp=this._register(new T.Q5),this._onPreserveCaseKeyDown=this._register(new T.Q5),this.onPreserveCaseKeyDown=this._onPreserveCaseKeyDown.event,this.contextViewProvider=ee,this.placeholder=G.placeholder||"",this.validation=G.validation,this.label=G.label||p;const se=G.appendPreserveCaseLabel||"",j=G.history||[],$=!!G.flexibleHeight,K=!!G.flexibleWidth,J=G.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new y.pG(this.domNode,this.contextViewProvider,{ariaLabel:this.label||"",placeholder:this.placeholder||"",validationOptions:{validation:this.validation},history:j,showHistoryHint:G.showHistoryHint,flexibleHeight:$,flexibleWidth:K,flexibleMaxHeight:J,inputBoxStyles:G.inputBoxStyles})),this.preserveCase=this._register(new u(Object.assign({appendTitle:se,isChecked:!1},G.toggleStyles))),this._register(this.preserveCase.onChange(_=>{this._onDidOptionChange.fire(_),!_&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.preserveCase.onKeyDown(_=>{this._onPreserveCaseKeyDown.fire(_)})),this.cachedOptionsWidth=this._showOptionButtons?this.preserveCase.width():0;const te=[this.preserveCase.domNode];this.onkeydown(this.domNode,_=>{if(_.equals(15)||_.equals(17)||_.equals(9)){const ae=te.indexOf(document.activeElement);if(ae>=0){let ge=-1;_.equals(17)?ge=(ae+1)%te.length:_.equals(15)&&(ge=0===ae?te.length-1:ae-1),_.equals(9)?(te[ae].blur(),this.inputBox.focus()):ge>=0&&te[ge].focus(),P.zB.stop(_,!0)}}});const ne=document.createElement("div");ne.className="controls",ne.style.display=this._showOptionButtons?"block":"none",ne.appendChild(this.preserveCase.domNode),this.domNode.appendChild(ne),U?.appendChild(this.domNode),this.onkeydown(this.inputBox.inputElement,_=>this._onKeyDown.fire(_)),this.onkeyup(this.inputBox.inputElement,_=>this._onKeyUp.fire(_)),this.oninput(this.inputBox.inputElement,_=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,_=>this._onMouseDown.fire(_))}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.preserveCase.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.preserveCase.disable()}setEnabled(U){U?this.enable():this.disable()}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getPreserveCase(){return this.preserveCase.checked}setPreserveCase(U){this.preserveCase.checked=U}focusOnPreserve(){this.preserveCase.focus()}validate(){var U;null===(U=this.inputBox)||void 0===U||U.validate()}set width(U){this.inputBox.paddingRight=this.cachedOptionsWidth,this.domNode.style.width=U+"px"}dispose(){super.dispose()}}var i=e(66221),d=e(31498),a=e(78694),m=function(z,U,ee,B){var j,G=arguments.length,se=G<3?U:null===B?B=Object.getOwnPropertyDescriptor(U,ee):B;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)se=Reflect.decorate(z,U,ee,B);else for(var $=z.length-1;$>=0;$--)(j=z[$])&&(se=(G<3?j(se):G>3?j(U,ee,se):j(U,ee))||se);return G>3&&se&&Object.defineProperty(U,ee,se),se},l=function(z,U){return function(ee,B){U(ee,B,z)}};const I=new i.uy("suggestWidgetVisible",!1,(0,L.NC)("suggestWidgetVisible","Whether suggestion are visible")),w="historyNavigationWidgetFocus",D="historyNavigationForwardsEnabled",N="historyNavigationBackwardsEnabled";let A;const k=[];function R(z,U){if(k.includes(U))throw new Error("Cannot register the same widget multiple times");k.push(U);const ee=new a.SL,B=new i.uy(w,!1).bindTo(z),G=new i.uy(D,!0).bindTo(z),se=new i.uy(N,!0).bindTo(z),j=()=>{B.set(!0),A=U},$=()=>{B.set(!1),A===U&&(A=void 0)};return U.element===document.activeElement&&j(),ee.add(U.onDidFocus(()=>j())),ee.add(U.onDidBlur(()=>$())),ee.add((0,a.OF)(()=>{k.splice(k.indexOf(U),1),$()})),{historyNavigationForwardsEnablement:G,historyNavigationBackwardsEnablement:se,dispose(){ee.dispose()}}}let O=class extends f.V{constructor(U,ee,B,G){super(U,ee,B);const se=this._register(G.createScoped(this.inputBox.element));this._register(R(se,this.inputBox))}};O=m([l(3,i.i6)],O);let W=class extends g{constructor(U,ee,B,G,se=!1){super(U,ee,se,B);const j=this._register(G.createScoped(this.inputBox.element));this._register(R(j,this.inputBox))}};W=m([l(3,i.i6)],W),d.W.registerCommandAndKeybindingRule({id:"history.showPrevious",weight:200,when:i.Ao.and(i.Ao.has(w),i.Ao.equals(N,!0),i.Ao.not("isComposing"),I.isEqualTo(!1)),primary:16,secondary:[528],handler:z=>{A?.showPreviousValue()}}),d.W.registerCommandAndKeybindingRule({id:"history.showNext",weight:200,when:i.Ao.and(i.Ao.has(w),i.Ao.equals(D,!0),i.Ao.not("isComposing"),I.isEqualTo(!1)),primary:18,secondary:[530],handler:z=>{A?.showNextValue()}})},5177:(Xe,we,e)=>{e.d(we,{M:()=>f});class f{constructor(r,y=[],v=!1){this.ctor=r,this.staticArguments=y,this.supportsDelayedInstantiation=v}}},67755:(Xe,we,e)=>{e.d(we,{d:()=>y,z:()=>r});var f=e(5177);const P=[];function r(v,S,T){S instanceof f.M||(S=new f.M(S,[],!!T)),P.push([v,S])}function y(){return P}},12065:(Xe,we,e)=>{var f,v;e.d(we,{I8:()=>f,TG:()=>P,yh:()=>y}),(v=f||(f={})).serviceIds=new Map,v.DI_TARGET="$di$target",v.DI_DEPENDENCIES="$di$dependencies",v.getServiceDependencies=function S(T){return T[v.DI_DEPENDENCIES]||[]};const P=y("instantiationService");function y(v){if(f.serviceIds.has(v))return f.serviceIds.get(v);const S=function(T,E,L){if(3!==arguments.length)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");!function r(v,S,T){S[f.DI_TARGET]===S?S[f.DI_DEPENDENCIES].push({id:v,index:T}):(S[f.DI_DEPENDENCIES]=[{id:v,index:T}],S[f.DI_TARGET]=S)}(S,T,L)};return S.toString=()=>v,f.serviceIds.set(v,S),S}},50054:(Xe,we,e)=>{e.d(we,{y:()=>f});class f{constructor(...r){this._entries=new Map;for(const[y,v]of r)this.set(y,v)}set(r,y){const v=this._entries.get(r);return this._entries.set(r,y),v}get(r){return this._entries.get(r)}}},72162:(Xe,we,e)=>{e.d(we,{I:()=>r});var f=e(58178),P=e(81834);const r={JSONContribution:"base.contributions.json"},S=new class v{constructor(){this._onDidChangeSchema=new f.Q5,this.schemasById={}}registerSchema(E,L){this.schemasById[function y(T){return T.length>0&&"#"===T.charAt(T.length-1)?T.substring(0,T.length-1):T}(E)]=L,this._onDidChangeSchema.fire(E)}notifySchemaChanged(E){this._onDidChangeSchema.fire(E)}};P.B.add(r.JSONContribution,S)},21536:(Xe,we,e)=>{e.d(we,{d:()=>P});const P=(0,e(12065).yh)("keybindingService")},31498:(Xe,we,e)=>{e.d(we,{W:()=>E});var f=e(88565),P=e(88593),r=e(11813),y=e(81834),v=e(78694),S=e(86211);class T{constructor(){this._coreKeybindings=new S.S,this._extensionKeybindings=[],this._cachedMergedKeybindings=null}static bindToCurrentPlatform(u){if(1===P.OS){if(u&&u.win)return u.win}else if(2===P.OS){if(u&&u.mac)return u.mac}else if(u&&u.linux)return u.linux;return u}registerKeybindingRule(u){const g=T.bindToCurrentPlatform(u),i=new v.SL;if(g&&g.primary){const d=(0,f.Z9)(g.primary,P.OS);d&&i.add(this._registerDefaultKeybinding(d,u.id,u.args,u.weight,0,u.when))}if(g&&Array.isArray(g.secondary))for(let d=0,a=g.secondary.length;d<a;d++){const l=(0,f.Z9)(g.secondary[d],P.OS);l&&i.add(this._registerDefaultKeybinding(l,u.id,u.args,u.weight,-d-1,u.when))}return i}registerCommandAndKeybindingRule(u){return(0,v.F8)(this.registerKeybindingRule(u),r.P.registerCommand(u))}_registerDefaultKeybinding(u,g,i,d,a,m){const l=this._coreKeybindings.push({keybinding:u,command:g,commandArgs:i,when:m,weight1:d,weight2:a,extensionId:null,isBuiltinExtension:!1});return this._cachedMergedKeybindings=null,(0,v.OF)(()=>{l(),this._cachedMergedKeybindings=null})}getDefaultKeybindings(){return this._cachedMergedKeybindings||(this._cachedMergedKeybindings=Array.from(this._coreKeybindings).concat(this._extensionKeybindings),this._cachedMergedKeybindings.sort(p)),this._cachedMergedKeybindings.slice(0)}}const E=new T;function p(c,u){if(c.weight1!==u.weight1)return c.weight1-u.weight1;if(c.command&&u.command){if(c.command<u.command)return-1;if(c.command>u.command)return 1}return c.weight2-u.weight2}y.B.add("platform.keybindingsRegistry",E)},89165:(Xe,we,e)=>{e.d(we,{e:()=>P});const P=(0,e(12065).yh)("labelService")},91466:(Xe,we,e)=>{e.d(we,{Lw:()=>Un,XN:()=>po,ls:()=>Bi,ev:()=>ce,CQ:()=>ki,PS:()=>Ye,uJ:()=>zt});var f=e(20274),P=e(31738),r=e(87618),y=e(58178),v=e(78694),T=(e(33164),e(80568));class E{get templateId(){return this.renderer.templateId}constructor(re,We){this.renderer=re,this.modelProvider=We}renderTemplate(re){return{data:this.renderer.renderTemplate(re),disposable:v.JT.None}}renderElement(re,We,rt,Pt){var Kt;if(null===(Kt=rt.disposable)||void 0===Kt||Kt.dispose(),!rt.data)return;const ti=this.modelProvider();if(ti.isResolved(re))return this.renderer.renderElement(ti.get(re),re,rt.data,Pt);const yi=new r.A,Li=ti.resolve(re,yi.token);rt.disposable={dispose:()=>yi.cancel()},this.renderer.renderPlaceholder(re,rt.data),Li.then(sn=>this.renderer.renderElement(sn,re,rt.data,Pt))}disposeTemplate(re){re.disposable&&(re.disposable.dispose(),re.disposable=void 0),re.data&&(this.renderer.disposeTemplate(re.data),re.data=void 0)}}class L{constructor(re,We){this.modelProvider=re,this.accessibilityProvider=We}getWidgetAriaLabel(){return this.accessibilityProvider.getWidgetAriaLabel()}getAriaLabel(re){const We=this.modelProvider();return We.isResolved(re)?this.accessibilityProvider.getAriaLabel(We.get(re)):null}}class c{constructor(re,We,rt,Pt,Kt={}){const ti=()=>this.model,yi=Pt.map(Li=>new E(Li,ti));this.list=new T.aV(re,We,rt,yi,function p(Gt,re){return Object.assign(Object.assign({},re),{accessibilityProvider:re.accessibilityProvider&&new L(Gt,re.accessibilityProvider)})}(ti,Kt))}updateOptions(re){this.list.updateOptions(re)}getHTMLElement(){return this.list.getHTMLElement()}get onDidFocus(){return this.list.onDidFocus}get widget(){return this.list}get onDidDispose(){return this.list.onDidDispose}get onMouseDblClick(){return y.ju.map(this.list.onMouseDblClick,({element:re,index:We,browserEvent:rt})=>({element:void 0===re?void 0:this._model.get(re),index:We,browserEvent:rt}))}get onPointer(){return y.ju.map(this.list.onPointer,({element:re,index:We,browserEvent:rt})=>({element:void 0===re?void 0:this._model.get(re),index:We,browserEvent:rt}))}get onDidChangeSelection(){return y.ju.map(this.list.onDidChangeSelection,({elements:re,indexes:We,browserEvent:rt})=>({elements:re.map(Pt=>this._model.get(Pt)),indexes:We,browserEvent:rt}))}get model(){return this._model}set model(re){this._model=re,this.list.splice(0,this.list.length,(0,P.w6)(re.length))}getFocus(){return this.list.getFocus()}getSelection(){return this.list.getSelection()}getSelectedElements(){return this.getSelection().map(re=>this.model.get(re))}style(re){this.list.style(re)}dispose(){this.list.dispose()}}var u=e(23620),g=e(93379),i=e.n(g),d=e(7795),a=e.n(d),m=e(90569),l=e.n(m),I=e(3565),w=e.n(I),D=e(19216),N=e.n(D),A=e(44589),k=e.n(A),R=e(1728),O={};O.styleTagTransform=k(),O.setAttributes=w(),O.insert=l().bind(null,"head"),O.domAPI=a(),O.insertStyleElement=N(),i()(R.Z,O);let U=(()=>{class Gt{constructor(We,rt,Pt){this.columns=We,this.getColumnSize=Pt,this.templateId=Gt.TemplateId,this.renderedTemplates=new Set;const Kt=new Map(rt.map(ti=>[ti.templateId,ti]));this.renderers=[];for(const ti of We){const yi=Kt.get(ti.templateId);if(!yi)throw new Error(`Table cell renderer for template id ${ti.templateId} not found.`);this.renderers.push(yi)}}renderTemplate(We){const rt=(0,f.R3)(We,(0,f.$)(".monaco-table-tr")),Pt=[],Kt=[];for(let yi=0;yi<this.columns.length;yi++){const Li=this.renderers[yi],sn=(0,f.R3)(rt,(0,f.$)(".monaco-table-td",{"data-col-index":yi}));sn.style.width=`${this.getColumnSize(yi)}px`,Pt.push(sn),Kt.push(Li.renderTemplate(sn))}const ti={container:We,cellContainers:Pt,cellTemplateData:Kt};return this.renderedTemplates.add(ti),ti}renderElement(We,rt,Pt,Kt){for(let ti=0;ti<this.columns.length;ti++){const Li=this.columns[ti].project(We);this.renderers[ti].renderElement(Li,rt,Pt.cellTemplateData[ti],Kt)}}disposeElement(We,rt,Pt,Kt){for(let ti=0;ti<this.columns.length;ti++){const yi=this.renderers[ti];if(yi.disposeElement){const sn=this.columns[ti].project(We);yi.disposeElement(sn,rt,Pt.cellTemplateData[ti],Kt)}}}disposeTemplate(We){for(let rt=0;rt<this.columns.length;rt++)this.renderers[rt].disposeTemplate(We.cellTemplateData[rt]);(0,f.PO)(We.container),this.renderedTemplates.delete(We)}layoutColumn(We,rt){for(const{cellContainers:Pt}of this.renderedTemplates)Pt[We].style.width=`${rt}px`}}return Gt.TemplateId="row",Gt})();class B{get minimumSize(){var re;return null!==(re=this.column.minimumWidth)&&void 0!==re?re:120}get maximumSize(){var re;return null!==(re=this.column.maximumWidth)&&void 0!==re?re:Number.POSITIVE_INFINITY}get onDidChange(){var re;return null!==(re=this.column.onDidChangeWidthConstraints)&&void 0!==re?re:y.ju.None}constructor(re,We){this.column=re,this.index=We,this._onDidLayout=new y.Q5,this.onDidLayout=this._onDidLayout.event,this.element=(0,f.$)(".monaco-table-th",{"data-col-index":We,title:re.tooltip},re.label)}layout(re){this._onDidLayout.fire([this.index,re])}}let G=(()=>{class Gt{get onDidChangeFocus(){return this.list.onDidChangeFocus}get onDidChangeSelection(){return this.list.onDidChangeSelection}get onDidScroll(){return this.list.onDidScroll}get onMouseDblClick(){return this.list.onMouseDblClick}get onPointer(){return this.list.onPointer}get onDidFocus(){return this.list.onDidFocus}get scrollTop(){return this.list.scrollTop}set scrollTop(We){this.list.scrollTop=We}get scrollHeight(){return this.list.scrollHeight}get renderHeight(){return this.list.renderHeight}get onDidDispose(){return this.list.onDidDispose}constructor(We,rt,Pt,Kt,ti,yi){this.virtualDelegate=Pt,this.domId="table_id_"+ ++Gt.InstanceCount,this.disposables=new v.SL,this.cachedWidth=0,this.cachedHeight=0,this.domNode=(0,f.R3)(rt,(0,f.$)(`.monaco-table.${this.domId}`));const Li=Kt.map((rn,ln)=>new B(rn,ln)),sn={size:Li.reduce((rn,ln)=>rn+ln.column.weight,0),views:Li.map(rn=>({size:rn.column.weight,view:rn}))};this.splitview=this.disposables.add(new u.z(this.domNode,{orientation:1,scrollbarVisibility:2,getSashOrthogonalSize:()=>this.cachedHeight,descriptor:sn})),this.splitview.el.style.height=`${Pt.headerRowHeight}px`,this.splitview.el.style.lineHeight=`${Pt.headerRowHeight}px`;const on=new U(Kt,ti,rn=>this.splitview.getViewSize(rn));this.list=this.disposables.add(new T.aV(We,this.domNode,function ee(Gt){return{getHeight:re=>Gt.getHeight(re),getTemplateId:()=>U.TemplateId}}(Pt),[on],yi)),y.ju.any(...Li.map(rn=>rn.onDidLayout))(([rn,ln])=>on.layoutColumn(rn,ln),null,this.disposables),this.splitview.onDidSashReset(rn=>{const ln=Kt.reduce((Xi,tn)=>Xi+tn.weight,0);this.splitview.resizeView(rn,Kt[rn].weight/ln*this.cachedWidth)},null,this.disposables),this.styleElement=(0,f.dS)(this.domNode),this.style(T.uZ)}updateOptions(We){this.list.updateOptions(We)}splice(We,rt,Pt=[]){this.list.splice(We,rt,Pt)}getHTMLElement(){return this.domNode}style(We){const rt=[];rt.push(`.monaco-table.${this.domId} > .monaco-split-view2 .monaco-sash.vertical::before {\n\t\t\ttop: ${this.virtualDelegate.headerRowHeight+1}px;\n\t\t\theight: calc(100% - ${this.virtualDelegate.headerRowHeight}px);\n\t\t}`),this.styleElement.textContent=rt.join("\n"),this.list.style(We)}getSelectedElements(){return this.list.getSelectedElements()}getSelection(){return this.list.getSelection()}getFocus(){return this.list.getFocus()}dispose(){this.disposables.dispose()}}return Gt.InstanceCount=0,Gt})();e(49489);var j=e(89271),te=(e(26775),e(92161),e(33386),e(65675)),_=(e(50145),function(Gt){return Gt[Gt.Expanded=0]="Expanded",Gt[Gt.Collapsed=1]="Collapsed",Gt[Gt.PreserveOrExpanded=2]="PreserveOrExpanded",Gt[Gt.PreserveOrCollapsed=3]="PreserveOrCollapsed",Gt}(_||{})),ae=function(Gt){return Gt[Gt.Unknown=0]="Unknown",Gt[Gt.Twistie=1]="Twistie",Gt[Gt.Element=2]="Element",Gt[Gt.Filter=3]="Filter",Gt}(ae||{});class ge extends Error{constructor(re,We){super(`TreeError [${re}] ${We}`)}}class _e{constructor(re){this.fn=re,this._map=new WeakMap}map(re){let We=this._map.get(re);return We||(We=this.fn(re),this._map.set(re,We)),We}}var ue=e(85328),ve=e(73447),Ie=e(55507),Se=e(68733);function Ve(Gt){return"object"==typeof Gt&&"visibility"in Gt&&"data"in Gt}function De(Gt){switch(Gt){case!0:return 1;case!1:return 0;default:return Gt}}function ye(Gt){return"boolean"==typeof Gt.collapsible}class oe{constructor(re,We,rt,Pt={}){this.user=re,this.list=We,this.rootRef=[],this.eventBufferer=new y.E7,this._onDidChangeCollapseState=new y.Q5,this.onDidChangeCollapseState=this.eventBufferer.wrapEvent(this._onDidChangeCollapseState.event),this._onDidChangeRenderNodeCount=new y.Q5,this.onDidChangeRenderNodeCount=this.eventBufferer.wrapEvent(this._onDidChangeRenderNodeCount.event),this._onDidSplice=new y.Q5,this.onDidSplice=this._onDidSplice.event,this.refilterDelayer=new ue.vp(ve.n),this.collapseByDefault=!(typeof Pt.collapseByDefault>"u")&&Pt.collapseByDefault,this.filter=Pt.filter,this.autoExpandSingleChildren=!(typeof Pt.autoExpandSingleChildren>"u")&&Pt.autoExpandSingleChildren,this.root={parent:void 0,element:rt,children:[],depth:0,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:!1,collapsed:!1,renderNodeCount:0,visibility:1,visible:!0,filterData:void 0}}splice(re,We,rt=Se.$.empty(),Pt={}){if(0===re.length)throw new ge(this.user,"Invalid tree location");Pt.diffIdentityProvider?this.spliceSmart(Pt.diffIdentityProvider,re,We,rt,Pt):this.spliceSimple(re,We,rt,Pt)}spliceSmart(re,We,rt,Pt,Kt,ti){var yi;void 0===Pt&&(Pt=Se.$.empty()),void 0===ti&&(ti=null!==(yi=Kt.diffDepth)&&void 0!==yi?yi:0);const{parentNode:Li}=this.getParentNodeWithListIndex(We);if(!Li.lastDiffIds)return this.spliceSimple(We,rt,Pt,Kt);const sn=[...Pt],on=We[We.length-1],rn=new Ie.Hs({getElements:()=>Li.lastDiffIds},{getElements:()=>[...Li.children.slice(0,on),...sn,...Li.children.slice(on+rt)].map(Rn=>re.getId(Rn.element).toString())}).ComputeDiff(!1);if(rn.quitEarly)return Li.lastDiffIds=void 0,this.spliceSimple(We,rt,sn,Kt);const ln=We.slice(0,-1),_n=(Rn,io,is)=>{if(ti>0)for(let Mo=0;Mo<is;Mo++)Rn--,io--,this.spliceSmart(re,[...ln,Rn,0],Number.MAX_SAFE_INTEGER,sn[io].children,Kt,ti-1)};let Xi=Math.min(Li.children.length,on+rt),tn=sn.length;for(const Rn of rn.changes.sort((io,is)=>is.originalStart-io.originalStart))_n(Xi,tn,Xi-(Rn.originalStart+Rn.originalLength)),Xi=Rn.originalStart,tn=Rn.modifiedStart-on,this.spliceSimple([...ln,Xi],Rn.originalLength,Se.$.slice(sn,tn,tn+Rn.modifiedLength),Kt);_n(Xi,tn,Xi)}spliceSimple(re,We,rt=Se.$.empty(),{onDidCreateNode:Pt,onDidDeleteNode:Kt,diffIdentityProvider:ti}){const{parentNode:yi,listIndex:Li,revealed:sn,visible:on}=this.getParentNodeWithListIndex(re),rn=[],ln=Se.$.map(rt,fo=>this.createTreeNode(fo,yi,yi.visible?1:0,sn,rn,Pt)),_n=re[re.length-1],Xi=yi.children.length>0;let tn=0;for(let fo=_n;fo>=0&&fo<yi.children.length;fo--){const Eo=yi.children[fo];if(Eo.visible){tn=Eo.visibleChildIndex;break}}const Rn=[];let io=0,is=0;for(const fo of ln)Rn.push(fo),is+=fo.renderNodeCount,fo.visible&&(fo.visibleChildIndex=tn+io++);const Mo=(0,P.db)(yi.children,_n,We,Rn);ti?yi.lastDiffIds?(0,P.db)(yi.lastDiffIds,_n,We,Rn.map(fo=>ti.getId(fo.element).toString())):yi.lastDiffIds=yi.children.map(fo=>ti.getId(fo.element).toString()):yi.lastDiffIds=void 0;let Qo=0;for(const fo of Mo)fo.visible&&Qo++;if(0!==Qo)for(let fo=_n+Rn.length;fo<yi.children.length;fo++){const Eo=yi.children[fo];Eo.visible&&(Eo.visibleChildIndex-=Qo)}if(yi.visibleChildrenCount+=io-Qo,sn&&on){const fo=Mo.reduce((Eo,Go)=>Eo+(Go.visible?Go.renderNodeCount:0),0);this._updateAncestorsRenderNodeCount(yi,is-fo),this.list.splice(Li,fo,rn)}if(Mo.length>0&&Kt){const fo=Eo=>{Kt(Eo),Eo.children.forEach(fo)};Mo.forEach(fo)}this._onDidSplice.fire({insertedNodes:Rn,deletedNodes:Mo});const $o=yi.children.length>0;Xi!==$o&&this.setCollapsible(re.slice(0,-1),$o);let xs=yi;for(;xs;){if(2===xs.visibility){this.refilterDelayer.trigger(()=>this.refilter());break}xs=xs.parent}}rerender(re){if(0===re.length)throw new ge(this.user,"Invalid tree location");const{node:We,listIndex:rt,revealed:Pt}=this.getTreeNodeWithListIndex(re);We.visible&&Pt&&this.list.splice(rt,1,[We])}has(re){return this.hasTreeNode(re)}getListIndex(re){const{listIndex:We,visible:rt,revealed:Pt}=this.getTreeNodeWithListIndex(re);return rt&&Pt?We:-1}getListRenderCount(re){return this.getTreeNode(re).renderNodeCount}isCollapsible(re){return this.getTreeNode(re).collapsible}setCollapsible(re,We){const rt=this.getTreeNode(re);typeof We>"u"&&(We=!rt.collapsible);const Pt={collapsible:We};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(re,Pt))}isCollapsed(re){return this.getTreeNode(re).collapsed}setCollapsed(re,We,rt){const Pt=this.getTreeNode(re);typeof We>"u"&&(We=!Pt.collapsed);const Kt={collapsed:We,recursive:rt||!1};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(re,Kt))}_setCollapseState(re,We){const{node:rt,listIndex:Pt,revealed:Kt}=this.getTreeNodeWithListIndex(re),ti=this._setListNodeCollapseState(rt,Pt,Kt,We);if(rt!==this.root&&this.autoExpandSingleChildren&&ti&&!ye(We)&&rt.collapsible&&!rt.collapsed&&!We.recursive){let yi=-1;for(let Li=0;Li<rt.children.length;Li++)if(rt.children[Li].visible){if(yi>-1){yi=-1;break}yi=Li}yi>-1&&this._setCollapseState([...re,yi],We)}return ti}_setListNodeCollapseState(re,We,rt,Pt){const Kt=this._setNodeCollapseState(re,Pt,!1);if(!rt||!re.visible||!Kt)return Kt;const ti=re.renderNodeCount,yi=this.updateNodeAfterCollapseChange(re);return this.list.splice(We+1,ti-(-1===We?0:1),yi.slice(1)),Kt}_setNodeCollapseState(re,We,rt){let Pt;if(re===this.root?Pt=!1:(ye(We)?(Pt=re.collapsible!==We.collapsible,re.collapsible=We.collapsible):re.collapsible?(Pt=re.collapsed!==We.collapsed,re.collapsed=We.collapsed):Pt=!1,Pt&&this._onDidChangeCollapseState.fire({node:re,deep:rt})),!ye(We)&&We.recursive)for(const Kt of re.children)Pt=this._setNodeCollapseState(Kt,We,!0)||Pt;return Pt}expandTo(re){this.eventBufferer.bufferEvents(()=>{let We=this.getTreeNode(re);for(;We.parent;)We=We.parent,re=re.slice(0,re.length-1),We.collapsed&&this._setCollapseState(re,{collapsed:!1,recursive:!1})})}refilter(){const re=this.root.renderNodeCount,We=this.updateNodeAfterFilterChange(this.root);this.list.splice(0,re,We),this.refilterDelayer.cancel()}createTreeNode(re,We,rt,Pt,Kt,ti){const yi={parent:We,element:re.element,children:[],depth:We.depth+1,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:"boolean"==typeof re.collapsible?re.collapsible:typeof re.collapsed<"u",collapsed:typeof re.collapsed>"u"?this.collapseByDefault:re.collapsed,renderNodeCount:1,visibility:1,visible:!0,filterData:void 0},Li=this._filterNode(yi,rt);yi.visibility=Li,Pt&&Kt.push(yi);const sn=re.children||Se.$.empty(),on=Pt&&0!==Li&&!yi.collapsed;let rn=0,ln=1;for(const _n of sn){const Xi=this.createTreeNode(_n,yi,Li,on,Kt,ti);yi.children.push(Xi),ln+=Xi.renderNodeCount,Xi.visible&&(Xi.visibleChildIndex=rn++)}return yi.collapsible=yi.collapsible||yi.children.length>0,yi.visibleChildrenCount=rn,yi.visible=2===Li?rn>0:1===Li,yi.visible?yi.collapsed||(yi.renderNodeCount=ln):(yi.renderNodeCount=0,Pt&&Kt.pop()),ti?.(yi),yi}updateNodeAfterCollapseChange(re){const We=re.renderNodeCount,rt=[];return this._updateNodeAfterCollapseChange(re,rt),this._updateAncestorsRenderNodeCount(re.parent,rt.length-We),rt}_updateNodeAfterCollapseChange(re,We){if(!1===re.visible)return 0;if(We.push(re),re.renderNodeCount=1,!re.collapsed)for(const rt of re.children)re.renderNodeCount+=this._updateNodeAfterCollapseChange(rt,We);return this._onDidChangeRenderNodeCount.fire(re),re.renderNodeCount}updateNodeAfterFilterChange(re){const We=re.renderNodeCount,rt=[];return this._updateNodeAfterFilterChange(re,re.visible?1:0,rt),this._updateAncestorsRenderNodeCount(re.parent,rt.length-We),rt}_updateNodeAfterFilterChange(re,We,rt,Pt=!0){let Kt;if(re!==this.root){if(Kt=this._filterNode(re,We),0===Kt)return re.visible=!1,re.renderNodeCount=0,!1;Pt&&rt.push(re)}const ti=rt.length;re.renderNodeCount=re===this.root?0:1;let yi=!1;if(re.collapsed&&0===Kt)re.visibleChildrenCount=0;else{let Li=0;for(const sn of re.children)yi=this._updateNodeAfterFilterChange(sn,Kt,rt,Pt&&!re.collapsed)||yi,sn.visible&&(sn.visibleChildIndex=Li++);re.visibleChildrenCount=Li}return re!==this.root&&(re.visible=2===Kt?yi:1===Kt,re.visibility=Kt),re.visible?re.collapsed||(re.renderNodeCount+=rt.length-ti):(re.renderNodeCount=0,Pt&&rt.pop()),this._onDidChangeRenderNodeCount.fire(re),re.visible}_updateAncestorsRenderNodeCount(re,We){if(0!==We)for(;re;)re.renderNodeCount+=We,this._onDidChangeRenderNodeCount.fire(re),re=re.parent}_filterNode(re,We){const rt=this.filter?this.filter.filter(re.element,We):1;return"boolean"==typeof rt?(re.filterData=void 0,rt?1:0):Ve(rt)?(re.filterData=rt.data,De(rt.visibility)):(re.filterData=void 0,De(rt))}hasTreeNode(re,We=this.root){if(!re||0===re.length)return!0;const[rt,...Pt]=re;return!(rt<0||rt>We.children.length)&&this.hasTreeNode(Pt,We.children[rt])}getTreeNode(re,We=this.root){if(!re||0===re.length)return We;const[rt,...Pt]=re;if(rt<0||rt>We.children.length)throw new ge(this.user,"Invalid tree location");return this.getTreeNode(Pt,We.children[rt])}getTreeNodeWithListIndex(re){if(0===re.length)return{node:this.root,listIndex:-1,revealed:!0,visible:!1};const{parentNode:We,listIndex:rt,revealed:Pt,visible:Kt}=this.getParentNodeWithListIndex(re),ti=re[re.length-1];if(ti<0||ti>We.children.length)throw new ge(this.user,"Invalid tree location");const yi=We.children[ti];return{node:yi,listIndex:rt,revealed:Pt,visible:Kt&&yi.visible}}getParentNodeWithListIndex(re,We=this.root,rt=0,Pt=!0,Kt=!0){const[ti,...yi]=re;if(ti<0||ti>We.children.length)throw new ge(this.user,"Invalid tree location");for(let Li=0;Li<ti;Li++)rt+=We.children[Li].renderNodeCount;return Pt=Pt&&!We.collapsed,Kt=Kt&&We.visible,0===yi.length?{parentNode:We,listIndex:rt,revealed:Pt,visible:Kt}:this.getParentNodeWithListIndex(yi,We.children[ti],rt+1,Pt,Kt)}getNode(re=[]){return this.getTreeNode(re)}getNodeLocation(re){const We=[];let rt=re;for(;rt.parent;)We.push(rt.parent.children.indexOf(rt)),rt=rt.parent;return We.reverse()}getParentNodeLocation(re){if(0!==re.length)return 1===re.length?[]:(0,P.JH)(re)[0]}getFirstElementChild(re){const We=this.getTreeNode(re);if(0!==We.children.length)return We.children[0].element}}e(54457);var x=e(27222),F=e(35053),ie=e(715),Ce=e(55769),ke=e(53499),Pe=e(91402),xe=e(61766),fe={};fe.styleTagTransform=k(),fe.setAttributes=w(),fe.insert=l().bind(null,"head"),fe.domAPI=a(),fe.insertStyleElement=N(),i()(xe.Z,fe);var Q=e(37190);class Fe extends te.kX{constructor(re){super(re.elements.map(We=>We.element)),this.data=re}}function He(Gt){return Gt instanceof te.kX?new Fe(Gt):Gt}class Je{constructor(re,We){this.modelProvider=re,this.dnd=We,this.autoExpandDisposable=v.JT.None}getDragURI(re){return this.dnd.getDragURI(re.element)}getDragLabel(re,We){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(re.map(rt=>rt.element),We)}onDragStart(re,We){var rt,Pt;null===(Pt=(rt=this.dnd).onDragStart)||void 0===Pt||Pt.call(rt,He(re),We)}onDragOver(re,We,rt,Pt,Kt=!0){const ti=this.dnd.onDragOver(He(re),We&&We.element,rt,Pt),yi=this.autoExpandNode!==We;if(yi&&(this.autoExpandDisposable.dispose(),this.autoExpandNode=We),typeof We>"u")return ti;if(yi&&"boolean"!=typeof ti&&ti.autoExpand&&(this.autoExpandDisposable=(0,ue.Vg)(()=>{const ln=this.modelProvider(),_n=ln.getNodeLocation(We);ln.isCollapsed(_n)&&ln.setCollapsed(_n,!1),this.autoExpandNode=void 0},500)),"boolean"==typeof ti||!ti.accept||typeof ti.bubble>"u"||ti.feedback)return Kt?ti:{accept:"boolean"==typeof ti?ti:ti.accept,effect:"boolean"==typeof ti?void 0:ti.effect,feedback:[rt]};if(1===ti.bubble){const ln=this.modelProvider(),_n=ln.getNodeLocation(We),Xi=ln.getParentNodeLocation(_n),tn=ln.getNode(Xi),Rn=Xi&&ln.getListIndex(Xi);return this.onDragOver(re,tn,Rn,Pt,!1)}const Li=this.modelProvider(),sn=Li.getNodeLocation(We),on=Li.getListIndex(sn),rn=Li.getListRenderCount(sn);return Object.assign(Object.assign({},ti),{feedback:(0,P.w6)(on,on+rn)})}drop(re,We,rt,Pt){this.autoExpandDisposable.dispose(),this.autoExpandNode=void 0,this.dnd.drop(He(re),We&&We.element,rt,Pt)}onDragEnd(re){var We,rt;null===(rt=(We=this.dnd).onDragEnd)||void 0===rt||rt.call(We,re)}}class lt{constructor(re){this.delegate=re}getHeight(re){return this.delegate.getHeight(re.element)}getTemplateId(re){return this.delegate.getTemplateId(re.element)}hasDynamicHeight(re){return!!this.delegate.hasDynamicHeight&&this.delegate.hasDynamicHeight(re.element)}setDynamicHeight(re,We){var rt,Pt;null===(Pt=(rt=this.delegate).setDynamicHeight)||void 0===Pt||Pt.call(rt,re.element,We)}}var mt=function(Gt){return Gt.None="none",Gt.OnHover="onHover",Gt.Always="always",Gt}(mt||{});class ft{get elements(){return this._elements}constructor(re,We=[]){this._elements=We,this.disposables=new v.SL,this.onDidChange=y.ju.forEach(re,rt=>this._elements=rt,this.disposables)}dispose(){this.disposables.dispose()}}let Lt=(()=>{class Gt{constructor(We,rt,Pt,Kt,ti,yi={}){var Li;this.renderer=We,this.modelProvider=rt,this.activeNodes=Kt,this.renderedIndentGuides=ti,this.renderedElements=new Map,this.renderedNodes=new Map,this.indent=Gt.DefaultIndent,this.hideTwistiesOfChildlessElements=!1,this.shouldRenderIndentGuides=!1,this.activeIndentNodes=new Set,this.indentGuidesDisposable=v.JT.None,this.disposables=new v.SL,this.templateId=We.templateId,this.updateOptions(yi),y.ju.map(Pt,sn=>sn.node)(this.onDidChangeNodeTwistieState,this,this.disposables),null===(Li=We.onDidChangeTwistieState)||void 0===Li||Li.call(We,this.onDidChangeTwistieState,this,this.disposables)}updateOptions(We={}){if(typeof We.indent<"u"){const rt=(0,ke.uZ)(We.indent,0,40);if(rt!==this.indent){this.indent=rt;for(const[Pt,Kt]of this.renderedNodes)this.renderTreeElement(Pt,Kt)}}if(typeof We.renderIndentGuides<"u"){const rt=We.renderIndentGuides!==mt.None;if(rt!==this.shouldRenderIndentGuides){this.shouldRenderIndentGuides=rt;for(const[Pt,Kt]of this.renderedNodes)this._renderIndentGuides(Pt,Kt);if(this.indentGuidesDisposable.dispose(),rt){const Pt=new v.SL;this.activeNodes.onDidChange(this._onDidChangeActiveNodes,this,Pt),this.indentGuidesDisposable=Pt,this._onDidChangeActiveNodes(this.activeNodes.elements)}}}typeof We.hideTwistiesOfChildlessElements<"u"&&(this.hideTwistiesOfChildlessElements=We.hideTwistiesOfChildlessElements)}renderTemplate(We){const rt=(0,f.R3)(We,(0,f.$)(".monaco-tl-row")),Pt=(0,f.R3)(rt,(0,f.$)(".monaco-tl-indent")),Kt=(0,f.R3)(rt,(0,f.$)(".monaco-tl-twistie")),ti=(0,f.R3)(rt,(0,f.$)(".monaco-tl-contents")),yi=this.renderer.renderTemplate(ti);return{container:We,indent:Pt,twistie:Kt,indentGuidesDisposable:v.JT.None,templateData:yi}}renderElement(We,rt,Pt,Kt){this.renderedNodes.set(We,Pt),this.renderedElements.set(We.element,We),this.renderTreeElement(We,Pt),this.renderer.renderElement(We,rt,Pt.templateData,Kt)}disposeElement(We,rt,Pt,Kt){var ti,yi;Pt.indentGuidesDisposable.dispose(),null===(yi=(ti=this.renderer).disposeElement)||void 0===yi||yi.call(ti,We,rt,Pt.templateData,Kt),"number"==typeof Kt&&(this.renderedNodes.delete(We),this.renderedElements.delete(We.element))}disposeTemplate(We){this.renderer.disposeTemplate(We.templateData)}onDidChangeTwistieState(We){const rt=this.renderedElements.get(We);rt&&this.onDidChangeNodeTwistieState(rt)}onDidChangeNodeTwistieState(We){const rt=this.renderedNodes.get(We);rt&&(this._onDidChangeActiveNodes(this.activeNodes.elements),this.renderTreeElement(We,rt))}renderTreeElement(We,rt){const Pt=Gt.DefaultIndent+(We.depth-1)*this.indent;rt.twistie.style.paddingLeft=`${Pt}px`,rt.indent.style.width=Pt+this.indent-16+"px",We.collapsible?rt.container.setAttribute("aria-expanded",String(!We.collapsed)):rt.container.removeAttribute("aria-expanded"),rt.twistie.classList.remove(...F.k.asClassNameArray(x.l.treeItemExpanded));let Kt=!1;this.renderer.renderTwistie&&(Kt=this.renderer.renderTwistie(We.element,rt.twistie)),We.collapsible&&(!this.hideTwistiesOfChildlessElements||We.visibleChildrenCount>0)?(Kt||rt.twistie.classList.add(...F.k.asClassNameArray(x.l.treeItemExpanded)),rt.twistie.classList.add("collapsible"),rt.twistie.classList.toggle("collapsed",We.collapsed)):rt.twistie.classList.remove("collapsible","collapsed"),this._renderIndentGuides(We,rt)}_renderIndentGuides(We,rt){if((0,f.PO)(rt.indent),rt.indentGuidesDisposable.dispose(),!this.shouldRenderIndentGuides)return;const Pt=new v.SL,Kt=this.modelProvider();for(;;){const ti=Kt.getNodeLocation(We),yi=Kt.getParentNodeLocation(ti);if(!yi)break;const Li=Kt.getNode(yi),sn=(0,f.$)(".indent-guide",{style:`width: ${this.indent}px`});this.activeIndentNodes.has(Li)&&sn.classList.add("active"),0===rt.indent.childElementCount?rt.indent.appendChild(sn):rt.indent.insertBefore(sn,rt.indent.firstElementChild),this.renderedIndentGuides.add(Li,sn),Pt.add((0,v.OF)(()=>this.renderedIndentGuides.delete(Li,sn))),We=Li}rt.indentGuidesDisposable=Pt}_onDidChangeActiveNodes(We){if(!this.shouldRenderIndentGuides)return;const rt=new Set,Pt=this.modelProvider();We.forEach(Kt=>{const ti=Pt.getNodeLocation(Kt);try{const yi=Pt.getParentNodeLocation(ti);Kt.collapsible&&Kt.children.length>0&&!Kt.collapsed?rt.add(Kt):yi&&rt.add(Pt.getNode(yi))}catch{}}),this.activeIndentNodes.forEach(Kt=>{rt.has(Kt)||this.renderedIndentGuides.forEach(Kt,ti=>ti.classList.remove("active"))}),rt.forEach(Kt=>{this.activeIndentNodes.has(Kt)||this.renderedIndentGuides.forEach(Kt,ti=>ti.classList.add("active"))}),this.activeIndentNodes=rt}dispose(){this.renderedNodes.clear(),this.renderedElements.clear(),this.indentGuidesDisposable.dispose(),(0,v.B9)(this.disposables)}}return Gt.DefaultIndent=8,Gt})();class Tt{get totalCount(){return this._totalCount}get matchCount(){return this._matchCount}constructor(re,We,rt){this.tree=re,this.keyboardNavigationLabelProvider=We,this._filter=rt,this._totalCount=0,this._matchCount=0,this._pattern="",this._lowercasePattern="",this.disposables=new v.SL,re.onWillRefilter(this.reset,this,this.disposables)}filter(re,We){let rt=1;if(this._filter){const ti=this._filter.filter(re,We);if(rt="boolean"==typeof ti?ti?1:0:Ve(ti)?De(ti.visibility):ti,0===rt)return!1}if(this._totalCount++,!this._pattern)return this._matchCount++,{data:Ce.CL.Default,visibility:rt};const Pt=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(re),Kt=Array.isArray(Pt)?Pt:[Pt];for(const ti of Kt){const yi=ti&&ti.toString();if(typeof yi>"u")return{data:Ce.CL.Default,visibility:rt};let Li;if(this.tree.findMatchType===it.Contiguous){const sn=yi.toLowerCase().indexOf(this._lowercasePattern);if(sn>-1){Li=[Number.MAX_SAFE_INTEGER,0];for(let on=this._lowercasePattern.length;on>0;on--)Li.push(sn+on-1)}}else Li=(0,Ce.EW)(this._pattern,this._lowercasePattern,0,yi,yi.toLowerCase(),0,{firstMatchCanBeWeak:!0,boostFullMatch:!0});if(Li)return this._matchCount++,1===Kt.length?{data:Li,visibility:rt}:{data:{label:yi,score:Li},visibility:rt}}return this.tree.findMode===It.Filter?"number"==typeof this.tree.options.defaultFindVisibility?this.tree.options.defaultFindVisibility:this.tree.options.defaultFindVisibility?this.tree.options.defaultFindVisibility(re):2:{data:Ce.CL.Default,visibility:rt}}reset(){this._totalCount=0,this._matchCount=0}dispose(){(0,v.B9)(this.disposables)}}var It=function(Gt){return Gt[Gt.Highlight=0]="Highlight",Gt[Gt.Filter=1]="Filter",Gt}(It||{}),it=function(Gt){return Gt[Gt.Fuzzy=0]="Fuzzy",Gt[Gt.Contiguous=1]="Contiguous",Gt}(it||{});class Ze{get pattern(){return this._pattern}get mode(){return this._mode}set mode(re){re!==this._mode&&(this._mode=re,this.widget&&(this.widget.mode=this._mode),this.tree.refilter(),this.render(),this._onDidChangeMode.fire(re))}get matchType(){return this._matchType}set matchType(re){re!==this._matchType&&(this._matchType=re,this.widget&&(this.widget.matchType=this._matchType),this.tree.refilter(),this.render(),this._onDidChangeMatchType.fire(re))}constructor(re,We,rt,Pt,Kt,ti={}){var yi,Li;this.tree=re,this.view=rt,this.filter=Pt,this.contextViewProvider=Kt,this.options=ti,this._pattern="",this.width=0,this._onDidChangeMode=new y.Q5,this.onDidChangeMode=this._onDidChangeMode.event,this._onDidChangeMatchType=new y.Q5,this.onDidChangeMatchType=this._onDidChangeMatchType.event,this._onDidChangePattern=new y.Q5,this._onDidChangeOpenState=new y.Q5,this.onDidChangeOpenState=this._onDidChangeOpenState.event,this.enabledDisposables=new v.SL,this.disposables=new v.SL,this._mode=null!==(yi=re.options.defaultFindMode)&&void 0!==yi?yi:It.Highlight,this._matchType=null!==(Li=re.options.defaultFindMatchType)&&void 0!==Li?Li:it.Fuzzy,We.onDidSplice(this.onDidSpliceModel,this,this.disposables)}updateOptions(re={}){void 0!==re.defaultFindMode&&(this.mode=re.defaultFindMode),void 0!==re.defaultFindMatchType&&(this.matchType=re.defaultFindMatchType)}onDidSpliceModel(){!this.widget||0===this.pattern.length||(this.tree.refilter(),this.render())}render(){var re,We,rt,Pt;this.pattern&&this.filter.totalCount>0&&0===this.filter.matchCount?null===(re=this.tree.options.showNotFoundMessage)||void 0===re||re?null===(We=this.widget)||void 0===We||We.showMessage({type:2,content:(0,Q.NC)("not found","No elements found.")}):null===(rt=this.widget)||void 0===rt||rt.showMessage({type:2}):null===(Pt=this.widget)||void 0===Pt||Pt.clearMessage()}shouldAllowFocus(re){return!this.widget||!this.pattern||this._mode===It.Filter||this.filter.totalCount>0&&this.filter.matchCount<=1||!Ce.CL.isDefault(re.filterData)}layout(re){var We;this.width=re,null===(We=this.widget)||void 0===We||We.layout(re)}dispose(){this._history=void 0,this._onDidChangePattern.dispose(),this.enabledDisposables.dispose(),this.disposables.dispose()}}function Ee(Gt){let re=ae.Unknown;return(0,f.uU)(Gt.browserEvent.target,"monaco-tl-twistie","monaco-tl-row")?re=ae.Twistie:(0,f.uU)(Gt.browserEvent.target,"monaco-tl-contents","monaco-tl-row")?re=ae.Element:(0,f.uU)(Gt.browserEvent.target,"monaco-tree-type-filter","monaco-list")&&(re=ae.Filter),{browserEvent:Gt.browserEvent,element:Gt.element?Gt.element.element:null,target:re}}function Te(Gt,re){re(Gt),Gt.children.forEach(We=>Te(We,re))}class Ae{get nodeSet(){return this._nodeSet||(this._nodeSet=this.createNodeSet()),this._nodeSet}constructor(re,We){this.getFirstViewElementWithTrait=re,this.identityProvider=We,this.nodes=[],this._onDidChange=new y.Q5,this.onDidChange=this._onDidChange.event}set(re,We){!We?.__forceEvent&&(0,P.fS)(this.nodes,re)||this._set(re,!1,We)}_set(re,We,rt){if(this.nodes=[...re],this.elements=void 0,this._nodeSet=void 0,!We){const Pt=this;this._onDidChange.fire({get elements(){return Pt.get()},browserEvent:rt})}}get(){return this.elements||(this.elements=this.nodes.map(re=>re.element)),[...this.elements]}getNodes(){return this.nodes}has(re){return this.nodeSet.has(re)}onDidModelSplice({insertedNodes:re,deletedNodes:We}){if(!this.identityProvider){const Li=this.createNodeSet(),sn=on=>Li.delete(on);return We.forEach(on=>Te(on,sn)),void this.set([...Li.values()])}const rt=new Set,Pt=Li=>rt.add(this.identityProvider.getId(Li.element).toString());We.forEach(Li=>Te(Li,Pt));const Kt=new Map,ti=Li=>Kt.set(this.identityProvider.getId(Li.element).toString(),Li);re.forEach(Li=>Te(Li,ti));const yi=[];for(const Li of this.nodes){const sn=this.identityProvider.getId(Li.element).toString();if(rt.has(sn)){const rn=Kt.get(sn);rn&&rn.visible&&yi.push(rn)}else yi.push(Li)}if(this.nodes.length>0&&0===yi.length){const Li=this.getFirstViewElementWithTrait();Li&&yi.push(Li)}this._set(yi,!0)}createNodeSet(){const re=new Set;for(const We of this.nodes)re.add(We);return re}}class ht extends T.sx{constructor(re,We){super(re),this.tree=We}onViewPointer(re){if((0,T.iK)(re.browserEvent.target)||(0,T.cK)(re.browserEvent.target)||(0,T.hD)(re.browserEvent.target)||re.browserEvent.isHandledByList)return;const We=re.element;if(!We)return super.onViewPointer(re);if(this.isSelectionRangeChangeEvent(re)||this.isSelectionSingleChangeEvent(re))return super.onViewPointer(re);const rt=re.browserEvent.target,Pt=rt.classList.contains("monaco-tl-twistie")||rt.classList.contains("monaco-icon-label")&&rt.classList.contains("folder-icon")&&re.browserEvent.offsetX<16;let Kt=!1;if(Kt="function"==typeof this.tree.expandOnlyOnTwistieClick?this.tree.expandOnlyOnTwistieClick(We.element):!!this.tree.expandOnlyOnTwistieClick,Kt&&!Pt&&2!==re.browserEvent.detail)return super.onViewPointer(re);if(!this.tree.expandOnDoubleClick&&2===re.browserEvent.detail)return super.onViewPointer(re);if(We.collapsible){const ti=this.tree.getNodeLocation(We),yi=re.browserEvent.altKey;if(this.tree.setFocus([ti]),this.tree.toggleCollapsed(ti,yi),Kt&&Pt)return void(re.browserEvent.isHandledByList=!0)}super.onViewPointer(re)}onDoubleClick(re){re.browserEvent.target.classList.contains("monaco-tl-twistie")||!this.tree.expandOnDoubleClick||re.browserEvent.isHandledByList||super.onDoubleClick(re)}}class yt extends T.aV{constructor(re,We,rt,Pt,Kt,ti,yi,Li){super(re,We,rt,Pt,Li),this.focusTrait=Kt,this.selectionTrait=ti,this.anchorTrait=yi}createMouseController(re){return new ht(this,re.tree)}splice(re,We,rt=[]){if(super.splice(re,We,rt),0===rt.length)return;const Pt=[],Kt=[];let ti;rt.forEach((yi,Li)=>{this.focusTrait.has(yi)&&Pt.push(re+Li),this.selectionTrait.has(yi)&&Kt.push(re+Li),this.anchorTrait.has(yi)&&(ti=re+Li)}),Pt.length>0&&super.setFocus((0,P.EB)([...super.getFocus(),...Pt])),Kt.length>0&&super.setSelection((0,P.EB)([...super.getSelection(),...Kt])),"number"==typeof ti&&super.setAnchor(ti)}setFocus(re,We,rt=!1){super.setFocus(re,We),rt||this.focusTrait.set(re.map(Pt=>this.element(Pt)),We)}setSelection(re,We,rt=!1){super.setSelection(re,We),rt||this.selectionTrait.set(re.map(Pt=>this.element(Pt)),We)}setAnchor(re,We=!1){super.setAnchor(re),We||this.anchorTrait.set(typeof re>"u"?[]:[this.element(re)])}}class Dt{get onDidScroll(){return this.view.onDidScroll}get onDidChangeFocus(){return this.eventBufferer.wrapEvent(this.focus.onDidChange)}get onDidChangeSelection(){return this.eventBufferer.wrapEvent(this.selection.onDidChange)}get onMouseDblClick(){return y.ju.filter(y.ju.map(this.view.onMouseDblClick,Ee),re=>re.target!==ae.Filter)}get onPointer(){return y.ju.map(this.view.onPointer,Ee)}get onDidFocus(){return this.view.onDidFocus}get onDidChangeModel(){return y.ju.signal(this.model.onDidSplice)}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get findMode(){var re,We;return null!==(We=null===(re=this.findController)||void 0===re?void 0:re.mode)&&void 0!==We?We:It.Highlight}set findMode(re){this.findController&&(this.findController.mode=re)}get findMatchType(){var re,We;return null!==(We=null===(re=this.findController)||void 0===re?void 0:re.matchType)&&void 0!==We?We:it.Fuzzy}set findMatchType(re){this.findController&&(this.findController.matchType=re)}get expandOnDoubleClick(){return typeof this._options.expandOnDoubleClick>"u"||this._options.expandOnDoubleClick}get expandOnlyOnTwistieClick(){return typeof this._options.expandOnlyOnTwistieClick>"u"||this._options.expandOnlyOnTwistieClick}get onDidDispose(){return this.view.onDidDispose}constructor(re,We,rt,Pt,Kt={}){var ti;this._user=re,this._options=Kt,this.eventBufferer=new y.E7,this.onDidChangeFindOpenState=y.ju.None,this.disposables=new v.SL,this._onWillRefilter=new y.Q5,this.onWillRefilter=this._onWillRefilter.event,this._onDidUpdateOptions=new y.Q5;const yi=new lt(rt),Li=new y.ZD,sn=new y.ZD,on=this.disposables.add(new ft(sn.event)),rn=new ie.r;this.renderers=Pt.map(Xi=>new Lt(Xi,()=>this.model,Li.event,on,rn,Kt));for(const Xi of this.renderers)this.disposables.add(Xi);let ln;Kt.keyboardNavigationLabelProvider&&(ln=new Tt(this,Kt.keyboardNavigationLabelProvider,Kt.filter),Kt=Object.assign(Object.assign({},Kt),{filter:ln}),this.disposables.add(ln)),this.focus=new Ae(()=>this.view.getFocusedElements()[0],Kt.identityProvider),this.selection=new Ae(()=>this.view.getSelectedElements()[0],Kt.identityProvider),this.anchor=new Ae(()=>this.view.getAnchorElement(),Kt.identityProvider),this.view=new yt(re,We,yi,this.renderers,this.focus,this.selection,this.anchor,Object.assign(Object.assign({},function ot(Gt,re){return re&&Object.assign(Object.assign({},re),{identityProvider:re.identityProvider&&{getId:We=>re.identityProvider.getId(We.element)},dnd:re.dnd&&new Je(Gt,re.dnd),multipleSelectionController:re.multipleSelectionController&&{isSelectionSingleChangeEvent:We=>re.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},We),{element:We.element})),isSelectionRangeChangeEvent:We=>re.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},We),{element:We.element}))},accessibilityProvider:re.accessibilityProvider&&Object.assign(Object.assign({},re.accessibilityProvider),{getSetSize(We){const rt=Gt(),Pt=rt.getNodeLocation(We),Kt=rt.getParentNodeLocation(Pt);return rt.getNode(Kt).visibleChildrenCount},getPosInSet:We=>We.visibleChildIndex+1,isChecked:re.accessibilityProvider&&re.accessibilityProvider.isChecked?We=>re.accessibilityProvider.isChecked(We.element):void 0,getRole:re.accessibilityProvider&&re.accessibilityProvider.getRole?We=>re.accessibilityProvider.getRole(We.element):()=>"treeitem",getAriaLabel:We=>re.accessibilityProvider.getAriaLabel(We.element),getWidgetAriaLabel:()=>re.accessibilityProvider.getWidgetAriaLabel(),getWidgetRole:re.accessibilityProvider&&re.accessibilityProvider.getWidgetRole?()=>re.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:re.accessibilityProvider&&re.accessibilityProvider.getAriaLevel?We=>re.accessibilityProvider.getAriaLevel(We.element):We=>We.depth,getActiveDescendantId:re.accessibilityProvider.getActiveDescendantId&&(We=>re.accessibilityProvider.getActiveDescendantId(We.element))}),keyboardNavigationLabelProvider:re.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},re.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel:We=>re.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(We.element)})})}(()=>this.model,Kt)),{tree:this})),this.model=this.createModel(re,this.view,Kt),Li.input=this.model.onDidChangeCollapseState;const _n=y.ju.forEach(this.model.onDidSplice,Xi=>{this.eventBufferer.bufferEvents(()=>{this.focus.onDidModelSplice(Xi),this.selection.onDidModelSplice(Xi)})},this.disposables);if(_n(()=>null,null,this.disposables),sn.input=y.ju.chain(y.ju.any(_n,this.focus.onDidChange,this.selection.onDidChange)).debounce(()=>null,0).map(()=>{const Xi=new Set;for(const tn of this.focus.getNodes())Xi.add(tn);for(const tn of this.selection.getNodes())Xi.add(tn);return[...Xi.values()]}).event,!1!==Kt.keyboardSupport){const Xi=y.ju.chain(this.view.onKeyDown).filter(tn=>!(0,T.cK)(tn.target)).map(tn=>new j.y(tn));Xi.filter(tn=>15===tn.keyCode).on(this.onLeftArrow,this,this.disposables),Xi.filter(tn=>17===tn.keyCode).on(this.onRightArrow,this,this.disposables),Xi.filter(tn=>10===tn.keyCode).on(this.onSpace,this,this.disposables)}(null===(ti=Kt.findWidgetEnabled)||void 0===ti||ti)&&Kt.keyboardNavigationLabelProvider&&Kt.contextViewProvider?(this.findController=new Ze(this,this.model,this.view,ln,Kt.contextViewProvider,this.options.findWidgetStyles?{styles:this.options.findWidgetStyles}:void 0),this.focusNavigationFilter=tn=>this.findController.shouldAllowFocus(tn),this.onDidChangeFindOpenState=this.findController.onDidChangeOpenState,this.disposables.add(this.findController),this.onDidChangeFindMode=this.findController.onDidChangeMode,this.onDidChangeFindMatchType=this.findController.onDidChangeMatchType):(this.onDidChangeFindMode=y.ju.None,this.onDidChangeFindMatchType=y.ju.None),this.styleElement=(0,f.dS)(this.view.getHTMLElement()),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===mt.Always)}updateOptions(re={}){var We;this._options=Object.assign(Object.assign({},this._options),re);for(const rt of this.renderers)rt.updateOptions(re);this.view.updateOptions(this._options),null===(We=this.findController)||void 0===We||We.updateOptions(re),this._onDidUpdateOptions.fire(this._options),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===mt.Always)}get options(){return this._options}getHTMLElement(){return this.view.getHTMLElement()}get scrollTop(){return this.view.scrollTop}set scrollTop(re){this.view.scrollTop=re}get scrollHeight(){return this.view.scrollHeight}get renderHeight(){return this.view.renderHeight}domFocus(){this.view.domFocus()}layout(re,We){var rt;this.view.layout(re,We),(0,Pe.hj)(We)&&(null===(rt=this.findController)||void 0===rt||rt.layout(We))}style(re){const We=`.${this.view.domId}`,rt=[];re.treeIndentGuidesStroke&&(rt.push(`.monaco-list${We}:hover .monaco-tl-indent > .indent-guide, .monaco-list${We}.always .monaco-tl-indent > .indent-guide  { border-color: ${re.treeInactiveIndentGuidesStroke}; }`),rt.push(`.monaco-list${We} .monaco-tl-indent > .indent-guide.active { border-color: ${re.treeIndentGuidesStroke}; }`)),this.styleElement.textContent=rt.join("\n"),this.view.style(re)}getParentElement(re){const We=this.model.getParentNodeLocation(re);return this.model.getNode(We).element}getFirstElementChild(re){return this.model.getFirstElementChild(re)}getNode(re){return this.model.getNode(re)}getNodeLocation(re){return this.model.getNodeLocation(re)}collapse(re,We=!1){return this.model.setCollapsed(re,!0,We)}expand(re,We=!1){return this.model.setCollapsed(re,!1,We)}toggleCollapsed(re,We=!1){return this.model.setCollapsed(re,void 0,We)}isCollapsible(re){return this.model.isCollapsible(re)}setCollapsible(re,We){return this.model.setCollapsible(re,We)}isCollapsed(re){return this.model.isCollapsed(re)}refilter(){this._onWillRefilter.fire(void 0),this.model.refilter()}setSelection(re,We){const rt=re.map(Kt=>this.model.getNode(Kt));this.selection.set(rt,We);const Pt=re.map(Kt=>this.model.getListIndex(Kt)).filter(Kt=>Kt>-1);this.view.setSelection(Pt,We,!0)}getSelection(){return this.selection.get()}setFocus(re,We){const rt=re.map(Kt=>this.model.getNode(Kt));this.focus.set(rt,We);const Pt=re.map(Kt=>this.model.getListIndex(Kt)).filter(Kt=>Kt>-1);this.view.setFocus(Pt,We,!0)}getFocus(){return this.focus.get()}reveal(re,We){this.model.expandTo(re);const rt=this.model.getListIndex(re);-1!==rt&&this.view.reveal(rt,We)}onLeftArrow(re){re.preventDefault(),re.stopPropagation();const We=this.view.getFocusedElements();if(0===We.length)return;const Pt=this.model.getNodeLocation(We[0]);if(!this.model.setCollapsed(Pt,!0)){const ti=this.model.getParentNodeLocation(Pt);if(!ti)return;const yi=this.model.getListIndex(ti);this.view.reveal(yi),this.view.setFocus([yi])}}onRightArrow(re){re.preventDefault(),re.stopPropagation();const We=this.view.getFocusedElements();if(0===We.length)return;const rt=We[0],Pt=this.model.getNodeLocation(rt);if(!this.model.setCollapsed(Pt,!1)){if(!rt.children.some(Li=>Li.visible))return;const[ti]=this.view.getFocus(),yi=ti+1;this.view.reveal(yi),this.view.setFocus([yi])}}onSpace(re){re.preventDefault(),re.stopPropagation();const We=this.view.getFocusedElements();if(0===We.length)return;const Pt=this.model.getNodeLocation(We[0]);this.model.setCollapsed(Pt,void 0,re.browserEvent.altKey)}dispose(){(0,v.B9)(this.disposables),this.view.dispose()}}class Ot{constructor(re,We,rt={}){this.user=re,this.rootRef=null,this.nodes=new Map,this.nodesByIdentity=new Map,this.model=new oe(re,We,null,rt),this.onDidSplice=this.model.onDidSplice,this.onDidChangeCollapseState=this.model.onDidChangeCollapseState,this.onDidChangeRenderNodeCount=this.model.onDidChangeRenderNodeCount,rt.sorter&&(this.sorter={compare:(Pt,Kt)=>rt.sorter.compare(Pt.element,Kt.element)}),this.identityProvider=rt.identityProvider}setChildren(re,We=Se.$.empty(),rt={}){const Pt=this.getElementLocation(re);this._setChildren(Pt,this.preserveCollapseState(We),rt)}_setChildren(re,We=Se.$.empty(),rt){const Pt=new Set,Kt=new Set;this.model.splice([...re,0],Number.MAX_VALUE,We,Object.assign(Object.assign({},rt),{onDidCreateNode:Li=>{var sn;if(null===Li.element)return;const on=Li;if(Pt.add(on.element),this.nodes.set(on.element,on),this.identityProvider){const rn=this.identityProvider.getId(on.element).toString();Kt.add(rn),this.nodesByIdentity.set(rn,on)}null===(sn=rt.onDidCreateNode)||void 0===sn||sn.call(rt,on)},onDidDeleteNode:Li=>{var sn;if(null===Li.element)return;const on=Li;if(Pt.has(on.element)||this.nodes.delete(on.element),this.identityProvider){const rn=this.identityProvider.getId(on.element).toString();Kt.has(rn)||this.nodesByIdentity.delete(rn)}null===(sn=rt.onDidDeleteNode)||void 0===sn||sn.call(rt,on)}}))}preserveCollapseState(re=Se.$.empty()){return this.sorter&&(re=[...re].sort(this.sorter.compare.bind(this.sorter))),Se.$.map(re,We=>{let rt=this.nodes.get(We.element);if(!rt&&this.identityProvider){const ti=this.identityProvider.getId(We.element).toString();rt=this.nodesByIdentity.get(ti)}if(!rt){let ti;return ti=typeof We.collapsed>"u"?void 0:We.collapsed===_.Collapsed||We.collapsed===_.PreserveOrCollapsed||We.collapsed!==_.Expanded&&We.collapsed!==_.PreserveOrExpanded&&!!We.collapsed,Object.assign(Object.assign({},We),{children:this.preserveCollapseState(We.children),collapsed:ti})}const Pt="boolean"==typeof We.collapsible?We.collapsible:rt.collapsible;let Kt;return Kt=typeof We.collapsed>"u"||We.collapsed===_.PreserveOrCollapsed||We.collapsed===_.PreserveOrExpanded?rt.collapsed:We.collapsed===_.Collapsed||We.collapsed!==_.Expanded&&!!We.collapsed,Object.assign(Object.assign({},We),{collapsible:Pt,collapsed:Kt,children:this.preserveCollapseState(We.children)})})}rerender(re){const We=this.getElementLocation(re);this.model.rerender(We)}getFirstElementChild(re=null){const We=this.getElementLocation(re);return this.model.getFirstElementChild(We)}has(re){return this.nodes.has(re)}getListIndex(re){const We=this.getElementLocation(re);return this.model.getListIndex(We)}getListRenderCount(re){const We=this.getElementLocation(re);return this.model.getListRenderCount(We)}isCollapsible(re){const We=this.getElementLocation(re);return this.model.isCollapsible(We)}setCollapsible(re,We){const rt=this.getElementLocation(re);return this.model.setCollapsible(rt,We)}isCollapsed(re){const We=this.getElementLocation(re);return this.model.isCollapsed(We)}setCollapsed(re,We,rt){const Pt=this.getElementLocation(re);return this.model.setCollapsed(Pt,We,rt)}expandTo(re){const We=this.getElementLocation(re);this.model.expandTo(We)}refilter(){this.model.refilter()}getNode(re=null){if(null===re)return this.model.getNode(this.model.rootRef);const We=this.nodes.get(re);if(!We)throw new ge(this.user,`Tree element not found: ${re}`);return We}getNodeLocation(re){return re.element}getParentNodeLocation(re){if(null===re)throw new ge(this.user,"Invalid getParentNodeLocation call");const We=this.nodes.get(re);if(!We)throw new ge(this.user,`Tree element not found: ${re}`);const rt=this.model.getNodeLocation(We),Pt=this.model.getParentNodeLocation(rt);return this.model.getNode(Pt).element}getElementLocation(re){if(null===re)return[];const We=this.nodes.get(re);if(!We)throw new ge(this.user,`Tree element not found: ${re}`);return this.model.getNodeLocation(We)}}function gt(Gt){return{element:{elements:[Gt.element],incompressible:Gt.incompressible||!1},children:Se.$.map(Se.$.from(Gt.children),gt),collapsible:Gt.collapsible,collapsed:Gt.collapsed}}function Rt(Gt){const re=[Gt.element],We=Gt.incompressible||!1;let rt,Pt;for(;[Pt,rt]=Se.$.consume(Se.$.from(Gt.children),2),1===Pt.length&&!Pt[0].incompressible;)re.push((Gt=Pt[0]).element);return{element:{elements:re,incompressible:We},children:Se.$.map(Se.$.concat(Pt,rt),Rt),collapsible:Gt.collapsible,collapsed:Gt.collapsed}}function Zt(Gt,re=0){let We;return We=re<Gt.element.elements.length-1?[Zt(Gt,re+1)]:Se.$.map(Se.$.from(Gt.children),rt=>Zt(rt,0)),0===re&&Gt.element.incompressible?{element:Gt.element.elements[re],children:We,incompressible:!0,collapsible:Gt.collapsible,collapsed:Gt.collapsed}:{element:Gt.element.elements[re],children:We,collapsible:Gt.collapsible,collapsed:Gt.collapsed}}function Ci(Gt){return Zt(Gt,0)}function ci(Gt,re,We){return Object.assign(Object.assign({},Gt),Gt.element===re?{children:We}:{children:Se.$.map(Se.$.from(Gt.children),rt=>ci(rt,re,We))})}class Gi{get onDidSplice(){return this.model.onDidSplice}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get onDidChangeRenderNodeCount(){return this.model.onDidChangeRenderNodeCount}constructor(re,We,rt={}){this.user=re,this.rootRef=null,this.nodes=new Map,this.model=new Ot(re,We,rt),this.enabled=typeof rt.compressionEnabled>"u"||rt.compressionEnabled,this.identityProvider=rt.identityProvider}setChildren(re,We=Se.$.empty(),rt){const Pt=rt.diffIdentityProvider&&(Gt=rt.diffIdentityProvider,{getId:re=>re.elements.map(We=>Gt.getId(We).toString()).join("\0")});var Gt;if(null===re){const Xi=Se.$.map(We,this.enabled?Rt:gt);return void this._setChildren(null,Xi,{diffIdentityProvider:Pt,diffDepth:1/0})}const Kt=this.nodes.get(re);if(!Kt)throw new ge(this.user,"Unknown compressed tree node");const ti=this.model.getNode(Kt),yi=this.model.getParentNodeLocation(Kt),Li=this.model.getNode(yi),on=ci(Ci(ti),re,We),rn=(this.enabled?Rt:gt)(on);if((0,P.fS)(rn.element.elements,ti.element.elements,rt.diffIdentityProvider?(Xi,tn)=>rt.diffIdentityProvider.getId(Xi)===rt.diffIdentityProvider.getId(tn):void 0))return void this._setChildren(Kt,rn.children||Se.$.empty(),{diffIdentityProvider:Pt,diffDepth:1});const _n=Li.children.map(Xi=>Xi===ti?rn:Xi);this._setChildren(Li.element,_n,{diffIdentityProvider:Pt,diffDepth:ti.depth-Li.depth})}setCompressionEnabled(re){if(re===this.enabled)return;this.enabled=re;const rt=this.model.getNode().children,Pt=Se.$.map(rt,Ci),Kt=Se.$.map(Pt,re?Rt:gt);this._setChildren(null,Kt,{diffIdentityProvider:this.identityProvider,diffDepth:1/0})}_setChildren(re,We,rt){const Pt=new Set;this.model.setChildren(re,We,Object.assign(Object.assign({},rt),{onDidCreateNode:yi=>{for(const Li of yi.element.elements)Pt.add(Li),this.nodes.set(Li,yi.element)},onDidDeleteNode:yi=>{for(const Li of yi.element.elements)Pt.has(Li)||this.nodes.delete(Li)}}))}has(re){return this.nodes.has(re)}getListIndex(re){const We=this.getCompressedNode(re);return this.model.getListIndex(We)}getListRenderCount(re){const We=this.getCompressedNode(re);return this.model.getListRenderCount(We)}getNode(re){if(typeof re>"u")return this.model.getNode();const We=this.getCompressedNode(re);return this.model.getNode(We)}getNodeLocation(re){const We=this.model.getNodeLocation(re);return null===We?null:We.elements[We.elements.length-1]}getParentNodeLocation(re){const We=this.getCompressedNode(re),rt=this.model.getParentNodeLocation(We);return null===rt?null:rt.elements[rt.elements.length-1]}getFirstElementChild(re){const We=this.getCompressedNode(re);return this.model.getFirstElementChild(We)}isCollapsible(re){const We=this.getCompressedNode(re);return this.model.isCollapsible(We)}setCollapsible(re,We){const rt=this.getCompressedNode(re);return this.model.setCollapsible(rt,We)}isCollapsed(re){const We=this.getCompressedNode(re);return this.model.isCollapsed(We)}setCollapsed(re,We,rt){const Pt=this.getCompressedNode(re);return this.model.setCollapsed(Pt,We,rt)}expandTo(re){const We=this.getCompressedNode(re);this.model.expandTo(We)}rerender(re){const We=this.getCompressedNode(re);this.model.rerender(We)}refilter(){this.model.refilter()}getCompressedNode(re){if(null===re)return null;const We=this.nodes.get(re);if(!We)throw new ge(this.user,`Tree element not found: ${re}`);return We}}const Zi=Gt=>Gt[Gt.length-1];class St{get element(){return null===this.node.element?null:this.unwrapper(this.node.element)}get children(){return this.node.children.map(re=>new St(this.unwrapper,re))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}constructor(re,We){this.unwrapper=re,this.node=We}}class pt{get onDidSplice(){return y.ju.map(this.model.onDidSplice,({insertedNodes:re,deletedNodes:We})=>({insertedNodes:re.map(rt=>this.nodeMapper.map(rt)),deletedNodes:We.map(rt=>this.nodeMapper.map(rt))}))}get onDidChangeCollapseState(){return y.ju.map(this.model.onDidChangeCollapseState,({node:re,deep:We})=>({node:this.nodeMapper.map(re),deep:We}))}get onDidChangeRenderNodeCount(){return y.ju.map(this.model.onDidChangeRenderNodeCount,re=>this.nodeMapper.map(re))}constructor(re,We,rt={}){this.rootRef=null,this.elementMapper=rt.elementMapper||Zi;const Pt=Kt=>this.elementMapper(Kt.elements);this.nodeMapper=new _e(Kt=>new St(Pt,Kt)),this.model=new Gi(re,function st(Gt,re){return{splice(We,rt,Pt){re.splice(We,rt,Pt.map(Kt=>Gt.map(Kt)))},updateElementHeight(We,rt){re.updateElementHeight(We,rt)}}}(this.nodeMapper,We),function ut(Gt,re){return Object.assign(Object.assign({},re),{identityProvider:re.identityProvider&&{getId:We=>re.identityProvider.getId(Gt(We))},sorter:re.sorter&&{compare:(We,rt)=>re.sorter.compare(We.elements[0],rt.elements[0])},filter:re.filter&&{filter:(We,rt)=>re.filter.filter(Gt(We),rt)}})}(Pt,rt))}setChildren(re,We=Se.$.empty(),rt={}){this.model.setChildren(re,We,rt)}setCompressionEnabled(re){this.model.setCompressionEnabled(re)}has(re){return this.model.has(re)}getListIndex(re){return this.model.getListIndex(re)}getListRenderCount(re){return this.model.getListRenderCount(re)}getNode(re){return this.nodeMapper.map(this.model.getNode(re))}getNodeLocation(re){return re.element}getParentNodeLocation(re){return this.model.getParentNodeLocation(re)}getFirstElementChild(re){const We=this.model.getFirstElementChild(re);return null===We||typeof We>"u"?We:this.elementMapper(We.elements)}isCollapsible(re){return this.model.isCollapsible(re)}setCollapsible(re,We){return this.model.setCollapsible(re,We)}isCollapsed(re){return this.model.isCollapsed(re)}setCollapsed(re,We,rt){return this.model.setCollapsed(re,We,rt)}expandTo(re){return this.model.expandTo(re)}rerender(re){return this.model.rerender(re)}refilter(){return this.model.refilter()}getCompressedTreeNode(re=null){return this.model.getNode(re)}}var Ne=e(20354);class et extends Dt{get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}constructor(re,We,rt,Pt,Kt={}){super(re,We,rt,Pt,Kt),this.user=re}setChildren(re,We=Se.$.empty(),rt){this.model.setChildren(re,We,rt)}rerender(re){void 0!==re?this.model.rerender(re):this.view.rerender()}hasElement(re){return this.model.has(re)}createModel(re,We,rt){return new Ot(re,We,rt)}}class wt{get compressedTreeNodeProvider(){return this._compressedTreeNodeProvider()}constructor(re,We){this._compressedTreeNodeProvider=re,this.renderer=We,this.templateId=We.templateId,We.onDidChangeTwistieState&&(this.onDidChangeTwistieState=We.onDidChangeTwistieState)}renderTemplate(re){return{compressedTreeNode:void 0,data:this.renderer.renderTemplate(re)}}renderElement(re,We,rt,Pt){const Kt=this.compressedTreeNodeProvider.getCompressedTreeNode(re.element);1===Kt.element.elements.length?(rt.compressedTreeNode=void 0,this.renderer.renderElement(re,We,rt.data,Pt)):(rt.compressedTreeNode=Kt,this.renderer.renderCompressedElements(Kt,We,rt.data,Pt))}disposeElement(re,We,rt,Pt){var Kt,ti,yi,Li;rt.compressedTreeNode?null===(ti=(Kt=this.renderer).disposeCompressedElements)||void 0===ti||ti.call(Kt,rt.compressedTreeNode,We,rt.data,Pt):null===(Li=(yi=this.renderer).disposeElement)||void 0===Li||Li.call(yi,re,We,rt.data,Pt)}disposeTemplate(re){this.renderer.disposeTemplate(re.data)}renderTwistie(re,We){return!!this.renderer.renderTwistie&&this.renderer.renderTwistie(re,We)}}!function(Gt,re,We,rt){var ti,Pt=arguments.length,Kt=Pt<3?re:null===rt?rt=Object.getOwnPropertyDescriptor(re,We):rt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Kt=Reflect.decorate(Gt,re,We,rt);else for(var yi=Gt.length-1;yi>=0;yi--)(ti=Gt[yi])&&(Kt=(Pt<3?ti(Kt):Pt>3?ti(re,We,Kt):ti(re,We))||Kt);Pt>3&&Kt&&Object.defineProperty(re,We,Kt)}([Ne.H],wt.prototype,"compressedTreeNodeProvider",null);class xt extends et{constructor(re,We,rt,Pt,Kt={}){const ti=()=>this;super(re,We,rt,Pt.map(Li=>new wt(ti,Li)),function Bt(Gt,re){return re&&Object.assign(Object.assign({},re),{keyboardNavigationLabelProvider:re.keyboardNavigationLabelProvider&&{getKeyboardNavigationLabel(We){let rt;try{rt=Gt().getCompressedTreeNode(We)}catch{return re.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(We)}return 1===rt.element.elements.length?re.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(We):re.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(rt.element.elements)}}})}(ti,Kt))}setChildren(re,We=Se.$.empty(),rt){this.model.setChildren(re,We,rt)}createModel(re,We,rt){return new pt(re,We,rt)}updateOptions(re={}){super.updateOptions(re),typeof re.compressionEnabled<"u"&&this.model.setCompressionEnabled(re.compressionEnabled)}getCompressedTreeNode(re=null){return this.model.getCompressedTreeNode(re)}}var Qt=e(17967),ai=function(Gt,re,We,rt){return new(We||(We=Promise))(function(Kt,ti){function yi(on){try{sn(rt.next(on))}catch(rn){ti(rn)}}function Li(on){try{sn(rt.throw(on))}catch(rn){ti(rn)}}function sn(on){on.done?Kt(on.value):function Pt(Kt){return Kt instanceof We?Kt:new We(function(ti){ti(Kt)})}(on.value).then(yi,Li)}sn((rt=rt.apply(Gt,re||[])).next())})};function gi(Gt){return Object.assign(Object.assign({},Gt),{children:[],refreshPromise:void 0,stale:!0,slow:!1,collapsedByDefault:void 0})}function di(Gt,re){return!!re.parent&&(re.parent===Gt||di(Gt,re.parent))}class Ki{get element(){return this.node.element.element}get children(){return this.node.children.map(re=>new Ki(re))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}constructor(re){this.node=re}}class zi{constructor(re,We,rt){this.renderer=re,this.nodeMapper=We,this.onDidChangeTwistieState=rt,this.renderedNodes=new Map,this.templateId=re.templateId}renderTemplate(re){return{templateData:this.renderer.renderTemplate(re)}}renderElement(re,We,rt,Pt){this.renderer.renderElement(this.nodeMapper.map(re),We,rt.templateData,Pt)}renderTwistie(re,We){return re.slow?(We.classList.add(...F.k.asClassNameArray(x.l.treeItemLoading)),!0):(We.classList.remove(...F.k.asClassNameArray(x.l.treeItemLoading)),!1)}disposeElement(re,We,rt,Pt){var Kt,ti;null===(ti=(Kt=this.renderer).disposeElement)||void 0===ti||ti.call(Kt,this.nodeMapper.map(re),We,rt.templateData,Pt)}disposeTemplate(re){this.renderer.disposeTemplate(re.templateData)}dispose(){this.renderedNodes.clear()}}function qi(Gt){return{browserEvent:Gt.browserEvent,elements:Gt.elements.map(re=>re.element)}}function fn(Gt){return{browserEvent:Gt.browserEvent,element:Gt.element&&Gt.element.element,target:Gt.target}}class Nn extends te.kX{constructor(re){super(re.elements.map(We=>We.element)),this.data=re}}function xn(Gt){return Gt instanceof te.kX?new Nn(Gt):Gt}class Fn{constructor(re){this.dnd=re}getDragURI(re){return this.dnd.getDragURI(re.element)}getDragLabel(re,We){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(re.map(rt=>rt.element),We)}onDragStart(re,We){var rt,Pt;null===(Pt=(rt=this.dnd).onDragStart)||void 0===Pt||Pt.call(rt,xn(re),We)}onDragOver(re,We,rt,Pt,Kt=!0){return this.dnd.onDragOver(xn(re),We&&We.element,rt,Pt)}drop(re,We,rt,Pt){this.dnd.drop(xn(re),We&&We.element,rt,Pt)}onDragEnd(re){var We,rt;null===(rt=(We=this.dnd).onDragEnd)||void 0===rt||rt.call(We,re)}}function vi(Gt){return Gt&&Object.assign(Object.assign({},Gt),{collapseByDefault:!0,identityProvider:Gt.identityProvider&&{getId:re=>Gt.identityProvider.getId(re.element)},dnd:Gt.dnd&&new Fn(Gt.dnd),multipleSelectionController:Gt.multipleSelectionController&&{isSelectionSingleChangeEvent:re=>Gt.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},re),{element:re.element})),isSelectionRangeChangeEvent:re=>Gt.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},re),{element:re.element}))},accessibilityProvider:Gt.accessibilityProvider&&Object.assign(Object.assign({},Gt.accessibilityProvider),{getPosInSet:void 0,getSetSize:void 0,getRole:Gt.accessibilityProvider.getRole?re=>Gt.accessibilityProvider.getRole(re.element):()=>"treeitem",isChecked:Gt.accessibilityProvider.isChecked?re=>{var We;return!(null===(We=Gt.accessibilityProvider)||void 0===We||!We.isChecked(re.element))}:void 0,getAriaLabel:re=>Gt.accessibilityProvider.getAriaLabel(re.element),getWidgetAriaLabel:()=>Gt.accessibilityProvider.getWidgetAriaLabel(),getWidgetRole:Gt.accessibilityProvider.getWidgetRole?()=>Gt.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:Gt.accessibilityProvider.getAriaLevel&&(re=>Gt.accessibilityProvider.getAriaLevel(re.element)),getActiveDescendantId:Gt.accessibilityProvider.getActiveDescendantId&&(re=>Gt.accessibilityProvider.getActiveDescendantId(re.element))}),filter:Gt.filter&&{filter:(re,We)=>Gt.filter.filter(re.element,We)},keyboardNavigationLabelProvider:Gt.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},Gt.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel:re=>Gt.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(re.element)}),sorter:void 0,expandOnlyOnTwistieClick:typeof Gt.expandOnlyOnTwistieClick>"u"?void 0:"function"!=typeof Gt.expandOnlyOnTwistieClick?Gt.expandOnlyOnTwistieClick:re=>Gt.expandOnlyOnTwistieClick(re.element),defaultFindVisibility:re=>re.hasChildren&&re.stale?1:"number"==typeof Gt.defaultFindVisibility?Gt.defaultFindVisibility:typeof Gt.defaultFindVisibility>"u"?2:Gt.defaultFindVisibility(re.element)})}function ui(Gt,re){re(Gt),Gt.children.forEach(We=>ui(We,re))}class ni{get onDidScroll(){return this.tree.onDidScroll}get onDidChangeFocus(){return y.ju.map(this.tree.onDidChangeFocus,qi)}get onDidChangeSelection(){return y.ju.map(this.tree.onDidChangeSelection,qi)}get onMouseDblClick(){return y.ju.map(this.tree.onMouseDblClick,fn)}get onPointer(){return y.ju.map(this.tree.onPointer,fn)}get onDidFocus(){return this.tree.onDidFocus}get onDidChangeModel(){return this.tree.onDidChangeModel}get onDidChangeCollapseState(){return this.tree.onDidChangeCollapseState}get onDidChangeFindOpenState(){return this.tree.onDidChangeFindOpenState}get onDidDispose(){return this.tree.onDidDispose}constructor(re,We,rt,Pt,Kt,ti={}){this.user=re,this.dataSource=Kt,this.nodes=new Map,this.subTreeRefreshPromises=new Map,this.refreshPromises=new Map,this._onDidRender=new y.Q5,this._onDidChangeNodeSlowState=new y.Q5,this.nodeMapper=new _e(yi=>new Ki(yi)),this.disposables=new v.SL,this.identityProvider=ti.identityProvider,this.autoExpandSingleChildren=!(typeof ti.autoExpandSingleChildren>"u")&&ti.autoExpandSingleChildren,this.sorter=ti.sorter,this.collapseByDefault=ti.collapseByDefault,this.tree=this.createTree(re,We,rt,Pt,ti),this.onDidChangeFindMode=this.tree.onDidChangeFindMode,this.root=gi({element:void 0,parent:null,hasChildren:!0}),this.identityProvider&&(this.root=Object.assign(Object.assign({},this.root),{id:null})),this.nodes.set(null,this.root),this.tree.onDidChangeCollapseState(this._onDidChangeCollapseState,this,this.disposables)}createTree(re,We,rt,Pt,Kt){const ti=new lt(rt),yi=Pt.map(sn=>new zi(sn,this.nodeMapper,this._onDidChangeNodeSlowState.event)),Li=vi(Kt)||{};return new et(re,We,ti,yi,Li)}updateOptions(re={}){this.tree.updateOptions(re)}getHTMLElement(){return this.tree.getHTMLElement()}get scrollTop(){return this.tree.scrollTop}set scrollTop(re){this.tree.scrollTop=re}get scrollHeight(){return this.tree.scrollHeight}get renderHeight(){return this.tree.renderHeight}domFocus(){this.tree.domFocus()}layout(re,We){this.tree.layout(re,We)}style(re){this.tree.style(re)}getInput(){return this.root.element}setInput(re,We){return ai(this,void 0,void 0,function*(){this.refreshPromises.forEach(Pt=>Pt.cancel()),this.refreshPromises.clear(),this.root.element=re;const rt=We&&{viewState:We,focus:[],selection:[]};yield this._updateChildren(re,!0,!1,rt),rt&&(this.tree.setFocus(rt.focus),this.tree.setSelection(rt.selection)),We&&"number"==typeof We.scrollTop&&(this.scrollTop=We.scrollTop)})}_updateChildren(re=this.root.element,We=!0,rt=!1,Pt,Kt){return ai(this,void 0,void 0,function*(){if(typeof this.root.element>"u")throw new ge(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield y.ju.toPromise(this._onDidRender.event));const ti=this.getDataNode(re);if(yield this.refreshAndRenderNode(ti,We,Pt,Kt),rt)try{this.tree.rerender(ti)}catch{}})}rerender(re){if(void 0===re||re===this.root.element)return void this.tree.rerender();const We=this.getDataNode(re);this.tree.rerender(We)}getNode(re=this.root.element){const We=this.getDataNode(re),rt=this.tree.getNode(We===this.root?null:We);return this.nodeMapper.map(rt)}collapse(re,We=!1){const rt=this.getDataNode(re);return this.tree.collapse(rt===this.root?null:rt,We)}expand(re,We=!1){return ai(this,void 0,void 0,function*(){if(typeof this.root.element>"u")throw new ge(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield y.ju.toPromise(this._onDidRender.event));const rt=this.getDataNode(re);if(this.tree.hasElement(rt)&&!this.tree.isCollapsible(rt)||(rt.refreshPromise&&(yield this.root.refreshPromise,yield y.ju.toPromise(this._onDidRender.event)),rt!==this.root&&!rt.refreshPromise&&!this.tree.isCollapsed(rt)))return!1;const Pt=this.tree.expand(rt===this.root?null:rt,We);return rt.refreshPromise&&(yield this.root.refreshPromise,yield y.ju.toPromise(this._onDidRender.event)),Pt})}setSelection(re,We){const rt=re.map(Pt=>this.getDataNode(Pt));this.tree.setSelection(rt,We)}getSelection(){return this.tree.getSelection().map(We=>We.element)}setFocus(re,We){const rt=re.map(Pt=>this.getDataNode(Pt));this.tree.setFocus(rt,We)}getFocus(){return this.tree.getFocus().map(We=>We.element)}reveal(re,We){this.tree.reveal(this.getDataNode(re),We)}getParentElement(re){const We=this.tree.getParentElement(this.getDataNode(re));return We&&We.element}getFirstElementChild(re=this.root.element){const We=this.getDataNode(re),rt=this.tree.getFirstElementChild(We===this.root?null:We);return rt&&rt.element}getDataNode(re){const We=this.nodes.get(re===this.root.element?null:re);if(!We)throw new ge(this.user,`Data tree node not found: ${re}`);return We}refreshAndRenderNode(re,We,rt,Pt){return ai(this,void 0,void 0,function*(){yield this.refreshNode(re,We,rt),this.render(re,rt,Pt)})}refreshNode(re,We,rt){return ai(this,void 0,void 0,function*(){let Pt;return this.subTreeRefreshPromises.forEach((Kt,ti)=>{!Pt&&function Ei(Gt,re){return Gt===re||di(Gt,re)||di(re,Gt)}(ti,re)&&(Pt=Kt.then(()=>this.refreshNode(re,We,rt)))}),Pt||(re!==this.root&&this.tree.getNode(re).collapsed?(re.hasChildren=!!this.dataSource.hasChildren(re.element),void(re.stale=!0)):this.doRefreshSubTree(re,We,rt))})}doRefreshSubTree(re,We,rt){return ai(this,void 0,void 0,function*(){let Pt;re.refreshPromise=new Promise(Kt=>Pt=Kt),this.subTreeRefreshPromises.set(re,re.refreshPromise),re.refreshPromise.finally(()=>{re.refreshPromise=void 0,this.subTreeRefreshPromises.delete(re)});try{const Kt=yield this.doRefreshNode(re,We,rt);re.stale=!1,yield ue.jT.settled(Kt.map(ti=>this.doRefreshSubTree(ti,We,rt)))}finally{Pt()}})}doRefreshNode(re,We,rt){return ai(this,void 0,void 0,function*(){let Pt;if(re.hasChildren=!!this.dataSource.hasChildren(re.element),re.hasChildren){const Kt=this.doGetChildren(re);if((0,Pe.TW)(Kt))Pt=Promise.resolve(Kt);else{const ti=(0,ue.Vs)(800);ti.then(()=>{re.slow=!0,this._onDidChangeNodeSlowState.fire(re)},yi=>null),Pt=Kt.finally(()=>ti.cancel())}}else Pt=Promise.resolve(Se.$.empty());try{const Kt=yield Pt;return this.setChildren(re,Kt,We,rt)}catch(Kt){if(re!==this.root&&this.tree.hasElement(re)&&this.tree.collapse(re),(0,Qt.n2)(Kt))return[];throw Kt}finally{re.slow&&(re.slow=!1,this._onDidChangeNodeSlowState.fire(re))}})}doGetChildren(re){let We=this.refreshPromises.get(re);if(We)return We;const rt=this.dataSource.getChildren(re.element);return(0,Pe.TW)(rt)?this.processChildren(rt):(We=(0,ue.PG)(()=>ai(this,void 0,void 0,function*(){return this.processChildren(yield rt)})),this.refreshPromises.set(re,We),We.finally(()=>{this.refreshPromises.delete(re)}))}_onDidChangeCollapseState({node:re,deep:We}){null!==re.element&&!re.collapsed&&re.element.stale&&(We?this.collapse(re.element.element):this.refreshAndRenderNode(re.element,!1).catch(Qt.dL))}setChildren(re,We,rt,Pt){const Kt=[...We];if(0===re.children.length&&0===Kt.length)return[];const ti=new Map,yi=new Map;for(const on of re.children)if(ti.set(on.element,on),this.identityProvider){const rn=this.tree.isCollapsed(on);yi.set(on.id,{node:on,collapsed:rn})}const Li=[],sn=Kt.map(on=>{const rn=!!this.dataSource.hasChildren(on);if(!this.identityProvider){const tn=gi({element:on,parent:re,hasChildren:rn});return rn&&this.collapseByDefault&&!this.collapseByDefault(on)&&(tn.collapsedByDefault=!1,Li.push(tn)),tn}const ln=this.identityProvider.getId(on).toString(),_n=yi.get(ln);if(_n){const tn=_n.node;return ti.delete(tn.element),this.nodes.delete(tn.element),this.nodes.set(on,tn),tn.element=on,tn.hasChildren=rn,rt?_n.collapsed?(tn.children.forEach(Rn=>ui(Rn,io=>this.nodes.delete(io.element))),tn.children.splice(0,tn.children.length),tn.stale=!0):Li.push(tn):rn&&this.collapseByDefault&&!this.collapseByDefault(on)&&(tn.collapsedByDefault=!1,Li.push(tn)),tn}const Xi=gi({element:on,parent:re,id:ln,hasChildren:rn});return Pt&&Pt.viewState.focus&&Pt.viewState.focus.indexOf(ln)>-1&&Pt.focus.push(Xi),Pt&&Pt.viewState.selection&&Pt.viewState.selection.indexOf(ln)>-1&&Pt.selection.push(Xi),Pt&&Pt.viewState.expanded&&Pt.viewState.expanded.indexOf(ln)>-1?Li.push(Xi):rn&&this.collapseByDefault&&!this.collapseByDefault(on)&&(Xi.collapsedByDefault=!1,Li.push(Xi)),Xi});for(const on of ti.values())ui(on,rn=>this.nodes.delete(rn.element));for(const on of sn)this.nodes.set(on.element,on);return re.children.splice(0,re.children.length,...sn),re!==this.root&&this.autoExpandSingleChildren&&1===sn.length&&0===Li.length&&(sn[0].collapsedByDefault=!1,Li.push(sn[0])),Li}render(re,We,rt){const Pt=re.children.map(ti=>this.asTreeElement(ti,We)),Kt=rt&&Object.assign(Object.assign({},rt),{diffIdentityProvider:rt.diffIdentityProvider&&{getId:ti=>rt.diffIdentityProvider.getId(ti.element)}});this.tree.setChildren(re===this.root?null:re,Pt,Kt),re!==this.root&&this.tree.setCollapsible(re,re.hasChildren),this._onDidRender.fire()}asTreeElement(re,We){if(re.stale)return{element:re,collapsible:re.hasChildren,collapsed:!0};let rt;return rt=!(We&&We.viewState.expanded&&re.id&&We.viewState.expanded.indexOf(re.id)>-1)&&re.collapsedByDefault,re.collapsedByDefault=void 0,{element:re,children:re.hasChildren?Se.$.map(re.children,Pt=>this.asTreeElement(Pt,We)):[],collapsible:re.hasChildren,collapsed:rt}}processChildren(re){return this.sorter&&(re=[...re].sort(this.sorter.compare.bind(this.sorter))),re}dispose(){this.disposables.dispose()}}class Nt{get element(){return{elements:this.node.element.elements.map(re=>re.element),incompressible:this.node.element.incompressible}}get children(){return this.node.children.map(re=>new Nt(re))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}constructor(re){this.node=re}}class Wt{constructor(re,We,rt,Pt){this.renderer=re,this.nodeMapper=We,this.compressibleNodeMapperProvider=rt,this.onDidChangeTwistieState=Pt,this.renderedNodes=new Map,this.disposables=[],this.templateId=re.templateId}renderTemplate(re){return{templateData:this.renderer.renderTemplate(re)}}renderElement(re,We,rt,Pt){this.renderer.renderElement(this.nodeMapper.map(re),We,rt.templateData,Pt)}renderCompressedElements(re,We,rt,Pt){this.renderer.renderCompressedElements(this.compressibleNodeMapperProvider().map(re),We,rt.templateData,Pt)}renderTwistie(re,We){return re.slow?(We.classList.add(...F.k.asClassNameArray(x.l.treeItemLoading)),!0):(We.classList.remove(...F.k.asClassNameArray(x.l.treeItemLoading)),!1)}disposeElement(re,We,rt,Pt){var Kt,ti;null===(ti=(Kt=this.renderer).disposeElement)||void 0===ti||ti.call(Kt,this.nodeMapper.map(re),We,rt.templateData,Pt)}disposeCompressedElements(re,We,rt,Pt){var Kt,ti;null===(ti=(Kt=this.renderer).disposeCompressedElements)||void 0===ti||ti.call(Kt,this.compressibleNodeMapperProvider().map(re),We,rt.templateData,Pt)}disposeTemplate(re){this.renderer.disposeTemplate(re.templateData)}dispose(){this.renderedNodes.clear(),this.disposables=(0,v.B9)(this.disposables)}}class Yt extends ni{constructor(re,We,rt,Pt,Kt,ti,yi={}){super(re,We,rt,Kt,ti,yi),this.compressionDelegate=Pt,this.compressibleNodeMapper=new _e(Li=>new Nt(Li)),this.filter=yi.filter}createTree(re,We,rt,Pt,Kt){const ti=new lt(rt),yi=Pt.map(sn=>new Wt(sn,this.nodeMapper,()=>this.compressibleNodeMapper,this._onDidChangeNodeSlowState.event)),Li=function li(Gt){const re=Gt&&vi(Gt);return re&&Object.assign(Object.assign({},re),{keyboardNavigationLabelProvider:re.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},re.keyboardNavigationLabelProvider),{getCompressedNodeKeyboardNavigationLabel:We=>Gt.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(We.map(rt=>rt.element))})})}(Kt)||{};return new xt(re,We,ti,yi,Li)}asTreeElement(re,We){return Object.assign({incompressible:this.compressionDelegate.isIncompressible(re.element)},super.asTreeElement(re,We))}updateOptions(re={}){this.tree.updateOptions(re)}render(re,We){if(!this.identityProvider)return super.render(re,We);const rt=ln=>this.identityProvider.getId(ln).toString(),Pt=ln=>{const _n=new Set;for(const Xi of ln){const tn=this.tree.getCompressedTreeNode(Xi===this.root?null:Xi);if(tn.element)for(const Rn of tn.element.elements)_n.add(rt(Rn.element))}return _n},Kt=Pt(this.tree.getSelection()),ti=Pt(this.tree.getFocus());super.render(re,We);const yi=this.getSelection();let Li=!1;const sn=this.getFocus();let on=!1;const rn=ln=>{const _n=ln.element;if(_n)for(let Xi=0;Xi<_n.elements.length;Xi++){const tn=rt(_n.elements[Xi].element),Rn=_n.elements[_n.elements.length-1].element;Kt.has(tn)&&-1===yi.indexOf(Rn)&&(yi.push(Rn),Li=!0),ti.has(tn)&&-1===sn.indexOf(Rn)&&(sn.push(Rn),on=!0)}ln.children.forEach(rn)};rn(this.tree.getCompressedTreeNode(re===this.root?null:re)),Li&&this.setSelection(yi),on&&this.setFocus(sn)}processChildren(re){return this.filter&&(re=Se.$.filter(re,We=>{const Pt=function bi(Gt){return"boolean"==typeof Gt?Gt?1:0:Ve(Gt)?De(Gt.visibility):De(Gt)}(this.filter.filter(We,1));if(2===Pt)throw new Error("Recursive tree visibility not supported in async data compressed trees");return 1===Pt})),super.processChildren(re)}}class Fi extends Dt{constructor(re,We,rt,Pt,Kt,ti={}){super(re,We,rt,Pt,ti),this.user=re,this.dataSource=Kt,this.identityProvider=ti.identityProvider}createModel(re,We,rt){return new Ot(re,We,rt)}}var Yi=e(47358),Qi=e(92891),cn=e(66221),bn=e(97968),Dn=e(76485),Pn=e(12065),vn=e(21536),Xn=e(81834),Wn=e(36547),eo=function(Gt,re,We,rt){var ti,Pt=arguments.length,Kt=Pt<3?re:null===rt?rt=Object.getOwnPropertyDescriptor(re,We):rt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Kt=Reflect.decorate(Gt,re,We,rt);else for(var yi=Gt.length-1;yi>=0;yi--)(ti=Gt[yi])&&(Kt=(Pt<3?ti(Kt):Pt>3?ti(re,We,Kt):ti(re,We))||Kt);return Pt>3&&Kt&&Object.defineProperty(re,We,Kt),Kt},wn=function(Gt,re){return function(We,rt){re(We,rt,Gt)}};const Un=(0,Pn.yh)("listService");class po{get lastFocusedList(){return this._lastFocusedWidget}constructor(){this.disposables=new v.SL,this.lists=[],this._lastFocusedWidget=void 0,this._hasCreatedStyleController=!1}setLastFocusedList(re){var We,rt;re!==this._lastFocusedWidget&&(null===(We=this._lastFocusedWidget)||void 0===We||We.getHTMLElement().classList.remove("last-focused"),this._lastFocusedWidget=re,null===(rt=this._lastFocusedWidget)||void 0===rt||rt.getHTMLElement().classList.add("last-focused"))}register(re,We){if(this._hasCreatedStyleController||(this._hasCreatedStyleController=!0,new T.wD((0,f.dS)(),"").style(Wn.O2)),this.lists.some(Pt=>Pt.widget===re))throw new Error("Cannot register the same widget multiple times");const rt={widget:re,extraContextKeys:We};return this.lists.push(rt),re.getHTMLElement()===document.activeElement&&this.setLastFocusedList(re),(0,v.F8)(re.onDidFocus(()=>this.setLastFocusedList(re)),(0,v.OF)(()=>this.lists.splice(this.lists.indexOf(rt),1)),re.onDidDispose(()=>{this.lists=this.lists.filter(Pt=>Pt!==rt),this._lastFocusedWidget===re&&this.setLastFocusedList(void 0)}))}dispose(){this.disposables.dispose()}}const Jt=new cn.uy("listScrollAtBoundary","none"),Gn=(cn.Ao.or(Jt.isEqualTo("top"),Jt.isEqualTo("both")),cn.Ao.or(Jt.isEqualTo("bottom"),Jt.isEqualTo("both")),new cn.uy("listFocus",!0)),Qn=new cn.uy("listSupportsMultiselect",!0),ki=cn.Ao.and(Gn,cn.Ao.not(bn.d0)),nt=new cn.uy("listHasSelectionOrFocus",!1),Me=new cn.uy("listDoubleSelection",!1),he=new cn.uy("listMultiSelection",!1),Be=new cn.uy("listSelectionNavigation",!1),Ke=new cn.uy("listSupportsFind",!0),Ye=new cn.uy("treeElementCanCollapse",!1),dt=new cn.uy("treeElementHasParent",!1),zt=new cn.uy("treeElementCanExpand",!1),_i=new cn.uy("treeElementHasChild",!1),mi=new cn.uy("treeFindOpen",!1),qt="listTypeNavigationMode",oi="listAutomaticKeyboardNavigation";function Ai(Gt,re){const We=Gt.createScoped(re.getHTMLElement());return Gn.bindTo(We),We}function Wi(Gt,re){const We=Jt.bindTo(Gt),rt=()=>{const Pt=0===re.scrollTop,Kt=re.scrollHeight-re.renderHeight-re.scrollTop<1;We.set(Pt&&Kt?"both":Pt?"top":Kt?"bottom":"none")};return rt(),re.onDidScroll(rt)}const $i="workbench.list.multiSelectModifier",fi="workbench.list.openMode",$t="workbench.list.horizontalScrolling",Ii="workbench.list.defaultFindMode",si="workbench.list.typeNavigationMode",nn="workbench.list.keyboardNavigation",en="workbench.list.scrollByPage",yn="workbench.list.defaultFindMatchType",An="workbench.tree.indent",ro="workbench.tree.renderIndentGuides",ao="workbench.list.smoothScrolling",lo="workbench.list.mouseWheelScrollSensitivity",wo="workbench.list.fastScrollSensitivity",vs="workbench.tree.expandMode";function Ft(Gt){return"alt"===Gt.getValue($i)}class M extends v.JT{constructor(re){super(),this.configurationService=re,this.useAltAsMultipleSelectionModifier=Ft(re),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(re=>{re.affectsConfiguration($i)&&(this.useAltAsMultipleSelectionModifier=Ft(this.configurationService))}))}isSelectionSingleChangeEvent(re){return this.useAltAsMultipleSelectionModifier?re.browserEvent.altKey:(0,T.Zo)(re)}isSelectionRangeChangeEvent(re){return(0,T.wn)(re)}}function q(Gt,re){var We;const rt=Gt.get(Yi.Ui),Pt=Gt.get(vn.d),Kt=new v.SL;return[Object.assign(Object.assign({},re),{keyboardNavigationDelegate:{mightProducePrintableCharacter:yi=>Pt.mightProducePrintableCharacter(yi)},smoothScrolling:!!rt.getValue(ao),mouseWheelScrollSensitivity:rt.getValue(lo),fastScrollSensitivity:rt.getValue(wo),multipleSelectionController:null!==(We=re.multipleSelectionController)&&void 0!==We?We:Kt.add(new M(rt)),keyboardNavigationEventFilter:hi(Pt),scrollByPage:!!rt.getValue(en)}),Kt]}let ce=class extends T.aV{constructor(re,We,rt,Pt,Kt,ti,yi,Li,sn){const on=typeof Kt.horizontalScrolling<"u"?Kt.horizontalScrolling:!!Li.getValue($t),[rn,ln]=sn.invokeFunction(q,Kt);super(re,We,rt,Pt,Object.assign(Object.assign({keyboardSupport:!1},rn),{horizontalScrolling:on})),this.disposables.add(ln),this.contextKeyService=Ai(ti,this),this.disposables.add(Wi(this.contextKeyService,this)),this.listSupportsMultiSelect=Qn.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(!1!==Kt.multipleSelectionSupport),Be.bindTo(this.contextKeyService).set(!!Kt.selectionNavigation),this.listHasSelectionOrFocus=nt.bindTo(this.contextKeyService),this.listDoubleSelection=Me.bindTo(this.contextKeyService),this.listMultiSelection=he.bindTo(this.contextKeyService),this.horizontalScrolling=Kt.horizontalScrolling,this._useAltAsMultipleSelectionModifier=Ft(Li),this.disposables.add(this.contextKeyService),this.disposables.add(yi.register(this)),this.updateStyles(Kt.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const Xi=this.getSelection(),tn=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(Xi.length>0||tn.length>0),this.listMultiSelection.set(Xi.length>1),this.listDoubleSelection.set(2===Xi.length)})})),this.disposables.add(this.onDidChangeFocus(()=>{const Xi=this.getSelection(),tn=this.getFocus();this.listHasSelectionOrFocus.set(Xi.length>0||tn.length>0)})),this.disposables.add(Li.onDidChangeConfiguration(Xi=>{Xi.affectsConfiguration($i)&&(this._useAltAsMultipleSelectionModifier=Ft(Li));let tn={};if(Xi.affectsConfiguration($t)&&void 0===this.horizontalScrolling){const Rn=!!Li.getValue($t);tn=Object.assign(Object.assign({},tn),{horizontalScrolling:Rn})}if(Xi.affectsConfiguration(en)){const Rn=!!Li.getValue(en);tn=Object.assign(Object.assign({},tn),{scrollByPage:Rn})}if(Xi.affectsConfiguration(ao)){const Rn=!!Li.getValue(ao);tn=Object.assign(Object.assign({},tn),{smoothScrolling:Rn})}if(Xi.affectsConfiguration(lo)){const Rn=Li.getValue(lo);tn=Object.assign(Object.assign({},tn),{mouseWheelScrollSensitivity:Rn})}if(Xi.affectsConfiguration(wo)){const Rn=Li.getValue(wo);tn=Object.assign(Object.assign({},tn),{fastScrollSensitivity:Rn})}Object.keys(tn).length>0&&this.updateOptions(tn)})),this.navigator=new Et(this,Object.assign({configurationService:Li},Kt)),this.disposables.add(this.navigator)}updateOptions(re){super.updateOptions(re),void 0!==re.overrideStyles&&this.updateStyles(re.overrideStyles),void 0!==re.multipleSelectionSupport&&this.listSupportsMultiSelect.set(!!re.multipleSelectionSupport)}updateStyles(re){this.style(re?(0,Wn.TU)(re):Wn.O2)}};ce=eo([wn(5,cn.i6),wn(6,Un),wn(7,Yi.Ui),wn(8,Pn.TG)],ce);let Ue=class extends c{constructor(re,We,rt,Pt,Kt,ti,yi,Li,sn){const on=typeof Kt.horizontalScrolling<"u"?Kt.horizontalScrolling:!!Li.getValue($t),[rn,ln]=sn.invokeFunction(q,Kt);super(re,We,rt,Pt,Object.assign(Object.assign({keyboardSupport:!1},rn),{horizontalScrolling:on})),this.disposables=new v.SL,this.disposables.add(ln),this.contextKeyService=Ai(ti,this),this.disposables.add(Wi(this.contextKeyService,this.widget)),this.horizontalScrolling=Kt.horizontalScrolling,this.listSupportsMultiSelect=Qn.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(!1!==Kt.multipleSelectionSupport),Be.bindTo(this.contextKeyService).set(!!Kt.selectionNavigation),this._useAltAsMultipleSelectionModifier=Ft(Li),this.disposables.add(this.contextKeyService),this.disposables.add(yi.register(this)),this.updateStyles(Kt.overrideStyles),this.disposables.add(Li.onDidChangeConfiguration(Xi=>{Xi.affectsConfiguration($i)&&(this._useAltAsMultipleSelectionModifier=Ft(Li));let tn={};if(Xi.affectsConfiguration($t)&&void 0===this.horizontalScrolling){const Rn=!!Li.getValue($t);tn=Object.assign(Object.assign({},tn),{horizontalScrolling:Rn})}if(Xi.affectsConfiguration(en)){const Rn=!!Li.getValue(en);tn=Object.assign(Object.assign({},tn),{scrollByPage:Rn})}if(Xi.affectsConfiguration(ao)){const Rn=!!Li.getValue(ao);tn=Object.assign(Object.assign({},tn),{smoothScrolling:Rn})}if(Xi.affectsConfiguration(lo)){const Rn=Li.getValue(lo);tn=Object.assign(Object.assign({},tn),{mouseWheelScrollSensitivity:Rn})}if(Xi.affectsConfiguration(wo)){const Rn=Li.getValue(wo);tn=Object.assign(Object.assign({},tn),{fastScrollSensitivity:Rn})}Object.keys(tn).length>0&&this.updateOptions(tn)})),this.navigator=new Et(this,Object.assign({configurationService:Li},Kt)),this.disposables.add(this.navigator)}updateOptions(re){super.updateOptions(re),void 0!==re.overrideStyles&&this.updateStyles(re.overrideStyles),void 0!==re.multipleSelectionSupport&&this.listSupportsMultiSelect.set(!!re.multipleSelectionSupport)}updateStyles(re){this.style(re?(0,Wn.TU)(re):Wn.O2)}dispose(){this.disposables.dispose(),super.dispose()}};Ue=eo([wn(5,cn.i6),wn(6,Un),wn(7,Yi.Ui),wn(8,Pn.TG)],Ue);let $e=class extends G{constructor(re,We,rt,Pt,Kt,ti,yi,Li,sn,on){const rn=typeof ti.horizontalScrolling<"u"?ti.horizontalScrolling:!!sn.getValue($t),[ln,_n]=on.invokeFunction(q,ti);super(re,We,rt,Pt,Kt,Object.assign(Object.assign({keyboardSupport:!1},ln),{horizontalScrolling:rn})),this.disposables.add(_n),this.contextKeyService=Ai(yi,this),this.disposables.add(Wi(this.contextKeyService,this)),this.listSupportsMultiSelect=Qn.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(!1!==ti.multipleSelectionSupport),Be.bindTo(this.contextKeyService).set(!!ti.selectionNavigation),this.listHasSelectionOrFocus=nt.bindTo(this.contextKeyService),this.listDoubleSelection=Me.bindTo(this.contextKeyService),this.listMultiSelection=he.bindTo(this.contextKeyService),this.horizontalScrolling=ti.horizontalScrolling,this._useAltAsMultipleSelectionModifier=Ft(sn),this.disposables.add(this.contextKeyService),this.disposables.add(Li.register(this)),this.updateStyles(ti.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const tn=this.getSelection(),Rn=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(tn.length>0||Rn.length>0),this.listMultiSelection.set(tn.length>1),this.listDoubleSelection.set(2===tn.length)})})),this.disposables.add(this.onDidChangeFocus(()=>{const tn=this.getSelection(),Rn=this.getFocus();this.listHasSelectionOrFocus.set(tn.length>0||Rn.length>0)})),this.disposables.add(sn.onDidChangeConfiguration(tn=>{tn.affectsConfiguration($i)&&(this._useAltAsMultipleSelectionModifier=Ft(sn));let Rn={};if(tn.affectsConfiguration($t)&&void 0===this.horizontalScrolling){const io=!!sn.getValue($t);Rn=Object.assign(Object.assign({},Rn),{horizontalScrolling:io})}if(tn.affectsConfiguration(en)){const io=!!sn.getValue(en);Rn=Object.assign(Object.assign({},Rn),{scrollByPage:io})}if(tn.affectsConfiguration(ao)){const io=!!sn.getValue(ao);Rn=Object.assign(Object.assign({},Rn),{smoothScrolling:io})}if(tn.affectsConfiguration(lo)){const io=sn.getValue(lo);Rn=Object.assign(Object.assign({},Rn),{mouseWheelScrollSensitivity:io})}if(tn.affectsConfiguration(wo)){const io=sn.getValue(wo);Rn=Object.assign(Object.assign({},Rn),{fastScrollSensitivity:io})}Object.keys(Rn).length>0&&this.updateOptions(Rn)})),this.navigator=new kt(this,Object.assign({configurationService:sn},ti)),this.disposables.add(this.navigator)}updateOptions(re){super.updateOptions(re),void 0!==re.overrideStyles&&this.updateStyles(re.overrideStyles),void 0!==re.multipleSelectionSupport&&this.listSupportsMultiSelect.set(!!re.multipleSelectionSupport)}updateStyles(re){this.style(re?(0,Wn.TU)(re):Wn.O2)}dispose(){this.disposables.dispose(),super.dispose()}};$e=eo([wn(6,cn.i6),wn(7,Un),wn(8,Yi.Ui),wn(9,Pn.TG)],$e);class ct extends v.JT{constructor(re,We){var rt;super(),this.widget=re,this._onDidOpen=this._register(new y.Q5),this.onDidOpen=this._onDidOpen.event,this._register(y.ju.filter(this.widget.onDidChangeSelection,Pt=>Pt.browserEvent instanceof KeyboardEvent)(Pt=>this.onSelectionFromKeyboard(Pt))),this._register(this.widget.onPointer(Pt=>this.onPointer(Pt.element,Pt.browserEvent))),this._register(this.widget.onMouseDblClick(Pt=>this.onMouseDblClick(Pt.element,Pt.browserEvent))),"boolean"!=typeof We?.openOnSingleClick&&We?.configurationService?(this.openOnSingleClick="doubleClick"!==We?.configurationService.getValue(fi),this._register(We?.configurationService.onDidChangeConfiguration(Pt=>{Pt.affectsConfiguration(fi)&&(this.openOnSingleClick="doubleClick"!==We?.configurationService.getValue(fi))}))):this.openOnSingleClick=null===(rt=We?.openOnSingleClick)||void 0===rt||rt}onSelectionFromKeyboard(re){if(1!==re.elements.length)return;const We=re.browserEvent,rt="boolean"!=typeof We.preserveFocus||We.preserveFocus,Pt="boolean"==typeof We.pinned?We.pinned:!rt;this._open(this.getSelectedElement(),rt,Pt,!1,re.browserEvent)}onPointer(re,We){this.openOnSingleClick&&2!==We.detail&&this._open(re,!0,1===We.button,We.ctrlKey||We.metaKey||We.altKey,We)}onMouseDblClick(re,We){if(!We)return;const rt=We.target;rt.classList.contains("monaco-tl-twistie")||rt.classList.contains("monaco-icon-label")&&rt.classList.contains("folder-icon")&&We.offsetX<16||this._open(re,!1,!0,We.ctrlKey||We.metaKey||We.altKey,We)}_open(re,We,rt,Pt,Kt){re&&this._onDidOpen.fire({editorOptions:{preserveFocus:We,pinned:rt,revealIfVisible:!0},sideBySide:Pt,element:re,browserEvent:Kt})}}class Et extends ct{constructor(re,We){super(re,We),this.widget=re}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class kt extends ct{constructor(re,We){super(re,We)}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class ri extends ct{constructor(re,We){super(re,We)}getSelectedElement(){var re;return null!==(re=this.widget.getSelection()[0])&&void 0!==re?re:void 0}}function hi(Gt){let re=!1;return We=>{if(We.toKeyCodeChord().isModifierKey())return!1;if(re)return re=!1,!1;const rt=Gt.softDispatch(We,We.target);return 1===rt.kind?(re=!0,!1):(re=!1,0===rt.kind)}}let ii=class extends et{constructor(re,We,rt,Pt,Kt,ti,yi,Li,sn){const{options:on,getTypeNavigationMode:rn,disposable:ln}=ti.invokeFunction(Ln,Kt);super(re,We,rt,Pt,on),this.disposables.add(ln),this.internals=new kn(this,Kt,rn,Kt.overrideStyles,yi,Li,sn),this.disposables.add(this.internals)}updateOptions(re){super.updateOptions(re),this.internals.updateOptions(re)}};ii=eo([wn(5,Pn.TG),wn(6,cn.i6),wn(7,Un),wn(8,Yi.Ui)],ii);let Si=class extends xt{constructor(re,We,rt,Pt,Kt,ti,yi,Li,sn){const{options:on,getTypeNavigationMode:rn,disposable:ln}=ti.invokeFunction(Ln,Kt);super(re,We,rt,Pt,on),this.disposables.add(ln),this.internals=new kn(this,Kt,rn,Kt.overrideStyles,yi,Li,sn),this.disposables.add(this.internals)}updateOptions(re={}){super.updateOptions(re),re.overrideStyles&&this.internals.updateStyleOverrides(re.overrideStyles),this.internals.updateOptions(re)}};Si=eo([wn(5,Pn.TG),wn(6,cn.i6),wn(7,Un),wn(8,Yi.Ui)],Si);let Ti=class extends Fi{constructor(re,We,rt,Pt,Kt,ti,yi,Li,sn,on){const{options:rn,getTypeNavigationMode:ln,disposable:_n}=yi.invokeFunction(Ln,ti);super(re,We,rt,Pt,Kt,rn),this.disposables.add(_n),this.internals=new kn(this,ti,ln,ti.overrideStyles,Li,sn,on),this.disposables.add(this.internals)}updateOptions(re={}){super.updateOptions(re),void 0!==re.overrideStyles&&this.internals.updateStyleOverrides(re.overrideStyles),this.internals.updateOptions(re)}};Ti=eo([wn(6,Pn.TG),wn(7,cn.i6),wn(8,Un),wn(9,Yi.Ui)],Ti);let Bi=class extends ni{get onDidOpen(){return this.internals.onDidOpen}constructor(re,We,rt,Pt,Kt,ti,yi,Li,sn,on){const{options:rn,getTypeNavigationMode:ln,disposable:_n}=yi.invokeFunction(Ln,ti);super(re,We,rt,Pt,Kt,rn),this.disposables.add(_n),this.internals=new kn(this,ti,ln,ti.overrideStyles,Li,sn,on),this.disposables.add(this.internals)}updateOptions(re={}){super.updateOptions(re),re.overrideStyles&&this.internals.updateStyleOverrides(re.overrideStyles),this.internals.updateOptions(re)}};Bi=eo([wn(6,Pn.TG),wn(7,cn.i6),wn(8,Un),wn(9,Yi.Ui)],Bi);let ji=class extends Yt{constructor(re,We,rt,Pt,Kt,ti,yi,Li,sn,on,rn){const{options:ln,getTypeNavigationMode:_n,disposable:Xi}=Li.invokeFunction(Ln,yi);super(re,We,rt,Pt,Kt,ti,ln),this.disposables.add(Xi),this.internals=new kn(this,yi,_n,yi.overrideStyles,sn,on,rn),this.disposables.add(this.internals)}updateOptions(re){super.updateOptions(re),this.internals.updateOptions(re)}};function Hi(Gt){const re=Gt.getValue(Ii);if("highlight"===re)return It.Highlight;if("filter"===re)return It.Filter;const We=Gt.getValue(nn);return"simple"===We||"highlight"===We?It.Highlight:"filter"===We?It.Filter:void 0}function Cn(Gt){const re=Gt.getValue(yn);return"fuzzy"===re?it.Fuzzy:"contiguous"===re?it.Contiguous:void 0}function Ln(Gt,re){var We;const rt=Gt.get(Yi.Ui),Pt=Gt.get(Dn.u),Kt=Gt.get(cn.i6),ti=Gt.get(Pn.TG),Li=void 0!==re.horizontalScrolling?re.horizontalScrolling:!!rt.getValue($t),[sn,on]=ti.invokeFunction(q,re),rn=re.paddingBottom,ln=void 0!==re.renderIndentGuides?re.renderIndentGuides:rt.getValue(ro);return{getTypeNavigationMode:()=>{const _n=Kt.getContextKeyValue(qt);if("automatic"===_n)return T.AA.Automatic;if("trigger"===_n||!1===Kt.getContextKeyValue(oi))return T.AA.Trigger;const tn=rt.getValue(si);return"automatic"===tn?T.AA.Automatic:"trigger"===tn?T.AA.Trigger:void 0},disposable:on,options:Object.assign(Object.assign({keyboardSupport:!1},sn),{indent:"number"==typeof rt.getValue(An)?rt.getValue(An):void 0,renderIndentGuides:ln,smoothScrolling:!!rt.getValue(ao),defaultFindMode:Hi(rt),defaultFindMatchType:Cn(rt),horizontalScrolling:Li,scrollByPage:!!rt.getValue(en),paddingBottom:rn,hideTwistiesOfChildlessElements:re.hideTwistiesOfChildlessElements,expandOnlyOnTwistieClick:null!==(We=re.expandOnlyOnTwistieClick)&&void 0!==We?We:"doubleClick"===rt.getValue(vs),contextViewProvider:Pt,findWidgetStyles:Wn.uX})}}ji=eo([wn(7,Pn.TG),wn(8,cn.i6),wn(9,Un),wn(10,Yi.Ui)],ji);let kn=class{get onDidOpen(){return this.navigator.onDidOpen}constructor(re,We,rt,Pt,Kt,ti,yi){var Li;this.tree=re,this.disposables=[],this.contextKeyService=Ai(Kt,re),this.disposables.push(Wi(this.contextKeyService,re)),this.listSupportsMultiSelect=Qn.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(!1!==We.multipleSelectionSupport),Be.bindTo(this.contextKeyService).set(!!We.selectionNavigation),this.listSupportFindWidget=Ke.bindTo(this.contextKeyService),this.listSupportFindWidget.set(null===(Li=We.findWidgetEnabled)||void 0===Li||Li),this.hasSelectionOrFocus=nt.bindTo(this.contextKeyService),this.hasDoubleSelection=Me.bindTo(this.contextKeyService),this.hasMultiSelection=he.bindTo(this.contextKeyService),this.treeElementCanCollapse=Ye.bindTo(this.contextKeyService),this.treeElementHasParent=dt.bindTo(this.contextKeyService),this.treeElementCanExpand=zt.bindTo(this.contextKeyService),this.treeElementHasChild=_i.bindTo(this.contextKeyService),this.treeFindOpen=mi.bindTo(this.contextKeyService),this._useAltAsMultipleSelectionModifier=Ft(yi),this.updateStyleOverrides(Pt);const on=()=>{const ln=re.getFocus()[0];if(!ln)return;const _n=re.getNode(ln);this.treeElementCanCollapse.set(_n.collapsible&&!_n.collapsed),this.treeElementHasParent.set(!!re.getParentElement(ln)),this.treeElementCanExpand.set(_n.collapsible&&_n.collapsed),this.treeElementHasChild.set(!!re.getFirstElementChild(ln))},rn=new Set;rn.add(qt),rn.add(oi),this.disposables.push(this.contextKeyService,ti.register(re),re.onDidChangeSelection(()=>{const ln=re.getSelection(),_n=re.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.hasSelectionOrFocus.set(ln.length>0||_n.length>0),this.hasMultiSelection.set(ln.length>1),this.hasDoubleSelection.set(2===ln.length)})}),re.onDidChangeFocus(()=>{const ln=re.getSelection(),_n=re.getFocus();this.hasSelectionOrFocus.set(ln.length>0||_n.length>0),on()}),re.onDidChangeCollapseState(on),re.onDidChangeModel(on),re.onDidChangeFindOpenState(ln=>this.treeFindOpen.set(ln)),yi.onDidChangeConfiguration(ln=>{let _n={};if(ln.affectsConfiguration($i)&&(this._useAltAsMultipleSelectionModifier=Ft(yi)),ln.affectsConfiguration(An)){const Xi=yi.getValue(An);_n=Object.assign(Object.assign({},_n),{indent:Xi})}if(ln.affectsConfiguration(ro)&&void 0===We.renderIndentGuides){const Xi=yi.getValue(ro);_n=Object.assign(Object.assign({},_n),{renderIndentGuides:Xi})}if(ln.affectsConfiguration(ao)){const Xi=!!yi.getValue(ao);_n=Object.assign(Object.assign({},_n),{smoothScrolling:Xi})}if(ln.affectsConfiguration(Ii)||ln.affectsConfiguration(nn)){const Xi=Hi(yi);_n=Object.assign(Object.assign({},_n),{defaultFindMode:Xi})}if(ln.affectsConfiguration(si)||ln.affectsConfiguration(nn)){const Xi=rt();_n=Object.assign(Object.assign({},_n),{typeNavigationMode:Xi})}if(ln.affectsConfiguration(yn)){const Xi=Cn(yi);_n=Object.assign(Object.assign({},_n),{defaultFindMatchType:Xi})}if(ln.affectsConfiguration($t)&&void 0===We.horizontalScrolling){const Xi=!!yi.getValue($t);_n=Object.assign(Object.assign({},_n),{horizontalScrolling:Xi})}if(ln.affectsConfiguration(en)){const Xi=!!yi.getValue(en);_n=Object.assign(Object.assign({},_n),{scrollByPage:Xi})}if(ln.affectsConfiguration(vs)&&void 0===We.expandOnlyOnTwistieClick&&(_n=Object.assign(Object.assign({},_n),{expandOnlyOnTwistieClick:"doubleClick"===yi.getValue(vs)})),ln.affectsConfiguration(lo)){const Xi=yi.getValue(lo);_n=Object.assign(Object.assign({},_n),{mouseWheelScrollSensitivity:Xi})}if(ln.affectsConfiguration(wo)){const Xi=yi.getValue(wo);_n=Object.assign(Object.assign({},_n),{fastScrollSensitivity:Xi})}Object.keys(_n).length>0&&re.updateOptions(_n)}),this.contextKeyService.onDidChangeContext(ln=>{ln.affectsSome(rn)&&re.updateOptions({typeNavigationMode:rt()})})),this.navigator=new ri(re,Object.assign({configurationService:yi},We)),this.disposables.push(this.navigator)}updateOptions(re){void 0!==re.multipleSelectionSupport&&this.listSupportsMultiSelect.set(!!re.multipleSelectionSupport)}updateStyleOverrides(re){this.tree.style(re?(0,Wn.TU)(re):Wn.O2)}dispose(){this.disposables=(0,v.B9)(this.disposables)}};kn=eo([wn(4,cn.i6),wn(5,Un),wn(6,Yi.Ui)],kn),Xn.B.as(Qi.IP.Configuration).registerConfiguration({id:"workbench",order:7,title:(0,Q.NC)("workbenchConfigurationTitle","Workbench"),type:"object",properties:{[$i]:{type:"string",enum:["ctrlCmd","alt"],markdownEnumDescriptions:[(0,Q.NC)("multiSelectModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),(0,Q.NC)("multiSelectModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],default:"ctrlCmd",description:(0,Q.NC)({key:"multiSelectModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add an item in trees and lists to a multi-selection with the mouse (for example in the explorer, open editors and scm view). The 'Open to Side' mouse gestures - if supported - will adapt such that they do not conflict with the multiselect modifier.")},[fi]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:(0,Q.NC)({key:"openModeModifier",comment:["`singleClick` and `doubleClick` refers to a value the setting can take and should not be localized."]},"Controls how to open items in trees and lists using the mouse (if supported). Note that some trees and lists might choose to ignore this setting if it is not applicable.")},[$t]:{type:"boolean",default:!1,description:(0,Q.NC)("horizontalScrolling setting","Controls whether lists and trees support horizontal scrolling in the workbench. Warning: turning on this setting has a performance implication.")},[en]:{type:"boolean",default:!1,description:(0,Q.NC)("list.scrollByPage","Controls whether clicks in the scrollbar scroll page by page.")},[An]:{type:"number",default:8,minimum:4,maximum:40,description:(0,Q.NC)("tree indent setting","Controls tree indentation in pixels.")},[ro]:{type:"string",enum:["none","onHover","always"],default:"onHover",description:(0,Q.NC)("render tree indent guides","Controls whether the tree should render indent guides.")},[ao]:{type:"boolean",default:!1,description:(0,Q.NC)("list smoothScrolling setting","Controls whether lists and trees have smooth scrolling.")},[lo]:{type:"number",default:1,markdownDescription:(0,Q.NC)("Mouse Wheel Scroll Sensitivity","A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")},[wo]:{type:"number",default:5,markdownDescription:(0,Q.NC)("Fast Scroll Sensitivity","Scrolling speed multiplier when pressing `Alt`.")},[Ii]:{type:"string",enum:["highlight","filter"],enumDescriptions:[(0,Q.NC)("defaultFindModeSettingKey.highlight","Highlight elements when searching. Further up and down navigation will traverse only the highlighted elements."),(0,Q.NC)("defaultFindModeSettingKey.filter","Filter elements when searching.")],default:"highlight",description:(0,Q.NC)("defaultFindModeSettingKey","Controls the default find mode for lists and trees in the workbench.")},[nn]:{type:"string",enum:["simple","highlight","filter"],enumDescriptions:[(0,Q.NC)("keyboardNavigationSettingKey.simple","Simple keyboard navigation focuses elements which match the keyboard input. Matching is done only on prefixes."),(0,Q.NC)("keyboardNavigationSettingKey.highlight","Highlight keyboard navigation highlights elements which match the keyboard input. Further up and down navigation will traverse only the highlighted elements."),(0,Q.NC)("keyboardNavigationSettingKey.filter","Filter keyboard navigation will filter out and hide all the elements which do not match the keyboard input.")],default:"highlight",description:(0,Q.NC)("keyboardNavigationSettingKey","Controls the keyboard navigation style for lists and trees in the workbench. Can be simple, highlight and filter."),deprecated:!0,deprecationMessage:(0,Q.NC)("keyboardNavigationSettingKeyDeprecated","Please use 'workbench.list.defaultFindMode' and\t'workbench.list.typeNavigationMode' instead.")},[yn]:{type:"string",enum:["fuzzy","contiguous"],enumDescriptions:[(0,Q.NC)("defaultFindMatchTypeSettingKey.fuzzy","Use fuzzy matching when searching."),(0,Q.NC)("defaultFindMatchTypeSettingKey.contiguous","Use contiguous matching when searching.")],default:"fuzzy",description:(0,Q.NC)("defaultFindMatchTypeSettingKey","Controls the type of matching used when searching lists and trees in the workbench.")},[vs]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:(0,Q.NC)("expand mode","Controls how tree folders are expanded when clicking the folder names. Note that some trees and lists might choose to ignore this setting if it is not applicable.")},[si]:{type:"string",enum:["automatic","trigger"],default:"automatic",description:(0,Q.NC)("typeNavigationMode","Controls the how type navigation works in lists and trees in the workbench. When set to 'trigger', type navigation begins once the 'list.triggerTypeNavigation' command is run.")}}})},22468:(Xe,we,e)=>{e.d(we,{VZ:()=>v,in:()=>S,kw:()=>L,qA:()=>p});var f=e(58178),P=e(78694),r=e(66221);const v=(0,e(12065).yh)("logService");var S=function(g){return g[g.Off=0]="Off",g[g.Trace=1]="Trace",g[g.Debug=2]="Debug",g[g.Info=3]="Info",g[g.Warning=4]="Warning",g[g.Error=5]="Error",g}(S||{});const T=S.Info;class E extends P.JT{constructor(){super(...arguments),this.level=T,this._onDidChangeLogLevel=this._register(new f.Q5),this.onDidChangeLogLevel=this._onDidChangeLogLevel.event}setLevel(i){this.level!==i&&(this.level=i,this._onDidChangeLogLevel.fire(this.level))}getLevel(){return this.level}checkLogLevel(i){return this.level!==S.Off&&this.level<=i}}class L extends E{constructor(i=T,d=!0){super(),this.useColors=d,this.setLevel(i)}trace(i,...d){this.checkLogLevel(S.Trace)&&(this.useColors?console.log("%cTRACE","color: #888",i,...d):console.log(i,...d))}debug(i,...d){this.checkLogLevel(S.Debug)&&(this.useColors?console.log("%cDEBUG","background: #eee; color: #888",i,...d):console.log(i,...d))}info(i,...d){this.checkLogLevel(S.Info)&&(this.useColors?console.log("%c INFO","color: #33f",i,...d):console.log(i,...d))}warn(i,...d){this.checkLogLevel(S.Warning)&&(this.useColors?console.log("%c WARN","color: #993",i,...d):console.log(i,...d))}error(i,...d){this.checkLogLevel(S.Error)&&(this.useColors?console.log("%c  ERR","color: #f33",i,...d):console.error(i,...d))}dispose(){}}class p extends E{constructor(i){super(),this.loggers=i,i.length&&this.setLevel(i[0].getLevel())}setLevel(i){for(const d of this.loggers)d.setLevel(i);super.setLevel(i)}trace(i,...d){for(const a of this.loggers)a.trace(i,...d)}debug(i,...d){for(const a of this.loggers)a.debug(i,...d)}info(i,...d){for(const a of this.loggers)a.info(i,...d)}warn(i,...d){for(const a of this.loggers)a.warn(i,...d)}error(i,...d){for(const a of this.loggers)a.error(i,...d)}dispose(){for(const i of this.loggers)i.dispose()}}new r.uy("logLevel",function c(g){switch(g){case S.Trace:return"trace";case S.Debug:return"debug";case S.Info:return"info";case S.Warning:return"warn";case S.Error:return"error";case S.Off:return"off"}}(S.Info))},17259:(Xe,we,e)=>{e.d(we,{H0:()=>v,ZL:()=>y,lT:()=>S});var v,f=e(17130),P=e(37190),r=e(12065),y=function(T){return T[T.Hint=1]="Hint",T[T.Info=2]="Info",T[T.Warning=4]="Warning",T[T.Error=8]="Error",T}(y||{});!function(T){T.compare=function E(g,i){return i-g};const L=Object.create(null);L[T.Error]=(0,P.NC)("sev.error","Error"),L[T.Warning]=(0,P.NC)("sev.warning","Warning"),L[T.Info]=(0,P.NC)("sev.info","Info"),T.toString=function p(g){return L[g]||""},T.fromSeverity=function c(g){switch(g){case f.Z.Error:return T.Error;case f.Z.Warning:return T.Warning;case f.Z.Info:return T.Info;case f.Z.Ignore:return T.Hint}},T.toSeverity=function u(g){switch(g){case T.Error:return f.Z.Error;case T.Warning:return f.Z.Warning;case T.Info:return f.Z.Info;case T.Hint:return f.Z.Ignore}}}(y||(y={})),function(T){const E="";function p(c,u){const g=[E];return g.push(c.source?c.source.replace("\xa6","\\\xa6"):E),g.push(c.code?"string"==typeof c.code?c.code.replace("\xa6","\\\xa6"):c.code.value.replace("\xa6","\\\xa6"):E),g.push(null!=c.severity?y.toString(c.severity):E),g.push(c.message&&u?c.message.replace("\xa6","\\\xa6"):E),g.push(null!=c.startLineNumber?c.startLineNumber.toString():E),g.push(null!=c.startColumn?c.startColumn.toString():E),g.push(null!=c.endLineNumber?c.endLineNumber.toString():E),g.push(null!=c.endColumn?c.endColumn.toString():E),g.push(E),g.join("\xa6")}T.makeKey=function L(c){return p(c,!0)},T.makeKeyOptionalMessage=p}(v||(v={}));const S=(0,r.yh)("markerService")},22438:(Xe,we,e)=>{e.d(we,{EO:()=>v,lT:()=>y,zb:()=>r});var f=e(17130),P=e(12065),r=f.Z;const y=(0,P.yh)("notificationService");class v{}},6628:(Xe,we,e)=>{e.d(we,{Gs:()=>S,v4:()=>y,xI:()=>T,xn:()=>v});var f=e(16055),P=e(15850);const y=(0,e(12065).yh)("openerService");function v(E,L){return P.o.isUri(E)?(0,f.qq)(E.scheme,L):(0,f.ok)(E,L+":")}function S(E,...L){return L.some(p=>v(E,p))}function T(E){let L;const p=/^L?(\d+)(?:,(\d+))?(-L?(\d+)(?:,(\d+))?)?/.exec(E.fragment);return p&&(L={startLineNumber:parseInt(p[1]),startColumn:p[2]?parseInt(p[2]):1,endLineNumber:p[4]?parseInt(p[4]):void 0,endColumn:p[4]?p[5]?parseInt(p[5]):1:void 0},E=E.with({fragment:""})),{selection:L,uri:E}}},51367:(Xe,we,e)=>{e.d(we,{Ex:()=>y,R9:()=>P,ek:()=>v});var f=e(12065);const P=(0,f.yh)("progressService");Object.freeze({total(){},worked(){},done(){}});class y{constructor(T,E){this.callback=T,this.report=E?.async?this._reportAsync.bind(this):this._reportSync.bind(this)}_reportSync(T){this._value=T,this.callback(this._value)}_reportAsync(T){Promise.resolve(this._lastTask).finally(()=>{this._value=T;const E=this.callback(this._value);this._lastTask=Promise.resolve(E).finally(()=>this._lastTask=void 0)})}}y.None=Object.freeze({report(){}});const v=(0,f.yh)("editorProgressService")},51198:(Xe,we,e)=>{e.d(we,{IP:()=>v,Ry:()=>y});var f=e(31738),P=e(78694),r=e(81834),y=function(T){return T[T.PRESERVE=0]="PRESERVE",T[T.LAST=1]="LAST",T}(y||{});const v={Quickaccess:"workbench.contributions.quickaccess"};r.B.add(v.Quickaccess,new class S{constructor(){this.providers=[],this.defaultProvider=void 0}registerQuickAccessProvider(E){return 0===E.prefix.length?this.defaultProvider=E:this.providers.push(E),this.providers.sort((L,p)=>p.prefix.length-L.prefix.length),(0,P.OF)(()=>{this.providers.splice(this.providers.indexOf(E),1),this.defaultProvider===E&&(this.defaultProvider=void 0)})}getQuickAccessProviders(){return(0,f.kX)([this.defaultProvider,...this.providers])}getQuickAccessProvider(E){return E&&this.providers.find(p=>E.startsWith(p.prefix))||this.defaultProvider}})},49010:(Xe,we,e)=>{e.d(we,{Jq:()=>r,X5:()=>P,eJ:()=>T,jG:()=>y});var f=e(12065);const P={ctrlCmd:!1,alt:!1};var r=function(E){return E[E.Blur=1]="Blur",E[E.Gesture=2]="Gesture",E[E.Other=3]="Other",E}(r||{}),y=function(E){return E[E.NONE=0]="NONE",E[E.FIRST=1]="FIRST",E[E.SECOND=2]="SECOND",E[E.LAST=3]="LAST",E}(y||{});new class v{constructor(L){this.options=L}};const T=(0,f.yh)("quickInputService")},81834:(Xe,we,e)=>{e.d(we,{B:()=>y});var f=e(37836),P=e(91402);const y=new class r{constructor(){this.data=new Map}add(S,T){f.ok(P.HD(S)),f.ok(P.Kn(T)),f.ok(!this.data.has(S),"There is already an extension with this id"),this.data.set(S,T)}as(S){return this.data.get(S)||null}}},93476:(Xe,we,e)=>{e.d(we,{Uy:()=>g,vm:()=>m,fk:()=>i});var f=e(58178),P=e(78694),r=e(91402),y=e(85328),v=e(57117),S=function(l,I,w,D){return new(w||(w=Promise))(function(A,k){function R(z){try{W(D.next(z))}catch(U){k(U)}}function O(z){try{W(D.throw(z))}catch(U){k(U)}}function W(z){z.done?A(z.value):function N(A){return A instanceof w?A:new w(function(k){k(A)})}(z.value).then(R,O)}W((D=D.apply(l,I||[])).next())})},T=function(l){return l[l.STORAGE_DOES_NOT_EXIST=0]="STORAGE_DOES_NOT_EXIST",l[l.STORAGE_IN_MEMORY=1]="STORAGE_IN_MEMORY",l}(T||{}),E=function(l){return l[l.None=0]="None",l[l.Initialized=1]="Initialized",l[l.Closed=2]="Closed",l}(E||{});let L=(()=>{class l extends P.JT{constructor(w,D=Object.create(null)){super(),this.database=w,this.options=D,this._onDidChangeStorage=this._register(new f.K3),this.onDidChangeStorage=this._onDidChangeStorage.event,this.state=E.None,this.cache=new Map,this.flushDelayer=new y.rH(l.DEFAULT_FLUSH_DELAY),this.pendingDeletes=new Set,this.pendingInserts=new Map,this.whenFlushedCallbacks=[],this.registerListeners()}registerListeners(){this._register(this.database.onDidChangeItemsExternal(w=>this.onDidChangeItemsExternal(w)))}onDidChangeItemsExternal(w){var D,N;this._onDidChangeStorage.pause();try{null===(D=w.changed)||void 0===D||D.forEach((A,k)=>this.acceptExternal(k,A)),null===(N=w.deleted)||void 0===N||N.forEach(A=>this.acceptExternal(A,void 0))}finally{this._onDidChangeStorage.resume()}}acceptExternal(w,D){if(this.state===E.Closed)return;let N=!1;(0,r.Jp)(D)?N=this.cache.delete(w):this.cache.get(w)!==D&&(this.cache.set(w,D),N=!0),N&&this._onDidChangeStorage.fire({key:w,external:!0})}get(w,D){const N=this.cache.get(w);return(0,r.Jp)(N)?D:N}getBoolean(w,D){const N=this.get(w);return(0,r.Jp)(N)?D:"true"===N}getNumber(w,D){const N=this.get(w);return(0,r.Jp)(N)?D:parseInt(N,10)}set(w,D,N=!1){return S(this,void 0,void 0,function*(){if(this.state===E.Closed)return;if((0,r.Jp)(D))return this.delete(w,N);const A=(0,r.Kn)(D)||Array.isArray(D)?(0,v.Pz)(D):String(D);return this.cache.get(w)!==A?(this.cache.set(w,A),this.pendingInserts.set(w,A),this.pendingDeletes.delete(w),this._onDidChangeStorage.fire({key:w,external:N}),this.doFlush()):void 0})}delete(w,D=!1){return S(this,void 0,void 0,function*(){if(this.state!==E.Closed&&this.cache.delete(w))return this.pendingDeletes.has(w)||this.pendingDeletes.add(w),this.pendingInserts.delete(w),this._onDidChangeStorage.fire({key:w,external:D}),this.doFlush()})}get hasPending(){return this.pendingInserts.size>0||this.pendingDeletes.size>0}flushPending(){return S(this,void 0,void 0,function*(){if(!this.hasPending)return;const w={insert:this.pendingInserts,delete:this.pendingDeletes};return this.pendingDeletes=new Set,this.pendingInserts=new Map,this.database.updateItems(w).finally(()=>{var D;if(!this.hasPending)for(;this.whenFlushedCallbacks.length;)null===(D=this.whenFlushedCallbacks.pop())||void 0===D||D()})})}doFlush(w){return S(this,void 0,void 0,function*(){return this.flushDelayer.trigger(()=>this.flushPending(),w)})}dispose(){this.flushDelayer.dispose(),super.dispose()}}return l.DEFAULT_FLUSH_DELAY=100,l})();class p{constructor(){this.onDidChangeItemsExternal=f.ju.None,this.items=new Map}updateItems(I){var w,D;return S(this,void 0,void 0,function*(){null===(w=I.insert)||void 0===w||w.forEach((N,A)=>this.items.set(A,N)),null===(D=I.delete)||void 0===D||D.forEach(N=>this.items.delete(N))})}}var c=e(12065);const u="__$__targetStorageMarker",g=(0,c.yh)("storageService");var i=function(l){return l[l.NONE=0]="NONE",l[l.SHUTDOWN=1]="SHUTDOWN",l}(i||{});let a=(()=>{class l extends P.JT{constructor(w={flushInterval:l.DEFAULT_FLUSH_INTERVAL}){super(),this.options=w,this._onDidChangeValue=this._register(new f.K3),this._onDidChangeTarget=this._register(new f.K3),this._onWillSaveState=this._register(new f.Q5),this.onWillSaveState=this._onWillSaveState.event,this._workspaceKeyTargets=void 0,this._profileKeyTargets=void 0,this._applicationKeyTargets=void 0}onDidChangeValue(w,D,N){return f.ju.filter(this._onDidChangeValue.event,A=>A.scope===w&&(void 0===D||A.key===D),N)}emitDidChangeValue(w,D){const{key:N,external:A}=D;if(N===u){switch(w){case-1:this._applicationKeyTargets=void 0;break;case 0:this._profileKeyTargets=void 0;break;case 1:this._workspaceKeyTargets=void 0}this._onDidChangeTarget.fire({scope:w})}else this._onDidChangeValue.fire({scope:w,key:N,target:this.getKeyTargets(w)[N],external:A})}get(w,D,N){var A;return null===(A=this.getStorage(D))||void 0===A?void 0:A.get(w,N)}getBoolean(w,D,N){var A;return null===(A=this.getStorage(D))||void 0===A?void 0:A.getBoolean(w,N)}getNumber(w,D,N){var A;return null===(A=this.getStorage(D))||void 0===A?void 0:A.getNumber(w,N)}store(w,D,N,A,k=!1){(0,r.Jp)(D)?this.remove(w,N,k):this.withPausedEmitters(()=>{var R;this.updateKeyTarget(w,N,A),null===(R=this.getStorage(N))||void 0===R||R.set(w,D,k)})}remove(w,D,N=!1){this.withPausedEmitters(()=>{var A;this.updateKeyTarget(w,D,void 0),null===(A=this.getStorage(D))||void 0===A||A.delete(w,N)})}withPausedEmitters(w){this._onDidChangeValue.pause(),this._onDidChangeTarget.pause();try{w()}finally{this._onDidChangeValue.resume(),this._onDidChangeTarget.resume()}}updateKeyTarget(w,D,N,A=!1){var k,R;const O=this.getKeyTargets(D);"number"==typeof N?O[w]!==N&&(O[w]=N,null===(k=this.getStorage(D))||void 0===k||k.set(u,JSON.stringify(O),A)):"number"==typeof O[w]&&(delete O[w],null===(R=this.getStorage(D))||void 0===R||R.set(u,JSON.stringify(O),A))}get workspaceKeyTargets(){return this._workspaceKeyTargets||(this._workspaceKeyTargets=this.loadKeyTargets(1)),this._workspaceKeyTargets}get profileKeyTargets(){return this._profileKeyTargets||(this._profileKeyTargets=this.loadKeyTargets(0)),this._profileKeyTargets}get applicationKeyTargets(){return this._applicationKeyTargets||(this._applicationKeyTargets=this.loadKeyTargets(-1)),this._applicationKeyTargets}getKeyTargets(w){switch(w){case-1:return this.applicationKeyTargets;case 0:return this.profileKeyTargets;default:return this.workspaceKeyTargets}}loadKeyTargets(w){const D=this.getStorage(w);return D?function d(l){const I=l.get(u);if(I)try{return JSON.parse(I)}catch{}return Object.create(null)}(D):Object.create(null)}}return l.DEFAULT_FLUSH_INTERVAL=6e4,l})();class m extends a{constructor(){super(),this.applicationStorage=this._register(new L(new p,{hint:T.STORAGE_IN_MEMORY})),this.profileStorage=this._register(new L(new p,{hint:T.STORAGE_IN_MEMORY})),this.workspaceStorage=this._register(new L(new p,{hint:T.STORAGE_IN_MEMORY})),this._register(this.workspaceStorage.onDidChangeStorage(I=>this.emitDidChangeValue(1,I))),this._register(this.profileStorage.onDidChangeStorage(I=>this.emitDidChangeValue(0,I))),this._register(this.applicationStorage.onDidChangeStorage(I=>this.emitDidChangeValue(-1,I)))}getStorage(I){switch(I){case-1:return this.applicationStorage;case 0:return this.profileStorage;default:return this.workspaceStorage}}}},58942:(Xe,we,e)=>{e.d(we,{b:()=>P});const P=(0,e(12065).yh)("telemetryService")},36547:(Xe,we,e)=>{e.d(we,{BM:()=>a,Hc:()=>p,O2:()=>i,TU:()=>d,ZR:()=>m,b5:()=>S,eO:()=>y,ku:()=>u,pl:()=>T,uX:()=>c,wG:()=>v});var f=e(99745),P=e(90888);const y={keybindingLabelBackground:(0,f.n_1)(f.oQ$),keybindingLabelForeground:(0,f.n_1)(f.lWp),keybindingLabelBorder:(0,f.n_1)(f.AWI),keybindingLabelBottomBorder:(0,f.n_1)(f.K19),keybindingLabelShadow:(0,f.n_1)(f.rh)},v={buttonForeground:(0,f.n_1)(f.j5u),buttonSeparator:(0,f.n_1)(f.iFQ),buttonBackground:(0,f.n_1)(f.b7$),buttonHoverBackground:(0,f.n_1)(f.GO4),buttonSecondaryForeground:(0,f.n_1)(f.qBU),buttonSecondaryBackground:(0,f.n_1)(f.ESD),buttonSecondaryHoverBackground:(0,f.n_1)(f.xEn),buttonBorder:(0,f.n_1)(f.GYc)},S={progressBarBackground:(0,f.n_1)(f.zRJ)},T={inputActiveOptionBorder:(0,f.n_1)(f.PRb),inputActiveOptionForeground:(0,f.n_1)(f.Pvw),inputActiveOptionBackground:(0,f.n_1)(f.XEs)},p=((0,f.n_1)(f.SUp),(0,f.n_1)(f.nd),(0,f.n_1)(f.BQ0),(0,f.n_1)(f.D0T),(0,f.n_1)(f.Hfx),(0,f.n_1)(f.rh),(0,f.n_1)(f.lRK),(0,f.n_1)(f.JpG),(0,f.n_1)(f.BOY),(0,f.n_1)(f.OLZ),(0,f.n_1)(f.url),{inputBackground:(0,f.n_1)(f.sEe),inputForeground:(0,f.n_1)(f.zJb),inputBorder:(0,f.n_1)(f.dt_),inputValidationInfoBorder:(0,f.n_1)(f.EPQ),inputValidationInfoBackground:(0,f.n_1)(f._lC),inputValidationInfoForeground:(0,f.n_1)(f.YI3),inputValidationWarningBorder:(0,f.n_1)(f.C3g),inputValidationWarningBackground:(0,f.n_1)(f.RV_),inputValidationWarningForeground:(0,f.n_1)(f.SUG),inputValidationErrorBorder:(0,f.n_1)(f.OZR),inputValidationErrorBackground:(0,f.n_1)(f.paE),inputValidationErrorForeground:(0,f.n_1)(f._t9)}),c={listFilterWidgetBackground:(0,f.n_1)(f.vGG),listFilterWidgetOutline:(0,f.n_1)(f.oSI),listFilterWidgetNoMatchesOutline:(0,f.n_1)(f.Saq),listFilterWidgetShadow:(0,f.n_1)(f.y65),inputBoxStyles:p,toggleStyles:T},u={badgeBackground:(0,f.n_1)(f.g8u),badgeForeground:(0,f.n_1)(f.qeD),badgeBorder:(0,f.n_1)(f.lRK)},i=((0,f.n_1)(f.ixd),(0,f.n_1)(f.l80),(0,f.n_1)(f.H6q),(0,f.n_1)(f.H6q),(0,f.n_1)(f.fSI),{listBackground:void 0,listInactiveFocusForeground:void 0,listFocusBackground:(0,f.n_1)(f._bK),listFocusForeground:(0,f.n_1)(f._2n),listFocusOutline:(0,f.n_1)(f.Oop),listActiveSelectionBackground:(0,f.n_1)(f.dCr),listActiveSelectionForeground:(0,f.n_1)(f.M6C),listActiveSelectionIconForeground:(0,f.n_1)(f.Tnx),listFocusAndSelectionOutline:(0,f.n_1)(f.Bqu),listFocusAndSelectionBackground:(0,f.n_1)(f.dCr),listFocusAndSelectionForeground:(0,f.n_1)(f.M6C),listInactiveSelectionBackground:(0,f.n_1)(f.rg2),listInactiveSelectionIconForeground:(0,f.n_1)(f.kvU),listInactiveSelectionForeground:(0,f.n_1)(f.ytC),listInactiveFocusBackground:(0,f.n_1)(f.s$),listInactiveFocusOutline:(0,f.n_1)(f.F3d),listHoverBackground:(0,f.n_1)(f.mV1),listHoverForeground:(0,f.n_1)(f.$d5),listDropBackground:(0,f.n_1)(f.AS1),listSelectionOutline:(0,f.n_1)(f.xL1),listHoverOutline:(0,f.n_1)(f.xL1),treeIndentGuidesStroke:(0,f.n_1)(f.UnT),treeInactiveIndentGuidesStroke:(0,f.n_1)(f.KjV),tableColumnsBorder:(0,f.n_1)(f.uxu),tableOddRowsBackgroundColor:(0,f.n_1)(f.EQn)});function d(l){return function r(l,I){const w=Object.assign({},I);for(const D in l){const N=l[D];w[D]=void 0!==N?(0,f.n_1)(N):void 0}return w}(l,i)}const a={selectBackground:(0,f.n_1)(f.XV0),selectListBackground:(0,f.n_1)(f.Fgs),selectForeground:(0,f.n_1)(f._g0),decoratorRightForeground:(0,f.n_1)(f.kJk),selectBorder:(0,f.n_1)(f.a9O),focusBorder:(0,f.n_1)(f.R80),listFocusBackground:(0,f.n_1)(f.Vqd),listInactiveSelectionIconForeground:(0,f.n_1)(f.cbQ),listFocusForeground:(0,f.n_1)(f.NPS),listFocusOutline:(0,f.BtC)(f.xL1,P.Il.transparent.toString()),listHoverBackground:(0,f.n_1)(f.mV1),listHoverForeground:(0,f.n_1)(f.$d5),listHoverOutline:(0,f.n_1)(f.xL1),selectListBorder:(0,f.n_1)(f.D1_),listBackground:void 0,listActiveSelectionBackground:void 0,listActiveSelectionForeground:void 0,listActiveSelectionIconForeground:void 0,listFocusAndSelectionBackground:void 0,listDropBackground:void 0,listInactiveSelectionBackground:void 0,listInactiveSelectionForeground:void 0,listInactiveFocusBackground:void 0,listInactiveFocusOutline:void 0,listSelectionOutline:void 0,listFocusAndSelectionForeground:void 0,listFocusAndSelectionOutline:void 0,listInactiveFocusForeground:void 0,tableColumnsBorder:void 0,tableOddRowsBackgroundColor:void 0,treeIndentGuidesStroke:void 0,treeInactiveIndentGuidesStroke:void 0},m={shadowColor:(0,f.n_1)(f.rh),borderColor:(0,f.n_1)(f.Cdg),foregroundColor:(0,f.n_1)(f.DEr),backgroundColor:(0,f.n_1)(f.Hz8),selectionForegroundColor:(0,f.n_1)(f.jbW),selectionBackgroundColor:(0,f.n_1)(f.$DX),selectionBorderColor:(0,f.n_1)(f.E3h),separatorColor:(0,f.n_1)(f.ZGJ),scrollbarShadow:(0,f.n_1)(f._wn),scrollbarSliderBackground:(0,f.n_1)(f.etL),scrollbarSliderHoverBackground:(0,f.n_1)(f.ABB),scrollbarSliderActiveBackground:(0,f.n_1)(f.ynu)}},99745:(Xe,we,e)=>{e.d(we,{$DX:()=>Ti,$d5:()=>qt,A42:()=>G,ABB:()=>He,AS1:()=>oi,AWI:()=>St,BOY:()=>or,BQ0:()=>q,Bqu:()=>nt,BtC:()=>p,C3g:()=>Ie,CNo:()=>Nn,Cdg:()=>ri,CzK:()=>Fi,D0T:()=>yt,D1_:()=>Ot,DEr:()=>hi,Dut:()=>it,E3h:()=>Bi,EPQ:()=>_e,EQn:()=>wo,ES4:()=>Ne,ESD:()=>fe,EiJ:()=>ai,F3d:()=>_i,F9q:()=>Wn,Fgs:()=>oe,Fm_:()=>fo,GO4:()=>ke,GYc:()=>Pe,Gj_:()=>Rr,Gwp:()=>Ai,H6q:()=>Pt,HCL:()=>Wt,Hfx:()=>Dt,Hz8:()=>ii,IPX:()=>c,IYc:()=>ks,Ido:()=>m,Itd:()=>zs,Ivo:()=>Us,JpG:()=>Co,K19:()=>st,KjV:()=>ao,L_t:()=>po,M6C:()=>he,MUv:()=>Bt,NOs:()=>Te,NPS:()=>ct,Ng6:()=>gt,OLZ:()=>_o,OZR:()=>De,Oop:()=>ki,P4M:()=>cn,P6G:()=>i,P6Y:()=>Xn,PRb:()=>K,PX0:()=>Wi,PpC:()=>ui,Pvw:()=>ne,QO2:()=>E,R80:()=>w,RV_:()=>ue,Rzx:()=>je,SPM:()=>Eo,SUG:()=>ve,SUY:()=>Go,SUp:()=>Ft,Saq:()=>nn,T83:()=>It,Tnx:()=>Be,UnT:()=>ro,VVv:()=>vi,Vqd:()=>kt,XEs:()=>te,XV0:()=>ye,XZx:()=>I,YI3:()=>ge,ZGJ:()=>ji,ZnX:()=>hn,_2n:()=>Qn,_Yy:()=>Fn,_bK:()=>Gn,_g0:()=>Y,_lC:()=>ae,_t9:()=>Ve,_wn:()=>le,a9O:()=>x,b6y:()=>ft,b7$:()=>Ce,bKB:()=>Nt,c63:()=>At,cbQ:()=>Et,cvW:()=>Ee,dCr:()=>Me,dRz:()=>d,dt_:()=>$,etL:()=>Fe,fSI:()=>Kt,g8u:()=>pe,gkn:()=>gi,hEj:()=>ut,hX8:()=>ni,iFQ:()=>ie,ixd:()=>rt,j5u:()=>F,jUe:()=>xt,jbW:()=>Si,kJk:()=>ci,kVY:()=>ya,keg:()=>Yi,kvU:()=>dt,kwl:()=>Fs,l80:()=>We,lRK:()=>D,lUq:()=>Hi,lWp:()=>Zi,lXJ:()=>mt,loF:()=>Ci,mV1:()=>mi,n_1:()=>L,nd:()=>ce,nyM:()=>wt,oQ$:()=>Gi,oSI:()=>si,opG:()=>Mi,ov3:()=>Ar,pW3:()=>Mt,paE:()=>Se,phM:()=>li,pnM:()=>Qt,qBU:()=>xe,qeD:()=>Q,rg2:()=>Ke,rh:()=>B,s$:()=>zt,sEe:()=>se,tZ6:()=>Zt,uoC:()=>Tt,url:()=>R,uxu:()=>lo,vGG:()=>Ii,xEn:()=>be,xL1:()=>N,y65:()=>en,yJx:()=>qi,yb5:()=>pt,ynu:()=>Je,ypS:()=>Qi,ytC:()=>Ye,zJb:()=>j,zKr:()=>Rt,zRJ:()=>ot});var f=e(85328),P=e(90888),r=e(58178),y=e(37836),v=e(37190),S=e(72162),T=e(81834);function E($n){return`--vscode-${$n.replace(/\./g,"-")}`}function L($n){return`var(${E($n)})`}function p($n,no){return`var(${E($n)}, ${no})`}const c={ColorContribution:"base.contributions.colors"},g=new class u{constructor(){this._onDidChangeSchema=new r.Q5,this.onDidChangeSchema=this._onDidChangeSchema.event,this.colorSchema={type:"object",properties:{}},this.colorReferenceSchema={type:"string",enum:[],enumDescriptions:[]},this.colorsById={}}registerColor(no,Do,xo,Uo=!1,Yo){this.colorsById[no]={id:no,description:xo,defaults:Do,needsTransparency:Uo,deprecationMessage:Yo};const fs={type:"string",description:xo,format:"color-hex",defaultSnippets:[{body:"${1:#ff0000}"}]};return Yo&&(fs.deprecationMessage=Yo),this.colorSchema.properties[no]=fs,this.colorReferenceSchema.enum.push(no),this.colorReferenceSchema.enumDescriptions.push(xo),this._onDidChangeSchema.fire(),no}getColors(){return Object.keys(this.colorsById).map(no=>this.colorsById[no])}resolveDefaultColor(no,Do){const xo=this.colorsById[no];if(xo&&xo.defaults)return Po(xo.defaults[Do.type],Do)}getColorSchema(){return this.colorSchema}toString(){return Object.keys(this.colorsById).sort((Do,xo)=>{const Uo=-1===Do.indexOf(".")?0:1,Yo=-1===xo.indexOf(".")?0:1;return Uo!==Yo?Uo-Yo:Do.localeCompare(xo)}).map(Do=>`- \`${Do}\`: ${this.colorsById[Do].description}`).join("\n")}};function i($n,no,Do,xo,Uo){return g.registerColor($n,no,Do,xo,Uo)}T.B.add(c.ColorContribution,g);const d=i("foreground",{dark:"#CCCCCC",light:"#616161",hcDark:"#FFFFFF",hcLight:"#292929"},v.NC("foreground","Overall foreground color. This color is only used if not overridden by a component.")),m=(i("disabledForeground",{dark:"#CCCCCC80",light:"#61616180",hcDark:"#A5A5A5",hcLight:"#7F7F7F"},v.NC("disabledForeground","Overall foreground for disabled elements. This color is only used if not overridden by a component.")),i("errorForeground",{dark:"#F48771",light:"#A1260D",hcDark:"#F48771",hcLight:"#B5200D"},v.NC("errorForeground","Overall foreground color for error messages. This color is only used if not overridden by a component."))),I=(i("descriptionForeground",{light:"#717171",dark:hn(d,.7),hcDark:hn(d,.7),hcLight:hn(d,.7)},v.NC("descriptionForeground","Foreground color for description text providing additional information, for example for a label.")),i("icon.foreground",{dark:"#C5C5C5",light:"#424242",hcDark:"#FFFFFF",hcLight:"#292929"},v.NC("iconForeground","The default color for icons in the workbench."))),w=i("focusBorder",{dark:"#007FD4",light:"#0090F1",hcDark:"#F38518",hcLight:"#006BBD"},v.NC("focusBorder","Overall border color for focused elements. This color is only used if not overridden by a component.")),D=i("contrastBorder",{light:null,dark:null,hcDark:"#6FC3DF",hcLight:"#0F4A85"},v.NC("contrastBorder","An extra border around elements to separate them from others for greater contrast.")),N=i("contrastActiveBorder",{light:null,dark:null,hcDark:w,hcLight:w},v.NC("activeContrastBorder","An extra border around active elements to separate them from others for greater contrast.")),R=(i("selection.background",{light:null,dark:null,hcDark:null,hcLight:null},v.NC("selectionBackground","The background color of text selections in the workbench (e.g. for input fields or text areas). Note that this does not apply to selections within the editor.")),i("textSeparator.foreground",{light:"#0000002e",dark:"#ffffff2e",hcDark:P.Il.black,hcLight:"#292929"},v.NC("textSeparatorForeground","Color for text separators.")),i("textLink.foreground",{light:"#006AB1",dark:"#3794FF",hcDark:"#3794FF",hcLight:"#0F4A85"},v.NC("textLinkForeground","Foreground color for links in text."))),B=(i("textLink.activeForeground",{light:"#006AB1",dark:"#3794FF",hcDark:"#3794FF",hcLight:"#0F4A85"},v.NC("textLinkActiveForeground","Foreground color for links in text when clicked on and on mouse hover.")),i("textPreformat.foreground",{light:"#A31515",dark:"#D7BA7D",hcDark:"#D7BA7D",hcLight:"#292929"},v.NC("textPreformatForeground","Foreground color for preformatted text segments.")),i("textBlockQuote.background",{light:"#7f7f7f1a",dark:"#7f7f7f1a",hcDark:null,hcLight:"#F2F2F2"},v.NC("textBlockQuoteBackground","Background color for block quotes in text.")),i("textBlockQuote.border",{light:"#007acc80",dark:"#007acc80",hcDark:P.Il.white,hcLight:"#292929"},v.NC("textBlockQuoteBorder","Border color for block quotes in text.")),i("textCodeBlock.background",{light:"#dcdcdc66",dark:"#0a0a0a66",hcDark:P.Il.black,hcLight:"#F2F2F2"},v.NC("textCodeBlockBackground","Background color for code blocks in text.")),i("widget.shadow",{dark:hn(P.Il.black,.36),light:hn(P.Il.black,.16),hcDark:null,hcLight:null},v.NC("widgetShadow","Shadow color of widgets such as find/replace inside the editor."))),G=i("widget.border",{dark:null,light:null,hcDark:D,hcLight:D},v.NC("widgetBorder","Border color of widgets such as find/replace inside the editor.")),se=i("input.background",{dark:"#3C3C3C",light:P.Il.white,hcDark:P.Il.black,hcLight:P.Il.white},v.NC("inputBoxBackground","Input box background.")),j=i("input.foreground",{dark:d,light:d,hcDark:d,hcLight:d},v.NC("inputBoxForeground","Input box foreground.")),$=i("input.border",{dark:null,light:null,hcDark:D,hcLight:D},v.NC("inputBoxBorder","Input box border.")),K=i("inputOption.activeBorder",{dark:"#007ACC",light:"#007ACC",hcDark:D,hcLight:D},v.NC("inputBoxActiveOptionBorder","Border color of activated options in input fields.")),te=(i("inputOption.hoverBackground",{dark:"#5a5d5e80",light:"#b8b8b850",hcDark:null,hcLight:null},v.NC("inputOption.hoverBackground","Background color of activated options in input fields.")),i("inputOption.activeBackground",{dark:hn(w,.4),light:hn(w,.2),hcDark:P.Il.transparent,hcLight:P.Il.transparent},v.NC("inputOption.activeBackground","Background hover color of options in input fields."))),ne=i("inputOption.activeForeground",{dark:P.Il.white,light:P.Il.black,hcDark:d,hcLight:d},v.NC("inputOption.activeForeground","Foreground color of activated options in input fields.")),ae=(i("input.placeholderForeground",{light:hn(d,.5),dark:hn(d,.5),hcDark:hn(d,.7),hcLight:hn(d,.7)},v.NC("inputPlaceholderForeground","Input box foreground color for placeholder text.")),i("inputValidation.infoBackground",{dark:"#063B49",light:"#D6ECF2",hcDark:P.Il.black,hcLight:P.Il.white},v.NC("inputValidationInfoBackground","Input validation background color for information severity."))),ge=i("inputValidation.infoForeground",{dark:null,light:null,hcDark:null,hcLight:d},v.NC("inputValidationInfoForeground","Input validation foreground color for information severity.")),_e=i("inputValidation.infoBorder",{dark:"#007acc",light:"#007acc",hcDark:D,hcLight:D},v.NC("inputValidationInfoBorder","Input validation border color for information severity.")),ue=i("inputValidation.warningBackground",{dark:"#352A05",light:"#F6F5D2",hcDark:P.Il.black,hcLight:P.Il.white},v.NC("inputValidationWarningBackground","Input validation background color for warning severity.")),ve=i("inputValidation.warningForeground",{dark:null,light:null,hcDark:null,hcLight:d},v.NC("inputValidationWarningForeground","Input validation foreground color for warning severity.")),Ie=i("inputValidation.warningBorder",{dark:"#B89500",light:"#B89500",hcDark:D,hcLight:D},v.NC("inputValidationWarningBorder","Input validation border color for warning severity.")),Se=i("inputValidation.errorBackground",{dark:"#5A1D1D",light:"#F2DEDE",hcDark:P.Il.black,hcLight:P.Il.white},v.NC("inputValidationErrorBackground","Input validation background color for error severity.")),Ve=i("inputValidation.errorForeground",{dark:null,light:null,hcDark:null,hcLight:d},v.NC("inputValidationErrorForeground","Input validation foreground color for error severity.")),De=i("inputValidation.errorBorder",{dark:"#BE1100",light:"#BE1100",hcDark:D,hcLight:D},v.NC("inputValidationErrorBorder","Input validation border color for error severity.")),ye=i("dropdown.background",{dark:"#3C3C3C",light:P.Il.white,hcDark:P.Il.black,hcLight:P.Il.white},v.NC("dropdownBackground","Dropdown background.")),oe=i("dropdown.listBackground",{dark:null,light:null,hcDark:P.Il.black,hcLight:P.Il.white},v.NC("dropdownListBackground","Dropdown list background.")),Y=i("dropdown.foreground",{dark:"#F0F0F0",light:d,hcDark:P.Il.white,hcLight:d},v.NC("dropdownForeground","Dropdown foreground.")),x=i("dropdown.border",{dark:ye,light:"#CECECE",hcDark:D,hcLight:D},v.NC("dropdownBorder","Dropdown border.")),F=i("button.foreground",{dark:P.Il.white,light:P.Il.white,hcDark:P.Il.white,hcLight:P.Il.white},v.NC("buttonForeground","Button foreground color.")),ie=i("button.separator",{dark:hn(F,.4),light:hn(F,.4),hcDark:hn(F,.4),hcLight:hn(F,.4)},v.NC("buttonSeparator","Button separator color.")),Ce=i("button.background",{dark:"#0E639C",light:"#007ACC",hcDark:null,hcLight:"#0F4A85"},v.NC("buttonBackground","Button background color.")),ke=i("button.hoverBackground",{dark:ho(Ce,.2),light:ns(Ce,.2),hcDark:Ce,hcLight:Ce},v.NC("buttonHoverBackground","Button background color when hovering.")),Pe=i("button.border",{dark:D,light:D,hcDark:D,hcLight:D},v.NC("buttonBorder","Button border color.")),xe=i("button.secondaryForeground",{dark:P.Il.white,light:P.Il.white,hcDark:P.Il.white,hcLight:d},v.NC("buttonSecondaryForeground","Secondary button foreground color.")),fe=i("button.secondaryBackground",{dark:"#3A3D41",light:"#5F6A79",hcDark:null,hcLight:P.Il.white},v.NC("buttonSecondaryBackground","Secondary button background color.")),be=i("button.secondaryHoverBackground",{dark:ho(fe,.2),light:ns(fe,.2),hcDark:null,hcLight:null},v.NC("buttonSecondaryHoverBackground","Secondary button background color when hovering.")),pe=i("badge.background",{dark:"#4D4D4D",light:"#C4C4C4",hcDark:P.Il.black,hcLight:"#0F4A85"},v.NC("badgeBackground","Badge background color. Badges are small information labels, e.g. for search results count.")),Q=i("badge.foreground",{dark:P.Il.white,light:"#333",hcDark:P.Il.white,hcLight:P.Il.white},v.NC("badgeForeground","Badge foreground color. Badges are small information labels, e.g. for search results count.")),le=i("scrollbar.shadow",{dark:"#000000",light:"#DDDDDD",hcDark:null,hcLight:null},v.NC("scrollbarShadow","Scrollbar shadow to indicate that the view is scrolled.")),Fe=i("scrollbarSlider.background",{dark:P.Il.fromHex("#797979").transparent(.4),light:P.Il.fromHex("#646464").transparent(.4),hcDark:hn(D,.6),hcLight:hn(D,.4)},v.NC("scrollbarSliderBackground","Scrollbar slider background color.")),He=i("scrollbarSlider.hoverBackground",{dark:P.Il.fromHex("#646464").transparent(.7),light:P.Il.fromHex("#646464").transparent(.7),hcDark:hn(D,.8),hcLight:hn(D,.8)},v.NC("scrollbarSliderHoverBackground","Scrollbar slider background color when hovering.")),Je=i("scrollbarSlider.activeBackground",{dark:P.Il.fromHex("#BFBFBF").transparent(.4),light:P.Il.fromHex("#000000").transparent(.6),hcDark:D,hcLight:D},v.NC("scrollbarSliderActiveBackground","Scrollbar slider background color when clicked on.")),ot=i("progressBar.background",{dark:P.Il.fromHex("#0E70C0"),light:P.Il.fromHex("#0E70C0"),hcDark:D,hcLight:D},v.NC("progressBarBackground","Background color of the progress bar that can show for long running operations.")),mt=(i("editorError.background",{dark:null,light:null,hcDark:null,hcLight:null},v.NC("editorError.background","Background color of error text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),i("editorError.foreground",{dark:"#F14C4C",light:"#E51400",hcDark:"#F48771",hcLight:"#B5200D"},v.NC("editorError.foreground","Foreground color of error squigglies in the editor."))),ft=i("editorError.border",{dark:null,light:null,hcDark:P.Il.fromHex("#E47777").transparent(.8),hcLight:"#B5200D"},v.NC("errorBorder","If set, color of double underlines for errors in the editor.")),Tt=(i("editorWarning.background",{dark:null,light:null,hcDark:null,hcLight:null},v.NC("editorWarning.background","Background color of warning text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),i("editorWarning.foreground",{dark:"#CCA700",light:"#BF8803",hcDark:"#FFD370",hcLight:"#895503"},v.NC("editorWarning.foreground","Foreground color of warning squigglies in the editor."))),Mt=i("editorWarning.border",{dark:null,light:null,hcDark:P.Il.fromHex("#FFCC00").transparent(.8),hcLight:P.Il.fromHex("#FFCC00").transparent(.8)},v.NC("warningBorder","If set, color of double underlines for warnings in the editor.")),At=(i("editorInfo.background",{dark:null,light:null,hcDark:null,hcLight:null},v.NC("editorInfo.background","Background color of info text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),i("editorInfo.foreground",{dark:"#3794FF",light:"#1a85ff",hcDark:"#3794FF",hcLight:"#1a85ff"},v.NC("editorInfo.foreground","Foreground color of info squigglies in the editor."))),It=i("editorInfo.border",{dark:null,light:null,hcDark:P.Il.fromHex("#3794FF").transparent(.8),hcLight:"#292929"},v.NC("infoBorder","If set, color of double underlines for infos in the editor.")),it=i("editorHint.foreground",{dark:P.Il.fromHex("#eeeeee").transparent(.7),light:"#6c6c6c",hcDark:null,hcLight:null},v.NC("editorHint.foreground","Foreground color of hint squigglies in the editor.")),Ee=(i("editorHint.border",{dark:null,light:null,hcDark:P.Il.fromHex("#eeeeee").transparent(.8),hcLight:"#292929"},v.NC("hintBorder","If set, color of double underlines for hints in the editor.")),i("sash.hoverBorder",{dark:w,light:w,hcDark:w,hcLight:w},v.NC("sashActiveBorder","Border color of active sashes.")),i("editor.background",{light:"#ffffff",dark:"#1E1E1E",hcDark:P.Il.black,hcLight:P.Il.white},v.NC("editorBackground","Editor background color."))),Te=i("editor.foreground",{light:"#333333",dark:"#BBBBBB",hcDark:P.Il.white,hcLight:d},v.NC("editorForeground","Editor default foreground color.")),yt=(i("editorStickyScroll.background",{light:Ee,dark:Ee,hcDark:Ee,hcLight:Ee},v.NC("editorStickyScrollBackground","Sticky scroll background color for the editor")),i("editorStickyScrollHover.background",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:null,hcLight:P.Il.fromHex("#0F4A85").transparent(.1)},v.NC("editorStickyScrollHoverBackground","Sticky scroll on hover background color for the editor")),i("editorWidget.background",{dark:"#252526",light:"#F3F3F3",hcDark:"#0C141F",hcLight:P.Il.white},v.NC("editorWidgetBackground","Background color of editor widgets, such as find/replace."))),Dt=i("editorWidget.foreground",{dark:d,light:d,hcDark:d,hcLight:d},v.NC("editorWidgetForeground","Foreground color of editor widgets, such as find/replace.")),Ot=i("editorWidget.border",{dark:"#454545",light:"#C8C8C8",hcDark:D,hcLight:D},v.NC("editorWidgetBorder","Border color of editor widgets. The color is only used if the widget chooses to have a border and if the color is not overridden by a widget.")),gt=i("editorWidget.resizeBorder",{light:null,dark:null,hcDark:null,hcLight:null},v.NC("editorWidgetResizeBorder","Border color of the resize bar of editor widgets. The color is only used if the widget chooses to have a resize border and if the color is not overridden by a widget.")),Rt=i("quickInput.background",{dark:yt,light:yt,hcDark:yt,hcLight:yt},v.NC("pickerBackground","Quick picker background color. The quick picker widget is the container for pickers like the command palette.")),Zt=i("quickInput.foreground",{dark:Dt,light:Dt,hcDark:Dt,hcLight:Dt},v.NC("pickerForeground","Quick picker foreground color. The quick picker widget is the container for pickers like the command palette.")),Ci=i("quickInputTitle.background",{dark:new P.Il(new P.VS(255,255,255,.105)),light:new P.Il(new P.VS(0,0,0,.06)),hcDark:"#000000",hcLight:P.Il.white},v.NC("pickerTitleBackground","Quick picker title background color. The quick picker widget is the container for pickers like the command palette.")),ci=i("pickerGroup.foreground",{dark:"#3794FF",light:"#0066BF",hcDark:P.Il.white,hcLight:"#0F4A85"},v.NC("pickerGroupForeground","Quick picker color for grouping labels.")),Mi=i("pickerGroup.border",{dark:"#3F3F46",light:"#CCCEDB",hcDark:P.Il.white,hcLight:"#0F4A85"},v.NC("pickerGroupBorder","Quick picker color for grouping borders.")),Gi=i("keybindingLabel.background",{dark:new P.Il(new P.VS(128,128,128,.17)),light:new P.Il(new P.VS(221,221,221,.4)),hcDark:P.Il.transparent,hcLight:P.Il.transparent},v.NC("keybindingLabelBackground","Keybinding label background color. The keybinding label is used to represent a keyboard shortcut.")),Zi=i("keybindingLabel.foreground",{dark:P.Il.fromHex("#CCCCCC"),light:P.Il.fromHex("#555555"),hcDark:P.Il.white,hcLight:d},v.NC("keybindingLabelForeground","Keybinding label foreground color. The keybinding label is used to represent a keyboard shortcut.")),St=i("keybindingLabel.border",{dark:new P.Il(new P.VS(51,51,51,.6)),light:new P.Il(new P.VS(204,204,204,.4)),hcDark:new P.Il(new P.VS(111,195,223)),hcLight:D},v.NC("keybindingLabelBorder","Keybinding label border color. The keybinding label is used to represent a keyboard shortcut.")),st=i("keybindingLabel.bottomBorder",{dark:new P.Il(new P.VS(68,68,68,.6)),light:new P.Il(new P.VS(187,187,187,.4)),hcDark:new P.Il(new P.VS(111,195,223)),hcLight:d},v.NC("keybindingLabelBottomBorder","Keybinding label border bottom color. The keybinding label is used to represent a keyboard shortcut.")),ut=i("editor.selectionBackground",{light:"#ADD6FF",dark:"#264F78",hcDark:"#f3f518",hcLight:"#0F4A85"},v.NC("editorSelectionBackground","Color of the editor selection.")),pt=i("editor.selectionForeground",{light:null,dark:null,hcDark:"#000000",hcLight:P.Il.white},v.NC("editorSelectionForeground","Color of the selected text for high contrast.")),Ne=i("editor.inactiveSelectionBackground",{light:hn(ut,.5),dark:hn(ut,.5),hcDark:hn(ut,.7),hcLight:hn(ut,.5)},v.NC("editorInactiveSelection","Color of the selection in an inactive editor. The color must not be opaque so as not to hide underlying decorations."),!0),je=i("editor.selectionHighlightBackground",{light:ws(ut,Ee,.3,.6),dark:ws(ut,Ee,.3,.6),hcDark:null,hcLight:null},v.NC("editorSelectionHighlight","Color for regions with the same content as the selection. The color must not be opaque so as not to hide underlying decorations."),!0),wt=(i("editor.selectionHighlightBorder",{light:null,dark:null,hcDark:N,hcLight:N},v.NC("editorSelectionHighlightBorder","Border color for regions with the same content as the selection.")),i("editor.findMatchBackground",{light:"#A8AC94",dark:"#515C6A",hcDark:null,hcLight:null},v.NC("editorFindMatch","Color of the current search match."))),Bt=i("editor.findMatchHighlightBackground",{light:"#EA5C0055",dark:"#EA5C0055",hcDark:null,hcLight:null},v.NC("findMatchHighlight","Color of the other search matches. The color must not be opaque so as not to hide underlying decorations."),!0),xt=i("editor.findRangeHighlightBackground",{dark:"#3a3d4166",light:"#b4b4b44d",hcDark:null,hcLight:null},v.NC("findRangeHighlight","Color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),Qt=i("editor.findMatchBorder",{light:null,dark:null,hcDark:N,hcLight:N},v.NC("editorFindMatchBorder","Border color of the current search match.")),ai=i("editor.findMatchHighlightBorder",{light:null,dark:null,hcDark:N,hcLight:N},v.NC("findMatchHighlightBorder","Border color of the other search matches.")),gi=i("editor.findRangeHighlightBorder",{dark:null,light:null,hcDark:hn(N,.4),hcLight:hn(N,.4)},v.NC("findRangeHighlightBorder","Border color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),qi=(i("searchEditor.findMatchBackground",{light:hn(Bt,.66),dark:hn(Bt,.66),hcDark:Bt,hcLight:Bt},v.NC("searchEditor.queryMatch","Color of the Search Editor query matches.")),i("searchEditor.findMatchBorder",{light:hn(ai,.66),dark:hn(ai,.66),hcDark:ai,hcLight:ai},v.NC("searchEditor.editorFindMatchBorder","Border color of the Search Editor query matches.")),i("search.resultsInfoForeground",{light:d,dark:hn(d,.65),hcDark:d,hcLight:d},v.NC("search.resultsInfoForeground","Color of the text in the search viewlet's completion message.")),i("editor.hoverHighlightBackground",{light:"#ADD6FF26",dark:"#264f7840",hcDark:"#ADD6FF26",hcLight:null},v.NC("hoverHighlight","Highlight below the word for which a hover is shown. The color must not be opaque so as not to hide underlying decorations."),!0),i("editorHoverWidget.background",{light:yt,dark:yt,hcDark:yt,hcLight:yt},v.NC("hoverBackground","Background color of the editor hover."))),Nn=(i("editorHoverWidget.foreground",{light:Dt,dark:Dt,hcDark:Dt,hcLight:Dt},v.NC("hoverForeground","Foreground color of the editor hover.")),i("editorHoverWidget.border",{light:Ot,dark:Ot,hcDark:Ot,hcLight:Ot},v.NC("hoverBorder","Border color of the editor hover."))),Fn=(i("editorHoverWidget.statusBarBackground",{dark:ho(qi,.2),light:ns(qi,.05),hcDark:yt,hcLight:yt},v.NC("statusBarBackground","Background color of the editor hover status bar.")),i("editorLink.activeForeground",{dark:"#4E94CE",light:P.Il.blue,hcDark:P.Il.cyan,hcLight:"#292929"},v.NC("activeLinkForeground","Color of active links."))),vi=i("editorInlayHint.foreground",{dark:"#969696",light:"#969696",hcDark:P.Il.white,hcLight:P.Il.black},v.NC("editorInlayHintForeground","Foreground color of inline hints")),ui=i("editorInlayHint.background",{dark:hn(pe,.1),light:hn(pe,.1),hcDark:hn(P.Il.white,.1),hcLight:hn(pe,.1)},v.NC("editorInlayHintBackground","Background color of inline hints")),ni=i("editorInlayHint.typeForeground",{dark:vi,light:vi,hcDark:vi,hcLight:vi},v.NC("editorInlayHintForegroundTypes","Foreground color of inline hints for types")),Nt=i("editorInlayHint.typeBackground",{dark:ui,light:ui,hcDark:ui,hcLight:ui},v.NC("editorInlayHintBackgroundTypes","Background color of inline hints for types")),Wt=i("editorInlayHint.parameterForeground",{dark:vi,light:vi,hcDark:vi,hcLight:vi},v.NC("editorInlayHintForegroundParameter","Foreground color of inline hints for parameters")),li=i("editorInlayHint.parameterBackground",{dark:ui,light:ui,hcDark:ui,hcLight:ui},v.NC("editorInlayHintBackgroundParameter","Background color of inline hints for parameters")),Fi=(i("editorLightBulb.foreground",{dark:"#FFCC00",light:"#DDB100",hcDark:"#FFCC00",hcLight:"#007ACC"},v.NC("editorLightBulbForeground","The color used for the lightbulb actions icon.")),i("editorLightBulbAutoFix.foreground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},v.NC("editorLightBulbAutoFixForeground","The color used for the lightbulb auto fix actions icon.")),new P.Il(new P.VS(155,185,85,.2))),Yi=new P.Il(new P.VS(255,0,0,.2)),Qi=i("diffEditor.insertedTextBackground",{dark:"#9ccc2c33",light:"#9ccc2c40",hcDark:null,hcLight:null},v.NC("diffEditorInserted","Background color for text that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),cn=i("diffEditor.removedTextBackground",{dark:"#ff000033",light:"#ff000033",hcDark:null,hcLight:null},v.NC("diffEditorRemoved","Background color for text that got removed. The color must not be opaque so as not to hide underlying decorations."),!0),Xn=(i("diffEditor.insertedLineBackground",{dark:Fi,light:Fi,hcDark:null,hcLight:null},v.NC("diffEditorInsertedLines","Background color for lines that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),i("diffEditor.removedLineBackground",{dark:Yi,light:Yi,hcDark:null,hcLight:null},v.NC("diffEditorRemovedLines","Background color for lines that got removed. The color must not be opaque so as not to hide underlying decorations."),!0),i("diffEditorGutter.insertedLineBackground",{dark:null,light:null,hcDark:null,hcLight:null},v.NC("diffEditorInsertedLineGutter","Background color for the margin where lines got inserted.")),i("diffEditorGutter.removedLineBackground",{dark:null,light:null,hcDark:null,hcLight:null},v.NC("diffEditorRemovedLineGutter","Background color for the margin where lines got removed.")),i("diffEditorOverview.insertedForeground",{dark:null,light:null,hcDark:null,hcLight:null},v.NC("diffEditorOverviewInserted","Diff overview ruler foreground for inserted content."))),Wn=i("diffEditorOverview.removedForeground",{dark:null,light:null,hcDark:null,hcLight:null},v.NC("diffEditorOverviewRemoved","Diff overview ruler foreground for removed content.")),po=(i("diffEditor.insertedTextBorder",{dark:null,light:null,hcDark:"#33ff2eff",hcLight:"#374E06"},v.NC("diffEditorInsertedOutline","Outline color for the text that got inserted.")),i("diffEditor.removedTextBorder",{dark:null,light:null,hcDark:"#FF008F",hcLight:"#AD0707"},v.NC("diffEditorRemovedOutline","Outline color for text that got removed.")),i("diffEditor.border",{dark:null,light:null,hcDark:D,hcLight:D},v.NC("diffEditorBorder","Border color between the two text editors.")),i("diffEditor.diagonalFill",{dark:"#cccccc33",light:"#22222233",hcDark:null,hcLight:null},v.NC("diffDiagonalFill","Color of the diff editor's diagonal fill. The diagonal fill is used in side-by-side diff views."))),Gn=(i("diffEditor.unchangedRegionBackground",{dark:"#3e3e3e",light:"#e4e4e4",hcDark:null,hcLight:null},v.NC("diffEditor.unchangedRegionBackground","The background color of unchanged blocks in the diff editor.")),i("diffEditor.unchangedRegionForeground",{dark:"#a3a2a2",light:"#4d4c4c",hcDark:null,hcLight:null},v.NC("diffEditor.unchangedRegionForeground","The foreground color of unchanged blocks in the diff editor.")),i("diffEditor.unchangedCodeBackground",{dark:"#74747429",light:"#b8b8b829",hcDark:null,hcLight:null},v.NC("diffEditor.unchangedCodeBackground","The background color of unchanged code in the diff editor.")),i("list.focusBackground",{dark:null,light:null,hcDark:null,hcLight:null},v.NC("listFocusBackground","List/Tree background color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not."))),Qn=i("list.focusForeground",{dark:null,light:null,hcDark:null,hcLight:null},v.NC("listFocusForeground","List/Tree foreground color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),ki=i("list.focusOutline",{dark:w,light:w,hcDark:N,hcLight:N},v.NC("listFocusOutline","List/Tree outline color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),nt=i("list.focusAndSelectionOutline",{dark:null,light:null,hcDark:null,hcLight:null},v.NC("listFocusAndSelectionOutline","List/Tree outline color for the focused item when the list/tree is active and selected. An active list/tree has keyboard focus, an inactive does not.")),Me=i("list.activeSelectionBackground",{dark:"#04395E",light:"#0060C0",hcDark:null,hcLight:P.Il.fromHex("#0F4A85").transparent(.1)},v.NC("listActiveSelectionBackground","List/Tree background color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),he=i("list.activeSelectionForeground",{dark:P.Il.white,light:P.Il.white,hcDark:null,hcLight:null},v.NC("listActiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Be=i("list.activeSelectionIconForeground",{dark:null,light:null,hcDark:null,hcLight:null},v.NC("listActiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Ke=i("list.inactiveSelectionBackground",{dark:"#37373D",light:"#E4E6F1",hcDark:null,hcLight:P.Il.fromHex("#0F4A85").transparent(.1)},v.NC("listInactiveSelectionBackground","List/Tree background color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Ye=i("list.inactiveSelectionForeground",{dark:null,light:null,hcDark:null,hcLight:null},v.NC("listInactiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),dt=i("list.inactiveSelectionIconForeground",{dark:null,light:null,hcDark:null,hcLight:null},v.NC("listInactiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),zt=i("list.inactiveFocusBackground",{dark:null,light:null,hcDark:null,hcLight:null},v.NC("listInactiveFocusBackground","List/Tree background color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),_i=i("list.inactiveFocusOutline",{dark:null,light:null,hcDark:null,hcLight:null},v.NC("listInactiveFocusOutline","List/Tree outline color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),mi=i("list.hoverBackground",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:P.Il.white.transparent(.1),hcLight:P.Il.fromHex("#0F4A85").transparent(.1)},v.NC("listHoverBackground","List/Tree background when hovering over items using the mouse.")),qt=i("list.hoverForeground",{dark:null,light:null,hcDark:null,hcLight:null},v.NC("listHoverForeground","List/Tree foreground when hovering over items using the mouse.")),oi=i("list.dropBackground",{dark:"#062F4A",light:"#D6EBFF",hcDark:null,hcLight:null},v.NC("listDropBackground","List/Tree drag and drop background when moving items around using the mouse.")),Ai=i("list.highlightForeground",{dark:"#2AAAFF",light:"#0066BF",hcDark:w,hcLight:w},v.NC("highlight","List/Tree foreground color of the match highlights when searching inside the list/tree.")),Wi=i("list.focusHighlightForeground",{dark:Ai,light:function gs($n,no,Do){return{op:6,if:$n,then:no,else:Do}}(Me,Ai,"#BBE7FF"),hcDark:Ai,hcLight:Ai},v.NC("listFocusHighlightForeground","List/Tree foreground color of the match highlights on actively focused items when searching inside the list/tree.")),Ii=(i("list.invalidItemForeground",{dark:"#B89500",light:"#B89500",hcDark:"#B89500",hcLight:"#B5200D"},v.NC("invalidItemForeground","List/Tree foreground color for invalid items, for example an unresolved root in explorer.")),i("list.errorForeground",{dark:"#F88070",light:"#B01011",hcDark:null,hcLight:null},v.NC("listErrorForeground","Foreground color of list items containing errors.")),i("list.warningForeground",{dark:"#CCA700",light:"#855F00",hcDark:null,hcLight:null},v.NC("listWarningForeground","Foreground color of list items containing warnings.")),i("listFilterWidget.background",{light:ns(yt,0),dark:ho(yt,0),hcDark:yt,hcLight:yt},v.NC("listFilterWidgetBackground","Background color of the type filter widget in lists and trees."))),si=i("listFilterWidget.outline",{dark:P.Il.transparent,light:P.Il.transparent,hcDark:"#f38518",hcLight:"#007ACC"},v.NC("listFilterWidgetOutline","Outline color of the type filter widget in lists and trees.")),nn=i("listFilterWidget.noMatchesOutline",{dark:"#BE1100",light:"#BE1100",hcDark:D,hcLight:D},v.NC("listFilterWidgetNoMatchesOutline","Outline color of the type filter widget in lists and trees, when there are no matches.")),en=i("listFilterWidget.shadow",{dark:B,light:B,hcDark:B,hcLight:B},v.NC("listFilterWidgetShadow","Shadow color of the type filter widget in lists and trees.")),ro=(i("list.filterMatchBackground",{dark:Bt,light:Bt,hcDark:null,hcLight:null},v.NC("listFilterMatchHighlight","Background color of the filtered match.")),i("list.filterMatchBorder",{dark:ai,light:ai,hcDark:D,hcLight:N},v.NC("listFilterMatchHighlightBorder","Border color of the filtered match.")),i("tree.indentGuidesStroke",{dark:"#585858",light:"#a9a9a9",hcDark:"#a9a9a9",hcLight:"#a5a5a5"},v.NC("treeIndentGuidesStroke","Tree stroke color for the indentation guides."))),ao=i("tree.inactiveIndentGuidesStroke",{dark:hn(ro,.4),light:hn(ro,.4),hcDark:hn(ro,.4),hcLight:hn(ro,.4)},v.NC("treeInactiveIndentGuidesStroke","Tree stroke color for the indentation guides that are not active.")),lo=i("tree.tableColumnsBorder",{dark:"#CCCCCC20",light:"#61616120",hcDark:null,hcLight:null},v.NC("tableColumnsBorder","Table border color between columns.")),wo=i("tree.tableOddRowsBackground",{dark:hn(d,.04),light:hn(d,.04),hcDark:null,hcLight:null},v.NC("tableOddRowsBackgroundColor","Background color for odd table rows.")),Ft=(i("list.deemphasizedForeground",{dark:"#8C8C8C",light:"#8E8E90",hcDark:"#A7A8A9",hcLight:"#666666"},v.NC("listDeemphasizedForeground","List/Tree foreground color for items that are deemphasized. ")),i("checkbox.background",{dark:ye,light:ye,hcDark:ye,hcLight:ye},v.NC("checkbox.background","Background color of checkbox widget."))),q=(i("checkbox.selectBackground",{dark:yt,light:yt,hcDark:yt,hcLight:yt},v.NC("checkbox.select.background","Background color of checkbox widget when the element it's in is selected.")),i("checkbox.foreground",{dark:Y,light:Y,hcDark:Y,hcLight:Y},v.NC("checkbox.foreground","Foreground color of checkbox widget."))),ce=i("checkbox.border",{dark:x,light:x,hcDark:x,hcLight:x},v.NC("checkbox.border","Border color of checkbox widget.")),$e=(i("checkbox.selectBorder",{dark:I,light:I,hcDark:I,hcLight:I},v.NC("checkbox.select.border","Border color of checkbox widget when the element it's in is selected.")),i("quickInput.list.focusBackground",{dark:null,light:null,hcDark:null,hcLight:null},"",void 0,v.NC("quickInput.list.focusBackground deprecation","Please use quickInputList.focusBackground instead"))),ct=i("quickInputList.focusForeground",{dark:he,light:he,hcDark:he,hcLight:he},v.NC("quickInput.listFocusForeground","Quick picker foreground color for the focused item.")),Et=i("quickInputList.focusIconForeground",{dark:Be,light:Be,hcDark:Be,hcLight:Be},v.NC("quickInput.listFocusIconForeground","Quick picker icon foreground color for the focused item.")),kt=i("quickInputList.focusBackground",{dark:Fs($e,Me),light:Fs($e,Me),hcDark:null,hcLight:null},v.NC("quickInput.listFocusBackground","Quick picker background color for the focused item.")),ri=i("menu.border",{dark:null,light:null,hcDark:D,hcLight:D},v.NC("menuBorder","Border color of menus.")),hi=i("menu.foreground",{dark:Y,light:Y,hcDark:Y,hcLight:Y},v.NC("menuForeground","Foreground color of menu items.")),ii=i("menu.background",{dark:ye,light:ye,hcDark:ye,hcLight:ye},v.NC("menuBackground","Background color of menu items.")),Si=i("menu.selectionForeground",{dark:he,light:he,hcDark:he,hcLight:he},v.NC("menuSelectionForeground","Foreground color of the selected menu item in menus.")),Ti=i("menu.selectionBackground",{dark:Me,light:Me,hcDark:Me,hcLight:Me},v.NC("menuSelectionBackground","Background color of the selected menu item in menus.")),Bi=i("menu.selectionBorder",{dark:null,light:null,hcDark:N,hcLight:N},v.NC("menuSelectionBorder","Border color of the selected menu item in menus.")),ji=i("menu.separatorBackground",{dark:"#606060",light:"#D4D4D4",hcDark:D,hcLight:D},v.NC("menuSeparatorBackground","Color of a separator menu item in menus.")),Hi=i("toolbar.hoverBackground",{dark:"#5a5d5e50",light:"#b8b8b850",hcDark:null,hcLight:null},v.NC("toolbarHoverBackground","Toolbar background when hovering over actions using the mouse")),We=(i("toolbar.hoverOutline",{dark:null,light:null,hcDark:N,hcLight:N},v.NC("toolbarHoverOutline","Toolbar outline when hovering over actions using the mouse")),i("toolbar.activeBackground",{dark:ho(Hi,.1),light:ns(Hi,.1),hcDark:null,hcLight:null},v.NC("toolbarActiveBackground","Toolbar background when holding the mouse over actions")),i("editor.snippetTabstopHighlightBackground",{dark:new P.Il(new P.VS(124,124,124,.3)),light:new P.Il(new P.VS(10,50,100,.2)),hcDark:new P.Il(new P.VS(124,124,124,.3)),hcLight:new P.Il(new P.VS(10,50,100,.2))},v.NC("snippetTabstopHighlightBackground","Highlight background color of a snippet tabstop.")),i("editor.snippetTabstopHighlightBorder",{dark:null,light:null,hcDark:null,hcLight:null},v.NC("snippetTabstopHighlightBorder","Highlight border color of a snippet tabstop.")),i("editor.snippetFinalTabstopHighlightBackground",{dark:null,light:null,hcDark:null,hcLight:null},v.NC("snippetFinalTabstopHighlightBackground","Highlight background color of the final tabstop of a snippet.")),i("editor.snippetFinalTabstopHighlightBorder",{dark:"#525252",light:new P.Il(new P.VS(10,50,100,.5)),hcDark:"#525252",hcLight:"#292929"},v.NC("snippetFinalTabstopHighlightBorder","Highlight border color of the final tabstop of a snippet.")),i("breadcrumb.foreground",{light:hn(d,.8),dark:hn(d,.8),hcDark:hn(d,.8),hcLight:hn(d,.8)},v.NC("breadcrumbsFocusForeground","Color of focused breadcrumb items."))),rt=i("breadcrumb.background",{light:Ee,dark:Ee,hcDark:Ee,hcLight:Ee},v.NC("breadcrumbsBackground","Background color of breadcrumb items.")),Pt=i("breadcrumb.focusForeground",{light:ns(d,.2),dark:ho(d,.1),hcDark:ho(d,.1),hcLight:ho(d,.1)},v.NC("breadcrumbsFocusForeground","Color of focused breadcrumb items.")),Kt=i("breadcrumb.activeSelectionForeground",{light:ns(d,.2),dark:ho(d,.1),hcDark:ho(d,.1),hcLight:ho(d,.1)},v.NC("breadcrumbsSelectedForeground","Color of selected breadcrumb items.")),Li=(i("breadcrumbPicker.background",{light:yt,dark:yt,hcDark:yt,hcLight:yt},v.NC("breadcrumbsSelectedBackground","Background color of breadcrumb item picker.")),P.Il.fromHex("#40C8AE").transparent(.5)),sn=P.Il.fromHex("#40A6FF").transparent(.5),on=P.Il.fromHex("#606060").transparent(.4),rn=.4,_n=i("merge.currentHeaderBackground",{dark:Li,light:Li,hcDark:null,hcLight:null},v.NC("mergeCurrentHeaderBackground","Current header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),tn=(i("merge.currentContentBackground",{dark:hn(_n,rn),light:hn(_n,rn),hcDark:hn(_n,rn),hcLight:hn(_n,rn)},v.NC("mergeCurrentContentBackground","Current content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),i("merge.incomingHeaderBackground",{dark:sn,light:sn,hcDark:null,hcLight:null},v.NC("mergeIncomingHeaderBackground","Incoming header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0)),io=(i("merge.incomingContentBackground",{dark:hn(tn,rn),light:hn(tn,rn),hcDark:hn(tn,rn),hcLight:hn(tn,rn)},v.NC("mergeIncomingContentBackground","Incoming content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),i("merge.commonHeaderBackground",{dark:on,light:on,hcDark:null,hcLight:null},v.NC("mergeCommonHeaderBackground","Common ancestor header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0)),Mo=(i("merge.commonContentBackground",{dark:hn(io,rn),light:hn(io,rn),hcDark:hn(io,rn),hcLight:hn(io,rn)},v.NC("mergeCommonContentBackground","Common ancestor content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),i("merge.border",{dark:null,light:null,hcDark:"#C3DF6F",hcLight:"#007ACC"},v.NC("mergeBorder","Border color on headers and the splitter in inline merge-conflicts."))),fo=(i("editorOverviewRuler.currentContentForeground",{dark:hn(_n,1),light:hn(_n,1),hcDark:Mo,hcLight:Mo},v.NC("overviewRulerCurrentContentForeground","Current overview ruler foreground for inline merge-conflicts.")),i("editorOverviewRuler.incomingContentForeground",{dark:hn(tn,1),light:hn(tn,1),hcDark:Mo,hcLight:Mo},v.NC("overviewRulerIncomingContentForeground","Incoming overview ruler foreground for inline merge-conflicts.")),i("editorOverviewRuler.commonContentForeground",{dark:hn(io,1),light:hn(io,1),hcDark:Mo,hcLight:Mo},v.NC("overviewRulerCommonContentForeground","Common ancestor overview ruler foreground for inline merge-conflicts.")),i("editorOverviewRuler.findMatchForeground",{dark:"#d186167e",light:"#d186167e",hcDark:"#AB5A00",hcLight:""},v.NC("overviewRulerFindMatchForeground","Overview ruler marker color for find matches. The color must not be opaque so as not to hide underlying decorations."),!0)),Eo=i("editorOverviewRuler.selectionHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hcDark:"#A0A0A0CC",hcLight:"#A0A0A0CC"},v.NC("overviewRulerSelectionHighlightForeground","Overview ruler marker color for selection highlights. The color must not be opaque so as not to hide underlying decorations."),!0),Go=i("minimap.findMatchHighlight",{light:"#d18616",dark:"#d18616",hcDark:"#AB5A00",hcLight:"#0F4A85"},v.NC("minimapFindMatchHighlight","Minimap marker color for find matches."),!0),ks=i("minimap.selectionOccurrenceHighlight",{light:"#c9c9c9",dark:"#676767",hcDark:"#ffffff",hcLight:"#0F4A85"},v.NC("minimapSelectionOccurrenceHighlight","Minimap marker color for repeating editor selections."),!0),Ar=i("minimap.selectionHighlight",{light:"#ADD6FF",dark:"#264F78",hcDark:"#ffffff",hcLight:"#0F4A85"},v.NC("minimapSelectionHighlight","Minimap marker color for the editor selection."),!0),Rr=i("minimap.errorHighlight",{dark:new P.Il(new P.VS(255,18,18,.7)),light:new P.Il(new P.VS(255,18,18,.7)),hcDark:new P.Il(new P.VS(255,50,50,1)),hcLight:"#B5200D"},v.NC("minimapError","Minimap marker color for errors.")),Us=i("minimap.warningHighlight",{dark:Tt,light:Tt,hcDark:Mt,hcLight:Mt},v.NC("overviewRuleWarning","Minimap marker color for warnings.")),ya=i("minimap.background",{dark:null,light:null,hcDark:null,hcLight:null},v.NC("minimapBackground","Minimap background color.")),zs=i("minimap.foregroundOpacity",{dark:P.Il.fromHex("#000f"),light:P.Il.fromHex("#000f"),hcDark:P.Il.fromHex("#000f"),hcLight:P.Il.fromHex("#000f")},v.NC("minimapForegroundOpacity",'Opacity of foreground elements rendered in the minimap. For example, "#000000c0" will render the elements with 75% opacity.')),Co=(i("minimapSlider.background",{light:hn(Fe,.5),dark:hn(Fe,.5),hcDark:hn(Fe,.5),hcLight:hn(Fe,.5)},v.NC("minimapSliderBackground","Minimap slider background color.")),i("minimapSlider.hoverBackground",{light:hn(He,.5),dark:hn(He,.5),hcDark:hn(He,.5),hcLight:hn(He,.5)},v.NC("minimapSliderHoverBackground","Minimap slider background color when hovering.")),i("minimapSlider.activeBackground",{light:hn(Je,.5),dark:hn(Je,.5),hcDark:hn(Je,.5),hcLight:hn(Je,.5)},v.NC("minimapSliderActiveBackground","Minimap slider background color when clicked on.")),i("problemsErrorIcon.foreground",{dark:mt,light:mt,hcDark:mt,hcLight:mt},v.NC("problemsErrorIconForeground","The color used for the problems error icon."))),or=i("problemsWarningIcon.foreground",{dark:Tt,light:Tt,hcDark:Tt,hcLight:Tt},v.NC("problemsWarningIconForeground","The color used for the problems warning icon.")),_o=i("problemsInfoIcon.foreground",{dark:At,light:At,hcDark:At,hcLight:At},v.NC("problemsInfoIconForeground","The color used for the problems info icon."));function ns($n,no){return{op:0,value:$n,factor:no}}function ho($n,no){return{op:1,value:$n,factor:no}}function hn($n,no){return{op:2,value:$n,factor:no}}function Fs(...$n){return{op:4,values:$n}}function ws($n,no,Do,xo){return{op:5,value:$n,background:no,factor:Do,transparency:xo}}function Po($n,no){if(null!==$n){if("string"==typeof $n)return"#"===$n[0]?P.Il.fromHex($n):no.getColor($n);if($n instanceof P.Il)return $n;if("object"==typeof $n)return function Sa($n,no){var Do,xo,Uo,Yo;switch($n.op){case 0:return null===(Do=Po($n.value,no))||void 0===Do?void 0:Do.darken($n.factor);case 1:return null===(xo=Po($n.value,no))||void 0===xo?void 0:xo.lighten($n.factor);case 2:return null===(Uo=Po($n.value,no))||void 0===Uo?void 0:Uo.transparent($n.factor);case 3:{const Io=Po($n.background,no);return Io?null===(Yo=Po($n.value,no))||void 0===Yo?void 0:Yo.makeOpaque(Io):Po($n.value,no)}case 4:for(const Io of $n.values){const fs=Po(Io,no);if(fs)return fs}return;case 6:return Po(no.defines($n.if)?$n.then:$n.else,no);case 5:{const Io=Po($n.value,no);if(!Io)return;const fs=Po($n.background,no);return fs?Io.isDarkerThan(fs)?P.Il.getLighterColor(Io,fs,$n.factor).transparent($n.transparency):P.Il.getDarkerColor(Io,fs,$n.factor).transparent($n.transparency):Io.transparent($n.factor*$n.transparency)}default:throw(0,y.vE)($n)}}($n,no)}}i("charts.foreground",{dark:d,light:d,hcDark:d,hcLight:d},v.NC("chartsForeground","The foreground color used in charts.")),i("charts.lines",{dark:hn(d,.5),light:hn(d,.5),hcDark:hn(d,.5),hcLight:hn(d,.5)},v.NC("chartsLines","The color used for horizontal lines in charts.")),i("charts.red",{dark:mt,light:mt,hcDark:mt,hcLight:mt},v.NC("chartsRed","The red color used in chart visualizations.")),i("charts.blue",{dark:At,light:At,hcDark:At,hcLight:At},v.NC("chartsBlue","The blue color used in chart visualizations.")),i("charts.yellow",{dark:Tt,light:Tt,hcDark:Tt,hcLight:Tt},v.NC("chartsYellow","The yellow color used in chart visualizations.")),i("charts.orange",{dark:Go,light:Go,hcDark:Go,hcLight:Go},v.NC("chartsOrange","The orange color used in chart visualizations.")),i("charts.green",{dark:"#89D185",light:"#388A34",hcDark:"#89D185",hcLight:"#374e06"},v.NC("chartsGreen","The green color used in chart visualizations.")),i("charts.purple",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},v.NC("chartsPurple","The purple color used in chart visualizations."));const Ao="vscode://schemas/workbench-colors",wa=T.B.as(S.I.JSONContribution);wa.registerSchema(Ao,g.getColorSchema());const $r=new f.pY(()=>wa.notifySchemaChanged(Ao),200);g.onDidChangeSchema(()=>{$r.isScheduled()||$r.schedule()})},34252:(Xe,we,e)=>{e.d(we,{Ks:()=>a,q5:()=>d,s_:()=>D});var c,u,O,f=e(85328),P=e(27222),r=e(35053),y=e(58178),v=e(91402),S=e(15850),T=e(37190),E=e(72162),L=e(81834);(c||(c={})).getDefinition=function W(z,U){let ee=z.defaults;for(;r.k.isThemeIcon(ee);){const B=i.getIcon(ee.id);if(!B)return;ee=B.defaults}return ee},(O=u||(u={})).toJSONObject=function W(U){return{weight:U.weight,style:U.style,src:U.src.map(ee=>({format:ee.format,location:ee.location.toString()}))}},O.fromJSONObject=function z(U){const ee=B=>(0,v.HD)(B)?B:void 0;if(U&&Array.isArray(U.src)&&U.src.every(B=>(0,v.HD)(B.format)&&(0,v.HD)(B.location)))return{weight:ee(U.weight),style:ee(U.style),src:U.src.map(B=>({format:B.format,location:S.o.parse(B.location)}))}};const i=new class g{constructor(){this._onDidChange=new y.Q5,this.onDidChange=this._onDidChange.event,this.iconSchema={definitions:{icons:{type:"object",properties:{fontId:{type:"string",description:(0,T.NC)("iconDefinition.fontId","The id of the font to use. If not set, the font that is defined first is used.")},fontCharacter:{type:"string",description:(0,T.NC)("iconDefinition.fontCharacter","The font character associated with the icon definition.")}},additionalProperties:!1,defaultSnippets:[{body:{fontCharacter:"\\\\e030"}}]}},type:"object",properties:{}},this.iconReferenceSchema={type:"string",pattern:`^${r.k.iconNameExpression}$`,enum:[],enumDescriptions:[]},this.iconsById={},this.iconFontsById={}}registerIcon(W,z,U,ee){const B=this.iconsById[W];if(B){if(U&&!B.description){B.description=U,this.iconSchema.properties[W].markdownDescription=`${U} $(${W})`;const j=this.iconReferenceSchema.enum.indexOf(W);-1!==j&&(this.iconReferenceSchema.enumDescriptions[j]=U),this._onDidChange.fire()}return B}this.iconsById[W]={id:W,description:U,defaults:z,deprecationMessage:ee};const se={$ref:"#/definitions/icons"};return ee&&(se.deprecationMessage=ee),U&&(se.markdownDescription=`${U}: $(${W})`),this.iconSchema.properties[W]=se,this.iconReferenceSchema.enum.push(W),this.iconReferenceSchema.enumDescriptions.push(U||""),this._onDidChange.fire(),{id:W}}getIcons(){return Object.keys(this.iconsById).map(W=>this.iconsById[W])}getIcon(W){return this.iconsById[W]}getIconSchema(){return this.iconSchema}toString(){const W=(B,G)=>B.id.localeCompare(G.id),z=B=>{for(;r.k.isThemeIcon(B.defaults);)B=this.iconsById[B.defaults.id];return`codicon codicon-${B?B.id:""}`},U=[];U.push("| preview     | identifier                        | default codicon ID                | description"),U.push("| ----------- | --------------------------------- | --------------------------------- | --------------------------------- |");const ee=Object.keys(this.iconsById).map(B=>this.iconsById[B]);for(const B of ee.filter(G=>!!G.description).sort(W))U.push(`|<i class="${z(B)}"></i>|${B.id}|${r.k.isThemeIcon(B.defaults)?B.defaults.id:B.id}|${B.description||""}|`);U.push("| preview     | identifier                        "),U.push("| ----------- | --------------------------------- |");for(const B of ee.filter(G=>!r.k.isThemeIcon(G.defaults)).sort(W))U.push(`|<i class="${z(B)}"></i>|${B.id}|`);return U.join("\n")}};function d(O,W,z,U){return i.registerIcon(O,W,z,U)}function a(){return i}L.B.add("base.contributions.icons",i),function m(){const O=(0,P.u)();for(const W in O){const z="\\"+O[W].toString(16);i.registerIcon(W,{fontCharacter:z})}}();const l="vscode://schemas/icons",I=L.B.as(E.I.JSONContribution);I.registerSchema(l,i.getIconSchema());const w=new f.pY(()=>I.notifySchemaChanged(l),200);i.onDidChange(()=>{w.isScheduled()||w.schedule()});const D=d("widget-close",P.l.close,(0,T.NC)("widgetClose","Icon for the close action in widgets."));d("goto-previous-location",P.l.arrowUp,(0,T.NC)("previousChangeIcon","Icon for goto previous editor location.")),d("goto-next-location",P.l.arrowDown,(0,T.NC)("nextChangeIcon","Icon for goto next editor location.")),r.k.modify(P.l.sync,"spin"),r.k.modify(P.l.loading,"spin")},13054:(Xe,we,e)=>{e.d(we,{_T:()=>r,c3:()=>P,eL:()=>f});var f=function(y){return y.DARK="dark",y.LIGHT="light",y.HIGH_CONTRAST_DARK="hcDark",y.HIGH_CONTRAST_LIGHT="hcLight",y}(f||{});function P(y){return y===f.HIGH_CONTRAST_DARK||y===f.HIGH_CONTRAST_LIGHT}function r(y){return y===f.DARK||y===f.HIGH_CONTRAST_DARK}},23527:(Xe,we,e)=>{e.d(we,{EN:()=>T,IP:()=>L,Ic:()=>u,XE:()=>S,bB:()=>g,m6:()=>E});var f=e(58178),P=e(78694),r=e(12065),y=e(81834),v=e(13054);const S=(0,r.yh)("themeService");function T(i){return{id:i}}function E(i){switch(i){case v.eL.DARK:return"vs-dark";case v.eL.HIGH_CONTRAST_DARK:return"hc-black";case v.eL.HIGH_CONTRAST_LIGHT:return"hc-light";default:return"vs"}}const L={ThemingContribution:"base.contributions.theming"},c=new class p{constructor(){this.themingParticipants=[],this.themingParticipants=[],this.onThemingParticipantAddedEmitter=new f.Q5}onColorThemeChange(d){return this.themingParticipants.push(d),this.onThemingParticipantAddedEmitter.fire(d),(0,P.OF)(()=>{const a=this.themingParticipants.indexOf(d);this.themingParticipants.splice(a,1)})}getThemingParticipants(){return this.themingParticipants}};function u(i){return c.onColorThemeChange(i)}y.B.add(L.ThemingContribution,c);class g extends P.JT{constructor(d){super(),this.themeService=d,this.theme=d.getColorTheme(),this._register(this.themeService.onDidColorThemeChange(a=>this.onThemeChange(a)))}onThemeChange(d){this.theme=d,this.updateStyles()}updateStyles(){}}},26093:(Xe,we,e)=>{e.d(we,{Xt:()=>y,YO:()=>r,gJ:()=>v,tJ:()=>P});const P=(0,e(12065).yh)("undoRedoService");class r{constructor(T,E){this.resource=T,this.elements=E}}class y{constructor(){this.id=y._ID++,this.order=1}nextOrder(){return 0===this.id?0:this.order++}}y._ID=0,y.None=new y;class v{constructor(){this.id=v._ID++,this.order=1}nextOrder(){return 0===this.id?0:this.order++}}v._ID=0,v.None=new v},45615:(Xe,we,e)=>{e.d(we,{A6:()=>d,c$:()=>E,eb:()=>T,ec:()=>S,md:()=>i,p$:()=>m,uT:()=>c,x:()=>l});var f=e(37190),P=e(52356),y=(e(95619),e(15850));const S=(0,e(12065).yh)("contextService");function T(I){const w=I;return"string"==typeof w?.id&&y.o.isUri(w.uri)}function E(I){const w=I;return"string"==typeof w?.id&&!T(I)&&!function u(I){const w=I;return"string"==typeof w?.id&&y.o.isUri(w.configPath)}(I)}const L={id:"ext-dev"},p={id:"empty-window"};function c(I,w){return"string"==typeof I||typeof I>"u"?"string"==typeof I?{id:(0,P.EZ)(I)}:w?L:p:I.configuration?{id:I.id,configPath:I.configuration}:1===I.folders.length?{id:I.id,uri:I.folders[0].uri}:{id:I.id}}class i{constructor(w,D){this.raw=D,this.uri=w.uri,this.index=w.index,this.name=w.name}toJSON(){return{uri:this.uri,name:this.name,index:this.index}}}const d="code-workspace",m=((0,f.NC)("codeWorkspace","Code Workspace"),"4064f6ec-cb38-4ad0-af64-ee6467e63c82");function l(I){return I.id===m}},98044:(Xe,we,e)=>{e.d(we,{Y:()=>P});const P=(0,e(12065).yh)("workspaceTrustManagementService")},32757:(Xe,we,e)=>{e.d(we,{Z:()=>y});var f=e(71451),r=e.n(f)()(function(v){return v[1]});r.push([Xe.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-action-bar {\n\twhite-space: nowrap;\n\theight: 100%;\n}\n\n.monaco-action-bar .actions-container {\n\tdisplay: flex;\n\tmargin: 0 auto;\n\tpadding: 0;\n\theight: 100%;\n\twidth: 100%;\n\talign-items: center;\n}\n\n.monaco-action-bar.vertical .actions-container {\n\tdisplay: inline-block;\n}\n\n.monaco-action-bar .action-item {\n\tdisplay: block;\n\talign-items: center;\n\tjustify-content: center;\n\tcursor: pointer;\n\tposition: relative;  /* DO NOT REMOVE - this is the key to preventing the ghosting icon bug in Chrome 42 */\n}\n\n.monaco-action-bar .action-item.disabled {\n\tcursor: default;\n}\n\n.monaco-action-bar .action-item .icon,\n.monaco-action-bar .action-item .codicon {\n\tdisplay: block;\n}\n\n.monaco-action-bar .action-item .codicon {\n\tdisplay: flex;\n\talign-items: center;\n\twidth: 16px;\n\theight: 16px;\n}\n\n.monaco-action-bar .action-label {\n\tdisplay: flex;\n\tfont-size: 11px;\n\tpadding: 3px;\n\tborder-radius: 5px;\n}\n\n.monaco-action-bar .action-item.disabled .action-label,\n.monaco-action-bar .action-item.disabled .action-label::before,\n.monaco-action-bar .action-item.disabled .action-label:hover {\n\topacity: 0.6;\n}\n\n/* Vertical actions */\n\n.monaco-action-bar.vertical {\n\ttext-align: left;\n}\n\n.monaco-action-bar.vertical .action-item {\n\tdisplay: block;\n}\n\n.monaco-action-bar.vertical .action-label.separator {\n\tdisplay: block;\n\tborder-bottom: 1px solid #bbb;\n\tpadding-top: 1px;\n\tmargin-left: .8em;\n\tmargin-right: .8em;\n}\n\n.monaco-action-bar .action-item .action-label.separator {\n\twidth: 1px;\n\theight: 16px;\n\tmargin: 5px 4px !important;\n\tcursor: default;\n\tmin-width: 1px;\n\tpadding: 0;\n\tbackground-color: #bbb;\n}\n\n.secondary-actions .monaco-action-bar .action-label {\n\tmargin-left: 6px;\n}\n\n/* Action Items */\n.monaco-action-bar .action-item.select-container {\n\toverflow: hidden; /* somehow the dropdown overflows its container, we prevent it here to not push */\n\tflex: 1;\n\tmax-width: 170px;\n\tmin-width: 60px;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tmargin-right: 10px;\n}\n\n.monaco-action-bar .action-item.action-dropdown-item {\n\tdisplay: flex;\n}\n\n.monaco-action-bar .action-item.action-dropdown-item > .action-dropdown-item-separator {\n\tdisplay: flex;\n\talign-items: center;\n\tcursor: default;\n}\n\n.monaco-action-bar .action-item.action-dropdown-item > .action-dropdown-item-separator > div {\n\twidth: 1px;\n}\n",""]);const y=r},93:(Xe,we,e)=>{e.d(we,{Z:()=>y});var f=e(71451),r=e.n(f)()(function(v){return v[1]});r.push([Xe.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-aria-container {\n\tposition: absolute; /* try to hide from window but not from screen readers */\n\tleft:-999em;\n}",""]);const y=r},72013:(Xe,we,e)=>{e.d(we,{Z:()=>y});var f=e(71451),r=e.n(f)()(function(v){return v[1]});r.push([Xe.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-text-button {\n\tbox-sizing: border-box;\n\tdisplay: flex;\n\twidth: 100%;\n\tpadding: 4px;\n\tborder-radius: 2px;\n\ttext-align: center;\n\tcursor: pointer;\n\tjustify-content: center;\n\talign-items: center;\n\tborder: 1px solid var(--vscode-button-border, transparent);\n\tline-height: 18px;\n}\n\n.monaco-text-button:focus {\n\toutline-offset: 2px !important;\n}\n\n.monaco-text-button:hover {\n\ttext-decoration: none !important;\n}\n\n.monaco-button.disabled:focus,\n.monaco-button.disabled {\n\topacity: 0.4 !important;\n\tcursor: default;\n}\n\n.monaco-text-button .codicon {\n\tmargin: 0 0.2em;\n\tcolor: inherit !important;\n}\n\n.monaco-text-button.monaco-text-button-with-short-label {\n\tflex-direction: row;\n\tflex-wrap: wrap;\n\tpadding: 0 4px;\n\toverflow: hidden;\n\theight: 28px;\n}\n\n.monaco-text-button.monaco-text-button-with-short-label > .monaco-button-label {\n\tflex-basis: 100%;\n}\n\n.monaco-text-button.monaco-text-button-with-short-label > .monaco-button-label-short {\n\tflex-grow: 1;\n\twidth: 0;\n\toverflow: hidden;\n}\n\n.monaco-text-button.monaco-text-button-with-short-label > .monaco-button-label,\n.monaco-text-button.monaco-text-button-with-short-label > .monaco-button-label-short {\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\tfont-weight: normal;\n\tfont-style: inherit;\n\tpadding: 4px 0;\n}\n\n.monaco-button-dropdown {\n\tdisplay: flex;\n\tcursor: pointer;\n}\n\n.monaco-button-dropdown.disabled {\n\tcursor: default;\n}\n\n.monaco-button-dropdown > .monaco-button:focus {\n\toutline-offset: -1px !important;\n}\n\n.monaco-button-dropdown.disabled > .monaco-button.disabled,\n.monaco-button-dropdown.disabled > .monaco-button.disabled:focus,\n.monaco-button-dropdown.disabled > .monaco-button-dropdown-separator {\n\topacity: 0.4 !important;\n}\n\n.monaco-button-dropdown > .monaco-button.monaco-text-button {\n\tborder-right-width: 0 !important;\n}\n\n.monaco-button-dropdown .monaco-button-dropdown-separator {\n\tpadding: 4px 0;\n\tcursor: default;\n}\n\n.monaco-button-dropdown .monaco-button-dropdown-separator > div {\n\theight: 100%;\n\twidth: 1px;\n}\n\n.monaco-button-dropdown > .monaco-button.monaco-dropdown-button {\n\tborder: 1px solid var(--vscode-button-border, transparent);\n\tborder-left-width: 0 !important;\n\tborder-radius: 0 2px 2px 0;\n}\n\n.monaco-button-dropdown > .monaco-button.monaco-text-button {\n\tborder-radius: 2px 0 0 2px;\n}\n\n.monaco-description-button {\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\tmargin: 4px 5px; /* allows button focus outline to be visible */\n}\n\n.monaco-description-button .monaco-button-description {\n\tfont-style: italic;\n\tfont-size: 11px;\n\tpadding: 4px 20px;\n}\n\n.monaco-description-button .monaco-button-label,\n.monaco-description-button .monaco-button-description {\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n}\n\n.monaco-description-button .monaco-button-label > .codicon,\n.monaco-description-button .monaco-button-description > .codicon {\n\tmargin: 0 0.2em;\n\tcolor: inherit !important;\n}\n\n/* default color styles - based on CSS variables */\n\n.monaco-button.default-colors,\n.monaco-button-dropdown.default-colors > .monaco-button{\n\tcolor: var(--vscode-button-foreground);\n\tbackground-color: var(--vscode-button-background);\n}\n\n.monaco-button.default-colors:hover,\n.monaco-button-dropdown.default-colors > .monaco-button:hover {\n\tbackground-color: var(--vscode-button-hoverBackground);\n}\n\n.monaco-button.default-colors.secondary,\n.monaco-button-dropdown.default-colors > .monaco-button.secondary {\n\tcolor: var(--vscode-button-secondaryForeground);\n\tbackground-color: var(--vscode-button-secondaryBackground);\n}\n\n.monaco-button.default-colors.secondary:hover,\n.monaco-button-dropdown.default-colors > .monaco-button.secondary:hover {\n\tbackground-color: var(--vscode-button-secondaryHoverBackground);\n}\n\n.monaco-button-dropdown.default-colors .monaco-button-dropdown-separator {\n\tbackground-color: var(--vscode-button-background);\n\tborder-top: 1px solid var(--vscode-button-border);\n\tborder-bottom: 1px solid var(--vscode-button-border);\n}\n\n.monaco-button-dropdown.default-colors .monaco-button.secondary + .monaco-button-dropdown-separator {\n\tbackground-color: var(--vscode-button-secondaryBackground);\n}\n\n.monaco-button-dropdown.default-colors .monaco-button-dropdown-separator > div {\n\tbackground-color: var(--vscode-button-separator);\n}\n",""]);const y=r},24081:(Xe,we,e)=>{e.d(we,{Z:()=>y});var f=e(71451),r=e.n(f)()(function(v){return v[1]});r.push([Xe.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.codicon-wrench-subaction {\n\topacity: 0.5;\n}\n\n@keyframes codicon-spin {\n\t100% {\n\t\ttransform:rotate(360deg);\n\t}\n}\n\n.codicon-sync.codicon-modifier-spin,\n.codicon-loading.codicon-modifier-spin,\n.codicon-gear.codicon-modifier-spin,\n.codicon-notebook-state-executing.codicon-modifier-spin {\n\t/* Use steps to throttle FPS to reduce CPU usage */\n\tanimation: codicon-spin 1.5s steps(30) infinite;\n}\n\n.codicon-modifier-disabled {\n\topacity: 0.4;\n}\n\n/* custom speed & easing for loading icon */\n.codicon-loading,\n.codicon-tree-item-loading::before {\n\tanimation-duration: 1s !important;\n\tanimation-timing-function: cubic-bezier(0.53, 0.21, 0.29, 0.67) !important;\n}\n",""]);const y=r},50058:(Xe,we,e)=>{e.d(we,{Z:()=>E});var f=e(71451),P=e.n(f),r=e(20569),y=e.n(r),v=e(73251),S=P()(function(L){return L[1]}),T=y()(v);S.push([Xe.id,'/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n@font-face {\n\tfont-family: "codicon";\n\tfont-display: block;\n\tsrc: url('+T+") format(\"truetype\");\n}\n\n.codicon[class*='codicon-'] {\n\tfont: normal normal normal 16px/1 codicon;\n\tdisplay: inline-block;\n\ttext-decoration: none;\n\ttext-rendering: auto;\n\ttext-align: center;\n\ttext-transform: none;\n\t-webkit-font-smoothing: antialiased;\n\t-moz-osx-font-smoothing: grayscale;\n\tuser-select: none;\n\t-webkit-user-select: none;\n}\n\n/* icon rules are dynamically created by the platform theme service (see iconsStyleSheet.ts) */\n",""]);const E=S},16328:(Xe,we,e)=>{e.d(we,{Z:()=>y});var f=e(71451),r=e.n(f)()(function(v){return v[1]});r.push([Xe.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.context-view {\n\tposition: absolute;\n}\n\n.context-view.fixed {\n\tall: initial;\n\tfont-family: inherit;\n\tfont-size: 13px;\n\tposition: fixed;\n\tcolor: inherit;\n}\n",""]);const y=r},90477:(Xe,we,e)=>{e.d(we,{Z:()=>y});var f=e(71451),r=e.n(f)()(function(v){return v[1]});r.push([Xe.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-count-badge {\n\tpadding: 3px 6px;\n\tborder-radius: 11px;\n\tfont-size: 11px;\n\tmin-width: 18px;\n\tmin-height: 18px;\n\tline-height: 11px;\n\tfont-weight: normal;\n\ttext-align: center;\n\tdisplay: inline-block;\n\tbox-sizing: border-box;\n}\n\n.monaco-count-badge.long {\n\tpadding: 2px 3px;\n\tborder-radius: 2px;\n\tmin-height: auto;\n\tline-height: normal;\n}\n",""]);const y=r},25035:(Xe,we,e)=>{e.d(we,{Z:()=>y});var f=e(71451),r=e.n(f)()(function(v){return v[1]});r.push([Xe.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-dropdown {\n\theight: 100%;\n\tpadding: 0;\n}\n\n.monaco-dropdown > .dropdown-label {\n\tcursor: pointer;\n\theight: 100%;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n\n.monaco-dropdown > .dropdown-label > .action-label.disabled {\n\tcursor: default;\n}\n\n.monaco-dropdown-with-primary {\n\tdisplay: flex !important;\n\tflex-direction: row;\n\tborder-radius: 5px;\n}\n\n.monaco-dropdown-with-primary > .action-container > .action-label {\n\tmargin-right: 0;\n}\n\n.monaco-dropdown-with-primary > .dropdown-action-container > .monaco-dropdown > .dropdown-label .codicon[class*='codicon-'] {\n\tfont-size: 12px;\n\tpadding-left: 0px;\n\tpadding-right: 0px;\n\tline-height: 16px;\n\tmargin-left: -3px;\n}\n\n.monaco-dropdown-with-primary > .dropdown-action-container > .monaco-dropdown > .dropdown-label > .action-label {\n\tdisplay: block;\n\tbackground-size: 16px;\n\tbackground-position: center center;\n\tbackground-repeat: no-repeat;\n}\n",""]);const y=r},96266:(Xe,we,e)=>{e.d(we,{Z:()=>y});var f=e(71451),r=e.n(f)()(function(v){return v[1]});r.push([Xe.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n/* ---------- Find input ---------- */\n\n.monaco-findInput {\n\tposition: relative;\n}\n\n.monaco-findInput .monaco-inputbox {\n\tfont-size: 13px;\n\twidth: 100%;\n}\n\n.monaco-findInput > .controls {\n\tposition: absolute;\n\ttop: 3px;\n\tright: 2px;\n}\n\n.vs .monaco-findInput.disabled {\n\tbackground-color: #E1E1E1;\n}\n\n/* Theming */\n.vs-dark .monaco-findInput.disabled {\n\tbackground-color: #333;\n}\n\n/* Highlighting */\n.monaco-findInput.highlight-0 .controls,\n.hc-light .monaco-findInput.highlight-0 .controls {\n\tanimation: monaco-findInput-highlight-0 100ms linear 0s;\n}\n\n.monaco-findInput.highlight-1 .controls,\n.hc-light .monaco-findInput.highlight-1 .controls {\n\tanimation: monaco-findInput-highlight-1 100ms linear 0s;\n}\n\n.hc-black .monaco-findInput.highlight-0 .controls,\n.vs-dark  .monaco-findInput.highlight-0 .controls {\n\tanimation: monaco-findInput-highlight-dark-0 100ms linear 0s;\n}\n\n.hc-black .monaco-findInput.highlight-1 .controls,\n.vs-dark  .monaco-findInput.highlight-1 .controls {\n\tanimation: monaco-findInput-highlight-dark-1 100ms linear 0s;\n}\n\n@keyframes monaco-findInput-highlight-0 {\n\t0% { background: rgba(253, 255, 0, 0.8); }\n\t100% { background: transparent; }\n}\n@keyframes monaco-findInput-highlight-1 {\n\t0% { background: rgba(253, 255, 0, 0.8); }\n\t/* Made intentionally different such that the CSS minifier does not collapse the two animations into a single one*/\n\t99% { background: transparent; }\n}\n\n@keyframes monaco-findInput-highlight-dark-0 {\n\t0% { background: rgba(255, 255, 255, 0.44); }\n\t100% { background: transparent; }\n}\n@keyframes monaco-findInput-highlight-dark-1 {\n\t0% { background: rgba(255, 255, 255, 0.44); }\n\t/* Made intentionally different such that the CSS minifier does not collapse the two animations into a single one*/\n\t99% { background: transparent; }\n}\n",""]);const y=r},93039:(Xe,we,e)=>{e.d(we,{Z:()=>y});var f=e(71451),r=e.n(f)()(function(v){return v[1]});r.push([Xe.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-hover {\n\tcursor: default;\n\tposition: absolute;\n\toverflow: hidden;\n\tuser-select: text;\n\t-webkit-user-select: text;\n\tbox-sizing: border-box;\n\tanimation: fadein 100ms linear;\n\tline-height: 1.5em;\n\twhite-space: var(--vscode-hover-whiteSpace, normal);\n}\n\n.monaco-hover.hidden {\n\tdisplay: none;\n}\n\n.monaco-hover a:hover:not(.disabled) {\n\tcursor: pointer;\n}\n\n.monaco-hover .hover-contents:not(.html-hover-contents) {\n\tpadding: 4px 8px;\n}\n\n.monaco-hover .markdown-hover > .hover-contents:not(.code-hover-contents) {\n\tmax-width: var(--vscode-hover-maxWidth, 500px);\n\tword-wrap: break-word;\n}\n\n.monaco-hover .markdown-hover > .hover-contents:not(.code-hover-contents) hr {\n\tmin-width: 100%;\n}\n\n.monaco-hover p,\n.monaco-hover .code,\n.monaco-hover ul,\n.monaco-hover h1,\n.monaco-hover h2,\n.monaco-hover h3,\n.monaco-hover h4,\n.monaco-hover h5,\n.monaco-hover h6 {\n\tmargin: 8px 0;\n}\n\n.monaco-hover h1,\n.monaco-hover h2,\n.monaco-hover h3,\n.monaco-hover h4,\n.monaco-hover h5,\n.monaco-hover h6 {\n\tline-height: 1.1;\n}\n\n.monaco-hover code {\n\tfont-family: var(--monaco-monospace-font);\n}\n\n.monaco-hover hr {\n\tbox-sizing: border-box;\n\tborder-left: 0px;\n\tborder-right: 0px;\n\tmargin-top: 4px;\n\tmargin-bottom: -4px;\n\tmargin-left: -8px;\n\tmargin-right: -8px;\n\theight: 1px;\n}\n\n.monaco-hover p:first-child,\n.monaco-hover .code:first-child,\n.monaco-hover ul:first-child {\n\tmargin-top: 0;\n}\n\n.monaco-hover p:last-child,\n.monaco-hover .code:last-child,\n.monaco-hover ul:last-child {\n\tmargin-bottom: 0;\n}\n\n/* MarkupContent Layout */\n.monaco-hover ul {\n\tpadding-left: 20px;\n}\n.monaco-hover ol {\n\tpadding-left: 20px;\n}\n\n.monaco-hover li > p {\n\tmargin-bottom: 0;\n}\n\n.monaco-hover li > ul {\n\tmargin-top: 0;\n}\n\n.monaco-hover code {\n\tborder-radius: 3px;\n\tpadding: 0 0.4em;\n}\n\n.monaco-hover .monaco-tokenized-source {\n\twhite-space: var(--vscode-hover-sourceWhiteSpace, pre-wrap);\n}\n\n.monaco-hover .hover-row.status-bar {\n\tfont-size: 12px;\n\tline-height: 22px;\n}\n\n.monaco-hover .hover-row.status-bar .info {\n\tfont-style: italic;\n\tpadding: 0px 8px;\n}\n\n.monaco-hover .hover-row.status-bar .actions {\n\tdisplay: flex;\n\tpadding: 0px 8px;\n}\n\n.monaco-hover .hover-row.status-bar .actions .action-container {\n\tmargin-right: 16px;\n\tcursor: pointer;\n}\n\n.monaco-hover .hover-row.status-bar .actions .action-container .action .icon {\n\tpadding-right: 4px;\n}\n\n.monaco-hover .markdown-hover .hover-contents .codicon {\n\tcolor: inherit;\n\tfont-size: inherit;\n\tvertical-align: middle;\n}\n\n.monaco-hover .hover-contents a.code-link:hover,\n.monaco-hover .hover-contents a.code-link {\n\tcolor: inherit;\n}\n\n.monaco-hover .hover-contents a.code-link:before {\n\tcontent: '(';\n}\n\n.monaco-hover .hover-contents a.code-link:after {\n\tcontent: ')';\n}\n\n.monaco-hover .hover-contents a.code-link > span {\n\ttext-decoration: underline;\n\t/** Hack to force underline to show **/\n\tborder-bottom: 1px solid transparent;\n\ttext-underline-position: under;\n\tcolor: var(--vscode-textLink-foreground);\n}\n\n.monaco-hover .hover-contents a.code-link > span:hover {\n\tcolor: var(--vscode-textLink-activeForeground);\n}\n\n/** Spans in markdown hovers need a margin-bottom to avoid looking cramped: https://github.com/microsoft/vscode/issues/101496 **/\n.monaco-hover .markdown-hover .hover-contents:not(.code-hover-contents):not(.html-hover-contents) span {\n\tmargin-bottom: 4px;\n\tdisplay: inline-block;\n}\n\n.monaco-hover-content .action-container a {\n\t-webkit-user-select: none;\n\tuser-select: none;\n}\n\n.monaco-hover-content .action-container.disabled {\n\tpointer-events: none;\n\topacity: 0.4;\n\tcursor: default;\n}\n",""]);const y=r},94269:(Xe,we,e)=>{e.d(we,{Z:()=>y});var f=e(71451),r=e.n(f)()(function(v){return v[1]});r.push([Xe.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/* ---------- Icon label ---------- */\n\n.monaco-icon-label {\n\tdisplay: flex; /* required for icons support :before rule */\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n}\n\n.monaco-icon-label::before {\n\n\t/* svg icons rendered as background image */\n\tbackground-size: 16px;\n\tbackground-position: left center;\n\tbackground-repeat: no-repeat;\n\tpadding-right: 6px;\n\twidth: 16px;\n\theight: 22px;\n\tline-height: inherit !important;\n\tdisplay: inline-block;\n\n\t/* fonts icons */\n\t-webkit-font-smoothing: antialiased;\n\t-moz-osx-font-smoothing: grayscale;\n\tvertical-align: top;\n\n\tflex-shrink: 0; /* fix for https://github.com/microsoft/vscode/issues/13787 */\n}\n\n.monaco-icon-label-container.disabled {\n\tcolor: var(--vscode-disabledForeground);\n}\n.monaco-icon-label > .monaco-icon-label-container {\n\tmin-width: 0;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\tflex: 1;\n}\n\n.monaco-icon-label > .monaco-icon-label-container > .monaco-icon-name-container > .label-name {\n\tcolor: inherit;\n\twhite-space: pre; /* enable to show labels that include multiple whitespaces */\n}\n\n.monaco-icon-label > .monaco-icon-label-container > .monaco-icon-name-container > .label-name > .label-separator {\n\tmargin: 0 2px;\n\topacity: 0.5;\n}\n\n.monaco-icon-label > .monaco-icon-label-container > .monaco-icon-description-container > .label-description {\n\topacity: .7;\n\tmargin-left: 0.5em;\n\tfont-size: 0.9em;\n\twhite-space: pre; /* enable to show labels that include multiple whitespaces */\n}\n\n.monaco-icon-label.nowrap > .monaco-icon-label-container > .monaco-icon-description-container > .label-description{\n\twhite-space: nowrap\n}\n\n.vs .monaco-icon-label > .monaco-icon-label-container > .monaco-icon-description-container > .label-description {\n\topacity: .95;\n}\n\n.monaco-icon-label.italic > .monaco-icon-label-container > .monaco-icon-name-container > .label-name,\n.monaco-icon-label.italic > .monaco-icon-label-container > .monaco-icon-description-container > .label-description {\n\tfont-style: italic;\n}\n\n.monaco-icon-label.deprecated {\n\ttext-decoration: line-through;\n\topacity: 0.66;\n}\n\n/* make sure apply italic font style to decorations as well */\n.monaco-icon-label.italic::after {\n\tfont-style: italic;\n}\n\n.monaco-icon-label.strikethrough > .monaco-icon-label-container > .monaco-icon-name-container > .label-name,\n.monaco-icon-label.strikethrough > .monaco-icon-label-container > .monaco-icon-description-container > .label-description {\n\ttext-decoration: line-through;\n}\n\n.monaco-icon-label::after {\n\topacity: 0.75;\n\tfont-size: 90%;\n\tfont-weight: 600;\n\tmargin: auto 16px 0 5px; /* https://github.com/microsoft/vscode/issues/113223 */\n\ttext-align: center;\n}\n\n/* make sure selection color wins when a label is being selected */\n.monaco-list:focus .selected .monaco-icon-label, /* list */\n.monaco-list:focus .selected .monaco-icon-label::after\n{\n\tcolor: inherit !important;\n}\n\n.monaco-list-row.focused.selected .label-description,\n.monaco-list-row.selected .label-description {\n\topacity: .8;\n}\n",""]);const y=r},41188:(Xe,we,e)=>{e.d(we,{Z:()=>y});var f=e(71451),r=e.n(f)()(function(v){return v[1]});r.push([Xe.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-inputbox {\n\tposition: relative;\n\tdisplay: block;\n\tpadding: 0;\n\tbox-sizing:\tborder-box;\n\tborder-radius: 2px;\n\n\t/* Customizable */\n\tfont-size: inherit;\n}\n\n.monaco-inputbox > .ibwrapper > .input,\n.monaco-inputbox > .ibwrapper > .mirror {\n\n\t/* Customizable */\n\tpadding: 4px 6px;\n}\n\n.monaco-inputbox > .ibwrapper {\n\tposition: relative;\n\twidth: 100%;\n\theight: 100%;\n}\n\n.monaco-inputbox > .ibwrapper > .input {\n\tdisplay: inline-block;\n\tbox-sizing:\tborder-box;\n\twidth: 100%;\n\theight: 100%;\n\tline-height: inherit;\n\tborder: none;\n\tfont-family: inherit;\n\tfont-size: inherit;\n\tresize: none;\n\tcolor: inherit;\n}\n\n.monaco-inputbox > .ibwrapper > input {\n\ttext-overflow: ellipsis;\n}\n\n.monaco-inputbox > .ibwrapper > textarea.input {\n\tdisplay: block;\n\tscrollbar-width: none; /* Firefox: hide scrollbars */\n\toutline: none;\n}\n\n.monaco-inputbox > .ibwrapper > textarea.input::-webkit-scrollbar {\n\tdisplay: none; /* Chrome + Safari: hide scrollbar */\n}\n\n.monaco-inputbox > .ibwrapper > textarea.input.empty {\n\twhite-space: nowrap;\n}\n\n.monaco-inputbox > .ibwrapper > .mirror {\n\tposition: absolute;\n\tdisplay: inline-block;\n\twidth: 100%;\n\ttop: 0;\n\tleft: 0;\n\tbox-sizing: border-box;\n\twhite-space: pre-wrap;\n\tvisibility: hidden;\n\tword-wrap: break-word;\n}\n\n/* Context view */\n\n.monaco-inputbox-container {\n\ttext-align: right;\n}\n\n.monaco-inputbox-container .monaco-inputbox-message {\n\tdisplay: inline-block;\n\toverflow: hidden;\n\ttext-align: left;\n\twidth: 100%;\n\tbox-sizing:\tborder-box;\n\tpadding: 0.4em;\n\tfont-size: 12px;\n\tline-height: 17px;\n\tmargin-top: -1px;\n\tword-wrap: break-word;\n}\n\n/* Action bar support */\n.monaco-inputbox .monaco-action-bar {\n\tposition: absolute;\n\tright: 2px;\n\ttop: 4px;\n}\n\n.monaco-inputbox .monaco-action-bar .action-item {\n\tmargin-left: 2px;\n}\n\n.monaco-inputbox .monaco-action-bar .action-item .codicon {\n\tbackground-repeat: no-repeat;\n\twidth: 16px;\n\theight: 16px;\n}\n",""]);const y=r},72298:(Xe,we,e)=>{e.d(we,{Z:()=>y});var f=e(71451),r=e.n(f)()(function(v){return v[1]});r.push([Xe.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-keybinding {\n\tdisplay: flex;\n\talign-items: center;\n\tline-height: 10px;\n}\n\n.monaco-keybinding > .monaco-keybinding-key {\n\tdisplay: inline-block;\n\tborder-style: solid;\n\tborder-width: 1px;\n\tborder-radius: 3px;\n\tvertical-align: middle;\n\tfont-size: 11px;\n\tpadding: 3px 5px;\n\tmargin: 0 2px;\n}\n\n.monaco-keybinding > .monaco-keybinding-key:first-child {\n\tmargin-left: 0;\n}\n\n.monaco-keybinding > .monaco-keybinding-key:last-child {\n\tmargin-right: 0;\n}\n\n.monaco-keybinding > .monaco-keybinding-key-separator {\n\tdisplay: inline-block;\n}\n\n.monaco-keybinding > .monaco-keybinding-key-chord-separator {\n\twidth: 6px;\n}\n",""]);const y=r},27703:(Xe,we,e)=>{e.d(we,{Z:()=>y});var f=e(71451),r=e.n(f)()(function(v){return v[1]});r.push([Xe.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-list {\n\tposition: relative;\n\theight: 100%;\n\twidth: 100%;\n\twhite-space: nowrap;\n}\n\n.monaco-list.mouse-support {\n\tuser-select: none;\n\t-webkit-user-select: none;\n}\n\n.monaco-list > .monaco-scrollable-element {\n\theight: 100%;\n}\n\n.monaco-list-rows {\n\tposition: relative;\n\twidth: 100%;\n\theight: 100%;\n}\n\n.monaco-list.horizontal-scrolling .monaco-list-rows {\n\twidth: auto;\n\tmin-width: 100%;\n}\n\n.monaco-list-row {\n\tposition: absolute;\n\tbox-sizing: border-box;\n\toverflow: hidden;\n\twidth: 100%;\n}\n\n.monaco-list.mouse-support .monaco-list-row {\n\tcursor: pointer;\n\ttouch-action: none;\n}\n\n/* for OS X ballistic scrolling */\n.monaco-list-row.scrolling {\n\tdisplay: none !important;\n}\n\n/* Focus */\n.monaco-list.element-focused,\n.monaco-list.selection-single,\n.monaco-list.selection-multiple {\n\toutline: 0 !important;\n}\n\n/* Dnd */\n.monaco-drag-image {\n\tdisplay: inline-block;\n\tpadding: 1px 7px;\n\tborder-radius: 10px;\n\tfont-size: 12px;\n\tposition: absolute;\n\tz-index: 1000;\n}\n\n/* Filter */\n\n.monaco-list-type-filter-message {\n\tposition: absolute;\n\tbox-sizing: border-box;\n\twidth: 100%;\n\theight: 100%;\n\ttop: 0;\n\tleft: 0;\n\tpadding: 40px 1em 1em 1em;\n\ttext-align: center;\n\twhite-space: normal;\n\topacity: 0.7;\n\tpointer-events: none;\n}\n\n.monaco-list-type-filter-message:empty {\n\tdisplay: none;\n}\n",""]);const y=r},67548:(Xe,we,e)=>{e.d(we,{Z:()=>y});var f=e(71451),r=e.n(f)()(function(v){return v[1]});r.push([Xe.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-mouse-cursor-text {\n\tcursor: text;\n}\n",""]);const y=r},64185:(Xe,we,e)=>{e.d(we,{Z:()=>y});var f=e(71451),r=e.n(f)()(function(v){return v[1]});r.push([Xe.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-progress-container {\n\twidth: 100%;\n\theight: 5px;\n\toverflow: hidden; /* keep progress bit in bounds */\n}\n\n.monaco-progress-container .progress-bit {\n\twidth: 2%;\n\theight: 5px;\n\tposition: absolute;\n\tleft: 0;\n\tdisplay: none;\n}\n\n.monaco-progress-container.active .progress-bit {\n\tdisplay: inherit;\n}\n\n.monaco-progress-container.discrete .progress-bit {\n\tleft: 0;\n\ttransition: width 100ms linear;\n}\n\n.monaco-progress-container.discrete.done .progress-bit {\n\twidth: 100%;\n}\n\n.monaco-progress-container.infinite .progress-bit {\n\tanimation-name: progress;\n\tanimation-duration: 4s;\n\tanimation-iteration-count: infinite;\n\ttransform: translate3d(0px, 0px, 0px);\n\tanimation-timing-function: linear;\n}\n\n.monaco-progress-container.infinite.infinite-long-running .progress-bit {\n\t/*\n\t\tThe more smooth `linear` timing function can cause\n\t\thigher GPU consumption as indicated in\n\t\thttps://github.com/microsoft/vscode/issues/97900 &\n\t\thttps://github.com/microsoft/vscode/issues/138396\n\t*/\n\tanimation-timing-function: steps(100);\n}\n\n/**\n * The progress bit has a width: 2% (1/50) of the parent container. The animation moves it from 0% to 100% of\n * that container. Since translateX is relative to the progress bit size, we have to multiple it with\n * its relative size to the parent container:\n * parent width: 5000%\n *    bit width: 100%\n * translateX should be as follow:\n *  50%: 5000% * 50% - 50% (set to center) = 2450%\n * 100%: 5000% * 100% - 100% (do not overflow) = 4900%\n */\n@keyframes progress { from { transform: translateX(0%) scaleX(1) } 50% { transform: translateX(2500%) scaleX(3) } to { transform: translateX(4900%) scaleX(1) } }\n",""]);const y=r},91629:(Xe,we,e)=>{e.d(we,{Z:()=>y});var f=e(71451),r=e.n(f)()(function(v){return v[1]});r.push([Xe.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n:root {\n\t--vscode-sash-size: 4px;\n}\n\n.monaco-sash {\n\tposition: absolute;\n\tz-index: 35;\n\ttouch-action: none;\n}\n\n.monaco-sash.disabled {\n\tpointer-events: none;\n}\n\n.monaco-sash.mac.vertical {\n\tcursor: col-resize;\n}\n\n.monaco-sash.vertical.minimum {\n\tcursor: e-resize;\n}\n\n.monaco-sash.vertical.maximum {\n\tcursor: w-resize;\n}\n\n.monaco-sash.mac.horizontal {\n\tcursor: row-resize;\n}\n\n.monaco-sash.horizontal.minimum {\n\tcursor: s-resize;\n}\n\n.monaco-sash.horizontal.maximum {\n\tcursor: n-resize;\n}\n\n.monaco-sash.disabled {\n\tcursor: default !important;\n\tpointer-events: none !important;\n}\n\n.monaco-sash.vertical {\n\tcursor: ew-resize;\n\ttop: 0;\n\twidth: var(--vscode-sash-size);\n\theight: 100%;\n}\n\n.monaco-sash.horizontal {\n\tcursor: ns-resize;\n\tleft: 0;\n\twidth: 100%;\n\theight: var(--vscode-sash-size);\n}\n\n.monaco-sash:not(.disabled) > .orthogonal-drag-handle {\n\tcontent: \" \";\n\theight: calc(var(--vscode-sash-size) * 2);\n\twidth: calc(var(--vscode-sash-size) * 2);\n\tz-index: 100;\n\tdisplay: block;\n\tcursor: all-scroll;\n\tposition: absolute;\n}\n\n.monaco-sash.horizontal.orthogonal-edge-north:not(.disabled)\n\t> .orthogonal-drag-handle.start,\n.monaco-sash.horizontal.orthogonal-edge-south:not(.disabled)\n\t> .orthogonal-drag-handle.end {\n\tcursor: nwse-resize;\n}\n\n.monaco-sash.horizontal.orthogonal-edge-north:not(.disabled)\n\t> .orthogonal-drag-handle.end,\n.monaco-sash.horizontal.orthogonal-edge-south:not(.disabled)\n\t> .orthogonal-drag-handle.start {\n\tcursor: nesw-resize;\n}\n\n.monaco-sash.vertical > .orthogonal-drag-handle.start {\n\tleft: calc(var(--vscode-sash-size) * -0.5);\n\ttop: calc(var(--vscode-sash-size) * -1);\n}\n.monaco-sash.vertical > .orthogonal-drag-handle.end {\n\tleft: calc(var(--vscode-sash-size) * -0.5);\n\tbottom: calc(var(--vscode-sash-size) * -1);\n}\n.monaco-sash.horizontal > .orthogonal-drag-handle.start {\n\ttop: calc(var(--vscode-sash-size) * -0.5);\n\tleft: calc(var(--vscode-sash-size) * -1);\n}\n.monaco-sash.horizontal > .orthogonal-drag-handle.end {\n\ttop: calc(var(--vscode-sash-size) * -0.5);\n\tright: calc(var(--vscode-sash-size) * -1);\n}\n\n.monaco-sash:before {\n\tcontent: '';\n\tpointer-events: none;\n\tposition: absolute;\n\twidth: 100%;\n\theight: 100%;\n\tbackground: transparent;\n}\n\n.monaco-workbench:not(.reduce-motion) .monaco-sash:before {\n\ttransition: background-color 0.1s ease-out;\n}\n\n.monaco-sash.hover:before,\n.monaco-sash.active:before {\n\tbackground: var(--vscode-sash-hoverBorder);\n}\n\n.monaco-sash.vertical:before {\n\twidth: var(--vscode-sash-hover-size);\n\tleft: calc(50% - (var(--vscode-sash-hover-size) / 2));\n}\n\n.monaco-sash.horizontal:before {\n\theight: var(--vscode-sash-hover-size);\n\ttop: calc(50% - (var(--vscode-sash-hover-size) / 2));\n}\n\n.pointer-events-disabled {\n\tpointer-events: none !important;\n}\n\n/** Debug **/\n\n.monaco-sash.debug {\n\tbackground: cyan;\n}\n\n.monaco-sash.debug.disabled {\n\tbackground: rgba(0, 255, 255, 0.2);\n}\n\n.monaco-sash.debug:not(.disabled) > .orthogonal-drag-handle {\n\tbackground: red;\n}\n",""]);const y=r},7198:(Xe,we,e)=>{e.d(we,{Z:()=>y});var f=e(71451),r=e.n(f)()(function(v){return v[1]});r.push([Xe.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/* Arrows */\n.monaco-scrollable-element > .scrollbar > .scra {\n\tcursor: pointer;\n\tfont-size: 11px !important;\n}\n\n.monaco-scrollable-element > .visible {\n\topacity: 1;\n\n\t/* Background rule added for IE9 - to allow clicks on dom node */\n\tbackground:rgba(0,0,0,0);\n\n\ttransition: opacity 100ms linear;\n\t/* In front of peek view */\n\tz-index: 11;\n}\n.monaco-scrollable-element > .invisible {\n\topacity: 0;\n\tpointer-events: none;\n}\n.monaco-scrollable-element > .invisible.fade {\n\ttransition: opacity 800ms linear;\n}\n\n/* Scrollable Content Inset Shadow */\n.monaco-scrollable-element > .shadow {\n\tposition: absolute;\n\tdisplay: none;\n}\n.monaco-scrollable-element > .shadow.top {\n\tdisplay: block;\n\ttop: 0;\n\tleft: 3px;\n\theight: 3px;\n\twidth: 100%;\n\tbox-shadow: var(--vscode-scrollbar-shadow) 0 6px 6px -6px inset;\n}\n.monaco-scrollable-element > .shadow.left {\n\tdisplay: block;\n\ttop: 3px;\n\tleft: 0;\n\theight: 100%;\n\twidth: 3px;\n\tbox-shadow: var(--vscode-scrollbar-shadow) 6px 0 6px -6px inset;\n}\n.monaco-scrollable-element > .shadow.top-left-corner {\n\tdisplay: block;\n\ttop: 0;\n\tleft: 0;\n\theight: 3px;\n\twidth: 3px;\n}\n.monaco-scrollable-element > .shadow.top.left {\n\tbox-shadow: var(--vscode-scrollbar-shadow) 6px 0 6px -6px inset;\n}\n\n.monaco-scrollable-element > .scrollbar > .slider {\n\tbackground: var(--vscode-scrollbarSlider-background);\n}\n\n.monaco-scrollable-element > .scrollbar > .slider:hover {\n\tbackground: var(--vscode-scrollbarSlider-hoverBackground);\n}\n\n.monaco-scrollable-element > .scrollbar > .slider.active {\n\tbackground: var(--vscode-scrollbarSlider-activeBackground);\n}\n",""]);const y=r},46512:(Xe,we,e)=>{e.d(we,{Z:()=>y});var f=e(71451),r=e.n(f)()(function(v){return v[1]});r.push([Xe.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-select-box {\n\twidth: 100%;\n\tcursor: pointer;\n\tborder-radius: 2px;\n}\n\n.monaco-select-box-dropdown-container {\n\tfont-size: 13px;\n\tfont-weight: normal;\n\ttext-transform: none;\n}\n\n/** Actions */\n\n.monaco-action-bar .action-item.select-container {\n\tcursor: default;\n}\n\n.monaco-action-bar .action-item .monaco-select-box {\n\tcursor: pointer;\n\tmin-width: 100px;\n\tmin-height: 18px;\n\tpadding: 2px 23px 2px 8px;\n}\n\n.mac .monaco-action-bar .action-item .monaco-select-box {\n\tfont-size: 11px;\n\tborder-radius: 5px;\n}\n",""]);const y=r},12675:(Xe,we,e)=>{e.d(we,{Z:()=>y});var f=e(71451),r=e.n(f)()(function(v){return v[1]});r.push([Xe.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/* Use custom CSS vars to expose padding into parent select for padding calculation */\n.monaco-select-box-dropdown-padding {\n\t--dropdown-padding-top: 1px;\n\t--dropdown-padding-bottom: 1px;\n}\n\n.hc-black .monaco-select-box-dropdown-padding,\n.hc-light .monaco-select-box-dropdown-padding {\n\t--dropdown-padding-top: 3px;\n\t--dropdown-padding-bottom: 4px;\n}\n\n.monaco-select-box-dropdown-container {\n\tdisplay: none;\n\tbox-sizing:\tborder-box;\n}\n\n.monaco-select-box-dropdown-container > .select-box-details-pane > .select-box-description-markdown * {\n\tmargin: 0;\n}\n\n.monaco-select-box-dropdown-container > .select-box-details-pane > .select-box-description-markdown a:focus {\n\toutline: 1px solid -webkit-focus-ring-color;\n\toutline-offset: -1px;\n}\n\n.monaco-select-box-dropdown-container > .select-box-details-pane > .select-box-description-markdown code {\n\tline-height: 15px; /** For some reason, this is needed, otherwise <code> will take up 20px height */\n\tfont-family: var(--monaco-monospace-font);\n}\n\n\n.monaco-select-box-dropdown-container.visible {\n\tdisplay: flex;\n\tflex-direction: column;\n\ttext-align: left;\n\twidth: 1px;\n\toverflow: hidden;\n\tborder-bottom-left-radius: 3px;\n\tborder-bottom-right-radius: 3px;\n}\n\n.monaco-select-box-dropdown-container > .select-box-dropdown-list-container {\n\tflex: 0 0 auto;\n\talign-self: flex-start;\n\tpadding-top: var(--dropdown-padding-top);\n\tpadding-bottom: var(--dropdown-padding-bottom);\n\tpadding-left: 1px;\n\tpadding-right: 1px;\n\twidth: 100%;\n\toverflow: hidden;\n\tbox-sizing:\tborder-box;\n}\n\n.monaco-select-box-dropdown-container > .select-box-details-pane {\n\tpadding: 5px;\n}\n\n.hc-black .monaco-select-box-dropdown-container > .select-box-dropdown-list-container {\n\tpadding-top: var(--dropdown-padding-top);\n\tpadding-bottom: var(--dropdown-padding-bottom);\n}\n\n.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row {\n\tcursor: pointer;\n}\n\n.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row > .option-text {\n\ttext-overflow: ellipsis;\n\toverflow: hidden;\n\tpadding-left: 3.5px;\n\twhite-space: nowrap;\n\tfloat: left;\n}\n\n.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row > .option-detail {\n\ttext-overflow: ellipsis;\n\toverflow: hidden;\n\tpadding-left: 3.5px;\n\twhite-space: nowrap;\n\tfloat: left;\n\topacity: 0.7;\n}\n\n.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row > .option-decorator-right {\n\ttext-overflow: ellipsis;\n\toverflow: hidden;\n\tpadding-right: 10px;\n\twhite-space: nowrap;\n\tfloat: right;\n}\n\n\n/* Accepted CSS hiding technique for accessibility reader text  */\n/* https://webaim.org/techniques/css/invisiblecontent/ */\n\n.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row > .visually-hidden {\n\t\tposition: absolute;\n\t\tleft: -10000px;\n\t\ttop: auto;\n\t\twidth: 1px;\n\t\theight: 1px;\n\t\toverflow: hidden;\n}\n\n.monaco-select-box-dropdown-container > .select-box-dropdown-container-width-control {\n\tflex: 1 1 auto;\n\talign-self: flex-start;\n\topacity: 0;\n}\n\n.monaco-select-box-dropdown-container > .select-box-dropdown-container-width-control > .width-control-div {\n\toverflow: hidden;\n\tmax-height: 0px;\n}\n\n.monaco-select-box-dropdown-container > .select-box-dropdown-container-width-control > .width-control-div > .option-text-width-control {\n\tpadding-left: 4px;\n\tpadding-right: 8px;\n\twhite-space: nowrap;\n}\n",""]);const y=r},82470:(Xe,we,e)=>{e.d(we,{Z:()=>y});var f=e(71451),r=e.n(f)()(function(v){return v[1]});r.push([Xe.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-split-view2 {\n\tposition: relative;\n\twidth: 100%;\n\theight: 100%;\n}\n\n.monaco-split-view2 > .sash-container {\n\tposition: absolute;\n\twidth: 100%;\n\theight: 100%;\n\tpointer-events: none;\n}\n\n.monaco-split-view2 > .sash-container > .monaco-sash {\n\tpointer-events: initial;\n}\n\n.monaco-split-view2 > .monaco-scrollable-element {\n\twidth: 100%;\n\theight: 100%;\n}\n\n.monaco-split-view2 > .monaco-scrollable-element > .split-view-container {\n\twidth: 100%;\n\theight: 100%;\n\twhite-space: nowrap;\n\tposition: relative;\n}\n\n.monaco-split-view2 > .monaco-scrollable-element > .split-view-container > .split-view-view {\n\twhite-space: initial;\n\tposition: absolute;\n}\n\n.monaco-split-view2 > .monaco-scrollable-element > .split-view-container > .split-view-view:not(.visible) {\n\tdisplay: none;\n}\n\n.monaco-split-view2.vertical > .monaco-scrollable-element > .split-view-container > .split-view-view {\n\twidth: 100%;\n}\n\n.monaco-split-view2.horizontal > .monaco-scrollable-element > .split-view-container > .split-view-view {\n\theight: 100%;\n}\n\n.monaco-split-view2.separator-border > .monaco-scrollable-element > .split-view-container > .split-view-view:not(:first-child)::before {\n\tcontent: ' ';\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\tz-index: 5;\n\tpointer-events: none;\n\tbackground-color: var(--separator-border);\n}\n\n.monaco-split-view2.separator-border.horizontal > .monaco-scrollable-element > .split-view-container > .split-view-view:not(:first-child)::before {\n\theight: 100%;\n\twidth: 1px;\n}\n\n.monaco-split-view2.separator-border.vertical > .monaco-scrollable-element > .split-view-container > .split-view-view:not(:first-child)::before {\n\theight: 1px;\n\twidth: 100%;\n}\n",""]);const y=r},1728:(Xe,we,e)=>{e.d(we,{Z:()=>y});var f=e(71451),r=e.n(f)()(function(v){return v[1]});r.push([Xe.id,'/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-table {\n\tdisplay: flex;\n\tflex-direction: column;\n\tposition: relative;\n\theight: 100%;\n\twidth: 100%;\n\twhite-space: nowrap;\n\toverflow: hidden;\n}\n\n.monaco-table > .monaco-split-view2 {\n\tborder-bottom: 1px solid transparent;\n}\n\n.monaco-table > .monaco-list {\n\tflex: 1;\n}\n\n.monaco-table-tr {\n\tdisplay: flex;\n\theight: 100%;\n}\n\n.monaco-table-th {\n\twidth: 100%;\n\theight: 100%;\n\tfont-weight: bold;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n}\n\n.monaco-table-th,\n.monaco-table-td {\n\tbox-sizing: border-box;\n\tflex-shrink: 0;\n\toverflow: hidden;\n\twhite-space: nowrap;\n\ttext-overflow: ellipsis;\n}\n\n.monaco-table > .monaco-split-view2 .monaco-sash.vertical::before {\n\tcontent: "";\n\tposition: absolute;\n\tleft: calc(var(--vscode-sash-size) / 2);\n\twidth: 0;\n\tborder-left: 1px solid transparent;\n}\n\n.monaco-workbench:not(.reduce-motion) .monaco-table > .monaco-split-view2,\n.monaco-workbench:not(.reduce-motion) .monaco-table > .monaco-split-view2 .monaco-sash.vertical::before {\n\ttransition: border-color 0.2s ease-out;\n}\n',""]);const y=r},16310:(Xe,we,e)=>{e.d(we,{Z:()=>y});var f=e(71451),r=e.n(f)()(function(v){return v[1]});r.push([Xe.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-custom-toggle {\n\tmargin-left: 2px;\n\tfloat: left;\n\tcursor: pointer;\n\toverflow: hidden;\n\twidth: 20px;\n\theight: 20px;\n\tborder-radius: 3px;\n\tborder: 1px solid transparent;\n\tpadding: 1px;\n\tbox-sizing:\tborder-box;\n\tuser-select: none;\n\t-webkit-user-select: none;\n}\n\n.monaco-custom-toggle:hover {\n\tbackground-color: var(--vscode-inputOption-hoverBackground);\n}\n\n.hc-black .monaco-custom-toggle:hover,\n.hc-light .monaco-custom-toggle:hover {\n\tborder: 1px dashed var(--vscode-focusBorder);\n}\n\n.hc-black .monaco-custom-toggle,\n.hc-light .monaco-custom-toggle {\n\tbackground: none;\n}\n\n.hc-black .monaco-custom-toggle:hover,\n.hc-light .monaco-custom-toggle:hover {\n\tbackground: none;\n}\n\n.monaco-custom-toggle.monaco-checkbox {\n\theight: 18px;\n\twidth: 18px;\n\tborder: 1px solid transparent;\n\tborder-radius: 3px;\n\tmargin-right: 9px;\n\tmargin-left: 0px;\n\tpadding: 0px;\n\topacity: 1;\n\tbackground-size: 16px !important;\n}\n\n/* hide check when unchecked */\n.monaco-custom-toggle.monaco-checkbox:not(.checked)::before {\n\tvisibility: hidden;\n}\n",""]);const y=r},56651:(Xe,we,e)=>{e.d(we,{Z:()=>y});var f=e(71451),r=e.n(f)()(function(v){return v[1]});r.push([Xe.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-toolbar {\n\theight: 100%;\n}\n\n.monaco-toolbar .toolbar-toggle-more {\n\tdisplay: inline-block;\n\tpadding: 0;\n}\n",""]);const y=r},61766:(Xe,we,e)=>{e.d(we,{Z:()=>y});var f=e(71451),r=e.n(f)()(function(v){return v[1]});r.push([Xe.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-tl-row {\n\tdisplay: flex;\n\theight: 100%;\n\talign-items: center;\n\tposition: relative;\n}\n\n.monaco-tl-row.disabled {\n\tcursor: default;\n}\n.monaco-tl-indent {\n\theight: 100%;\n\tposition: absolute;\n\ttop: 0;\n\tleft: 16px;\n\tpointer-events: none;\n}\n\n.hide-arrows .monaco-tl-indent {\n\tleft: 12px;\n}\n\n.monaco-tl-indent > .indent-guide {\n\tdisplay: inline-block;\n\tbox-sizing: border-box;\n\theight: 100%;\n\tborder-left: 1px solid transparent;\n}\n\n.monaco-workbench:not(.reduce-motion) .monaco-tl-indent > .indent-guide {\n\ttransition: border-color 0.1s linear;\n}\n\n.monaco-tl-twistie,\n.monaco-tl-contents {\n\theight: 100%;\n}\n\n.monaco-tl-twistie {\n\tfont-size: 10px;\n\ttext-align: right;\n\tpadding-right: 6px;\n\tflex-shrink: 0;\n\twidth: 16px;\n\tdisplay: flex !important;\n\talign-items: center;\n\tjustify-content: center;\n\ttransform: translateX(3px);\n}\n\n.monaco-tl-contents {\n\tflex: 1;\n\toverflow: hidden;\n}\n\n.monaco-tl-twistie::before {\n\tborder-radius: 20px;\n}\n\n.monaco-tl-twistie.collapsed::before {\n\ttransform: rotate(-90deg);\n}\n\n.monaco-tl-twistie.codicon-tree-item-loading::before {\n\t/* Use steps to throttle FPS to reduce CPU usage */\n\tanimation: codicon-spin 1.25s steps(30) infinite;\n}\n\n.monaco-tree-type-filter {\n\tposition: absolute;\n\ttop: 0;\n\tdisplay: flex;\n\tpadding: 3px;\n\tmax-width: 200px;\n\tz-index: 100;\n\tmargin: 0 6px;\n\tborder: 1px solid var(--vscode-widget-border);\n\tborder-bottom-left-radius: 4px;\n\tborder-bottom-right-radius: 4px;\n}\n\n.monaco-workbench:not(.reduce-motion) .monaco-tree-type-filter {\n\ttransition: top 0.3s;\n}\n\n.monaco-tree-type-filter.disabled {\n\ttop: -40px !important;\n}\n\n.monaco-tree-type-filter-grab {\n\tdisplay: flex !important;\n\talign-items: center;\n\tjustify-content: center;\n\tcursor: grab;\n\tmargin-right: 2px;\n}\n\n.monaco-tree-type-filter-grab.grabbing {\n\tcursor: grabbing;\n}\n\n.monaco-tree-type-filter-input {\n\tflex: 1;\n}\n\n.monaco-tree-type-filter-input .monaco-inputbox {\n\theight: 23px;\n}\n\n.monaco-tree-type-filter-input .monaco-inputbox > .ibwrapper > .input,\n.monaco-tree-type-filter-input .monaco-inputbox > .ibwrapper > .mirror {\n\tpadding: 2px 4px;\n}\n\n.monaco-tree-type-filter-input .monaco-findInput > .controls {\n\ttop: 2px;\n}\n\n.monaco-tree-type-filter-actionbar {\n\tmargin-left: 4px;\n}\n\n.monaco-tree-type-filter-actionbar .monaco-action-bar .action-label {\n\tpadding: 2px;\n}\n",""]);const y=r},40504:(Xe,we,e)=>{e.d(we,{Z:()=>y});var f=e(71451),r=e.n(f)()(function(v){return v[1]});r.push([Xe.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .inputarea {\n\tmin-width: 0;\n\tmin-height: 0;\n\tmargin: 0;\n\tpadding: 0;\n\tposition: absolute;\n\toutline: none !important;\n\tresize: none;\n\tborder: none;\n\toverflow: hidden;\n\tcolor: transparent;\n\tbackground-color: transparent;\n\tz-index: -10;\n}\n/*.monaco-editor .inputarea {\n\tposition: fixed !important;\n\twidth: 800px !important;\n\theight: 500px !important;\n\ttop: initial !important;\n\tleft: initial !important;\n\tbottom: 0 !important;\n\tright: 0 !important;\n\tcolor: black !important;\n\tbackground: white !important;\n\tline-height: 15px !important;\n\tfont-size: 14px !important;\n\tz-index: 10 !important;\n}*/\n.monaco-editor .inputarea.ime-input {\n\tz-index: 10;\n\tcaret-color: var(--vscode-editorCursor-foreground);\n\tcolor: var(--vscode-editor-foreground);\n}\n",""]);const y=r},29463:(Xe,we,e)=>{e.d(we,{Z:()=>y});var f=e(71451),r=e.n(f)()(function(v){return v[1]});r.push([Xe.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .blockDecorations-container {\n\tposition: absolute;\n\ttop: 0;\n\tpointer-events: none;\n}\n\n.monaco-editor .blockDecorations-block {\n\tposition: absolute;\n\tbox-sizing: border-box;\n}\n",""]);const y=r},91260:(Xe,we,e)=>{e.d(we,{Z:()=>y});var f=e(71451),r=e.n(f)()(function(v){return v[1]});r.push([Xe.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .view-overlays .current-line {\n\tdisplay: block;\n\tposition: absolute;\n\tleft: 0;\n\ttop: 0;\n\tbox-sizing: border-box;\n}\n\n.monaco-editor .margin-view-overlays .current-line {\n\tdisplay: block;\n\tposition: absolute;\n\tleft: 0;\n\ttop: 0;\n\tbox-sizing: border-box;\n}\n\n.monaco-editor .margin-view-overlays .current-line.current-line-margin.current-line-margin-both {\n\tborder-right: 0;\n}\n",""]);const y=r},71329:(Xe,we,e)=>{e.d(we,{Z:()=>y});var f=e(71451),r=e.n(f)()(function(v){return v[1]});r.push([Xe.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/*\n\tKeeping name short for faster parsing.\n\tcdr = core decorations rendering (div)\n*/\n.monaco-editor .lines-content .cdr {\n\tposition: absolute;\n}",""]);const y=r},64827:(Xe,we,e)=>{e.d(we,{Z:()=>y});var f=e(71451),r=e.n(f)()(function(v){return v[1]});r.push([Xe.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .glyph-margin {\n\tposition: absolute;\n\ttop: 0;\n}\n\n/*\n\tKeeping name short for faster parsing.\n\tcgmr = core glyph margin rendering (div)\n*/\n.monaco-editor .glyph-margin-widgets .cgmr {\n\tposition: absolute;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n\n/*\n\tEnsure spinning icons are pixel-perfectly centered and avoid wobble.\n\tThis is only applied to icons that spin to avoid unnecessary\n\tGPU layers and blurry subpixel AA.\n*/\n.monaco-editor .glyph-margin-widgets .cgmr.codicon-modifier-spin::before  {\n\tposition: absolute;\n\ttop: 50%;\n\tleft: 50%;\n\ttransform: translate(-50%, -50%);\n}\n",""]);const y=r},86848:(Xe,we,e)=>{e.d(we,{Z:()=>y});var f=e(71451),r=e.n(f)()(function(v){return v[1]});r.push([Xe.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .lines-content .core-guide {\n\tposition: absolute;\n\tbox-sizing: border-box;\n}\n",""]);const y=r},6184:(Xe,we,e)=>{e.d(we,{Z:()=>y});var f=e(71451),r=e.n(f)()(function(v){return v[1]});r.push([Xe.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .margin-view-overlays .line-numbers {\n\tfont-variant-numeric: tabular-nums;\n\tposition: absolute;\n\ttext-align: right;\n\tdisplay: inline-block;\n\tvertical-align: middle;\n\tbox-sizing: border-box;\n\tcursor: default;\n\theight: 100%;\n}\n\n.monaco-editor .relative-current-line-number {\n\ttext-align: left;\n\tdisplay: inline-block;\n\twidth: 100%;\n}\n\n.monaco-editor .margin-view-overlays .line-numbers.lh-odd {\n\tmargin-top: 1px;\n}\n\n.monaco-editor .line-numbers {\n\tcolor: var(--vscode-editorLineNumber-foreground);\n}\n\n.monaco-editor .line-numbers.active-line-number {\n\tcolor: var(--vscode-editorLineNumber-activeForeground);\n}\n",""]);const y=r},89565:(Xe,we,e)=>{e.d(we,{Z:()=>y});var f=e(71451),r=e.n(f)()(function(v){return v[1]});r.push([Xe.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/* Uncomment to see lines flashing when they're painted */\n/*.monaco-editor .view-lines > .view-line {\n\tbackground-color: none;\n\tanimation-name: flash-background;\n\tanimation-duration: 800ms;\n}\n@keyframes flash-background {\n\t0%   { background-color: lightgreen; }\n\t100% { background-color: none }\n}*/\n\n.mtkcontrol {\n\tcolor: rgb(255, 255, 255) !important;\n\tbackground: rgb(150, 0, 0) !important;\n}\n\n.mtkoverflow {\n\tbackground-color: var(--vscode-button-background, var(--vscode-editor-background));\n\tcolor: var(--vscode-button-foreground, var(--vscode-editor-foreground));\n\tborder-width: 1px;\n\tborder-style: solid;\n\tborder-color: var(--vscode-contrastBorder);\n\tborder-radius: 2px;\n\tpadding: 4px;\n\tcursor: pointer;\n}\n.mtkoverflow:hover {\n\tbackground-color: var(--vscode-button-hoverBackground);\n}\n\n.monaco-editor.no-user-select .lines-content,\n.monaco-editor.no-user-select .view-line,\n.monaco-editor.no-user-select .view-lines {\n\tuser-select: none;\n\t-webkit-user-select: none;\n}\n/* Use user-select: text for lookup feature on macOS */\n/* https://github.com/microsoft/vscode/issues/85632 */\n.monaco-editor.mac .lines-content:hover,\n.monaco-editor.mac .view-line:hover,\n.monaco-editor.mac .view-lines:hover {\n\tuser-select: text;\n\t-webkit-user-select: text;\n\t-ms-user-select: text;\n}\n\n.monaco-editor.enable-user-select {\n\tuser-select: initial;\n\t-webkit-user-select: initial;\n}\n\n.monaco-editor .view-lines {\n\twhite-space: nowrap;\n}\n\n.monaco-editor .view-line {\n\tposition: absolute;\n\twidth: 100%;\n}\n\n.monaco-editor .mtkw {\n\tcolor: var(--vscode-editorWhitespace-foreground) !important;\n}\n\n.monaco-editor .mtkz {\n\tdisplay: inline-block;\n\tcolor: var(--vscode-editorWhitespace-foreground) !important;\n}\n\n/* TODO@tokenization bootstrap fix */\n/*.monaco-editor .view-line > span > span {\n\tfloat: none;\n\tmin-height: inherit;\n\tmargin-left: inherit;\n}*/\n",""]);const y=r},74444:(Xe,we,e)=>{e.d(we,{Z:()=>y});var f=e(71451),r=e.n(f)()(function(v){return v[1]});r.push([Xe.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n.monaco-editor .lines-decorations {\n\tposition: absolute;\n\ttop: 0;\n\tbackground: white;\n}\n\n/*\n\tKeeping name short for faster parsing.\n\tcldr = core lines decorations rendering (div)\n*/\n.monaco-editor .margin-view-overlays .cldr {\n\tposition: absolute;\n\theight: 100%;\n}",""]);const y=r},11596:(Xe,we,e)=>{e.d(we,{Z:()=>y});var f=e(71451),r=e.n(f)()(function(v){return v[1]});r.push([Xe.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .margin {\n\tbackground-color: var(--vscode-editorGutter-background);\n}\n",""]);const y=r},29364:(Xe,we,e)=>{e.d(we,{Z:()=>y});var f=e(71451),r=e.n(f)()(function(v){return v[1]});r.push([Xe.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/*\n\tKeeping name short for faster parsing.\n\tcmdr = core margin decorations rendering (div)\n*/\n.monaco-editor .margin-view-overlays .cmdr {\n\tposition: absolute;\n\tleft: 0;\n\twidth: 100%;\n\theight: 100%;\n}",""]);const y=r},40563:(Xe,we,e)=>{e.d(we,{Z:()=>y});var f=e(71451),r=e.n(f)()(function(v){return v[1]});r.push([Xe.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/* START cover the case that slider is visible on mouseover */\n.monaco-editor .minimap.slider-mouseover .minimap-slider {\n\topacity: 0;\n\ttransition: opacity 100ms linear;\n}\n.monaco-editor .minimap.slider-mouseover:hover .minimap-slider {\n\topacity: 1;\n}\n.monaco-editor .minimap.slider-mouseover .minimap-slider.active {\n\topacity: 1;\n}\n/* END cover the case that slider is visible on mouseover */\n.monaco-editor .minimap-slider .minimap-slider-horizontal {\n\tbackground: var(--vscode-minimapSlider-background);\n}\n.monaco-editor .minimap-slider:hover .minimap-slider-horizontal {\n\tbackground: var(--vscode-minimapSlider-hoverBackground);\n}\n.monaco-editor .minimap-slider.active .minimap-slider-horizontal {\n\tbackground: var(--vscode-minimapSlider-activeBackground);\n}\n.monaco-editor .minimap-shadow-visible {\n\tbox-shadow: var(--vscode-scrollbar-shadow) -6px 0 6px -6px inset;\n}\n.monaco-editor .minimap-shadow-hidden {\n\tposition: absolute;\n\twidth: 0;\n}\n.monaco-editor .minimap-shadow-visible {\n\tposition: absolute;\n\tleft: -6px;\n\twidth: 6px;\n}\n.monaco-editor.no-minimap-shadow .minimap-shadow-visible {\n\tposition: absolute;\n\tleft: -1px;\n\twidth: 1px;\n}\n\n/* 0.5s fade in/out for the minimap */\n.minimap.autohide {\n\topacity: 0;\n\ttransition: opacity 0.5s;\n}\n.minimap.autohide:hover {\n\topacity: 1;\n}\n",""]);const y=r},59822:(Xe,we,e)=>{e.d(we,{Z:()=>y});var f=e(71451),r=e.n(f)()(function(v){return v[1]});r.push([Xe.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n.monaco-editor .overlayWidgets {\n\tposition: absolute;\n\ttop: 0;\n\tleft:0;\n}",""]);const y=r},29443:(Xe,we,e)=>{e.d(we,{Z:()=>y});var f=e(71451),r=e.n(f)()(function(v){return v[1]});r.push([Xe.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .view-ruler {\n\tposition: absolute;\n\ttop: 0;\n\tbox-shadow: 1px 0 0 0 var(--vscode-editorRuler-foreground) inset;\n}\n",""]);const y=r},39649:(Xe,we,e)=>{e.d(we,{Z:()=>y});var f=e(71451),r=e.n(f)()(function(v){return v[1]});r.push([Xe.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .scroll-decoration {\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\theight: 6px;\n\tbox-shadow: var(--vscode-scrollbar-shadow) 0 6px 6px -6px inset;\n}\n",""]);const y=r},52595:(Xe,we,e)=>{e.d(we,{Z:()=>y});var f=e(71451),r=e.n(f)()(function(v){return v[1]});r.push([Xe.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/*\n\tKeeping name short for faster parsing.\n\tcslr = core selections layer rendering (div)\n*/\n.monaco-editor .lines-content .cslr {\n\tposition: absolute;\n}\n\n.monaco-editor .focused .selected-text {\n\tbackground-color: var(--vscode-editor-selectionBackground);\n}\n\n.monaco-editor .selected-text {\n\tbackground-color: var(--vscode-editor-inactiveSelectionBackground);\n}\n\n.monaco-editor\t\t\t.top-left-radius\t\t{ border-top-left-radius: 3px; }\n.monaco-editor\t\t\t.bottom-left-radius\t\t{ border-bottom-left-radius: 3px; }\n.monaco-editor\t\t\t.top-right-radius\t\t{ border-top-right-radius: 3px; }\n.monaco-editor\t\t\t.bottom-right-radius\t{ border-bottom-right-radius: 3px; }\n\n.monaco-editor.hc-black .top-left-radius\t\t{ border-top-left-radius: 0; }\n.monaco-editor.hc-black .bottom-left-radius\t\t{ border-bottom-left-radius: 0; }\n.monaco-editor.hc-black .top-right-radius\t\t{ border-top-right-radius: 0; }\n.monaco-editor.hc-black .bottom-right-radius\t{ border-bottom-right-radius: 0; }\n\n.monaco-editor.hc-light .top-left-radius\t\t{ border-top-left-radius: 0; }\n.monaco-editor.hc-light .bottom-left-radius\t\t{ border-bottom-left-radius: 0; }\n.monaco-editor.hc-light .top-right-radius\t\t{ border-top-right-radius: 0; }\n.monaco-editor.hc-light .bottom-right-radius\t{ border-bottom-right-radius: 0; }\n",""]);const y=r},4057:(Xe,we,e)=>{e.d(we,{Z:()=>y});var f=e(71451),r=e.n(f)()(function(v){return v[1]});r.push([Xe.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n.monaco-editor .cursors-layer {\n\tposition: absolute;\n\ttop: 0;\n}\n\n.monaco-editor .cursors-layer > .cursor {\n\tposition: absolute;\n\toverflow: hidden;\n\tbox-sizing: border-box;\n}\n\n/* -- smooth-caret-animation -- */\n.monaco-editor .cursors-layer.cursor-smooth-caret-animation > .cursor {\n\ttransition: all 80ms;\n}\n\n/* -- block-outline-style -- */\n.monaco-editor .cursors-layer.cursor-block-outline-style > .cursor {\n\tbackground: transparent !important;\n\tborder-style: solid;\n\tborder-width: 1px;\n}\n\n/* -- underline-style -- */\n.monaco-editor .cursors-layer.cursor-underline-style > .cursor {\n\tborder-bottom-width: 2px;\n\tborder-bottom-style: solid;\n\tbackground: transparent !important;\n}\n\n/* -- underline-thin-style -- */\n.monaco-editor .cursors-layer.cursor-underline-thin-style > .cursor {\n\tborder-bottom-width: 1px;\n\tborder-bottom-style: solid;\n\tbackground: transparent !important;\n}\n\n@keyframes monaco-cursor-smooth {\n\t0%,\n\t20% {\n\t\topacity: 1;\n\t}\n\t60%,\n\t100% {\n\t\topacity: 0;\n\t}\n}\n\n@keyframes monaco-cursor-phase {\n\t0%,\n\t20% {\n\t\topacity: 1;\n\t}\n\t90%,\n\t100% {\n\t\topacity: 0;\n\t}\n}\n\n@keyframes monaco-cursor-expand {\n\t0%,\n\t20% {\n\t\ttransform: scaleY(1);\n\t}\n\t80%,\n\t100% {\n\t\ttransform: scaleY(0);\n\t}\n}\n\n.cursor-smooth {\n\tanimation: monaco-cursor-smooth 0.5s ease-in-out 0s 20 alternate;\n}\n\n.cursor-phase {\n\tanimation: monaco-cursor-phase 0.5s ease-in-out 0s 20 alternate;\n}\n\n.cursor-expand > .cursor {\n\tanimation: monaco-cursor-expand 0.5s ease-in-out 0s 20 alternate;\n}\n",""]);const y=r},19991:(Xe,we,e)=>{e.d(we,{Z:()=>y});var f=e(71451),r=e.n(f)()(function(v){return v[1]});r.push([Xe.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .mwh {\n\tposition: absolute;\n\tcolor: var(--vscode-editorWhitespace-foreground) !important;\n}\n",""]);const y=r},30184:(Xe,we,e)=>{e.d(we,{Z:()=>y});var f=e(71451),r=e.n(f)()(function(v){return v[1]});r.push([Xe.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .diff-hidden-lines-widget {\n\twidth: 100%;\n}\n\n.monaco-editor .diff-hidden-lines {\n\theight: 0px; /* The children each have a fixed height, the transform confuses the browser */\n\ttransform: translate(0px, -10px);\n\tfont-size: 13px;\n\tline-height: 14px;\n}\n\n.monaco-editor .diff-hidden-lines:not(.dragging) .top:hover,\n.monaco-editor .diff-hidden-lines:not(.dragging) .bottom:hover,\n.monaco-editor .diff-hidden-lines .top.dragging,\n.monaco-editor .diff-hidden-lines .bottom.dragging {\n\tbackground-color: var(--vscode-focusBorder);\n}\n\n.monaco-editor .diff-hidden-lines .top,\n.monaco-editor .diff-hidden-lines .bottom {\n\ttransition: background-color 0.1s ease-out;\n\theight: 4px;\n\tbackground-color: transparent;\n\tbackground-clip: padding-box;\n\tborder-bottom: 2px solid transparent;\n\tborder-top: 4px solid transparent;\n\tcursor: ns-resize;\n}\n\n.monaco-editor .diff-hidden-lines .top {\n\ttransform: translate(0px, 4px);\n}\n\n.monaco-editor .diff-hidden-lines .bottom {\n\ttransform: translate(0px, -6px);\n}\n\n.monaco-editor .diff-unchanged-lines {\n\tbackground: var(--vscode-diffEditor-unchangedCodeBackground);\n}\n\n.monaco-editor .noModificationsOverlay {\n\tz-index: 1;\n\tbackground: var(--vscode-editor-background);\n\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n}\n\n\n.monaco-editor .diff-hidden-lines .center {\n\tbackground: var(--vscode-diffEditor-unchangedRegionBackground);\n\tcolor: var(--vscode-diffEditor-unchangedRegionForeground);\n\toverflow: hidden;\n\tdisplay: block;\n\ttext-overflow: ellipsis;\n\twhite-space: nowrap;\n\n\theight: 24px;\n}\n\n.monaco-editor .diff-hidden-lines .center span.codicon {\n\tvertical-align: middle;\n}\n\n.monaco-editor .diff-hidden-lines .center a:hover .codicon {\n\tcursor: pointer;\n\tcolor: var(--vscode-editorLink-activeForeground) !important;\n}\n\n.monaco-editor .diff-hidden-lines div.breadcrumb-item {\n\tcursor: pointer;\n}\n\n.monaco-editor .diff-hidden-lines div.breadcrumb-item:hover {\n\tcolor: var(--vscode-editorLink-activeForeground);\n}\n\n.monaco-editor .movedOriginal {\n\tborder: 2px solid var(--vscode-diffEditor-move-border);\n}\n\n.monaco-editor .movedModified {\n\tborder: 2px solid var(--vscode-diffEditor-move-border);\n}\n\n.monaco-editor .movedOriginal.currentMove, .monaco-editor .movedModified.currentMove {\n\tborder: 2px solid var(--vscode-diffEditor-moveActive-border);\n}\n\n.monaco-diff-editor .moved-blocks-lines path.currentMove {\n\tstroke: var(--vscode-diffEditor-moveActive-border);\n}\n\n.monaco-diff-editor .moved-blocks-lines path {\n\tpointer-events: visiblestroke;\n}\n\n.monaco-diff-editor .moved-blocks-lines .arrow {\n\tfill: var(--vscode-diffEditor-move-border);\n}\n\n.monaco-diff-editor .moved-blocks-lines .arrow.currentMove {\n\tfill: var(--vscode-diffEditor-moveActive-border);\n}\n\n.monaco-diff-editor .moved-blocks-lines .arrow-rectangle {\n\tfill: var(--vscode-editor-background);\n}\n\n.monaco-diff-editor .moved-blocks-lines {\n\tposition: absolute;\n\tpointer-events: none;\n}\n\n.monaco-diff-editor .moved-blocks-lines path {\n\tfill: none;\n\tstroke: var(--vscode-diffEditor-move-border);\n\tstroke-width: 2;\n}\n\n.monaco-editor .char-delete.diff-range-empty {\n\tmargin-left: -1px;\n\tborder-left: solid var(--vscode-diffEditor-removedTextBackground) 3px;\n}\n\n.monaco-editor .char-insert.diff-range-empty {\n\tborder-left: solid var(--vscode-diffEditor-insertedTextBackground) 3px;\n}\n\n.monaco-editor .fold-unchanged {\n\tcursor: pointer;\n}\n\n.monaco-diff-editor .diff-moved-code-block {\n\tdisplay: flex;\n\tjustify-content: flex-end;\n\tmargin-top: -4px;\n}\n\n.monaco-diff-editor .diff-moved-code-block .action-bar .action-label.codicon {\n\twidth: 12px;\n\theight: 12px;\n\tfont-size: 12px;\n}\n",""]);const y=r},22360:(Xe,we,e)=>{e.d(we,{Z:()=>y});var f=e(71451),r=e.n(f)()(function(v){return v[1]});r.push([Xe.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n/* ---------- DiffEditor ---------- */\n\n.monaco-diff-editor .diffOverview {\n\tz-index: 9;\n}\n\n.monaco-diff-editor .diffOverview .diffViewport {\n\tz-index: 10;\n}\n\n/* colors not externalized: using transparancy on background */\n.monaco-diff-editor.vs\t\t\t.diffOverview { background: rgba(0, 0, 0, 0.03); }\n.monaco-diff-editor.vs-dark\t\t.diffOverview { background: rgba(255, 255, 255, 0.01); }\n\n.monaco-scrollable-element.modified-in-monaco-diff-editor.vs\t\t.scrollbar { background: rgba(0,0,0,0); }\n.monaco-scrollable-element.modified-in-monaco-diff-editor.vs-dark\t.scrollbar { background: rgba(0,0,0,0); }\n.monaco-scrollable-element.modified-in-monaco-diff-editor.hc-black\t.scrollbar { background: none; }\n.monaco-scrollable-element.modified-in-monaco-diff-editor.hc-light\t.scrollbar { background: none; }\n\n.monaco-scrollable-element.modified-in-monaco-diff-editor .slider {\n\tz-index: 10;\n}\n.modified-in-monaco-diff-editor\t\t\t\t.slider.active { background: rgba(171, 171, 171, .4); }\n.modified-in-monaco-diff-editor.hc-black\t.slider.active { background: none; }\n.modified-in-monaco-diff-editor.hc-light\t.slider.active { background: none; }\n\n/* ---------- Diff ---------- */\n\n.monaco-editor .insert-sign,\n.monaco-diff-editor .insert-sign,\n.monaco-editor .delete-sign,\n.monaco-diff-editor .delete-sign {\n\tfont-size: 11px !important;\n\topacity: 0.7 !important;\n\tdisplay: flex !important;\n\talign-items: center;\n}\n.monaco-editor.hc-black .insert-sign,\n.monaco-diff-editor.hc-black .insert-sign,\n.monaco-editor.hc-black .delete-sign,\n.monaco-diff-editor.hc-black .delete-sign,\n.monaco-editor.hc-light .insert-sign,\n.monaco-diff-editor.hc-light .insert-sign,\n.monaco-editor.hc-light .delete-sign,\n.monaco-diff-editor.hc-light .delete-sign {\n\topacity: 1;\n}\n\n.monaco-editor .inline-deleted-margin-view-zone {\n\ttext-align: right;\n}\n.monaco-editor .inline-added-margin-view-zone {\n\ttext-align: right;\n}\n\n.monaco-editor .arrow-revert-change {\n\tz-index: 10;\n\tposition: absolute;\n}\n\n.monaco-editor .arrow-revert-change:hover {\n\tcursor: pointer;\n}\n\n/* ---------- Inline Diff ---------- */\n\n.monaco-editor .view-zones .view-lines .view-line span {\n\tdisplay: inline-block;\n}\n\n.monaco-editor .margin-view-zones .lightbulb-glyph:hover {\n\tcursor: pointer;\n}\n\n.monaco-editor .char-insert, .monaco-diff-editor .char-insert {\n\tbackground-color: var(--vscode-diffEditor-insertedTextBackground);\n}\n\n.monaco-editor .line-insert, .monaco-diff-editor .line-insert {\n\tbackground-color: var(--vscode-diffEditor-insertedLineBackground, var(--vscode-diffEditor-insertedTextBackground));\n}\n\n.monaco-editor .line-insert,\n.monaco-editor .char-insert {\n\tbox-sizing: border-box;\n\tborder: 1px solid var(--vscode-diffEditor-insertedTextBorder);\n}\n.monaco-editor.hc-black .line-insert, .monaco-editor.hc-light .line-insert,\n.monaco-editor.hc-black .char-insert, .monaco-editor.hc-light .char-insert {\n\tborder-style: dashed;\n}\n\n.monaco-editor .line-delete,\n.monaco-editor .char-delete {\n\tbox-sizing: border-box;\n\tborder: 1px solid var(--vscode-diffEditor-removedTextBorder);\n}\n.monaco-editor.hc-black .line-delete, .monaco-editor.hc-light .line-delete,\n.monaco-editor.hc-black .char-delete, .monaco-editor.hc-light .char-delete {\n\tborder-style: dashed;\n}\n\n.monaco-editor .inline-added-margin-view-zone,\n.monaco-editor .gutter-insert, .monaco-diff-editor .gutter-insert {\n\tbackground-color: var(--vscode-diffEditorGutter-insertedLineBackground, var(--vscode-diffEditor-insertedLineBackground), var(--vscode-diffEditor-insertedTextBackground));\n}\n\n.monaco-editor .char-delete, .monaco-diff-editor .char-delete {\n\tbackground-color: var(--vscode-diffEditor-removedTextBackground);\n}\n\n.monaco-editor .line-delete, .monaco-diff-editor .line-delete {\n\tbackground-color: var(--vscode-diffEditor-removedLineBackground, var(--vscode-diffEditor-removedTextBackground));\n}\n\n.monaco-editor .inline-deleted-margin-view-zone,\n.monaco-editor .gutter-delete, .monaco-diff-editor .gutter-delete {\n\tbackground-color: var(--vscode-diffEditorGutter-removedLineBackground, var(--vscode-diffEditor-removedLineBackground), var(--vscode-diffEditor-removedTextBackground));\n}\n\n.monaco-diff-editor.side-by-side .editor.modified {\n\tbox-shadow: -6px 0 5px -5px var(--vscode-scrollbar-shadow);\n\tborder-left: 1px solid var(--vscode-diffEditor-border);\n}\n\n.monaco-diff-editor .diffViewport {\n\tbackground: var(--vscode-scrollbarSlider-background);\n}\n\n.monaco-diff-editor .diffViewport:hover {\n\tbackground: var(--vscode-scrollbarSlider-hoverBackground);\n}\n\n.monaco-diff-editor .diffViewport:active {\n\tbackground: var(--vscode-scrollbarSlider-activeBackground);\n}\n",""]);const y=r},34504:(Xe,we,e)=>{e.d(we,{Z:()=>y});var f=e(71451),r=e.n(f)()(function(v){return v[1]});r.push([Xe.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-diff-editor .diff-review-line-number {\n\ttext-align: right;\n\tdisplay: inline-block;\n\tcolor: var(--vscode-editorLineNumber-foreground);\n}\n\n.monaco-diff-editor .diff-review {\n\tposition: absolute;\n\tuser-select: none;\n\t-webkit-user-select: none;\n\tz-index: 99;\n}\n\n.monaco-diff-editor .diff-review-summary {\n\tpadding-left: 10px;\n}\n\n.monaco-diff-editor .diff-review-shadow {\n\tposition: absolute;\n\tbox-shadow: var(--vscode-scrollbar-shadow) 0 -6px 6px -6px inset;\n}\n\n.monaco-diff-editor .diff-review-row {\n\twhite-space: pre;\n}\n\n.monaco-diff-editor .diff-review-table {\n\tdisplay: table;\n\tmin-width: 100%;\n}\n\n.monaco-diff-editor .diff-review-row {\n\tdisplay: table-row;\n\twidth: 100%;\n}\n\n.monaco-diff-editor .diff-review-spacer {\n\tdisplay: inline-block;\n\twidth: 10px;\n\tvertical-align: middle;\n}\n\n.monaco-diff-editor .diff-review-spacer > .codicon {\n\tfont-size: 9px !important;\n}\n\n.monaco-diff-editor .diff-review-actions {\n\tdisplay: inline-block;\n\tposition: absolute;\n\tright: 10px;\n\ttop: 2px;\n\tz-index: 100;\n}\n\n.monaco-diff-editor .diff-review-actions .action-label {\n\twidth: 16px;\n\theight: 16px;\n\tmargin: 2px 0;\n}\n",""]);const y=r},97337:(Xe,we,e)=>{e.d(we,{Z:()=>y});var f=e(71451),r=e.n(f)()(function(v){return v[1]});r.push([Xe.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/* -------------------- IE10 remove auto clear button -------------------- */\n\n::-ms-clear {\n\tdisplay: none;\n}\n\n/* All widgets */\n/* I am not a big fan of this rule */\n.monaco-editor .editor-widget input {\n\tcolor: inherit;\n}\n\n/* -------------------- Editor -------------------- */\n\n.monaco-editor {\n\tposition: relative;\n\toverflow: visible;\n\t-webkit-text-size-adjust: 100%;\n\tcolor: var(--vscode-editor-foreground);\n\tbackground-color: var(--vscode-editor-background);\n}\n.monaco-editor-background {\n\tbackground-color: var(--vscode-editor-background);\n}\n.monaco-editor .rangeHighlight {\n\tbackground-color: var(--vscode-editor-rangeHighlightBackground);\n\tbox-sizing: border-box;\n\tborder: 1px solid var(--vscode-editor-rangeHighlightBorder);\n}\n.monaco-editor.hc-black .rangeHighlight, .monaco-editor.hc-light .rangeHighlight {\n\tborder-style: dotted;\n}\n.monaco-editor .symbolHighlight {\n\tbackground-color: var(--vscode-editor-symbolHighlightBackground);\n\tbox-sizing: border-box;\n\tborder: 1px solid var(--vscode-editor-symbolHighlightBorder);\n}\n.monaco-editor.hc-black .symbolHighlight, .monaco-editor.hc-light .symbolHighlight {\n\tborder-style: dotted;\n}\n\n/* -------------------- Misc -------------------- */\n\n.monaco-editor .overflow-guard {\n\tposition: relative;\n\toverflow: hidden;\n}\n\n.monaco-editor .view-overlays {\n\tposition: absolute;\n\ttop: 0;\n}\n\n/*\n.monaco-editor .auto-closed-character {\n\topacity: 0.3;\n}\n*/\n\n\n.monaco-editor .squiggly-error {\n\tborder-bottom: 4px double var(--vscode-editorError-border);\n}\n.monaco-editor .squiggly-error::before {\n\tdisplay: block;\n\tcontent: '';\n\twidth: 100%;\n\theight: 100%;\n\tbackground: var(--vscode-editorError-background);\n}\n.monaco-editor .squiggly-warning {\n\tborder-bottom: 4px double var(--vscode-editorWarning-border);\n}\n.monaco-editor .squiggly-warning::before {\n\tdisplay: block;\n\tcontent: '';\n\twidth: 100%;\n\theight: 100%;\n\tbackground: var(--vscode-editorWarning-background);\n}\n.monaco-editor .squiggly-info {\n\tborder-bottom: 4px double var(--vscode-editorInfo-border);\n}\n.monaco-editor .squiggly-info::before {\n\tdisplay: block;\n\tcontent: '';\n\twidth: 100%;\n\theight: 100%;\n\tbackground: var(--vscode-editorInfo-background);\n}\n.monaco-editor .squiggly-hint {\n\tborder-bottom: 2px dotted var(--vscode-editorHint-border);\n}\n.monaco-editor.showUnused .squiggly-unnecessary {\n\tborder-bottom: 2px dashed var(--vscode-editorUnnecessaryCode-border);\n}\n.monaco-editor.showDeprecated .squiggly-inline-deprecated {\n\ttext-decoration: line-through;\n\ttext-decoration-color: var(--vscode-editor-foreground, inherit);\n}\n",""]);const y=r},34055:(Xe,we,e)=>{e.d(we,{Z:()=>y});var f=e(71451),r=e.n(f)()(function(v){return v[1]});r.push([Xe.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .selection-anchor {\n\tbackground-color: #007ACC;\n\twidth: 2px !important;\n}\n",""]);const y=r},12205:(Xe,we,e)=>{e.d(we,{Z:()=>y});var f=e(71451),r=e.n(f)()(function(v){return v[1]});r.push([Xe.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .bracket-match {\n\tbox-sizing: border-box;\n\tbackground-color: var(--vscode-editorBracketMatch-background);\n\tborder: 1px solid var(--vscode-editorBracketMatch-border);\n}\n",""]);const y=r},32874:(Xe,we,e)=>{e.d(we,{Z:()=>y});var f=e(71451),r=e.n(f)()(function(v){return v[1]});r.push([Xe.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .lightBulbWidget {\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n\n.monaco-editor .lightBulbWidget:hover{\n\tcursor: pointer;\n}\n\n.monaco-editor .lightBulbWidget.codicon-light-bulb {\n\tcolor: var(--vscode-editorLightBulb-foreground);\n}\n\n.monaco-editor .lightBulbWidget.codicon-lightbulb-autofix {\n\tcolor: var(--vscode-editorLightBulbAutoFix-foreground, var(--vscode-editorLightBulb-foreground));\n}\n\n.monaco-editor .lightBulbWidget:before {\n\tposition: relative;\n\tz-index: 2;\n}\n\n.monaco-editor .lightBulbWidget:after {\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\tcontent: '';\n\tdisplay: block;\n\twidth: 100%;\n\theight: 100%;\n\topacity: 0.3;\n\tbackground-color: var(--vscode-editor-background);\n\tz-index: 1;\n}\n",""]);const y=r},32849:(Xe,we,e)=>{e.d(we,{Z:()=>y});var f=e(71451),r=e.n(f)()(function(v){return v[1]});r.push([Xe.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .codelens-decoration {\n\toverflow: hidden;\n\tdisplay: inline-block;\n\ttext-overflow: ellipsis;\n\twhite-space: nowrap;\n\tcolor: var(--vscode-editorCodeLens-foreground);\n\tline-height: var(--vscode-editorCodeLens-lineHeight);\n\tfont-size: var(--vscode-editorCodeLens-fontSize);\n\tpadding-right: calc(var(--vscode-editorCodeLens-fontSize)*0.5);\n\tfont-feature-settings: var(--vscode-editorCodeLens-fontFeatureSettings);\n\tfont-family: var(--vscode-editorCodeLens-fontFamily), var(--vscode-editorCodeLens-fontFamilyDefault);\n}\n\n.monaco-editor .codelens-decoration>span,\n.monaco-editor .codelens-decoration>a {\n\tuser-select: none;\n\t-webkit-user-select: none;\n\twhite-space: nowrap;\n\tvertical-align: sub;\n}\n\n.monaco-editor .codelens-decoration>a {\n\ttext-decoration: none;\n}\n\n.monaco-editor .codelens-decoration>a:hover {\n\tcursor: pointer;\n\tcolor: var(--vscode-editorLink-activeForeground) !important;\n}\n\n.monaco-editor .codelens-decoration>a:hover .codicon {\n\tcolor: var(--vscode-editorLink-activeForeground) !important;\n}\n\n.monaco-editor .codelens-decoration .codicon {\n\tvertical-align: middle;\n\tcolor: currentColor !important;\n\tcolor: var(--vscode-editorCodeLens-foreground);\n\tline-height: var(--vscode-editorCodeLens-lineHeight);\n\tfont-size: var(--vscode-editorCodeLens-fontSize);\n}\n\n.monaco-editor .codelens-decoration>a:hover .codicon::before {\n\tcursor: pointer;\n}\n\n@keyframes fadein {\n\t0% {\n\t\topacity: 0;\n\t\tvisibility: visible;\n\t}\n\n\t100% {\n\t\topacity: 1;\n\t}\n}\n\n.monaco-editor .codelens-decoration.fadein {\n\tanimation: fadein 0.1s linear;\n}\n",""]);const y=r},22313:(Xe,we,e)=>{e.d(we,{Z:()=>y});var f=e(71451),r=e.n(f)()(function(v){return v[1]});r.push([Xe.id,'/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.colorpicker-widget {\n\theight: 190px;\n\tuser-select: none;\n\t-webkit-user-select: none;\n}\n\n/* Decoration */\n\n.colorpicker-color-decoration,\n.hc-light .colorpicker-color-decoration {\n\tborder: solid 0.1em #000;\n\tbox-sizing: border-box;\n\tmargin: 0.1em 0.2em 0 0.2em;\n\twidth: 0.8em;\n\theight: 0.8em;\n\tline-height: 0.8em;\n\tdisplay: inline-block;\n\tcursor: pointer;\n}\n\n.hc-black .colorpicker-color-decoration,\n.vs-dark .colorpicker-color-decoration {\n\tborder: solid 0.1em #eee;\n}\n\n/* Header */\n\n.colorpicker-header {\n\tdisplay: flex;\n\theight: 24px;\n\tposition: relative;\n\tbackground: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAYAAACp8Z5+AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMTZEaa/1AAAAHUlEQVQYV2PYvXu3JAi7uLiAMaYAjAGTQBPYLQkAa/0Zef3qRswAAAAASUVORK5CYII=");\n\tbackground-size: 9px 9px;\n\timage-rendering: pixelated;\n}\n\n.colorpicker-header .picked-color {\n\twidth: 240px;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tline-height: 24px;\n\tcursor: pointer;\n\tcolor: white;\n\tflex: 1;\n\twhite-space: nowrap;\n\toverflow: hidden;\n}\n\n.colorpicker-header .picked-color .picked-color-presentation {\n\twhite-space: nowrap;\n\tmargin-left: 5px;\n\tmargin-right: 5px;\n}\n\n.colorpicker-header .picked-color .codicon {\n\tcolor: inherit;\n\tfont-size: 14px;\n}\n\n.colorpicker-header .picked-color.light {\n\tcolor: black;\n}\n\n.colorpicker-header .original-color {\n\twidth: 74px;\n\tz-index: inherit;\n\tcursor: pointer;\n}\n\n.standalone-colorpicker {\n\tcolor: var(--vscode-editorHoverWidget-foreground);\n\tbackground-color: var(--vscode-editorHoverWidget-background);\n\tborder: 1px solid var(--vscode-editorHoverWidget-border);\n}\n\n.colorpicker-header.standalone-colorpicker {\n\tborder-bottom: none;\n}\n\n.colorpicker-header .close-button {\n\tcursor: pointer;\n\tbackground-color: var(--vscode-editorHoverWidget-background);\n\tborder-left: 1px solid var(--vscode-editorHoverWidget-border);\n}\n\n.colorpicker-header .close-button-inner-div {\n\twidth: 100%;\n\theight: 100%;\n\ttext-align: center;\n}\n\n.colorpicker-header .close-button-inner-div:hover {\n\tbackground-color: var(--vscode-toolbar-hoverBackground);\n}\n\n.colorpicker-header .close-icon {\n\tpadding: 3px;\n}\n\n/* Body */\n\n.colorpicker-body {\n\tdisplay: flex;\n\tpadding: 8px;\n\tposition: relative;\n}\n\n.colorpicker-body .saturation-wrap {\n\toverflow: hidden;\n\theight: 150px;\n\tposition: relative;\n\tmin-width: 220px;\n\tflex: 1;\n}\n\n.colorpicker-body .saturation-box {\n\theight: 150px;\n\tposition: absolute;\n}\n\n.colorpicker-body .saturation-selection {\n\twidth: 9px;\n\theight: 9px;\n\tmargin: -5px 0 0 -5px;\n\tborder: 1px solid rgb(255, 255, 255);\n\tborder-radius: 100%;\n\tbox-shadow: 0px 0px 2px rgba(0, 0, 0, 0.8);\n\tposition: absolute;\n}\n\n.colorpicker-body .strip {\n\twidth: 25px;\n\theight: 150px;\n}\n\n.colorpicker-body .standalone-strip {\n\twidth: 25px;\n\theight: 122px;\n}\n\n.colorpicker-body .hue-strip {\n\tposition: relative;\n\tmargin-left: 8px;\n\tcursor: grab;\n\tbackground: linear-gradient(to bottom, #ff0000 0%, #ffff00 17%, #00ff00 33%, #00ffff 50%, #0000ff 67%, #ff00ff 83%, #ff0000 100%);\n}\n\n.colorpicker-body .opacity-strip {\n\tposition: relative;\n\tmargin-left: 8px;\n\tcursor: grab;\n\tbackground: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAYAAACp8Z5+AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMTZEaa/1AAAAHUlEQVQYV2PYvXu3JAi7uLiAMaYAjAGTQBPYLQkAa/0Zef3qRswAAAAASUVORK5CYII=");\n\tbackground-size: 9px 9px;\n\timage-rendering: pixelated;\n}\n\n.colorpicker-body .strip.grabbing {\n\tcursor: grabbing;\n}\n\n.colorpicker-body .slider {\n\tposition: absolute;\n\ttop: 0;\n\tleft: -2px;\n\twidth: calc(100% + 4px);\n\theight: 4px;\n\tbox-sizing: border-box;\n\tborder: 1px solid rgba(255, 255, 255, 0.71);\n\tbox-shadow: 0px 0px 1px rgba(0, 0, 0, 0.85);\n}\n\n.colorpicker-body .strip .overlay {\n\theight: 150px;\n\tpointer-events: none;\n}\n\n.colorpicker-body .standalone-strip .standalone-overlay {\n\theight: 122px;\n\tpointer-events: none;\n}\n\n.standalone-colorpicker-body {\n\tdisplay: block;\n\tborder: 1px solid transparent;\n\tborder-bottom: 1px solid var(--vscode-editorHoverWidget-border);\n\toverflow: hidden;\n}\n\n.colorpicker-body .insert-button {\n\tposition: absolute;\n\theight: 20px;\n\twidth: 58px;\n\tpadding: 0px;\n\tright: 8px;\n\tbottom: 8px;\n\tbackground: var(--vscode-button-background);\n\tcolor: var(--vscode-button-foreground);\n\tborder-radius: 2px;\n\tborder: none;\n\tcursor: pointer;\n}\n\n.colorpicker-body .insert-button:hover{\n\tbackground: var(--vscode-button-hoverBackground);\n}\n',""]);const y=r},97070:(Xe,we,e)=>{e.d(we,{Z:()=>y});var f=e(71451),r=e.n(f)()(function(v){return v[1]});r.push([Xe.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor.vs .dnd-target,\n.monaco-editor.hc-light .dnd-target {\n\tborder-right: 2px dotted black;\n\tcolor: white; /* opposite of black */\n}\n.monaco-editor.vs-dark .dnd-target {\n\tborder-right: 2px dotted #AEAFAD;\n\tcolor: #51504f; /* opposite of #AEAFAD */\n}\n.monaco-editor.hc-black .dnd-target {\n\tborder-right: 2px dotted #fff;\n\tcolor: #000; /* opposite of #fff */\n}\n\n.monaco-editor.mouse-default .view-lines,\n.monaco-editor.vs-dark.mac.mouse-default .view-lines,\n.monaco-editor.hc-black.mac.mouse-default .view-lines,\n.monaco-editor.hc-light.mac.mouse-default .view-lines {\n\tcursor: default;\n}\n.monaco-editor.mouse-copy .view-lines,\n.monaco-editor.vs-dark.mac.mouse-copy .view-lines,\n.monaco-editor.hc-black.mac.mouse-copy .view-lines,\n.monaco-editor.hc-light.mac.mouse-copy .view-lines {\n\tcursor: copy;\n}\n",""]);const y=r},33399:(Xe,we,e)=>{e.d(we,{Z:()=>y});var f=e(71451),r=e.n(f)()(function(v){return v[1]});r.push([Xe.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.post-edit-widget {\n\tbox-shadow: 0 0 8px 2px var(--vscode-widget-shadow);\n\tborder: 1px solid var(--vscode-widget-border, transparent);\n\tborder-radius: 4px;\n\tbackground-color: var(--vscode-editorWidget-background);\n\toverflow: hidden;\n}\n\n.post-edit-widget .monaco-button {\n\tpadding: 2px;\n\tborder: none;\n\tborder-radius: 0;\n}\n\n.post-edit-widget .monaco-button:hover {\n\tbackground-color: var(--vscode-button-secondaryHoverBackground) !important;\n}\n\n.post-edit-widget .monaco-button .codicon {\n\tmargin: 0;\n}\n",""]);const y=r},68875:(Xe,we,e)=>{e.d(we,{Z:()=>y});var f=e(71451),r=e.n(f)()(function(v){return v[1]});r.push([Xe.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .findOptionsWidget {\n\tbackground-color: var(--vscode-editorWidget-background);\n\tcolor: var(--vscode-editorWidget-foreground);\n\tbox-shadow: 0 0 8px 2px var(--vscode-widget-shadow);\n\tborder: 2px solid var(--vscode-contrastBorder);\n}\n",""]);const y=r},56950:(Xe,we,e)=>{e.d(we,{Z:()=>y});var f=e(71451),r=e.n(f)()(function(v){return v[1]});r.push([Xe.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/* Find widget */\n.monaco-editor .find-widget {\n\tposition: absolute;\n\tz-index: 35;\n\theight: 33px;\n\toverflow: hidden;\n\tline-height: 19px;\n\ttransition: transform 200ms linear;\n\tpadding: 0 4px;\n\tbox-sizing: border-box;\n\ttransform: translateY(calc(-100% - 10px)); /* shadow (10px) */\n\tborder-bottom-left-radius: 4px;\n\tborder-bottom-right-radius: 4px;\n}\n\n.monaco-workbench.reduce-motion .monaco-editor .find-widget {\n\ttransition: transform 0ms linear;\n}\n\n.monaco-editor .find-widget textarea {\n\tmargin: 0px;\n}\n\n.monaco-editor .find-widget.hiddenEditor {\n\tdisplay: none;\n}\n\n/* Find widget when replace is toggled on */\n.monaco-editor .find-widget.replaceToggled > .replace-part {\n\tdisplay: flex;\n}\n\n.monaco-editor .find-widget.visible  {\n\ttransform: translateY(0);\n}\n\n.monaco-editor .find-widget .monaco-inputbox.synthetic-focus {\n\toutline: 1px solid -webkit-focus-ring-color;\n\toutline-offset: -1px;\n}\n\n.monaco-editor .find-widget .monaco-inputbox .input {\n\tbackground-color: transparent;\n\tmin-height: 0;\n}\n\n.monaco-editor .find-widget .monaco-findInput .input {\n\tfont-size: 13px;\n}\n\n.monaco-editor .find-widget > .find-part,\n.monaco-editor .find-widget > .replace-part {\n\tmargin: 3px 25px 0 17px;\n\tfont-size: 12px;\n\tdisplay: flex;\n}\n\n.monaco-editor .find-widget > .find-part .monaco-inputbox,\n.monaco-editor .find-widget > .replace-part .monaco-inputbox {\n\tmin-height: 25px;\n}\n\n\n.monaco-editor .find-widget > .replace-part .monaco-inputbox > .ibwrapper > .mirror {\n\tpadding-right: 22px;\n}\n\n.monaco-editor .find-widget > .find-part .monaco-inputbox > .ibwrapper > .input,\n.monaco-editor .find-widget > .find-part .monaco-inputbox > .ibwrapper > .mirror,\n.monaco-editor .find-widget > .replace-part .monaco-inputbox > .ibwrapper > .input,\n.monaco-editor .find-widget > .replace-part .monaco-inputbox > .ibwrapper > .mirror {\n\tpadding-top: 2px;\n\tpadding-bottom: 2px;\n}\n\n.monaco-editor .find-widget > .find-part .find-actions {\n\theight: 25px;\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.monaco-editor .find-widget > .replace-part .replace-actions {\n\theight: 25px;\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.monaco-editor .find-widget .monaco-findInput {\n\tvertical-align: middle;\n\tdisplay: flex;\n\tflex:1;\n}\n\n.monaco-editor .find-widget .monaco-findInput .monaco-scrollable-element {\n\t/* Make sure textarea inherits the width correctly */\n\twidth: 100%;\n}\n\n.monaco-editor .find-widget .monaco-findInput .monaco-scrollable-element .scrollbar.vertical {\n\t/* Hide vertical scrollbar */\n\topacity: 0;\n}\n\n.monaco-editor .find-widget .matchesCount {\n\tdisplay: flex;\n\tflex: initial;\n\tmargin: 0 0 0 3px;\n\tpadding: 2px 0 0 2px;\n\theight: 25px;\n\tvertical-align: middle;\n\tbox-sizing: border-box;\n\ttext-align: center;\n\tline-height: 23px;\n}\n\n.monaco-editor .find-widget .button {\n\twidth: 16px;\n\theight: 16px;\n\tpadding: 3px;\n\tborder-radius: 5px;\n\tdisplay: flex;\n\tflex: initial;\n\tmargin-left: 3px;\n\tbackground-position: center center;\n\tbackground-repeat: no-repeat;\n\tcursor: pointer;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n\n/* find in selection button */\n.monaco-editor .find-widget .codicon-find-selection {\n\twidth: 22px;\n\theight: 22px;\n\tpadding: 3px;\n\tborder-radius: 5px;\n}\n\n.monaco-editor .find-widget .button.left {\n\tmargin-left: 0;\n\tmargin-right: 3px;\n}\n\n.monaco-editor .find-widget .button.wide {\n\twidth: auto;\n\tpadding: 1px 6px;\n\ttop: -1px;\n}\n\n.monaco-editor .find-widget .button.toggle {\n\tposition: absolute;\n\ttop: 0;\n\tleft: 3px;\n\twidth: 18px;\n\theight: 100%;\n\tborder-radius: 0;\n\tbox-sizing: border-box;\n}\n\n.monaco-editor .find-widget .button.toggle.disabled {\n\tdisplay: none;\n}\n\n.monaco-editor .find-widget .disabled {\n\tcolor: var(--vscode-disabledForeground);\n\tcursor: default;\n}\n\n.monaco-editor .find-widget > .replace-part {\n\tdisplay: none;\n}\n\n.monaco-editor .find-widget > .replace-part > .monaco-findInput {\n\tposition: relative;\n\tdisplay: flex;\n\tvertical-align: middle;\n\tflex: auto;\n\tflex-grow: 0;\n\tflex-shrink: 0;\n}\n\n.monaco-editor .find-widget > .replace-part > .monaco-findInput > .controls {\n\tposition: absolute;\n\ttop: 3px;\n\tright: 2px;\n}\n\n/* REDUCED */\n.monaco-editor .find-widget.reduced-find-widget .matchesCount {\n\tdisplay:none;\n}\n\n/* NARROW (SMALLER THAN REDUCED) */\n.monaco-editor .find-widget.narrow-find-widget {\n\tmax-width: 257px !important;\n}\n\n/* COLLAPSED (SMALLER THAN NARROW) */\n.monaco-editor .find-widget.collapsed-find-widget {\n\tmax-width: 170px !important;\n}\n\n.monaco-editor .find-widget.collapsed-find-widget .button.previous,\n.monaco-editor .find-widget.collapsed-find-widget .button.next,\n.monaco-editor .find-widget.collapsed-find-widget .button.replace,\n.monaco-editor .find-widget.collapsed-find-widget .button.replace-all,\n.monaco-editor .find-widget.collapsed-find-widget > .find-part .monaco-findInput .controls {\n\tdisplay:none;\n}\n\n.monaco-editor .findMatch {\n\tanimation-duration: 0;\n\tanimation-name: inherit !important;\n}\n\n.monaco-editor .find-widget .monaco-sash {\n\tleft: 0 !important;\n}\n\n.monaco-editor.hc-black .find-widget .button:before {\n\tposition: relative;\n\ttop: 1px;\n\tleft: 2px;\n}\n\n/* Close button position. */\n.monaco-editor .find-widget > .button.codicon-widget-close {\n\tposition: absolute;\n\ttop: 5px;\n\tright: 4px;\n}\n",""]);const y=r},43388:(Xe,we,e)=>{e.d(we,{Z:()=>y});var f=e(71451),r=e.n(f)()(function(v){return v[1]});r.push([Xe.id,'/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n.monaco-editor .margin-view-overlays .codicon-folding-manual-collapsed,\n.monaco-editor .margin-view-overlays .codicon-folding-manual-expanded,\n.monaco-editor .margin-view-overlays .codicon-folding-expanded,\n.monaco-editor .margin-view-overlays .codicon-folding-collapsed {\n\tcursor: pointer;\n\topacity: 0;\n\ttransition: opacity 0.5s;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tfont-size: 140%;\n\tmargin-left: 2px;\n}\n\n.monaco-workbench.reduce-motion .monaco-editor .margin-view-overlays .codicon-folding-manual-collapsed,\n.monaco-workbench.reduce-motion .monaco-editor .margin-view-overlays .codicon-folding-manual-expanded,\n.monaco-workbench.reduce-motion .monaco-editor .margin-view-overlays .codicon-folding-expanded,\n.monaco-workbench.reduce-motion .monaco-editor .margin-view-overlays .codicon-folding-collapsed {\n\ttransition: initial;\n}\n\n.monaco-editor .margin-view-overlays:hover .codicon,\n.monaco-editor .margin-view-overlays .codicon.codicon-folding-collapsed,\n.monaco-editor .margin-view-overlays .codicon.codicon-folding-manual-collapsed,\n.monaco-editor .margin-view-overlays .codicon.alwaysShowFoldIcons {\n\topacity: 1;\n}\n\n.monaco-editor .inline-folded:after {\n\tcolor: grey;\n\tmargin: 0.1em 0.2em 0 0.2em;\n\tcontent: "\\22EF"; /* ellipses unicode character */\n\tdisplay: inline;\n\tline-height: 1em;\n\tcursor: pointer;\n}\n\n.monaco-editor .folded-background {\n\tbackground-color: var(--vscode-editor-foldBackground);\n}\n\n.monaco-editor .cldr.codicon.codicon-folding-expanded,\n.monaco-editor .cldr.codicon.codicon-folding-collapsed,\n.monaco-editor .cldr.codicon.codicon-folding-manual-expanded,\n.monaco-editor .cldr.codicon.codicon-folding-manual-collapsed {\n\tcolor: var(--vscode-editorGutter-foldingControlForeground) !important;\n}\n\n',""]);const y=r},35351:(Xe,we,e)=>{e.d(we,{Z:()=>y});var f=e(71451),r=e.n(f)()(function(v){return v[1]});r.push([Xe.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/* marker zone */\n\n.monaco-editor .peekview-widget .head .peekview-title .severity-icon {\n\tdisplay: inline-block;\n\tvertical-align: text-top;\n\tmargin-right: 4px;\n}\n\n.monaco-editor .marker-widget {\n\ttext-overflow: ellipsis;\n\twhite-space: nowrap;\n}\n\n.monaco-editor .marker-widget > .stale {\n\topacity: 0.6;\n\tfont-style: italic;\n}\n\n.monaco-editor .marker-widget .title {\n\tdisplay: inline-block;\n\tpadding-right: 5px;\n}\n\n.monaco-editor .marker-widget .descriptioncontainer {\n\tposition: absolute;\n\twhite-space: pre;\n\tuser-select: text;\n\t-webkit-user-select: text;\n\tpadding: 8px 12px 0 20px;\n}\n\n.monaco-editor .marker-widget .descriptioncontainer .message {\n\tdisplay: flex;\n\tflex-direction: column;\n}\n\n.monaco-editor .marker-widget .descriptioncontainer .message .details {\n\tpadding-left: 6px;\n}\n\n.monaco-editor .marker-widget .descriptioncontainer .message .source,\n.monaco-editor .marker-widget .descriptioncontainer .message span.code {\n\topacity: 0.6;\n}\n\n.monaco-editor .marker-widget .descriptioncontainer .message a.code-link {\n\topacity: 0.6;\n\tcolor: inherit;\n}\n\n.monaco-editor .marker-widget .descriptioncontainer .message a.code-link:before {\n\tcontent: '(';\n}\n\n.monaco-editor .marker-widget .descriptioncontainer .message a.code-link:after {\n\tcontent: ')';\n}\n\n.monaco-editor .marker-widget .descriptioncontainer .message a.code-link > span {\n\ttext-decoration: underline;\n\t/** Hack to force underline to show **/\n\tborder-bottom: 1px solid transparent;\n\ttext-underline-position: under;\n\tcolor: var(--vscode-textLink-foreground);\n}\n\n.monaco-editor .marker-widget .descriptioncontainer .message a.code-link > span {\n\tcolor: var(--vscode-textLink-activeForeground);\n}\n\n.monaco-editor .marker-widget .descriptioncontainer .filename {\n\tcursor: pointer;\n}\n",""]);const y=r},33257:(Xe,we,e)=>{e.d(we,{Z:()=>y});var f=e(71451),r=e.n(f)()(function(v){return v[1]});r.push([Xe.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .goto-definition-link {\n\ttext-decoration: underline;\n\tcursor: pointer;\n\tcolor: var(--vscode-editorLink-activeForeground) !important;\n}\n",""]);const y=r},60879:(Xe,we,e)=>{e.d(we,{Z:()=>y});var f=e(71451),r=e.n(f)()(function(v){return v[1]});r.push([Xe.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/* -- zone widget */\n.monaco-editor .zone-widget .zone-widget-container.reference-zone-widget {\n\tborder-top-width: 1px;\n\tborder-bottom-width: 1px;\n}\n\n.monaco-editor .reference-zone-widget .inline {\n\tdisplay: inline-block;\n\tvertical-align: top;\n}\n\n.monaco-editor .reference-zone-widget .messages {\n\theight: 100%;\n\twidth: 100%;\n\ttext-align: center;\n\tpadding: 3em 0;\n}\n\n.monaco-editor .reference-zone-widget .ref-tree {\n\tline-height: 23px;\n\tbackground-color: var(--vscode-peekViewResult-background);\n\tcolor: var(--vscode-peekViewResult-lineForeground);\n}\n\n.monaco-editor .reference-zone-widget .ref-tree .reference {\n\ttext-overflow: ellipsis;\n\toverflow: hidden;\n}\n\n.monaco-editor .reference-zone-widget .ref-tree .reference-file {\n\tdisplay: inline-flex;\n\twidth: 100%;\n\theight: 100%;\n\tcolor: var(--vscode-peekViewResult-fileForeground);\n}\n\n.monaco-editor .reference-zone-widget .ref-tree .monaco-list:focus .selected .reference-file {\n\tcolor: inherit !important;\n}\n\n.monaco-editor .reference-zone-widget .ref-tree .monaco-list:focus .monaco-list-rows > .monaco-list-row.selected:not(.highlighted) {\n\tbackground-color: var(--vscode-peekViewResult-selectionBackground);\n\tcolor: var(--vscode-peekViewResult-selectionForeground) !important;\n}\n\n.monaco-editor .reference-zone-widget .ref-tree .reference-file .count {\n\tmargin-right: 12px;\n\tmargin-left: auto;\n}\n\n.monaco-editor .reference-zone-widget .ref-tree .referenceMatch .highlight {\n\tbackground-color: var(--vscode-peekViewResult-matchHighlightBackground);\n}\n\n.monaco-editor .reference-zone-widget .preview .reference-decoration {\n\tbackground-color: var(--vscode-peekViewEditor-matchHighlightBackground);\n\tborder: 2px solid var(--vscode-peekViewEditor-matchHighlightBorder);\n\tbox-sizing: border-box;\n}\n\n.monaco-editor .reference-zone-widget .preview .monaco-editor .monaco-editor-background,\n.monaco-editor .reference-zone-widget .preview .monaco-editor .inputarea.ime-input {\n\tbackground-color: var(--vscode-peekViewEditor-background);\n}\n\n.monaco-editor .reference-zone-widget .preview .monaco-editor .margin {\n\tbackground-color: var(--vscode-peekViewEditorGutter-background);\n}\n\n/* High Contrast Theming */\n\n.monaco-editor.hc-black .reference-zone-widget .ref-tree .reference-file,\n.monaco-editor.hc-light .reference-zone-widget .ref-tree .reference-file {\n\tfont-weight: bold;\n}\n\n.monaco-editor.hc-black .reference-zone-widget .ref-tree .referenceMatch .highlight,\n.monaco-editor.hc-light .reference-zone-widget .ref-tree .referenceMatch .highlight {\n\tborder: 1px dotted var(--vscode-contrastActiveBorder, transparent);\n\tbox-sizing: border-box;\n}\n",""]);const y=r},41738:(Xe,we,e)=>{e.d(we,{Z:()=>y});var f=e(71451),r=e.n(f)()(function(v){return v[1]});r.push([Xe.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .hoverHighlight {\n\tbackground-color: var(--vscode-editor-hoverHighlightBackground);\n}\n\n.monaco-editor .monaco-hover {\n\tcolor: var(--vscode-editorHoverWidget-foreground);\n\tbackground-color: var(--vscode-editorHoverWidget-background);\n\tborder: 1px solid var(--vscode-editorHoverWidget-border);\n\tborder-radius: 3px;\n}\n\n.monaco-editor .monaco-hover a {\n\tcolor: var(--vscode-textLink-foreground);\n}\n\n.monaco-editor .monaco-hover a:hover {\n\tcolor: var(--vscode-textLink-activeForeground);\n}\n\n.monaco-editor .monaco-hover .hover-row .actions {\n\tbackground-color: var(--vscode-editorHoverWidget-statusBarBackground);\n}\n\n.monaco-editor .monaco-hover code {\n\tbackground-color: var(--vscode-textCodeBlock-background);\n}\n\n\n",""]);const y=r},16921:(Xe,we,e)=>{e.d(we,{Z:()=>y});var f=e(71451),r=e.n(f)()(function(v){return v[1]});r.push([Xe.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n\n.monaco-editor.vs .valueSetReplacement {\n\toutline: solid 2px var(--vscode-editorBracketMatch-border);\n}\n",""]);const y=r},77682:(Xe,we,e)=>{e.d(we,{Z:()=>y});var f=e(71451),r=e.n(f)()(function(v){return v[1]});r.push([Xe.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .suggest-preview-additional-widget {\n\twhite-space: nowrap;\n}\n\n.monaco-editor .suggest-preview-additional-widget .content-spacer {\n\tcolor: transparent;\n\twhite-space: pre;\n}\n\n.monaco-editor .suggest-preview-additional-widget .button {\n\tdisplay: inline-block;\n\tcursor: pointer;\n\ttext-decoration: underline;\n\ttext-underline-position: under;\n}\n\n.monaco-editor .ghost-text-hidden {\n\topacity: 0;\n\tfont-size: 0;\n}\n\n.monaco-editor .ghost-text-decoration, .monaco-editor .suggest-preview-text .ghost-text {\n\tfont-style: italic;\n}\n\n.monaco-editor .inline-completion-text-to-replace {\n\ttext-decoration: underline;\n\ttext-underline-position: under;\n}\n\n.monaco-editor .ghost-text-decoration,\n.monaco-editor .ghost-text-decoration-preview,\n.monaco-editor .suggest-preview-text .ghost-text {\n\tcolor: var(--vscode-editorGhostText-foreground) !important;\n\tbackground-color: var(--vscode-editorGhostText-background);\n\tborder: 1px solid var(--vscode-editorGhostText-border);\n}\n",""]);const y=r},28300:(Xe,we,e)=>{e.d(we,{Z:()=>y});var f=e(71451),r=e.n(f)()(function(v){return v[1]});r.push([Xe.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .inlineSuggestionsHints.withBorder {\n\tz-index: 39;\n\tcolor: var(--vscode-editorHoverWidget-foreground);\n\tbackground-color: var(--vscode-editorHoverWidget-background);\n\tborder: 1px solid var(--vscode-editorHoverWidget-border);\n}\n\n.monaco-editor .inlineSuggestionsHints a {\n\tcolor: var(--vscode-foreground);\n}\n\n.monaco-editor .inlineSuggestionsHints a:hover {\n\tcolor: var(--vscode-foreground);\n}\n\n.monaco-editor .inlineSuggestionsHints .keybinding {\n\tdisplay: flex;\n\tmargin-left: 4px;\n\topacity: 0.6;\n}\n\n.monaco-editor .inlineSuggestionsHints .keybinding .monaco-keybinding-key {\n\tfont-size: 8px;\n\tpadding: 2px 3px;\n}\n\n.monaco-editor .inlineSuggestionsHints .availableSuggestionCount a {\n\tdisplay: flex;\n\tmin-width: 19px;\n\tjustify-content: center;\n}\n\n.monaco-editor .inlineSuggestionStatusBarItemLabel {\n\tmargin-right: 2px;\n}\n",""]);const y=r},16668:(Xe,we,e)=>{e.d(we,{Z:()=>y});var f=e(71451),r=e.n(f)()(function(v){return v[1]});r.push([Xe.id,'/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.inline-editor-progress-decoration {\n\tdisplay: inline-block;\n\twidth: 1em;\n\theight: 1em;\n}\n\n.inline-progress-widget  {\n\tdisplay: flex !important;\n\tjustify-content: center;\n\talign-items: center;\n}\n\n.inline-progress-widget .icon {\n\tfont-size: 80% !important;\n}\n\n.inline-progress-widget:hover .icon {\n\tfont-size: 90% !important;\n\tanimation: none;\n}\n\n.inline-progress-widget:hover .icon::before {\n\tcontent: "\\ea76"; /* codicon-x */\n}\n',""]);const y=r},55040:(Xe,we,e)=>{e.d(we,{Z:()=>y});var f=e(71451),r=e.n(f)()(function(v){return v[1]});r.push([Xe.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .linked-editing-decoration {\n\tbackground-color: var(--vscode-editor-linkedEditingBackground);\n\n\t/* Ensure decoration is visible even if range is empty */\n\tmin-width: 1px;\n}\n",""]);const y=r},28477:(Xe,we,e)=>{e.d(we,{Z:()=>y});var f=e(71451),r=e.n(f)()(function(v){return v[1]});r.push([Xe.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n.monaco-editor .detected-link,\n.monaco-editor .detected-link-active {\n\ttext-decoration: underline;\n\ttext-underline-position: under;\n}\n\n.monaco-editor .detected-link-active {\n\tcursor: pointer;\n\tcolor: var(--vscode-editorLink-activeForeground) !important;\n}\n",""]);const y=r},81615:(Xe,we,e)=>{e.d(we,{Z:()=>y});var f=e(71451),r=e.n(f)()(function(v){return v[1]});r.push([Xe.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .rendered-markdown kbd {\n\tbackground-color: var(--vscode-keybindingLabel-background);\n\tcolor: var(--vscode-keybindingLabel-foreground);\n\tborder-style: solid;\n\tborder-width: 1px;\n\tborder-radius: 3px;\n\tborder-color: var(--vscode-keybindingLabel-border);\n\tborder-bottom-color: var(--vscode-keybindingLabel-bottomBorder);\n\tbox-shadow: inset 0 -1px 0 var(--vscode-widget-shadow);\n\tvertical-align: middle;\n\tpadding: 1px 3px;\n}\n",""]);const y=r},65807:(Xe,we,e)=>{e.d(we,{Z:()=>y});var f=e(71451),r=e.n(f)()(function(v){return v[1]});r.push([Xe.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .monaco-editor-overlaymessage {\n\tpadding-bottom: 8px;\n\tz-index: 10000;\n}\n\n.monaco-editor .monaco-editor-overlaymessage.below {\n\tpadding-bottom: 0;\n\tpadding-top: 8px;\n\tz-index: 10000;\n}\n\n@keyframes fadeIn {\n\tfrom { opacity: 0; }\n\tto { opacity: 1; }\n}\n.monaco-editor .monaco-editor-overlaymessage.fadeIn {\n\tanimation: fadeIn 150ms ease-out;\n}\n\n@keyframes fadeOut {\n\tfrom { opacity: 1; }\n\tto { opacity: 0; }\n}\n.monaco-editor .monaco-editor-overlaymessage.fadeOut {\n\tanimation: fadeOut 100ms ease-out;\n}\n\n.monaco-editor .monaco-editor-overlaymessage .message {\n\tpadding: 2px 4px;\n\tcolor: var(--vscode-editorHoverWidget-foreground);\n\tbackground-color: var(--vscode-editorHoverWidget-background);\n\tborder: 1px solid var(--vscode-inputValidation-infoBorder);\n\tborder-radius: 3px;\n}\n\n.monaco-editor .monaco-editor-overlaymessage .message p {\n\tmargin-block: 0px;\n}\n\n.monaco-editor .monaco-editor-overlaymessage .message a {\n\tcolor: var(--vscode-textLink-foreground);\n}\n\n.monaco-editor .monaco-editor-overlaymessage .message a:hover {\n\tcolor: var(--vscode-textLink-activeForeground);\n}\n\n.monaco-editor.hc-black .monaco-editor-overlaymessage .message,\n.monaco-editor.hc-light .monaco-editor-overlaymessage .message {\n\tborder-width: 2px;\n}\n\n.monaco-editor .monaco-editor-overlaymessage .anchor {\n\twidth: 0 !important;\n\theight: 0 !important;\n\tborder-color: transparent;\n\tborder-style: solid;\n\tz-index: 1000;\n\tborder-width: 8px;\n\tposition: absolute;\n\tleft: 2px;\n}\n\n.monaco-editor .monaco-editor-overlaymessage .anchor.top {\n\tborder-bottom-color: var(--vscode-inputValidation-infoBorder);\n}\n\n.monaco-editor .monaco-editor-overlaymessage .anchor.below {\n\tborder-top-color: var(--vscode-inputValidation-infoBorder);\n}\n\n.monaco-editor .monaco-editor-overlaymessage:not(.below) .anchor.top,\n.monaco-editor .monaco-editor-overlaymessage.below .anchor.below {\n\tdisplay: none;\n}\n\n.monaco-editor .monaco-editor-overlaymessage.below .anchor.top {\n\tdisplay: inherit;\n\ttop: -8px;\n}\n",""]);const y=r},81386:(Xe,we,e)=>{e.d(we,{Z:()=>y});var f=e(71451),r=e.n(f)()(function(v){return v[1]});r.push([Xe.id,'/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .parameter-hints-widget {\n\t/* Must be higher than the sash\'s z-index and terminal canvases but lower than the suggest widget */\n\tz-index: 39;\n\tdisplay: flex;\n\tflex-direction: column;\n\tline-height: 1.5em;\n\tcursor: default;\n\tcolor: var(--vscode-editorHoverWidget-foreground);\n\tbackground-color: var(--vscode-editorHoverWidget-background);\n\tborder: 1px solid var(--vscode-editorHoverWidget-border);\n}\n\n.hc-black .monaco-editor .parameter-hints-widget,\n.hc-light .monaco-editor .parameter-hints-widget {\n\tborder-width: 2px;\n}\n\n.monaco-editor .parameter-hints-widget > .phwrapper {\n\tmax-width: 440px;\n\tdisplay: flex;\n\tflex-direction: row;\n}\n\n.monaco-editor .parameter-hints-widget.multiple {\n\tmin-height: 3.3em;\n\tpadding: 0;\n}\n\n.monaco-editor .parameter-hints-widget.multiple .body::before {\n\tcontent: "";\n\tdisplay: block;\n\theight: 100%;\n\tposition: absolute;\n\topacity: 0.5;\n\tborder-left: 1px solid var(--vscode-editorHoverWidget-border);\n}\n\n.monaco-editor .parameter-hints-widget p,\n.monaco-editor .parameter-hints-widget ul {\n\tmargin: 8px 0;\n}\n\n.monaco-editor .parameter-hints-widget .monaco-scrollable-element,\n.monaco-editor .parameter-hints-widget .body {\n\tdisplay: flex;\n\tflex: 1;\n\tflex-direction: column;\n\tmin-height: 100%;\n}\n\n.monaco-editor .parameter-hints-widget .signature {\n\tpadding: 4px 5px;\n\tposition: relative;\n}\n\n.monaco-editor .parameter-hints-widget .signature.has-docs::after {\n\tcontent: "";\n\tdisplay: block;\n\tposition: absolute;\n\tleft: 0;\n\twidth: 100%;\n\tpadding-top: 4px;\n\topacity: 0.5;\n\tborder-bottom: 1px solid var(--vscode-editorHoverWidget-border);\n}\n\n.monaco-editor .parameter-hints-widget .docs {\n\tpadding: 0 10px 0 5px;\n\twhite-space: pre-wrap;\n}\n\n.monaco-editor .parameter-hints-widget .docs.empty {\n\tdisplay: none;\n}\n\n.monaco-editor .parameter-hints-widget .docs a {\n\tcolor: var(--vscode-textLink-foreground);\n}\n\n.monaco-editor .parameter-hints-widget .docs a:hover {\n\tcolor: var(--vscode-textLink-activeForeground);\n\tcursor: pointer;\n}\n\n.monaco-editor .parameter-hints-widget .docs .markdown-docs {\n\twhite-space: initial;\n}\n\n.monaco-editor .parameter-hints-widget .docs code {\n\tfont-family: var(--monaco-monospace-font);\n\tborder-radius: 3px;\n\tpadding: 0 0.4em;\n\tbackground-color: var(--vscode-textCodeBlock-background);\n}\n\n.monaco-editor .parameter-hints-widget .docs .monaco-tokenized-source,\n.monaco-editor .parameter-hints-widget .docs .code {\n\twhite-space: pre-wrap;\n}\n\n.monaco-editor .parameter-hints-widget .controls {\n\tdisplay: none;\n\tflex-direction: column;\n\talign-items: center;\n\tmin-width: 22px;\n\tjustify-content: flex-end;\n}\n\n.monaco-editor .parameter-hints-widget.multiple .controls {\n\tdisplay: flex;\n\tpadding: 0 2px;\n}\n\n.monaco-editor .parameter-hints-widget.multiple .button {\n\twidth: 16px;\n\theight: 16px;\n\tbackground-repeat: no-repeat;\n\tcursor: pointer;\n}\n\n.monaco-editor .parameter-hints-widget .button.previous {\n\tbottom: 24px;\n}\n\n.monaco-editor .parameter-hints-widget .overloads {\n\ttext-align: center;\n\theight: 12px;\n\tline-height: 12px;\n\tfont-family: var(--monaco-monospace-font);\n}\n\n.monaco-editor .parameter-hints-widget .signature .parameter.active {\n\tcolor: var(--vscode-editorHoverWidget-highlightForeground);\n\tfont-weight: bold;\n}\n\n.monaco-editor .parameter-hints-widget .documentation-parameter > .parameter {\n\tfont-weight: bold;\n\tmargin-right: 0.5em;\n}\n',""]);const y=r},8881:(Xe,we,e)=>{e.d(we,{Z:()=>y});var f=e(71451),r=e.n(f)()(function(v){return v[1]});r.push([Xe.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .peekview-widget .head {\n\tbox-sizing: border-box;\n\tdisplay: flex;\n\tjustify-content: space-between;\n\tflex-wrap: nowrap;\n}\n\n.monaco-editor .peekview-widget .head .peekview-title {\n\tdisplay: flex;\n\talign-items: baseline;\n\tfont-size: 13px;\n\tmargin-left: 20px;\n\tmin-width: 0;\n\ttext-overflow: ellipsis;\n\toverflow: hidden;\n}\n\n.monaco-editor .peekview-widget .head .peekview-title.clickable {\n\tcursor: pointer;\n}\n\n.monaco-editor .peekview-widget .head .peekview-title .dirname:not(:empty) {\n\tfont-size: 0.9em;\n\tmargin-left: 0.5em;\n}\n\n.monaco-editor .peekview-widget .head .peekview-title .meta {\n\twhite-space: nowrap;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n}\n\n.monaco-editor .peekview-widget .head .peekview-title .dirname {\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\twhite-space: nowrap;\n}\n\n.monaco-editor .peekview-widget .head .peekview-title .filename {\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\twhite-space: nowrap;\n}\n\n.monaco-editor .peekview-widget .head .peekview-title .meta:not(:empty)::before {\n\tcontent: '-';\n\tpadding: 0 0.3em;\n}\n\n.monaco-editor .peekview-widget .head .peekview-actions {\n\tflex: 1;\n\ttext-align: right;\n\tpadding-right: 2px;\n}\n\n.monaco-editor .peekview-widget .head .peekview-actions > .monaco-action-bar {\n\tdisplay: inline-block;\n}\n\n.monaco-editor .peekview-widget .head .peekview-actions > .monaco-action-bar,\n.monaco-editor .peekview-widget .head .peekview-actions > .monaco-action-bar > .actions-container {\n\theight: 100%;\n}\n\n.monaco-editor .peekview-widget > .body {\n\tborder-top: 1px solid;\n\tposition: relative;\n}\n\n.monaco-editor .peekview-widget .head .peekview-title .codicon {\n\tmargin-right: 4px;\n\talign-self: center;\n}\n\n.monaco-editor .peekview-widget .monaco-list .monaco-list-row.focused .codicon {\n\tcolor: inherit !important;\n}\n",""]);const y=r},88342:(Xe,we,e)=>{e.d(we,{Z:()=>y});var f=e(71451),r=e.n(f)()(function(v){return v[1]});r.push([Xe.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .rename-box {\n\tz-index: 100;\n\tcolor: inherit;\n\tborder-radius: 4px;\n}\n\n.monaco-editor .rename-box.preview {\n\tpadding: 4px 4px 0 4px;\n}\n\n.monaco-editor .rename-box .rename-input {\n\tpadding: 3px;\n\tborder-radius: 2px;\n}\n\n.monaco-editor .rename-box .rename-label {\n\tdisplay: none;\n\topacity: .8;\n}\n\n.monaco-editor .rename-box.preview .rename-label {\n\tdisplay: inherit;\n}\n",""]);const y=r},15756:(Xe,we,e)=>{e.d(we,{Z:()=>y});var f=e(71451),r=e.n(f)()(function(v){return v[1]});r.push([Xe.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .snippet-placeholder {\n\tmin-width: 2px;\n\toutline-style: solid;\n\toutline-width: 1px;\n\tbackground-color: var(--vscode-editor-snippetTabstopHighlightBackground, transparent);\n\toutline-color: var(--vscode-editor-snippetTabstopHighlightBorder, transparent);\n}\n\n.monaco-editor .finish-snippet-placeholder {\n\toutline-style: solid;\n\toutline-width: 1px;\n\tbackground-color: var(--vscode-editor-snippetFinalTabstopHighlightBackground, transparent);\n\toutline-color: var(--vscode-editor-snippetFinalTabstopHighlightBorder, transparent);\n}\n",""]);const y=r},36098:(Xe,we,e)=>{e.d(we,{Z:()=>y});var f=e(71451),r=e.n(f)()(function(v){return v[1]});r.push([Xe.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .sticky-widget {\n\toverflow: hidden;\n}\n\n.monaco-editor .sticky-widget-line-numbers {\n\tfloat: left;\n\tbackground-color: inherit;\n}\n\n.monaco-editor .sticky-widget-lines-scrollable {\n\tdisplay: inline-block;\n\tposition: absolute;\n\toverflow: hidden;\n\twidth: var(--vscode-editorStickyScroll-scrollableWidth);\n\tbackground-color: inherit;\n}\n\n.monaco-editor .sticky-widget-lines {\n\tposition: absolute;\n\tbackground-color: inherit;\n}\n\n.monaco-editor .sticky-line-number, .monaco-editor .sticky-line-content {\n\tcolor: var(--vscode-editorLineNumber-foreground);\n\twhite-space: nowrap;\n\tdisplay: inline-block;\n\tposition: absolute;\n\tbackground-color: inherit;\n}\n\n.monaco-editor .sticky-line-number .codicon {\n\tfloat: right;\n\ttransition: var(--vscode-editorStickyScroll-foldingOpacityTransition);\n}\n\n.monaco-editor .sticky-line-content {\n\twidth: var(--vscode-editorStickyScroll-scrollableWidth);\n\tbackground-color: inherit;\n\twhite-space: nowrap;\n}\n\n.monaco-editor .sticky-line-number-inner {\n\tdisplay: block;\n\ttext-align: right;\n}\n\n.monaco-editor.hc-black .sticky-widget,\n.monaco-editor.hc-light .sticky-widget {\n\tborder-bottom: 1px solid var(--vscode-contrastBorder);\n}\n\n.monaco-editor .sticky-line-content:hover {\n\tbackground-color: var(--vscode-editorStickyScrollHover-background);\n\tcursor: pointer;\n}\n\n.monaco-editor .sticky-widget {\n\twidth: 100%;\n\tbox-shadow: var(--vscode-scrollbar-shadow) 0 3px 2px -2px;\n\tz-index: 4;\n\tbackground-color: var(--vscode-editorStickyScroll-background);\n}\n\n.monaco-editor .sticky-widget.peek {\n\tbackground-color: var(--vscode-peekViewEditorStickyScroll-background);\n}\n",""]);const y=r},45224:(Xe,we,e)=>{e.d(we,{Z:()=>y});var f=e(71451),r=e.n(f)()(function(v){return v[1]});r.push([Xe.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/* Suggest widget*/\n\n.monaco-editor .suggest-widget {\n\twidth: 430px;\n\tz-index: 40;\n\tdisplay: flex;\n\tflex-direction: column;\n\tborder-radius: 3px;\n}\n\n.monaco-editor .suggest-widget.message {\n\tflex-direction: row;\n\talign-items: center;\n}\n\n.monaco-editor .suggest-widget,\n.monaco-editor .suggest-details {\n\tflex: 0 1 auto;\n\twidth: 100%;\n\tborder-style: solid;\n\tborder-width: 1px;\n\tborder-color: var(--vscode-editorSuggestWidget-border);\n\tbackground-color: var(--vscode-editorSuggestWidget-background);\n}\n\n.monaco-editor.hc-black .suggest-widget,\n.monaco-editor.hc-black .suggest-details,\n.monaco-editor.hc-light .suggest-widget,\n.monaco-editor.hc-light .suggest-details {\n\tborder-width: 2px;\n}\n\n/* Styles for status bar part */\n\n\n.monaco-editor .suggest-widget .suggest-status-bar {\n\tbox-sizing: border-box;\n\tdisplay: none;\n\tflex-flow: row nowrap;\n\tjustify-content: space-between;\n\twidth: 100%;\n\tfont-size: 80%;\n\tpadding: 0 4px 0 4px;\n\tborder-top: 1px solid var(--vscode-editorSuggestWidget-border);\n\toverflow: hidden;\n}\n\n.monaco-editor .suggest-widget.with-status-bar .suggest-status-bar {\n\tdisplay: flex;\n}\n\n.monaco-editor .suggest-widget .suggest-status-bar .left {\n\tpadding-right: 8px;\n}\n\n.monaco-editor .suggest-widget.with-status-bar .suggest-status-bar .action-label {\n\tcolor: var(--vscode-editorSuggestWidgetStatus-foreground);\n}\n\n.monaco-editor .suggest-widget.with-status-bar .suggest-status-bar .action-item:not(:last-of-type) .action-label {\n\tmargin-right: 0;\n}\n\n.monaco-editor .suggest-widget.with-status-bar .suggest-status-bar .action-item:not(:last-of-type) .action-label::after {\n\tcontent: ', ';\n\tmargin-right: 0.3em;\n}\n\n.monaco-editor .suggest-widget.with-status-bar .monaco-list .monaco-list-row>.contents>.main>.right>.readMore,\n.monaco-editor .suggest-widget.with-status-bar .monaco-list .monaco-list-row.focused.string-label>.contents>.main>.right>.readMore {\n\tdisplay: none;\n}\n\n.monaco-editor .suggest-widget.with-status-bar:not(.docs-side) .monaco-list .monaco-list-row:hover>.contents>.main>.right.can-expand-details>.details-label {\n\twidth: 100%;\n}\n\n/* Styles for Message element for when widget is loading or is empty */\n\n.monaco-editor .suggest-widget>.message {\n\tpadding-left: 22px;\n}\n\n/** Styles for the list element **/\n\n.monaco-editor .suggest-widget>.tree {\n\theight: 100%;\n\twidth: 100%;\n}\n\n.monaco-editor .suggest-widget .monaco-list {\n\tuser-select: none;\n\t-webkit-user-select: none;\n}\n\n/** Styles for each row in the list element **/\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row {\n\tdisplay: flex;\n\t-mox-box-sizing: border-box;\n\tbox-sizing: border-box;\n\tpadding-right: 10px;\n\tbackground-repeat: no-repeat;\n\tbackground-position: 2px 2px;\n\twhite-space: nowrap;\n\tcursor: pointer;\n\ttouch-action: none;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused {\n\tcolor: var(--vscode-editorSuggestWidget-selectedForeground);\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused .codicon {\n\tcolor: var(--vscode-editorSuggestWidget-selectedIconForeground);\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents {\n\tflex: 1;\n\theight: 100%;\n\toverflow: hidden;\n\tpadding-left: 2px;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main {\n\tdisplay: flex;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\twhite-space: pre;\n\tjustify-content: space-between;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.left,\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right {\n\tdisplay: flex;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row:not(.focused)>.contents>.main .monaco-icon-label {\n\tcolor: var(--vscode-editorSuggestWidget-foreground);\n}\n\n.monaco-editor .suggest-widget:not(.frozen) .monaco-highlighted-label .highlight {\n\tfont-weight: bold;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main .monaco-highlighted-label .highlight {\n\tcolor: var(--vscode-editorSuggestWidget-highlightForeground);\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused>.contents>.main .monaco-highlighted-label .highlight {\n\tcolor: var(--vscode-editorSuggestWidget-focusHighlightForeground);\n}\n\n/** ReadMore Icon styles **/\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.header>.codicon-close,\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.readMore::before {\n\tcolor: inherit;\n\topacity: 1;\n\tfont-size: 14px;\n\tcursor: pointer;\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.header>.codicon-close {\n\tposition: absolute;\n\ttop: 6px;\n\tright: 2px;\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.header>.codicon-close:hover,\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.readMore:hover {\n\topacity: 1;\n}\n\n/** signature, qualifier, type/details opacity **/\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.details-label {\n\topacity: 0.7;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.left>.signature-label {\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\topacity: 0.6;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.left>.qualifier-label {\n\tmargin-left: 12px;\n\topacity: 0.4;\n\tfont-size: 85%;\n\tline-height: initial;\n\ttext-overflow: ellipsis;\n\toverflow: hidden;\n\talign-self: center;\n}\n\n/** Type Info and icon next to the label in the focused completion item **/\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.details-label {\n\tfont-size: 85%;\n\tmargin-left: 1.1em;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\twhite-space: nowrap;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.details-label>.monaco-tokenized-source {\n\tdisplay: inline;\n}\n\n/** Details: if using CompletionItem#details, show on focus **/\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.details-label {\n\tdisplay: none;\n}\n\n.monaco-editor .suggest-widget:not(.shows-details) .monaco-list .monaco-list-row.focused>.contents>.main>.right>.details-label {\n\tdisplay: inline;\n}\n\n/** Details: if using CompletionItemLabel#details, always show **/\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row:not(.string-label)>.contents>.main>.right>.details-label,\n.monaco-editor .suggest-widget.docs-side .monaco-list .monaco-list-row.focused:not(.string-label)>.contents>.main>.right>.details-label {\n\tdisplay: inline;\n}\n\n/** Ellipsis on hover **/\n\n.monaco-editor .suggest-widget:not(.docs-side) .monaco-list .monaco-list-row.focused:hover>.contents>.main>.right.can-expand-details>.details-label {\n\twidth: calc(100% - 26px);\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.left {\n\tflex-shrink: 1;\n\tflex-grow: 1;\n\toverflow: hidden;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.left>.monaco-icon-label {\n\tflex-shrink: 0;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row:not(.string-label)>.contents>.main>.left>.monaco-icon-label {\n\tmax-width: 100%;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row.string-label>.contents>.main>.left>.monaco-icon-label {\n\tflex-shrink: 1;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right {\n\toverflow: hidden;\n\tflex-shrink: 4;\n\tmax-width: 70%;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row>.contents>.main>.right>.readMore {\n\tdisplay: inline-block;\n\tposition: absolute;\n\tright: 10px;\n\twidth: 18px;\n\theight: 18px;\n\tvisibility: hidden;\n}\n\n/** Do NOT display ReadMore when docs is side/below **/\n\n.monaco-editor .suggest-widget.docs-side .monaco-list .monaco-list-row>.contents>.main>.right>.readMore {\n\tdisplay: none !important;\n}\n\n/** Do NOT display ReadMore when using plain CompletionItemLabel (details/documentation might not be resolved) **/\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row.string-label>.contents>.main>.right>.readMore {\n\tdisplay: none;\n}\n\n/** Focused item can show ReadMore, but can't when docs is side/below **/\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused.string-label>.contents>.main>.right>.readMore {\n\tdisplay: inline-block;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused:hover>.contents>.main>.right>.readMore {\n\tvisibility: visible;\n}\n\n/** Styles for each row in the list **/\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row .monaco-icon-label.deprecated {\n\topacity: 0.66;\n\ttext-decoration: unset;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row .monaco-icon-label.deprecated>.monaco-icon-label-container>.monaco-icon-name-container {\n\ttext-decoration: line-through;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row .monaco-icon-label::before {\n\theight: 100%;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row .icon {\n\tdisplay: block;\n\theight: 16px;\n\twidth: 16px;\n\tmargin-left: 2px;\n\tbackground-repeat: no-repeat;\n\tbackground-size: 80%;\n\tbackground-position: center;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row .icon.hide {\n\tdisplay: none;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row .suggest-icon {\n\tdisplay: flex;\n\talign-items: center;\n\tmargin-right: 4px;\n}\n\n.monaco-editor .suggest-widget.no-icons .monaco-list .monaco-list-row .icon,\n.monaco-editor .suggest-widget.no-icons .monaco-list .monaco-list-row .suggest-icon::before {\n\tdisplay: none;\n}\n\n.monaco-editor .suggest-widget .monaco-list .monaco-list-row .icon.customcolor .colorspan {\n\tmargin: 0 0 0 0.3em;\n\tborder: 0.1em solid #000;\n\twidth: 0.7em;\n\theight: 0.7em;\n\tdisplay: inline-block;\n}\n\n/** Styles for the docs of the completion item in focus **/\n\n.monaco-editor .suggest-details-container {\n\tz-index: 41;\n}\n\n.monaco-editor .suggest-details {\n\tdisplay: flex;\n\tflex-direction: column;\n\tcursor: default;\n\tcolor: var(--vscode-editorSuggestWidget-foreground);\n}\n\n.monaco-editor .suggest-details.focused {\n\tborder-color: var(--vscode-focusBorder);\n}\n\n.monaco-editor .suggest-details a {\n\tcolor: var(--vscode-textLink-foreground);\n}\n\n.monaco-editor .suggest-details a:hover {\n\tcolor: var(--vscode-textLink-activeForeground);\n}\n\n.monaco-editor .suggest-details code {\n\tbackground-color: var(--vscode-textCodeBlock-background);\n}\n\n.monaco-editor .suggest-details.no-docs {\n\tdisplay: none;\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element {\n\tflex: 1;\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body {\n\tbox-sizing: border-box;\n\theight: 100%;\n\twidth: 100%;\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.header>.type {\n\tflex: 2;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\topacity: 0.7;\n\twhite-space: pre;\n\tmargin: 0 24px 0 0;\n\tpadding: 4px 0 12px 5px;\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.header>.type.auto-wrap {\n\twhite-space: normal;\n\tword-break: break-all;\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs {\n\tmargin: 0;\n\tpadding: 4px 5px;\n\twhite-space: pre-wrap;\n}\n\n.monaco-editor .suggest-details.no-type>.monaco-scrollable-element>.body>.docs {\n\tmargin-right: 24px;\n\toverflow: hidden;\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs {\n\tpadding: 0;\n\twhite-space: initial;\n\tmin-height: calc(1rem + 8px);\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs>div,\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs>span:not(:empty) {\n\tpadding: 4px 5px;\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs>div>p:first-child {\n\tmargin-top: 0;\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs>div>p:last-child {\n\tmargin-bottom: 0;\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs .monaco-tokenized-source {\n\twhite-space: pre;\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs .code {\n\twhite-space: pre-wrap;\n\tword-wrap: break-word;\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>.docs.markdown-docs .codicon {\n\tvertical-align: sub;\n}\n\n.monaco-editor .suggest-details>.monaco-scrollable-element>.body>p:empty {\n\tdisplay: none;\n}\n\n.monaco-editor .suggest-details code {\n\tborder-radius: 3px;\n\tpadding: 0 0.4em;\n}\n\n.monaco-editor .suggest-details ul {\n\tpadding-left: 20px;\n}\n\n.monaco-editor .suggest-details ol {\n\tpadding-left: 20px;\n}\n\n.monaco-editor .suggest-details p code {\n\tfont-family: var(--monaco-monospace-font);\n}\n",""]);const y=r},30745:(Xe,we,e)=>{e.d(we,{Z:()=>y});var f=e(71451),r=e.n(f)()(function(v){return v[1]});r.push([Xe.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .codicon.codicon-symbol-array,\n.monaco-workbench .codicon.codicon-symbol-array { color: var(--vscode-symbolIcon-arrayForeground); }\n.monaco-editor .codicon.codicon-symbol-boolean,\n.monaco-workbench .codicon.codicon-symbol-boolean { color: var(--vscode-symbolIcon-booleanForeground); }\n.monaco-editor .codicon.codicon-symbol-class,\n.monaco-workbench .codicon.codicon-symbol-class { color: var(--vscode-symbolIcon-classForeground); }\n.monaco-editor .codicon.codicon-symbol-method,\n.monaco-workbench .codicon.codicon-symbol-method { color: var(--vscode-symbolIcon-methodForeground); }\n.monaco-editor .codicon.codicon-symbol-color,\n.monaco-workbench .codicon.codicon-symbol-color { color: var(--vscode-symbolIcon-colorForeground); }\n.monaco-editor .codicon.codicon-symbol-constant,\n.monaco-workbench .codicon.codicon-symbol-constant { color: var(--vscode-symbolIcon-constantForeground); }\n.monaco-editor .codicon.codicon-symbol-constructor,\n.monaco-workbench .codicon.codicon-symbol-constructor { color: var(--vscode-symbolIcon-constructorForeground); }\n.monaco-editor .codicon.codicon-symbol-value,\n.monaco-workbench .codicon.codicon-symbol-value,\n.monaco-editor .codicon.codicon-symbol-enum,\n.monaco-workbench .codicon.codicon-symbol-enum { color: var(--vscode-symbolIcon-enumeratorForeground); }\n.monaco-editor .codicon.codicon-symbol-enum-member,\n.monaco-workbench .codicon.codicon-symbol-enum-member { color: var(--vscode-symbolIcon-enumeratorMemberForeground); }\n.monaco-editor .codicon.codicon-symbol-event,\n.monaco-workbench .codicon.codicon-symbol-event { color: var(--vscode-symbolIcon-eventForeground); }\n.monaco-editor .codicon.codicon-symbol-field,\n.monaco-workbench .codicon.codicon-symbol-field { color: var(--vscode-symbolIcon-fieldForeground); }\n.monaco-editor .codicon.codicon-symbol-file,\n.monaco-workbench .codicon.codicon-symbol-file { color: var(--vscode-symbolIcon-fileForeground); }\n.monaco-editor .codicon.codicon-symbol-folder,\n.monaco-workbench .codicon.codicon-symbol-folder { color: var(--vscode-symbolIcon-folderForeground); }\n.monaco-editor .codicon.codicon-symbol-function,\n.monaco-workbench .codicon.codicon-symbol-function { color: var(--vscode-symbolIcon-functionForeground); }\n.monaco-editor .codicon.codicon-symbol-interface,\n.monaco-workbench .codicon.codicon-symbol-interface { color: var(--vscode-symbolIcon-interfaceForeground); }\n.monaco-editor .codicon.codicon-symbol-key,\n.monaco-workbench .codicon.codicon-symbol-key { color: var(--vscode-symbolIcon-keyForeground); }\n.monaco-editor .codicon.codicon-symbol-keyword,\n.monaco-workbench .codicon.codicon-symbol-keyword { color: var(--vscode-symbolIcon-keywordForeground); }\n.monaco-editor .codicon.codicon-symbol-module,\n.monaco-workbench .codicon.codicon-symbol-module { color: var(--vscode-symbolIcon-moduleForeground); }\n.monaco-editor .codicon.codicon-symbol-namespace,\n.monaco-workbench .codicon.codicon-symbol-namespace { color: var(--vscode-symbolIcon-namespaceForeground); }\n.monaco-editor .codicon.codicon-symbol-null,\n.monaco-workbench .codicon.codicon-symbol-null { color: var(--vscode-symbolIcon-nullForeground); }\n.monaco-editor .codicon.codicon-symbol-number,\n.monaco-workbench .codicon.codicon-symbol-number { color: var(--vscode-symbolIcon-numberForeground); }\n.monaco-editor .codicon.codicon-symbol-object,\n.monaco-workbench .codicon.codicon-symbol-object { color: var(--vscode-symbolIcon-objectForeground); }\n.monaco-editor .codicon.codicon-symbol-operator,\n.monaco-workbench .codicon.codicon-symbol-operator { color: var(--vscode-symbolIcon-operatorForeground); }\n.monaco-editor .codicon.codicon-symbol-package,\n.monaco-workbench .codicon.codicon-symbol-package { color: var(--vscode-symbolIcon-packageForeground); }\n.monaco-editor .codicon.codicon-symbol-property,\n.monaco-workbench .codicon.codicon-symbol-property { color: var(--vscode-symbolIcon-propertyForeground); }\n.monaco-editor .codicon.codicon-symbol-reference,\n.monaco-workbench .codicon.codicon-symbol-reference { color: var(--vscode-symbolIcon-referenceForeground); }\n.monaco-editor .codicon.codicon-symbol-snippet,\n.monaco-workbench .codicon.codicon-symbol-snippet { color: var(--vscode-symbolIcon-snippetForeground); }\n.monaco-editor .codicon.codicon-symbol-string,\n.monaco-workbench .codicon.codicon-symbol-string { color: var(--vscode-symbolIcon-stringForeground); }\n.monaco-editor .codicon.codicon-symbol-struct,\n.monaco-workbench .codicon.codicon-symbol-struct { color: var(--vscode-symbolIcon-structForeground); }\n.monaco-editor .codicon.codicon-symbol-text,\n.monaco-workbench .codicon.codicon-symbol-text { color: var(--vscode-symbolIcon-textForeground); }\n.monaco-editor .codicon.codicon-symbol-type-parameter,\n.monaco-workbench .codicon.codicon-symbol-type-parameter { color: var(--vscode-symbolIcon-typeParameterForeground); }\n.monaco-editor .codicon.codicon-symbol-unit,\n.monaco-workbench .codicon.codicon-symbol-unit { color: var(--vscode-symbolIcon-unitForeground); }\n.monaco-editor .codicon.codicon-symbol-variable,\n.monaco-workbench .codicon.codicon-symbol-variable { color: var(--vscode-symbolIcon-variableForeground); }\n",""]);const y=r},98367:(Xe,we,e)=>{e.d(we,{Z:()=>y});var f=e(71451),r=e.n(f)()(function(v){return v[1]});r.push([Xe.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.editor-banner {\n\tbox-sizing: border-box;\n\tcursor: default;\n\twidth: 100%;\n\tfont-size: 12px;\n\tdisplay: flex;\n\toverflow: visible;\n\n\theight: 26px;\n\n\tbackground: var(--vscode-banner-background);\n}\n\n\n.editor-banner .icon-container {\n\tdisplay: flex;\n\tflex-shrink: 0;\n\talign-items: center;\n\tpadding: 0 6px 0 10px;\n}\n\n.editor-banner .icon-container.custom-icon {\n\tbackground-repeat: no-repeat;\n\tbackground-position: center center;\n\tbackground-size: 16px;\n\twidth: 16px;\n\tpadding: 0;\n\tmargin: 0 6px 0 10px;\n}\n\n.editor-banner .message-container {\n\tdisplay: flex;\n\talign-items: center;\n\tline-height: 26px;\n\ttext-overflow: ellipsis;\n\twhite-space: nowrap;\n\toverflow: hidden;\n}\n\n.editor-banner .message-container p {\n\tmargin-block-start: 0;\n\tmargin-block-end: 0;\n}\n\n.editor-banner .message-actions-container {\n\tflex-grow: 1;\n\tflex-shrink: 0;\n\tline-height: 26px;\n\tmargin: 0 4px;\n}\n\n.editor-banner .message-actions-container a.monaco-button {\n\twidth: inherit;\n\tmargin: 2px 8px;\n\tpadding: 0px 12px;\n}\n\n.editor-banner .message-actions-container a {\n\tpadding: 3px;\n\tmargin-left: 12px;\n\ttext-decoration: underline;\n}\n\n.editor-banner .action-container {\n\tpadding: 0 10px 0 6px;\n}\n\n.editor-banner {\n\tbackground-color: var(--vscode-banner-background);\n}\n\n.editor-banner,\n.editor-banner .action-container .codicon,\n.editor-banner .message-actions-container .monaco-link {\n\tcolor: var(--vscode-banner-foreground);\n}\n\n.editor-banner .icon-container .codicon {\n\tcolor: var(--vscode-banner-iconForeground);\n}\n",""]);const y=r},98679:(Xe,we,e)=>{e.d(we,{Z:()=>y});var f=e(71451),r=e.n(f)()(function(v){return v[1]});r.push([Xe.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .unicode-highlight {\n\tborder: 1px solid var(--vscode-editorUnicodeHighlight-border);\n\tbackground-color: var(--vscode-editorUnicodeHighlight-background);\n\tbox-sizing: border-box;\n}\n",""]);const y=r},19620:(Xe,we,e)=>{e.d(we,{Z:()=>y});var f=e(71451),r=e.n(f)()(function(v){return v[1]});r.push([Xe.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .focused .selectionHighlight {\n\tbackground-color: var(--vscode-editor-selectionHighlightBackground);\n\tbox-sizing: border-box;\n\tborder: 1px solid var(--vscode-editor-selectionHighlightBorder);\n}\n.monaco-editor.hc-black .focused .selectionHighlight, .monaco-editor.hc-light .focused .selectionHighlight {\n\tborder-style: dotted;\n}\n\n.monaco-editor .wordHighlight {\n\tbackground-color: var(--vscode-editor-wordHighlightBackground);\n\tbox-sizing: border-box;\n\tborder: 1px solid var(--vscode-editor-wordHighlightBorder);\n}\n.monaco-editor.hc-black .wordHighlight, .monaco-editor.hc-light .wordHighlight {\n\tborder-style: dotted;\n}\n\n.monaco-editor .wordHighlightStrong {\n\tbackground-color: var(--vscode-editor-wordHighlightStrongBackground);\n\tbox-sizing: border-box;\n\tborder: 1px solid var(--vscode-editor-wordHighlightStrongBorder);\n}\n.monaco-editor.hc-black .wordHighlightStrong, .monaco-editor.hc-light .wordHighlightStrong {\n\tborder-style: dotted;\n}\n\n.monaco-editor .wordHighlightText {\n\tbackground-color: var(--vscode-editor-wordHighlightTextBackground);\n\tbox-sizing: border-box;\n\tborder: 1px solid var(--vscode-editor-wordHighlightTextBorder);\n}\n.monaco-editor.hc-black .wordHighlightText, .monaco-editor.hc-light .wordHighlightText {\n\tborder-style: dotted;\n}\n",""]);const y=r},51564:(Xe,we,e)=>{e.d(we,{Z:()=>y});var f=e(71451),r=e.n(f)()(function(v){return v[1]});r.push([Xe.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n.monaco-editor .zone-widget {\n\tposition: absolute;\n\tz-index: 10;\n}\n\n\n.monaco-editor .zone-widget .zone-widget-container {\n\tborder-top-style: solid;\n\tborder-bottom-style: solid;\n\tborder-top-width: 0;\n\tborder-bottom-width: 0;\n\tposition: relative;\n}\n",""]);const y=r},21556:(Xe,we,e)=>{e.d(we,{Z:()=>y});var f=e(71451),r=e.n(f)()(function(v){return v[1]});r.push([Xe.id,'/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .iPadShowKeyboard {\n\twidth: 58px;\n\tmin-width: 0;\n\theight: 36px;\n\tmin-height: 0;\n\tmargin: 0;\n\tpadding: 0;\n\tposition: absolute;\n\tresize: none;\n\toverflow: hidden;\n\tbackground: url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTMiIGhlaWdodD0iMzYiIHZpZXdCb3g9IjAgMCA1MyAzNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAwKSI+CjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNNDguMDM2NCA0LjAxMDQySDQuMDA3NzlMNC4wMDc3OSAzMi4wMjg2SDQ4LjAzNjRWNC4wMTA0MlpNNC4wMDc3OSAwLjAwNzgxMjVDMS43OTcyMSAwLjAwNzgxMjUgMC4wMDUxODc5OSAxLjc5OTg0IDAuMDA1MTg3OTkgNC4wMTA0MlYzMi4wMjg2QzAuMDA1MTg3OTkgMzQuMjM5MiAxLjc5NzIxIDM2LjAzMTIgNC4wMDc3OSAzNi4wMzEySDQ4LjAzNjRDNTAuMjQ3IDM2LjAzMTIgNTIuMDM5IDM0LjIzOTIgNTIuMDM5IDMyLjAyODZWNC4wMTA0MkM1Mi4wMzkgMS43OTk4NCA1MC4yNDcgMC4wMDc4MTI1IDQ4LjAzNjQgMC4wMDc4MTI1SDQuMDA3NzlaTTguMDEwNDIgOC4wMTMwMkgxMi4wMTNWMTIuMDE1Nkg4LjAxMDQyVjguMDEzMDJaTTIwLjAxODIgOC4wMTMwMkgxNi4wMTU2VjEyLjAxNTZIMjAuMDE4MlY4LjAxMzAyWk0yNC4wMjA4IDguMDEzMDJIMjguMDIzNFYxMi4wMTU2SDI0LjAyMDhWOC4wMTMwMlpNMzYuMDI4NiA4LjAxMzAySDMyLjAyNlYxMi4wMTU2SDM2LjAyODZWOC4wMTMwMlpNNDAuMDMxMiA4LjAxMzAySDQ0LjAzMzlWMTIuMDE1Nkg0MC4wMzEyVjguMDEzMDJaTTE2LjAxNTYgMTYuMDE4Mkg4LjAxMDQyVjIwLjAyMDhIMTYuMDE1NlYxNi4wMTgyWk0yMC4wMTgyIDE2LjAxODJIMjQuMDIwOFYyMC4wMjA4SDIwLjAxODJWMTYuMDE4MlpNMzIuMDI2IDE2LjAxODJIMjguMDIzNFYyMC4wMjA4SDMyLjAyNlYxNi4wMTgyWk00NC4wMzM5IDE2LjAxODJWMjAuMDIwOEgzNi4wMjg2VjE2LjAxODJINDQuMDMzOVpNMTIuMDEzIDI0LjAyMzRIOC4wMTA0MlYyOC4wMjZIMTIuMDEzVjI0LjAyMzRaTTE2LjAxNTYgMjQuMDIzNEgzNi4wMjg2VjI4LjAyNkgxNi4wMTU2VjI0LjAyMzRaTTQ0LjAzMzkgMjQuMDIzNEg0MC4wMzEyVjI4LjAyNkg0NC4wMzM5VjI0LjAyMzRaIiBmaWxsPSIjNDI0MjQyIi8+CjwvZz4KPGRlZnM+CjxjbGlwUGF0aCBpZD0iY2xpcDAiPgo8cmVjdCB3aWR0aD0iNTMiIGhlaWdodD0iMzYiIGZpbGw9IndoaXRlIi8+CjwvY2xpcFBhdGg+CjwvZGVmcz4KPC9zdmc+Cg==") center center no-repeat;\n\tborder: 4px solid #F6F6F6;\n\tborder-radius: 4px;\n}\n\n.monaco-editor.vs-dark .iPadShowKeyboard {\n\tbackground: url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTMiIGhlaWdodD0iMzYiIHZpZXdCb3g9IjAgMCA1MyAzNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAwKSI+CjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNNDguMDM2NCA0LjAxMDQySDQuMDA3NzlMNC4wMDc3OSAzMi4wMjg2SDQ4LjAzNjRWNC4wMTA0MlpNNC4wMDc3OSAwLjAwNzgxMjVDMS43OTcyMSAwLjAwNzgxMjUgMC4wMDUxODc5OSAxLjc5OTg0IDAuMDA1MTg3OTkgNC4wMTA0MlYzMi4wMjg2QzAuMDA1MTg3OTkgMzQuMjM5MiAxLjc5NzIxIDM2LjAzMTIgNC4wMDc3OSAzNi4wMzEySDQ4LjAzNjRDNTAuMjQ3IDM2LjAzMTIgNTIuMDM5IDM0LjIzOTIgNTIuMDM5IDMyLjAyODZWNC4wMTA0MkM1Mi4wMzkgMS43OTk4NCA1MC4yNDcgMC4wMDc4MTI1IDQ4LjAzNjQgMC4wMDc4MTI1SDQuMDA3NzlaTTguMDEwNDIgOC4wMTMwMkgxMi4wMTNWMTIuMDE1Nkg4LjAxMDQyVjguMDEzMDJaTTIwLjAxODIgOC4wMTMwMkgxNi4wMTU2VjEyLjAxNTZIMjAuMDE4MlY4LjAxMzAyWk0yNC4wMjA4IDguMDEzMDJIMjguMDIzNFYxMi4wMTU2SDI0LjAyMDhWOC4wMTMwMlpNMzYuMDI4NiA4LjAxMzAySDMyLjAyNlYxMi4wMTU2SDM2LjAyODZWOC4wMTMwMlpNNDAuMDMxMiA4LjAxMzAySDQ0LjAzMzlWMTIuMDE1Nkg0MC4wMzEyVjguMDEzMDJaTTE2LjAxNTYgMTYuMDE4Mkg4LjAxMDQyVjIwLjAyMDhIMTYuMDE1NlYxNi4wMTgyWk0yMC4wMTgyIDE2LjAxODJIMjQuMDIwOFYyMC4wMjA4SDIwLjAxODJWMTYuMDE4MlpNMzIuMDI2IDE2LjAxODJIMjguMDIzNFYyMC4wMjA4SDMyLjAyNlYxNi4wMTgyWk00NC4wMzM5IDE2LjAxODJWMjAuMDIwOEgzNi4wMjg2VjE2LjAxODJINDQuMDMzOVpNMTIuMDEzIDI0LjAyMzRIOC4wMTA0MlYyOC4wMjZIMTIuMDEzVjI0LjAyMzRaTTE2LjAxNTYgMjQuMDIzNEgzNi4wMjg2VjI4LjAyNkgxNi4wMTU2VjI0LjAyMzRaTTQ0LjAzMzkgMjQuMDIzNEg0MC4wMzEyVjI4LjAyNkg0NC4wMzM5VjI0LjAyMzRaIiBmaWxsPSIjQzVDNUM1Ii8+CjwvZz4KPGRlZnM+CjxjbGlwUGF0aCBpZD0iY2xpcDAiPgo8cmVjdCB3aWR0aD0iNTMiIGhlaWdodD0iMzYiIGZpbGw9IndoaXRlIi8+CjwvY2xpcFBhdGg+CjwvZGVmcz4KPC9zdmc+Cg==") center center no-repeat;\n\tborder: 4px solid #252526;\n}',""]);const y=r},75189:(Xe,we,e)=>{e.d(we,{Z:()=>y});var f=e(71451),r=e.n(f)()(function(v){return v[1]});r.push([Xe.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .tokens-inspect-widget {\n\tz-index: 50;\n\tuser-select: text;\n\t-webkit-user-select: text;\n\tpadding: 10px;\n\tcolor: var(--vscode-editorHoverWidget-foreground);\n\tbackground-color: var(--vscode-editorHoverWidget-background);\n\tborder: 1px solid var(--vscode-editorHoverWidget-border);\n}\n.monaco-editor.hc-black .tokens-inspect-widget, .monaco-editor.hc-light .tokens-inspect-widget {\n\tborder-width: 2px;\n}\n\n.monaco-editor .tokens-inspect-widget .tokens-inspect-separator {\n\theight: 1px;\n\tborder: 0;\n\tbackground-color: var(--vscode-editorHoverWidget-border);\n}\n\n.monaco-editor .tokens-inspect-widget .tm-token {\n\tfont-family: var(--monaco-monospace-font);\n}\n\n.monaco-editor .tokens-inspect-widget .tm-token-length {\n\tfont-weight: normal;\n\tfont-size: 60%;\n\tfloat: right;\n}\n\n.monaco-editor .tokens-inspect-widget .tm-metadata-table {\n\twidth: 100%;\n}\n\n.monaco-editor .tokens-inspect-widget .tm-metadata-value {\n\tfont-family: var(--monaco-monospace-font);\n\ttext-align: right;\n}\n\n.monaco-editor .tokens-inspect-widget .tm-token-type {\n\tfont-family: var(--monaco-monospace-font);\n}\n",""]);const y=r},93198:(Xe,we,e)=>{e.d(we,{Z:()=>y});var f=e(71451),r=e.n(f)()(function(v){return v[1]});r.push([Xe.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.quick-input-widget {\n\tfont-size: 13px;\n}\n\n.quick-input-widget .monaco-highlighted-label .highlight,\n.quick-input-widget .monaco-highlighted-label .highlight {\n\tcolor: #0066BF;\n}\n\n.vs .quick-input-widget .monaco-list-row.focused .monaco-highlighted-label .highlight,\n.vs .quick-input-widget .monaco-list-row.focused .monaco-highlighted-label .highlight {\n\tcolor: #9DDDFF;\n}\n\n.vs-dark .quick-input-widget .monaco-highlighted-label .highlight,\n.vs-dark .quick-input-widget .monaco-highlighted-label .highlight {\n\tcolor: #0097fb;\n}\n\n.hc-black .quick-input-widget .monaco-highlighted-label .highlight,\n.hc-black .quick-input-widget .monaco-highlighted-label .highlight {\n\tcolor: #F38518;\n}\n\n.hc-light .quick-input-widget .monaco-highlighted-label .highlight,\n.hc-light .quick-input-widget .monaco-highlighted-label .highlight {\n\tcolor: #0F4A85;\n}\n\n.monaco-keybinding > .monaco-keybinding-key {\n\tbackground-color: rgba(221, 221, 221, 0.4);\n\tborder: solid 1px rgba(204, 204, 204, 0.4);\n\tborder-bottom-color: rgba(187, 187, 187, 0.4);\n\tbox-shadow: inset 0 -1px 0 rgba(187, 187, 187, 0.4);\n\tcolor: #555;\n}\n\n.hc-black .monaco-keybinding > .monaco-keybinding-key {\n\tbackground-color: transparent;\n\tborder: solid 1px rgb(111, 195, 223);\n\tbox-shadow: none;\n\tcolor: #fff;\n}\n\n.hc-light .monaco-keybinding > .monaco-keybinding-key {\n\tbackground-color: transparent;\n\tborder: solid 1px #0F4A85;\n\tbox-shadow: none;\n\tcolor: #292929;\n}\n\n.vs-dark .monaco-keybinding > .monaco-keybinding-key {\n\tbackground-color: rgba(128, 128, 128, 0.17);\n\tborder: solid 1px rgba(51, 51, 51, 0.6);\n\tborder-bottom-color: rgba(68, 68, 68, 0.6);\n\tbox-shadow: inset 0 -1px 0 rgba(68, 68, 68, 0.6);\n\tcolor: #ccc;\n}\n",""]);const y=r},70643:(Xe,we,e)=>{e.d(we,{Z:()=>y});var f=e(71451),r=e.n(f)()(function(v){return v[1]});r.push([Xe.id,'/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n\n/* Default standalone editor fonts */\n.monaco-editor {\n\tfont-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "HelveticaNeue-Light", system-ui, "Ubuntu", "Droid Sans", sans-serif;\n\t--monaco-monospace-font: "SF Mono", Monaco, Menlo, Consolas, "Ubuntu Mono", "Liberation Mono", "DejaVu Sans Mono", "Courier New", monospace;\n}\n\n.monaco-menu .monaco-action-bar.vertical .action-item .action-menu-item:focus .action-label {\n\tstroke-width: 1.2px;\n}\n\n.monaco-editor.vs-dark .monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .action-label,\n.monaco-editor.hc-black .monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .action-label,\n.monaco-editor.hc-light .monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .action-label {\n\tstroke-width: 1.2px;\n}\n\n.monaco-hover p {\n\tmargin: 0;\n}\n\n/* See https://github.com/microsoft/monaco-editor/issues/2168#issuecomment-780078600 */\n.monaco-aria-container {\n\tposition: absolute !important;\n\ttop: 0; /* avoid being placed underneath a sibling element */\n\theight: 1px;\n\twidth: 1px;\n\tmargin: -1px;\n\toverflow: hidden;\n\tpadding: 0;\n\tclip: rect(1px, 1px, 1px, 1px);\n\tclip-path: inset(50%);\n}\n\n/*.monaco-editor.vs [tabindex="0"]:focus {\n\toutline: 1px solid rgba(0, 122, 204, 0.4);\n\toutline-offset: -1px;\n\topacity: 1 !important;\n}\n\n.monaco-editor.vs-dark [tabindex="0"]:focus {\n\toutline: 1px solid rgba(14, 99, 156, 0.6);\n\toutline-offset: -1px;\n\topacity: 1 !important;\n}*/\n',""]);const y=r},90711:(Xe,we,e)=>{e.d(we,{Z:()=>y});var f=e(71451),r=e.n(f)()(function(v){return v[1]});r.push([Xe.id,'/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.action-widget {\n\tfont-size: 13px;\n\tborder-radius: 0;\n\tmin-width: 160px;\n\tmax-width: 80vw;\n\tz-index: 40;\n\tdisplay: block;\n\twidth: 100%;\n\tborder: 1px solid var(--vscode-editorWidget-border) !important;\n\tborder-radius: 2px;\n\tbackground-color: var(--vscode-editorWidget-background);\n\tcolor: var(--vscode-editorWidget-foreground);\n}\n\n.context-view-block {\n\tposition: fixed;\n\tcursor: initial;\n\tleft: 0;\n\ttop: 0;\n\twidth: 100%;\n\theight: 100%;\n\tz-index: -1;\n}\n\n.context-view-pointerBlock {\n\tposition: fixed;\n\tcursor: initial;\n\tleft: 0;\n\ttop: 0;\n\twidth: 100%;\n\theight: 100%;\n\tz-index: 2;\n}\n\n.action-widget .monaco-list {\n\tuser-select: none;\n\t-webkit-user-select: none;\n\tborder: none !important;\n\tborder-width: 0 !important;\n}\n\n.action-widget .monaco-list:focus:before {\n\toutline: 0 !important;\n}\n\n.action-widget .monaco-list .monaco-scrollable-element {\n\toverflow: visible;\n}\n\n/** Styles for each row in the list element **/\n.action-widget .monaco-list .monaco-list-row {\n\tpadding: 0 10px;\n\twhite-space: nowrap;\n\tcursor: pointer;\n\ttouch-action: none;\n\twidth: 100%;\n}\n\n.action-widget .monaco-list .monaco-list-row.action.focused:not(.option-disabled) {\n\tbackground-color: var(--vscode-quickInputList-focusBackground) !important;\n\tcolor: var(--vscode-quickInputList-focusForeground);\n\toutline: 1px solid var(--vscode-menu-selectionBorder, transparent);\n\toutline-offset: -1px;\n}\n\n.action-widget .monaco-list-row.group-header {\n\tcolor: var(--vscode-descriptionForeground) !important;\n\tfont-weight: 600;\n}\n\n.action-widget .monaco-list .group-header,\n.action-widget .monaco-list .option-disabled,\n.action-widget .monaco-list .option-disabled:before,\n.action-widget .monaco-list .option-disabled .focused,\n.action-widget .monaco-list .option-disabled .focused:before {\n\tcursor: default !important;\n\t-webkit-touch-callout: none;\n\t-webkit-user-select: none;\n\tuser-select: none;\n\tbackground-color: transparent !important;\n\toutline: 0 solid !important;\n}\n\n.action-widget .monaco-list-row.action {\n\tdisplay: flex;\n\tgap: 6px;\n\talign-items: center;\n}\n\n.action-widget .monaco-list-row.action.option-disabled,\n.action-widget .monaco-list:focus .monaco-list-row.focused.action.option-disabled,\n.action-widget .monaco-list-row.action.option-disabled .codicon,\n.action-widget .monaco-list:not(.drop-target):not(.dragging) .monaco-list-row:hover:not(.selected):not(.focused).option-disabled {\n\tcolor: var(--vscode-disabledForeground);\n}\n\n\n.action-widget .monaco-list-row.action:not(.option-disabled) .codicon {\n\tcolor: inherit;\n}\n\n.action-widget .monaco-list-row.action .title {\n\tflex: 1;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n}\n\n/* Action bar */\n\n.action-widget .action-widget-action-bar {\n\tbackground-color: var(--vscode-editorHoverWidget-statusBarBackground);\n\tborder-top: 1px solid var(--vscode-editorHoverWidget-border);\n}\n\n.action-widget .action-widget-action-bar::before {\n\tdisplay: block;\n\tcontent: "";\n\twidth: 100%;\n}\n\n.action-widget .action-widget-action-bar .actions-container {\n\tpadding: 0 8px;\n}\n\n.action-widget-action-bar .action-label {\n\tcolor: var(--vscode-textLink-activeForeground);\n\tfont-size: 12px;\n\tline-height: 22px;\n\tpadding: 0;\n\tpointer-events: all;\n}\n\n.action-widget-action-bar .action-item {\n\tmargin-right: 16px;\n\tpointer-events: none;\n}\n\n.action-widget-action-bar .action-label:hover {\n\tbackground-color: transparent !important;\n}\n\n.monaco-action-bar .actions-container.highlight-toggled .action-label.checked {\n\t/* The important gives this rule precedence over the hover rule. */\n\tbackground: var(--vscode-actionBar-toggledBackground) !important;\n}\n',""]);const y=r},51854:(Xe,we,e)=>{e.d(we,{Z:()=>y});var f=e(71451),r=e.n(f)()(function(v){return v[1]});r.push([Xe.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-action-bar .action-item.menu-entry .action-label.icon {\n\twidth: 16px;\n\theight: 16px;\n\tbackground-repeat: no-repeat;\n\tbackground-position: 50%;\n\tbackground-size: 16px;\n}\n\n.monaco-dropdown-with-default {\n\tdisplay: flex !important;\n\tflex-direction: row;\n\tborder-radius: 5px;\n}\n\n.monaco-dropdown-with-default > .action-container > .action-label {\n\tmargin-right: 0;\n}\n\n.monaco-dropdown-with-default > .action-container.menu-entry > .action-label.icon {\n\twidth: 16px;\n\theight: 16px;\n\tbackground-repeat: no-repeat;\n\tbackground-position: 50%;\n\tbackground-size: 16px;\n}\n\n.monaco-dropdown-with-default > .dropdown-action-container > .monaco-dropdown > .dropdown-label .codicon[class*='codicon-'] {\n\tfont-size: 12px;\n\tpadding-left: 0px;\n\tpadding-right: 0px;\n\tline-height: 16px;\n\tmargin-left: -3px;\n}\n\n.monaco-dropdown-with-default > .dropdown-action-container > .monaco-dropdown > .dropdown-label > .action-label {\n\tdisplay: block;\n\tbackground-size: 16px;\n\tbackground-position: center center;\n\tbackground-repeat: no-repeat;\n}\n",""]);const y=r},57150:(Xe,we,e)=>{e.d(we,{Z:()=>y});var f=e(71451),r=e.n(f)()(function(v){return v[1]});r.push([Xe.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-link {\n\tcolor: var(--vscode-textLink-foreground);\n}\n\n.monaco-link:hover {\n\tcolor: var(--vscode-textLink-activeForeground);\n}\n\n",""]);const y=r},51961:(Xe,we,e)=>{e.d(we,{Z:()=>y});var f=e(71451),r=e.n(f)()(function(v){return v[1]});r.push([Xe.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.quick-input-widget {\n\tposition: absolute;\n\twidth: 600px;\n\tz-index: 2550;\n\tleft: 50%;\n\tmargin-left: -300px;\n\t-webkit-app-region: no-drag;\n\tborder-radius: 6px;\n}\n\n.quick-input-titlebar {\n\tdisplay: flex;\n\talign-items: center;\n\tborder-top-left-radius: 5px; /* match border radius of quick input widget */\n\tborder-top-right-radius: 5px;\n}\n\n.quick-input-left-action-bar {\n\tdisplay: flex;\n\tmargin-left: 4px;\n\tflex: 1;\n}\n\n.quick-input-title {\n\tpadding: 3px 0px;\n\ttext-align: center;\n\ttext-overflow: ellipsis;\n\toverflow: hidden;\n}\n\n.quick-input-right-action-bar {\n\tdisplay: flex;\n\tmargin-right: 4px;\n\tflex: 1;\n}\n\n.quick-input-right-action-bar > .actions-container {\n\tjustify-content: flex-end;\n}\n\n.quick-input-titlebar .monaco-action-bar .action-label.codicon {\n\tbackground-position: center;\n\tbackground-repeat: no-repeat;\n\tpadding: 2px;\n}\n\n.quick-input-description {\n\tmargin: 6px 6px 6px 11px;\n}\n\n.quick-input-header .quick-input-description {\n\tmargin: 4px 2px;\n\tflex: 1;\n}\n\n.quick-input-header {\n\tdisplay: flex;\n\tpadding: 8px 6px 6px 6px;\n}\n\n.quick-input-widget.hidden-input .quick-input-header {\n\t/* reduce margins and paddings when input box hidden */\n\tpadding: 0;\n\tmargin-bottom: 0;\n}\n\n.quick-input-and-message {\n\tdisplay: flex;\n\tflex-direction: column;\n\tflex-grow: 1;\n\tmin-width: 0;\n\tposition: relative;\n}\n\n.quick-input-check-all {\n\talign-self: center;\n\tmargin: 0;\n}\n\n.quick-input-filter {\n\tflex-grow: 1;\n\tdisplay: flex;\n\tposition: relative;\n}\n\n.quick-input-box {\n\tflex-grow: 1;\n}\n\n.quick-input-widget.show-checkboxes .quick-input-box,\n.quick-input-widget.show-checkboxes .quick-input-message {\n\tmargin-left: 5px;\n}\n\n.quick-input-visible-count {\n\tposition: absolute;\n\tleft: -10000px;\n}\n\n.quick-input-count {\n\talign-self: center;\n\tposition: absolute;\n\tright: 4px;\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.quick-input-count .monaco-count-badge {\n\tvertical-align: middle;\n\tpadding: 2px 4px;\n\tborder-radius: 2px;\n\tmin-height: auto;\n\tline-height: normal;\n}\n\n.quick-input-action {\n\tmargin-left: 6px;\n}\n\n.quick-input-action .monaco-text-button {\n\tfont-size: 11px;\n\tpadding: 0 6px;\n\tdisplay: flex;\n\theight: 25px;\n\talign-items: center;\n}\n\n.quick-input-message {\n\tmargin-top: -1px;\n\tpadding: 5px;\n\toverflow-wrap: break-word;\n}\n\n.quick-input-message > .codicon {\n\tmargin: 0 0.2em;\n\tvertical-align: text-bottom;\n}\n\n/* Links in descriptions & validations */\n.quick-input-message a {\n\tcolor: inherit;\n}\n\n.quick-input-progress.monaco-progress-container {\n\tposition: relative;\n}\n\n.quick-input-progress.monaco-progress-container,\n.quick-input-progress.monaco-progress-container .progress-bit {\n\theight: 2px;\n}\n\n.quick-input-list {\n\tline-height: 22px;\n}\n\n.quick-input-widget.hidden-input .quick-input-list {\n\tmargin-top: 4px; /* reduce margins when input box hidden */\n\tpadding-bottom: 4px;\n}\n\n.quick-input-list .monaco-list {\n\toverflow: hidden;\n\tmax-height: calc(20 * 22px);\n\tpadding-bottom: 5px;\n}\n\n.quick-input-list .monaco-scrollable-element {\n\tpadding: 0px 5px;\n}\n\n.quick-input-list .quick-input-list-entry {\n\tbox-sizing: border-box;\n\toverflow: hidden;\n\tdisplay: flex;\n\theight: 100%;\n\tpadding: 0 6px;\n}\n\n.quick-input-list .quick-input-list-entry.quick-input-list-separator-border {\n\tborder-top-width: 1px;\n\tborder-top-style: solid;\n}\n\n.quick-input-list .monaco-list-row {\n\tborder-radius: 3px;\n}\n\n.quick-input-list .monaco-list-row[data-index=\"0\"] .quick-input-list-entry.quick-input-list-separator-border {\n\tborder-top-style: none;\n}\n\n.quick-input-list .quick-input-list-label {\n\toverflow: hidden;\n\tdisplay: flex;\n\theight: 100%;\n\tflex: 1;\n}\n\n.quick-input-list .quick-input-list-checkbox {\n\talign-self: center;\n\tmargin: 0;\n}\n\n.quick-input-list .quick-input-list-icon {\n\tbackground-size: 16px;\n\tbackground-position: left center;\n\tbackground-repeat: no-repeat;\n\tpadding-right: 6px;\n\twidth: 16px;\n\theight: 22px;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n\n.quick-input-list .quick-input-list-rows {\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\tdisplay: flex;\n\tflex-direction: column;\n\theight: 100%;\n\tflex: 1;\n\tmargin-left: 5px;\n}\n\n.quick-input-widget.show-checkboxes .quick-input-list .quick-input-list-rows {\n\tmargin-left: 10px;\n}\n\n.quick-input-widget .quick-input-list .quick-input-list-checkbox {\n\tdisplay: none;\n}\n.quick-input-widget.show-checkboxes .quick-input-list .quick-input-list-checkbox {\n\tdisplay: inline;\n}\n\n.quick-input-list .quick-input-list-rows > .quick-input-list-row {\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.quick-input-list .quick-input-list-rows > .quick-input-list-row .monaco-icon-label,\n.quick-input-list .quick-input-list-rows > .quick-input-list-row .monaco-icon-label .monaco-icon-label-container > .monaco-icon-name-container {\n\tflex: 1; /* make sure the icon label grows within the row */\n}\n\n.quick-input-list .quick-input-list-rows > .quick-input-list-row .codicon[class*='codicon-'] {\n\tvertical-align: text-bottom;\n}\n\n.quick-input-list .quick-input-list-rows .monaco-highlighted-label > span {\n\topacity: 1;\n}\n\n.quick-input-list .quick-input-list-entry .quick-input-list-entry-keybinding {\n\tmargin-right: 8px; /* separate from the separator label or scrollbar if any */\n}\n\n.quick-input-list .quick-input-list-label-meta {\n\topacity: 0.7;\n\tline-height: normal;\n\ttext-overflow: ellipsis;\n\toverflow: hidden;\n}\n\n.quick-input-list .monaco-highlighted-label .highlight {\n\tfont-weight: bold;\n}\n\n.quick-input-list .quick-input-list-entry .quick-input-list-separator {\n\tmargin-right: 4px; /* separate from keybindings or actions */\n}\n\n.quick-input-list .quick-input-list-entry-action-bar {\n\tdisplay: flex;\n\tflex: 0;\n\toverflow: visible;\n}\n\n.quick-input-list .quick-input-list-entry-action-bar .action-label {\n\t/*\n\t * By default, actions in the quick input action bar are hidden\n\t * until hovered over them or selected.\n\t */\n\tdisplay: none;\n}\n\n.quick-input-list .quick-input-list-entry-action-bar .action-label.codicon {\n\tmargin-right: 4px;\n\tpadding: 0px 2px 2px 2px;\n}\n\n.quick-input-list .quick-input-list-entry-action-bar {\n\tmargin-top: 1px;\n}\n\n.quick-input-list .quick-input-list-entry-action-bar {\n\tmargin-right: 4px; /* separate from scrollbar */\n}\n\n.quick-input-list .quick-input-list-entry .quick-input-list-entry-action-bar .action-label.always-visible,\n.quick-input-list .quick-input-list-entry:hover .quick-input-list-entry-action-bar .action-label,\n.quick-input-list .monaco-list-row.focused .quick-input-list-entry-action-bar .action-label {\n\tdisplay: flex;\n}\n\n/* focused items in quick pick */\n.quick-input-list .monaco-list-row.focused .monaco-keybinding-key,\n.quick-input-list .monaco-list-row.focused .quick-input-list-entry .quick-input-list-separator {\n\tcolor: inherit\n}\n.quick-input-list .monaco-list-row.focused .monaco-keybinding-key {\n\tbackground: none;\n}\n\n/* Quick input separators as full-row item */\n.quick-input-list .quick-input-list-separator-as-item {\n\tfont-weight: 600;\n\tfont-size: 12px;\n}\n",""]);const y=r},81050:(Xe,we,e)=>{e.d(we,{Z:()=>y});var f=e(71451),r=e.n(f)()(function(v){return v[1]});r.push([Xe.id,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n.monaco-editor .zone-widget .codicon.codicon-error,\n.markers-panel .marker-icon.error, .markers-panel .marker-icon .codicon.codicon-error,\n.text-search-provider-messages .providerMessage .codicon.codicon-error,\n.extensions-viewlet > .extensions .codicon.codicon-error,\n.extension-editor .codicon.codicon-error,\n.preferences-editor .codicon.codicon-error {\n\tcolor: var(--vscode-problemsErrorIcon-foreground);\n}\n\n.monaco-editor .zone-widget .codicon.codicon-warning,\n.markers-panel .marker-icon.warning, .markers-panel .marker-icon .codicon.codicon-warning,\n.text-search-provider-messages .providerMessage .codicon.codicon-warning,\n.extensions-viewlet > .extensions .codicon.codicon-warning,\n.extension-editor .codicon.codicon-warning,\n.preferences-editor .codicon.codicon-warning {\n\tcolor: var(--vscode-problemsWarningIcon-foreground);\n}\n\n.monaco-editor .zone-widget .codicon.codicon-info,\n.markers-panel .marker-icon.info, .markers-panel .marker-icon .codicon.codicon-info,\n.text-search-provider-messages .providerMessage .codicon.codicon-info,\n.extensions-viewlet > .extensions .codicon.codicon-info,\n.extension-editor .codicon.codicon-info,\n.preferences-editor .codicon.codicon-info {\n\tcolor: var(--vscode-problemsInfoIcon-foreground);\n}\n",""]);const y=r},75408:(Xe,we,e)=>{var f=e(93379),P=e.n(f),r=e(7795),y=e.n(r),v=e(90569),S=e.n(v),T=e(3565),E=e.n(T),L=e(19216),p=e.n(L),c=e(44589),u=e.n(c),g=e(32757),i={};i.styleTagTransform=u(),i.setAttributes=E(),i.insert=S().bind(null,"head"),i.domAPI=y(),i.insertStyleElement=p(),P()(g.Z,i)},30340:(Xe,we,e)=>{var f=e(93379),P=e.n(f),r=e(7795),y=e.n(r),v=e(90569),S=e.n(v),T=e(3565),E=e.n(T),L=e(19216),p=e.n(L),c=e(44589),u=e.n(c),g=e(96266),i={};i.styleTagTransform=u(),i.setAttributes=E(),i.insert=S().bind(null,"head"),i.domAPI=y(),i.insertStyleElement=p(),P()(g.Z,i)},33164:(Xe,we,e)=>{var f=e(93379),P=e.n(f),r=e(7795),y=e.n(r),v=e(90569),S=e.n(v),T=e(3565),E=e.n(T),L=e(19216),p=e.n(L),c=e(44589),u=e.n(c),g=e(27703),i={};i.styleTagTransform=u(),i.setAttributes=E(),i.insert=S().bind(null,"head"),i.domAPI=y(),i.insertStyleElement=p(),P()(g.Z,i)},39587:(Xe,we,e)=>{var f=e(93379),P=e.n(f),r=e(7795),y=e.n(r),v=e(90569),S=e.n(v),T=e(3565),E=e.n(T),L=e(19216),p=e.n(L),c=e(44589),u=e.n(c),g=e(22313),i={};i.styleTagTransform=u(),i.setAttributes=E(),i.insert=S().bind(null,"head"),i.domAPI=y(),i.insertStyleElement=p(),P()(g.Z,i)},93379:Xe=>{var we=[];function e(r){for(var y=-1,v=0;v<we.length;v++)if(we[v].identifier===r){y=v;break}return y}function f(r,y){for(var v={},S=[],T=0;T<r.length;T++){var E=r[T],L=y.base?E[0]+y.base:E[0],p=v[L]||0,c="".concat(L," ").concat(p);v[L]=p+1;var u=e(c),g={css:E[1],media:E[2],sourceMap:E[3],supports:E[4],layer:E[5]};if(-1!==u)we[u].references++,we[u].updater(g);else{var i=P(g,y);y.byIndex=T,we.splice(T,0,{identifier:c,updater:i,references:1})}S.push(c)}return S}function P(r,y){var v=y.domAPI(y);return v.update(r),function(E){if(E){if(E.css===r.css&&E.media===r.media&&E.sourceMap===r.sourceMap&&E.supports===r.supports&&E.layer===r.layer)return;v.update(r=E)}else v.remove()}}Xe.exports=function(r,y){var v=f(r=r||[],y=y||{});return function(T){T=T||[];for(var E=0;E<v.length;E++){var p=e(v[E]);we[p].references--}for(var c=f(T,y),u=0;u<v.length;u++){var i=e(v[u]);0===we[i].references&&(we[i].updater(),we.splice(i,1))}v=c}}},90569:Xe=>{var we={};Xe.exports=function f(P,r){var y=function e(P){if(typeof we[P]>"u"){var r=document.querySelector(P);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch{r=null}we[P]=r}return we[P]}(P);if(!y)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");y.appendChild(r)}},19216:Xe=>{Xe.exports=function we(e){var f=document.createElement("style");return e.setAttributes(f,e.attributes),e.insert(f,e.options),f}},3565:(Xe,we,e)=>{Xe.exports=function f(P){var r=e.nc;r&&P.setAttribute("nonce",r)}},7795:Xe=>{Xe.exports=function f(P){if(typeof document>"u")return{update:function(){},remove:function(){}};var r=P.insertStyleElement(P);return{update:function(v){!function we(P,r,y){var v="";y.supports&&(v+="@supports (".concat(y.supports,") {")),y.media&&(v+="@media ".concat(y.media," {"));var S=typeof y.layer<"u";S&&(v+="@layer".concat(y.layer.length>0?" ".concat(y.layer):""," {")),v+=y.css,S&&(v+="}"),y.media&&(v+="}"),y.supports&&(v+="}");var T=y.sourceMap;T&&typeof btoa<"u"&&(v+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(T))))," */")),r.styleTagTransform(v,P,r.options)}(r,P,v)},remove:function(){!function e(P){if(null===P.parentNode)return!1;P.parentNode.removeChild(P)}(r)}}}},44589:Xe=>{Xe.exports=function we(e,f){if(f.styleSheet)f.styleSheet.cssText=e;else{for(;f.firstChild;)f.removeChild(f.firstChild);f.appendChild(document.createTextNode(e))}}},73251:(Xe,we,e)=>{Xe.exports=e.p+"ecfbfe4be11d3321.ttf"}}]);